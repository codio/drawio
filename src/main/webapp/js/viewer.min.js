window.PROXY_URL=window.PROXY_URL||"https://viewer.diagrams.net/proxy";window.STYLE_PATH=window.STYLE_PATH||"https://viewer.diagrams.net/styles";window.SHAPES_PATH=window.SHAPES_PATH||"https://viewer.diagrams.net/shapes";window.STENCIL_PATH=window.STENCIL_PATH||"https://viewer.diagrams.net/stencils";window.DRAW_MATH_URL=window.DRAW_MATH_URL||"https://viewer.diagrams.net/math/es5";window.GRAPH_IMAGE_PATH=window.GRAPH_IMAGE_PATH||"https://viewer.diagrams.net/img";
window.mxImageBasePath=window.mxImageBasePath||"https://viewer.diagrams.net/mxgraph/images";window.mxBasePath=window.mxBasePath||"https://viewer.diagrams.net/mxgraph/";window.mxLoadStylesheets=window.mxLoadStylesheets||!1;
//fgnass.github.com/spin.js#v2.0.0
!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=j.substring(0,j.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return l[e]||(m.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",m.cssRules.length),l[e]=1),e}function d(a,b){var c,d,e=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<k.length;d++)if(c=k[d]+b,void 0!==e[c])return c;return void 0!==e[b]?b:void 0}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a,b){return"string"==typeof a?a:a[b%a.length]}function h(a){this.opts=f(a||{},h.defaults,n)}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}m.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function h(a,h,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~h}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.width,left:d.radius,top:-d.width>>1,filter:i}),c("fill",{color:g(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.length+d.width,k=2*j,l=2*-(d.width+d.length)+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)h(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)h(i);return b(a,m)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var j,k=["webkit","Moz","ms","O"],l={},m=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};h.defaults={},f(h.prototype,{spin:function(b){this.stop();{var c=this,d=c.opts,f=c.el=e(a(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});d.radius+d.length+d.width}if(b&&(b.insertBefore(f,b.firstChild||null),e(f,{left:d.left,top:d.top})),f.setAttribute("role","progressbar"),c.lines(f,c.opts),!j){var g,h=0,i=(d.lines-1)*(1-d.direction)/2,k=d.fps,l=k/d.speed,m=(1-d.opacity)/(l*d.trail/100),n=l/d.lines;!function o(){h++;for(var a=0;a<d.lines;a++)g=Math.max(1-(h+(d.lines-a)*n)%l*m,d.opacity),c.opacity(f,a*d.direction+i,g,d);c.timeout=c.el&&setTimeout(o,~~(1e3/k))}()}return c},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function h(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*k+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var i,k=0,l=(f.lines-1)*(1-f.direction)/2;k<f.lines;k++)i=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:j&&c(f.opacity,f.trail,l+k*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(h("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,h(g(f.color,k),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var o=e(a("group"),{behavior:"url(#default#VML)"});return!d(o,"transform")&&o.adj?i():j=d(o,"animation"),h});
/*! @license DOMPurify 3.0.9 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.9/LICENSE */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,(function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:r}=Object;let{freeze:i,seal:a,create:l}=Object,{apply:c,construct:s}="undefined"!=typeof Reflect&&Reflect;i||(i=function(e){return e}),a||(a=function(e){return e}),c||(c=function(e,t,n){return e.apply(t,n)}),s||(s=function(e,t){return new e(...t)});const u=N(Array.prototype.forEach),m=N(Array.prototype.pop),f=N(Array.prototype.push),p=N(String.prototype.toLowerCase),d=N(String.prototype.toString),h=N(String.prototype.match),g=N(String.prototype.replace),T=N(String.prototype.indexOf),y=N(String.prototype.trim),E=N(Object.prototype.hasOwnProperty),A=N(RegExp.prototype.test),_=(b=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(b,t)});var b;function N(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return c(e,t,o)}}function S(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;t&&t(e,null);let i=o.length;for(;i--;){let t=o[i];if("string"==typeof t){const e=r(t);e!==t&&(n(o)||(o[i]=e),t=e)}e[t]=!0}return e}function R(e){for(let t=0;t<e.length;t++){E(e,t)||(e[t]=null)}return e}function w(t){const n=l(null);for(const[o,r]of e(t)){E(t,o)&&(Array.isArray(r)?n[o]=R(r):r&&"object"==typeof r&&r.constructor===Object?n[o]=w(r):n[o]=r)}return n}function D(e,t){for(;null!==e;){const n=r(e,t);if(n){if(n.get)return N(n.get);if("function"==typeof n.value)return N(n.value)}e=o(e)}return function(){return null}}const L=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),x=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),v=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),C=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),k=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),O=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),I=i(["#text"]),M=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),U=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z=a(/<%[\w\W]*|[\w\W]*%>/gm),B=a(/\${[\w\W]*}/gm),W=a(/^data-[\-\w.\u00B7-\uFFFF]/),G=a(/^aria-[\-\w]+$/),Y=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),j=a(/^(?:\w+script|data):/i),q=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),X=a(/^html$/i);var K=Object.freeze({__proto__:null,MUSTACHE_EXPR:H,ERB_EXPR:z,TMPLIT_EXPR:B,DATA_ATTR:W,ARIA_ATTR:G,IS_ALLOWED_URI:Y,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:q,DOCTYPE_NAME:X});const V=function(){return"undefined"==typeof window?null:window},$=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var Z=function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();const o=e=>t(e);if(o.version="3.0.9",o.removed=[],!n||!n.document||9!==n.document.nodeType)return o.isSupported=!1,o;let{document:r}=n;const a=r,c=a.currentScript,{DocumentFragment:s,HTMLTemplateElement:b,Node:N,Element:R,NodeFilter:H,NamedNodeMap:z=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:B,DOMParser:W,trustedTypes:G}=n,j=R.prototype,q=D(j,"cloneNode"),Z=D(j,"nextSibling"),J=D(j,"childNodes"),Q=D(j,"parentNode");if("function"==typeof b){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let ee,te="";const{implementation:ne,createNodeIterator:oe,createDocumentFragment:re,getElementsByTagName:ie}=r,{importNode:ae}=a;let le={};o.isSupported="function"==typeof e&&"function"==typeof Q&&ne&&void 0!==ne.createHTMLDocument;const{MUSTACHE_EXPR:ce,ERB_EXPR:se,TMPLIT_EXPR:ue,DATA_ATTR:me,ARIA_ATTR:fe,IS_SCRIPT_OR_DATA:pe,ATTR_WHITESPACE:de}=K;let{IS_ALLOWED_URI:he}=K,ge=null;const Te=S({},[...L,...x,...v,...k,...I]);let ye=null;const Ee=S({},[...M,...U,...P,...F]);let Ae=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_e=null,be=null,Ne=!0,Se=!0,Re=!1,we=!0,De=!1,Le=!1,xe=!1,ve=!1,Ce=!1,ke=!1,Oe=!1,Ie=!0,Me=!1;const Ue="user-content-";let Pe=!0,Fe=!1,He={},ze=null;const Be=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let We=null;const Ge=S({},["audio","video","img","source","image","track"]);let Ye=null;const je=S({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qe="http://www.w3.org/1998/Math/MathML",Xe="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml";let Ve=Ke,$e=!1,Ze=null;const Je=S({},[qe,Xe,Ke],d);let Qe=null;const et=["application/xhtml+xml","text/html"],tt="text/html";let nt=null,ot=null;const rt=r.createElement("form"),it=function(e){return e instanceof RegExp||e instanceof Function},at=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ot||ot!==e){if(e&&"object"==typeof e||(e={}),e=w(e),Qe=-1===et.indexOf(e.PARSER_MEDIA_TYPE)?tt:e.PARSER_MEDIA_TYPE,nt="application/xhtml+xml"===Qe?d:p,ge=E(e,"ALLOWED_TAGS")?S({},e.ALLOWED_TAGS,nt):Te,ye=E(e,"ALLOWED_ATTR")?S({},e.ALLOWED_ATTR,nt):Ee,Ze=E(e,"ALLOWED_NAMESPACES")?S({},e.ALLOWED_NAMESPACES,d):Je,Ye=E(e,"ADD_URI_SAFE_ATTR")?S(w(je),e.ADD_URI_SAFE_ATTR,nt):je,We=E(e,"ADD_DATA_URI_TAGS")?S(w(Ge),e.ADD_DATA_URI_TAGS,nt):Ge,ze=E(e,"FORBID_CONTENTS")?S({},e.FORBID_CONTENTS,nt):Be,_e=E(e,"FORBID_TAGS")?S({},e.FORBID_TAGS,nt):{},be=E(e,"FORBID_ATTR")?S({},e.FORBID_ATTR,nt):{},He=!!E(e,"USE_PROFILES")&&e.USE_PROFILES,Ne=!1!==e.ALLOW_ARIA_ATTR,Se=!1!==e.ALLOW_DATA_ATTR,Re=e.ALLOW_UNKNOWN_PROTOCOLS||!1,we=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,De=e.SAFE_FOR_TEMPLATES||!1,Le=e.WHOLE_DOCUMENT||!1,Ce=e.RETURN_DOM||!1,ke=e.RETURN_DOM_FRAGMENT||!1,Oe=e.RETURN_TRUSTED_TYPE||!1,ve=e.FORCE_BODY||!1,Ie=!1!==e.SANITIZE_DOM,Me=e.SANITIZE_NAMED_PROPS||!1,Pe=!1!==e.KEEP_CONTENT,Fe=e.IN_PLACE||!1,he=e.ALLOWED_URI_REGEXP||Y,Ve=e.NAMESPACE||Ke,Ae=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ae.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(Se=!1),ke&&(Ce=!0),He&&(ge=S({},I),ye=[],!0===He.html&&(S(ge,L),S(ye,M)),!0===He.svg&&(S(ge,x),S(ye,U),S(ye,F)),!0===He.svgFilters&&(S(ge,v),S(ye,U),S(ye,F)),!0===He.mathMl&&(S(ge,k),S(ye,P),S(ye,F))),e.ADD_TAGS&&(ge===Te&&(ge=w(ge)),S(ge,e.ADD_TAGS,nt)),e.ADD_ATTR&&(ye===Ee&&(ye=w(ye)),S(ye,e.ADD_ATTR,nt)),e.ADD_URI_SAFE_ATTR&&S(Ye,e.ADD_URI_SAFE_ATTR,nt),e.FORBID_CONTENTS&&(ze===Be&&(ze=w(ze)),S(ze,e.FORBID_CONTENTS,nt)),Pe&&(ge["#text"]=!0),Le&&S(ge,["html","head","body"]),ge.table&&(S(ge,["tbody"]),delete _e.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ee=e.TRUSTED_TYPES_POLICY,te=ee.createHTML("")}else void 0===ee&&(ee=$(G,c)),null!==ee&&"string"==typeof te&&(te=ee.createHTML(""));i&&i(e),ot=e}},lt=S({},["mi","mo","mn","ms","mtext"]),ct=S({},["foreignobject","desc","title","annotation-xml"]),st=S({},["title","style","font","a","script"]),ut=S({},[...x,...v,...C]),mt=S({},[...k,...O]),ft=function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:Ve,tagName:"template"});const n=p(e.tagName),o=p(t.tagName);return!!Ze[e.namespaceURI]&&(e.namespaceURI===Xe?t.namespaceURI===Ke?"svg"===n:t.namespaceURI===qe?"svg"===n&&("annotation-xml"===o||lt[o]):Boolean(ut[n]):e.namespaceURI===qe?t.namespaceURI===Ke?"math"===n:t.namespaceURI===Xe?"math"===n&&ct[o]:Boolean(mt[n]):e.namespaceURI===Ke?!(t.namespaceURI===Xe&&!ct[o])&&(!(t.namespaceURI===qe&&!lt[o])&&(!mt[n]&&(st[n]||!ut[n]))):!("application/xhtml+xml"!==Qe||!Ze[e.namespaceURI]))},pt=function(e){f(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},dt=function(e,t){try{f(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ye[e])if(Ce||ke)try{pt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ht=function(e){let t=null,n=null;if(ve)e="<remove></remove>"+e;else{const t=h(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Qe&&Ve===Ke&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=ee?ee.createHTML(e):e;if(Ve===Ke)try{t=(new W).parseFromString(o,Qe)}catch(e){}if(!t||!t.documentElement){t=ne.createDocument(Ve,"template",null);try{t.documentElement.innerHTML=$e?te:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),Ve===Ke?ie.call(t,Le?"html":"body")[0]:Le?t.documentElement:i},gt=function(e){return oe.call(e.ownerDocument||e,e,H.SHOW_ELEMENT|H.SHOW_COMMENT|H.SHOW_TEXT,null)},Tt=function(e){return e instanceof B&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof z)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},yt=function(e){return"function"==typeof N&&e instanceof N},Et=function(e,t,n){le[e]&&u(le[e],(e=>{e.call(o,t,n,ot)}))},At=function(e){let t=null;if(Et("beforeSanitizeElements",e,null),Tt(e))return pt(e),!0;const n=nt(e.nodeName);if(Et("uponSanitizeElement",e,{tagName:n,allowedTags:ge}),e.hasChildNodes()&&!yt(e.firstElementChild)&&A(/<[/\w]/g,e.innerHTML)&&A(/<[/\w]/g,e.textContent))return pt(e),!0;if(!ge[n]||_e[n]){if(!_e[n]&&bt(n)){if(Ae.tagNameCheck instanceof RegExp&&A(Ae.tagNameCheck,n))return!1;if(Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(n))return!1}if(Pe&&!ze[n]){const t=Q(e)||e.parentNode,n=J(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o)t.insertBefore(q(n[o],!0),Z(e))}}return pt(e),!0}return e instanceof R&&!ft(e)?(pt(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!A(/<\/no(script|embed|frames)/i,e.innerHTML)?(De&&3===e.nodeType&&(t=e.textContent,u([ce,se,ue],(e=>{t=g(t,e," ")})),e.textContent!==t&&(f(o.removed,{element:e.cloneNode()}),e.textContent=t)),Et("afterSanitizeElements",e,null),!1):(pt(e),!0)},_t=function(e,t,n){if(Ie&&("id"===t||"name"===t)&&(n in r||n in rt))return!1;if(Se&&!be[t]&&A(me,t));else if(Ne&&A(fe,t));else if(!ye[t]||be[t]){if(!(bt(e)&&(Ae.tagNameCheck instanceof RegExp&&A(Ae.tagNameCheck,e)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(e))&&(Ae.attributeNameCheck instanceof RegExp&&A(Ae.attributeNameCheck,t)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(t))||"is"===t&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&A(Ae.tagNameCheck,n)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(n))))return!1}else if(Ye[t]);else if(A(he,g(n,de,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==T(n,"data:")||!We[e]){if(Re&&!A(pe,g(n,de,"")));else if(n)return!1}else;return!0},bt=function(e){return"annotation-xml"!==e&&e.indexOf("-")>0},Nt=function(e){Et("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:l,value:c}=i,s=nt(a);let f="value"===a?c:y(c);if(n.attrName=s,n.attrValue=f,n.keepAttr=!0,n.forceKeepAttr=void 0,Et("uponSanitizeAttribute",e,n),f=n.attrValue,n.forceKeepAttr)continue;if(dt(a,e),!n.keepAttr)continue;if(!we&&A(/\/>/i,f)){dt(a,e);continue}De&&u([ce,se,ue],(e=>{f=g(f,e," ")}));const p=nt(e.nodeName);if(_t(p,s,f)){if(!Me||"id"!==s&&"name"!==s||(dt(a,e),f=Ue+f),ee&&"object"==typeof G&&"function"==typeof G.getAttributeType)if(l);else switch(G.getAttributeType(p,s)){case"TrustedHTML":f=ee.createHTML(f);break;case"TrustedScriptURL":f=ee.createScriptURL(f)}try{l?e.setAttributeNS(l,a,f):e.setAttribute(a,f),m(o.removed)}catch(e){}}}Et("afterSanitizeAttributes",e,null)},St=function e(t){let n=null;const o=gt(t);for(Et("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Et("uponSanitizeShadowNode",n,null),At(n)||(n.content instanceof s&&e(n.content),Nt(n));Et("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null,i=null,l=null;if($e=!e,$e&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw _("toString is not a function");if("string"!=typeof(e=e.toString()))throw _("dirty is not a string, aborting")}if(!o.isSupported)return e;if(xe||at(t),o.removed=[],"string"==typeof e&&(Fe=!1),Fe){if(e.nodeName){const t=nt(e.nodeName);if(!ge[t]||_e[t])throw _("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof N)n=ht("\x3c!----\x3e"),r=n.ownerDocument.importNode(e,!0),1===r.nodeType&&"BODY"===r.nodeName||"HTML"===r.nodeName?n=r:n.appendChild(r);else{if(!Ce&&!De&&!Le&&-1===e.indexOf("<"))return ee&&Oe?ee.createHTML(e):e;if(n=ht(e),!n)return Ce?null:Oe?te:""}n&&ve&&pt(n.firstChild);const c=gt(Fe?e:n);for(;i=c.nextNode();)At(i)||(i.content instanceof s&&St(i.content),Nt(i));if(Fe)return e;if(Ce){if(ke)for(l=re.call(n.ownerDocument);n.firstChild;)l.appendChild(n.firstChild);else l=n;return(ye.shadowroot||ye.shadowrootmode)&&(l=ae.call(a,l,!0)),l}let m=Le?n.outerHTML:n.innerHTML;return Le&&ge["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&A(X,n.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+m),De&&u([ce,se,ue],(e=>{m=g(m,e," ")})),ee&&Oe?ee.createHTML(m):m},o.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};at(e),xe=!0},o.clearConfig=function(){ot=null,xe=!1},o.isValidAttribute=function(e,t,n){ot||at({});const o=nt(e),r=nt(t);return _t(o,r,n)},o.addHook=function(e,t){"function"==typeof t&&(le[e]=le[e]||[],f(le[e],t))},o.removeHook=function(e){if(le[e])return m(le[e])},o.removeHooks=function(e){le[e]&&(le[e]=[])},o.removeAllHooks=function(){le={}},o}();return Z}));
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).pako={})}(this,(function(t){"use strict";function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=256,n=286,i=30,r=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new Array(576);e(d);var _=new Array(60);e(_);var f=new Array(512);e(f);var u=new Array(256);e(u);var c=new Array(29);e(c);var w,m,b,g=new Array(i);function p(t,e,a,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function v(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(g);var k=function(t){return t<256?f[t]:f[256+(t>>>7)]},y=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},x=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,y(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},z=function(t,e,a){x(t,a[2*e],a[2*e+1])},A=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},E=function(t,e,a){var n,i,s=new Array(16),o=0;for(n=1;n<=r;n++)o=o+a[n-1]<<1,s[n]=o;for(i=0;i<=e;i++){var l=t[2*i+1];0!==l&&(t[2*i]=A(s[l]++,l))}},R=function(t){var e;for(e=0;e<n;e++)t.dyn_ltree[2*e]=0;for(e=0;e<i;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Z=function(t){t.bi_valid>8?y(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},S=function(t,e,a,n){var i=2*e,r=2*a;return t[i]<t[r]||t[i]===t[r]&&n[e]<=n[a]},U=function(t,e,a){for(var n=t.heap[a],i=a<<1;i<=t.heap_len&&(i<t.heap_len&&S(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!S(e,n,t.heap[i],t.depth));)t.heap[a]=t.heap[i],a=i,i<<=1;t.heap[a]=n},D=function(t,e,n){var i,r,l,h,d=0;if(0!==t.sym_next)do{i=255&t.pending_buf[t.sym_buf+d++],i+=(255&t.pending_buf[t.sym_buf+d++])<<8,r=t.pending_buf[t.sym_buf+d++],0===i?z(t,r,e):(l=u[r],z(t,l+a+1,e),0!==(h=s[l])&&(r-=c[l],x(t,r,h)),i--,l=k(i),z(t,l,n),0!==(h=o[l])&&(i-=g[l],x(t,i,h)))}while(d<t.sym_next);z(t,256,e)},T=function(t,e){var a,n,i,s=e.dyn_tree,o=e.stat_desc.static_tree,l=e.stat_desc.has_stree,h=e.stat_desc.elems,d=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<h;a++)0!==s[2*a]?(t.heap[++t.heap_len]=d=a,t.depth[a]=0):s[2*a+1]=0;for(;t.heap_len<2;)s[2*(i=t.heap[++t.heap_len]=d<2?++d:0)]=1,t.depth[i]=0,t.opt_len--,l&&(t.static_len-=o[2*i+1]);for(e.max_code=d,a=t.heap_len>>1;a>=1;a--)U(t,s,a);i=h;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,s[2*i]=s[2*a]+s[2*n],t.depth[i]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,s[2*a+1]=s[2*n+1]=i,t.heap[1]=i++,U(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,i,s,o,l,h=e.dyn_tree,d=e.max_code,_=e.stat_desc.static_tree,f=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,w=e.stat_desc.max_length,m=0;for(s=0;s<=r;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(s=h[2*h[2*(n=t.heap[a])+1]+1]+1)>w&&(s=w,m++),h[2*n+1]=s,n>d||(t.bl_count[s]++,o=0,n>=c&&(o=u[n-c]),l=h[2*n],t.opt_len+=l*(s+o),f&&(t.static_len+=l*(_[2*n+1]+o)));if(0!==m){do{for(s=w-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[w]--,m-=2}while(m>0);for(s=w;0!==s;s--)for(n=t.bl_count[s];0!==n;)(i=t.heap[--a])>d||(h[2*i+1]!==s&&(t.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),n--)}}(t,e),E(s,d,t.bl_count)},O=function(t,e,a){var n,i,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)i=s,s=e[2*(n+1)+1],++o<l&&i===s||(o<h?t.bl_tree[2*i]+=o:0!==i?(i!==r&&t.bl_tree[2*i]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,r=i,0===s?(l=138,h=3):i===s?(l=6,h=3):(l=7,h=4))},I=function(t,e,a){var n,i,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),n=0;n<=a;n++)if(i=s,s=e[2*(n+1)+1],!(++o<l&&i===s)){if(o<h)do{z(t,i,t.bl_tree)}while(0!=--o);else 0!==i?(i!==r&&(z(t,i,t.bl_tree),o--),z(t,16,t.bl_tree),x(t,o-3,2)):o<=10?(z(t,17,t.bl_tree),x(t,o-3,3)):(z(t,18,t.bl_tree),x(t,o-11,7));o=0,r=i,0===s?(l=138,h=3):i===s?(l=6,h=3):(l=7,h=4)}},F=!1,L=function(t,e,a,n){x(t,0+(n?1:0),3),Z(t),y(t,a),y(t,~a),a&&t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a},N=function(t,e,n,i){var r,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),T(t,t.l_desc),T(t,t.d_desc),o=function(t){var e;for(O(t,t.dyn_ltree,t.l_desc.max_code),O(t,t.dyn_dtree,t.d_desc.max_code),T(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*h[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=r&&(r=s)):r=s=n+5,n+4<=r&&-1!==e?L(t,e,n,i):4===t.strategy||s===r?(x(t,2+(i?1:0),3),D(t,d,_)):(x(t,4+(i?1:0),3),function(t,e,a,n){var i;for(x(t,e-257,5),x(t,a-1,5),x(t,n-4,4),i=0;i<n;i++)x(t,t.bl_tree[2*h[i]+1],3);I(t,t.dyn_ltree,e-1),I(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),D(t,t.dyn_ltree,t.dyn_dtree)),R(t),i&&Z(t)},B={_tr_init:function(t){F||(!function(){var t,e,a,h,v,k=new Array(16);for(a=0,h=0;h<28;h++)for(c[h]=a,t=0;t<1<<s[h];t++)u[a++]=h;for(u[a-1]=h,v=0,h=0;h<16;h++)for(g[h]=v,t=0;t<1<<o[h];t++)f[v++]=h;for(v>>=7;h<i;h++)for(g[h]=v<<7,t=0;t<1<<o[h]-7;t++)f[256+v++]=h;for(e=0;e<=r;e++)k[e]=0;for(t=0;t<=143;)d[2*t+1]=8,t++,k[8]++;for(;t<=255;)d[2*t+1]=9,t++,k[9]++;for(;t<=279;)d[2*t+1]=7,t++,k[7]++;for(;t<=287;)d[2*t+1]=8,t++,k[8]++;for(E(d,287,k),t=0;t<i;t++)_[2*t+1]=5,_[2*t]=A(t,5);w=new p(d,s,257,n,r),m=new p(_,o,0,i,r),b=new p(new Array(0),l,0,19,7)}(),F=!0),t.l_desc=new v(t.dyn_ltree,w),t.d_desc=new v(t.dyn_dtree,m),t.bl_desc=new v(t.bl_tree,b),t.bi_buf=0,t.bi_valid=0,R(t)},_tr_stored_block:L,_tr_flush_block:N,_tr_tally:function(t,e,n){return t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(u[n]+a+1)]++,t.dyn_dtree[2*k(e)]++),t.sym_next===t.sym_end},_tr_align:function(t){x(t,2,3),z(t,256,d),function(t){16===t.bi_valid?(y(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},C=function(t,e,a,n){for(var i=65535&t|0,r=t>>>16&65535|0,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{r=r+(i=i+e[n++]|0)|0}while(--s);i%=65521,r%=65521}return i|r<<16|0},M=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),H=function(t,e,a,n){var i=M,r=n+a;t^=-1;for(var s=n;s<r;s++)t=t>>>8^i[255&(t^e[s])];return-1^t},j={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},K={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},P=B._tr_init,Y=B._tr_stored_block,G=B._tr_flush_block,X=B._tr_tally,W=B._tr_align,q=K.Z_NO_FLUSH,J=K.Z_PARTIAL_FLUSH,Q=K.Z_FULL_FLUSH,V=K.Z_FINISH,$=K.Z_BLOCK,tt=K.Z_OK,et=K.Z_STREAM_END,at=K.Z_STREAM_ERROR,nt=K.Z_DATA_ERROR,it=K.Z_BUF_ERROR,rt=K.Z_DEFAULT_COMPRESSION,st=K.Z_FILTERED,ot=K.Z_HUFFMAN_ONLY,lt=K.Z_RLE,ht=K.Z_FIXED,dt=K.Z_DEFAULT_STRATEGY,_t=K.Z_UNKNOWN,ft=K.Z_DEFLATED,ut=258,ct=262,wt=42,mt=113,bt=666,gt=function(t,e){return t.msg=j[e],e},pt=function(t){return 2*t-(t>4?9:0)},vt=function(t){for(var e=t.length;--e>=0;)t[e]=0},kt=function(t){var e,a,n,i=t.w_size;n=e=t.hash_size;do{a=t.head[--n],t.head[n]=a>=i?a-i:0}while(--e);n=e=i;do{a=t.prev[--n],t.prev[n]=a>=i?a-i:0}while(--e)},yt=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},xt=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},zt=function(t,e){G(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,xt(t.strm)},At=function(t,e){t.pending_buf[t.pending++]=e},Et=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Rt=function(t,e,a,n){var i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),a),1===t.state.wrap?t.adler=C(t.adler,e,i,a):2===t.state.wrap&&(t.adler=H(t.adler,e,i,a)),t.next_in+=i,t.total_in+=i,i)},Zt=function(t,e){var a,n,i=t.max_chain_length,r=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-ct?t.strstart-(t.w_size-ct):0,h=t.window,d=t.w_mask,_=t.prev,f=t.strstart+ut,u=h[r+s-1],c=h[r+s];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do{if(h[(a=e)+s]===c&&h[a+s-1]===u&&h[a]===h[r]&&h[++a]===h[r+1]){r+=2,a++;do{}while(h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&r<f);if(n=ut-(f-r),r=f-ut,n>s){if(t.match_start=e,s=n,n>=o)break;u=h[r+s-1],c=h[r+s]}}}while((e=_[e&d])>l&&0!=--i);return s<=t.lookahead?s:t.lookahead},St=function(t){var e,a,n,i=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-ct)&&(t.window.set(t.window.subarray(i,i+i-a),0),t.match_start-=i,t.strstart-=i,t.block_start-=i,t.insert>t.strstart&&(t.insert=t.strstart),kt(t),a+=i),0===t.strm.avail_in)break;if(e=Rt(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=e,t.lookahead+t.insert>=3)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=yt(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=yt(t,t.ins_h,t.window[n+3-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<ct&&0!==t.strm.avail_in)},Ut=function(t,e){var a,n,i,r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,o=t.strm.avail_in;do{if(a=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,a>(n=t.strstart-t.block_start)+t.strm.avail_in&&(a=n+t.strm.avail_in),a>i&&(a=i),a<r&&(0===a&&e!==V||e===q||a!==n+t.strm.avail_in))break;s=e===V&&a===n+t.strm.avail_in?1:0,Y(t,0,0,s),t.pending_buf[t.pending-4]=a,t.pending_buf[t.pending-3]=a>>8,t.pending_buf[t.pending-2]=~a,t.pending_buf[t.pending-1]=~a>>8,xt(t.strm),n&&(n>a&&(n=a),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,a-=n),a&&(Rt(t.strm,t.strm.output,t.strm.next_out,a),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a)}while(0===s);return(o-=t.strm.avail_in)&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==q&&e!==V&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(Rt(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,r=(i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i)>t.w_size?t.w_size:i,((n=t.strstart-t.block_start)>=r||(n||e===V)&&e!==q&&0===t.strm.avail_in&&n<=i)&&(a=n>i?i:n,s=e===V&&0===t.strm.avail_in&&a===n?1:0,Y(t,t.block_start,a,s),t.block_start+=a,xt(t.strm)),s?3:1)},Dt=function(t,e){for(var a,n;;){if(t.lookahead<ct){if(St(t),t.lookahead<ct&&e===q)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-ct&&(t.match_length=Zt(t,a)),t.match_length>=3)if(n=X(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=yt(t,t.ins_h,t.window[t.strstart+1]);else n=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(zt(t,!1),0===t.strm.avail_out)?1:2},Tt=function(t,e){for(var a,n,i;;){if(t.lookahead<ct){if(St(t),t.lookahead<ct&&e===q)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-ct&&(t.match_length=Zt(t,a),t.match_length<=5&&(t.strategy===st||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=X(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(zt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=X(t,0,t.window[t.strstart-1]))&&zt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=X(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(zt(t,!1),0===t.strm.avail_out)?1:2};function Ot(t,e,a,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=i}var It=[new Ot(0,0,0,0,Ut),new Ot(4,4,8,4,Dt),new Ot(4,5,16,8,Dt),new Ot(4,6,32,32,Dt),new Ot(4,4,16,16,Tt),new Ot(8,16,32,32,Tt),new Ot(8,16,128,128,Tt),new Ot(8,32,128,256,Tt),new Ot(32,128,258,1024,Tt),new Ot(32,258,258,4096,Tt)];function Ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ft,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),vt(this.dyn_ltree),vt(this.dyn_dtree),vt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),vt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),vt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Lt=function(t){if(!t)return 1;var e=t.state;return!e||e.strm!==t||e.status!==wt&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==mt&&e.status!==bt?1:0},Nt=function(t){if(Lt(t))return gt(t,at);t.total_in=t.total_out=0,t.data_type=_t;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?wt:mt,t.adler=2===e.wrap?0:1,e.last_flush=-2,P(e),tt},Bt=function(t){var e,a=Nt(t);return a===tt&&((e=t.state).window_size=2*e.w_size,vt(e.head),e.max_lazy_match=It[e.level].max_lazy,e.good_match=It[e.level].good_length,e.nice_match=It[e.level].nice_length,e.max_chain_length=It[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),a},Ct=function(t,e,a,n,i,r){if(!t)return at;var s=1;if(e===rt&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||a!==ft||n<8||n>15||e<0||e>9||r<0||r>ht||8===n&&1!==s)return gt(t,at);8===n&&(n=9);var o=new Ft;return t.state=o,o.strm=t,o.status=wt,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=e,o.strategy=r,o.method=a,Bt(t)},Mt={deflateInit:function(t,e){return Ct(t,e,ft,15,8,dt)},deflateInit2:Ct,deflateReset:Bt,deflateResetKeep:Nt,deflateSetHeader:function(t,e){return Lt(t)||2!==t.state.wrap?at:(t.state.gzhead=e,tt)},deflate:function(t,e){if(Lt(t)||e>$||e<0)return t?gt(t,at):at;var a=t.state;if(!t.output||0!==t.avail_in&&!t.input||a.status===bt&&e!==V)return gt(t,0===t.avail_out?it:at);var n=a.last_flush;if(a.last_flush=e,0!==a.pending){if(xt(t),0===t.avail_out)return a.last_flush=-1,tt}else if(0===t.avail_in&&pt(e)<=pt(n)&&e!==V)return gt(t,it);if(a.status===bt&&0!==t.avail_in)return gt(t,it);if(a.status===wt&&0===a.wrap&&(a.status=mt),a.status===wt){var i=ft+(a.w_bits-8<<4)<<8;if(i|=(a.strategy>=ot||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(i|=32),Et(a,i+=31-i%31),0!==a.strstart&&(Et(a,t.adler>>>16),Et(a,65535&t.adler)),t.adler=1,a.status=mt,xt(t),0!==a.pending)return a.last_flush=-1,tt}if(57===a.status)if(t.adler=0,At(a,31),At(a,139),At(a,8),a.gzhead)At(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),At(a,255&a.gzhead.time),At(a,a.gzhead.time>>8&255),At(a,a.gzhead.time>>16&255),At(a,a.gzhead.time>>24&255),At(a,9===a.level?2:a.strategy>=ot||a.level<2?4:0),At(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(At(a,255&a.gzhead.extra.length),At(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=H(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69;else if(At(a,0),At(a,0),At(a,0),At(a,0),At(a,0),At(a,9===a.level?2:a.strategy>=ot||a.level<2?4:0),At(a,3),a.status=mt,xt(t),0!==a.pending)return a.last_flush=-1,tt;if(69===a.status){if(a.gzhead.extra){for(var r=a.pending,s=(65535&a.gzhead.extra.length)-a.gzindex;a.pending+s>a.pending_buf_size;){var o=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+o),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>r&&(t.adler=H(t.adler,a.pending_buf,a.pending-r,r)),a.gzindex+=o,xt(t),0!==a.pending)return a.last_flush=-1,tt;r=0,s-=o}var l=new Uint8Array(a.gzhead.extra);a.pending_buf.set(l.subarray(a.gzindex,a.gzindex+s),a.pending),a.pending+=s,a.gzhead.hcrc&&a.pending>r&&(t.adler=H(t.adler,a.pending_buf,a.pending-r,r)),a.gzindex=0}a.status=73}if(73===a.status){if(a.gzhead.name){var h,d=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>d&&(t.adler=H(t.adler,a.pending_buf,a.pending-d,d)),xt(t),0!==a.pending)return a.last_flush=-1,tt;d=0}h=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,At(a,h)}while(0!==h);a.gzhead.hcrc&&a.pending>d&&(t.adler=H(t.adler,a.pending_buf,a.pending-d,d)),a.gzindex=0}a.status=91}if(91===a.status){if(a.gzhead.comment){var _,f=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>f&&(t.adler=H(t.adler,a.pending_buf,a.pending-f,f)),xt(t),0!==a.pending)return a.last_flush=-1,tt;f=0}_=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,At(a,_)}while(0!==_);a.gzhead.hcrc&&a.pending>f&&(t.adler=H(t.adler,a.pending_buf,a.pending-f,f))}a.status=103}if(103===a.status){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(xt(t),0!==a.pending))return a.last_flush=-1,tt;At(a,255&t.adler),At(a,t.adler>>8&255),t.adler=0}if(a.status=mt,xt(t),0!==a.pending)return a.last_flush=-1,tt}if(0!==t.avail_in||0!==a.lookahead||e!==q&&a.status!==bt){var u=0===a.level?Ut(a,e):a.strategy===ot?function(t,e){for(var a;;){if(0===t.lookahead&&(St(t),0===t.lookahead)){if(e===q)return 1;break}if(t.match_length=0,a=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(zt(t,!1),0===t.strm.avail_out)?1:2}(a,e):a.strategy===lt?function(t,e){for(var a,n,i,r,s=t.window;;){if(t.lookahead<=ut){if(St(t),t.lookahead<=ut&&e===q)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){r=t.strstart+ut;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<r);t.match_length=ut-(r-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=X(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(zt(t,!1),0===t.strm.avail_out)?1:2}(a,e):It[a.level].func(a,e);if(3!==u&&4!==u||(a.status=bt),1===u||3===u)return 0===t.avail_out&&(a.last_flush=-1),tt;if(2===u&&(e===J?W(a):e!==$&&(Y(a,0,0,!1),e===Q&&(vt(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),xt(t),0===t.avail_out))return a.last_flush=-1,tt}return e!==V?tt:a.wrap<=0?et:(2===a.wrap?(At(a,255&t.adler),At(a,t.adler>>8&255),At(a,t.adler>>16&255),At(a,t.adler>>24&255),At(a,255&t.total_in),At(a,t.total_in>>8&255),At(a,t.total_in>>16&255),At(a,t.total_in>>24&255)):(Et(a,t.adler>>>16),Et(a,65535&t.adler)),xt(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?tt:et)},deflateEnd:function(t){if(Lt(t))return at;var e=t.state.status;return t.state=null,e===mt?gt(t,nt):tt},deflateSetDictionary:function(t,e){var a=e.length;if(Lt(t))return at;var n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==wt||n.lookahead)return at;if(1===i&&(t.adler=C(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===i&&(vt(n.head),n.strstart=0,n.block_start=0,n.insert=0);var r=new Uint8Array(n.w_size);r.set(e.subarray(a-n.w_size,a),0),e=r,a=n.w_size}var s=t.avail_in,o=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,St(n);n.lookahead>=3;){var h=n.strstart,d=n.lookahead-2;do{n.ins_h=yt(n,n.ins_h,n.window[h+3-1]),n.prev[h&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=h,h++}while(--d);n.strstart=h,n.lookahead=2,St(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=o,t.input=l,t.avail_in=s,n.wrap=i,tt},deflateInfo:"pako deflate (from Nodeca project)"};function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}var jt=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Kt=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var a=e.shift();if(a){if("object"!==Ht(a))throw new TypeError(a+"must be non-object");for(var n in a)jt(a,n)&&(t[n]=a[n])}}return t},Pt=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var i=new Uint8Array(e),r=0,s=0,o=t.length;r<o;r++){var l=t[r];i.set(l,s),s+=l.length}return i},Yt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Yt=!1}for(var Gt=new Uint8Array(256),Xt=0;Xt<256;Xt++)Gt[Xt]=Xt>=252?6:Xt>=248?5:Xt>=240?4:Xt>=224?3:Xt>=192?2:1;Gt[254]=Gt[254]=1;var Wt=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,a,n,i,r,s=t.length,o=0;for(i=0;i<s;i++)55296==(64512&(a=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=t.charCodeAt(i+1)))&&(a=65536+(a-55296<<10)+(n-56320),i++),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(o),r=0,i=0;r<o;i++)55296==(64512&(a=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=t.charCodeAt(i+1)))&&(a=65536+(a-55296<<10)+(n-56320),i++),a<128?e[r++]=a:a<2048?(e[r++]=192|a>>>6,e[r++]=128|63&a):a<65536?(e[r++]=224|a>>>12,e[r++]=128|a>>>6&63,e[r++]=128|63&a):(e[r++]=240|a>>>18,e[r++]=128|a>>>12&63,e[r++]=128|a>>>6&63,e[r++]=128|63&a);return e},qt=function(t,e){var a,n,i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));var r=new Array(2*i);for(n=0,a=0;a<i;){var s=t[a++];if(s<128)r[n++]=s;else{var o=Gt[s];if(o>4)r[n++]=65533,a+=o-1;else{for(s&=2===o?31:3===o?15:7;o>1&&a<i;)s=s<<6|63&t[a++],o--;o>1?r[n++]=65533:s<65536?r[n++]=s:(s-=65536,r[n++]=55296|s>>10&1023,r[n++]=56320|1023&s)}}}return function(t,e){if(e<65534&&t.subarray&&Yt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));for(var a="",n=0;n<e;n++)a+=String.fromCharCode(t[n]);return a}(r,n)},Jt=function(t,e){(e=e||t.length)>t.length&&(e=t.length);for(var a=e-1;a>=0&&128==(192&t[a]);)a--;return a<0||0===a?e:a+Gt[t[a]]>e?a:e};var Qt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Vt=Object.prototype.toString,$t=K.Z_NO_FLUSH,te=K.Z_SYNC_FLUSH,ee=K.Z_FULL_FLUSH,ae=K.Z_FINISH,ne=K.Z_OK,ie=K.Z_STREAM_END,re=K.Z_DEFAULT_COMPRESSION,se=K.Z_DEFAULT_STRATEGY,oe=K.Z_DEFLATED;function le(t){this.options=Kt({level:re,method:oe,chunkSize:16384,windowBits:15,memLevel:8,strategy:se},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0;var a=Mt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==ne)throw new Error(j[a]);if(e.header&&Mt.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?Wt(e.dictionary):"[object ArrayBuffer]"===Vt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=Mt.deflateSetDictionary(this.strm,n))!==ne)throw new Error(j[a]);this._dict_set=!0}}function he(t,e){var a=new le(e);if(a.push(t,!0),a.err)throw a.msg||j[a.err];return a.result}le.prototype.push=function(t,e){var a,n,i=this.strm,r=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?ae:$t,"string"==typeof t?i.input=Wt(t):"[object ArrayBuffer]"===Vt.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(r),i.next_out=0,i.avail_out=r),(n===te||n===ee)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((a=Mt.deflate(i,n))===ie)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),a=Mt.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===ne;if(0!==i.avail_out){if(n>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},le.prototype.onData=function(t){this.chunks.push(t)},le.prototype.onEnd=function(t){t===ne&&(this.result=Pt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var de={Deflate:le,deflate:he,deflateRaw:function(t,e){return(e=e||{}).raw=!0,he(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,he(t,e)},constants:K},_e=16209,fe=function(t,e){var a,n,i,r,s,o,l,h,d,_,f,u,c,w,m,b,g,p,v,k,y,x,z,A,E=t.state;a=t.next_in,z=t.input,n=a+(t.avail_in-5),i=t.next_out,A=t.output,r=i-(e-t.avail_out),s=i+(t.avail_out-257),o=E.dmax,l=E.wsize,h=E.whave,d=E.wnext,_=E.window,f=E.hold,u=E.bits,c=E.lencode,w=E.distcode,m=(1<<E.lenbits)-1,b=(1<<E.distbits)-1;t:do{u<15&&(f+=z[a++]<<u,u+=8,f+=z[a++]<<u,u+=8),g=c[f&m];e:for(;;){if(f>>>=p=g>>>24,u-=p,0===(p=g>>>16&255))A[i++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=c[(65535&g)+(f&(1<<p)-1)];continue e}if(32&p){E.mode=16191;break t}t.msg="invalid literal/length code",E.mode=_e;break t}v=65535&g,(p&=15)&&(u<p&&(f+=z[a++]<<u,u+=8),v+=f&(1<<p)-1,f>>>=p,u-=p),u<15&&(f+=z[a++]<<u,u+=8,f+=z[a++]<<u,u+=8),g=w[f&b];a:for(;;){if(f>>>=p=g>>>24,u-=p,!(16&(p=g>>>16&255))){if(0==(64&p)){g=w[(65535&g)+(f&(1<<p)-1)];continue a}t.msg="invalid distance code",E.mode=_e;break t}if(k=65535&g,u<(p&=15)&&(f+=z[a++]<<u,(u+=8)<p&&(f+=z[a++]<<u,u+=8)),(k+=f&(1<<p)-1)>o){t.msg="invalid distance too far back",E.mode=_e;break t}if(f>>>=p,u-=p,k>(p=i-r)){if((p=k-p)>h&&E.sane){t.msg="invalid distance too far back",E.mode=_e;break t}if(y=0,x=_,0===d){if(y+=l-p,p<v){v-=p;do{A[i++]=_[y++]}while(--p);y=i-k,x=A}}else if(d<p){if(y+=l+d-p,(p-=d)<v){v-=p;do{A[i++]=_[y++]}while(--p);if(y=0,d<v){v-=p=d;do{A[i++]=_[y++]}while(--p);y=i-k,x=A}}}else if(y+=d-p,p<v){v-=p;do{A[i++]=_[y++]}while(--p);y=i-k,x=A}for(;v>2;)A[i++]=x[y++],A[i++]=x[y++],A[i++]=x[y++],v-=3;v&&(A[i++]=x[y++],v>1&&(A[i++]=x[y++]))}else{y=i-k;do{A[i++]=A[y++],A[i++]=A[y++],A[i++]=A[y++],v-=3}while(v>2);v&&(A[i++]=A[y++],v>1&&(A[i++]=A[y++]))}break}}break}}while(a<n&&i<s);a-=v=u>>3,f&=(1<<(u-=v<<3))-1,t.next_in=a,t.next_out=i,t.avail_in=a<n?n-a+5:5-(a-n),t.avail_out=i<s?s-i+257:257-(i-s),E.hold=f,E.bits=u},ue=15,ce=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),we=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),me=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),be=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ge=function(t,e,a,n,i,r,s,o){var l,h,d,_,f,u,c,w,m,b=o.bits,g=0,p=0,v=0,k=0,y=0,x=0,z=0,A=0,E=0,R=0,Z=null,S=new Uint16Array(16),U=new Uint16Array(16),D=null;for(g=0;g<=ue;g++)S[g]=0;for(p=0;p<n;p++)S[e[a+p]]++;for(y=b,k=ue;k>=1&&0===S[k];k--);if(y>k&&(y=k),0===k)return i[r++]=20971520,i[r++]=20971520,o.bits=1,0;for(v=1;v<k&&0===S[v];v++);for(y<v&&(y=v),A=1,g=1;g<=ue;g++)if(A<<=1,(A-=S[g])<0)return-1;if(A>0&&(0===t||1!==k))return-1;for(U[1]=0,g=1;g<ue;g++)U[g+1]=U[g]+S[g];for(p=0;p<n;p++)0!==e[a+p]&&(s[U[e[a+p]]++]=p);if(0===t?(Z=D=s,u=20):1===t?(Z=ce,D=we,u=257):(Z=me,D=be,u=0),R=0,p=0,g=v,f=r,x=y,z=0,d=-1,_=(E=1<<y)-1,1===t&&E>852||2===t&&E>592)return 1;for(;;){c=g-z,s[p]+1<u?(w=0,m=s[p]):s[p]>=u?(w=D[s[p]-u],m=Z[s[p]-u]):(w=96,m=0),l=1<<g-z,v=h=1<<x;do{i[f+(R>>z)+(h-=l)]=c<<24|w<<16|m|0}while(0!==h);for(l=1<<g-1;R&l;)l>>=1;if(0!==l?(R&=l-1,R+=l):R=0,p++,0==--S[g]){if(g===k)break;g=e[a+s[p]]}if(g>y&&(R&_)!==d){for(0===z&&(z=y),f+=v,A=1<<(x=g-z);x+z<k&&!((A-=S[x+z])<=0);)x++,A<<=1;if(E+=1<<x,1===t&&E>852||2===t&&E>592)return 1;i[d=R&_]=y<<24|x<<16|f-r|0}}return 0!==R&&(i[f+R]=g-z<<24|64<<16|0),o.bits=y,0},pe=K.Z_FINISH,ve=K.Z_BLOCK,ke=K.Z_TREES,ye=K.Z_OK,xe=K.Z_STREAM_END,ze=K.Z_NEED_DICT,Ae=K.Z_STREAM_ERROR,Ee=K.Z_DATA_ERROR,Re=K.Z_MEM_ERROR,Ze=K.Z_BUF_ERROR,Se=K.Z_DEFLATED,Ue=16180,De=16190,Te=16191,Oe=16192,Ie=16194,Fe=16199,Le=16200,Ne=16206,Be=16209,Ce=function(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)};function Me(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var He,je,Ke=function(t){if(!t)return 1;var e=t.state;return!e||e.strm!==t||e.mode<Ue||e.mode>16211?1:0},Pe=function(t){if(Ke(t))return Ae;var e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Ue,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ye},Ye=function(t){if(Ke(t))return Ae;var e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Pe(t)},Ge=function(t,e){var a;if(Ke(t))return Ae;var n=t.state;return e<0?(a=0,e=-e):(a=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Ae:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=a,n.wbits=e,Ye(t))},Xe=function(t,e){if(!t)return Ae;var a=new Me;t.state=a,a.strm=t,a.window=null,a.mode=Ue;var n=Ge(t,e);return n!==ye&&(t.state=null),n},We=!0,qe=function(t){if(We){He=new Int32Array(512),je=new Int32Array(32);for(var e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ge(1,t.lens,0,288,He,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ge(2,t.lens,0,32,je,0,t.work,{bits:5}),We=!1}t.lencode=He,t.lenbits=9,t.distcode=je,t.distbits=5},Je=function(t,e,a,n){var i,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(e.subarray(a-r.wsize,a),0),r.wnext=0,r.whave=r.wsize):((i=r.wsize-r.wnext)>n&&(i=n),r.window.set(e.subarray(a-n,a-n+i),r.wnext),(n-=i)?(r.window.set(e.subarray(a-n,a),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=i,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=i))),0},Qe={inflateReset:Ye,inflateReset2:Ge,inflateResetKeep:Pe,inflateInit:function(t){return Xe(t,15)},inflateInit2:Xe,inflate:function(t,e){var a,n,i,r,s,o,l,h,d,_,f,u,c,w,m,b,g,p,v,k,y,x,z,A,E=0,R=new Uint8Array(4),Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ke(t)||!t.output||!t.input&&0!==t.avail_in)return Ae;(a=t.state).mode===Te&&(a.mode=Oe),s=t.next_out,i=t.output,l=t.avail_out,r=t.next_in,n=t.input,o=t.avail_in,h=a.hold,d=a.bits,_=o,f=l,x=ye;t:for(;;)switch(a.mode){case Ue:if(0===a.wrap){a.mode=Oe;break}for(;d<16;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}if(2&a.wrap&&35615===h){0===a.wbits&&(a.wbits=15),a.check=0,R[0]=255&h,R[1]=h>>>8&255,a.check=H(a.check,R,2,0),h=0,d=0,a.mode=16181;break}if(a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",a.mode=Be;break}if((15&h)!==Se){t.msg="unknown compression method",a.mode=Be;break}if(d-=4,y=8+(15&(h>>>=4)),0===a.wbits&&(a.wbits=y),y>15||y>a.wbits){t.msg="invalid window size",a.mode=Be;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=512&h?16189:Te,h=0,d=0;break;case 16181:for(;d<16;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}if(a.flags=h,(255&a.flags)!==Se){t.msg="unknown compression method",a.mode=Be;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=Be;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&4&a.wrap&&(R[0]=255&h,R[1]=h>>>8&255,a.check=H(a.check,R,2,0)),h=0,d=0,a.mode=16182;case 16182:for(;d<32;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&4&a.wrap&&(R[0]=255&h,R[1]=h>>>8&255,R[2]=h>>>16&255,R[3]=h>>>24&255,a.check=H(a.check,R,4,0)),h=0,d=0,a.mode=16183;case 16183:for(;d<16;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&4&a.wrap&&(R[0]=255&h,R[1]=h>>>8&255,a.check=H(a.check,R,2,0)),h=0,d=0,a.mode=16184;case 16184:if(1024&a.flags){for(;d<16;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&4&a.wrap&&(R[0]=255&h,R[1]=h>>>8&255,a.check=H(a.check,R,2,0)),h=0,d=0}else a.head&&(a.head.extra=null);a.mode=16185;case 16185:if(1024&a.flags&&((u=a.length)>o&&(u=o),u&&(a.head&&(y=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(n.subarray(r,r+u),y)),512&a.flags&&4&a.wrap&&(a.check=H(a.check,n,u,r)),o-=u,r+=u,a.length-=u),a.length))break t;a.length=0,a.mode=16186;case 16186:if(2048&a.flags){if(0===o)break t;u=0;do{y=n[r+u++],a.head&&y&&a.length<65536&&(a.head.name+=String.fromCharCode(y))}while(y&&u<o);if(512&a.flags&&4&a.wrap&&(a.check=H(a.check,n,u,r)),o-=u,r+=u,y)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=16187;case 16187:if(4096&a.flags){if(0===o)break t;u=0;do{y=n[r+u++],a.head&&y&&a.length<65536&&(a.head.comment+=String.fromCharCode(y))}while(y&&u<o);if(512&a.flags&&4&a.wrap&&(a.check=H(a.check,n,u,r)),o-=u,r+=u,y)break t}else a.head&&(a.head.comment=null);a.mode=16188;case 16188:if(512&a.flags){for(;d<16;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}if(4&a.wrap&&h!==(65535&a.check)){t.msg="header crc mismatch",a.mode=Be;break}h=0,d=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=Te;break;case 16189:for(;d<32;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}t.adler=a.check=Ce(h),h=0,d=0,a.mode=De;case De:if(0===a.havedict)return t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,ze;t.adler=a.check=1,a.mode=Te;case Te:if(e===ve||e===ke)break t;case Oe:if(a.last){h>>>=7&d,d-=7&d,a.mode=Ne;break}for(;d<3;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}switch(a.last=1&h,d-=1,3&(h>>>=1)){case 0:a.mode=16193;break;case 1:if(qe(a),a.mode=Fe,e===ke){h>>>=2,d-=2;break t}break;case 2:a.mode=16196;break;case 3:t.msg="invalid block type",a.mode=Be}h>>>=2,d-=2;break;case 16193:for(h>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",a.mode=Be;break}if(a.length=65535&h,h=0,d=0,a.mode=Ie,e===ke)break t;case Ie:a.mode=16195;case 16195:if(u=a.length){if(u>o&&(u=o),u>l&&(u=l),0===u)break t;i.set(n.subarray(r,r+u),s),o-=u,r+=u,l-=u,s+=u,a.length-=u;break}a.mode=Te;break;case 16196:for(;d<14;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=Be;break}a.have=0,a.mode=16197;case 16197:for(;a.have<a.ncode;){for(;d<3;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}a.lens[Z[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[Z[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,z={bits:a.lenbits},x=ge(0,a.lens,0,19,a.lencode,0,a.work,z),a.lenbits=z.bits,x){t.msg="invalid code lengths set",a.mode=Be;break}a.have=0,a.mode=16198;case 16198:for(;a.have<a.nlen+a.ndist;){for(;b=(E=a.lencode[h&(1<<a.lenbits)-1])>>>16&255,g=65535&E,!((m=E>>>24)<=d);){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}if(g<16)h>>>=m,d-=m,a.lens[a.have++]=g;else{if(16===g){for(A=m+2;d<A;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}if(h>>>=m,d-=m,0===a.have){t.msg="invalid bit length repeat",a.mode=Be;break}y=a.lens[a.have-1],u=3+(3&h),h>>>=2,d-=2}else if(17===g){for(A=m+3;d<A;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}d-=m,y=0,u=3+(7&(h>>>=m)),h>>>=3,d-=3}else{for(A=m+7;d<A;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}d-=m,y=0,u=11+(127&(h>>>=m)),h>>>=7,d-=7}if(a.have+u>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=Be;break}for(;u--;)a.lens[a.have++]=y}}if(a.mode===Be)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=Be;break}if(a.lenbits=9,z={bits:a.lenbits},x=ge(1,a.lens,0,a.nlen,a.lencode,0,a.work,z),a.lenbits=z.bits,x){t.msg="invalid literal/lengths set",a.mode=Be;break}if(a.distbits=6,a.distcode=a.distdyn,z={bits:a.distbits},x=ge(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,z),a.distbits=z.bits,x){t.msg="invalid distances set",a.mode=Be;break}if(a.mode=Fe,e===ke)break t;case Fe:a.mode=Le;case Le:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,fe(t,f),s=t.next_out,i=t.output,l=t.avail_out,r=t.next_in,n=t.input,o=t.avail_in,h=a.hold,d=a.bits,a.mode===Te&&(a.back=-1);break}for(a.back=0;b=(E=a.lencode[h&(1<<a.lenbits)-1])>>>16&255,g=65535&E,!((m=E>>>24)<=d);){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}if(b&&0==(240&b)){for(p=m,v=b,k=g;b=(E=a.lencode[k+((h&(1<<p+v)-1)>>p)])>>>16&255,g=65535&E,!(p+(m=E>>>24)<=d);){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,a.length=g,0===b){a.mode=16205;break}if(32&b){a.back=-1,a.mode=Te;break}if(64&b){t.msg="invalid literal/length code",a.mode=Be;break}a.extra=15&b,a.mode=16201;case 16201:if(a.extra){for(A=a.extra;d<A;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=16202;case 16202:for(;b=(E=a.distcode[h&(1<<a.distbits)-1])>>>16&255,g=65535&E,!((m=E>>>24)<=d);){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}if(0==(240&b)){for(p=m,v=b,k=g;b=(E=a.distcode[k+((h&(1<<p+v)-1)>>p)])>>>16&255,g=65535&E,!(p+(m=E>>>24)<=d);){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,64&b){t.msg="invalid distance code",a.mode=Be;break}a.offset=g,a.extra=15&b,a.mode=16203;case 16203:if(a.extra){for(A=a.extra;d<A;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=Be;break}a.mode=16204;case 16204:if(0===l)break t;if(u=f-l,a.offset>u){if((u=a.offset-u)>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=Be;break}u>a.wnext?(u-=a.wnext,c=a.wsize-u):c=a.wnext-u,u>a.length&&(u=a.length),w=a.window}else w=i,c=s-a.offset,u=a.length;u>l&&(u=l),l-=u,a.length-=u;do{i[s++]=w[c++]}while(--u);0===a.length&&(a.mode=Le);break;case 16205:if(0===l)break t;i[s++]=a.length,l--,a.mode=Le;break;case Ne:if(a.wrap){for(;d<32;){if(0===o)break t;o--,h|=n[r++]<<d,d+=8}if(f-=l,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?H(a.check,i,f,s-f):C(a.check,i,f,s-f)),f=l,4&a.wrap&&(a.flags?h:Ce(h))!==a.check){t.msg="incorrect data check",a.mode=Be;break}h=0,d=0}a.mode=16207;case 16207:if(a.wrap&&a.flags){for(;d<32;){if(0===o)break t;o--,h+=n[r++]<<d,d+=8}if(4&a.wrap&&h!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=Be;break}h=0,d=0}a.mode=16208;case 16208:x=xe;break t;case Be:x=Ee;break t;case 16210:return Re;default:return Ae}return t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,(a.wsize||f!==t.avail_out&&a.mode<Be&&(a.mode<Ne||e!==pe))&&Je(t,t.output,t.next_out,f-t.avail_out),_-=t.avail_in,f-=t.avail_out,t.total_in+=_,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?H(a.check,i,f,t.next_out-f):C(a.check,i,f,t.next_out-f)),t.data_type=a.bits+(a.last?64:0)+(a.mode===Te?128:0)+(a.mode===Fe||a.mode===Ie?256:0),(0===_&&0===f||e===pe)&&x===ye&&(x=Ze),x},inflateEnd:function(t){if(Ke(t))return Ae;var e=t.state;return e.window&&(e.window=null),t.state=null,ye},inflateGetHeader:function(t,e){if(Ke(t))return Ae;var a=t.state;return 0==(2&a.wrap)?Ae:(a.head=e,e.done=!1,ye)},inflateSetDictionary:function(t,e){var a,n=e.length;return Ke(t)||0!==(a=t.state).wrap&&a.mode!==De?Ae:a.mode===De&&C(1,e,n,0)!==a.check?Ee:Je(t,e,n,n)?(a.mode=16210,Re):(a.havedict=1,ye)},inflateInfo:"pako inflate (from Nodeca project)"};var Ve=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},$e=Object.prototype.toString,ta=K.Z_NO_FLUSH,ea=K.Z_FINISH,aa=K.Z_OK,na=K.Z_STREAM_END,ia=K.Z_NEED_DICT,ra=K.Z_STREAM_ERROR,sa=K.Z_DATA_ERROR,oa=K.Z_MEM_ERROR;function la(t){this.options=Kt({chunkSize:65536,windowBits:15,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0;var a=Qe.inflateInit2(this.strm,e.windowBits);if(a!==aa)throw new Error(j[a]);if(this.header=new Ve,Qe.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Wt(e.dictionary):"[object ArrayBuffer]"===$e.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=Qe.inflateSetDictionary(this.strm,e.dictionary))!==aa))throw new Error(j[a])}function ha(t,e){var a=new la(e);if(a.push(t),a.err)throw a.msg||j[a.err];return a.result}la.prototype.push=function(t,e){var a,n,i,r=this.strm,s=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(n=e===~~e?e:!0===e?ea:ta,"[object ArrayBuffer]"===$e.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),(a=Qe.inflate(r,n))===ia&&o&&((a=Qe.inflateSetDictionary(r,o))===aa?a=Qe.inflate(r,n):a===sa&&(a=ia));r.avail_in>0&&a===na&&r.state.wrap>0&&0!==t[r.next_in];)Qe.inflateReset(r),a=Qe.inflate(r,n);switch(a){case ra:case sa:case ia:case oa:return this.onEnd(a),this.ended=!0,!1}if(i=r.avail_out,r.next_out&&(0===r.avail_out||a===na))if("string"===this.options.to){var l=Jt(r.output,r.next_out),h=r.next_out-l,d=qt(r.output,l);r.next_out=h,r.avail_out=s-h,h&&r.output.set(r.output.subarray(l,l+h),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==aa||0!==i){if(a===na)return a=Qe.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},la.prototype.onData=function(t){this.chunks.push(t)},la.prototype.onEnd=function(t){t===aa&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Pt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var da={Inflate:la,inflate:ha,inflateRaw:function(t,e){return(e=e||{}).raw=!0,ha(t,e)},ungzip:ha,constants:K},_a=de.Deflate,fa=de.deflate,ua=de.deflateRaw,ca=de.gzip,wa=da.Inflate,ma=da.inflate,ba=da.inflateRaw,ga=da.ungzip,pa=K,va={Deflate:_a,deflate:fa,deflateRaw:ua,gzip:ca,Inflate:wa,inflate:ma,inflateRaw:ba,ungzip:ga,constants:pa};t.Deflate=_a,t.Inflate=wa,t.constants=pa,t.default=va,t.deflate=fa,t.deflateRaw=ua,t.gzip=ca,t.inflate=ma,t.inflateRaw=ba,t.ungzip=ga,Object.defineProperty(t,"__esModule",{value:!0})}));
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(d,h,l){if(l.get||l.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[h]=l.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,h,l,p){if(h){l=$jscomp.global;d=d.split(".");for(p=0;p<d.length-1;p++){var v=d[p];v in l||(l[v]={});l=l[v]}d=d[d.length-1];p=l[d];h=h(p);h!=p&&null!=h&&$jscomp.defineProperty(l,d,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Math.imul",function(d){return d?d:function(d,l){d=Number(d);l=Number(l);var h=d&65535,v=l&65535;return h*v+((d>>>16&65535)*v+h*(l>>>16&65535)<<16>>>0)|0}},"es6-impl","es3");
$jscomp.polyfill("Object.setPrototypeOf",function(d){return d?d:"object"!=typeof"".__proto__?null:function(d,l){d.__proto__=l;if(d.__proto__!==l)throw new TypeError(d+" is not extensible");return d}},"es6","es5");$jscomp.polyfill("Reflect.apply",function(d){if(d)return d;var h=Function.prototype.apply;return function(d,p,v){return h.call(d,p,v)}},"es6","es3");
$jscomp.polyfill("Reflect.construct",function(d){return d?d:function(d,l,p){void 0===p&&(p=d);p=Object.create(p.prototype||Object.prototype);return Reflect.apply(d,p,l)||p}},"es6","es5");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var h=0;return $jscomp.iteratorPrototype(function(){return h<d.length?{done:!1,value:d[h++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.polyfill("Array.from",function(d){return d?d:function(d,l,p){$jscomp.initSymbolIterator();l=null!=l?l:function(d){return d};var h=[],z=d[Symbol.iterator];if("function"==typeof z)for(d=z.call(d);!(z=d.next()).done;)h.push(l.call(p,z.value));else for(var z=d.length,B=0;B<z;B++)h.push(l.call(p,d[B]));return h}},"es6-impl","es3");
$jscomp.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6-impl","es3");$jscomp.owns=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)};$jscomp.polyfill("Object.assign",function(d){return d?d:function(d,l){for(var h=1;h<arguments.length;h++){var v=arguments[h];if(v)for(var z in v)$jscomp.owns(v,z)&&(d[z]=v[z])}return d}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.fill",function(d){return d?d:function(d,l,p){var h=this.length||0;0>l&&(l=Math.max(0,h+l));if(null==p||p>h)p=h;p=Number(p);0>p&&(p=Math.max(0,h+p));for(l=Number(l||0);l<p;l++)this[l]=d;return this}},"es6-impl","es3");Array.from||(Array.from=function(d){return[].slice.call(d)});Math.imul=Math.imul||function(d,h){var l=d&65535,p=h&65535;return l*p+((d>>>16&65535)*p+l*(h>>>16&65535)<<16>>>0)|0};
function _instanceof(d,h){return null!=h&&"undefined"!==typeof Symbol&&h[Symbol.hasInstance]?!!h[Symbol.hasInstance](d):d instanceof h}function _inherits(d,h){if("function"!==typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,writable:!0,configurable:!0}});h&&_setPrototypeOf(d,h)}
function _setPrototypeOf(d,h){_setPrototypeOf=Object.setPrototypeOf||function(d,h){d.__proto__=h;return d};return _setPrototypeOf(d,h)}function _createSuper(d){var h=_isNativeReflectConstruct();return function(){var l=_getPrototypeOf(d);if(h)var p=_getPrototypeOf(this).constructor,l=Reflect.construct(l,arguments,p);else l=l.apply(this,arguments);return _possibleConstructorReturn(this,l)}}
function _possibleConstructorReturn(d,h){return!h||"object"!==_typeof(h)&&"function"!==typeof h?_assertThisInitialized(d):h}function _assertThisInitialized(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}
function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(d){return!1}}function _getPrototypeOf(d){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)};return _getPrototypeOf(d)}
function _createForOfIteratorHelper(d,h){var l;if("undefined"===typeof Symbol||null==d[Symbol.iterator]){if(Array.isArray(d)||(l=_unsupportedIterableToArray(d))||h&&d&&"number"===typeof d.length){l&&(d=l);var p=0,v=function(){};return{s:v,n:function(){return p>=d.length?{done:!0}:{done:!1,value:d[p++]}},e:function(d){throw d;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var z=!0,
B=!1,C;return{s:function(){l=d[Symbol.iterator]()},n:function(){var d=l.next();z=d.done;return d},e:function(d){B=!0;C=d},f:function(){try{z||null==l["return"]||l["return"]()}finally{if(B)throw C;}}}}function _classCallCheck(d,h){if(!_instanceof(d,h))throw new TypeError("Cannot call a class as a function");}function _defineProperties(d,h){for(var l=0;l<h.length;l++){var p=h[l];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(d,p.key,p)}}
function _createClass(d,h,l){h&&_defineProperties(d.prototype,h);l&&_defineProperties(d,l);return d}function _typeof(d){"@babel/helpers - typeof";_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return _typeof(d)}
function _toConsumableArray(d){return _arrayWithoutHoles(d)||_iterableToArray(d)||_unsupportedIterableToArray(d)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(d){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(d))return Array.from(d)}
function _arrayWithoutHoles(d){if(Array.isArray(d))return _arrayLikeToArray(d)}function _slicedToArray(d,h){return _arrayWithHoles(d)||_iterableToArrayLimit(d,h)||_unsupportedIterableToArray(d,h)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(d,h){if(d){if("string"===typeof d)return _arrayLikeToArray(d,h);var l=Object.prototype.toString.call(d).slice(8,-1);"Object"===l&&d.constructor&&(l=d.constructor.name);if("Map"===l||"Set"===l)return Array.from(d);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return _arrayLikeToArray(d,h)}}function _arrayLikeToArray(d,h){if(null==h||h>d.length)h=d.length;for(var l=0,p=Array(h);l<h;l++)p[l]=d[l];return p}
function _iterableToArrayLimit(d,h){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(d)){var l=[],p=!0,v=!1,z=void 0;try{for(var B=d[Symbol.iterator](),C;!(p=(C=B.next()).done)&&(l.push(C.value),!h||l.length!==h);p=!0);}catch(H){v=!0,z=H}finally{try{if(!p&&null!=B["return"])B["return"]()}finally{if(v)throw z;}}return l}}function _arrayWithHoles(d){if(Array.isArray(d))return d}
var rough=function(){function d(b,a,e){if(b&&b.length){a=_slicedToArray(a,2);var c=a[0],f=a[1];e*=Math.PI/180;var k=Math.cos(e),d=Math.sin(e);b.forEach(function(a){var e=_slicedToArray(a,2),b=e[0],e=e[1];a[0]=(b-c)*k-(e-f)*d+c;a[1]=(b-c)*d+(e-f)*k+f})}}function h(b){var a=b[0];b=b[1];return Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))}function l(b,a,e,c){var f=a[1]-b[1];a=b[0]-a[0];b=f*b[0]+a*b[1];var k=c[1]-e[1];c=e[0]-c[0];e=k*e[0]+c*e[1];var d=f*c-k*a;return d?[(c*b-a*e)/d,(f*e-k*b)/
d]:null}function p(b,a,e){var c=b.length;if(3>c)return!1;var f=[Number.MAX_SAFE_INTEGER,e];a=[a,e];for(var k=e=0;k<c;k++){var d=b[k],g=b[(k+1)%c];if(B(d,g,a,f)){if(0===z(d,a,g))return v(d,a,g);e++}}return 1==e%2}function v(b,a,e){return a[0]<=Math.max(b[0],e[0])&&a[0]>=Math.min(b[0],e[0])&&a[1]<=Math.max(b[1],e[1])&&a[1]>=Math.min(b[1],e[1])}function z(b,a,e){b=(a[1]-b[1])*(e[0]-a[0])-(a[0]-b[0])*(e[1]-a[1]);return 0===b?0:0<b?1:2}function B(b,a,e,c){var f=z(b,a,e),k=z(b,a,c),d=z(e,c,b),g=z(e,c,a);
return f!==k&&d!==g||!(0!==f||!v(b,e,a))||!(0!==k||!v(b,c,a))||!(0!==d||!v(e,b,c))||!(0!==g||!v(e,a,c))}function C(b,a){var e=[0,0],c=Math.round(a.hachureAngle+90);c&&d(b,e,c);var f=function(a,e){var c=_toConsumableArray(a);c[0].join(",")!==c[c.length-1].join(",")&&c.push([c[0][0],c[0][1]]);var f=[];if(c&&2<c.length){var b=function(){var a=e.hachureGap;0>a&&(a=4*e.strokeWidth);for(var a=Math.max(a,.1),b=[],k=0;k<c.length-1;k++){var g=c[k],d=c[k+1];if(g[1]!==d[1]){var n=Math.min(g[1],d[1]);b.push({ymin:n,
ymax:Math.max(g[1],d[1]),x:n===g[1]?g[0]:d[0],islope:(d[0]-g[0])/(d[1]-g[1])})}}if(b.sort(function(a,c){return a.ymin<c.ymin?-1:a.ymin>c.ymin?1:a.x<c.x?-1:a.x>c.x?1:a.ymax===c.ymax?0:(a.ymax-c.ymax)/Math.abs(a.ymax-c.ymax)}),!b.length)return{v:f};for(var m=[],r=b[0].ymin;m.length||b.length;){if(b.length){k=-1;for(g=0;g<b.length&&!(b[g].ymin>r);g++)k=g;b.splice(0,k+1).forEach(function(a){m.push({s:r,edge:a})})}if(m=m.filter(function(a){return!(a.edge.ymax<=r)}),m.sort(function(a,c){return a.edge.x===
c.edge.x?0:(a.edge.x-c.edge.x)/Math.abs(a.edge.x-c.edge.x)}),1<m.length)for(k=0;k<m.length;k+=2){g=k+1;if(g>=m.length)break;f.push([[Math.round(m[k].edge.x),r],[Math.round(m[g].edge.x),r]])}r+=a;m.forEach(function(c){c.edge.x+=a*c.edge.islope})}}();if("object"===_typeof(b))return b.v}return f}(b,a);return c&&(d(b,e,-c),function(a,c,e){var f=[];a.forEach(function(a){return f.push.apply(f,_toConsumableArray(a))});d(f,c,e)}(f,e,-c)),f}function H(b){var a=[],e;a:{e=b;for(var c=[];""!==e;){if(!e.match(/^([ \t\r\n,]+)/))if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))c[c.length]=
{type:0,text:RegExp.$1};else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){e=[];break a}c[c.length]={type:1,text:"".concat(parseFloat(RegExp.$1))}}e=e.substr(RegExp.$1.length)}e=(c[c.length]={type:2,text:""},c)}for(var c="BOD",f=0,k=e[f];2!==k.type;){var d=0,g=[];if("BOD"===c){if("M"!==k.text&&"m"!==k.text)return H("M0,0"+b);f++;d=K[k.text];c=k.text}else 1===k.type?d=K[c]:(f++,d=K[k.text],c=k.text);if(!(f+d<e.length))throw Error("Path data ended short");for(k=f;k<f+d;k++){var n=
e[k];if(1!==n.type)throw Error("Param not a number: "+c+","+n.text);g[g.length]=+n.text}if("number"!=typeof K[c])throw Error("Bad segment: "+c);a.push({key:c,data:g});f+=d;k=e[f];"M"===c&&(c="L");"m"===c&&(c="l")}return a}function W(b){var a,e,c,f,k,d,g=0,n=0,m=0,x=0,w=[];b=_createForOfIteratorHelper(b);var t;try{for(b.s();!(t=b.n()).done;){var h=t.value,q=h.data;switch(h.key){case "M":w.push({key:"M",data:_toConsumableArray(q)});a=q;e=_slicedToArray(a,2);g=e[0];n=e[1];a;c=q;f=_slicedToArray(c,2);
m=f[0];x=f[1];c;break;case "m":g+=q[0];n+=q[1];w.push({key:"M",data:[g,n]});m=g;x=n;break;case "L":w.push({key:"L",data:_toConsumableArray(q)});k=q;d=_slicedToArray(k,2);g=d[0];n=d[1];k;break;case "l":g+=q[0];n+=q[1];w.push({key:"L",data:[g,n]});break;case "C":w.push({key:"C",data:_toConsumableArray(q)});g=q[4];n=q[5];break;case "c":var l=q.map(function(a,c){return c%2?a+n:a+g});w.push({key:"C",data:l});g=l[4];n=l[5];break;case "Q":w.push({key:"Q",data:_toConsumableArray(q)});g=q[2];n=q[3];break;
case "q":var p=q.map(function(a,c){return c%2?a+n:a+g});w.push({key:"Q",data:p});g=p[2];n=p[3];break;case "A":w.push({key:"A",data:_toConsumableArray(q)});g=q[5];n=q[6];break;case "a":g+=q[5];n+=q[6];w.push({key:"A",data:[q[0],q[1],q[2],q[3],q[4],g,n]});break;case "H":w.push({key:"H",data:_toConsumableArray(q)});g=q[0];break;case "h":g+=q[0];w.push({key:"H",data:[g]});break;case "V":w.push({key:"V",data:_toConsumableArray(q)});n=q[0];break;case "v":n+=q[0];w.push({key:"V",data:[n]});break;case "S":w.push({key:"S",
data:_toConsumableArray(q)});g=q[2];n=q[3];break;case "s":var u=q.map(function(a,c){return c%2?a+n:a+g});w.push({key:"S",data:u});g=u[2];n=u[3];break;case "T":w.push({key:"T",data:_toConsumableArray(q)});g=q[0];n=q[1];break;case "t":g+=q[0];n+=q[1];w.push({key:"T",data:[g,n]});break;case "Z":case "z":w.push({key:"Z",data:[]}),g=m,n=x}}}catch(y){b.e(y)}finally{b.f()}return w}function X(b){var a,e,c,f,k,d,g=[],n="",m=0,x=0,w=0,t=0,h=0,q=0;b=_createForOfIteratorHelper(b);var l;try{for(b.s();!(l=b.n()).done;){var p=
l.value,u=p.key,y=p.data;switch(u){case "M":g.push({key:"M",data:_toConsumableArray(y)});a=y;e=_slicedToArray(a,2);m=e[0];x=e[1];a;c=y;f=_slicedToArray(c,2);w=f[0];t=f[1];c;break;case "C":g.push({key:"C",data:_toConsumableArray(y)});m=y[4];x=y[5];h=y[2];q=y[3];break;case "L":g.push({key:"L",data:_toConsumableArray(y)});k=y;d=_slicedToArray(k,2);m=d[0];x=d[1];k;break;case "H":m=y[0];g.push({key:"L",data:[m,x]});break;case "V":x=y[0];g.push({key:"L",data:[m,x]});break;case "S":var F=0,v=0;"C"===n||
"S"===n?(F=m+(m-h),v=x+(x-q)):(F=m,v=x);g.push({key:"C",data:[F,v].concat(_toConsumableArray(y))});h=y[0];q=y[1];m=y[2];x=y[3];break;case "T":var z=_slicedToArray(y,2),A=z[0],B=z[1],v=F=0;"Q"===n||"T"===n?(F=m+(m-h),v=x+(x-q)):(F=m,v=x);g.push({key:"C",data:[m+2*(F-m)/3,x+2*(v-x)/3,A+2*(F-A)/3,B+2*(v-B)/3,A,B]});h=F;q=v;m=A;x=B;break;case "Q":var C=_slicedToArray(y,4),D=C[0],G=C[1],E=C[2],H=C[3];g.push({key:"C",data:[m+2*(D-m)/3,x+2*(G-x)/3,E+2*(D-E)/3,H+2*(G-H)/3,E,H]});h=D;q=G;m=E;x=H;break;case "A":var I=
Math.abs(y[0]),J=Math.abs(y[1]),K=y[2],N=y[3],O=y[4],L=y[5],M=y[6];if(0===I||0===J)g.push({key:"C",data:[m,x,L,M,L,M]}),m=L,x=M;else if(m!==L||x!==M)Y(m,x,L,M,I,J,K,N,O).forEach(function(a){g.push({key:"C",data:a})}),m=L,x=M;break;case "Z":g.push({key:"Z",data:[]}),m=w,x=t}n=u}}catch(ka){b.e(ka)}finally{b.f()}return g}function I(b,a,e){return[b*Math.cos(e)-a*Math.sin(e),b*Math.sin(e)+a*Math.cos(e)]}function Y(b,a,e,c,f,k,d,g,n,m){var r=(w=d,Math.PI*w/180),w;w=[];var t,h,q;if(m)q=_slicedToArray(m,
4),t=q[0],g=q[1],h=q[2],q=q[3];else{t=I(b,a,-r);a=_slicedToArray(t,2);b=a[0];a=a[1];t;t=I(e,c,-r);c=_slicedToArray(t,2);e=c[0];c=c[1];t;t=(b-e)/2;h=(a-c)/2;q=t*t/(f*f)+h*h/(k*k);1<q&&(q=Math.sqrt(q),f*=q,k*=q);q=f*f;var l=k*k;g=(g===n?-1:1)*Math.sqrt(Math.abs((q*l-q*h*h-l*t*t)/(q*h*h+l*t*t)));h=g*f*h/k+(b+e)/2;q=g*-k*t/f+(a+c)/2;t=Math.asin(parseFloat(((a-q)/k).toFixed(9)));g=Math.asin(parseFloat(((c-q)/k).toFixed(9)));b<h&&(t=Math.PI-t);e<h&&(g=Math.PI-g);0>t&&(t=2*Math.PI+t);0>g&&(g=2*Math.PI+g);
n&&t>g&&(t-=2*Math.PI);!n&&g>t&&(g-=2*Math.PI)}Math.abs(g-t)>120*Math.PI/180&&(g=n&&g>t?t+120*Math.PI/180*1:t+120*Math.PI/180*-1,w=Y(e=h+f*Math.cos(g),c=q+k*Math.sin(g),e,c,f,k,d,0,n,[g,g,h,q]));d=Math.tan((g-t)/4);f=4/3*f*d;d*=4/3*k;k=[b,a];b=[b+f*Math.sin(t),a-d*Math.cos(t)];a=[e+f*Math.sin(g),c-d*Math.cos(g)];e=[e,c];if(b[0]=2*k[0]-b[0],b[1]=2*k[1]-b[1],m)return[b,a,e].concat(w);w=[b,a,e].concat(w);m=[];for(e=0;e<w.length;e+=3)c=I(w[e][0],w[e][1],r),b=I(w[e+1][0],w[e+1][1],r),a=I(w[e+2][0],w[e+
2][1],r),m.push([c[0],c[1],b[0],b[1],a[0],a[1]]);return m}function N(b,a,e){var c=(b||[]).length;if(2<c){for(var f=[],k=0;k<c-1;k++)f.push.apply(f,_toConsumableArray(D(b[k][0],b[k][1],b[k+1][0],b[k+1][1],e)));return a&&f.push.apply(f,_toConsumableArray(D(b[c-1][0],b[c-1][1],b[0][0],b[0][1],e))),{type:"path",ops:f}}return 2===c?{type:"path",ops:D(b[0][0],b[0][1],b[1][0],b[1][1],e)}:{type:"path",ops:[]}}function la(b,a){var e=Z(b,1*(1+.2*a.roughness),a);if(!a.disableMultiStroke){var c=1.5*(1+.22*a.roughness),
f=Object.assign({},a);f.randomizer=void 0;a.seed&&(f.seed=a.seed+1);c=Z(b,c,f);e=e.concat(c)}return{type:"path",ops:e}}function aa(b,a,e){var c=2*Math.PI/Math.max(e.curveStepCount,e.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(b/2,2)+Math.pow(a/2,2))/2)));b=Math.abs(b/2);a=Math.abs(a/2);var f=1-e.curveFitting;return b+=u(b*f,e),a+=u(a*f,e),{increment:c,rx:b,ry:a}}function T(b,a,e,c){var f=ba(c.increment,b,a,c.rx,c.ry,1,c.increment*O(.1,O(.4,1,e),e),e),k=_slicedToArray(f,2),
f=k[1],k=P(k[0],null,e);e.disableMultiStroke||(b=ba(c.increment,b,a,c.rx,c.ry,1.5,0,e),b=_slicedToArray(b,1)[0],e=P(b,null,e),k=k.concat(e));return{estimatedPoints:f,opset:{type:"path",ops:k}}}function ca(b,a,e,c,f,k,d,g,n){e=Math.abs(e/2);c=Math.abs(c/2);e+=u(.01*e,n);for(c+=u(.01*c,n);0>f;)f+=2*Math.PI,k+=2*Math.PI;k-f>2*Math.PI&&(f=0,k=2*Math.PI);var m=Math.min(2*Math.PI/n.curveStepCount/2,(k-f)/2),r=da(m,b,a,e,c,f,k,1,n);n.disableMultiStroke||(m=da(m,b,a,e,c,f,k,1.5,n),r.push.apply(r,_toConsumableArray(m)));
return d&&(g?r.push.apply(r,_toConsumableArray(D(b,a,b+e*Math.cos(f),a+c*Math.sin(f),n)).concat(_toConsumableArray(D(b,a,b+e*Math.cos(k),a+c*Math.sin(k),n)))):r.push({op:"lineTo",data:[b,a]},{op:"lineTo",data:[b+e*Math.cos(f),a+c*Math.sin(f)]})),{type:"path",ops:r}}function J(b,a){var e=[];if(b.length){var c=a.maxRandomnessOffset||0,f=b.length;if(2<f){e.push({op:"move",data:[b[0][0]+u(c,a),b[0][1]+u(c,a)]});for(var k=1;k<f;k++)e.push({op:"lineTo",data:[b[k][0]+u(c,a),b[k][1]+u(c,a)]})}}return{type:"fillPath",
ops:e}}function G(b,a){var e=ma,c=a.fillStyle||"hachure";if(!A[c])switch(c){case "zigzag":A[c]||(A[c]=new na(e));break;case "cross-hatch":A[c]||(A[c]=new oa(e));break;case "dots":A[c]||(A[c]=new pa(e));break;case "dashed":A[c]||(A[c]=new qa(e));break;case "zigzag-line":A[c]||(A[c]=new ra(e));break;default:c="hachure",A[c]||(A[c]=new U(e))}return A[c].fillPolygon(b,a)}function ea(b){return b.randomizer||(b.randomizer=new sa(b.seed||0)),b.randomizer.next()}function O(b,a,e){return e.roughness*(3<arguments.length&&
void 0!==arguments[3]?arguments[3]:1)*(ea(e)*(a-b)+b)}function u(b,a){return O(-b,b,a,2<arguments.length&&void 0!==arguments[2]?arguments[2]:1)}function D(b,a,e,c,f){var k=5<arguments.length&&void 0!==arguments[5]&&arguments[5]?f.disableMultiStrokeFill:f.disableMultiStroke,d=fa(b,a,e,c,f,!0,!1);if(k)return d;k=fa(b,a,e,c,f,!0,!0);return d.concat(k)}function fa(b,a,e,c,f,k,d){var g=Math.pow(b-e,2)+Math.pow(a-c,2),n=Math.sqrt(g),m=1,m=200>n?1:500<n?.4:-.0016668*n+1.233334,r=f.maxRandomnessOffset||0;
r*r*100>g&&(r=n/10);var h=r/2,g=.2+.2*ea(f),n=f.bowing*f.maxRandomnessOffset*(c-a)/200,t=f.bowing*f.maxRandomnessOffset*(b-e)/200,n=u(n,f,m),t=u(t,f,m),l=[],q=function(){return u(h,f,m)},p=function(){return u(r,f,m)},v=f.preserveVertices;return k&&(d?l.push({op:"move",data:[b+(v?0:q()),a+(v?0:q())]}):l.push({op:"move",data:[b+(v?0:u(r,f,m)),a+(v?0:u(r,f,m))]})),d?l.push({op:"bcurveTo",data:[n+b+(e-b)*g+q(),t+a+(c-a)*g+q(),n+b+2*(e-b)*g+q(),t+a+2*(c-a)*g+q(),e+(v?0:q()),c+(v?0:q())]}):l.push({op:"bcurveTo",
data:[n+b+(e-b)*g+p(),t+a+(c-a)*g+p(),n+b+2*(e-b)*g+p(),t+a+2*(c-a)*g+p(),e+(v?0:p()),c+(v?0:p())]}),l}function Z(b,a,e){var c=[];c.push([b[0][0]+u(a,e),b[0][1]+u(a,e)]);c.push([b[0][0]+u(a,e),b[0][1]+u(a,e)]);for(var f=1;f<b.length;f++)c.push([b[f][0]+u(a,e),b[f][1]+u(a,e)]),f===b.length-1&&c.push([b[f][0]+u(a,e),b[f][1]+u(a,e)]);return P(c,null,e)}function P(b,a,e){var c=b.length,f=[];if(3<c){var k=[],d=1-e.curveTightness;f.push({op:"move",data:[b[1][0],b[1][1]]});for(var g=1;g+2<c;g++){var n=b[g];
k[0]=[n[0],n[1]];k[1]=[n[0]+(d*b[g+1][0]-d*b[g-1][0])/6,n[1]+(d*b[g+1][1]-d*b[g-1][1])/6];k[2]=[b[g+1][0]+(d*b[g][0]-d*b[g+2][0])/6,b[g+1][1]+(d*b[g][1]-d*b[g+2][1])/6];k[3]=[b[g+1][0],b[g+1][1]];f.push({op:"bcurveTo",data:[k[1][0],k[1][1],k[2][0],k[2][1],k[3][0],k[3][1]]})}a&&2===a.length&&(b=e.maxRandomnessOffset,f.push({op:"lineTo",data:[a[0]+u(b,e),a[1]+u(b,e)]}))}else 3===c?(f.push({op:"move",data:[b[1][0],b[1][1]]}),f.push({op:"bcurveTo",data:[b[1][0],b[1][1],b[2][0],b[2][1],b[2][0],b[2][1]]})):
2===c&&f.push.apply(f,_toConsumableArray(D(b[0][0],b[0][1],b[1][0],b[1][1],e)));return f}function ba(b,a,e,c,f,k,d,g){var n=[],m=[],r=u(.5,g)-Math.PI/2;m.push([u(k,g)+a+.9*c*Math.cos(r-b),u(k,g)+e+.9*f*Math.sin(r-b)]);for(var h=r;h<2*Math.PI+r-.01;h+=b){var t=[u(k,g)+a+c*Math.cos(h),u(k,g)+e+f*Math.sin(h)];n.push(t);m.push(t)}return m.push([u(k,g)+a+c*Math.cos(r+2*Math.PI+.5*d),u(k,g)+e+f*Math.sin(r+2*Math.PI+.5*d)]),m.push([u(k,g)+a+.98*c*Math.cos(r+d),u(k,g)+e+.98*f*Math.sin(r+d)]),m.push([u(k,
g)+a+.9*c*Math.cos(r+.5*d),u(k,g)+e+.9*f*Math.sin(r+.5*d)]),[m,n]}function da(b,a,e,c,f,k,d,g,n){var m=k+u(.1,n);k=[];for(k.push([u(g,n)+a+.9*c*Math.cos(m-b),u(g,n)+e+.9*f*Math.sin(m-b)]);m<=d;m+=b)k.push([u(g,n)+a+c*Math.cos(m),u(g,n)+e+f*Math.sin(m)]);return k.push([a+c*Math.cos(d),e+f*Math.sin(d)]),k.push([a+c*Math.cos(d),e+f*Math.sin(d)]),P(k,null,n)}function ta(b,a,e,c,f,d,r,g){for(var k=[],m=[g.maxRandomnessOffset||1,(g.maxRandomnessOffset||1)+.3],h,w=g.disableMultiStroke?1:2,t=g.preserveVertices,
l=0;l<w;l++)0===l?k.push({op:"move",data:[r[0],r[1]]}):k.push({op:"move",data:[r[0]+(t?0:u(m[0],g)),r[1]+(t?0:u(m[0],g))]}),h=t?[f,d]:[f+u(m[l],g),d+u(m[l],g)],k.push({op:"bcurveTo",data:[b+u(m[l],g),a+u(m[l],g),e+u(m[l],g),c+u(m[l],g),h[0],h[1]]});return k}function Q(b,a){return Math.pow(b[0]-a[0],2)+Math.pow(b[1]-a[1],2)}function E(b,a,e){return[b[0]+(a[0]-b[0])*e,b[1]+(a[1]-b[1])*e]}function V(b,a,e,c){c=c||[];var f=b[a+0],d=b[a+1],r=b[a+2],g=b[a+3],n=3*d[0]-2*f[0]-g[0],n=n*n,d=3*d[1]-2*f[1]-g[1],
d=d*d,m=3*r[0]-2*g[0]-f[0],m=m*m,f=3*r[1]-2*g[1]-f[1];(f*=f,n<m&&(n=m),d<f&&(d=f),n+d)<e?(e=b[a+0],c.length?1<(h=c[c.length-1],l=e,Math.sqrt(Q(h,l)))&&c.push(e):c.push(e),c.push(b[a+3])):(h=b[a+0],n=b[a+1],l=b[a+2],b=b[a+3],a=E(h,n,.5),f=E(n,l,.5),l=E(l,b,.5),n=E(a,f,.5),f=E(f,l,.5),r=E(n,f,.5),V([h,a,n,r],0,e,c),V([r,f,l,b],0,e,c));var h,l;return c}function R(b,a,e,c,f){f=f||[];for(var d=b[a],r=b[e-1],g=0,n=1,m=a+1;m<e-1;++m){var h;h=b[m];var l=d,t=r,p=Q(l,t);0===p?h=Q(h,l):(p=((h[0]-l[0])*(t[0]-
l[0])+(h[1]-l[1])*(t[1]-l[1]))/p,h=(p=Math.max(0,Math.min(1,p)),Q(h,E(l,t,p))));h>g&&(g=h,n=m)}return Math.sqrt(g)>c?(R(b,a,n+1,c,f),R(b,n,e,c,f)):(f.length||f.push(d),f.push(r)),f}function ga(b){for(var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.15,e=2<arguments.length?arguments[2]:void 0,c=[],f=(b.length-1)/3,d=0;d<f;d++)V(b,3*d,a,c);return e&&0<e?R(c,0,c.length,e):c}var U=function(){function b(a){_classCallCheck(this,b);this.helper=a}_createClass(b,[{key:"fillPolygon",value:function(a,
e){return this._fillPolygon(a,e)}},{key:"_fillPolygon",value:function(a,e){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=C(a,e);c&&(c=this.connectingLines(a,f),f=f.concat(c));return{type:"fillSketch",ops:this.renderLines(f,e)}}},{key:"renderLines",value:function(a,e){var c=[],f=_createForOfIteratorHelper(a),b;try{for(f.s();!(b=f.n()).done;){var d=b.value;c.push.apply(c,_toConsumableArray(this.helper.doubleLineOps(d[0][0],d[0][1],d[1][0],d[1][1],e)))}}catch(g){f.e(g)}finally{f.f()}return c}},
{key:"connectingLines",value:function(a,e){var c=[];if(1<e.length)for(var f=1;f<e.length;f++){var b=e[f-1];3>h(b)||(b=[e[f][0],b[1]],3<h(b)&&(b=this.splitOnIntersections(a,b),c.push.apply(c,_toConsumableArray(b))))}return c}},{key:"midPointInPolygon",value:function(a,e){return p(a,(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2)}},{key:"splitOnIntersections",value:function(a,e){for(var c=Math.max(5,.1*h(e)),b=[],d=0;d<a.length;d++){var r=a[d],g=a[(d+1)%a.length];if(B.apply(void 0,[r,g].concat(_toConsumableArray(e)))&&
(r=l(r,g,e[0],e[1]))){var g=h([r,e[0]]),n=h([r,e[1]]);g>c&&n>c&&b.push({point:r,distance:g})}}if(1<b.length){c=b.sort(function(a,c){return a.distance-c.distance}).map(function(a){return a.point});if(p.apply(void 0,[a].concat(_toConsumableArray(e[0])))||c.shift(),p.apply(void 0,[a].concat(_toConsumableArray(e[1])))||c.pop(),1>=c.length)return this.midPointInPolygon(a,e)?[e]:[];c=[e[0]].concat(_toConsumableArray(c),[e[1]]);b=[];for(d=0;d<c.length-1;d+=2)r=[c[d],c[d+1]],this.midPointInPolygon(a,r)&&
b.push(r);return b}return this.midPointInPolygon(a,e)?[e]:[]}}]);return b}(),na=function(b){function a(){_classCallCheck(this,a);return e.apply(this,arguments)}_inherits(a,b);var e=_createSuper(a);_createClass(a,[{key:"fillPolygon",value:function(a,e){return this._fillPolygon(a,e,!0)}}]);return a}(U),oa=function(b){function a(){_classCallCheck(this,a);return e.apply(this,arguments)}_inherits(a,b);var e=_createSuper(a);_createClass(a,[{key:"fillPolygon",value:function(a,e){var c=this._fillPolygon(a,
e),b=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),b=this._fillPolygon(a,b);return c.ops=c.ops.concat(b.ops),c}}]);return a}(U),pa=function(){function b(a){_classCallCheck(this,b);this.helper=a}_createClass(b,[{key:"fillPolygon",value:function(a,e){var c=C(a,e=Object.assign({},e,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(c,e)}},{key:"dotsOnLines",value:function(a,e){var c=[],b=e.hachureGap;0>b&&(b=4*e.strokeWidth);var b=Math.max(b,.1),d=e.fillWeight;0>d&&(d=e.strokeWidth/
2);var r=b/4,g=_createForOfIteratorHelper(a),n;try{for(g.s();!(n=g.n()).done;)for(var m=n.value,l=h(m),w=Math.ceil(l/b)-1,t=l-w*b,p=(m[0][0]+m[1][0])/2-b/4,q=Math.min(m[0][1],m[1][1]),u=0;u<w;u++){var v=q+t+u*b,z=this.helper.randOffsetWithRange(p-r,p+r,e),y=this.helper.randOffsetWithRange(v-r,v+r,e),F=this.helper.ellipse(z,y,d,d,e);c.push.apply(c,_toConsumableArray(F.ops))}}catch(ha){g.e(ha)}finally{g.f()}return{type:"fillSketch",ops:c}}}]);return b}(),qa=function(){function b(a){_classCallCheck(this,
b);this.helper=a}_createClass(b,[{key:"fillPolygon",value:function(a,e){var c=C(a,e);return{type:"fillSketch",ops:this.dashedLine(c,e)}}},{key:"dashedLine",value:function(a,e){var c=this,b=0>e.dashOffset?0>e.hachureGap?4*e.strokeWidth:e.hachureGap:e.dashOffset,d=0>e.dashGap?0>e.hachureGap?4*e.strokeWidth:e.hachureGap:e.dashGap,r=[];return a.forEach(function(a){var f=h(a),g=Math.floor(f/(b+d)),f=(f+d-g*(b+d))/2,k=a[0],l=a[1];k[0]>l[0]&&(k=a[1],l=a[0]);a=Math.atan((l[1]-k[1])/(l[0]-k[0]));for(l=0;l<
g;l++){var t=l*(b+d),p=t+b,t=[k[0]+t*Math.cos(a)+f*Math.cos(a),k[1]+t*Math.sin(a)+f*Math.sin(a)],p=[k[0]+p*Math.cos(a)+f*Math.cos(a),k[1]+p*Math.sin(a)+f*Math.sin(a)];r.push.apply(r,_toConsumableArray(c.helper.doubleLineOps(t[0],t[1],p[0],p[1],e)))}}),r}}]);return b}(),ra=function(){function b(a){_classCallCheck(this,b);this.helper=a}_createClass(b,[{key:"fillPolygon",value:function(a,e){var c=0>e.hachureGap?4*e.strokeWidth:e.hachureGap,b=0>e.zigzagOffset?c:e.zigzagOffset,c=C(a,e=Object.assign({},
e,{hachureGap:c+b}));return{type:"fillSketch",ops:this.zigzagLines(c,b,e)}}},{key:"zigzagLines",value:function(a,e,c){var b=this,d=[];return a.forEach(function(a){var f=h(a),f=Math.round(f/(2*e)),k=a[0],m=a[1];k[0]>m[0]&&(k=a[1],m=a[0]);a=Math.atan((m[1]-k[1])/(m[0]-k[0]));for(m=0;m<f;m++){var l=2*m*e,r=2*(m+1)*e,t=Math.sqrt(2*Math.pow(e,2)),l=[k[0]+l*Math.cos(a),k[1]+l*Math.sin(a)],r=[k[0]+r*Math.cos(a),k[1]+r*Math.sin(a)],t=[l[0]+t*Math.cos(a+Math.PI/4),l[1]+t*Math.sin(a+Math.PI/4)];d.push.apply(d,
_toConsumableArray(b.helper.doubleLineOps(l[0],l[1],t[0],t[1],c)).concat(_toConsumableArray(b.helper.doubleLineOps(t[0],t[1],r[0],r[1],c))))}}),d}}]);return b}(),A={},sa=function(){function b(a){_classCallCheck(this,b);this.seed=a}_createClass(b,[{key:"next",value:function(){return this.seed?(Math.pow(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/Math.pow(2,31):Math.random()}}]);return b}(),K={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},ma={randOffset:function(b,
a){return u(b,a)},randOffsetWithRange:function(b,a,e){return O(b,a,e)},ellipse:function(b,a,e,c,d){e=aa(e,c,d);return T(b,a,d,e).opset},doubleLineOps:function(b,a,e,c,d){return D(b,a,e,c,d,!0)}},S=function(){function b(a){_classCallCheck(this,b);this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,
combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1};this.config=a||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}_createClass(b,[{key:"_o",value:function(a){return a?Object.assign({},this.defaultOptions,a):this.defaultOptions}},{key:"_d",value:function(a,e,c){return{shape:a,sets:e||[],options:c||this.defaultOptions}}},{key:"line",value:function(a,e,c,b,d){d=this._o(d);return this._d("line",[{type:"path",ops:D(a,e,c,b,d)}],d)}},
{key:"rectangle",value:function(a,e,c,b,d){d=this._o(d);var f=[],g;g=N([[a,e],[a+c,e],[a+c,e+b],[a,e+b]],!0,d);d.fill&&(a=[[a,e],[a+c,e],[a+c,e+b],[a,e+b]],"solid"===d.fillStyle?f.push(J(a,d)):f.push(G(a,d)));return"none"!==d.stroke&&f.push(g),this._d("rectangle",f,d)}},{key:"ellipse",value:function(a,e,c,b,d){d=this._o(d);var f=[];b=aa(c,b,d);c=T(a,e,d,b);d.fill&&("solid"===d.fillStyle?(a=T(a,e,d,b).opset,a.type="fillPath",f.push(a)):f.push(G(c.estimatedPoints,d)));return"none"!==d.stroke&&f.push(c.opset),
this._d("ellipse",f,d)}},{key:"circle",value:function(a,e,c,b){a=this.ellipse(a,e,c,c,b);return a.shape="circle",a}},{key:"linearPath",value:function(a,e){var c=this._o(e);return this._d("linearPath",[N(a,!1,c)],c)}},{key:"arc",value:function(a,e,c,b,d,h){var f=6<arguments.length&&void 0!==arguments[6]?arguments[6]:!1,k=this._o(7<arguments.length?arguments[7]:void 0),m=[],l=ca(a,e,c,b,d,h,f,!0,k);f&&k.fill&&("solid"===k.fillStyle?(f=ca(a,e,c,b,d,h,!0,!1,k),f.type="fillPath",m.push(f)):m.push(function(a,
c,e,b,d,f,g){e=Math.abs(e/2);b=Math.abs(b/2);e+=u(.01*e,g);for(b+=u(.01*b,g);0>d;)d+=2*Math.PI,f+=2*Math.PI;f-d>2*Math.PI&&(d=0,f=2*Math.PI);for(var k=(f-d)/g.curveStepCount,m=[];d<=f;d+=k)m.push([a+e*Math.cos(d),c+b*Math.sin(d)]);return m.push([a+e*Math.cos(f),c+b*Math.sin(f)]),m.push([a,c]),G(m,g)}(a,e,c,b,d,h,k)));return"none"!==k.stroke&&m.push(l),this._d("arc",m,k)}},{key:"curve",value:function(a,e){var c=this._o(e),b=[],d=la(a,c);if(c.fill&&"none"!==c.fill&&3<=a.length){var h=ga(function(a){var c=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=a.length;if(3>e)throw Error("A curve must have at least three points.");var b=[];if(3===e)b.push(_toConsumableArray(a[0]),_toConsumableArray(a[1]),_toConsumableArray(a[2]),_toConsumableArray(a[2]));else{e=[];e.push(a[0],a[0]);for(var d=1;d<a.length;d++)e.push(a[d]),d===a.length-1&&e.push(a[d]);d=[];c=1-c;b.push(_toConsumableArray(e[0]));for(var f=1;f+2<e.length;f++){var g=e[f];d[0]=[g[0],g[1]];d[1]=[g[0]+(c*e[f+1][0]-c*e[f-1][0])/6,g[1]+(c*
e[f+1][1]-c*e[f-1][1])/6];d[2]=[e[f+1][0]+(c*e[f][0]-c*e[f+2][0])/6,e[f+1][1]+(c*e[f][1]-c*e[f+2][1])/6];d[3]=[e[f+1][0],e[f+1][1]];b.push(d[1],d[2],d[3])}}return b}(a),10,(1+c.roughness)/2);"solid"===c.fillStyle?b.push(J(h,c)):b.push(G(h,c))}return"none"!==c.stroke&&b.push(d),this._d("curve",b,c)}},{key:"polygon",value:function(a,e){var c=this._o(e),b=[],d=N(a,!0,c);return c.fill&&("solid"===c.fillStyle?b.push(J(a,c)):b.push(G(a,c))),"none"!==c.stroke&&b.push(d),this._d("polygon",b,c)}},{key:"path",
value:function(a,e){var c=this._o(e),b=[];if(!a)return this._d("path",b,c);a=(a||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var d=c.fill&&"transparent"!==c.fill&&"none"!==c.fill,h="none"!==c.stroke,g=!!(c.simplification&&1>c.simplification),l=function(a,c,e){var b=X(W(H(a))),d=[],f=[];a=[0,0];var g=[],k=function(){var a;4<=g.length&&(a=f).push.apply(a,_toConsumableArray(ga(g,c)));g=[]},h=function(){k();f.length&&(d.push(f),f=[])},b=_createForOfIteratorHelper(b),l;try{for(b.s();!(l=
b.n()).done;){var m=l.value,n=m.data;switch(m.key){case "M":h();a=[n[0],n[1]];f.push(a);break;case "L":k();f.push([n[0],n[1]]);break;case "C":if(!g.length){var r=f.length?f[f.length-1]:a;g.push([r[0],r[1]])}g.push([n[0],n[1]]);g.push([n[2],n[3]]);g.push([n[4],n[5]]);break;case "Z":k(),f.push([a[0],a[1]])}}}catch(ja){b.e(ja)}finally{b.f()}if(h(),!e)return d;l=[];for(m=0;m<d.length;m++)n=d[m],n=R(n,0,n.length,e),n.length&&l.push(n);return l}(a,1,g?4-4*c.simplification:(1+c.roughness)/2);if(d)if(c.combineNestedSvgPaths){var m=
[];l.forEach(function(a){return m.push.apply(m,_toConsumableArray(a))});"solid"===c.fillStyle?b.push(J(m,c)):b.push(G(m,c))}else l.forEach(function(a){"solid"===c.fillStyle?b.push(J(a,c)):b.push(G(a,c))});return h&&(g?l.forEach(function(a){b.push(N(a,!1,c))}):b.push(function(a,c){var e=X(W(H(a))),b=[],d=[0,0],f=[0,0],e=_createForOfIteratorHelper(e),g;try{for(e.s();!(g=e.n()).done;){var k=g.value,h=k.data;switch(k.key){case "M":if("break"===function(){var a=1*(c.maxRandomnessOffset||0),e=c.preserveVertices;
b.push({op:"move",data:h.map(function(b){return b+(e?0:u(a,c))})});f=[h[0],h[1]];d=[h[0],h[1]];return"break"}())break;case "L":b.push.apply(b,_toConsumableArray(D(f[0],f[1],h[0],h[1],c)));f=[h[0],h[1]];break;case "C":var l=_slicedToArray(h,6),m=l[4],n=l[5];b.push.apply(b,_toConsumableArray(ta(l[0],l[1],l[2],l[3],m,n,f,c)));f=[m,n];break;case "Z":b.push.apply(b,_toConsumableArray(D(f[0],f[1],d[0],d[1],c))),f=[d[0],d[1]]}}}catch(ia){e.e(ia)}finally{e.f()}return{type:"path",ops:b}}(a,c))),this._d("path",
b,c)}},{key:"opsToPath",value:function(a,e){var c="",b=_createForOfIteratorHelper(a.ops),d;try{for(b.s();!(d=b.n()).done;){var h=d.value,g="number"==typeof e&&0<=e?h.data.map(function(a){return+a.toFixed(e)}):h.data;switch(h.op){case "move":c+="M".concat(g[0]," ").concat(g[1]," ");break;case "bcurveTo":c+="C".concat(g[0]," ").concat(g[1],", ").concat(g[2]," ").concat(g[3],", ").concat(g[4]," ").concat(g[5]," ");break;case "lineTo":c+="L".concat(g[0]," ").concat(g[1]," ")}}}catch(n){b.e(n)}finally{b.f()}return c.trim()}},
{key:"toPaths",value:function(a){var e=a.options||this.defaultOptions,c=[];a=_createForOfIteratorHelper(a.sets||[]);var b;try{for(a.s();!(b=a.n()).done;){var d=b.value,h=null;switch(d.type){case "path":h={d:this.opsToPath(d),stroke:e.stroke,strokeWidth:e.strokeWidth,fill:"none"};break;case "fillPath":h={d:this.opsToPath(d),stroke:"none",strokeWidth:0,fill:e.fill||"none"};break;case "fillSketch":h=this.fillSketch(d,e)}h&&c.push(h)}}catch(g){a.e(g)}finally{a.f()}return c}},{key:"fillSketch",value:function(a,
e){var c=e.fillWeight;return 0>c&&(c=e.strokeWidth/2),{d:this.opsToPath(a),stroke:e.fill||"none",strokeWidth:c,fill:"none"}}}],[{key:"newSeed",value:function(){return Math.floor(Math.random()*Math.pow(2,31))}}]);return b}(),ua=function(){function b(a,e){_classCallCheck(this,b);this.canvas=a;this.ctx=this.canvas.getContext("2d");this.gen=new S(e)}_createClass(b,[{key:"draw",value:function(a){var e=a.sets||[],c=a.options||this.getDefaultOptions(),b=this.ctx,e=_createForOfIteratorHelper(e),d;try{for(e.s();!(d=
e.n()).done;){var h=d.value;switch(h.type){case "path":b.save();b.strokeStyle="none"===c.stroke?"transparent":c.stroke;b.lineWidth=c.strokeWidth;c.strokeLineDash&&b.setLineDash(c.strokeLineDash);c.strokeLineDashOffset&&(b.lineDashOffset=c.strokeLineDashOffset);this._drawToContext(b,h);b.restore();break;case "fillPath":b.save();b.fillStyle=c.fill||"";this._drawToContext(b,h,"curve"===a.shape||"polygon"===a.shape?"evenodd":"nonzero");b.restore();break;case "fillSketch":this.fillSketch(b,h,c)}}}catch(g){e.e(g)}finally{e.f()}}},
{key:"fillSketch",value:function(a,e,c){var b=c.fillWeight;0>b&&(b=c.strokeWidth/2);a.save();c.fillLineDash&&a.setLineDash(c.fillLineDash);c.fillLineDashOffset&&(a.lineDashOffset=c.fillLineDashOffset);a.strokeStyle=c.fill||"";a.lineWidth=b;this._drawToContext(a,e);a.restore()}},{key:"_drawToContext",value:function(a,e){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"nonzero";a.beginPath();var b=_createForOfIteratorHelper(e.ops),d;try{for(b.s();!(d=b.n()).done;){var h=d.value,g=h.data;
switch(h.op){case "move":a.moveTo(g[0],g[1]);break;case "bcurveTo":a.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5]);break;case "lineTo":a.lineTo(g[0],g[1])}}}catch(n){b.e(n)}finally{b.f()}"fillPath"===e.type?a.fill(c):a.stroke()}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(a,b,c,d,k){a=this.gen.line(a,b,c,d,k);return this.draw(a),a}},{key:"rectangle",value:function(a,b,c,d,k){a=this.gen.rectangle(a,b,c,d,k);return this.draw(a),a}},{key:"ellipse",
value:function(a,b,c,d,k){a=this.gen.ellipse(a,b,c,d,k);return this.draw(a),a}},{key:"circle",value:function(a,b,c,d){a=this.gen.circle(a,b,c,d);return this.draw(a),a}},{key:"linearPath",value:function(a,b){var c=this.gen.linearPath(a,b);return this.draw(c),c}},{key:"polygon",value:function(a,b){var c=this.gen.polygon(a,b);return this.draw(c),c}},{key:"arc",value:function(a,b,c,d,k,h){var e=this.gen.arc(a,b,c,d,k,h,6<arguments.length&&void 0!==arguments[6]?arguments[6]:!1,7<arguments.length?arguments[7]:
void 0);return this.draw(e),e}},{key:"curve",value:function(a,b){var c=this.gen.curve(a,b);return this.draw(c),c}},{key:"path",value:function(a,b){var c=this.gen.path(a,b);return this.draw(c),c}},{key:"generator",get:function(){return this.gen}}]);return b}(),va=function(){function b(a,e){_classCallCheck(this,b);this.svg=a;this.gen=new S(e)}_createClass(b,[{key:"draw",value:function(a){var b=a.sets||[],c=a.options||this.getDefaultOptions(),d=this.svg.ownerDocument||window.document,k=d.createElementNS("http://www.w3.org/2000/svg",
"g"),h=a.options.fixedDecimalPlaceDigits,b=_createForOfIteratorHelper(b),g;try{for(b.s();!(g=b.n()).done;){var l=g.value,m=null;switch(l.type){case "path":m=d.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("d",this.opsToPath(l,h));m.setAttribute("stroke",c.stroke);m.setAttribute("stroke-width",c.strokeWidth+"");m.setAttribute("fill","none");c.strokeLineDash&&m.setAttribute("stroke-dasharray",c.strokeLineDash.join(" ").trim());c.strokeLineDashOffset&&m.setAttribute("stroke-dashoffset",
"".concat(c.strokeLineDashOffset));break;case "fillPath":m=d.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("d",this.opsToPath(l,h));m.setAttribute("stroke","none");m.setAttribute("stroke-width","0");m.setAttribute("fill",c.fill||"");"curve"!==a.shape&&"polygon"!==a.shape||m.setAttribute("fill-rule","evenodd");break;case "fillSketch":m=this.fillSketch(d,l,c)}m&&k.appendChild(m)}}catch(x){b.e(x)}finally{b.f()}return k}},{key:"fillSketch",value:function(a,b,c){var e=c.fillWeight;
0>e&&(e=c.strokeWidth/2);a=a.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",this.opsToPath(b,c.fixedDecimalPlaceDigits)),a.setAttribute("stroke",c.fill||""),a.setAttribute("stroke-width",e+""),a.setAttribute("fill","none"),c.fillLineDash&&a.setAttribute("stroke-dasharray",c.fillLineDash.join(" ").trim()),c.fillLineDashOffset&&a.setAttribute("stroke-dashoffset","".concat(c.fillLineDashOffset)),a}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},
{key:"opsToPath",value:function(a,b){return this.gen.opsToPath(a,b)}},{key:"line",value:function(a,b,c,d,h){a=this.gen.line(a,b,c,d,h);return this.draw(a)}},{key:"rectangle",value:function(a,b,c,d,h){a=this.gen.rectangle(a,b,c,d,h);return this.draw(a)}},{key:"ellipse",value:function(a,b,c,d,h){a=this.gen.ellipse(a,b,c,d,h);return this.draw(a)}},{key:"circle",value:function(a,b,c,d){a=this.gen.circle(a,b,c,d);return this.draw(a)}},{key:"linearPath",value:function(a,b){var c=this.gen.linearPath(a,b);
return this.draw(c)}},{key:"polygon",value:function(a,b){var c=this.gen.polygon(a,b);return this.draw(c)}},{key:"arc",value:function(a,b,c,d,h,l){var e=this.gen.arc(a,b,c,d,h,l,6<arguments.length&&void 0!==arguments[6]?arguments[6]:!1,7<arguments.length?arguments[7]:void 0);return this.draw(e)}},{key:"curve",value:function(a,b){var c=this.gen.curve(a,b);return this.draw(c)}},{key:"path",value:function(a,b){var c=this.gen.path(a,b);return this.draw(c)}},{key:"generator",get:function(){return this.gen}}]);
return b}();return{canvas:function(b,a){return new ua(b,a)},svg:function(b,a){return new va(b,a)},generator:function(b){return new S(b)},newSeed:function(){return S.newSeed()}}}();
var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function($input$$,$binary_chr2$$){var $output$$="",$i$$=0;for(null!=$binary_chr2$$&&$binary_chr2$$||($input$$=Base64._utf8_encode($input$$));$i$$<$input$$.length;){var $chr1_enc2$$=$input$$.charCodeAt($i$$++);$binary_chr2$$=$input$$.charCodeAt($i$$++);var $chr3$$=$input$$.charCodeAt($i$$++);var $enc1$$=$chr1_enc2$$>>2;$chr1_enc2$$=($chr1_enc2$$&3)<<4|$binary_chr2$$>>4;var $enc3$$=($binary_chr2$$&15)<<2|
$chr3$$>>6;var $enc4$$=$chr3$$&63;isNaN($binary_chr2$$)?$enc3$$=$enc4$$=64:isNaN($chr3$$)&&($enc4$$=64);$output$$=$output$$+this._keyStr.charAt($enc1$$)+this._keyStr.charAt($chr1_enc2$$)+this._keyStr.charAt($enc3$$)+this._keyStr.charAt($enc4$$)}return $output$$},decode:function($input$$,$binary$$){$binary$$=null!=$binary$$?$binary$$:!1;var $output$$="",$i$$=0;for($input$$=$input$$.replace(/[^A-Za-z0-9\+\/=]/g,"");$i$$<$input$$.length;){var $chr1$jscomp$1_enc1$$=this._keyStr.indexOf($input$$.charAt($i$$++));
var $chr2$jscomp$1_enc2$$=this._keyStr.indexOf($input$$.charAt($i$$++));var $enc3$$=this._keyStr.indexOf($input$$.charAt($i$$++));var $enc4$$=this._keyStr.indexOf($input$$.charAt($i$$++));$chr1$jscomp$1_enc1$$=$chr1$jscomp$1_enc1$$<<2|$chr2$jscomp$1_enc2$$>>4;$chr2$jscomp$1_enc2$$=($chr2$jscomp$1_enc2$$&15)<<4|$enc3$$>>2;var $chr3$$=($enc3$$&3)<<6|$enc4$$;$output$$+=String.fromCharCode($chr1$jscomp$1_enc1$$);64!=$enc3$$&&($output$$+=String.fromCharCode($chr2$jscomp$1_enc2$$));64!=$enc4$$&&($output$$+=
String.fromCharCode($chr3$$))}$binary$$||($output$$=Base64._utf8_decode($output$$));return $output$$},_utf8_encode:function($string$$){$string$$=$string$$.replace(/\r\n/g,"\n");for(var $utftext$$="",$n$$=0;$n$$<$string$$.length;$n$$++){var $c$$=$string$$.charCodeAt($n$$);128>$c$$?$utftext$$+=String.fromCharCode($c$$):(127<$c$$&&2048>$c$$?$utftext$$+=String.fromCharCode($c$$>>6|192):($utftext$$+=String.fromCharCode($c$$>>12|224),$utftext$$+=String.fromCharCode($c$$>>6&63|128)),$utftext$$+=String.fromCharCode($c$$&
63|128))}return $utftext$$},_utf8_decode:function($utftext$$){var $string$$="",$i$$=0;for(c1=c2=0;$i$$<$utftext$$.length;){var $c$$=$utftext$$.charCodeAt($i$$);128>$c$$?($string$$+=String.fromCharCode($c$$),$i$$++):191<$c$$&&224>$c$$?(c2=$utftext$$.charCodeAt($i$$+1),$string$$+=String.fromCharCode(($c$$&31)<<6|c2&63),$i$$+=2):(c2=$utftext$$.charCodeAt($i$$+1),c3=$utftext$$.charCodeAt($i$$+2),$string$$+=String.fromCharCode(($c$$&15)<<12|(c2&63)<<6|c3&63),$i$$+=3)}return $string$$}};window.urlParams=window.urlParams||{};window.isLocalStorage=window.isLocalStorage||!1;window.mxLoadSettings=window.mxLoadSettings||"1"!=urlParams.configure;window.isSvgBrowser=!0;window.DRAWIO_BASE_URL=window.DRAWIO_BASE_URL||(/.*\.draw\.io$/.test(window.location.hostname)||/.*\.diagrams\.net$/.test(window.location.hostname)?window.location.protocol+"//"+window.location.hostname:"https://app.diagrams.net");
window.DRAWIO_SERVER_URL=window.DRAWIO_SERVER_URL||window.location.origin+window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/"))+"/";window.DRAWIO_LIGHTBOX_URL=window.DRAWIO_LIGHTBOX_URL||"https://viewer.diagrams.net";window.EXPORT_URL=window.EXPORT_URL||"https://convert.diagrams.net/node/export";window.PLANT_URL=window.PLANT_URL||"https://plant-aws.diagrams.net";window.DRAW_MATH_URL=window.DRAW_MATH_URL||"math/es5";window.VSD_CONVERT_URL=window.VSD_CONVERT_URL||"https://convert.diagrams.net/VsdConverter/api/converter";
window.EMF_CONVERT_URL=window.EMF_CONVERT_URL||"https://convert.diagrams.net/emf2png/convertEMF";window.REALTIME_URL=window.REALTIME_URL||window.DRAWIO_SERVER_URL+"cache";window.DRAWIO_GITLAB_URL=window.DRAWIO_GITLAB_URL||"https://gitlab.com";window.DRAWIO_GITLAB_ID=window.DRAWIO_GITLAB_ID||"2b14debc5feeb18ba65358d863ec870e4cc9294b28c3c941cb3014eb4af9a9b4";window.DRAWIO_GITHUB_URL=window.DRAWIO_GITHUB_URL||"https://github.com";window.DRAWIO_GITHUB_API_URL=window.DRAWIO_GITHUB_API_URL||"https://api.github.com";
window.DRAWIO_GITHUB_ID=window.DRAWIO_GITHUB_ID||"Iv1.98d62f0431e40543";window.DRAWIO_DROPBOX_ID=window.DRAWIO_DROPBOX_ID||"jg02tc0onwmhlgm";window.SAVE_URL=window.SAVE_URL||window.DRAWIO_SERVER_URL+"save";window.OPEN_URL=window.OPEN_URL||window.DRAWIO_SERVER_URL+"import";window.PROXY_URL=window.PROXY_URL||window.DRAWIO_SERVER_URL+"proxy";window.DRAWIO_VIEWER_URL=window.DRAWIO_VIEWER_URL||null;window.NOTIFICATIONS_URL=window.NOTIFICATIONS_URL||window.DRAWIO_SERVER_URL+"notifications";
window.RT_WEBSOCKET_URL=window.RT_WEBSOCKET_URL||"wss://"+("test.draw.io"==window.location.hostname?"app.diagrams.net":window.location.hostname)+"/rt";window.SHAPES_PATH=window.SHAPES_PATH||"shapes";window.GRAPH_IMAGE_PATH=window.GRAPH_IMAGE_PATH||"img";window.ICONSEARCH_PATH=window.ICONSEARCH_PATH||(urlParams.dev&&"file:"!=window.location.protocol?"iconSearch":window.DRAWIO_SERVER_URL+"iconSearch");window.TEMPLATE_PATH=window.TEMPLATE_PATH||"templates";
window.NEW_DIAGRAM_CATS_PATH=window.NEW_DIAGRAM_CATS_PATH||"newDiagramCats";window.PLUGINS_BASE_PATH=window.PLUGINS_BASE_PATH||"";window.ALLOW_CUSTOM_PLUGINS=window.ALLOW_CUSTOM_PLUGINS||!1;window.RESOURCES_PATH=window.RESOURCES_PATH||"resources";window.RESOURCE_BASE=window.RESOURCE_BASE||RESOURCES_PATH+"/dia";window.DRAWIO_CONFIG=window.DRAWIO_CONFIG||null;window.mxLoadResources=window.mxLoadResources||!1;
window.mxLanguage=window.mxLanguage||function(){var $lang$$=urlParams.lang;if(null==$lang$$&&"undefined"!=typeof JSON&&isLocalStorage)try{var $value$$=localStorage.getItem(".drawio-config");null!=$value$$&&($lang$$=JSON.parse($value$$).language||null);if(!$lang$$&&window.mxIsElectron&&($lang$$=urlParams.appLang,null!=$lang$$)){var $dash$$=$lang$$.indexOf("-");0<=$dash$$&&($lang$$=$lang$$.substring(0,$dash$$));$lang$$=$lang$$.toLowerCase()}}catch($e$$){isLocalStorage=!1}return $lang$$}();
window.mxLanguageMap=window.mxLanguageMap||{i18n:"",id:"Bahasa Indonesia",ms:"Bahasa Melayu",bs:"Bosanski",bg:"Bulgarian",ca:"Catal",cs:"etina",da:"Dansk",de:"Deutsch",et:"Eesti",en:"English",es:"Espaol",eu:"Euskara",fil:"Filipino",fr:"Franais",gl:"Galego",it:"Italiano",hu:"Magyar",lt:"Lietuvi",lv:"Latvieu",nl:"Nederlands",no:"Norsk",pl:"Polski","pt-br":"Portugus (Brasil)",pt:"Portugus (Portugal)",ro:"Romn",fi:"Suomi",sv:"Svenska",vi:"Ting Vit",tr:"Trke",el:"",ru:"",
sr:"",uk:"",he:"",ar:"",fa:"",th:"",ko:"",ja:"",zh:"","zh-tw":""};"undefined"===typeof window.mxBasePath&&(window.mxBasePath="mxgraph",window.mxImageBasePath="mxgraph/images");
if(null==window.mxLanguages){window.mxLanguages=[];for(var lang in mxLanguageMap)"en"!=lang&&window.mxLanguages.push(lang);if(null==window.mxLanguage&&("test.draw.io"==window.location.hostname||"www.draw.io"==window.location.hostname||"viewer.diagrams.net"==window.location.hostname||"embed.diagrams.net"==window.location.hostname||"app.diagrams.net"==window.location.hostname||"jgraph.github.io"==window.location.hostname)&&(lang=navigator.language,null!=lang)){var dash=lang.indexOf("-");0<dash&&(lang=
lang.substring(0,dash));0<=window.mxLanguages.indexOf(lang)&&(window.mxLanguage=lang)}}"1"==urlParams.extAuth&&/((iPhone|iPod|iPad).*AppleWebKit(?!.*Version)|; wv)/i.test(navigator.userAgent)&&(urlParams.gapi="0",urlParams.noDevice="1","1"!=urlParams.lightbox&&(urlParams.lightbox="1",urlParams.layers="1",urlParams.viewerOnlyMsg="1"));"viewer.diagrams.net"==window.location.hostname&&(urlParams.lightbox="1");"1"==urlParams.lightbox&&(urlParams.chrome="0");
"1"==urlParams.embedInline&&(urlParams.embed="1",urlParams.ui="sketch",urlParams.plugins="0",urlParams.proto="json",urlParams.prefetchFonts="1");function setCurrentXml($data$$,$filename$$){null!=window.parent&&null!=window.parent.openFile&&window.parent.openFile.setData($data$$,$filename$$)}
window.uiTheme=window.uiTheme||function(){var $ui$$=urlParams.ui;"1"==urlParams.extAuth&&($ui$$="sketch");if(null==$ui$$&&isLocalStorage&&"undefined"!==typeof JSON&&"1"!=urlParams.lightbox)try{var $value$$=localStorage.getItem(".drawio-config");null!=$value$$&&($ui$$=JSON.parse($value$$).ui||null)}catch($e$$){isLocalStorage=!1}try{if(null==$ui$$&&"1"!=urlParams.embed&&(1==urlParams.dev||1==urlParams.test||"test.draw.io"===window.location.hostname||"www.draw.io"===window.location.hostname||"preprod.diagrams.net"===
window.location.hostname||"app.diagrams.net"===window.location.hostname||"jgraph.github.io"===window.location.hostname)){var $userAgent$$=navigator.userAgent||navigator.vendor||window.opera;if(1024>=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)||/android/i.test($userAgent$$)||/iPad|iPhone|iPod/.test($userAgent$$)&&!window.MSStream||navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints)$ui$$="simple"}}catch($e$0$$){}"sketch"==
$ui$$&&null==urlParams.sketch&&"ac.draw.io"===window.location.hostname?urlParams.sketch="1":"1"!=urlParams.dark||""!=$ui$$&&"kennedy"!=$ui$$||($ui$$="dark");return $ui$$}();
(function(){if("undefined"!==typeof JSON&&isLocalStorage)try{var $ex_glId_glUrl_host_value$$=localStorage.getItem("1"==urlParams.sketch?".sketch-config":".drawio-config"),$position$$=!0;null!=$ex_glId_glUrl_host_value$$&&($position$$=JSON.parse($ex_glId_glUrl_host_value$$).showStartScreen);0==$position$$&&(urlParams.splash="0")}catch($e$$){}$ex_glId_glUrl_host_value$$=urlParams["export"];null!=$ex_glId_glUrl_host_value$$&&($ex_glId_glUrl_host_value$$=decodeURIComponent($ex_glId_glUrl_host_value$$),
"http://"!=$ex_glId_glUrl_host_value$$.substring(0,7)&&"https://"!=$ex_glId_glUrl_host_value$$.substring(0,8)&&($ex_glId_glUrl_host_value$$="http://"+$ex_glId_glUrl_host_value$$),EXPORT_URL=$ex_glId_glUrl_host_value$$);$ex_glId_glUrl_host_value$$=urlParams.gitlab;null!=$ex_glId_glUrl_host_value$$&&($ex_glId_glUrl_host_value$$=decodeURIComponent($ex_glId_glUrl_host_value$$),"http://"!=$ex_glId_glUrl_host_value$$.substring(0,7)&&"https://"!=$ex_glId_glUrl_host_value$$.substring(0,8)&&($ex_glId_glUrl_host_value$$=
"http://"+$ex_glId_glUrl_host_value$$),DRAWIO_GITLAB_URL=$ex_glId_glUrl_host_value$$);$ex_glId_glUrl_host_value$$=urlParams["gitlab-id"];null!=$ex_glId_glUrl_host_value$$&&(DRAWIO_GITLAB_ID=$ex_glId_glUrl_host_value$$);window.DRAWIO_LOG_URL=window.DRAWIO_LOG_URL||"";$ex_glId_glUrl_host_value$$=window.location.host;if("test.draw.io"!=$ex_glId_glUrl_host_value$$){var $lastIndex_searchString$$="diagrams.net";$position$$=$ex_glId_glUrl_host_value$$.length-$lastIndex_searchString$$.length;$lastIndex_searchString$$=
$ex_glId_glUrl_host_value$$.lastIndexOf($lastIndex_searchString$$,$position$$);-1!==$lastIndex_searchString$$&&$lastIndex_searchString$$===$position$$?window.DRAWIO_LOG_URL="https://log.diagrams.net":($lastIndex_searchString$$="draw.io",$position$$=$ex_glId_glUrl_host_value$$.length-$lastIndex_searchString$$.length,$lastIndex_searchString$$=$ex_glId_glUrl_host_value$$.lastIndexOf($lastIndex_searchString$$,$position$$),-1!==$lastIndex_searchString$$&&$lastIndex_searchString$$===$position$$&&(window.DRAWIO_LOG_URL=
"https://log.draw.io"))}})();if("1"==urlParams.offline||"1"==urlParams.demo||"1"==urlParams.stealth||"1"==urlParams.local||"1"==urlParams.lockdown)urlParams.picker="0",urlParams.gapi="0",urlParams.db="0",urlParams.od="0",urlParams.gh="0",urlParams.gl="0",urlParams.tr="0";
"se.diagrams.net"==window.location.hostname&&(urlParams.db="0",urlParams.od="0",urlParams.gh="0",urlParams.gl="0",urlParams.tr="0",urlParams.plugins="0",urlParams.mode="google",urlParams.lockdown="1",window.DRAWIO_GOOGLE_APP_ID=window.DRAWIO_GOOGLE_APP_ID||"184079235871",window.DRAWIO_GOOGLE_CLIENT_ID=window.DRAWIO_GOOGLE_CLIENT_ID||"184079235871-pjf5nn0lff27lk8qf0770gmffiv9gt61.apps.googleusercontent.com");"trello"==urlParams.mode&&(urlParams.tr="1");
"embed.diagrams.net"==window.location.hostname&&(urlParams.embed="1");(null==window.location.hash||1>=window.location.hash.length)&&null!=urlParams.open&&(window.location.hash=urlParams.open);window.urlParams=window.urlParams||{};window.DOM_PURIFY_CONFIG=window.DOM_PURIFY_CONFIG||{ADD_TAGS:["use"],FORBID_TAGS:["form"],ALLOWED_URI_REGEXP:/^((?!javascript:).)*$/i,ADD_ATTR:["target","content"]};window.MAX_REQUEST_SIZE=window.MAX_REQUEST_SIZE||10485760;window.MAX_AREA=window.MAX_AREA||225E6;window.EXPORT_URL=window.EXPORT_URL||"/export";window.SAVE_URL=window.SAVE_URL||"/save";window.OPEN_URL=window.OPEN_URL||"/open";window.RESOURCES_PATH=window.RESOURCES_PATH||"resources";
window.RESOURCE_BASE=window.RESOURCE_BASE||window.RESOURCES_PATH+"/grapheditor";window.STENCIL_PATH=window.STENCIL_PATH||"stencils";window.IMAGE_PATH=window.IMAGE_PATH||"images";window.STYLE_PATH=window.STYLE_PATH||"styles";window.CSS_PATH=window.CSS_PATH||"styles";window.OPEN_FORM=window.OPEN_FORM||"open.html";window.mxBasePath=window.mxBasePath||"mxgraph";window.mxImageBasePath=window.mxImageBasePath||"mxgraph/images";window.mxLanguage=window.mxLanguage||urlParams.lang;
window.mxLanguages=window.mxLanguages||["de","se"];var mxClient={VERSION:"24.0.4",IS_IE:null!=navigator.userAgent&&0<=navigator.userAgent.indexOf("MSIE"),IS_IE11:null!=navigator.userAgent&&!!navigator.userAgent.match(/Trident\/7\./),IS_EDGE:null!=navigator.userAgent&&!!navigator.userAgent.match(/Edge\//),IS_EM:"spellcheck"in document.createElement("textarea")&&8==document.documentMode,VML_PREFIX:"v",OFFICE_PREFIX:"o",IS_NS:null!=navigator.userAgent&&0<=navigator.userAgent.indexOf("Mozilla/")&&0>navigator.userAgent.indexOf("MSIE")&&0>navigator.userAgent.indexOf("Edge/"),
IS_OP:null!=navigator.userAgent&&(0<=navigator.userAgent.indexOf("Opera/")||0<=navigator.userAgent.indexOf("OPR/")),IS_OT:null!=navigator.userAgent&&0<=navigator.userAgent.indexOf("Presto/")&&0>navigator.userAgent.indexOf("Presto/2.4.")&&0>navigator.userAgent.indexOf("Presto/2.3.")&&0>navigator.userAgent.indexOf("Presto/2.2.")&&0>navigator.userAgent.indexOf("Presto/2.1.")&&0>navigator.userAgent.indexOf("Presto/2.0.")&&0>navigator.userAgent.indexOf("Presto/1."),IS_SF:/Apple Computer, Inc/.test(navigator.vendor),
IS_ANDROID:0<=navigator.appVersion.indexOf("Android"),IS_IOS:/iP(hone|od|ad)/.test(navigator.platform)||navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints,IS_WEBVIEW:/((iPhone|iPod|iPad).*AppleWebKit(?!.*Version)|; wv)/i.test(navigator.userAgent),IS_GC:/Google Inc/.test(navigator.vendor),IS_CHROMEAPP:null!=window.chrome&&null!=chrome.app&&null!=chrome.app.runtime,IS_FF:-1<navigator.userAgent.toLowerCase().indexOf("firefox"),IS_MT:0<=navigator.userAgent.indexOf("Firefox/")&&
0>navigator.userAgent.indexOf("Firefox/1.")&&0>navigator.userAgent.indexOf("Firefox/2.")||0<=navigator.userAgent.indexOf("Iceweasel/")&&0>navigator.userAgent.indexOf("Iceweasel/1.")&&0>navigator.userAgent.indexOf("Iceweasel/2.")||0<=navigator.userAgent.indexOf("SeaMonkey/")&&0>navigator.userAgent.indexOf("SeaMonkey/1.")||0<=navigator.userAgent.indexOf("Iceape/")&&0>navigator.userAgent.indexOf("Iceape/1."),IS_SVG:"MICROSOFT INTERNET EXPLORER"!=navigator.appName.toUpperCase(),NO_FO:!document.createElementNS||
"[object SVGForeignObjectElement]"!==document.createElementNS("http://www.w3.org/2000/svg","foreignObject").toString()||0<=navigator.userAgent.indexOf("Opera/"),IS_WIN:0<navigator.appVersion.indexOf("Win"),IS_MAC:0<navigator.appVersion.indexOf("Mac"),IS_CHROMEOS:/\bCrOS\b/.test(navigator.appVersion),IS_LINUX:/\bLinux\b/.test(navigator.appVersion),IS_TOUCH:"ontouchstart"in document.documentElement,IS_POINTER:null!=window.PointerEvent&&!(0<navigator.appVersion.indexOf("Mac")),IS_LOCAL:0>document.location.href.indexOf("http://")&&
0>document.location.href.indexOf("https://"),defaultBundles:[],isBrowserSupported:function(){return mxClient.IS_SVG},link:function($a$$,$b$$,$c$$,$d$$){$c$$=$c$$||document;var $e$$=$c$$.createElement("link");$e$$.setAttribute("rel",$a$$);$e$$.setAttribute("href",$b$$);$e$$.setAttribute("charset","UTF-8");$e$$.setAttribute("type","text/css");$d$$&&$e$$.setAttribute("id",$d$$);$c$$.getElementsByTagName("head")[0].appendChild($e$$)},loadResources:function($a$$,$b$$){function $c$$(){0==--$d$$&&$a$$()}
for(var $d$$=mxClient.defaultBundles.length,$e$$=0;$e$$<mxClient.defaultBundles.length;$e$$++)mxResources.add(mxClient.defaultBundles[$e$$],$b$$,$c$$)},include:function($a$$){document.write('<script src="'+$a$$+'">\x3c/script>')}};"undefined"==typeof mxLoadResources&&(mxLoadResources=!0);"undefined"==typeof mxForceIncludes&&(mxForceIncludes=!1);"undefined"==typeof mxResourceExtension&&(mxResourceExtension=".txt");"undefined"==typeof mxLoadStylesheets&&(mxLoadStylesheets=!0);
"undefined"!=typeof mxBasePath&&0<mxBasePath.length?("/"==mxBasePath.substring(mxBasePath.length-1)&&(mxBasePath=mxBasePath.substring(0,mxBasePath.length-1)),mxClient.basePath=mxBasePath):mxClient.basePath=".";"undefined"!=typeof mxImageBasePath&&0<mxImageBasePath.length?("/"==mxImageBasePath.substring(mxImageBasePath.length-1)&&(mxImageBasePath=mxImageBasePath.substring(0,mxImageBasePath.length-1)),mxClient.imageBasePath=mxImageBasePath):mxClient.imageBasePath="images";
mxClient.language="undefined"!=typeof mxLanguage&&null!=mxLanguage?mxLanguage:mxClient.IS_IE?navigator.userLanguage:navigator.language;mxClient.defaultLanguage="undefined"!=typeof mxDefaultLanguage&&null!=mxDefaultLanguage?mxDefaultLanguage:"en";mxLoadStylesheets&&mxClient.link("stylesheet","mxgraph/css/common.css");"undefined"!=typeof mxLanguages&&null!=mxLanguages&&(mxClient.languages=mxLanguages);
var mxLog={consoleName:"Console",TRACE:!1,DEBUG:!0,WARN:!0,buffer:"",init:function(){if(null==mxLog.window&&null!=document.body){var $a$$=mxLog.consoleName+" - mxGraph "+mxClient.VERSION,$b$$=document.createElement("table");$b$$.setAttribute("width","100%");$b$$.setAttribute("height","100%");var $c$$=document.createElement("tbody"),$d$$=document.createElement("tr"),$e$$=document.createElement("td");$e$$.style.verticalAlign="top";mxLog.textarea=document.createElement("textarea");mxLog.textarea.setAttribute("wrap",
"off");mxLog.textarea.setAttribute("readOnly","true");mxLog.textarea.style.height="100%";mxLog.textarea.style.resize="none";mxLog.textarea.value=mxLog.buffer;mxLog.textarea.style.width=mxClient.IS_NS&&"BackCompat"!=document.compatMode?"99%":"100%";$e$$.appendChild(mxLog.textarea);$d$$.appendChild($e$$);$c$$.appendChild($d$$);$d$$=document.createElement("tr");mxLog.td=document.createElement("td");mxLog.td.style.verticalAlign="top";mxLog.td.setAttribute("height","30px");$d$$.appendChild(mxLog.td);$c$$.appendChild($d$$);
$b$$.appendChild($c$$);mxLog.addButton("Info",function($g$$){mxLog.info()});mxLog.addButton("DOM",function($g$$){$g$$=mxUtils.getInnerHtml(document.body);mxLog.debug($g$$)});mxLog.addButton("Trace",function($g$$){mxLog.TRACE=!mxLog.TRACE;mxLog.TRACE?mxLog.debug("Tracing enabled"):mxLog.debug("Tracing disabled")});mxLog.addButton("Copy",function($g$$){try{mxUtils.copy(mxLog.textarea.value)}catch($k$$){mxUtils.alert($k$$)}});mxLog.addButton("Show",function($g$$){try{mxUtils.popup(mxLog.textarea.value)}catch($k$$){mxUtils.alert($k$$)}});
mxLog.addButton("Clear",function($g$$){mxLog.textarea.value=""});$d$$=$c$$=0;"number"===typeof window.innerWidth?($c$$=window.innerHeight,$d$$=window.innerWidth):($c$$=document.documentElement.clientHeight||document.body.clientHeight,$d$$=document.body.clientWidth);mxLog.window=new mxWindow($a$$,$b$$,Math.max(0,$d$$-320),Math.max(0,$c$$-210),300,160);mxLog.window.setMaximizable(!0);mxLog.window.setScrollable(!1);mxLog.window.setResizable(!0);mxLog.window.setClosable(!0);mxLog.window.destroyOnClose=
!1;if((mxClient.IS_NS||mxClient.IS_IE)&&!mxClient.IS_GC&&!mxClient.IS_SF&&"BackCompat"!=document.compatMode||11==document.documentMode){var $f$$=mxLog.window.getElement();$a$$=function($g$$,$k$$){mxLog.textarea.style.height=Math.max(0,$f$$.offsetHeight-70)+"px"};mxLog.window.addListener(mxEvent.RESIZE_END,$a$$);mxLog.window.addListener(mxEvent.MAXIMIZE,$a$$);mxLog.window.addListener(mxEvent.NORMALIZE,$a$$);mxLog.textarea.style.height="92px"}}},info:function(){mxLog.writeln(mxUtils.toString(navigator))},
addButton:function($a$$,$b$$){var $c$$=document.createElement("button");mxUtils.write($c$$,$a$$);mxEvent.addListener($c$$,"click",$b$$);mxLog.td.appendChild($c$$)},isVisible:function(){return null!=mxLog.window?mxLog.window.isVisible():!1},show:function(){mxLog.setVisible(!0)},setVisible:function($a$$){null==mxLog.window&&mxLog.init();null!=mxLog.window&&mxLog.window.setVisible($a$$)},enter:function($a$$){if(mxLog.TRACE)return mxLog.writeln("Entering "+$a$$),(new Date).getTime()},leave:function($a$$,
$b$$){mxLog.TRACE&&($b$$=0!=$b$$?" ("+((new Date).getTime()-$b$$)+" ms)":"",mxLog.writeln("Leaving "+$a$$+$b$$))},debug:function(){mxLog.DEBUG&&mxLog.writeln.apply(this,arguments)},warn:function(){mxLog.WARN&&mxLog.writeln.apply(this,arguments)},write:function(){for(var $a$$="",$b$$=0;$b$$<arguments.length;$b$$++)$a$$+=arguments[$b$$],$b$$<arguments.length-1&&($a$$+=" ");null!=mxLog.textarea?(mxLog.textarea.value+=$a$$,null!=navigator.userAgent&&0<=navigator.userAgent.indexOf("Presto/2.5")&&(mxLog.textarea.style.visibility=
"hidden",mxLog.textarea.style.visibility="visible"),mxLog.textarea.scrollTop=mxLog.textarea.scrollHeight):mxLog.buffer+=$a$$},writeln:function(){for(var $a$$="",$b$$=0;$b$$<arguments.length;$b$$++)$a$$+=arguments[$b$$],$b$$<arguments.length-1&&($a$$+=" ");mxLog.write($a$$+"\n")}},mxObjectIdentity={FIELD_NAME:"mxObjectId",counter:0,get:function($a$$){if(null!=$a$$){if(null==$a$$[mxObjectIdentity.FIELD_NAME])if("object"===typeof $a$$){var $b$$=mxUtils.getFunctionName($a$$.constructor);$a$$[mxObjectIdentity.FIELD_NAME]=
$b$$+"#"+mxObjectIdentity.counter++}else"function"===typeof $a$$&&($a$$[mxObjectIdentity.FIELD_NAME]="Function#"+mxObjectIdentity.counter++);return $a$$[mxObjectIdentity.FIELD_NAME]}return null},clear:function($a$$){"object"!==typeof $a$$&&"function"!==typeof $a$$||delete $a$$[mxObjectIdentity.FIELD_NAME]}};function mxDictionary(){this.clear()}mxDictionary.prototype.map=null;mxDictionary.prototype.clear=function(){this.map={}};
mxDictionary.prototype.get=function($a$$){$a$$=mxObjectIdentity.get($a$$);return this.map[$a$$]};mxDictionary.prototype.put=function($a$$,$b$$){$a$$=mxObjectIdentity.get($a$$);var $c$$=this.map[$a$$];this.map[$a$$]=$b$$;return $c$$};mxDictionary.prototype.remove=function($a$$){$a$$=mxObjectIdentity.get($a$$);var $b$$=this.map[$a$$];delete this.map[$a$$];return $b$$};mxDictionary.prototype.getCount=function(){var $a$$=0,$b$$;for($b$$ in this.map)$a$$++;return $a$$};
mxDictionary.prototype.getKeys=function(){var $a$$=[],$b$$;for($b$$ in this.map)$a$$.push($b$$);return $a$$};mxDictionary.prototype.getValues=function(){var $a$$=[],$b$$;for($b$$ in this.map)$a$$.push(this.map[$b$$]);return $a$$};mxDictionary.prototype.visit=function($a$$){for(var $b$$ in this.map)$a$$($b$$,this.map[$b$$])};
var mxResources={resources:{},extension:mxResourceExtension,resourcesEncoded:!1,loadDefaultBundle:!0,loadSpecialBundle:!0,isLanguageSupported:function($a$$){return null!=mxClient.languages?0<=mxUtils.indexOf(mxClient.languages,$a$$):!0},getDefaultBundle:function($a$$,$b$$){return mxResources.loadDefaultBundle||!mxResources.isLanguageSupported($b$$)?$a$$+mxResources.extension:null},getSpecialBundle:function($a$$,$b$$){if(null==mxClient.languages||!this.isLanguageSupported($b$$)){var $c$$=$b$$.indexOf("-");
0<$c$$&&($b$$=$b$$.substring(0,$c$$))}return mxResources.loadSpecialBundle&&mxResources.isLanguageSupported($b$$)&&$b$$!=mxClient.defaultLanguage?$a$$+"_"+$b$$+mxResources.extension:null},add:function($a$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:null!=mxClient.language?mxClient.language.toLowerCase():mxConstants.NONE;if($b$$!=mxConstants.NONE){var $d$$=mxResources.getDefaultBundle($a$$,$b$$),$e$$=mxResources.getSpecialBundle($a$$,$b$$),$f$$=function(){if(null!=$e$$)if($c$$)mxUtils.get($e$$,function($l$$){mxResources.parse($l$$.getText());
$c$$()},function(){$c$$()});else try{var $k$$=mxUtils.load($e$$);$k$$.isReady()&&mxResources.parse($k$$.getText())}catch($l$$){}else null!=$c$$&&$c$$()};if(null!=$d$$)if($c$$)mxUtils.get($d$$,function($k$$){mxResources.parse($k$$.getText());$f$$()},function(){$f$$()});else try{var $g$$=mxUtils.load($d$$);$g$$.isReady()&&mxResources.parse($g$$.getText());$f$$()}catch($k$$){}else $f$$()}},parse:function($a$$){if(null!=$a$$){$a$$=$a$$.split("\n");for(var $b$$=0;$b$$<$a$$.length;$b$$++)if("#"!=$a$$[$b$$].charAt(0)){var $c$$=
$a$$[$b$$].indexOf("=");if(0<$c$$){var $d$$=$a$$[$b$$].substring(0,$c$$),$e$$=$a$$[$b$$].length;13==$a$$[$b$$].charCodeAt($e$$-1)&&$e$$--;$c$$=$a$$[$b$$].substring($c$$+1,$e$$);this.resourcesEncoded?($c$$=$c$$.replace(/\\(?=u[a-fA-F\d]{4})/g,"%"),mxResources.resources[$d$$]=unescape($c$$)):mxResources.resources[$d$$]=$c$$}}}},get:function($a$$,$b$$,$c$$){$a$$=mxResources.resources[$a$$];null==$a$$&&($a$$=$c$$);null!=$a$$&&null!=$b$$&&($a$$=mxResources.replacePlaceholders($a$$,$b$$));return $a$$},
replacePlaceholders:function($a$$,$b$$){for(var $c$$=[],$d$$=null,$e$$=0;$e$$<$a$$.length;$e$$++){var $f$$=$a$$.charAt($e$$);"{"==$f$$?$d$$="":null!=$d$$&&"}"==$f$$?($d$$=parseInt($d$$)-1,0<=$d$$&&$d$$<$b$$.length&&$c$$.push($b$$[$d$$]),$d$$=null):null!=$d$$?$d$$+=$f$$:$c$$.push($f$$)}return $c$$.join("")},loadResources:function($a$$){mxResources.add(mxClient.basePath+"/resources/editor",null,function(){mxResources.add(mxClient.basePath+"/resources/graph",null,$a$$)})}};
function mxPoint($a$$,$b$$){this.x=null!=$a$$?$a$$:0;this.y=null!=$b$$?$b$$:0}mxPoint.prototype.x=null;mxPoint.prototype.y=null;mxPoint.prototype.equals=function($a$$){return null!=$a$$&&$a$$.x==this.x&&$a$$.y==this.y};mxPoint.prototype.clone=function(){return mxUtils.clone(this)};function mxRectangle($a$$,$b$$,$c$$,$d$$){mxPoint.call(this,$a$$,$b$$);this.width=null!=$c$$?$c$$:0;this.height=null!=$d$$?$d$$:0}mxRectangle.prototype=new mxPoint;mxRectangle.prototype.constructor=mxRectangle;
mxRectangle.prototype.width=null;mxRectangle.prototype.height=null;mxRectangle.prototype.setRect=function($a$$,$b$$,$c$$,$d$$){this.x=$a$$;this.y=$b$$;this.width=$c$$;this.height=$d$$};mxRectangle.prototype.getCenterX=function(){return this.x+this.width/2};mxRectangle.prototype.getCenterY=function(){return this.y+this.height/2};
mxRectangle.prototype.add=function($a$$){if(null!=$a$$){var $b$$=Math.min(this.x,$a$$.x),$c$$=Math.min(this.y,$a$$.y),$d$$=Math.max(this.x+this.width,$a$$.x+$a$$.width);$a$$=Math.max(this.y+this.height,$a$$.y+$a$$.height);this.x=$b$$;this.y=$c$$;this.width=$d$$-$b$$;this.height=$a$$-$c$$}};
mxRectangle.prototype.intersect=function($a$$){if(null!=$a$$){var $b$$=this.x+this.width,$c$$=$a$$.x+$a$$.width,$d$$=this.y+this.height,$e$$=$a$$.y+$a$$.height;this.x=Math.max(this.x,$a$$.x);this.y=Math.max(this.y,$a$$.y);this.width=Math.min($b$$,$c$$)-this.x;this.height=Math.min($d$$,$e$$)-this.y}};mxRectangle.prototype.grow=function($a$$){this.x-=$a$$;this.y-=$a$$;this.width+=2*$a$$;this.height+=2*$a$$;return this};mxRectangle.prototype.getPoint=function(){return new mxPoint(this.x,this.y)};
mxRectangle.prototype.rotate90=function(){var $a$$=(this.width-this.height)/2;this.x+=$a$$;this.y-=$a$$;$a$$=this.width;this.width=this.height;this.height=$a$$};mxRectangle.prototype.equals=function($a$$){return null!=$a$$&&$a$$.x==this.x&&$a$$.y==this.y&&$a$$.width==this.width&&$a$$.height==this.height};mxRectangle.fromPoint=function($a$$){return new mxRectangle($a$$.x,$a$$.y,0,0)};mxRectangle.fromRectangle=function($a$$){return new mxRectangle($a$$.x,$a$$.y,$a$$.width,$a$$.height)};
var mxEffects={animateChanges:function($a$$,$b$$,$c$$){var $d$$=0,$e$$=function(){for(var $g$$=!1,$k$$=0;$k$$<$b$$.length;$k$$++){var $l$$=$b$$[$k$$];if($l$$ instanceof mxGeometryChange||$l$$ instanceof mxTerminalChange||$l$$ instanceof mxValueChange||$l$$ instanceof mxChildChange||$l$$ instanceof mxStyleChange){var $m$$=$a$$.getView().getState($l$$.cell||$l$$.child,!1);if(null!=$m$$)if($g$$=!0,$l$$.constructor!=mxGeometryChange||$a$$.model.isEdge($l$$.cell))mxUtils.setOpacity($m$$.shape.node,100*
$d$$/10);else{var $n$$=$a$$.getView().scale,$p$$=($l$$.geometry.x-$l$$.previous.x)*$n$$,$q$$=($l$$.geometry.y-$l$$.previous.y)*$n$$,$r$$=($l$$.geometry.width-$l$$.previous.width)*$n$$;$n$$*=$l$$.geometry.height-$l$$.previous.height;0==$d$$?($m$$.x-=$p$$,$m$$.y-=$q$$,$m$$.width-=$r$$,$m$$.height-=$n$$):($m$$.x+=$p$$/10,$m$$.y+=$q$$/10,$m$$.width+=$r$$/10,$m$$.height+=$n$$/10);$a$$.cellRenderer.redraw($m$$);mxEffects.cascadeOpacity($a$$,$l$$.cell,100*$d$$/10)}}}10>$d$$&&$g$$?($d$$++,window.setTimeout($e$$,
$f$$)):null!=$c$$&&$c$$()},$f$$=30;$e$$()},cascadeOpacity:function($a$$,$b$$,$c$$){for(var $d$$=$a$$.model.getChildCount($b$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=$a$$.model.getChildAt($b$$,$e$$),$g$$=$a$$.getView().getState($f$$);null!=$g$$&&(mxUtils.setOpacity($g$$.shape.node,$c$$),mxEffects.cascadeOpacity($a$$,$f$$,$c$$))}$b$$=$a$$.model.getEdges($b$$);if(null!=$b$$)for($e$$=0;$e$$<$b$$.length;$e$$++)$d$$=$a$$.getView().getState($b$$[$e$$]),null!=$d$$&&mxUtils.setOpacity($d$$.shape.node,$c$$)},fadeOut:function($a$$,
$b$$,$c$$,$d$$,$e$$,$f$$){$d$$=$d$$||40;$e$$=$e$$||30;var $g$$=$b$$||100;mxUtils.setOpacity($a$$,$g$$);if($f$$||null==$f$$){var $k$$=function(){$g$$=Math.max($g$$-$d$$,0);mxUtils.setOpacity($a$$,$g$$);0<$g$$?window.setTimeout($k$$,$e$$):($a$$.style.visibility="hidden",$c$$&&$a$$.parentNode&&$a$$.parentNode.removeChild($a$$))};window.setTimeout($k$$,$e$$)}else $a$$.style.visibility="hidden",$c$$&&$a$$.parentNode&&$a$$.parentNode.removeChild($a$$)}},mxUtils={errorResource:"none"!=mxClient.language?
"error":"",closeResource:"none"!=mxClient.language?"close":"",errorImage:mxClient.imageBasePath+"/error.gif",removeCursors:function($a$$){null!=$a$$.style&&($a$$.style.cursor="");$a$$=$a$$.childNodes;if(null!=$a$$)for(var $b$$=$a$$.length,$c$$=0;$c$$<$b$$;$c$$+=1)mxUtils.removeCursors($a$$[$c$$])},getCurrentStyle:function(){return mxClient.IS_IE&&(null==document.documentMode||9>document.documentMode)?function($a$$){return null!=$a$$?$a$$.currentStyle:null}:function($a$$){return null!=$a$$?window.getComputedStyle($a$$,
""):null}}(),parseCssNumber:function($a$$){"thin"==$a$$?$a$$="2":"medium"==$a$$?$a$$="4":"thick"==$a$$&&($a$$="6");$a$$=parseFloat($a$$);isNaN($a$$)&&($a$$=0);return $a$$},setPrefixedStyle:function(){var $a$$=null;mxClient.IS_OT?$a$$="O":mxClient.IS_SF||mxClient.IS_GC?$a$$="Webkit":mxClient.IS_MT?$a$$="Moz":mxClient.IS_IE&&9<=document.documentMode&&10>document.documentMode&&($a$$="ms");return function($b$$,$c$$,$d$$){$b$$[$c$$]=$d$$;null!=$a$$&&0<$c$$.length&&($c$$=$a$$+$c$$.substring(0,1).toUpperCase()+
$c$$.substring(1),$b$$[$c$$]=$d$$)}}(),hasScrollbars:function($a$$){$a$$=mxUtils.getCurrentStyle($a$$);return null!=$a$$&&("scroll"==$a$$.overflow||"auto"==$a$$.overflow)},bind:function($a$$,$b$$){return function(){return $b$$.apply($a$$,arguments)}},eval:function($a$$){var $b$$=null;if(0<=$a$$.indexOf("function"))try{eval("var _mxJavaScriptExpression="+$a$$),$b$$=_mxJavaScriptExpression,_mxJavaScriptExpression=null}catch($c$$){mxLog.warn($c$$.message+" while evaluating "+$a$$)}else try{$b$$=eval($a$$)}catch($c$1$$){mxLog.warn($c$1$$.message+
" while evaluating "+$a$$)}return $b$$},findNode:function($a$$,$b$$,$c$$){if($a$$.nodeType==mxConstants.NODETYPE_ELEMENT){var $d$$=$a$$.getAttribute($b$$);if(null!=$d$$&&$d$$==$c$$)return $a$$}for($a$$=$a$$.firstChild;null!=$a$$;){$d$$=mxUtils.findNode($a$$,$b$$,$c$$);if(null!=$d$$)return $d$$;$a$$=$a$$.nextSibling}return null},getFunctionName:function($a$$){var $b$$=null;null!=$a$$&&(null!=$a$$.name?$b$$=$a$$.name:($b$$=mxUtils.trim($a$$.toString()),/^function\s/.test($b$$)&&($b$$=mxUtils.ltrim($b$$.substring(9)),
$a$$=$b$$.indexOf("("),0<$a$$&&($b$$=$b$$.substring(0,$a$$)))));return $b$$},indexOf:function($a$$,$b$$){if(null!=$a$$&&null!=$b$$)for(var $c$$=0;$c$$<$a$$.length;$c$$++)if($a$$[$c$$]==$b$$)return $c$$;return-1},lastIndexOf:function($a$$,$b$$){if(null!=$a$$&&null!=$b$$)for(var $c$$=$a$$.length-1;0<=$c$$;$c$$--)if($a$$[$c$$]==$b$$)return $c$$;return-1},forEach:function($a$$,$b$$){if(null!=$a$$&&null!=$b$$)for(var $c$$=0;$c$$<$a$$.length;$c$$++)$b$$($a$$[$c$$]);return $a$$},remove:function($a$$,$b$$){var $c$$=
null;if("object"==typeof $b$$)for(var $d$$=mxUtils.indexOf($b$$,$a$$);0<=$d$$;)$b$$.splice($d$$,1),$c$$=$a$$,$d$$=mxUtils.indexOf($b$$,$a$$);for(var $e$$ in $b$$)$b$$[$e$$]==$a$$&&(delete $b$$[$e$$],$c$$=$a$$);return $c$$},addItems:function($a$$,$b$$){for(var $c$$=0;$c$$<$b$$.length;$c$$++)null!=$b$$[$c$$]&&($b$$[$c$$].constructor==Array?mxUtils.addItems($a$$,$b$$[$c$$]):0>mxUtils.indexOf($a$$,$b$$[$c$$])&&$a$$.push($b$$[$c$$]));return $a$$},isNode:function($a$$,$b$$,$c$$,$d$$){return null==$a$$||
$a$$.constructor!==Element||null!=$b$$&&$a$$.nodeName.toLowerCase()!=$b$$.toLowerCase()?!1:null==$c$$||$a$$.getAttribute($c$$)==$d$$},isAncestorNode:function($a$$,$b$$){for(;null!=$b$$;){if($b$$==$a$$)return!0;$b$$=$b$$.parentNode}return!1},visitNodes:function($a$$,$b$$){if($a$$.nodeType==mxConstants.NODETYPE_ELEMENT)for($b$$($a$$),$a$$=$a$$.firstChild;null!=$a$$;)mxUtils.visitNodes($a$$,$b$$),$a$$=$a$$.nextSibling},getChildNodes:function($a$$,$b$$){$b$$=$b$$||mxConstants.NODETYPE_ELEMENT;var $c$$=
[];for($a$$=$a$$.firstChild;null!=$a$$;)$a$$.nodeType==$b$$&&$c$$.push($a$$),$a$$=$a$$.nextSibling;return $c$$},removeChildNodes:function($a$$){for(;null!=$a$$.lastChild;)$a$$.removeChild($a$$.lastChild)},importNode:function($a$$,$b$$,$c$$){return mxClient.IS_IE&&(null==document.documentMode||10>document.documentMode)?mxUtils.importNodeImplementation($a$$,$b$$,$c$$):$a$$.importNode($b$$,$c$$)},importNodeImplementation:function($a$$,$b$$,$c$$){switch($b$$.nodeType){case 1:var $d$$=$a$$.createElement($b$$.nodeName);
if($b$$.attributes&&0<$b$$.attributes.length)for(var $e$$=0;$e$$<$b$$.attributes.length;$e$$++)$d$$.setAttribute($b$$.attributes[$e$$].nodeName,$b$$.getAttribute($b$$.attributes[$e$$].nodeName));if($c$$&&$b$$.childNodes&&0<$b$$.childNodes.length)for($e$$=0;$e$$<$b$$.childNodes.length;$e$$++)$d$$.appendChild(mxUtils.importNodeImplementation($a$$,$b$$.childNodes[$e$$],$c$$));return $d$$;case 3:case 4:case 8:return $a$$.createTextNode(null!=$b$$.nodeValue?$b$$.nodeValue:$b$$.value)}},createXmlDocument:function(){var $a$$=
null;document.implementation&&document.implementation.createDocument&&($a$$=document.implementation.createDocument("","",null));return $a$$},parseXml:function($a$$){return(new DOMParser).parseFromString($a$$,"text/xml")},clearSelection:function(){return document.selection?function(){document.selection.empty()}:window.getSelection?function(){window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()}:function(){}}(),removeWhitespace:function($a$$,
$b$$){for($a$$=$b$$?$a$$.previousSibling:$a$$.nextSibling;null!=$a$$&&$a$$.nodeType==mxConstants.NODETYPE_TEXT;){var $c$$=$b$$?$a$$.previousSibling:$a$$.nextSibling,$d$$=mxUtils.getTextContent($a$$);0==mxUtils.trim($d$$).length&&$a$$.parentNode.removeChild($a$$);$a$$=$c$$}},htmlEntities:function($a$$,$b$$,$c$$,$d$$){$a$$=String($a$$||"");$a$$=$a$$.replace(/&/g,"&amp;");$a$$=$a$$.replace(/</g,"&lt;");$a$$=$a$$.replace(/>/g,"&gt;");if(null==$c$$||$c$$)$a$$=$a$$.replace(/"/g,"&quot;"),$a$$=$a$$.replace(/'/g,
"&#39;");if(null==$b$$||$b$$)$a$$=$a$$.replace(/\n/g,"&#xa;");if(null==$d$$||$d$$)$a$$=$a$$.replace(/\t/g,"&#x9;");return $a$$},decodeHtml:function($a$$){var $b$$=document.createElement("textarea");$b$$.innerHTML=$a$$;return $b$$.value},getXml:function($a$$,$b$$){var $c$$="";mxClient.IS_IE||mxClient.IS_IE11?$c$$=mxUtils.getPrettyXml($a$$,"","",""):null!=window.XMLSerializer?$c$$=(new XMLSerializer).serializeToString($a$$):null!=$a$$.xml&&($c$$=$a$$.xml.replace(/\r\n\t[\t]*/g,"").replace(/>\r\n/g,
">").replace(/\r\n/g,"\n"));return $c$$.replace(/\n/g,$b$$||"&#xa;")},getPrettyXml:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=[];if(null!=$a$$)if($b$$=null!=$b$$?$b$$:"  ",$c$$=null!=$c$$?$c$$:"",$d$$=null!=$d$$?$d$$:"\n",null!=$a$$.namespaceURI&&$a$$.namespaceURI!=$e$$&&($e$$=$a$$.namespaceURI,null==$a$$.getAttribute("xmlns")&&$a$$.setAttribute("xmlns",$a$$.namespaceURI)),$a$$.nodeType==mxConstants.NODETYPE_DOCUMENT)$f$$.push(mxUtils.getPrettyXml($a$$.documentElement,$b$$,$c$$,$d$$,$e$$));else if($a$$.nodeType==
mxConstants.NODETYPE_DOCUMENT_FRAGMENT){var $g$$=$a$$.firstChild;if(null!=$g$$)for(;null!=$g$$;)$f$$.push(mxUtils.getPrettyXml($g$$,$b$$,$c$$,$d$$,$e$$)),$g$$=$g$$.nextSibling}else if($a$$.nodeType==mxConstants.NODETYPE_COMMENT)$a$$=mxUtils.getTextContent($a$$),0<$a$$.length&&$f$$.push($c$$+"\x3c!--"+$a$$+"--\x3e"+$d$$);else if($a$$.nodeType==mxConstants.NODETYPE_TEXT)$a$$=mxUtils.trim(mxUtils.getTextContent($a$$)),0<$a$$.length&&$f$$.push($c$$+mxUtils.htmlEntities($a$$,!1,!1)+$d$$);else if($a$$.nodeType==
mxConstants.NODETYPE_CDATA)$a$$=mxUtils.getTextContent($a$$),0<$a$$.length&&$f$$.push($c$$+"<![CDATA["+$a$$+"]]"+$d$$);else{$f$$.push($c$$+"<"+$a$$.nodeName);$g$$=$a$$.attributes;if(null!=$g$$)for(var $k$$=0;$k$$<$g$$.length;$k$$++){var $l$$=mxUtils.htmlEntities($g$$[$k$$].value);$f$$.push(" "+$g$$[$k$$].nodeName+'="'+$l$$+'"')}$g$$=$a$$.firstChild;if(null!=$g$$){for($f$$.push(">"+$d$$);null!=$g$$;)$f$$.push(mxUtils.getPrettyXml($g$$,$b$$,$c$$+$b$$,$d$$,$e$$)),$g$$=$g$$.nextSibling;$f$$.push($c$$+
"</"+$a$$.nodeName+">"+$d$$)}else $f$$.push(" />"+$d$$)}return $f$$.join("")},extractTextWithWhitespace:function($a$$){function $b$$($e$$){if(1!=$e$$.length||"BR"!=$e$$[0].nodeName&&"\n"!=$e$$[0].innerHTML)for(var $f$$=0;$f$$<$e$$.length;$f$$++){var $g$$=$e$$[$f$$];"BR"==$g$$.nodeName||"\n"==$g$$.innerHTML||(1==$e$$.length||0==$f$$)&&"DIV"==$g$$.nodeName&&"<br>"==$g$$.innerHTML.toLowerCase()?$d$$.push("\n"):(3===$g$$.nodeType||4===$g$$.nodeType?0<$g$$.nodeValue.length&&$d$$.push($g$$.nodeValue):8!==
$g$$.nodeType&&0<$g$$.childNodes.length&&$b$$($g$$.childNodes),$f$$<$e$$.length-1&&0<=mxUtils.indexOf($c$$,$e$$[$f$$+1].nodeName)&&$d$$.push("\n"))}}var $c$$="BLOCKQUOTE DIV H1 H2 H3 H4 H5 H6 OL P PRE TABLE UL".split(" "),$d$$=[];$b$$($a$$);return $d$$.join("")},replaceTrailingNewlines:function($a$$,$b$$){for(var $c$$="";0<$a$$.length&&"\n"==$a$$.charAt($a$$.length-1);)$a$$=$a$$.substring(0,$a$$.length-1),$c$$+=$b$$;return $a$$+$c$$},getTextContent:function($a$$){return mxClient.IS_IE&&void 0!==$a$$.innerText?
$a$$.innerText:null!=$a$$?$a$$[void 0===$a$$.textContent?"text":"textContent"]:""},setTextContent:function($a$$,$b$$){void 0!==$a$$.innerText?$a$$.innerText=$b$$:$a$$[void 0===$a$$.textContent?"text":"textContent"]=$b$$},getInnerHtml:function(){return mxClient.IS_IE?function($a$$){return null!=$a$$?$a$$.innerHTML:""}:function($a$$){return null!=$a$$?(new XMLSerializer).serializeToString($a$$):""}}(),getOuterHtml:function(){return mxClient.IS_IE?function($a$$){if(null!=$a$$){if(null!=$a$$.outerHTML)return $a$$.outerHTML;
var $b$$=[];$b$$.push("<"+$a$$.nodeName);var $c$$=$a$$.attributes;if(null!=$c$$)for(var $d$$=0;$d$$<$c$$.length;$d$$++){var $e$$=$c$$[$d$$].value;null!=$e$$&&0<$e$$.length&&($b$$.push(" "),$b$$.push($c$$[$d$$].nodeName),$b$$.push('="'),$b$$.push($e$$),$b$$.push('"'))}0==$a$$.innerHTML.length?$b$$.push("/>"):($b$$.push(">"),$b$$.push($a$$.innerHTML),$b$$.push("</"+$a$$.nodeName+">"));return $b$$.join("")}return""}:function($a$$){return null!=$a$$?(new XMLSerializer).serializeToString($a$$):""}}(),
write:function($a$$,$b$$){$b$$=$a$$.ownerDocument.createTextNode($b$$);null!=$a$$&&$a$$.appendChild($b$$);return $b$$},writeln:function($a$$,$b$$){$b$$=$a$$.ownerDocument.createTextNode($b$$);null!=$a$$&&($a$$.appendChild($b$$),$a$$.appendChild(document.createElement("br")));return $b$$},br:function($a$$,$b$$){$b$$=$b$$||1;for(var $c$$=null,$d$$=0;$d$$<$b$$;$d$$++)null!=$a$$&&($c$$=$a$$.ownerDocument.createElement("br"),$a$$.appendChild($c$$));return $c$$},button:function($a$$,$b$$,$c$$,$d$$){$c$$=
null!=$c$$?$c$$:document;$c$$=$c$$.createElement("button");mxUtils.write($c$$,$a$$);mxEvent.addListener($c$$,"click",function($e$$){$b$$($e$$)});null!=$d$$&&($c$$.className=$d$$);return $c$$},para:function($a$$,$b$$){var $c$$=document.createElement("p");mxUtils.write($c$$,$b$$);null!=$a$$&&$a$$.appendChild($c$$);return $c$$},addTransparentBackgroundFilter:function($a$$){$a$$.style.filter+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+mxClient.imageBasePath+"/transparent.gif', sizingMethod='scale')"},
linkAction:function($a$$,$b$$,$c$$,$d$$,$e$$){return mxUtils.link($a$$,$b$$,function(){$c$$.execute($d$$)},$e$$)},linkInvoke:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){return mxUtils.link($a$$,$b$$,function(){$c$$[$d$$]($e$$)},$f$$)},link:function($a$$,$b$$,$c$$,$d$$){var $e$$=document.createElement("span");$e$$.style.color="blue";$e$$.style.textDecoration="underline";$e$$.style.cursor="pointer";null!=$d$$&&($e$$.style.paddingLeft=$d$$+"px");mxEvent.addListener($e$$,"click",$c$$);mxUtils.write($e$$,
$b$$);null!=$a$$&&$a$$.appendChild($e$$);return $e$$},getDocumentSize:function(){var $a$$=document.body,$b$$=document.documentElement;try{return new mxRectangle(0,0,$a$$.clientWidth||$b$$.clientWidth,Math.max($a$$.clientHeight||0,$b$$.clientHeight))}catch($c$$){return new mxRectangle}},fit:function($a$$){var $b$$=mxUtils.getDocumentSize(),$c$$=parseInt($a$$.offsetLeft),$d$$=parseInt($a$$.offsetWidth),$e$$=mxUtils.getDocumentScrollOrigin($a$$.ownerDocument),$f$$=$e$$.x;$e$$=$e$$.y;var $g$$=$f$$+$b$$.width;
$c$$+$d$$>$g$$&&($a$$.style.left=Math.max($f$$,$g$$-$d$$)+"px");$c$$=parseInt($a$$.offsetTop);$d$$=parseInt($a$$.offsetHeight);$b$$=$e$$+$b$$.height;$c$$+$d$$>$b$$&&($a$$.style.top=Math.max($e$$,$b$$-$d$$)+"px")},load:function($a$$){$a$$=new mxXmlRequest($a$$,null,"GET",!1);$a$$.send();return $a$$},get:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$a$$=new mxXmlRequest($a$$,null,"GET");var $k$$=$a$$.setRequestHeaders;$g$$&&($a$$.setRequestHeaders=function($l$$,$m$$){$k$$.apply(this,arguments);for(var $n$$ in $g$$)$l$$.setRequestHeader($n$$,
$g$$[$n$$])});null!=$d$$&&$a$$.setBinary($d$$);$a$$.send($b$$,$c$$,$e$$,$f$$);return $a$$},getAll:function($a$$,$b$$,$c$$){for(var $d$$=$a$$.length,$e$$=[],$f$$=0,$g$$=function(){0==$f$$&&null!=$c$$&&$c$$();$f$$++},$k$$=0;$k$$<$a$$.length;$k$$++)(function($l$$,$m$$){mxUtils.get($l$$,function($n$$){var $p$$=$n$$.getStatus();200>$p$$||299<$p$$?$g$$():($e$$[$m$$]=$n$$,$d$$--,0==$d$$&&$b$$($e$$))},$g$$)})($a$$[$k$$],$k$$);0==$d$$&&$b$$($e$$)},post:function($a$$,$b$$,$c$$,$d$$){return(new mxXmlRequest($a$$,
$b$$)).send($c$$,$d$$)},submit:function($a$$,$b$$,$c$$,$d$$){return(new mxXmlRequest($a$$,$b$$)).simulate($c$$,$d$$)},loadInto:function($a$$,$b$$,$c$$){mxClient.IS_IE?$b$$.onreadystatechange=function(){4==$b$$.readyState&&$c$$()}:$b$$.addEventListener("load",$c$$,!1);$b$$.load($a$$)},getValue:function($a$$,$b$$,$c$$){$a$$=null!=$a$$?$a$$[$b$$]:null;null==$a$$&&($a$$=$c$$);return $a$$},getNumber:function($a$$,$b$$,$c$$){$a$$=null!=$a$$?$a$$[$b$$]:null;null==$a$$&&($a$$=$c$$||0);return Number($a$$)},
getColor:function($a$$,$b$$,$c$$){$a$$=null!=$a$$?$a$$[$b$$]:null;null==$a$$?$a$$=$c$$:$a$$==mxConstants.NONE&&($a$$=null);return $a$$},isEmptyObject:function($a$$){for(var $b$$ in $a$$)return!1;return!0},clone:function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;var $d$$=null;if(null!=$a$$&&"function"==typeof $a$$.constructor)if($a$$.constructor===Element)$d$$=$a$$.cloneNode(null!=$c$$?!$c$$:!1);else{$d$$=new $a$$.constructor;for(var $e$$ in $a$$)$e$$!=mxObjectIdentity.FIELD_NAME&&(null==$b$$||0>mxUtils.indexOf($b$$,
$e$$))&&($d$$[$e$$]=$c$$||"object"!=typeof $a$$[$e$$]?$a$$[$e$$]:mxUtils.clone($a$$[$e$$]))}return $d$$},equalPoints:function($a$$,$b$$){if(null==$a$$&&null!=$b$$||null!=$a$$&&null==$b$$||null!=$a$$&&null!=$b$$&&$a$$.length!=$b$$.length)return!1;if(null!=$a$$&&null!=$b$$)for(var $c$$=0;$c$$<$a$$.length;$c$$++)if(null!=$a$$[$c$$]&&null==$b$$[$c$$]||null==$a$$[$c$$]&&null!=$b$$[$c$$]||null!=$a$$[$c$$]&&null!=$b$$[$c$$]&&($a$$[$c$$].x!=$b$$[$c$$].x||$a$$[$c$$].y!=$b$$[$c$$].y))return!1;return!0},equalEntries:function($a$$,
$b$$){var $c$$=0;if(null==$a$$&&null!=$b$$||null!=$a$$&&null==$b$$||null!=$a$$&&null!=$b$$&&$a$$.length!=$b$$.length)return!1;if(null!=$a$$&&null!=$b$$){for(var $d$$ in $b$$)$c$$++;for($d$$ in $a$$)if($c$$--,!(mxUtils.isNaN($a$$[$d$$])&&mxUtils.isNaN($b$$[$d$$])||$a$$[$d$$]==$b$$[$d$$]))return!1}return 0==$c$$},removeDuplicates:function($a$$){for(var $b$$=new mxDictionary,$c$$=[],$d$$=0;$d$$<$a$$.length;$d$$++)$b$$.get($a$$[$d$$])||($c$$.push($a$$[$d$$]),$b$$.put($a$$[$d$$],!0));return $c$$},isNaN:function($a$$){return"number"==
typeof $a$$&&isNaN($a$$)},extend:function($a$$,$b$$){var $c$$=function(){};$c$$.prototype=$b$$.prototype;$a$$.prototype=new $c$$;$a$$.prototype.constructor=$a$$},toString:function($a$$){var $b$$="",$c$$;for($c$$ in $a$$)try{if(null==$a$$[$c$$])$b$$+=$c$$+" = [null]\n";else if("function"==typeof $a$$[$c$$])$b$$+=$c$$+" => [Function]\n";else if("object"==typeof $a$$[$c$$]){var $d$$=mxUtils.getFunctionName($a$$[$c$$].constructor);$b$$+=$c$$+" => ["+$d$$+"]\n"}else $b$$+=$c$$+" = "+$a$$[$c$$]+"\n"}catch($e$$){$b$$+=
$c$$+"="+$e$$.message}return $b$$},toRadians:function($a$$){return Math.PI*$a$$/180},toDegree:function($a$$){return 180*$a$$/Math.PI},arcToCurves:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){$k$$-=$a$$;$l$$-=$b$$;if(0===$c$$||0===$d$$)return $C$$;$c$$=Math.abs($c$$);$d$$=Math.abs($d$$);var $m$$=-$k$$/2,$n$$=-$l$$/2,$p$$=Math.cos($e$$*Math.PI/180);$C$$=Math.sin($e$$*Math.PI/180);$e$$=$p$$*$m$$+$C$$*$n$$;$m$$=-1*$C$$*$m$$+$p$$*$n$$;$n$$=$e$$*$e$$;var $q$$=$m$$*$m$$,$r$$=$c$$*$c$$,$t$$=$d$$*
$d$$,$u$$=$n$$/$r$$+$q$$/$t$$;1<$u$$?($c$$*=Math.sqrt($u$$),$d$$*=Math.sqrt($u$$),$f$$=0):($u$$=1,$f$$===$g$$&&($u$$=-1),$f$$=$u$$*Math.sqrt(($r$$*$t$$-$r$$*$q$$-$t$$*$n$$)/($r$$*$q$$+$t$$*$n$$)));$n$$=$f$$*$c$$*$m$$/$d$$;$q$$=-1*$f$$*$d$$*$e$$/$c$$;$k$$=$p$$*$n$$-$C$$*$q$$+$k$$/2;$l$$=$C$$*$n$$+$p$$*$q$$+$l$$/2;$r$$=Math.atan2(($m$$-$q$$)/$d$$,($e$$-$n$$)/$c$$)-Math.atan2(0,1);$f$$=0<=$r$$?$r$$:2*Math.PI+$r$$;$r$$=Math.atan2((-$m$$-$q$$)/$d$$,(-$e$$-$n$$)/$c$$)-Math.atan2(($m$$-$q$$)/$d$$,($e$$-
$n$$)/$c$$);$e$$=0<=$r$$?$r$$:2*Math.PI+$r$$;0==$g$$&&0<$e$$?$e$$-=2*Math.PI:0!=$g$$&&0>$e$$&&($e$$+=2*Math.PI);$g$$=2*$e$$/Math.PI;$g$$=Math.ceil(0>$g$$?-1*$g$$:$g$$);$e$$/=$g$$;$m$$=8/3*Math.sin($e$$/4)*Math.sin($e$$/4)/Math.sin($e$$/2);$n$$=$p$$*$c$$;$p$$*=$d$$;$c$$*=$C$$;$d$$*=$C$$;var $x$$=Math.cos($f$$),$y$$=Math.sin($f$$);$q$$=-$m$$*($n$$*$y$$+$d$$*$x$$);$r$$=-$m$$*($c$$*$y$$-$p$$*$x$$);for(var $C$$=[],$A$$=0;$A$$<$g$$;++$A$$){$f$$+=$e$$;$x$$=Math.cos($f$$);$y$$=Math.sin($f$$);$t$$=$n$$*$x$$-
$d$$*$y$$+$k$$;$u$$=$c$$*$x$$+$p$$*$y$$+$l$$;var $B$$=-$m$$*($n$$*$y$$+$d$$*$x$$);$x$$=-$m$$*($c$$*$y$$-$p$$*$x$$);$y$$=6*$A$$;$C$$[$y$$]=Number($q$$+$a$$);$C$$[$y$$+1]=Number($r$$+$b$$);$C$$[$y$$+2]=Number($t$$-$B$$+$a$$);$C$$[$y$$+3]=Number($u$$-$x$$+$b$$);$C$$[$y$$+4]=Number($t$$+$a$$);$C$$[$y$$+5]=Number($u$$+$b$$);$q$$=$t$$+$B$$;$r$$=$u$$+$x$$}return $C$$},getBoundingBox:function($a$$,$b$$,$c$$){var $d$$=null;if(null!=$a$$&&null!=$b$$&&0!=$b$$){$b$$=mxUtils.toRadians($b$$);$d$$=Math.cos($b$$);
var $e$$=Math.sin($b$$);$c$$=null!=$c$$?$c$$:new mxPoint($a$$.x+$a$$.width/2,$a$$.y+$a$$.height/2);var $f$$=new mxPoint($a$$.x,$a$$.y);$b$$=new mxPoint($a$$.x+$a$$.width,$a$$.y);var $g$$=new mxPoint($b$$.x,$a$$.y+$a$$.height);$a$$=new mxPoint($a$$.x,$g$$.y);$f$$=mxUtils.getRotatedPoint($f$$,$d$$,$e$$,$c$$);$b$$=mxUtils.getRotatedPoint($b$$,$d$$,$e$$,$c$$);$g$$=mxUtils.getRotatedPoint($g$$,$d$$,$e$$,$c$$);$a$$=mxUtils.getRotatedPoint($a$$,$d$$,$e$$,$c$$);$d$$=new mxRectangle($f$$.x,$f$$.y,0,0);$d$$.add(new mxRectangle($b$$.x,
$b$$.y,0,0));$d$$.add(new mxRectangle($g$$.x,$g$$.y,0,0));$d$$.add(new mxRectangle($a$$.x,$a$$.y,0,0))}return $d$$},getRotatedPoint:function($a$$,$b$$,$c$$,$d$$){$d$$=null!=$d$$?$d$$:new mxPoint;var $e$$=$a$$.x-$d$$.x;$a$$=$a$$.y-$d$$.y;return new mxPoint($e$$*$b$$-$a$$*$c$$+$d$$.x,$a$$*$b$$+$e$$*$c$$+$d$$.y)},getPortConstraints:function($a$$,$b$$,$c$$,$d$$){$b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_PORT_CONSTRAINT,mxUtils.getValue($b$$.style,$c$$?mxConstants.STYLE_SOURCE_PORT_CONSTRAINT:
mxConstants.STYLE_TARGET_PORT_CONSTRAINT,null));if(null==$b$$)return $d$$;$d$$=$b$$.toString();$b$$=mxConstants.DIRECTION_MASK_NONE;$c$$=0;1==mxUtils.getValue($a$$.style,mxConstants.STYLE_PORT_CONSTRAINT_ROTATION,0)&&($c$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION,0));$a$$=0;45<$c$$?($a$$=1,135<=$c$$&&($a$$=2)):-45>$c$$&&($a$$=3,-135>=$c$$&&($a$$=2));if(0<=$d$$.indexOf(mxConstants.DIRECTION_NORTH))switch($a$$){case 0:$b$$|=mxConstants.DIRECTION_MASK_NORTH;break;case 1:$b$$|=mxConstants.DIRECTION_MASK_EAST;
break;case 2:$b$$|=mxConstants.DIRECTION_MASK_SOUTH;break;case 3:$b$$|=mxConstants.DIRECTION_MASK_WEST}if(0<=$d$$.indexOf(mxConstants.DIRECTION_WEST))switch($a$$){case 0:$b$$|=mxConstants.DIRECTION_MASK_WEST;break;case 1:$b$$|=mxConstants.DIRECTION_MASK_NORTH;break;case 2:$b$$|=mxConstants.DIRECTION_MASK_EAST;break;case 3:$b$$|=mxConstants.DIRECTION_MASK_SOUTH}if(0<=$d$$.indexOf(mxConstants.DIRECTION_SOUTH))switch($a$$){case 0:$b$$|=mxConstants.DIRECTION_MASK_SOUTH;break;case 1:$b$$|=mxConstants.DIRECTION_MASK_WEST;
break;case 2:$b$$|=mxConstants.DIRECTION_MASK_NORTH;break;case 3:$b$$|=mxConstants.DIRECTION_MASK_EAST}if(0<=$d$$.indexOf(mxConstants.DIRECTION_EAST))switch($a$$){case 0:$b$$|=mxConstants.DIRECTION_MASK_EAST;break;case 1:$b$$|=mxConstants.DIRECTION_MASK_SOUTH;break;case 2:$b$$|=mxConstants.DIRECTION_MASK_WEST;break;case 3:$b$$|=mxConstants.DIRECTION_MASK_NORTH}return $b$$},reversePortConstraints:function($a$$){var $b$$=($a$$&mxConstants.DIRECTION_MASK_WEST)<<3;$b$$|=($a$$&mxConstants.DIRECTION_MASK_NORTH)<<
1;$b$$|=($a$$&mxConstants.DIRECTION_MASK_SOUTH)>>1;return $b$$|($a$$&mxConstants.DIRECTION_MASK_EAST)>>3},findNearestSegment:function($a$$,$b$$,$c$$){var $d$$=-1;if(0<$a$$.absolutePoints.length)for(var $e$$=$a$$.absolutePoints[0],$f$$=null,$g$$=1;$g$$<$a$$.absolutePoints.length;$g$$++){var $k$$=$a$$.absolutePoints[$g$$];$e$$=mxUtils.ptSegDistSq($e$$.x,$e$$.y,$k$$.x,$k$$.y,$b$$,$c$$);if(null==$f$$||$e$$<$f$$)$f$$=$e$$,$d$$=$g$$-1;$e$$=$k$$}return $d$$},getDirectedBounds:function($a$$,$b$$,$c$$,$d$$,
$e$$){var $f$$=mxUtils.getValue($c$$,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST);$d$$=null!=$d$$?$d$$:mxUtils.getValue($c$$,mxConstants.STYLE_FLIPH,!1);$e$$=null!=$e$$?$e$$:mxUtils.getValue($c$$,mxConstants.STYLE_FLIPV,!1);$b$$.x=Math.round(Math.max(0,Math.min($a$$.width,$b$$.x)));$b$$.y=Math.round(Math.max(0,Math.min($a$$.height,$b$$.y)));$b$$.width=Math.round(Math.max(0,Math.min($a$$.width,$b$$.width)));$b$$.height=Math.round(Math.max(0,Math.min($a$$.height,$b$$.height)));if($e$$&&($f$$==
mxConstants.DIRECTION_SOUTH||$f$$==mxConstants.DIRECTION_NORTH)||$d$$&&($f$$==mxConstants.DIRECTION_EAST||$f$$==mxConstants.DIRECTION_WEST))$c$$=$b$$.x,$b$$.x=$b$$.width,$b$$.width=$c$$;if($d$$&&($f$$==mxConstants.DIRECTION_SOUTH||$f$$==mxConstants.DIRECTION_NORTH)||$e$$&&($f$$==mxConstants.DIRECTION_EAST||$f$$==mxConstants.DIRECTION_WEST))$c$$=$b$$.y,$b$$.y=$b$$.height,$b$$.height=$c$$;$d$$=mxRectangle.fromRectangle($b$$);$f$$==mxConstants.DIRECTION_SOUTH?($d$$.y=$b$$.x,$d$$.x=$b$$.height,$d$$.width=
$b$$.y,$d$$.height=$b$$.width):$f$$==mxConstants.DIRECTION_WEST?($d$$.y=$b$$.height,$d$$.x=$b$$.width,$d$$.width=$b$$.x,$d$$.height=$b$$.y):$f$$==mxConstants.DIRECTION_NORTH&&($d$$.y=$b$$.width,$d$$.x=$b$$.y,$d$$.width=$b$$.height,$d$$.height=$b$$.x);return new mxRectangle($a$$.x+$d$$.x,$a$$.y+$d$$.y,$a$$.width-$d$$.width-$d$$.x,$a$$.height-$d$$.height-$d$$.y)},getPerimeterPoint:function($a$$,$b$$,$c$$){for(var $d$$=null,$e$$=0;$e$$<$a$$.length-1;$e$$++){var $f$$=mxUtils.intersection($a$$[$e$$].x,
$a$$[$e$$].y,$a$$[$e$$+1].x,$a$$[$e$$+1].y,$b$$.x,$b$$.y,$c$$.x,$c$$.y);if(null!=$f$$){var $g$$=$c$$.x-$f$$.x,$k$$=$c$$.y-$f$$.y;$f$$={p:$f$$,distSq:$k$$*$k$$+$g$$*$g$$};null!=$f$$&&(null==$d$$||$d$$.distSq>$f$$.distSq)&&($d$$=$f$$)}}return null!=$d$$?$d$$.p:null},intersectsPoints:function($a$$,$b$$){for(var $c$$=0;$c$$<$b$$.length-1;$c$$++)if(mxUtils.rectangleIntersectsSegment($a$$,$b$$[$c$$],$b$$[$c$$+1]))return!0;return!1},rectangleIntersectsSegment:function($a$$,$b$$,$c$$){var $d$$=$a$$.y,$e$$=
$a$$.x,$f$$=$d$$+$a$$.height,$g$$=$e$$+$a$$.width;$a$$=$b$$.x;var $k$$=$c$$.x;$b$$.x>$c$$.x&&($a$$=$c$$.x,$k$$=$b$$.x);$k$$>$g$$&&($k$$=$g$$);$a$$<$e$$&&($a$$=$e$$);if($a$$>$k$$)return!1;$e$$=$b$$.y;$g$$=$c$$.y;var $l$$=$c$$.x-$b$$.x;1E-7<Math.abs($l$$)&&($c$$=($c$$.y-$b$$.y)/$l$$,$b$$=$b$$.y-$c$$*$b$$.x,$e$$=$c$$*$a$$+$b$$,$g$$=$c$$*$k$$+$b$$);$e$$>$g$$&&($b$$=$g$$,$g$$=$e$$,$e$$=$b$$);$g$$>$f$$&&($g$$=$f$$);$e$$<$d$$&&($e$$=$d$$);return $e$$>$g$$?!1:!0},contains:function($a$$,$b$$,$c$$){return $a$$.x<=
$b$$&&$a$$.x+$a$$.width>=$b$$&&$a$$.y<=$c$$&&$a$$.y+$a$$.height>=$c$$},intersects:function($a$$,$b$$,$c$$){var $d$$=$a$$.width,$e$$=$a$$.height,$f$$=$b$$.width,$g$$=$b$$.height;if(!$c$$&&(0>=$f$$||0>=$g$$||0>=$d$$||0>=$e$$))return!1;$c$$=$a$$.x;$a$$=$a$$.y;var $k$$=$b$$.x;$b$$=$b$$.y;$f$$+=$k$$;$g$$+=$b$$;$d$$+=$c$$;$e$$+=$a$$;return($f$$<$k$$||$f$$>$c$$)&&($g$$<$b$$||$g$$>$a$$)&&($d$$<$c$$||$d$$>$k$$)&&($e$$<$a$$||$e$$>$b$$)},intersectsHotspot:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$d$$=null!=$d$$?
$d$$:1;$e$$=null!=$e$$?$e$$:0;$f$$=null!=$f$$?$f$$:0;if(0<$d$$){var $g$$=$a$$.getCenterX(),$k$$=$a$$.getCenterY(),$l$$=$a$$.width,$m$$=$a$$.height,$n$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_STARTSIZE)*$a$$.view.scale;0<$n$$&&(mxUtils.getValue($a$$.style,mxConstants.STYLE_HORIZONTAL,!0)?($k$$=$a$$.y+$n$$/2,$m$$=$n$$):($g$$=$a$$.x+$n$$/2,$l$$=$n$$));$l$$=Math.max($e$$,$l$$*$d$$);$m$$=Math.max($e$$,$m$$*$d$$);0<$f$$&&($l$$=Math.min($l$$,$f$$),$m$$=Math.min($m$$,$f$$));$d$$=new mxRectangle($g$$-
$l$$/2,$k$$-$m$$/2,$l$$,$m$$);$g$$=mxUtils.toRadians(mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION)||0);0!=$g$$&&($e$$=Math.cos(-$g$$),$f$$=Math.sin(-$g$$),$g$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY()),$a$$=mxUtils.getRotatedPoint(new mxPoint($b$$,$c$$),$e$$,$f$$,$g$$),$b$$=$a$$.x,$c$$=$a$$.y);return mxUtils.contains($d$$,$b$$,$c$$)}return!0},getOffset:function($a$$,$b$$){for(var $c$$=0,$d$$=0,$e$$=!1,$f$$=$a$$,$g$$=document.body,$k$$=document.documentElement;null!=$f$$&&$f$$!=$g$$&&
$f$$!=$k$$&&!$e$$;){var $l$$=mxUtils.getCurrentStyle($f$$);null!=$l$$&&($e$$=$e$$||"fixed"==$l$$.position);$f$$=$f$$.parentNode}$b$$||$e$$||($b$$=mxUtils.getDocumentScrollOrigin($a$$.ownerDocument),$c$$+=$b$$.x,$d$$+=$b$$.y);$a$$=$a$$.getBoundingClientRect();null!=$a$$&&($c$$+=$a$$.left,$d$$+=$a$$.top);return new mxPoint($c$$,$d$$)},getDocumentScrollOrigin:function($a$$){$a$$=$a$$.defaultView||$a$$.parentWindow;return new mxPoint(null!=$a$$&&void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||
document.body.parentNode||document.body).scrollLeft,null!=$a$$&&void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)},getScrollOrigin:function($a$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:!1;$c$$=null!=$c$$?$c$$:!0;for(var $d$$=null!=$a$$?$a$$.ownerDocument:document,$e$$=$d$$.body,$f$$=$d$$.documentElement,$g$$=new mxPoint,$k$$=!1;null!=$a$$&&$a$$!=$e$$&&$a$$!=$f$$;){isNaN($a$$.scrollLeft)||isNaN($a$$.scrollTop)||($g$$.x+=$a$$.scrollLeft,
$g$$.y+=$a$$.scrollTop);var $l$$=mxUtils.getCurrentStyle($a$$);null!=$l$$&&($k$$=$k$$||"fixed"==$l$$.position);$a$$=$b$$?$a$$.parentNode:null}!$k$$&&$c$$&&($a$$=mxUtils.getDocumentScrollOrigin($d$$),$g$$.x+=$a$$.x,$g$$.y+=$a$$.y);return $g$$},convertPoint:function($a$$,$b$$,$c$$){var $d$$=mxUtils.getScrollOrigin($a$$,!1);$a$$=mxUtils.getOffset($a$$);$a$$.x-=$d$$.x;$a$$.y-=$d$$.y;return new mxPoint($b$$-$a$$.x,$c$$-$a$$.y)},removeJavascriptProtocol:function($a$$){for(;null!=$a$$&&"javascript:"===mxUtils.ltrim($a$$.toLowerCase()).substring(0,
11);)$a$$=$a$$.substring($a$$.toLowerCase().indexOf(":")+1);return $a$$},ltrim:function($a$$,$b$$){return null!=$a$$?$a$$.replace(new RegExp("^["+($b$$||"\\s|\\0")+"]+","g"),""):null},rtrim:function($a$$,$b$$){return null!=$a$$?$a$$.replace(new RegExp("["+($b$$||"\\s|\\0")+"]+$","g"),""):null},trim:function($a$$,$b$$){return mxUtils.ltrim(mxUtils.rtrim($a$$,$b$$),$b$$)},isNumeric:function($a$$){return!isNaN(parseFloat($a$$))&&isFinite($a$$)&&("string"!=typeof $a$$||0>$a$$.toLowerCase().indexOf("0x"))},
isInteger:function($a$$){return String(parseInt($a$$))===String($a$$)},mod:function($a$$,$b$$){return($a$$%$b$$+$b$$)%$b$$},intersection:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){var $l$$=($k$$-$f$$)*($c$$-$a$$)-($g$$-$e$$)*($d$$-$b$$);$g$$=(($g$$-$e$$)*($b$$-$f$$)-($k$$-$f$$)*($a$$-$e$$))/$l$$;$e$$=(($c$$-$a$$)*($b$$-$f$$)-($d$$-$b$$)*($a$$-$e$$))/$l$$;return 0<=$g$$&&1>=$g$$&&0<=$e$$&&1>=$e$$?new mxPoint($a$$+$g$$*($c$$-$a$$),$b$$+$g$$*($d$$-$b$$)):null},ptSegDistSq:function($a$$,$b$$,$c$$,
$d$$,$e$$,$f$$){$c$$-=$a$$;$d$$-=$b$$;$e$$-=$a$$;$f$$-=$b$$;0>=$e$$*$c$$+$f$$*$d$$?$c$$=0:($e$$=$c$$-$e$$,$f$$=$d$$-$f$$,$a$$=$e$$*$c$$+$f$$*$d$$,$c$$=0>=$a$$?0:$a$$*$a$$/($c$$*$c$$+$d$$*$d$$));$e$$=$e$$*$e$$+$f$$*$f$$-$c$$;0>$e$$&&($e$$=0);return $e$$},ptLineDist:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){return Math.abs(($d$$-$b$$)*$e$$-($c$$-$a$$)*$f$$+$c$$*$b$$-$d$$*$a$$)/Math.sqrt(($d$$-$b$$)*($d$$-$b$$)+($c$$-$a$$)*($c$$-$a$$))},relativeCcw:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$c$$-=$a$$;$d$$-=
$b$$;$e$$-=$a$$;$f$$-=$b$$;$a$$=$e$$*$d$$-$f$$*$c$$;0==$a$$&&($a$$=$e$$*$c$$+$f$$*$d$$,0<$a$$&&($a$$=($e$$-$c$$)*$c$$+($f$$-$d$$)*$d$$,0>$a$$&&($a$$=0)));return 0>$a$$?-1:0<$a$$?1:0},animateChanges:function($a$$,$b$$){mxEffects.animateChanges.apply(this,arguments)},cascadeOpacity:function($a$$,$b$$,$c$$){mxEffects.cascadeOpacity.apply(this,arguments)},fadeOut:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){mxEffects.fadeOut.apply(this,arguments)},setOpacity:function($a$$,$b$$){mxClient.IS_IE&&("undefined"===
typeof document.documentMode||9>document.documentMode)?$a$$.style.filter=100<=$b$$?"":"alpha(opacity="+$b$$+")":$a$$.style.opacity=$b$$/100},createElementNs:function($a$$,$b$$,$c$$){if(null!=$a$$.createElementNS)return $a$$.createElementNS($b$$,$c$$);$a$$=$a$$.createElement($c$$);null!=namespace&&$a$$.setAttribute("xmlns",$b$$);return $a$$},createImage:function($a$$){var $b$$=document.createElement("img");$b$$.setAttribute("src",$a$$);$b$$.setAttribute("border","0");return $b$$},sortCells:function($a$$,
$b$$){$b$$=null!=$b$$?$b$$:!0;var $c$$=new mxDictionary;$a$$.sort(function($d$$,$e$$){var $f$$=$c$$.get($d$$);null==$f$$&&($f$$=mxCellPath.create($d$$).split(mxCellPath.PATH_SEPARATOR),$c$$.put($d$$,$f$$));$d$$=$c$$.get($e$$);null==$d$$&&($d$$=mxCellPath.create($e$$).split(mxCellPath.PATH_SEPARATOR),$c$$.put($e$$,$d$$));$e$$=mxCellPath.compare($f$$,$d$$);return 0==$e$$?0:0<$e$$==$b$$?1:-1});return $a$$},getStylename:function($a$$){return null!=$a$$&&($a$$=$a$$.split(";")[0],0>$a$$.indexOf("="))?$a$$:
""},getStylenames:function($a$$){var $b$$=[];if(null!=$a$$){$a$$=$a$$.split(";");for(var $c$$=0;$c$$<$a$$.length;$c$$++)0>$a$$[$c$$].indexOf("=")&&$b$$.push($a$$[$c$$])}return $b$$},indexOfStylename:function($a$$,$b$$){if(null!=$a$$&&null!=$b$$){$a$$=$a$$.split(";");for(var $c$$=0,$d$$=0;$d$$<$a$$.length;$d$$++){if($a$$[$d$$]==$b$$)return $c$$;$c$$+=$a$$[$d$$].length+1}}return-1},addStylename:function($a$$,$b$$){0>mxUtils.indexOfStylename($a$$,$b$$)&&(null==$a$$?$a$$="":0<$a$$.length&&";"!=$a$$.charAt($a$$.length-
1)&&($a$$+=";"),$a$$+=$b$$);return $a$$},removeStylename:function($a$$,$b$$){var $c$$=[];if(null!=$a$$){$a$$=$a$$.split(";");for(var $d$$=0;$d$$<$a$$.length;$d$$++)$a$$[$d$$]!=$b$$&&$c$$.push($a$$[$d$$])}return $c$$.join(";")},removeAllStylenames:function($a$$){var $b$$=[];if(null!=$a$$){$a$$=$a$$.split(";");for(var $c$$=0;$c$$<$a$$.length;$c$$++)0<=$a$$[$c$$].indexOf("=")&&$b$$.push($a$$[$c$$])}return $b$$.join(";")},setCellStyles:function($a$$,$b$$,$c$$,$d$$){if(null!=$b$$&&0<$b$$.length){$a$$.beginUpdate();
try{for(var $e$$=0;$e$$<$b$$.length;$e$$++)if(null!=$b$$[$e$$]){var $f$$=mxUtils.setStyle($a$$.getStyle($b$$[$e$$]),$c$$,$d$$);$a$$.setStyle($b$$[$e$$],$f$$)}}finally{$a$$.endUpdate()}}},hex2rgb:function($a$$){if(null!=$a$$&&7==$a$$.length&&"#"==$a$$.charAt(0)){var $b$$=parseInt($a$$.substring(1,3),16),$c$$=parseInt($a$$.substring(3,5),16);$a$$=parseInt($a$$.substring(5,7),16);$a$$="rgb("+$b$$+", "+$c$$+", "+$a$$+")"}return $a$$},hex2rgba:function($a$$,$b$$){if(null!=$a$$&&7<=$a$$.length&&"#"==$a$$.charAt(0)){var $c$$=
parseInt($a$$.substring(1,3),16),$d$$=parseInt($a$$.substring(3,5),16),$e$$=parseInt($a$$.substring(5,7),16);$b$$=null!=$b$$?$b$$:1;7<$a$$.length&&($b$$=parseInt($a$$.substring(7,9),16)/255);$a$$="rgba("+$c$$+", "+$d$$+", "+$e$$+", "+$b$$+")"}return $a$$},rgba2hex:function($a$$){return(rgb=$a$$&&$a$$.match?$a$$.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i):$a$$)&&4===rgb.length?"#"+("0"+parseInt(rgb[1],10).toString(16)).slice(-2)+("0"+parseInt(rgb[2],10).toString(16)).slice(-2)+
("0"+parseInt(rgb[3],10).toString(16)).slice(-2):$a$$},setStyle:function($a$$,$b$$,$c$$){var $d$$=null!=$c$$&&("undefined"==typeof $c$$.length||0<$c$$.length);if(null==$a$$||0==$a$$.length)$d$$&&($a$$=$b$$+"="+$c$$+";");else if($a$$.substring(0,$b$$.length+1)==$b$$+"="){var $e$$=$a$$.indexOf(";");$a$$=$d$$?$b$$+"="+$c$$+(0>$e$$?";":$a$$.substring($e$$)):0>$e$$||$e$$==$a$$.length-1?"":$a$$.substring($e$$+1)}else{var $f$$=$a$$.indexOf(";"+$b$$+"=");0>$f$$?$d$$&&($d$$=";"==$a$$.charAt($a$$.length-1)?
"":";",$a$$=$a$$+$d$$+$b$$+"="+$c$$+";"):($e$$=$a$$.indexOf(";",$f$$+1),$a$$=$d$$?$a$$.substring(0,$f$$+1)+$b$$+"="+$c$$+(0>$e$$?";":$a$$.substring($e$$)):$a$$.substring(0,$f$$)+(0>$e$$?";":$a$$.substring($e$$)))}return $a$$},setCellStyleFlags:function($a$$,$b$$,$c$$,$d$$,$e$$){if(null!=$b$$&&0<$b$$.length){$a$$.beginUpdate();try{for(var $f$$=0;$f$$<$b$$.length;$f$$++)if(null!=$b$$[$f$$]){var $g$$=mxUtils.setStyleFlag($a$$.getStyle($b$$[$f$$]),$c$$,$d$$,$e$$);$a$$.setStyle($b$$[$f$$],$g$$)}}finally{$a$$.endUpdate()}}},
setStyleFlag:function($a$$,$b$$,$c$$,$d$$){if(null==$a$$||0==$a$$.length)$a$$=$d$$||null==$d$$?$b$$+"="+$c$$:$b$$+"=0";else{var $e$$=$a$$.indexOf($b$$+"=");if(0>$e$$)$e$$=";"==$a$$.charAt($a$$.length-1)?"":";",$a$$=$d$$||null==$d$$?$a$$+$e$$+$b$$+"="+$c$$:$a$$+$e$$+$b$$+"=0";else{var $f$$=$a$$.indexOf(";",$e$$),$g$$=0>$f$$?$a$$.substring($e$$+$b$$.length+1):$a$$.substring($e$$+$b$$.length+1,$f$$);$g$$=null==$d$$?parseInt($g$$)^$c$$:$d$$?parseInt($g$$)|$c$$:parseInt($g$$)&~$c$$;$a$$=$a$$.substring(0,
$e$$)+$b$$+"="+$g$$+(0<=$f$$?$a$$.substring($f$$):"")}}return $a$$},getAlignmentAsPoint:function($a$$,$b$$){var $c$$=-.5,$d$$=-.5;$a$$==mxConstants.ALIGN_LEFT?$c$$=0:$a$$==mxConstants.ALIGN_RIGHT&&($c$$=-1);$b$$==mxConstants.ALIGN_TOP?$d$$=0:$b$$==mxConstants.ALIGN_BOTTOM&&($d$$=-1);return new mxPoint($c$$,$d$$)},getSizeForString:function($a$$,$b$$,$c$$,$d$$,$e$$){$b$$=null!=$b$$?$b$$:mxConstants.DEFAULT_FONTSIZE;$c$$=null!=$c$$?$c$$:mxConstants.DEFAULT_FONTFAMILY;var $f$$=document.createElement("div");
$f$$.style.fontFamily=$c$$;$f$$.style.fontSize=Math.round($b$$)+"px";$f$$.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?$b$$*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT*mxSvgCanvas2D.prototype.lineHeightCorrection;null!=$e$$&&(($e$$&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&($f$$.style.fontWeight="bold"),($e$$&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&($f$$.style.fontStyle="italic"),$b$$=[],($e$$&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&$b$$.push("underline"),
($e$$&mxConstants.FONT_STRIKETHROUGH)==mxConstants.FONT_STRIKETHROUGH&&$b$$.push("line-through"),0<$b$$.length&&($f$$.style.textDecoration=$b$$.join(" ")));$f$$.style.position="absolute";$f$$.style.visibility="hidden";$f$$.style.display="inline-block";$f$$.style.zoom="1";null!=$d$$?($f$$.style.width=$d$$+"px",$f$$.style.whiteSpace="normal"):$f$$.style.whiteSpace="nowrap";$f$$.innerHTML=$a$$;document.body.appendChild($f$$);$a$$=new mxRectangle(0,0,$f$$.offsetWidth,$f$$.offsetHeight);document.body.removeChild($f$$);
return $a$$},getViewXml:function($a$$,$b$$,$c$$,$d$$,$e$$){$d$$=null!=$d$$?$d$$:0;$e$$=null!=$e$$?$e$$:0;$b$$=null!=$b$$?$b$$:1;null==$c$$&&($c$$=[$a$$.getModel().getRoot()]);var $f$$=$a$$.getView(),$g$$=null,$k$$=$f$$.isEventsEnabled();$f$$.setEventsEnabled(!1);var $l$$=$f$$.drawPane,$m$$=$f$$.overlayPane;$a$$.dialect==mxConstants.DIALECT_SVG?($f$$.drawPane=document.createElementNS(mxConstants.NS_SVG,"g"),$f$$.canvas.appendChild($f$$.drawPane),$f$$.overlayPane=document.createElementNS(mxConstants.NS_SVG,
"g")):($f$$.drawPane=$f$$.drawPane.cloneNode(!1),$f$$.canvas.appendChild($f$$.drawPane),$f$$.overlayPane=$f$$.overlayPane.cloneNode(!1));$f$$.canvas.appendChild($f$$.overlayPane);var $n$$=$f$$.getTranslate();$f$$.translate=new mxPoint($d$$,$e$$);$b$$=new mxTemporaryCellStates($a$$.getView(),$b$$,$c$$);try{$g$$=(new mxCodec).encode($a$$.getView())}finally{$b$$.destroy(),$f$$.translate=$n$$,$f$$.canvas.removeChild($f$$.drawPane),$f$$.canvas.removeChild($f$$.overlayPane),$f$$.drawPane=$l$$,$f$$.overlayPane=
$m$$,$f$$.setEventsEnabled($k$$)}return $g$$},getScaleForPageCount:function($a$$,$b$$,$c$$,$d$$){if(1>$a$$)return 1;$c$$=null!=$c$$?$c$$:mxConstants.PAGE_FORMAT_A4_PORTRAIT;$d$$=null!=$d$$?$d$$:0;var $e$$=$c$$.width-2*$d$$;$c$$=$c$$.height-2*$d$$;$d$$=mxRectangle.fromRectangle($b$$.getGraphBounds());$b$$=$b$$.getView().getScale();$d$$.width/=$b$$;$d$$.height/=$b$$;$b$$=$d$$.width;var $f$$=Math.sqrt($a$$);$d$$=Math.sqrt($b$$/$d$$.height/($e$$/$c$$));$c$$=$f$$*$d$$;$d$$=$f$$/$d$$;if(1>$c$$&&$d$$>$a$$){var $g$$=
$d$$/$a$$;$d$$=$a$$;$c$$/=$g$$}1>$d$$&&$c$$>$a$$&&($g$$=$c$$/$a$$,$c$$=$a$$,$d$$/=$g$$);$g$$=Math.ceil($c$$)*Math.ceil($d$$);for($f$$=0;$g$$>$a$$;){$g$$=Math.floor($c$$)/$c$$;var $k$$=Math.floor($d$$)/$d$$;1==$g$$&&($g$$=Math.floor($c$$-1)/$c$$);1==$k$$&&($k$$=Math.floor($d$$-1)/$d$$);$g$$=$g$$>$k$$?$g$$:$k$$;$c$$*=$g$$;$d$$*=$g$$;$g$$=Math.ceil($c$$)*Math.ceil($d$$);$f$$++;if(10<$f$$)break}return $e$$*$c$$/$b$$*.99999},show:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$c$$=null!=$c$$?$c$$:0;$d$$=null!=
$d$$?$d$$:0;null==$b$$?$b$$=window.open().document:$b$$.open();9==document.documentMode&&$b$$.writeln('\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=9"><![endif]--\x3e');var $g$$=$a$$.getGraphBounds(),$k$$=Math.ceil($c$$-$g$$.x),$l$$=Math.ceil($d$$-$g$$.y);null==$e$$&&($e$$=Math.ceil($g$$.width+$c$$)+Math.ceil(Math.ceil($g$$.x)-$g$$.x));null==$f$$&&($f$$=Math.ceil($g$$.height+$d$$)+Math.ceil(Math.ceil($g$$.y)-$g$$.y));if(mxClient.IS_IE||11==document.documentMode){$d$$="<html><head>";
$g$$=document.getElementsByTagName("base");for($c$$=0;$c$$<$g$$.length;$c$$++)$d$$+=$g$$[$c$$].outerHTML;$d$$+="<style>";for($c$$=0;$c$$<document.styleSheets.length;$c$$++)try{$d$$+=document.styleSheets[$c$$].cssText}catch($m$$){}$d$$=$d$$+'</style></head><body style="margin:0px;"><div style="position:absolute;overflow:hidden;width:'+($e$$+"px;height:"+$f$$+'px;"><div style="position:relative;left:'+$k$$+"px;top:"+$l$$+'px;">')+$a$$.container.innerHTML;$b$$.writeln($d$$+"</div></div></body><html>");
$b$$.close()}else{$b$$.writeln("<html><head>");$g$$=document.getElementsByTagName("base");for($c$$=0;$c$$<$g$$.length;$c$$++)$b$$.writeln(mxUtils.getOuterHtml($g$$[$c$$]));$d$$=document.getElementsByTagName("link");for($c$$=0;$c$$<$d$$.length;$c$$++)$b$$.writeln(mxUtils.getOuterHtml($d$$[$c$$]));$d$$=document.getElementsByTagName("style");for($c$$=0;$c$$<$d$$.length;$c$$++)$b$$.writeln(mxUtils.getOuterHtml($d$$[$c$$]));$b$$.writeln('</head><body style="margin:0px;"></body></html>');$b$$.close();$c$$=
$b$$.createElement("div");$c$$.position="absolute";$c$$.overflow="hidden";$c$$.style.width=$e$$+"px";$c$$.style.height=$f$$+"px";$e$$=$b$$.createElement("div");$e$$.style.position="absolute";$e$$.style.left=$k$$+"px";$e$$.style.top=$l$$+"px";$f$$=$a$$.container.firstChild;for($d$$=null;null!=$f$$;)$g$$=$f$$.cloneNode(!0),$f$$==$a$$.view.drawPane.ownerSVGElement?($c$$.appendChild($g$$),$d$$=$g$$):$e$$.appendChild($g$$),$f$$=$f$$.nextSibling;$b$$.body.appendChild($c$$);null!=$e$$.firstChild&&$b$$.body.appendChild($e$$);
null!=$d$$&&($d$$.style.minWidth="",$d$$.style.minHeight="",$d$$.firstChild.setAttribute("transform","translate("+$k$$+","+$l$$+")"))}mxUtils.removeCursors($b$$.body);return $b$$},printScreen:function($a$$){var $b$$=window.open();mxUtils.show($a$$,$b$$.document);$a$$=function(){$b$$.focus();$b$$.print();$b$$.close()};mxClient.IS_GC?$b$$.setTimeout($a$$,500):$a$$()},popup:function($a$$,$b$$){if($b$$){var $c$$=document.createElement("div");$c$$.style.overflow="scroll";$c$$.style.width="636px";$c$$.style.height=
"460px";$b$$=document.createElement("pre");$b$$.innerHTML=mxUtils.htmlEntities($a$$,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;");$c$$.appendChild($b$$);$c$$=new mxWindow("Popup Window",$c$$,document.body.clientWidth/2-320,Math.max(document.body.clientHeight||0,document.documentElement.clientHeight)/2-240,640,480,!1,!0);$c$$.setClosable(!0);$c$$.setVisible(!0)}else mxClient.IS_NS?($c$$=window.open(),$c$$.document.writeln("<pre>"+mxUtils.htmlEntities($a$$)+"</pre"),$c$$.document.close()):($c$$=
window.open(),$b$$=$c$$.document.createElement("pre"),$b$$.innerHTML=mxUtils.htmlEntities($a$$,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),$c$$.document.body.appendChild($b$$))},alert:function($a$$){alert($a$$)},prompt:function($a$$,$b$$){return prompt($a$$,null!=$b$$?$b$$:"")},confirm:function($a$$){return confirm($a$$)},error:function($a$$,$b$$,$c$$,$d$$){var $e$$=document.createElement("div");$e$$.style.padding="20px";var $f$$=document.createElement("img");$f$$.setAttribute("src",$d$$||mxUtils.errorImage);
$f$$.setAttribute("valign","bottom");$f$$.style.verticalAlign="middle";$e$$.appendChild($f$$);$e$$.appendChild(document.createTextNode(""));$e$$.appendChild(document.createTextNode(""));$e$$.appendChild(document.createTextNode(""));mxUtils.write($e$$,$a$$);$a$$=document.body.clientWidth;$d$$=document.body.clientHeight||document.documentElement.clientHeight;var $g$$=new mxWindow(mxResources.get(mxUtils.errorResource)||mxUtils.errorResource,$e$$,($a$$-$b$$)/2,$d$$/4,$b$$,null,!1,!0);$c$$&&(mxUtils.br($e$$),
$b$$=document.createElement("p"),$c$$=document.createElement("button"),mxClient.IS_IE?$c$$.style.cssText="float:right":$c$$.setAttribute("style","float:right"),mxEvent.addListener($c$$,"click",function($k$$){$g$$.destroy()}),mxUtils.write($c$$,mxResources.get(mxUtils.closeResource)||mxUtils.closeResource),$b$$.appendChild($c$$),$e$$.appendChild($b$$),mxUtils.br($e$$),$g$$.setClosable(!0));$g$$.setVisible(!0);return $g$$},makeDraggable:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){$a$$=
new mxDragSource($a$$,$c$$);$a$$.dragOffset=new mxPoint(null!=$e$$?$e$$:0,null!=$f$$?$f$$:mxConstants.TOOLTIP_VERTICAL_OFFSET);$a$$.autoscroll=$g$$;$a$$.setGuidesEnabled(!1);null!=$l$$&&($a$$.highlightDropTargets=$l$$);null!=$m$$&&($a$$.getDropTarget=$m$$);$a$$.getGraphForEvent=function($n$$){return"function"==typeof $b$$?$b$$($n$$):$b$$};null!=$d$$&&($a$$.createDragElement=function(){return $d$$.cloneNode(!0)},$k$$&&($a$$.createPreviewElement=function($n$$){var $p$$=$d$$.cloneNode(!0),$q$$=parseInt($p$$.style.width),
$r$$=parseInt($p$$.style.height);$p$$.style.width=Math.round($q$$*$n$$.view.scale)+"px";$p$$.style.height=Math.round($r$$*$n$$.view.scale)+"px";return $p$$}));return $a$$},format:function($a$$){return parseFloat(parseFloat($a$$).toFixed(2))}},mxConstants={DEFAULT_HOTSPOT:.3,MIN_HOTSPOT_SIZE:8,MAX_HOTSPOT_SIZE:0,RENDERING_HINT_EXACT:"exact",RENDERING_HINT_FASTER:"faster",RENDERING_HINT_FASTEST:"fastest",DIALECT_SVG:"svg",DIALECT_MIXEDHTML:"mixedHtml",DIALECT_PREFERHTML:"preferHtml",DIALECT_STRICTHTML:"strictHtml",
NS_SVG:"http://www.w3.org/2000/svg",NS_XHTML:"http://www.w3.org/1999/xhtml",NS_XLINK:"http://www.w3.org/1999/xlink",SHADOWCOLOR:"#808080",VML_SHADOWCOLOR:"#808080",SHADOW_OFFSET_X:2,SHADOW_OFFSET_Y:3,SHADOW_BLUR:2,SHADOW_OPACITY:1,NODETYPE_ELEMENT:1,NODETYPE_ATTRIBUTE:2,NODETYPE_TEXT:3,NODETYPE_CDATA:4,NODETYPE_ENTITY_REFERENCE:5,NODETYPE_ENTITY:6,NODETYPE_PROCESSING_INSTRUCTION:7,NODETYPE_COMMENT:8,NODETYPE_DOCUMENT:9,NODETYPE_DOCUMENTTYPE:10,NODETYPE_DOCUMENT_FRAGMENT:11,NODETYPE_NOTATION:12,TOOLTIP_VERTICAL_OFFSET:16,
DEFAULT_VALID_COLOR:"#00FF00",DEFAULT_INVALID_COLOR:"#FF0000",OUTLINE_HIGHLIGHT_COLOR:"#00FF00",OUTLINE_HIGHLIGHT_STROKEWIDTH:5,HIGHLIGHT_STROKEWIDTH:3,HIGHLIGHT_SIZE:2,HIGHLIGHT_OPACITY:100,CURSOR_MOVABLE_VERTEX:"move",CURSOR_MOVABLE_EDGE:"move",CURSOR_LABEL_HANDLE:"default",CURSOR_TERMINAL_HANDLE:"pointer",CURSOR_BEND_HANDLE:"crosshair",CURSOR_VIRTUAL_BEND_HANDLE:"crosshair",CURSOR_CONNECT:"pointer",HIGHLIGHT_COLOR:"#00FF00",CONNECT_TARGET_COLOR:"#0000FF",INVALID_CONNECT_TARGET_COLOR:"#FF0000",
DROP_TARGET_COLOR:"#0000FF",VALID_COLOR:"#00FF00",INVALID_COLOR:"#FF0000",EDGE_SELECTION_COLOR:"#00FF00",VERTEX_SELECTION_COLOR:"#00FF00",VERTEX_SELECTION_STROKEWIDTH:1,EDGE_SELECTION_STROKEWIDTH:1,VERTEX_SELECTION_DASHED:!0,EDGE_SELECTION_DASHED:!0,GUIDE_COLOR:"#FF0000",GUIDE_STROKEWIDTH:1,OUTLINE_COLOR:"#0099FF",OUTLINE_STROKEWIDTH:mxClient.IS_IE?2:3,HANDLE_SIZE:6,LABEL_HANDLE_SIZE:4,HANDLE_FILLCOLOR:"#00FF00",HANDLE_STROKECOLOR:"black",LABEL_HANDLE_FILLCOLOR:"yellow",CONNECT_HANDLE_FILLCOLOR:"#0000FF",
LOCKED_HANDLE_FILLCOLOR:"#FF0000",OUTLINE_HANDLE_FILLCOLOR:"#00FFFF",OUTLINE_HANDLE_STROKECOLOR:"#0033FF",DEFAULT_FONTFAMILY:"Arial,Helvetica",DEFAULT_FONTSIZE:11,DEFAULT_TEXT_DIRECTION:"",LINE_HEIGHT:1.2,WORD_WRAP:"normal",ABSOLUTE_LINE_HEIGHT:!1,DEFAULT_FONTSTYLE:0,DEFAULT_STARTSIZE:40,DEFAULT_MARKERSIZE:6,DEFAULT_IMAGESIZE:24,ENTITY_SEGMENT:30,RECTANGLE_ROUNDING_FACTOR:.15,LINE_ARCSIZE:20,ARROW_SPACING:0,ARROW_WIDTH:30,ARROW_SIZE:30,PAGE_FORMAT_A4_PORTRAIT:new mxRectangle(0,0,827,1169),PAGE_FORMAT_A4_LANDSCAPE:new mxRectangle(0,
0,1169,827),PAGE_FORMAT_LETTER_PORTRAIT:new mxRectangle(0,0,850,1100),PAGE_FORMAT_LETTER_LANDSCAPE:new mxRectangle(0,0,1100,850),NONE:"none",STYLE_PERIMETER:"perimeter",STYLE_SOURCE_PORT:"sourcePort",STYLE_TARGET_PORT:"targetPort",STYLE_PORT_CONSTRAINT:"portConstraint",STYLE_PORT_CONSTRAINT_ROTATION:"portConstraintRotation",STYLE_SOURCE_PORT_CONSTRAINT:"sourcePortConstraint",STYLE_TARGET_PORT_CONSTRAINT:"targetPortConstraint",STYLE_OPACITY:"opacity",STYLE_FILL_OPACITY:"fillOpacity",STYLE_FILL_STYLE:"fillStyle",
STYLE_STROKE_OPACITY:"strokeOpacity",STYLE_TEXT_OPACITY:"textOpacity",STYLE_TEXT_DIRECTION:"textDirection",STYLE_OVERFLOW:"overflow",STYLE_BLOCK_SPACING:"blockSpacing",STYLE_ORTHOGONAL:"orthogonal",STYLE_EXIT_X:"exitX",STYLE_EXIT_Y:"exitY",STYLE_EXIT_DX:"exitDx",STYLE_EXIT_DY:"exitDy",STYLE_EXIT_PERIMETER:"exitPerimeter",STYLE_ENTRY_X:"entryX",STYLE_ENTRY_Y:"entryY",STYLE_ENTRY_DX:"entryDx",STYLE_ENTRY_DY:"entryDy",STYLE_ENTRY_PERIMETER:"entryPerimeter",STYLE_WHITE_SPACE:"whiteSpace",STYLE_ROTATION:"rotation",
STYLE_FILLCOLOR:"fillColor",STYLE_POINTER_EVENTS:"pointerEvents",STYLE_SWIMLANE_FILLCOLOR:"swimlaneFillColor",STYLE_MARGIN:"margin",STYLE_GRADIENTCOLOR:"gradientColor",STYLE_GRADIENT_DIRECTION:"gradientDirection",STYLE_STROKECOLOR:"strokeColor",STYLE_SEPARATORCOLOR:"separatorColor",STYLE_STROKEWIDTH:"strokeWidth",STYLE_ALIGN:"align",STYLE_VERTICAL_ALIGN:"verticalAlign",STYLE_LABEL_WIDTH:"labelWidth",STYLE_LABEL_POSITION:"labelPosition",STYLE_VERTICAL_LABEL_POSITION:"verticalLabelPosition",STYLE_IMAGE_ASPECT:"imageAspect",
STYLE_IMAGE_ALIGN:"imageAlign",STYLE_IMAGE_VERTICAL_ALIGN:"imageVerticalAlign",STYLE_GLASS:"glass",STYLE_IMAGE:"image",STYLE_IMAGE_WIDTH:"imageWidth",STYLE_IMAGE_HEIGHT:"imageHeight",STYLE_IMAGE_BACKGROUND:"imageBackground",STYLE_IMAGE_BORDER:"imageBorder",STYLE_FLIPH:"flipH",STYLE_FLIPV:"flipV",STYLE_NOLABEL:"noLabel",STYLE_NOEDGESTYLE:"noEdgeStyle",STYLE_LABEL_BACKGROUNDCOLOR:"labelBackgroundColor",STYLE_LABEL_BORDERCOLOR:"labelBorderColor",STYLE_LABEL_PADDING:"labelPadding",STYLE_INDICATOR_SHAPE:"indicatorShape",
STYLE_INDICATOR_IMAGE:"indicatorImage",STYLE_INDICATOR_COLOR:"indicatorColor",STYLE_INDICATOR_STROKECOLOR:"indicatorStrokeColor",STYLE_INDICATOR_GRADIENTCOLOR:"indicatorGradientColor",STYLE_INDICATOR_SPACING:"indicatorSpacing",STYLE_INDICATOR_WIDTH:"indicatorWidth",STYLE_INDICATOR_HEIGHT:"indicatorHeight",STYLE_INDICATOR_DIRECTION:"indicatorDirection",STYLE_SHADOW:"shadow",STYLE_TEXT_SHADOW:"textShadow",STYLE_SHADOW_OFFSET_X:"shadowOffsetX",STYLE_SHADOW_OFFSET_Y:"shadowOffsetY",STYLE_SHADOW_BLUR:"shadowBlur",
STYLE_SHADOWCOLOR:"shadowColor",STYLE_SHADOW_OPACITY:"shadowOpacity",STYLE_SEGMENT:"segment",STYLE_ENDARROW:"endArrow",STYLE_STARTARROW:"startArrow",STYLE_ENDSIZE:"endSize",STYLE_STARTSIZE:"startSize",STYLE_SWIMLANE_LINE:"swimlaneLine",STYLE_SWIMLANE_HEAD:"swimlaneHead",STYLE_SWIMLANE_BODY:"swimlaneBody",STYLE_ENDFILL:"endFill",STYLE_STARTFILL:"startFill",STYLE_DASHED:"dashed",STYLE_DASH_PATTERN:"dashPattern",STYLE_FIX_DASH:"fixDash",STYLE_ROUNDED:"rounded",STYLE_CURVED:"curved",STYLE_ARCSIZE:"arcSize",
STYLE_ABSOLUTE_ARCSIZE:"absoluteArcSize",STYLE_SOURCE_PERIMETER_SPACING:"sourcePerimeterSpacing",STYLE_TARGET_PERIMETER_SPACING:"targetPerimeterSpacing",STYLE_PERIMETER_SPACING:"perimeterSpacing",STYLE_SPACING:"spacing",STYLE_SPACING_TOP:"spacingTop",STYLE_SPACING_LEFT:"spacingLeft",STYLE_SPACING_BOTTOM:"spacingBottom",STYLE_SPACING_RIGHT:"spacingRight",STYLE_HORIZONTAL:"horizontal",STYLE_DIRECTION:"direction",STYLE_ANCHOR_POINT_DIRECTION:"anchorPointDirection",STYLE_ELBOW:"elbow",STYLE_FONTCOLOR:"fontColor",
STYLE_FONTFAMILY:"fontFamily",STYLE_FONTSIZE:"fontSize",STYLE_FONTSTYLE:"fontStyle",STYLE_ASPECT:"aspect",STYLE_AUTOSIZE:"autosize",STYLE_FIXED_WIDTH:"fixedWidth",STYLE_FOLDABLE:"foldable",STYLE_EDITABLE:"editable",STYLE_BACKGROUND_OUTLINE:"backgroundOutline",STYLE_BENDABLE:"bendable",STYLE_MOVABLE:"movable",STYLE_RESIZABLE:"resizable",STYLE_RESIZE_WIDTH:"resizeWidth",STYLE_RESIZE_HEIGHT:"resizeHeight",STYLE_ROTATABLE:"rotatable",STYLE_CLONEABLE:"cloneable",STYLE_DELETABLE:"deletable",STYLE_SHAPE:"shape",
STYLE_EDGE:"edgeStyle",STYLE_JETTY_SIZE:"jettySize",STYLE_SOURCE_JETTY_SIZE:"sourceJettySize",STYLE_TARGET_JETTY_SIZE:"targetJettySize",STYLE_LOOP:"loopStyle",STYLE_ORTHOGONAL_LOOP:"orthogonalLoop",STYLE_ROUTING_CENTER_X:"routingCenterX",STYLE_ROUTING_CENTER_Y:"routingCenterY",STYLE_CLIP_PATH:"clipPath",FONT_BOLD:1,FONT_ITALIC:2,FONT_UNDERLINE:4,FONT_STRIKETHROUGH:8,SHAPE_RECTANGLE:"rectangle",SHAPE_ELLIPSE:"ellipse",SHAPE_DOUBLE_ELLIPSE:"doubleEllipse",SHAPE_RHOMBUS:"rhombus",SHAPE_LINE:"line",SHAPE_IMAGE:"image",
SHAPE_ARROW:"arrow",SHAPE_ARROW_CONNECTOR:"arrowConnector",SHAPE_LABEL:"label",SHAPE_CYLINDER:"cylinder",SHAPE_SWIMLANE:"swimlane",SHAPE_CONNECTOR:"connector",SHAPE_ACTOR:"actor",SHAPE_CLOUD:"cloud",SHAPE_TRIANGLE:"triangle",SHAPE_HEXAGON:"hexagon",ARROW_CLASSIC:"classic",ARROW_CLASSIC_THIN:"classicThin",ARROW_BLOCK:"block",ARROW_BLOCK_THIN:"blockThin",ARROW_OPEN:"open",ARROW_OPEN_THIN:"openThin",ARROW_OVAL:"oval",ARROW_DIAMOND:"diamond",ARROW_DIAMOND_THIN:"diamondThin",ALIGN_LEFT:"left",ALIGN_CENTER:"center",
ALIGN_RIGHT:"right",ALIGN_TOP:"top",ALIGN_MIDDLE:"middle",ALIGN_BOTTOM:"bottom",DIRECTION_NORTH:"north",DIRECTION_SOUTH:"south",DIRECTION_EAST:"east",DIRECTION_WEST:"west",DIRECTION_RADIAL:"radial",TEXT_DIRECTION_DEFAULT:"",TEXT_DIRECTION_AUTO:"auto",TEXT_DIRECTION_LTR:"ltr",TEXT_DIRECTION_RTL:"rtl",TEXT_DIRECTION_VERTICAL_LR:"vertical-lr",TEXT_DIRECTION_VERTICAL_RL:"vertical-rl",DIRECTION_MASK_NONE:0,DIRECTION_MASK_WEST:1,DIRECTION_MASK_NORTH:2,DIRECTION_MASK_SOUTH:4,DIRECTION_MASK_EAST:8,DIRECTION_MASK_ALL:15,
ELBOW_VERTICAL:"vertical",ELBOW_HORIZONTAL:"horizontal",EDGESTYLE_ELBOW:"elbowEdgeStyle",EDGESTYLE_ENTITY_RELATION:"entityRelationEdgeStyle",EDGESTYLE_LOOP:"loopEdgeStyle",EDGESTYLE_SIDETOSIDE:"sideToSideEdgeStyle",EDGESTYLE_TOPTOBOTTOM:"topToBottomEdgeStyle",EDGESTYLE_ORTHOGONAL:"orthogonalEdgeStyle",EDGESTYLE_SEGMENT:"segmentEdgeStyle",PERIMETER_ELLIPSE:"ellipsePerimeter",PERIMETER_RECTANGLE:"rectanglePerimeter",PERIMETER_RHOMBUS:"rhombusPerimeter",PERIMETER_HEXAGON:"hexagonPerimeter",PERIMETER_TRIANGLE:"trianglePerimeter"};
function mxEventObject($a$$){this.name=$a$$;this.properties=[];for(var $b$$=1;$b$$<arguments.length;$b$$+=2)null!=arguments[$b$$+1]&&(this.properties[arguments[$b$$]]=arguments[$b$$+1])}mxEventObject.prototype.name=null;mxEventObject.prototype.properties=null;mxEventObject.prototype.consumed=!1;mxEventObject.prototype.getName=function(){return this.name};mxEventObject.prototype.getProperties=function(){return this.properties};mxEventObject.prototype.getProperty=function($a$$){return this.properties[$a$$]};
mxEventObject.prototype.isConsumed=function(){return this.consumed};mxEventObject.prototype.consume=function(){this.consumed=!0};function mxMouseEvent($a$$,$b$$){this.evt=$a$$;this.sourceState=this.state=$b$$}mxMouseEvent.prototype.consumed=!1;mxMouseEvent.prototype.evt=null;mxMouseEvent.prototype.graphX=null;mxMouseEvent.prototype.graphY=null;mxMouseEvent.prototype.state=null;mxMouseEvent.prototype.sourceState=null;mxMouseEvent.prototype.getEvent=function(){return this.evt};
mxMouseEvent.prototype.getSource=function(){return mxEvent.getSource(this.evt)};mxMouseEvent.prototype.isSource=function($a$$){return null!=$a$$?mxUtils.isAncestorNode($a$$.node,this.getSource()):!1};mxMouseEvent.prototype.getX=function(){return mxEvent.getClientX(this.getEvent())};mxMouseEvent.prototype.getY=function(){return mxEvent.getClientY(this.getEvent())};mxMouseEvent.prototype.getGraphX=function(){return this.graphX};mxMouseEvent.prototype.getGraphY=function(){return this.graphY};
mxMouseEvent.prototype.getState=function(){return this.state};mxMouseEvent.prototype.getCell=function(){var $a$$=this.getState();return null!=$a$$?$a$$.cell:null};mxMouseEvent.prototype.isPopupTrigger=function(){return mxEvent.isPopupTrigger(this.getEvent())};mxMouseEvent.prototype.isConsumed=function(){return this.consumed};
mxMouseEvent.prototype.consume=function($a$$){(null!=$a$$?$a$$:null!=this.evt.touches||mxEvent.isMouseEvent(this.evt))&&this.evt.preventDefault&&this.evt.preventDefault();mxClient.IS_IE&&(this.evt.returnValue=!0);this.consumed=!0};function mxEventSource($a$$){this.setEventSource($a$$)}mxEventSource.prototype.eventListeners=null;mxEventSource.prototype.eventsEnabled=!0;mxEventSource.prototype.eventSource=null;mxEventSource.prototype.isEventsEnabled=function(){return this.eventsEnabled};
mxEventSource.prototype.setEventsEnabled=function($a$$){this.eventsEnabled=$a$$};mxEventSource.prototype.getEventSource=function(){return this.eventSource};mxEventSource.prototype.setEventSource=function($a$$){this.eventSource=$a$$};mxEventSource.prototype.addListener=function($a$$,$b$$){null==this.eventListeners&&(this.eventListeners=[]);this.eventListeners.push($a$$);this.eventListeners.push($b$$)};
mxEventSource.prototype.removeListener=function($a$$){if(null!=this.eventListeners)for(var $b$$=0;$b$$<this.eventListeners.length;)this.eventListeners[$b$$+1]==$a$$?this.eventListeners.splice($b$$,2):$b$$+=2};
mxEventSource.prototype.fireEvent=function($a$$,$b$$){if(null!=this.eventListeners&&this.isEventsEnabled()){null==$a$$&&($a$$=new mxEventObject);null==$b$$&&($b$$=this.getEventSource());null==$b$$&&($b$$=this);for(var $c$$=0;$c$$<this.eventListeners.length;$c$$+=2){var $d$$=this.eventListeners[$c$$];null!=$d$$&&$d$$!=$a$$.getName()||this.eventListeners[$c$$+1].apply(this,[$b$$,$a$$])}}};
var mxEvent={addListener:function(){if(window.addEventListener){var $a$$=!1;try{document.addEventListener("test",function(){},Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){$a$$=!0}}))}catch($b$$){}return function($b$$,$c$$,$d$$){$b$$.addEventListener($c$$,$d$$,$a$$?{passive:!1}:!1);null==$b$$.mxListenerList&&($b$$.mxListenerList=[]);$b$$.mxListenerList.push({name:$c$$,f:$d$$})}}return function($b$$,$c$$,$d$$){$b$$.attachEvent("on"+$c$$,$d$$);null==$b$$.mxListenerList&&
($b$$.mxListenerList=[]);$b$$.mxListenerList.push({name:$c$$,f:$d$$})}}(),removeListener:function(){var $a$$=function($b$$,$c$$,$d$$){if(null!=$b$$.mxListenerList){$c$$=$b$$.mxListenerList.length;for(var $e$$=0;$e$$<$c$$;$e$$++)if($b$$.mxListenerList[$e$$].f==$d$$){$b$$.mxListenerList.splice($e$$,1);break}0==$b$$.mxListenerList.length&&($b$$.mxListenerList=null)}};return window.removeEventListener?function($b$$,$c$$,$d$$){$b$$.removeEventListener($c$$,$d$$,!1);$a$$($b$$,$c$$,$d$$)}:function($b$$,
$c$$,$d$$){$b$$.detachEvent("on"+$c$$,$d$$);$a$$($b$$,$c$$,$d$$)}}(),removeAllListeners:function($a$$){var $b$$=$a$$.mxListenerList;if(null!=$b$$)for(;0<$b$$.length;){var $c$$=$b$$[0];mxEvent.removeListener($a$$,$c$$.name,$c$$.f)}},addGestureListeners:function($a$$,$b$$,$c$$,$d$$){null!=$b$$&&mxEvent.addListener($a$$,mxClient.IS_POINTER?"pointerdown":"mousedown",$b$$);null!=$c$$&&mxEvent.addListener($a$$,mxClient.IS_POINTER?"pointermove":"mousemove",$c$$);null!=$d$$&&mxEvent.addListener($a$$,mxClient.IS_POINTER?
"pointerup":"mouseup",$d$$);!mxClient.IS_POINTER&&mxClient.IS_TOUCH&&(null!=$b$$&&mxEvent.addListener($a$$,"touchstart",$b$$),null!=$c$$&&mxEvent.addListener($a$$,"touchmove",$c$$),null!=$d$$&&mxEvent.addListener($a$$,"touchend",$d$$))},removeGestureListeners:function($a$$,$b$$,$c$$,$d$$){null!=$b$$&&mxEvent.removeListener($a$$,mxClient.IS_POINTER?"pointerdown":"mousedown",$b$$);null!=$c$$&&mxEvent.removeListener($a$$,mxClient.IS_POINTER?"pointermove":"mousemove",$c$$);null!=$d$$&&mxEvent.removeListener($a$$,
mxClient.IS_POINTER?"pointerup":"mouseup",$d$$);!mxClient.IS_POINTER&&mxClient.IS_TOUCH&&(null!=$b$$&&mxEvent.removeListener($a$$,"touchstart",$b$$),null!=$c$$&&mxEvent.removeListener($a$$,"touchmove",$c$$),null!=$d$$&&mxEvent.removeListener($a$$,"touchend",$d$$))},redirectMouseEvents:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){var $k$$=function($l$$){return"function"==typeof $c$$?$c$$($l$$):$c$$};mxEvent.addGestureListeners($a$$,function($l$$){null!=$d$$?$d$$($l$$):mxEvent.isConsumed($l$$)||$b$$.fireMouseEvent(mxEvent.MOUSE_DOWN,
new mxMouseEvent($l$$,$k$$($l$$)))},function($l$$){null!=$e$$?$e$$($l$$):mxEvent.isConsumed($l$$)||$b$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($l$$,$k$$($l$$)))},function($l$$){null!=$f$$?$f$$($l$$):mxEvent.isConsumed($l$$)||$b$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($l$$,$k$$($l$$)))});mxEvent.addListener($a$$,"dblclick",function($l$$){if(null!=$g$$)$g$$($l$$);else if(!mxEvent.isConsumed($l$$)){var $m$$=$k$$($l$$);$b$$.dblClick($l$$,null!=$m$$?$m$$.cell:null)}})},release:function($a$$){try{if(null!=
$a$$){mxEvent.removeAllListeners($a$$);var $b$$=$a$$.childNodes;if(null!=$b$$){var $c$$=$b$$.length;for($a$$=0;$a$$<$c$$;$a$$+=1)mxEvent.release($b$$[$a$$])}}}catch($d$$){}},addMouseWheelListener:function($a$$,$b$$){if(null!=$a$$){$b$$=null!=$b$$?$b$$:window;if(mxClient.IS_SF&&!mxClient.IS_TOUCH){var $c$$=1;mxEvent.addListener($b$$,"gesturestart",function($g$$){mxEvent.consume($g$$);$c$$=1});mxEvent.addListener($b$$,"gesturechange",function($g$$){mxEvent.consume($g$$);var $k$$=$c$$-$g$$.scale;.2<
Math.abs($k$$)&&($a$$($g$$,0>$k$$,!0),$c$$=$g$$.scale)});mxEvent.addListener($b$$,"gestureend",function($g$$){mxEvent.consume($g$$)})}else{var $d$$=[],$e$$=0,$f$$=0;mxEvent.addGestureListeners($b$$,mxUtils.bind(this,function($g$$){mxEvent.isMouseEvent($g$$)||null==$g$$.pointerId||$d$$.push($g$$)}),mxUtils.bind(this,function($g$$){if(!mxEvent.isMouseEvent($g$$)&&2==$d$$.length){for(var $k$$=0;$k$$<$d$$.length;$k$$++)if($g$$.pointerId==$d$$[$k$$].pointerId){$d$$[$k$$]=$g$$;break}$g$$=Math.abs($d$$[0].clientX-
$d$$[1].clientX);$k$$=Math.abs($d$$[0].clientY-$d$$[1].clientY);var $l$$=Math.abs($g$$-$e$$),$m$$=Math.abs($k$$-$f$$);if($l$$>mxEvent.PINCH_THRESHOLD||$m$$>mxEvent.PINCH_THRESHOLD)$a$$($d$$[0],$l$$>$m$$?$g$$>$e$$:$k$$>$f$$,!0,$d$$[0].clientX+($d$$[1].clientX-$d$$[0].clientX)/2,$d$$[0].clientY+($d$$[1].clientY-$d$$[0].clientY)/2),$e$$=$g$$,$f$$=$k$$}}),mxUtils.bind(this,function($g$$){$d$$=[];$f$$=$e$$=0}))}mxEvent.addListener($b$$,"wheel",function($g$$){null==$g$$&&($g$$=window.event);$g$$.ctrlKey&&
$g$$.preventDefault();(.5<Math.abs($g$$.deltaX)||.5<Math.abs($g$$.deltaY))&&$a$$($g$$,0==$g$$.deltaY?0<-$g$$.deltaX:0<-$g$$.deltaY)})}},disableContextMenu:function($a$$){mxEvent.addListener($a$$,"contextmenu",function($b$$){$b$$.preventDefault&&$b$$.preventDefault();return!1})},getSource:function($a$$){return null!=$a$$.srcElement?$a$$.srcElement:$a$$.target},isConsumed:function($a$$){return null!=$a$$.isConsumed&&$a$$.isConsumed},isTouchEvent:function($a$$){return null!=$a$$.pointerType?"touch"==
$a$$.pointerType||$a$$.pointerType===$a$$.MSPOINTER_TYPE_TOUCH:null!=$a$$.mozInputSource?5==$a$$.mozInputSource:0==$a$$.type.indexOf("touch")},isPenEvent:function($a$$){return null!=$a$$.pointerType?"pen"==$a$$.pointerType||$a$$.pointerType===$a$$.MSPOINTER_TYPE_PEN:null!=$a$$.mozInputSource?2==$a$$.mozInputSource:0==$a$$.type.indexOf("pen")},isMultiTouchEvent:function($a$$){return null!=$a$$.type&&0==$a$$.type.indexOf("touch")&&null!=$a$$.touches&&1<$a$$.touches.length},isMouseEvent:function($a$$){return!mxClient.IS_ANDROID&&
mxClient.IS_LINUX&&mxClient.IS_GC?!0:null!=$a$$.pointerType?"mouse"==$a$$.pointerType||$a$$.pointerType===$a$$.MSPOINTER_TYPE_MOUSE:null!=$a$$.mozInputSource?1==$a$$.mozInputSource:0==$a$$.type.indexOf("mouse")},isLeftMouseButton:function($a$$){return"buttons"in $a$$&&("mousedown"==$a$$.type||"mousemove"==$a$$.type)?1==$a$$.buttons:"which"in $a$$?1===$a$$.which:1===$a$$.button},isMiddleMouseButton:function($a$$){return"which"in $a$$?2===$a$$.which:4===$a$$.button},isRightMouseButton:function($a$$){return"which"in
$a$$?3===$a$$.which:2===$a$$.button},isPopupTrigger:function($a$$){return mxEvent.isRightMouseButton($a$$)||mxClient.IS_MAC&&mxEvent.isControlDown($a$$)&&!mxEvent.isShiftDown($a$$)&&!mxEvent.isMetaDown($a$$)&&!mxEvent.isAltDown($a$$)},isShiftDown:function($a$$){return null!=$a$$?$a$$.shiftKey:!1},isAltDown:function($a$$){return null!=$a$$?$a$$.altKey:!1},isControlDown:function($a$$){return null!=$a$$?$a$$.ctrlKey:!1},isMetaDown:function($a$$){return null!=$a$$?$a$$.metaKey:!1},getMainEvent:function($a$$){"touchstart"!=
$a$$.type&&"touchmove"!=$a$$.type||null==$a$$.touches||null==$a$$.touches[0]?"touchend"==$a$$.type&&null!=$a$$.changedTouches&&null!=$a$$.changedTouches[0]&&($a$$=$a$$.changedTouches[0]):$a$$=$a$$.touches[0];return $a$$},getClientX:function($a$$){return mxEvent.getMainEvent($a$$).clientX},getClientY:function($a$$){return mxEvent.getMainEvent($a$$).clientY},consume:function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!0;if(null!=$b$$?$b$$:1)$a$$.preventDefault?($c$$&&$a$$.stopPropagation(),$a$$.preventDefault()):
$c$$&&($a$$.cancelBubble=!0);$a$$.isConsumed=!0;$a$$.preventDefault||($a$$.returnValue=!1)},LABEL_HANDLE:-1,ROTATION_HANDLE:-2,CUSTOM_HANDLE:-100,VIRTUAL_HANDLE:-1E5,MOUSE_DOWN:"mouseDown",MOUSE_MOVE:"mouseMove",MOUSE_UP:"mouseUp",ACTIVATE:"activate",RESIZE_START:"resizeStart",RESIZE:"resize",RESIZE_END:"resizeEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",PAN_START:"panStart",PAN:"pan",PAN_END:"panEnd",MINIMIZE:"minimize",NORMALIZE:"normalize",MAXIMIZE:"maximize",HIDE:"hide",SHOW:"show",
CLOSE:"close",DESTROY:"destroy",REFRESH:"refresh",SIZE:"size",SELECT:"select",FIRED:"fired",FIRE_MOUSE_EVENT:"fireMouseEvent",CONSUME_MOUSE_EVENT:"consumeMouseEvent",GESTURE:"gesture",TAP_AND_HOLD:"tapAndHold",GET:"get",RECEIVE:"receive",CONNECT:"connect",DISCONNECT:"disconnect",SUSPEND:"suspend",RESUME:"resume",MARK:"mark",ROOT:"root",POST:"post",OPEN:"open",SAVE:"save",BEFORE_ADD_VERTEX:"beforeAddVertex",ADD_VERTEX:"addVertex",AFTER_ADD_VERTEX:"afterAddVertex",DONE:"done",EXECUTE:"execute",EXECUTED:"executed",
BEGIN_UPDATE:"beginUpdate",START_EDIT:"startEdit",END_UPDATE:"endUpdate",END_EDIT:"endEdit",BEFORE_UNDO:"beforeUndo",UNDO:"undo",REDO:"redo",CHANGE:"change",NOTIFY:"notify",LAYOUT_CELLS:"layoutCells",CLICK:"click",SCALE:"scale",TRANSLATE:"translate",SCALE_AND_TRANSLATE:"scaleAndTranslate",UP:"up",DOWN:"down",ADD:"add",REMOVE:"remove",CLEAR:"clear",ADD_CELLS:"addCells",CELLS_ADDED:"cellsAdded",MOVE_CELLS:"moveCells",CELLS_MOVED:"cellsMoved",RESIZE_CELLS:"resizeCells",CELLS_RESIZED:"cellsResized",TOGGLE_CELLS:"toggleCells",
CELLS_TOGGLED:"cellsToggled",ORDER_CELLS:"orderCells",CELLS_ORDERED:"cellsOrdered",REMOVE_CELLS:"removeCells",CELLS_REMOVED:"cellsRemoved",GROUP_CELLS:"groupCells",UNGROUP_CELLS:"ungroupCells",REMOVE_CELLS_FROM_PARENT:"removeCellsFromParent",FOLD_CELLS:"foldCells",CELLS_FOLDED:"cellsFolded",ALIGN_CELLS:"alignCells",LABEL_CHANGED:"labelChanged",CONNECT_CELL:"connectCell",CELL_CONNECTED:"cellConnected",SPLIT_EDGE:"splitEdge",FLIP_EDGE:"flipEdge",START_EDITING:"startEditing",EDITING_STARTED:"editingStarted",
EDITING_STOPPED:"editingStopped",ADD_OVERLAY:"addOverlay",REMOVE_OVERLAY:"removeOverlay",UPDATE_CELL_SIZE:"updateCellSize",ESCAPE:"escape",DOUBLE_CLICK:"doubleClick",START:"start",RESET:"reset",PINCH_THRESHOLD:10};function mxXmlRequest($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.url=$a$$;this.params=$b$$;this.method=$c$$||"POST";this.async=null!=$d$$?$d$$:!0;this.username=$e$$;this.password=$f$$}mxXmlRequest.prototype.url=null;mxXmlRequest.prototype.params=null;mxXmlRequest.prototype.method=null;
mxXmlRequest.prototype.async=null;mxXmlRequest.prototype.binary=!1;mxXmlRequest.prototype.withCredentials=!1;mxXmlRequest.prototype.username=null;mxXmlRequest.prototype.password=null;mxXmlRequest.prototype.request=null;mxXmlRequest.prototype.decodeSimulateValues=!1;mxXmlRequest.prototype.acceptResponse=!0;mxXmlRequest.prototype.isBinary=function(){return this.binary};mxXmlRequest.prototype.setBinary=function($a$$){this.binary=$a$$};mxXmlRequest.prototype.getText=function(){return this.request.responseText};
mxXmlRequest.prototype.isReady=function(){return 4==this.request.readyState};mxXmlRequest.prototype.getDocumentElement=function(){var $a$$=this.getXml();return null!=$a$$?$a$$.documentElement:null};mxXmlRequest.prototype.getXml=function(){var $a$$=this.request.responseXML;if(9<=document.documentMode||null==$a$$||null==$a$$.documentElement)$a$$=mxUtils.parseXml(this.request.responseText);return $a$$};mxXmlRequest.prototype.getStatus=function(){return null!=this.request?this.request.status:null};
mxXmlRequest.prototype.create=function(){if(window.XMLHttpRequest)return function(){var $a$$=new XMLHttpRequest;this.isBinary()&&$a$$.overrideMimeType&&$a$$.overrideMimeType("text/plain; charset=x-user-defined");return $a$$};if("undefined"!=typeof ActiveXObject)return function(){return new ActiveXObject("Microsoft.XMLHTTP")}}();
mxXmlRequest.prototype.send=function($a$$,$b$$,$c$$,$d$$){this.request=this.create();null!=this.request&&(null!=$a$$&&(this.request.onreadystatechange=mxUtils.bind(this,function(){this.isReady()&&this.acceptResponse&&(this.acceptResponse=!1,$a$$(this),this.request.onreadystatechange=null)})),this.request.open(this.method,this.url,this.async,this.username,this.password),this.setRequestHeaders(this.request,this.params),window.XMLHttpRequest&&this.withCredentials&&(this.request.withCredentials="true"),
null!=$b$$&&(this.request.onerror=mxUtils.bind(this,function($e$$){this.acceptResponse&&(this.acceptResponse=!1,$b$$(this,$e$$))})),(null==document.documentMode||9<document.documentMode)&&window.XMLHttpRequest&&null!=$c$$&&null!=$d$$&&(this.request.timeout=$c$$,this.request.ontimeout=$d$$),this.request.send(this.params))};mxXmlRequest.prototype.setRequestHeaders=function($a$$,$b$$){null!=$b$$&&$a$$.setRequestHeader("Content-Type","application/x-www-form-urlencoded")};
mxXmlRequest.prototype.simulate=function($a$$,$b$$){$a$$=$a$$||document;var $c$$=null;$a$$==document&&($c$$=window.onbeforeunload,window.onbeforeunload=null);var $d$$=$a$$.createElement("form");$d$$.setAttribute("method",this.method);$d$$.setAttribute("action",this.url);null!=$b$$&&$d$$.setAttribute("target",$b$$);$d$$.style.display="none";$d$$.style.visibility="hidden";$b$$=0<this.params.indexOf("&")?this.params.split("&"):this.params.split();for(var $e$$=0;$e$$<$b$$.length;$e$$++){var $f$$=$b$$[$e$$].indexOf("=");
if(0<$f$$){var $g$$=$b$$[$e$$].substring(0,$f$$);$f$$=$b$$[$e$$].substring($f$$+1);this.decodeSimulateValues&&($f$$=decodeURIComponent($f$$));var $k$$=$a$$.createElement("textarea");$k$$.setAttribute("wrap","off");$k$$.setAttribute("name",$g$$);mxUtils.write($k$$,$f$$);$d$$.appendChild($k$$)}}$a$$.body.appendChild($d$$);$d$$.submit();null!=$d$$.parentNode&&$d$$.parentNode.removeChild($d$$);null!=$c$$&&(window.onbeforeunload=$c$$)};
var mxClipboard={STEPSIZE:10,insertCount:1,cells:null,setCells:function($a$$){mxClipboard.cells=$a$$},getCells:function(){return mxClipboard.cells},isEmpty:function(){return null==mxClipboard.getCells()},cut:function($a$$,$b$$){$b$$=mxClipboard.copy($a$$,$b$$);mxClipboard.insertCount=0;mxClipboard.removeCells($a$$,$b$$,!1);return $b$$},removeCells:function($a$$,$b$$,$c$$){$a$$.removeCells($b$$,$c$$)},copy:function($a$$,$b$$){$b$$=$b$$||$a$$.getSelectionCells();$b$$=$a$$.getExportableCells($a$$.model.getTopmostCells($b$$));
mxClipboard.insertCount=1;mxClipboard.setCells($a$$.cloneCells($b$$));return $b$$},paste:function($a$$){var $b$$=null;if(!mxClipboard.isEmpty()){$b$$=$a$$.getImportableCells(mxClipboard.getCells());var $c$$=mxClipboard.insertCount*mxClipboard.STEPSIZE,$d$$=$a$$.getDefaultParent();$b$$=$a$$.importCells($b$$,$c$$,$c$$,$d$$);mxClipboard.insertCount++;$a$$.setSelectionCells($b$$)}return $b$$}};
function mxWindow($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){null!=$b$$&&($g$$=null!=$g$$?$g$$:!0,this.content=$b$$,this.init($c$$,$d$$,$e$$,$f$$,$m$$),this.installMaximizeHandler(),this.installMinimizeHandler(),this.installCloseHandler(),this.setMinimizable($g$$),this.setTitle($a$$),(null==$k$$||$k$$)&&this.installMoveHandler(),null!=$l$$&&null!=$l$$.parentNode?$l$$.parentNode.replaceChild(this.div,$l$$):document.body.appendChild(this.div))}mxWindow.prototype=new mxEventSource;
mxWindow.prototype.constructor=mxWindow;mxWindow.prototype.closeImage=mxClient.imageBasePath+"/close.gif";mxWindow.prototype.minimizeImage=mxClient.imageBasePath+"/minimize.gif";mxWindow.prototype.normalizeImage=mxClient.imageBasePath+"/normalize.gif";mxWindow.prototype.maximizeImage=mxClient.imageBasePath+"/maximize.gif";mxWindow.prototype.resizeImage=mxClient.imageBasePath+"/resize.gif";mxWindow.prototype.visible=!1;mxWindow.prototype.minimumSize=new mxRectangle(0,0,50,40);
mxWindow.prototype.destroyOnClose=!0;mxWindow.prototype.contentHeightCorrection=8==document.documentMode||7==document.documentMode?6:2;mxWindow.prototype.title=null;mxWindow.prototype.content=null;
mxWindow.prototype.init=function($a$$,$b$$,$c$$,$d$$,$e$$){$e$$=null!=$e$$?$e$$:"mxWindow";this.div=document.createElement("div");this.div.className=$e$$;this.div.style.left=$a$$+"px";this.div.style.top=$b$$+"px";this.table=document.createElement("table");this.table.className=$e$$;mxClient.IS_POINTER&&(this.div.style.touchAction="none");null!=$c$$&&(this.div.style.width=$c$$+"px",this.table.style.width=$c$$+"px");null!=$d$$&&(this.div.style.height=$d$$+"px",this.table.style.height=$d$$+"px");$a$$=
document.createElement("tbody");$b$$=document.createElement("tr");this.title=document.createElement("td");this.title.className=$e$$+"Title";this.buttons=document.createElement("div");this.buttons.style.position="absolute";this.buttons.style.display="inline-block";this.buttons.style.right="4px";this.buttons.style.top="5px";this.title.appendChild(this.buttons);$b$$.appendChild(this.title);$a$$.appendChild($b$$);$b$$=document.createElement("tr");this.td=document.createElement("td");this.td.className=
$e$$+"Pane";7==document.documentMode&&(this.td.style.height="100%");this.contentWrapper=document.createElement("div");this.contentWrapper.className=$e$$+"Pane";this.contentWrapper.style.width="100%";this.contentWrapper.appendChild(this.content);"DIV"!=this.content.nodeName.toUpperCase()&&(this.contentWrapper.style.height="100%");this.td.appendChild(this.contentWrapper);$b$$.appendChild(this.td);$a$$.appendChild($b$$);this.table.appendChild($a$$);this.div.appendChild(this.table);$e$$=mxUtils.bind(this,
function($f$$){this.activate()});mxEvent.addGestureListeners(this.title,$e$$);mxEvent.addGestureListeners(this.table,$e$$);this.hide()};mxWindow.prototype.setTitle=function($a$$){for(var $b$$=this.title.firstChild;null!=$b$$;){var $c$$=$b$$.nextSibling;$b$$.nodeType==mxConstants.NODETYPE_TEXT&&$b$$.parentNode.removeChild($b$$);$b$$=$c$$}mxUtils.write(this.title,$a$$||"");this.title.appendChild(this.buttons)};
mxWindow.prototype.setScrollable=function($a$$){if(null==navigator.userAgent||0>navigator.userAgent.indexOf("Presto/2.5"))this.contentWrapper.style.overflow=$a$$?"auto":"hidden"};
mxWindow.prototype.activate=function(){if(mxWindow.activeWindow!=this){var $a$$=mxUtils.getCurrentStyle(this.getElement());$a$$=null!=$a$$?$a$$.zIndex:3;if(mxWindow.activeWindow){var $b$$=mxWindow.activeWindow.getElement();null!=$b$$&&null!=$b$$.style&&($b$$.style.zIndex=$a$$)}$b$$=mxWindow.activeWindow;this.getElement().style.zIndex=parseInt($a$$)+1;mxWindow.activeWindow=this;this.fireEvent(new mxEventObject(mxEvent.ACTIVATE,"previousWindow",$b$$))}};mxWindow.prototype.getElement=function(){return this.div};
mxWindow.prototype.fit=function(){mxUtils.fit(this.div)};mxWindow.prototype.isResizable=function(){return null!=this.resize?"none"!=this.resize.style.display:!1};
mxWindow.prototype.setResizable=function($a$$){if($a$$)if(null==this.resize){this.resize=document.createElement("img");this.resize.style.position="absolute";this.resize.style.bottom="0px";this.resize.style.right="0px";this.resize.style.zIndex="2";this.resize.setAttribute("src",this.resizeImage);this.resize.style.cursor="nwse-resize";var $b$$=null,$c$$=null,$d$$=null,$e$$=null;$a$$=mxUtils.bind(this,function($k$$){this.activate();$b$$=mxEvent.getClientX($k$$);$c$$=mxEvent.getClientY($k$$);$d$$=this.div.offsetWidth;
$e$$=this.div.offsetHeight;mxEvent.addGestureListeners(document,null,$f$$,$g$$);this.fireEvent(new mxEventObject(mxEvent.RESIZE_START,"event",$k$$));mxEvent.consume($k$$)});var $f$$=mxUtils.bind(this,function($k$$){if(null!=$b$$&&null!=$c$$){var $l$$=mxEvent.getClientX($k$$)-$b$$,$m$$=mxEvent.getClientY($k$$)-$c$$;this.setSize($d$$+$l$$,$e$$+$m$$);this.fireEvent(new mxEventObject(mxEvent.RESIZE,"event",$k$$));mxEvent.consume($k$$)}}),$g$$=mxUtils.bind(this,function($k$$){null!=$b$$&&null!=$c$$&&($c$$=
$b$$=null,mxEvent.removeGestureListeners(document,null,$f$$,$g$$),this.fireEvent(new mxEventObject(mxEvent.RESIZE_END,"event",$k$$)),mxEvent.consume($k$$))});mxEvent.addGestureListeners(this.resize,$a$$,$f$$,$g$$);this.div.appendChild(this.resize)}else this.resize.style.display="inline";else null!=this.resize&&(this.resize.style.display="none")};
mxWindow.prototype.setSize=function($a$$,$b$$){$a$$=Math.max(this.minimumSize.width,$a$$);$b$$=Math.max(this.minimumSize.height,$b$$);this.div.style.width=$a$$+"px";this.div.style.height=$b$$+"px";this.table.style.width=$a$$+"px";this.table.style.height=$b$$+"px";this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px"};mxWindow.prototype.setMinimizable=function($a$$){this.minimizeImg.style.display=$a$$?"":"none"};
mxWindow.prototype.getMinimumSize=function(){return new mxRectangle(0,0,0,this.title.offsetHeight)};
mxWindow.prototype.toggleMinimized=function($a$$){this.activate();if(this.minimized)this.minimized=!1,this.minimizeImg.setAttribute("src",this.minimizeImage),this.minimizeImg.setAttribute("title","Minimize"),this.contentWrapper.style.display="",this.maximize.style.display=this.maxDisplay,this.div.style.height=this.height,this.table.style.height=this.height,null!=this.resize&&(this.resize.style.visibility=""),this.fireEvent(new mxEventObject(mxEvent.NORMALIZE,"event",$a$$));else{this.minimized=!0;
this.minimizeImg.setAttribute("src",this.normalizeImage);this.minimizeImg.setAttribute("title","Normalize");this.contentWrapper.style.display="none";this.maxDisplay=this.maximize.style.display;this.maximize.style.display="none";this.height=this.table.style.height;var $b$$=this.getMinimumSize();0<$b$$.height&&(this.div.style.height=$b$$.height+"px",this.table.style.height=$b$$.height+"px");0<$b$$.width&&(this.div.style.width=$b$$.width+"px",this.table.style.width=$b$$.width+"px");null!=this.resize&&
(this.resize.style.visibility="hidden");this.fireEvent(new mxEventObject(mxEvent.MINIMIZE,"event",$a$$))}};
mxWindow.prototype.installMinimizeHandler=function(){this.minimizeImg=document.createElement("img");this.minimizeImg.setAttribute("src",this.minimizeImage);this.minimizeImg.setAttribute("title","Minimize");this.minimizeImg.style.cursor="pointer";this.minimizeImg.style.marginLeft="2px";this.minimizeImg.style.display="none";this.buttons.appendChild(this.minimizeImg);this.minimized=!1;this.height=this.maxDisplay=null;var $a$$=mxUtils.bind(this,function($b$$){this.toggleMinimized($b$$);mxEvent.consume($b$$)});
mxEvent.addGestureListeners(this.minimizeImg,$a$$)};mxWindow.prototype.setMaximizable=function($a$$){this.maximize.style.display=$a$$?"":"none"};
mxWindow.prototype.installMaximizeHandler=function(){this.maximize=document.createElement("img");this.maximize.setAttribute("src",this.maximizeImage);this.maximize.setAttribute("title","Maximize");this.maximize.style.cursor="default";this.maximize.style.marginLeft="2px";this.maximize.style.cursor="pointer";this.maximize.style.display="none";this.buttons.appendChild(this.maximize);var $a$$=!1,$b$$=null,$c$$=null,$d$$=null,$e$$=null,$f$$=null,$g$$=mxUtils.bind(this,function($k$$){this.activate();if("none"!=
this.maximize.style.display){if($a$$){$a$$=!1;this.maximize.setAttribute("src",this.maximizeImage);this.maximize.setAttribute("title","Maximize");this.contentWrapper.style.display="";this.minimizeImg.style.display=$f$$;this.div.style.left=$b$$+"px";this.div.style.top=$c$$+"px";this.div.style.height=$d$$;this.div.style.width=$e$$;$l$$=mxUtils.getCurrentStyle(this.contentWrapper);if("auto"==$l$$.overflow||null!=this.resize)this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-
this.contentHeightCorrection+"px";this.table.style.height=$d$$;this.table.style.width=$e$$;null!=this.resize&&(this.resize.style.visibility="");this.fireEvent(new mxEventObject(mxEvent.NORMALIZE,"event",$k$$))}else{$a$$=!0;this.maximize.setAttribute("src",this.normalizeImage);this.maximize.setAttribute("title","Normalize");this.contentWrapper.style.display="";$f$$=this.minimizeImg.style.display;this.minimizeImg.style.display="none";$b$$=parseInt(this.div.style.left);$c$$=parseInt(this.div.style.top);
$d$$=this.table.style.height;$e$$=this.table.style.width;this.div.style.left="0px";this.div.style.top="0px";$l$$=Math.max(document.body.clientHeight||0,document.documentElement.clientHeight||0);this.div.style.width=document.body.clientWidth-2+"px";this.div.style.height=$l$$-2+"px";this.table.style.width=document.body.clientWidth-2+"px";this.table.style.height=$l$$-2+"px";null!=this.resize&&(this.resize.style.visibility="hidden");var $l$$=mxUtils.getCurrentStyle(this.contentWrapper);if("auto"==$l$$.overflow||
null!=this.resize)this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px";this.fireEvent(new mxEventObject(mxEvent.MAXIMIZE,"event",$k$$))}mxEvent.consume($k$$)}});mxEvent.addGestureListeners(this.maximize,$g$$);mxEvent.addListener(this.title,"dblclick",$g$$)};
mxWindow.prototype.installMoveHandler=function(){this.title.style.cursor="move";mxEvent.addGestureListeners(this.title,mxUtils.bind(this,function($a$$){var $b$$=mxEvent.getClientX($a$$),$c$$=mxEvent.getClientY($a$$),$d$$=this.getX(),$e$$=this.getY(),$f$$=mxUtils.bind(this,function($k$$){var $l$$=mxEvent.getClientX($k$$)-$b$$,$m$$=mxEvent.getClientY($k$$)-$c$$;this.setLocation($d$$+$l$$,$e$$+$m$$);this.fireEvent(new mxEventObject(mxEvent.MOVE,"event",$k$$));mxEvent.consume($k$$)}),$g$$=mxUtils.bind(this,
function($k$$){mxEvent.removeGestureListeners(document,null,$f$$,$g$$);this.fireEvent(new mxEventObject(mxEvent.MOVE_END,"event",$k$$));mxEvent.consume($k$$)});mxEvent.addGestureListeners(document,null,$f$$,$g$$);this.fireEvent(new mxEventObject(mxEvent.MOVE_START,"event",$a$$));mxEvent.consume($a$$)}));mxClient.IS_POINTER&&(this.title.style.touchAction="none")};mxWindow.prototype.setLocation=function($a$$,$b$$){this.div.style.left=$a$$+"px";this.div.style.top=$b$$+"px"};mxWindow.prototype.getX=function(){return parseInt(this.div.style.left)};
mxWindow.prototype.getY=function(){return parseInt(this.div.style.top)};
mxWindow.prototype.installCloseHandler=function(){this.closeImg=document.createElement("img");this.closeImg.setAttribute("src",this.closeImage);this.closeImg.setAttribute("title","Close");this.closeImg.style.marginLeft="2px";this.closeImg.style.cursor="pointer";this.closeImg.style.display="none";this.buttons.appendChild(this.closeImg);mxEvent.addGestureListeners(this.closeImg,mxUtils.bind(this,function($a$$){this.fireEvent(new mxEventObject(mxEvent.CLOSE,"event",$a$$));this.destroyOnClose?this.destroy():
this.setVisible(!1);mxEvent.consume($a$$)}))};mxWindow.prototype.setImage=function($a$$){this.image=document.createElement("img");this.image.setAttribute("src",$a$$);this.image.setAttribute("align","left");this.image.style.marginRight="4px";this.image.style.marginLeft="0px";this.image.style.marginTop="-2px";this.title.insertBefore(this.image,this.title.firstChild)};mxWindow.prototype.setClosable=function($a$$){this.closeImg.style.display=$a$$?"":"none"};
mxWindow.prototype.isVisible=function(){return null!=this.div?"none"!=this.div.style.display:!1};mxWindow.prototype.setVisible=function($a$$){null!=this.div&&(this.isVisible()!=$a$$?$a$$?this.show():this.hide():this.fireEvent(new mxEventObject($a$$?mxEvent.SHOW:mxEvent.HIDE)))};
mxWindow.prototype.show=function(){this.div.style.display="";this.activate();"auto"!=mxUtils.getCurrentStyle(this.contentWrapper).overflow&&null==this.resize||"none"==this.contentWrapper.style.display||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px");this.fireEvent(new mxEventObject(mxEvent.SHOW))};mxWindow.prototype.hide=function(){this.div.style.display="none";this.fireEvent(new mxEventObject(mxEvent.HIDE))};
mxWindow.prototype.destroy=function(){this.fireEvent(new mxEventObject(mxEvent.DESTROY));null!=this.div&&(mxEvent.release(this.div),this.div.parentNode.removeChild(this.div),this.div=null);this.contentWrapper=this.content=this.title=null};function mxForm($a$$){this.table=document.createElement("table");this.table.className=$a$$;this.body=document.createElement("tbody");this.table.appendChild(this.body)}mxForm.prototype.table=null;mxForm.prototype.body=!1;mxForm.prototype.getTable=function(){return this.table};
mxForm.prototype.addButtons=function($a$$,$b$$){var $c$$=document.createElement("tr"),$d$$=document.createElement("td");$c$$.appendChild($d$$);$d$$=document.createElement("td");var $e$$=document.createElement("button");mxUtils.write($e$$,mxResources.get("ok")||"OK");$d$$.appendChild($e$$);mxEvent.addListener($e$$,"click",function(){$a$$()});$e$$=document.createElement("button");mxUtils.write($e$$,mxResources.get("cancel")||"Cancel");$d$$.appendChild($e$$);mxEvent.addListener($e$$,"click",function(){$b$$()});
$c$$.appendChild($d$$);this.body.appendChild($c$$)};mxForm.prototype.addText=function($a$$,$b$$,$c$$){var $d$$=document.createElement("input");$d$$.setAttribute("type",$c$$||"text");$d$$.value=$b$$;return this.addField($a$$,$d$$)};mxForm.prototype.addCheckbox=function($a$$,$b$$){var $c$$=document.createElement("input");$c$$.setAttribute("type","checkbox");this.addField($a$$,$c$$);$b$$&&($c$$.checked=!0);return $c$$};
mxForm.prototype.addTextarea=function($a$$,$b$$,$c$$){var $d$$=document.createElement("textarea");mxClient.IS_NS&&$c$$--;$d$$.setAttribute("rows",$c$$||2);$d$$.value=$b$$;return this.addField($a$$,$d$$)};mxForm.prototype.addCombo=function($a$$,$b$$,$c$$){var $d$$=document.createElement("select");null!=$c$$&&$d$$.setAttribute("size",$c$$);$b$$&&$d$$.setAttribute("multiple","true");return this.addField($a$$,$d$$)};
mxForm.prototype.addOption=function($a$$,$b$$,$c$$,$d$$){var $e$$=document.createElement("option");mxUtils.writeln($e$$,$b$$);$e$$.setAttribute("value",$c$$);$d$$&&$e$$.setAttribute("selected",$d$$);$a$$.appendChild($e$$)};mxForm.prototype.addField=function($a$$,$b$$){var $c$$=document.createElement("tr"),$d$$=document.createElement("td");mxUtils.write($d$$,$a$$);$c$$.appendChild($d$$);$d$$=document.createElement("td");$d$$.appendChild($b$$);$c$$.appendChild($d$$);this.body.appendChild($c$$);return $b$$};
function mxImage($a$$,$b$$,$c$$,$d$$,$e$$){this.src=$a$$;this.width=null!=$b$$?$b$$:this.width;this.height=null!=$c$$?$c$$:this.height;this.x=null!=$d$$?$d$$:this.x;this.y=null!=$e$$?$e$$:this.y}mxImage.prototype.src=null;mxImage.prototype.width=0;mxImage.prototype.height=0;mxImage.prototype.x=0;mxImage.prototype.y=0;
function mxDivResizer($a$$,$b$$){"div"==$a$$.nodeName.toLowerCase()&&(null==$b$$&&($b$$=window),this.div=$a$$,$a$$=mxUtils.getCurrentStyle($a$$),null!=$a$$&&(this.resizeWidth="auto"==$a$$.width,this.resizeHeight="auto"==$a$$.height),mxEvent.addListener($b$$,"resize",mxUtils.bind(this,function($c$$){this.handlingResize||(this.handlingResize=!0,this.resize(),this.handlingResize=!1)})),this.resize())}mxDivResizer.prototype.resizeWidth=!0;mxDivResizer.prototype.resizeHeight=!0;
mxDivResizer.prototype.handlingResize=!1;
mxDivResizer.prototype.resize=function(){var $a$$=this.getDocumentWidth(),$b$$=this.getDocumentHeight(),$c$$=parseInt(this.div.style.left),$d$$=parseInt(this.div.style.right),$e$$=parseInt(this.div.style.top),$f$$=parseInt(this.div.style.bottom);this.resizeWidth&&!isNaN($c$$)&&!isNaN($d$$)&&0<=$c$$&&0<=$d$$&&0<$a$$-$d$$-$c$$&&(this.div.style.width=$a$$-$d$$-$c$$+"px");this.resizeHeight&&!isNaN($e$$)&&!isNaN($f$$)&&0<=$e$$&&0<=$f$$&&0<$b$$-$e$$-$f$$&&(this.div.style.height=$b$$-$e$$-$f$$+"px")};
mxDivResizer.prototype.getDocumentWidth=function(){return document.body.clientWidth};mxDivResizer.prototype.getDocumentHeight=function(){return document.body.clientHeight};
function mxDragSource($a$$,$b$$){this.element=$a$$;this.dropHandler=$b$$;mxEvent.addGestureListeners($a$$,mxUtils.bind(this,function($c$$){this.mouseDown($c$$)}));mxEvent.addListener($a$$,"dragstart",function($c$$){mxEvent.consume($c$$)});this.eventConsumer=function($c$$,$d$$){$c$$=$d$$.getProperty("eventName");$d$$=$d$$.getProperty("event");$c$$!=mxEvent.MOUSE_DOWN&&$d$$.consume()}}mxDragSource.prototype.element=null;mxDragSource.prototype.dropHandler=null;mxDragSource.prototype.dragOffset=null;
mxDragSource.prototype.dragElement=null;mxDragSource.prototype.previewElement=null;mxDragSource.prototype.previewOffset=null;mxDragSource.prototype.enabled=!0;mxDragSource.prototype.currentGraph=null;mxDragSource.prototype.currentDropTarget=null;mxDragSource.prototype.currentPoint=null;mxDragSource.prototype.currentGuide=null;mxDragSource.prototype.currentHighlight=null;mxDragSource.prototype.autoscroll=!0;mxDragSource.prototype.guidesEnabled=!0;mxDragSource.prototype.gridEnabled=!0;
mxDragSource.prototype.highlightDropTargets=!0;mxDragSource.prototype.dragElementZIndex=100;mxDragSource.prototype.dragElementOpacity=70;mxDragSource.prototype.checkEventSource=!0;mxDragSource.prototype.isEnabled=function(){return this.enabled};mxDragSource.prototype.setEnabled=function($a$$){this.enabled=$a$$};mxDragSource.prototype.isGuidesEnabled=function(){return this.guidesEnabled};mxDragSource.prototype.setGuidesEnabled=function($a$$){this.guidesEnabled=$a$$};
mxDragSource.prototype.isGridEnabled=function(){return this.gridEnabled};mxDragSource.prototype.setGridEnabled=function($a$$){this.gridEnabled=$a$$};mxDragSource.prototype.getGraphForEvent=function($a$$){return null};mxDragSource.prototype.getDropTarget=function($a$$,$b$$,$c$$,$d$$){return $a$$.getCellAt($b$$,$c$$)};mxDragSource.prototype.createDragElement=function($a$$){return this.element.cloneNode(!0)};mxDragSource.prototype.createPreviewElement=function($a$$){return null};
mxDragSource.prototype.isActive=function(){return null!=this.mouseMoveHandler};mxDragSource.prototype.reset=function(){null!=this.currentGraph&&(this.dragExit(this.currentGraph),this.currentGraph=null);this.removeDragElement();this.removeListeners();this.stopDrag()};
mxDragSource.prototype.mouseDown=function($a$$){this.enabled&&!mxEvent.isConsumed($a$$)&&null==this.mouseMoveHandler&&(this.startDrag($a$$),this.mouseMoveHandler=mxUtils.bind(this,this.mouseMove),this.mouseUpHandler=mxUtils.bind(this,this.mouseUp),mxEvent.addGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler),mxClient.IS_TOUCH&&!mxEvent.isMouseEvent($a$$)&&(this.eventSource=mxEvent.getSource($a$$),mxEvent.addGestureListeners(this.eventSource,null,this.mouseMoveHandler,this.mouseUpHandler)))};
mxDragSource.prototype.startDrag=function($a$$){this.dragElement=this.createDragElement($a$$);this.dragElement.style.position="absolute";this.dragElement.style.zIndex=this.dragElementZIndex;mxUtils.setOpacity(this.dragElement,this.dragElementOpacity);this.checkEventSource&&mxClient.IS_SVG&&(this.dragElement.style.pointerEvents="none")};mxDragSource.prototype.stopDrag=function(){this.removeDragElement()};
mxDragSource.prototype.removeDragElement=function(){null!=this.dragElement&&(null!=this.dragElement.parentNode&&this.dragElement.parentNode.removeChild(this.dragElement),this.dragElement=null)};mxDragSource.prototype.getElementForEvent=function($a$$){return mxEvent.isTouchEvent($a$$)||mxEvent.isPenEvent($a$$)?document.elementFromPoint(mxEvent.getClientX($a$$),mxEvent.getClientY($a$$)):mxEvent.getSource($a$$)};
mxDragSource.prototype.graphContainsEvent=function($a$$,$b$$){var $c$$=mxEvent.getClientX($b$$),$d$$=mxEvent.getClientY($b$$),$e$$=mxUtils.getOffset($a$$.container),$f$$=mxUtils.getScrollOrigin();$b$$=this.getElementForEvent($b$$);if(this.checkEventSource)for(;null!=$b$$&&$b$$!=$a$$.container;)$b$$=$b$$.parentNode;return null!=$b$$&&$c$$>=$e$$.x-$f$$.x&&$d$$>=$e$$.y-$f$$.y&&$c$$<=$e$$.x-$f$$.x+$a$$.container.offsetWidth&&$d$$<=$e$$.y-$f$$.y+$a$$.container.offsetHeight};
mxDragSource.prototype.mouseMove=function($a$$){var $b$$=this.getGraphForEvent($a$$);null==$b$$||this.graphContainsEvent($b$$,$a$$)||($b$$=null);$b$$!=this.currentGraph&&(null!=this.currentGraph&&this.dragExit(this.currentGraph,$a$$),this.currentGraph=$b$$,null!=this.currentGraph&&this.dragEnter(this.currentGraph,$a$$));null!=this.currentGraph&&this.dragOver(this.currentGraph,$a$$);if(null==this.dragElement||null!=this.previewElement&&"visible"==this.previewElement.style.visibility)null!=this.dragElement&&
mxUtils.setOpacity(this.dragElement,0);else{$b$$=mxEvent.getClientX($a$$);var $c$$=mxEvent.getClientY($a$$);null==this.dragElement.parentNode&&document.body.appendChild(this.dragElement);mxUtils.setOpacity(this.dragElement,this.dragElementOpacity);null!=this.dragOffset&&($b$$+=this.dragOffset.x,$c$$+=this.dragOffset.y);var $d$$=mxUtils.getDocumentScrollOrigin(document);this.dragElement.style.left=$b$$+$d$$.x+"px";this.dragElement.style.top=$c$$+$d$$.y+"px"}mxEvent.consume($a$$)};
mxDragSource.prototype.mouseUp=function($a$$){if(null!=this.currentGraph){if(null!=this.currentPoint&&(null==this.previewElement||"hidden"!=this.previewElement.style.visibility)){var $b$$=this.currentGraph.view.scale,$c$$=this.currentGraph.view.translate;this.drop(this.currentGraph,$a$$,this.currentDropTarget,this.currentPoint.x/$b$$-$c$$.x,this.currentPoint.y/$b$$-$c$$.y)}this.dragExit(this.currentGraph);this.currentGraph=null}this.stopDrag();this.removeListeners();mxEvent.consume($a$$)};
mxDragSource.prototype.removeListeners=function(){null!=this.eventSource&&(mxEvent.removeGestureListeners(this.eventSource,null,this.mouseMoveHandler,this.mouseUpHandler),this.eventSource=null);mxEvent.removeGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler);this.mouseUpHandler=this.mouseMoveHandler=null};
mxDragSource.prototype.dragEnter=function($a$$,$b$$){$a$$.isMouseDown=!0;$a$$.isMouseTrigger=mxEvent.isMouseEvent($b$$);this.previewElement=this.createPreviewElement($a$$);null!=this.previewElement&&this.checkEventSource&&mxClient.IS_SVG&&(this.previewElement.style.pointerEvents="none");this.isGuidesEnabled()&&null!=this.previewElement&&(this.currentGuide=new mxGuide($a$$,$a$$.graphHandler.getGuideStates()));this.highlightDropTargets&&(this.currentHighlight=new mxCellHighlight($a$$,mxConstants.DROP_TARGET_COLOR));
$a$$.addListener(mxEvent.FIRE_MOUSE_EVENT,this.eventConsumer)};
mxDragSource.prototype.dragExit=function($a$$,$b$$){this.currentPoint=this.currentDropTarget=null;$a$$.isMouseDown=!1;$a$$.removeListener(this.eventConsumer);null!=this.previewElement&&(null!=this.previewElement.parentNode&&this.previewElement.parentNode.removeChild(this.previewElement),this.previewElement=null);null!=this.currentGuide&&(this.currentGuide.destroy(),this.currentGuide=null);null!=this.currentHighlight&&(this.currentHighlight.destroy(),this.currentHighlight=null)};
mxDragSource.prototype.dragOver=function($a$$,$b$$){var $c$$=mxUtils.getOffset($a$$.container),$d$$=mxUtils.getScrollOrigin($a$$.container),$e$$=mxEvent.getClientX($b$$)-$c$$.x+$d$$.x-$a$$.panDx;$c$$=mxEvent.getClientY($b$$)-$c$$.y+$d$$.y-$a$$.panDy;$a$$.autoScroll&&(null==this.autoscroll||this.autoscroll)&&$a$$.scrollPointToVisible($e$$,$c$$,$a$$.autoExtend);null!=this.currentHighlight&&$a$$.isDropEnabled()&&(this.currentDropTarget=this.getDropTarget($a$$,$e$$,$c$$,$b$$),$d$$=$a$$.getView().getState(this.currentDropTarget),
this.currentHighlight.highlight($d$$));if(null!=this.previewElement){null==this.previewElement.parentNode&&($a$$.container.appendChild(this.previewElement),this.previewElement.style.zIndex="3",this.previewElement.style.position="absolute");$d$$=this.isGridEnabled()&&$a$$.isGridEnabledEvent($b$$);var $f$$=!0;if(null!=this.currentGuide&&this.currentGuide.isEnabledForEvent($b$$))$a$$=parseInt(this.previewElement.style.width),$f$$=parseInt(this.previewElement.style.height),$a$$=new mxRectangle(0,0,$a$$,
$f$$),$c$$=new mxPoint($e$$,$c$$),$c$$=this.currentGuide.move($a$$,$c$$,$d$$,!0),$f$$=!1,$e$$=$c$$.x,$c$$=$c$$.y;else if($d$$){$d$$=$a$$.view.scale;$b$$=$a$$.view.translate;var $g$$=$a$$.gridSize/2;$e$$=($a$$.snap($e$$/$d$$-$b$$.x-$g$$)+$b$$.x)*$d$$;$c$$=($a$$.snap($c$$/$d$$-$b$$.y-$g$$)+$b$$.y)*$d$$}null!=this.currentGuide&&$f$$&&this.currentGuide.hide();null!=this.previewOffset&&($e$$+=this.previewOffset.x,$c$$+=this.previewOffset.y);this.previewElement.style.left=Math.round($e$$)+"px";this.previewElement.style.top=
Math.round($c$$)+"px";this.previewElement.style.visibility="visible"}this.currentPoint=new mxPoint($e$$,$c$$)};mxDragSource.prototype.drop=function($a$$,$b$$,$c$$,$d$$,$e$$){this.dropHandler.apply(this,arguments);"hidden"!=$a$$.container.style.visibility&&$a$$.container.focus()};function mxToolbar($a$$){this.container=$a$$}mxToolbar.prototype=new mxEventSource;mxToolbar.prototype.constructor=mxToolbar;mxToolbar.prototype.container=null;mxToolbar.prototype.enabled=!0;mxToolbar.prototype.noReset=!1;
mxToolbar.prototype.updateDefaultMode=!0;
mxToolbar.prototype.addItem=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=document.createElement(null!=$b$$?"img":"button"),$k$$=$e$$||(null!=$f$$?"mxToolbarMode":"mxToolbarItem");$g$$.className=$k$$;$g$$.setAttribute("src",$b$$);null!=$a$$&&(null!=$b$$?$g$$.setAttribute("title",$a$$):mxUtils.write($g$$,$a$$));this.container.appendChild($g$$);null!=$c$$&&(mxEvent.addListener($g$$,"click",$c$$),mxClient.IS_TOUCH&&mxEvent.addListener($g$$,"touchend",$c$$));$a$$=mxUtils.bind(this,function($l$$){null!=
$d$$?$g$$.setAttribute("src",$b$$):$g$$.style.backgroundColor=""});mxEvent.addGestureListeners($g$$,mxUtils.bind(this,function($l$$){null!=$d$$?$g$$.setAttribute("src",$d$$):$g$$.style.backgroundColor="gray";if(null!=$f$$){null==this.menu&&(this.menu=new mxPopupMenu,this.menu.init());var $m$$=this.currentImg;this.menu.isMenuShowing()&&this.menu.hideMenu();$m$$!=$g$$&&(this.currentImg=$g$$,this.menu.factoryMethod=$f$$,$m$$=new mxPoint($g$$.offsetLeft,$g$$.offsetTop+$g$$.offsetHeight),this.menu.popup($m$$.x,
$m$$.y,null,$l$$),this.menu.isMenuShowing()&&($g$$.className=$k$$+"Selected",this.menu.hideMenu=function(){mxPopupMenu.prototype.hideMenu.apply(this);$g$$.className=$k$$;this.currentImg=null}))}}),null,$a$$);mxEvent.addListener($g$$,"mouseout",$a$$);return $g$$};
mxToolbar.prototype.addCombo=function($a$$){var $b$$=document.createElement("div");$b$$.style.display="inline";$b$$.className="mxToolbarComboContainer";var $c$$=document.createElement("select");$c$$.className=$a$$||"mxToolbarCombo";$b$$.appendChild($c$$);this.container.appendChild($b$$);return $c$$};
mxToolbar.prototype.addActionCombo=function($a$$,$b$$){var $c$$=document.createElement("select");$c$$.className=$b$$||"mxToolbarCombo";this.addOption($c$$,$a$$,null);mxEvent.addListener($c$$,"change",function($d$$){var $e$$=$c$$.options[$c$$.selectedIndex];$c$$.selectedIndex=0;null!=$e$$.funct&&$e$$.funct($d$$)});this.container.appendChild($c$$);return $c$$};
mxToolbar.prototype.addOption=function($a$$,$b$$,$c$$){var $d$$=document.createElement("option");mxUtils.writeln($d$$,$b$$);"function"==typeof $c$$?$d$$.funct=$c$$:$d$$.setAttribute("value",$c$$);$a$$.appendChild($d$$);return $d$$};
mxToolbar.prototype.addSwitchMode=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=document.createElement("img");$f$$.initialClassName=$e$$||"mxToolbarMode";$f$$.className=$f$$.initialClassName;$f$$.setAttribute("src",$b$$);$f$$.altIcon=$d$$;null!=$a$$&&$f$$.setAttribute("title",$a$$);mxEvent.addListener($f$$,"click",mxUtils.bind(this,function($g$$){$g$$=this.selectedMode.altIcon;null!=$g$$?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",$g$$)):this.selectedMode.className=
this.selectedMode.initialClassName;this.updateDefaultMode&&(this.defaultMode=$f$$);this.selectedMode=$f$$;$g$$=$f$$.altIcon;null!=$g$$?($f$$.altIcon=$f$$.getAttribute("src"),$f$$.setAttribute("src",$g$$)):$f$$.className=$f$$.initialClassName+"Selected";this.fireEvent(new mxEventObject(mxEvent.SELECT));$c$$()}));this.container.appendChild($f$$);null==this.defaultMode&&(this.defaultMode=$f$$,this.selectMode($f$$),$c$$());return $f$$};
mxToolbar.prototype.addMode=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$f$$=null!=$f$$?$f$$:!0;var $g$$=document.createElement(null!=$b$$?"img":"button");$g$$.initialClassName=$e$$||"mxToolbarMode";$g$$.className=$g$$.initialClassName;$g$$.setAttribute("src",$b$$);$g$$.altIcon=$d$$;null!=$a$$&&$g$$.setAttribute("title",$a$$);this.enabled&&$f$$&&(mxEvent.addListener($g$$,"click",mxUtils.bind(this,function($k$$){this.selectMode($g$$,$c$$);this.noReset=!1})),mxEvent.addListener($g$$,"dblclick",mxUtils.bind(this,
function($k$$){this.selectMode($g$$,$c$$);this.noReset=!0})),null==this.defaultMode&&(this.defaultMode=$g$$,this.defaultFunction=$c$$,this.selectMode($g$$,$c$$)));this.container.appendChild($g$$);return $g$$};
mxToolbar.prototype.selectMode=function($a$$,$b$$){if(this.selectedMode!=$a$$){if(null!=this.selectedMode){var $c$$=this.selectedMode.altIcon;null!=$c$$?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",$c$$)):this.selectedMode.className=this.selectedMode.initialClassName}this.selectedMode=$a$$;$c$$=this.selectedMode.altIcon;null!=$c$$?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",$c$$)):this.selectedMode.className=
this.selectedMode.initialClassName+"Selected";this.fireEvent(new mxEventObject(mxEvent.SELECT,"function",$b$$))}};mxToolbar.prototype.resetMode=function($a$$){!$a$$&&this.noReset||this.selectedMode==this.defaultMode||this.selectMode(this.defaultMode,this.defaultFunction)};mxToolbar.prototype.addSeparator=function($a$$){return this.addItem(null,$a$$,null)};mxToolbar.prototype.addBreak=function(){mxUtils.br(this.container)};
mxToolbar.prototype.addLine=function(){var $a$$=document.createElement("hr");$a$$.style.marginRight="6px";$a$$.setAttribute("size","1");this.container.appendChild($a$$)};mxToolbar.prototype.destroy=function(){mxEvent.release(this.container);this.selectedMode=this.defaultFunction=this.defaultMode=this.container=null;null!=this.menu&&this.menu.destroy()};function mxUndoableEdit($a$$,$b$$){this.source=$a$$;this.changes=[];this.significant=null!=$b$$?$b$$:!0}mxUndoableEdit.prototype.source=null;
mxUndoableEdit.prototype.changes=null;mxUndoableEdit.prototype.significant=null;mxUndoableEdit.prototype.undone=!1;mxUndoableEdit.prototype.redone=!1;mxUndoableEdit.prototype.isEmpty=function(){return 0==this.changes.length};mxUndoableEdit.prototype.isSignificant=function(){return this.significant};mxUndoableEdit.prototype.add=function($a$$){this.changes.push($a$$)};mxUndoableEdit.prototype.notify=function(){};mxUndoableEdit.prototype.die=function(){};
mxUndoableEdit.prototype.undo=function(){if(!this.undone){this.source.fireEvent(new mxEventObject(mxEvent.START_EDIT));for(var $a$$=this.changes.length-1;0<=$a$$;$a$$--){var $b$$=this.changes[$a$$];null!=$b$$.execute?$b$$.execute():null!=$b$$.undo&&$b$$.undo();this.source.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",$b$$))}this.undone=!0;this.redone=!1;this.source.fireEvent(new mxEventObject(mxEvent.END_EDIT))}this.notify()};
mxUndoableEdit.prototype.redo=function(){if(!this.redone){this.source.fireEvent(new mxEventObject(mxEvent.START_EDIT));for(var $a$$=this.changes.length,$b$$=0;$b$$<$a$$;$b$$++){var $c$$=this.changes[$b$$];null!=$c$$.execute?$c$$.execute():null!=$c$$.redo&&$c$$.redo();this.source.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",$c$$))}this.undone=!1;this.redone=!0;this.source.fireEvent(new mxEventObject(mxEvent.END_EDIT))}this.notify()};
function mxUndoManager($a$$){this.size=null!=$a$$?$a$$:100;this.clear()}mxUndoManager.prototype=new mxEventSource;mxUndoManager.prototype.constructor=mxUndoManager;mxUndoManager.prototype.size=null;mxUndoManager.prototype.history=null;mxUndoManager.prototype.indexOfNextAdd=0;mxUndoManager.prototype.isEmpty=function(){return 0==this.history.length};mxUndoManager.prototype.clear=function(){this.history=[];this.indexOfNextAdd=0;this.fireEvent(new mxEventObject(mxEvent.CLEAR))};
mxUndoManager.prototype.canUndo=function(){return 0<this.indexOfNextAdd};mxUndoManager.prototype.undo=function(){for(;0<this.indexOfNextAdd;){var $a$$=this.history[--this.indexOfNextAdd];$a$$.undo();if($a$$.isSignificant()){this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",$a$$));break}}};mxUndoManager.prototype.canRedo=function(){return this.indexOfNextAdd<this.history.length};
mxUndoManager.prototype.redo=function(){for(var $a$$=this.history.length;this.indexOfNextAdd<$a$$;){var $b$$=this.history[this.indexOfNextAdd++];$b$$.redo();if($b$$.isSignificant()){this.fireEvent(new mxEventObject(mxEvent.REDO,"edit",$b$$));break}}};
mxUndoManager.prototype.undoableEditHappened=function($a$$){this.trim();0<this.size&&this.size==this.history.length&&this.history.shift();this.history.push($a$$);this.indexOfNextAdd=this.history.length;this.fireEvent(new mxEventObject(mxEvent.ADD,"edit",$a$$))};mxUndoManager.prototype.trim=function(){if(this.history.length>this.indexOfNextAdd)for(var $a$$=this.history.splice(this.indexOfNextAdd,this.history.length-this.indexOfNextAdd),$b$$=0;$b$$<$a$$.length;$b$$++)$a$$[$b$$].die()};
var mxUrlConverter=function(){};mxUrlConverter.prototype.enabled=!0;mxUrlConverter.prototype.baseUrl=null;mxUrlConverter.prototype.baseDomain=null;mxUrlConverter.prototype.updateBaseUrl=function(){this.baseDomain=location.protocol+"//"+location.host;this.baseUrl=this.baseDomain+location.pathname;var $a$$=this.baseUrl.lastIndexOf("/");0<$a$$&&(this.baseUrl=this.baseUrl.substring(0,$a$$+1))};mxUrlConverter.prototype.isEnabled=function(){return this.enabled};
mxUrlConverter.prototype.setEnabled=function($a$$){this.enabled=$a$$};mxUrlConverter.prototype.getBaseUrl=function(){return this.baseUrl};mxUrlConverter.prototype.setBaseUrl=function($a$$){this.baseUrl=$a$$};mxUrlConverter.prototype.getBaseDomain=function(){return this.baseDomain};mxUrlConverter.prototype.setBaseDomain=function($a$$){this.baseDomain=$a$$};
mxUrlConverter.prototype.isRelativeUrl=function($a$$){return"string"===typeof $a$$&&"data:image"!=$a$$.substring(0,10)&&"http://"!=$a$$.substring(0,7)&&"file://"!=$a$$.substring(0,7)&&"https://"!=$a$$.substring(0,8)&&"//"!=$a$$.substring(0,2)};mxUrlConverter.prototype.convert=function($a$$){this.isEnabled()&&this.isRelativeUrl($a$$)&&(null==this.getBaseUrl()&&this.updateBaseUrl(),$a$$="/"==$a$$.charAt(0)?this.getBaseDomain()+$a$$:this.getBaseUrl()+$a$$);return $a$$};
function mxPanningManager($a$$){this.thread=null;this.active=!1;this.dy=this.dx=this.t0y=this.t0x=this.tdy=this.tdx=0;this.scrollbars=!1;this.scrollTop=this.scrollLeft=0;this.mouseListener={mouseDown:function($c$$,$d$$){},mouseMove:function($c$$,$d$$){},mouseUp:mxUtils.bind(this,function($c$$,$d$$){this.active&&this.stop()})};$a$$.addMouseListener(this.mouseListener);this.mouseUpListener=mxUtils.bind(this,function(){this.active&&this.stop()});mxEvent.addListener(document,"mouseup",this.mouseUpListener);
var $b$$=mxUtils.bind(this,function(){this.scrollbars=mxUtils.hasScrollbars($a$$.container);this.scrollLeft=$a$$.container.scrollLeft;this.scrollTop=$a$$.container.scrollTop;return window.setInterval(mxUtils.bind(this,function(){this.tdx-=this.dx;this.tdy-=this.dy;this.scrollbars?($a$$.panGraph(-$a$$.container.scrollLeft-Math.ceil(this.dx),-$a$$.container.scrollTop-Math.ceil(this.dy)),$a$$.panDx=this.scrollLeft-$a$$.container.scrollLeft,$a$$.panDy=this.scrollTop-$a$$.container.scrollTop,$a$$.fireEvent(new mxEventObject(mxEvent.PAN))):
$a$$.panGraph(this.getDx(),this.getDy())}),this.delay)});this.isActive=function(){return active};this.getDx=function(){return Math.round(this.tdx)};this.getDy=function(){return Math.round(this.tdy)};this.start=function(){this.t0x=$a$$.view.translate.x;this.t0y=$a$$.view.translate.y;this.active=!0};this.panTo=function($c$$,$d$$,$e$$,$f$$){this.active||this.start();this.scrollLeft=$a$$.container.scrollLeft;this.scrollTop=$a$$.container.scrollTop;var $g$$=$a$$.container;this.dx=$c$$+(null!=$e$$?$e$$:
0)-$g$$.scrollLeft-$g$$.clientWidth;this.dx=0>this.dx&&Math.abs(this.dx)<this.border?this.border+this.dx:this.handleMouseOut?Math.max(this.dx,0):0;0==this.dx&&(this.dx=$c$$-$g$$.scrollLeft,this.dx=0<this.dx&&this.dx<this.border?this.dx-this.border:this.handleMouseOut?Math.min(0,this.dx):0);this.dy=$d$$+(null!=$f$$?$f$$:0)-$g$$.scrollTop-$g$$.clientHeight;this.dy=0>this.dy&&Math.abs(this.dy)<this.border?this.border+this.dy:this.handleMouseOut?Math.max(this.dy,0):0;0==this.dy&&(this.dy=$d$$-$g$$.scrollTop,
this.dy=0<this.dy&&this.dy<this.border?this.dy-this.border:this.handleMouseOut?Math.min(0,this.dy):0);0!=this.dx||0!=this.dy?(this.dx*=this.damper,this.dy*=this.damper,null==this.thread&&(this.thread=$b$$())):null!=this.thread&&(window.clearInterval(this.thread),this.thread=null)};this.stop=function(){if(this.active)if(this.active=!1,null!=this.thread&&(window.clearInterval(this.thread),this.thread=null),this.tdy=this.tdx=0,this.scrollbars)$a$$.panDx=0,$a$$.panDy=0,$a$$.fireEvent(new mxEventObject(mxEvent.PAN));
else{var $c$$=$a$$.panDx,$d$$=$a$$.panDy;if(0!=$c$$||0!=$d$$)$a$$.panGraph(0,0),$a$$.view.setTranslate(this.t0x+$c$$/$a$$.view.scale,this.t0y+$d$$/$a$$.view.scale)}};this.destroy=function(){$a$$.removeMouseListener(this.mouseListener);mxEvent.removeListener(document,"mouseup",this.mouseUpListener)}}mxPanningManager.prototype.damper=1/6;mxPanningManager.prototype.delay=10;mxPanningManager.prototype.handleMouseOut=!0;mxPanningManager.prototype.border=0;
function mxPopupMenu($a$$){this.factoryMethod=$a$$;null!=$a$$&&this.init()}mxPopupMenu.prototype=new mxEventSource;mxPopupMenu.prototype.constructor=mxPopupMenu;mxPopupMenu.prototype.submenuImage=mxClient.imageBasePath+"/submenu.gif";mxPopupMenu.prototype.zIndex=10006;mxPopupMenu.prototype.factoryMethod=null;mxPopupMenu.prototype.useLeftButtonForPopup=!1;mxPopupMenu.prototype.enabled=!0;mxPopupMenu.prototype.itemCount=0;mxPopupMenu.prototype.autoExpand=!1;mxPopupMenu.prototype.smartSeparators=!1;
mxPopupMenu.prototype.labels=!0;mxPopupMenu.prototype.init=function(){this.table=document.createElement("table");this.table.className="mxPopupMenu";this.tbody=document.createElement("tbody");this.table.appendChild(this.tbody);this.div=document.createElement("div");this.div.className="mxPopupMenu";this.div.style.display="inline";this.div.style.zIndex=this.zIndex;this.div.appendChild(this.table);mxEvent.disableContextMenu(this.div)};mxPopupMenu.prototype.isEnabled=function(){return this.enabled};
mxPopupMenu.prototype.setEnabled=function($a$$){this.enabled=$a$$};mxPopupMenu.prototype.isPopupTrigger=function($a$$){return $a$$.isPopupTrigger()||this.useLeftButtonForPopup&&mxEvent.isLeftMouseButton($a$$.getEvent())};
mxPopupMenu.prototype.addItem=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){$d$$=$d$$||this;this.itemCount++;$d$$.willAddSeparator&&($d$$.containsItems&&this.addSeparator($d$$,!0),$d$$.willAddSeparator=!1);$d$$.containsItems=!0;var $l$$=document.createElement("tr");$l$$.className="mxPopupMenuItem";var $m$$=document.createElement("td");$m$$.className="mxPopupMenuIcon";null!=$b$$?($e$$=document.createElement("img"),$e$$.src=$b$$,$m$$.appendChild($e$$)):null!=$e$$&&($b$$=document.createElement("div"),
$b$$.className=$e$$,$m$$.appendChild($b$$));$l$$.appendChild($m$$);this.labels&&($m$$=document.createElement("td"),$m$$.className="mxPopupMenuItem"+(null==$f$$||$f$$?"":" mxDisabled"),mxUtils.write($m$$,$a$$),$m$$.align="left",$l$$.appendChild($m$$),$a$$=document.createElement("td"),$a$$.className="mxPopupMenuItem"+(null==$f$$||$f$$?"":" mxDisabled"),$a$$.style.paddingRight="6px",$a$$.style.textAlign="right",$l$$.appendChild($a$$),null==$d$$.div&&this.createSubmenu($d$$));$d$$.tbody.appendChild($l$$);
if(0!=$g$$&&0!=$f$$){var $n$$=null;mxEvent.addGestureListeners($l$$,mxUtils.bind(this,function($p$$){this.eventReceiver=$l$$;$d$$.activeRow!=$l$$&&$d$$.activeRow!=$d$$&&(null!=$d$$.activeRow&&null!=$d$$.activeRow.div.parentNode&&this.hideSubmenu($d$$),null!=$l$$.div&&(this.showSubmenu($d$$,$l$$),$d$$.activeRow=$l$$));null!=document.selection&&8==document.documentMode&&($n$$=document.selection.createRange());mxEvent.consume($p$$)}),mxUtils.bind(this,function($p$$){$d$$.activeRow!=$l$$&&$d$$.activeRow!=
$d$$&&(null!=$d$$.activeRow&&null!=$d$$.activeRow.div.parentNode&&this.hideSubmenu($d$$),this.autoExpand&&null!=$l$$.div&&(this.showSubmenu($d$$,$l$$),$d$$.activeRow=$l$$));$k$$||($l$$.className="mxPopupMenuItemHover")}),mxUtils.bind(this,function($p$$){if(this.eventReceiver==$l$$){$d$$.activeRow!=$l$$&&this.hideMenu();if(null!=$n$$){try{$n$$.select()}catch($q$$){}$n$$=null}null!=$c$$&&$c$$($p$$)}this.eventReceiver=null;mxEvent.consume($p$$)}));$k$$||mxEvent.addListener($l$$,"mouseout",mxUtils.bind(this,
function($p$$){$l$$.className="mxPopupMenuItem"}))}return $l$$};mxPopupMenu.prototype.addCheckmark=function($a$$,$b$$){$a$$=$a$$.firstChild.nextSibling;$a$$.style.backgroundImage="url('"+$b$$+"')";$a$$.style.backgroundRepeat="no-repeat";$a$$.style.backgroundPosition="2px 50%"};
mxPopupMenu.prototype.createSubmenu=function($a$$){$a$$.table=document.createElement("table");$a$$.table.className="mxPopupMenu";$a$$.tbody=document.createElement("tbody");$a$$.table.appendChild($a$$.tbody);$a$$.div=document.createElement("div");$a$$.div.className="mxPopupMenu";$a$$.div.style.position="absolute";$a$$.div.style.display="inline";$a$$.div.style.zIndex=this.zIndex;$a$$.div.appendChild($a$$.table);var $b$$=document.createElement("img");$b$$.setAttribute("src",this.submenuImage);td=$a$$.firstChild.nextSibling.nextSibling;
td.appendChild($b$$)};
mxPopupMenu.prototype.showSubmenu=function($a$$,$b$$){if(null!=$b$$.div){$b$$.div.style.left=$a$$.div.offsetLeft+$b$$.offsetLeft+$b$$.offsetWidth-1+"px";$b$$.div.style.top=$a$$.div.offsetTop+$b$$.offsetTop+"px";document.body.appendChild($b$$.div);var $c$$=parseInt($b$$.div.offsetLeft),$d$$=parseInt($b$$.div.offsetWidth),$e$$=mxUtils.getDocumentScrollOrigin(document),$f$$=document.documentElement;$c$$+$d$$>$e$$.x+(document.body.clientWidth||$f$$.clientWidth)&&($b$$.div.style.left=Math.max(0,$a$$.div.offsetLeft-
$d$$+16)+"px");$b$$.div.style.overflowY="auto";$b$$.div.style.overflowX="hidden";$b$$.div.style.maxHeight=Math.max(document.body.clientHeight,document.documentElement.clientHeight)-10+"px";mxUtils.fit($b$$.div)}};
mxPopupMenu.prototype.addSeparator=function($a$$,$b$$){$a$$=$a$$||this;if(this.smartSeparators&&!$b$$)$a$$.willAddSeparator=!0;else if(null!=$a$$.tbody){$a$$.willAddSeparator=!1;$b$$=document.createElement("tr");var $c$$=document.createElement("td");$c$$.className="mxPopupMenuIcon";$c$$.style.padding="0 0 0 0px";$b$$.appendChild($c$$);$c$$=document.createElement("td");$c$$.style.padding="0 0 0 0px";$c$$.setAttribute("colSpan","2");var $d$$=document.createElement("hr");$d$$.setAttribute("size","1");
$c$$.appendChild($d$$);$b$$.appendChild($c$$);$a$$.tbody.appendChild($b$$)}};mxPopupMenu.prototype.popup=function($a$$,$b$$,$c$$,$d$$){if(null!=this.div&&null!=this.tbody&&null!=this.factoryMethod){this.div.style.left=$a$$+"px";for(this.div.style.top=$b$$+"px";null!=this.tbody.firstChild;)mxEvent.release(this.tbody.firstChild),this.tbody.removeChild(this.tbody.firstChild);this.itemCount=0;this.factoryMethod(this,$c$$,$d$$);0<this.itemCount&&(this.showMenu(),this.fireEvent(new mxEventObject(mxEvent.SHOW)))}};
mxPopupMenu.prototype.isMenuShowing=function(){return null!=this.div&&this.div.parentNode==document.body};mxPopupMenu.prototype.showMenu=function(){9<=document.documentMode&&(this.div.style.filter="none");document.body.appendChild(this.div);mxUtils.fit(this.div)};mxPopupMenu.prototype.hideMenu=function(){null!=this.div&&(null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.hideSubmenu(this),this.containsItems=!1,this.fireEvent(new mxEventObject(mxEvent.HIDE)))};
mxPopupMenu.prototype.hideSubmenu=function($a$$){null!=$a$$.activeRow&&(this.hideSubmenu($a$$.activeRow),null!=$a$$.activeRow.div.parentNode&&$a$$.activeRow.div.parentNode.removeChild($a$$.activeRow.div),$a$$.activeRow=null)};mxPopupMenu.prototype.destroy=function(){null!=this.div&&(mxEvent.release(this.div),null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.div=null)};
function mxAutoSaveManager($a$$){this.changeHandler=mxUtils.bind(this,function($b$$,$c$$){this.isEnabled()&&this.graphModelChanged($c$$.getProperty("edit").changes)});this.setGraph($a$$)}mxAutoSaveManager.prototype=new mxEventSource;mxAutoSaveManager.prototype.constructor=mxAutoSaveManager;mxAutoSaveManager.prototype.graph=null;mxAutoSaveManager.prototype.autoSaveDelay=10;mxAutoSaveManager.prototype.autoSaveThrottle=2;mxAutoSaveManager.prototype.autoSaveThreshold=5;
mxAutoSaveManager.prototype.ignoredChanges=0;mxAutoSaveManager.prototype.lastSnapshot=0;mxAutoSaveManager.prototype.enabled=!0;mxAutoSaveManager.prototype.changeHandler=null;mxAutoSaveManager.prototype.isEnabled=function(){return this.enabled};mxAutoSaveManager.prototype.setEnabled=function($a$$){this.enabled=$a$$};
mxAutoSaveManager.prototype.setGraph=function($a$$){null!=this.graph&&this.graph.getModel().removeListener(this.changeHandler);this.graph=$a$$;null!=this.graph&&this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler)};mxAutoSaveManager.prototype.save=function(){};
mxAutoSaveManager.prototype.graphModelChanged=function($a$$){$a$$=((new Date).getTime()-this.lastSnapshot)/1E3;$a$$>this.autoSaveDelay||this.ignoredChanges>=this.autoSaveThreshold&&$a$$>this.autoSaveThrottle?(this.save(),this.reset()):this.ignoredChanges++};mxAutoSaveManager.prototype.reset=function(){this.lastSnapshot=(new Date).getTime();this.ignoredChanges=0};mxAutoSaveManager.prototype.destroy=function(){this.setGraph(null)};function mxAnimation($a$$){this.delay=null!=$a$$?$a$$:20}
mxAnimation.prototype=new mxEventSource;mxAnimation.prototype.constructor=mxAnimation;mxAnimation.prototype.delay=null;mxAnimation.prototype.thread=null;mxAnimation.prototype.isRunning=function(){return null!=this.thread};mxAnimation.prototype.startAnimation=function(){null==this.thread&&(this.thread=window.setInterval(mxUtils.bind(this,this.updateAnimation),this.delay))};mxAnimation.prototype.updateAnimation=function(){this.fireEvent(new mxEventObject(mxEvent.EXECUTE))};
mxAnimation.prototype.stopAnimation=function(){null!=this.thread&&(window.clearInterval(this.thread),this.thread=null,this.fireEvent(new mxEventObject(mxEvent.DONE)))};function mxMorphing($a$$,$b$$,$c$$,$d$$){mxAnimation.call(this,$d$$);this.graph=$a$$;this.steps=null!=$b$$?$b$$:6;this.ease=null!=$c$$?$c$$:1.5}mxMorphing.prototype=new mxAnimation;mxMorphing.prototype.constructor=mxMorphing;mxMorphing.prototype.graph=null;mxMorphing.prototype.steps=null;mxMorphing.prototype.step=0;
mxMorphing.prototype.ease=null;mxMorphing.prototype.cells=null;mxMorphing.prototype.updateAnimation=function(){mxAnimation.prototype.updateAnimation.apply(this,arguments);var $a$$=new mxCellStatePreview(this.graph);if(null!=this.cells)for(var $b$$=0;$b$$<this.cells.length;$b$$++)this.animateCell(this.cells[$b$$],$a$$,!1);else this.animateCell(this.graph.getModel().getRoot(),$a$$,!0);this.show($a$$);($a$$.isEmpty()||this.step++>=this.steps)&&this.stopAnimation()};mxMorphing.prototype.show=function($a$$){$a$$.show()};
mxMorphing.prototype.animateCell=function($a$$,$b$$,$c$$){var $d$$=this.graph.getView().getState($a$$),$e$$=null;if(null!=$d$$&&($e$$=this.getDelta($d$$),this.graph.getModel().isVertex($a$$)&&(0!=$e$$.x||0!=$e$$.y))){var $f$$=this.graph.view.getTranslate(),$g$$=this.graph.view.getScale();$e$$.x+=$f$$.x*$g$$;$e$$.y+=$f$$.y*$g$$;$b$$.moveState($d$$,-$e$$.x/this.ease,-$e$$.y/this.ease)}if($c$$&&!this.stopRecursion($d$$,$e$$))for($d$$=this.graph.getModel().getChildCount($a$$),$e$$=0;$e$$<$d$$;$e$$++)this.animateCell(this.graph.getModel().getChildAt($a$$,
$e$$),$b$$,$c$$)};mxMorphing.prototype.stopRecursion=function($a$$,$b$$){return null!=$b$$&&(0!=$b$$.x||0!=$b$$.y)};mxMorphing.prototype.getDelta=function($a$$){var $b$$=this.getOriginForCell($a$$.cell),$c$$=this.graph.getView().getTranslate(),$d$$=this.graph.getView().getScale();return new mxPoint(($b$$.x-($a$$.x/$d$$-$c$$.x))*$d$$,($b$$.y-($a$$.y/$d$$-$c$$.y))*$d$$)};
mxMorphing.prototype.getOriginForCell=function($a$$){var $b$$=null;if(null!=$a$$){var $c$$=this.graph.getModel().getParent($a$$);$a$$=this.graph.getCellGeometry($a$$);$b$$=this.getOriginForCell($c$$);null!=$a$$&&($a$$.relative?($c$$=this.graph.getCellGeometry($c$$),null!=$c$$&&($b$$.x+=$a$$.x*$c$$.width,$b$$.y+=$a$$.y*$c$$.height)):($b$$.x+=$a$$.x,$b$$.y+=$a$$.y))}null==$b$$&&($b$$=this.graph.view.getTranslate(),$b$$=new mxPoint(-$b$$.x,-$b$$.y));return $b$$};
function mxImageBundle($a$$){this.images=[];this.alt=null!=$a$$?$a$$:!1}mxImageBundle.prototype.images=null;mxImageBundle.prototype.alt=null;mxImageBundle.prototype.putImage=function($a$$,$b$$,$c$$){this.images[$a$$]={value:$b$$,fallback:$c$$}};mxImageBundle.prototype.getImage=function($a$$){var $b$$=null;null!=$a$$&&($a$$=this.images[$a$$],null!=$a$$&&($b$$=this.alt?$a$$.fallback:$a$$.value));return $b$$};function mxImageExport(){}mxImageExport.prototype.includeOverlays=!1;
mxImageExport.prototype.drawState=function($a$$,$b$$){null!=$a$$&&(this.visitStatesRecursive($a$$,$b$$,mxUtils.bind(this,function(){this.drawCellState.apply(this,arguments)})),this.includeOverlays&&this.visitStatesRecursive($a$$,$b$$,mxUtils.bind(this,function(){this.drawOverlays.apply(this,arguments)})))};
mxImageExport.prototype.visitStatesRecursive=function($a$$,$b$$,$c$$){if(null!=$a$$){$c$$($a$$,$b$$);for(var $d$$=$a$$.view.graph,$e$$=$d$$.model.getChildCount($a$$.cell),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=$d$$.view.getState($d$$.model.getChildAt($a$$.cell,$f$$));this.visitStatesRecursive($g$$,$b$$,$c$$)}}};mxImageExport.prototype.getTitleForCellState=function($a$$,$b$$){return null};mxImageExport.prototype.getLinkForCellState=function($a$$,$b$$){return null};
mxImageExport.prototype.getLinkTargetForCellState=function($a$$,$b$$){return null};mxImageExport.prototype.drawCellState=function($a$$,$b$$){var $c$$=this.getLinkForCellState($a$$,$b$$);null!=$c$$&&$b$$.setLink($c$$,this.getLinkTargetForCellState($a$$,$b$$));var $d$$=this.getTitleForCellState($a$$,$b$$);null!=$d$$&&$b$$.setTitle($d$$);this.drawShape($a$$,$b$$);this.drawText($a$$,$b$$);null!=$d$$&&$b$$.setTitle(null);null!=$c$$&&$b$$.setLink(null)};
mxImageExport.prototype.drawShape=function($a$$,$b$$){$a$$.shape instanceof mxShape&&this.doDrawShape($a$$.shape,$b$$)};mxImageExport.prototype.drawText=function($a$$,$b$$){this.doDrawShape($a$$.text,$b$$)};
mxImageExport.prototype.doDrawShape=function($a$$,$b$$){if(null!=$a$$&&$a$$.checkBounds()){var $c$$=$b$$.root,$d$$=$a$$.node;$b$$.root=$a$$.createSvg();$c$$.appendChild($b$$.root);$a$$.node=$b$$.root;$b$$.save();$a$$.beforePaint($b$$);$a$$.paint($b$$);$a$$.afterPaint($b$$);$b$$.restore();$a$$.node=$d$$;$b$$.root=$c$$}};mxImageExport.prototype.drawOverlays=function($a$$,$b$$){null!=$a$$.overlays&&$a$$.overlays.visit(function($c$$,$d$$){$d$$ instanceof mxShape&&$d$$.paint($b$$)})};
function mxAbstractCanvas2D(){this.converter=this.createUrlConverter();this.reset()}mxAbstractCanvas2D.prototype.state=null;mxAbstractCanvas2D.prototype.states=null;mxAbstractCanvas2D.prototype.path=null;mxAbstractCanvas2D.prototype.rotateHtml=!0;mxAbstractCanvas2D.prototype.lastX=0;mxAbstractCanvas2D.prototype.lastY=0;mxAbstractCanvas2D.prototype.moveOp="M";mxAbstractCanvas2D.prototype.lineOp="L";mxAbstractCanvas2D.prototype.quadOp="Q";mxAbstractCanvas2D.prototype.curveOp="C";
mxAbstractCanvas2D.prototype.closeOp="Z";mxAbstractCanvas2D.prototype.pointerEvents=!1;mxAbstractCanvas2D.prototype.createUrlConverter=function(){return new mxUrlConverter};mxAbstractCanvas2D.prototype.reset=function(){this.state=this.createState();this.states=[]};
mxAbstractCanvas2D.prototype.createState=function(){return{dx:0,dy:0,scale:1,alpha:1,fillAlpha:1,strokeAlpha:1,fillColor:null,gradientFillAlpha:1,gradientColor:null,gradientAlpha:1,gradientDirection:null,strokeColor:null,strokeWidth:1,dashed:!1,dashPattern:"3 3",fixDash:!1,lineCap:"flat",lineJoin:"miter",miterLimit:10,fontColor:"#000000",fontBackgroundColor:null,fontBorderColor:null,fontSize:mxConstants.DEFAULT_FONTSIZE,fontFamily:mxConstants.DEFAULT_FONTFAMILY,fontStyle:0,shadow:!1,shadowStyle:null,
shadowColor:mxConstants.SHADOWCOLOR,shadowAlpha:mxConstants.SHADOW_OPACITY,shadowDx:mxConstants.SHADOW_OFFSET_X,shadowDy:mxConstants.SHADOW_OFFSET_Y,rotation:0,rotationCx:0,rotationCy:0}};mxAbstractCanvas2D.prototype.format=function($a$$){return Math.round(parseFloat($a$$))};
mxAbstractCanvas2D.prototype.addOp=function(){if(null!=this.path&&(this.path.push(arguments[0]),2<arguments.length))for(var $a$$=this.state,$b$$=2;$b$$<arguments.length;$b$$+=2)this.lastX=arguments[$b$$-1],this.lastY=arguments[$b$$],this.path.push(this.format((this.lastX+$a$$.dx)*$a$$.scale)),this.path.push(this.format((this.lastY+$a$$.dy)*$a$$.scale))};
mxAbstractCanvas2D.prototype.rotatePoint=function($a$$,$b$$,$c$$,$d$$,$e$$){$c$$*=Math.PI/180;return mxUtils.getRotatedPoint(new mxPoint($a$$,$b$$),Math.cos($c$$),Math.sin($c$$),new mxPoint($d$$,$e$$))};mxAbstractCanvas2D.prototype.save=function(){this.states.push(this.state);this.state=mxUtils.clone(this.state)};mxAbstractCanvas2D.prototype.restore=function(){0<this.states.length&&(this.state=this.states.pop())};mxAbstractCanvas2D.prototype.setTitle=function($a$$){};
mxAbstractCanvas2D.prototype.setLink=function($a$$,$b$$){};mxAbstractCanvas2D.prototype.scale=function($a$$){this.state.scale*=$a$$;this.state.strokeWidth*=$a$$};mxAbstractCanvas2D.prototype.translate=function($a$$,$b$$){this.state.dx+=$a$$;this.state.dy+=$b$$};mxAbstractCanvas2D.prototype.rotate=function($a$$,$b$$,$c$$,$d$$,$e$$){};mxAbstractCanvas2D.prototype.setAlpha=function($a$$){this.state.alpha=$a$$};mxAbstractCanvas2D.prototype.setFillAlpha=function($a$$){this.state.fillAlpha=$a$$};
mxAbstractCanvas2D.prototype.setStrokeAlpha=function($a$$){this.state.strokeAlpha=$a$$};mxAbstractCanvas2D.prototype.setFillColor=function($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.fillColor=$a$$;this.state.gradientColor=null};mxAbstractCanvas2D.prototype.setFillStyle=function($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.fillStyle=$a$$};
mxAbstractCanvas2D.prototype.setGradient=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){$c$$=this.state;$c$$.fillColor=$a$$;$c$$.gradientFillAlpha=null!=$k$$?$k$$:1;$c$$.gradientColor=$b$$;$c$$.gradientAlpha=null!=$l$$?$l$$:1;$c$$.gradientDirection=$g$$};mxAbstractCanvas2D.prototype.setStrokeColor=function($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.strokeColor=$a$$};mxAbstractCanvas2D.prototype.setStrokeWidth=function($a$$){this.state.strokeWidth=$a$$};
mxAbstractCanvas2D.prototype.setDashed=function($a$$,$b$$){this.state.dashed=$a$$;this.state.fixDash=$b$$};mxAbstractCanvas2D.prototype.setDashPattern=function($a$$){this.state.dashPattern=$a$$};mxAbstractCanvas2D.prototype.setLineCap=function($a$$){this.state.lineCap=$a$$};mxAbstractCanvas2D.prototype.setLineJoin=function($a$$){this.state.lineJoin=$a$$};mxAbstractCanvas2D.prototype.setMiterLimit=function($a$$){this.state.miterLimit=$a$$};
mxAbstractCanvas2D.prototype.setFontColor=function($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.fontColor=$a$$};mxAbstractCanvas2D.prototype.setFontBackgroundColor=function($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.fontBackgroundColor=$a$$};mxAbstractCanvas2D.prototype.setFontBorderColor=function($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.fontBorderColor=$a$$};mxAbstractCanvas2D.prototype.setFontSize=function($a$$){this.state.fontSize=parseFloat($a$$)};
mxAbstractCanvas2D.prototype.setFontFamily=function($a$$){this.state.fontFamily=$a$$};mxAbstractCanvas2D.prototype.setFontStyle=function($a$$){null==$a$$&&($a$$=0);this.state.fontStyle=$a$$};mxAbstractCanvas2D.prototype.setShadow=function($a$$,$b$$){this.state.shadow=$a$$;this.state.shadowStyle=$b$$};mxAbstractCanvas2D.prototype.setShadowColor=function($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.shadowColor=$a$$};
mxAbstractCanvas2D.prototype.setShadowAlpha=function($a$$){this.state.shadowAlpha=$a$$};mxAbstractCanvas2D.prototype.setShadowOffset=function($a$$,$b$$){this.state.shadowDx=$a$$;this.state.shadowDy=$b$$};mxAbstractCanvas2D.prototype.begin=function(){this.lastY=this.lastX=0;this.path=[]};mxAbstractCanvas2D.prototype.moveTo=function($a$$,$b$$){this.addOp(this.moveOp,$a$$,$b$$)};mxAbstractCanvas2D.prototype.lineTo=function($a$$,$b$$){this.addOp(this.lineOp,$a$$,$b$$)};
mxAbstractCanvas2D.prototype.quadTo=function($a$$,$b$$,$c$$,$d$$){this.addOp(this.quadOp,$a$$,$b$$,$c$$,$d$$)};mxAbstractCanvas2D.prototype.curveTo=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.addOp(this.curveOp,$a$$,$b$$,$c$$,$d$$,$e$$,$f$$)};
mxAbstractCanvas2D.prototype.arcTo=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$a$$=mxUtils.arcToCurves(this.lastX,this.lastY,$a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$);if(null!=$a$$)for($b$$=0;$b$$<$a$$.length;$b$$+=6)this.curveTo($a$$[$b$$],$a$$[$b$$+1],$a$$[$b$$+2],$a$$[$b$$+3],$a$$[$b$$+4],$a$$[$b$$+5])};mxAbstractCanvas2D.prototype.close=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.addOp(this.closeOp)};mxAbstractCanvas2D.prototype.end=function(){};
function mxXmlCanvas2D($a$$){mxAbstractCanvas2D.call(this);this.root=$a$$;this.writeDefaults()}mxUtils.extend(mxXmlCanvas2D,mxAbstractCanvas2D);mxXmlCanvas2D.prototype.textEnabled=!0;mxXmlCanvas2D.prototype.compressed=!0;
mxXmlCanvas2D.prototype.writeDefaults=function(){var $a$$=this.createElement("fontfamily");$a$$.setAttribute("family",mxConstants.DEFAULT_FONTFAMILY);this.root.appendChild($a$$);$a$$=this.createElement("fontsize");$a$$.setAttribute("size",mxConstants.DEFAULT_FONTSIZE);this.root.appendChild($a$$);$a$$=this.createElement("shadowcolor");$a$$.setAttribute("color",mxConstants.SHADOWCOLOR);this.root.appendChild($a$$);$a$$=this.createElement("shadowalpha");$a$$.setAttribute("alpha",mxConstants.SHADOW_OPACITY);
this.root.appendChild($a$$);$a$$=this.createElement("shadowoffset");$a$$.setAttribute("dx",mxConstants.SHADOW_OFFSET_X);$a$$.setAttribute("dy",mxConstants.SHADOW_OFFSET_Y);this.root.appendChild($a$$)};mxXmlCanvas2D.prototype.format=function($a$$){return parseFloat(parseFloat($a$$).toFixed(2))};mxXmlCanvas2D.prototype.createElement=function($a$$){return this.root.ownerDocument.createElement($a$$)};
mxXmlCanvas2D.prototype.save=function(){this.compressed&&mxAbstractCanvas2D.prototype.save.apply(this,arguments);this.root.appendChild(this.createElement("save"))};mxXmlCanvas2D.prototype.restore=function(){this.compressed&&mxAbstractCanvas2D.prototype.restore.apply(this,arguments);this.root.appendChild(this.createElement("restore"))};mxXmlCanvas2D.prototype.scale=function($a$$){var $b$$=this.createElement("scale");$b$$.setAttribute("scale",$a$$);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.translate=function($a$$,$b$$){var $c$$=this.createElement("translate");$c$$.setAttribute("dx",this.format($a$$));$c$$.setAttribute("dy",this.format($b$$));this.root.appendChild($c$$)};
mxXmlCanvas2D.prototype.rotate=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.createElement("rotate");if(0!=$a$$||$b$$||$c$$)$f$$.setAttribute("theta",this.format($a$$)),$f$$.setAttribute("flipH",$b$$?"1":"0"),$f$$.setAttribute("flipV",$c$$?"1":"0"),$f$$.setAttribute("cx",this.format($d$$)),$f$$.setAttribute("cy",this.format($e$$)),this.root.appendChild($f$$)};
mxXmlCanvas2D.prototype.setAlpha=function($a$$){if(this.compressed){if(this.state.alpha==$a$$)return;mxAbstractCanvas2D.prototype.setAlpha.apply(this,arguments)}var $b$$=this.createElement("alpha");$b$$.setAttribute("alpha",this.format($a$$));this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setFillAlpha=function($a$$){if(this.compressed){if(this.state.fillAlpha==$a$$)return;mxAbstractCanvas2D.prototype.setFillAlpha.apply(this,arguments)}var $b$$=this.createElement("fillalpha");$b$$.setAttribute("alpha",this.format($a$$));this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setStrokeAlpha=function($a$$){if(this.compressed){if(this.state.strokeAlpha==$a$$)return;mxAbstractCanvas2D.prototype.setStrokeAlpha.apply(this,arguments)}var $b$$=this.createElement("strokealpha");$b$$.setAttribute("alpha",this.format($a$$));this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setFillColor=function($a$$){$a$$==mxConstants.NONE&&($a$$=null);if(this.compressed){if(this.state.fillColor==$a$$)return;mxAbstractCanvas2D.prototype.setFillColor.apply(this,arguments)}var $b$$=this.createElement("fillcolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setGradient=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){if(null!=$a$$&&null!=$b$$){mxAbstractCanvas2D.prototype.setGradient.apply(this,arguments);var $m$$=this.createElement("gradient");$m$$.setAttribute("c1",$a$$);$m$$.setAttribute("c2",$b$$);$m$$.setAttribute("x",this.format($c$$));$m$$.setAttribute("y",this.format($d$$));$m$$.setAttribute("w",this.format($e$$));$m$$.setAttribute("h",this.format($f$$));null!=$g$$&&$m$$.setAttribute("direction",$g$$);null!=$k$$&&
$m$$.setAttribute("alpha1",$k$$);null!=$l$$&&$m$$.setAttribute("alpha2",$l$$);this.root.appendChild($m$$)}};mxXmlCanvas2D.prototype.setStrokeColor=function($a$$){$a$$==mxConstants.NONE&&($a$$=null);if(this.compressed){if(this.state.strokeColor==$a$$)return;mxAbstractCanvas2D.prototype.setStrokeColor.apply(this,arguments)}var $b$$=this.createElement("strokecolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setStrokeWidth=function($a$$){if(this.compressed){if(this.state.strokeWidth==$a$$)return;mxAbstractCanvas2D.prototype.setStrokeWidth.apply(this,arguments)}var $b$$=this.createElement("strokewidth");$b$$.setAttribute("width",this.format($a$$));this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setDashed=function($a$$,$b$$){if(this.compressed){if(this.state.dashed==$a$$)return;mxAbstractCanvas2D.prototype.setDashed.apply(this,arguments)}var $c$$=this.createElement("dashed");$c$$.setAttribute("dashed",$a$$?"1":"0");null!=$b$$&&$c$$.setAttribute("fixDash",$b$$?"1":"0");this.root.appendChild($c$$)};
mxXmlCanvas2D.prototype.setDashPattern=function($a$$){if(this.compressed){if(this.state.dashPattern==$a$$)return;mxAbstractCanvas2D.prototype.setDashPattern.apply(this,arguments)}var $b$$=this.createElement("dashpattern");$b$$.setAttribute("pattern",$a$$);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setLineCap=function($a$$){if(this.compressed){if(this.state.lineCap==$a$$)return;mxAbstractCanvas2D.prototype.setLineCap.apply(this,arguments)}var $b$$=this.createElement("linecap");$b$$.setAttribute("cap",$a$$);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setLineJoin=function($a$$){if(this.compressed){if(this.state.lineJoin==$a$$)return;mxAbstractCanvas2D.prototype.setLineJoin.apply(this,arguments)}var $b$$=this.createElement("linejoin");$b$$.setAttribute("join",$a$$);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setMiterLimit=function($a$$){if(this.compressed){if(this.state.miterLimit==$a$$)return;mxAbstractCanvas2D.prototype.setMiterLimit.apply(this,arguments)}var $b$$=this.createElement("miterlimit");$b$$.setAttribute("limit",$a$$);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setFontColor=function($a$$){if(this.textEnabled){$a$$==mxConstants.NONE&&($a$$=null);if(this.compressed){if(this.state.fontColor==$a$$)return;mxAbstractCanvas2D.prototype.setFontColor.apply(this,arguments)}var $b$$=this.createElement("fontcolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setFontBackgroundColor=function($a$$){if(this.textEnabled){$a$$==mxConstants.NONE&&($a$$=null);if(this.compressed){if(this.state.fontBackgroundColor==$a$$)return;mxAbstractCanvas2D.prototype.setFontBackgroundColor.apply(this,arguments)}var $b$$=this.createElement("fontbackgroundcolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setFontBorderColor=function($a$$){if(this.textEnabled){$a$$==mxConstants.NONE&&($a$$=null);if(this.compressed){if(this.state.fontBorderColor==$a$$)return;mxAbstractCanvas2D.prototype.setFontBorderColor.apply(this,arguments)}var $b$$=this.createElement("fontbordercolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setFontSize=function($a$$){if(this.textEnabled){if(this.compressed){if(this.state.fontSize==$a$$)return;mxAbstractCanvas2D.prototype.setFontSize.apply(this,arguments)}var $b$$=this.createElement("fontsize");$b$$.setAttribute("size",$a$$);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setFontFamily=function($a$$){if(this.textEnabled){if(this.compressed){if(this.state.fontFamily==$a$$)return;mxAbstractCanvas2D.prototype.setFontFamily.apply(this,arguments)}var $b$$=this.createElement("fontfamily");$b$$.setAttribute("family",$a$$);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setFontStyle=function($a$$){if(this.textEnabled){null==$a$$&&($a$$=0);if(this.compressed){if(this.state.fontStyle==$a$$)return;mxAbstractCanvas2D.prototype.setFontStyle.apply(this,arguments)}var $b$$=this.createElement("fontstyle");$b$$.setAttribute("style",$a$$);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setShadow=function($a$$){if(this.compressed){if(this.state.shadow==$a$$)return;mxAbstractCanvas2D.prototype.setShadow.apply(this,arguments)}var $b$$=this.createElement("shadow");$b$$.setAttribute("enabled",$a$$?"1":"0");this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setShadowColor=function($a$$){if(this.compressed){$a$$==mxConstants.NONE&&($a$$=null);if(this.state.shadowColor==$a$$)return;mxAbstractCanvas2D.prototype.setShadowColor.apply(this,arguments)}var $b$$=this.createElement("shadowcolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setShadowAlpha=function($a$$){if(this.compressed){if(this.state.shadowAlpha==$a$$)return;mxAbstractCanvas2D.prototype.setShadowAlpha.apply(this,arguments)}var $b$$=this.createElement("shadowalpha");$b$$.setAttribute("alpha",$a$$);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setShadowOffset=function($a$$,$b$$){if(this.compressed){if(this.state.shadowDx==$a$$&&this.state.shadowDy==$b$$)return;mxAbstractCanvas2D.prototype.setShadowOffset.apply(this,arguments)}var $c$$=this.createElement("shadowoffset");$c$$.setAttribute("dx",$a$$);$c$$.setAttribute("dy",$b$$);this.root.appendChild($c$$)};
mxXmlCanvas2D.prototype.rect=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.createElement("rect");$e$$.setAttribute("x",this.format($a$$));$e$$.setAttribute("y",this.format($b$$));$e$$.setAttribute("w",this.format($c$$));$e$$.setAttribute("h",this.format($d$$));this.root.appendChild($e$$)};
mxXmlCanvas2D.prototype.roundrect=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=this.createElement("roundrect");$g$$.setAttribute("x",this.format($a$$));$g$$.setAttribute("y",this.format($b$$));$g$$.setAttribute("w",this.format($c$$));$g$$.setAttribute("h",this.format($d$$));$g$$.setAttribute("dx",this.format($e$$));$g$$.setAttribute("dy",this.format($f$$));this.root.appendChild($g$$)};
mxXmlCanvas2D.prototype.ellipse=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.createElement("ellipse");$e$$.setAttribute("x",this.format($a$$));$e$$.setAttribute("y",this.format($b$$));$e$$.setAttribute("w",this.format($c$$));$e$$.setAttribute("h",this.format($d$$));this.root.appendChild($e$$)};
mxXmlCanvas2D.prototype.image=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){$e$$=this.converter.convert($e$$);var $l$$=this.createElement("image");$l$$.setAttribute("x",this.format($a$$));$l$$.setAttribute("y",this.format($b$$));$l$$.setAttribute("w",this.format($c$$));$l$$.setAttribute("h",this.format($d$$));$l$$.setAttribute("src",$e$$);$l$$.setAttribute("aspect",$f$$?"1":"0");$l$$.setAttribute("flipH",$g$$?"1":"0");$l$$.setAttribute("flipV",$k$$?"1":"0");this.root.appendChild($l$$)};
mxXmlCanvas2D.prototype.begin=function(){this.root.appendChild(this.createElement("begin"));this.lastY=this.lastX=0};mxXmlCanvas2D.prototype.moveTo=function($a$$,$b$$){var $c$$=this.createElement("move");$c$$.setAttribute("x",this.format($a$$));$c$$.setAttribute("y",this.format($b$$));this.root.appendChild($c$$);this.lastX=$a$$;this.lastY=$b$$};
mxXmlCanvas2D.prototype.lineTo=function($a$$,$b$$){var $c$$=this.createElement("line");$c$$.setAttribute("x",this.format($a$$));$c$$.setAttribute("y",this.format($b$$));this.root.appendChild($c$$);this.lastX=$a$$;this.lastY=$b$$};
mxXmlCanvas2D.prototype.quadTo=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.createElement("quad");$e$$.setAttribute("x1",this.format($a$$));$e$$.setAttribute("y1",this.format($b$$));$e$$.setAttribute("x2",this.format($c$$));$e$$.setAttribute("y2",this.format($d$$));this.root.appendChild($e$$);this.lastX=$c$$;this.lastY=$d$$};
mxXmlCanvas2D.prototype.curveTo=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=this.createElement("curve");$g$$.setAttribute("x1",this.format($a$$));$g$$.setAttribute("y1",this.format($b$$));$g$$.setAttribute("x2",this.format($c$$));$g$$.setAttribute("y2",this.format($d$$));$g$$.setAttribute("x3",this.format($e$$));$g$$.setAttribute("y3",this.format($f$$));this.root.appendChild($g$$);this.lastX=$e$$;this.lastY=$f$$};mxXmlCanvas2D.prototype.close=function(){this.root.appendChild(this.createElement("close"))};
mxXmlCanvas2D.prototype.text=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){if(this.textEnabled&&null!=$e$$){mxUtils.isNode($e$$)&&($e$$=mxUtils.getOuterHtml($e$$));var $r$$=this.createElement("text");$r$$.setAttribute("x",this.format($a$$));$r$$.setAttribute("y",this.format($b$$));$r$$.setAttribute("w",this.format($c$$));$r$$.setAttribute("h",this.format($d$$));$r$$.setAttribute("str",$e$$);null!=$f$$&&$r$$.setAttribute("align",$f$$);null!=$g$$&&$r$$.setAttribute("valign",
$g$$);$r$$.setAttribute("wrap",$k$$?"1":"0");null==$l$$&&($l$$="");$r$$.setAttribute("format",$l$$);null!=$m$$&&$r$$.setAttribute("overflow",$m$$);null!=$n$$&&$r$$.setAttribute("clip",$n$$?"1":"0");null!=$p$$&&$r$$.setAttribute("rotation",$p$$);null!=$q$$&&$r$$.setAttribute("dir",$q$$);this.root.appendChild($r$$)}};mxXmlCanvas2D.prototype.stroke=function(){this.root.appendChild(this.createElement("stroke"))};mxXmlCanvas2D.prototype.fill=function(){this.root.appendChild(this.createElement("fill"))};
mxXmlCanvas2D.prototype.fillAndStroke=function(){this.root.appendChild(this.createElement("fillstroke"))};
function mxSvgCanvas2D($a$$,$b$$){mxAbstractCanvas2D.call(this);this.root=$a$$;this.gradients=[];this.fillPatterns=[];this.defs=null;this.styleEnabled=null!=$b$$?$b$$:!1;$b$$=null;if($a$$.ownerDocument!=document){for(;null!=$a$$&&"svg"!=$a$$.nodeName;)$a$$=$a$$.parentNode;$b$$=$a$$}null!=$b$$&&(0<$b$$.getElementsByTagName("defs").length&&(this.defs=$b$$.getElementsByTagName("defs")[0]),null==this.defs&&(this.defs=this.createElement("defs"),null!=$b$$.firstChild?$b$$.insertBefore(this.defs,$b$$.firstChild):
$b$$.appendChild(this.defs)),this.styleEnabled&&this.defs.appendChild(this.createStyle()))}mxUtils.extend(mxSvgCanvas2D,mxAbstractCanvas2D);
(function(){mxSvgCanvas2D.prototype.useDomParser=!mxClient.IS_IE&&"function"===typeof DOMParser&&"function"===typeof XMLSerializer;if(mxSvgCanvas2D.prototype.useDomParser)try{var $a$$=(new DOMParser).parseFromString("test text","text/html");mxSvgCanvas2D.prototype.useDomParser=null!=$a$$}catch($b$$){mxSvgCanvas2D.prototype.useDomParser=!1}mxSvgCanvas2D.prototype.useAbsoluteIds=!mxClient.IS_CHROMEAPP&&!mxClient.IS_IE&&!mxClient.IS_IE11&&!mxClient.IS_EDGE&&0<document.getElementsByTagName("base").length})();
mxSvgCanvas2D.prototype.node=null;mxSvgCanvas2D.prototype.matchHtmlAlignment=!0;mxSvgCanvas2D.prototype.textEnabled=!0;mxSvgCanvas2D.prototype.foEnabled=!0;mxSvgCanvas2D.prototype.foAltText="[Object]";mxSvgCanvas2D.prototype.foOffset=0;mxSvgCanvas2D.prototype.textOffset=0;mxSvgCanvas2D.prototype.imageOffset=0;mxSvgCanvas2D.prototype.strokeTolerance=0;mxSvgCanvas2D.prototype.minStrokeWidth=1;mxSvgCanvas2D.prototype.refCount=0;mxSvgCanvas2D.prototype.lineHeightCorrection=1;
mxSvgCanvas2D.prototype.pointerEventsValue="all";mxSvgCanvas2D.prototype.fontMetricsPadding=10;mxSvgCanvas2D.prototype.foreignObjectPadding=2;mxSvgCanvas2D.prototype.cacheOffsetSize=!0;mxSvgCanvas2D.prototype.setCssText=function($a$$,$b$$){null!=$a$$&&(mxClient.IS_IE||mxClient.IS_IE11?$a$$.setAttribute("style",$b$$):null!=$a$$.style&&($a$$.style.cssText=$b$$))};mxSvgCanvas2D.prototype.format=function($a$$){return parseFloat(parseFloat($a$$).toFixed(2))};
mxSvgCanvas2D.prototype.getBaseUrl=function(){var $a$$=window.location.href,$b$$=$a$$.indexOf("#");0<$b$$&&($a$$=$a$$.substring(0,$b$$));return $a$$};mxSvgCanvas2D.prototype.reset=function(){mxAbstractCanvas2D.prototype.reset.apply(this,arguments);this.gradients=[];this.fillPatterns=[]};
mxSvgCanvas2D.prototype.createStyle=function($a$$){$a$$=this.createElement("style");$a$$.setAttribute("type","text/css");mxUtils.write($a$$,"svg{font-family:"+mxConstants.DEFAULT_FONTFAMILY+";font-size:"+mxConstants.DEFAULT_FONTSIZE+";fill:none;stroke-miterlimit:10}");return $a$$};
mxSvgCanvas2D.prototype.createElement=function($a$$,$b$$){if(null!=this.root.ownerDocument.createElementNS)return this.root.ownerDocument.createElementNS($b$$||mxConstants.NS_SVG,$a$$);$a$$=this.root.ownerDocument.createElement($a$$);null!=$b$$&&$a$$.setAttribute("xmlns",$b$$);return $a$$};mxSvgCanvas2D.prototype.getAlternateText=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){return null!=$f$$?this.foAltText:null};
mxSvgCanvas2D.prototype.createAlternateContent=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){$a$$=this.getAlternateText($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$);$d$$=this.state;return null!=$a$$&&0<$d$$.fontSize?($k$$=$k$$==mxConstants.ALIGN_TOP?1:$k$$==mxConstants.ALIGN_BOTTOM?0:.3,$e$$=$g$$==mxConstants.ALIGN_RIGHT?"end":$g$$==mxConstants.ALIGN_LEFT?"start":"middle",$g$$=this.createElement("text"),$g$$.setAttribute("x",Math.round($b$$+$d$$.dx)),
$g$$.setAttribute("y",Math.round($c$$+$d$$.dy+$k$$*$d$$.fontSize)),$g$$.setAttribute("fill",$d$$.fontColor||"black"),$g$$.setAttribute("font-family",$d$$.fontFamily),$g$$.setAttribute("font-size",Math.round($d$$.fontSize)+"px"),"start"!=$e$$&&$g$$.setAttribute("text-anchor",$e$$),($d$$.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&$g$$.setAttribute("font-weight","bold"),($d$$.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&$g$$.setAttribute("font-style","italic"),$b$$=[],($d$$.fontStyle&
mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&$b$$.push("underline"),($d$$.fontStyle&mxConstants.FONT_STRIKETHROUGH)==mxConstants.FONT_STRIKETHROUGH&&$b$$.push("line-through"),0<$b$$.length&&$g$$.setAttribute("text-decoration",$b$$.join(" ")),mxUtils.write($g$$,$a$$),$g$$):null};
mxSvgCanvas2D.prototype.createGradientId=function($a$$,$b$$,$c$$,$d$$,$e$$){$a$$=mxUtils.rgba2hex($a$$);"#"==$a$$.charAt(0)&&($a$$=$a$$.substring(1));$b$$=mxUtils.rgba2hex($b$$);"#"==$b$$.charAt(0)&&($b$$=$b$$.substring(1));$a$$=$a$$.toLowerCase()+"-"+$c$$;$b$$=$b$$.toLowerCase()+"-"+$d$$;$c$$=null;null==$e$$||$e$$==mxConstants.DIRECTION_SOUTH?$c$$="s":$e$$==mxConstants.DIRECTION_EAST?$c$$="e":$e$$==mxConstants.DIRECTION_RADIAL?$c$$="r":($d$$=$a$$,$a$$=$b$$,$b$$=$d$$,$e$$==mxConstants.DIRECTION_NORTH?
$c$$="s":$e$$==mxConstants.DIRECTION_WEST&&($c$$="e"));return"mx-gradient-"+$a$$+"-"+$b$$+"-"+$c$$};
mxSvgCanvas2D.prototype.getSvgGradient=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.createGradientId($a$$,$b$$,$c$$,$d$$,$e$$),$g$$=this.gradients[$f$$];if(null==$g$$){var $k$$=this.root.ownerSVGElement,$l$$=0,$m$$=$f$$+"-"+$l$$;if(null!=$k$$)for($g$$=$k$$.ownerDocument.getElementById($m$$);null!=$g$$&&$g$$.ownerSVGElement!=$k$$;)$m$$=$f$$+"-"+$l$$++,$g$$=$k$$.ownerDocument.getElementById($m$$);else $m$$="id"+ ++this.refCount;null==$g$$&&($g$$=this.createSvgGradient($a$$,$b$$,$c$$,$d$$,$e$$),
$g$$.setAttribute("id",$m$$),null!=this.defs?this.defs.appendChild($g$$):$k$$.appendChild($g$$));this.gradients[$f$$]=$g$$}return $g$$.getAttribute("id")};
mxSvgCanvas2D.prototype.createSvgGradient=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.createElement($e$$==mxConstants.DIRECTION_RADIAL?"radialGradient":"linearGradient");$f$$.setAttribute("x1","0%");$f$$.setAttribute("y1","0%");$f$$.setAttribute("x2","0%");$f$$.setAttribute("y2","0%");null==$e$$||$e$$==mxConstants.DIRECTION_SOUTH?$f$$.setAttribute("y2","100%"):$e$$==mxConstants.DIRECTION_EAST?$f$$.setAttribute("x2","100%"):$e$$==mxConstants.DIRECTION_NORTH?$f$$.setAttribute("y1","100%"):$e$$==
mxConstants.DIRECTION_WEST&&$f$$.setAttribute("x1","100%");$e$$=this.createElement("stop");$e$$.setAttribute("offset","0%");$e$$.style.stopColor=$a$$;$e$$.style.stopOpacity=$c$$;$f$$.appendChild($e$$);$e$$=this.createElement("stop");$e$$.setAttribute("offset","100%");$e$$.style.stopColor=$b$$;$e$$.style.stopOpacity=$d$$;$f$$.appendChild($e$$);return $f$$};
mxSvgCanvas2D.prototype.createFillPatternId=function($a$$,$b$$,$c$$){$c$$=mxUtils.rgba2hex($c$$);"#"==$c$$.charAt(0)&&($c$$=$c$$.substring(1));return("mx-pattern-"+$a$$+"-"+$b$$+"-"+$c$$).toLowerCase()};
mxSvgCanvas2D.prototype.getFillPattern=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.createFillPatternId($a$$,$b$$,$c$$),$f$$=this.fillPatterns[$e$$];if(null==$f$$){var $g$$=this.root.ownerSVGElement,$k$$=0,$l$$=$e$$+"-"+$k$$;if(null!=$g$$)for($f$$=$g$$.ownerDocument.getElementById($l$$);null!=$f$$&&$f$$.ownerSVGElement!=$g$$;)$l$$=$e$$+"-"+$k$$++,$f$$=$g$$.ownerDocument.getElementById($l$$);else $l$$="id"+ ++this.refCount;if(null==$f$$){switch($a$$){case "hatch":$f$$=this.createHatchPattern($b$$,$c$$,
$d$$);break;case "dots":$f$$=this.createDotsPattern($b$$,$c$$,$d$$);break;case "cross-hatch":$f$$=this.createCrossHatchPattern($b$$,$c$$,$d$$);break;case "dashed":$f$$=this.createDashedPattern($b$$,$c$$,$d$$);break;case "zigzag":case "zigzag-line":$f$$=this.createZigZagLinePattern($b$$,$c$$,$d$$);break;default:return null}$f$$.setAttribute("id",$l$$);null!=this.defs?this.defs.appendChild($f$$):$g$$.appendChild($f$$)}this.fillPatterns[$e$$]=$f$$}return $f$$.getAttribute("id")};
mxSvgCanvas2D.prototype.createHatchPattern=function($a$$,$b$$,$c$$){$a$$=1.5*$a$$*$c$$;$c$$=this.format((10+$a$$)*$c$$);var $d$$=this.createElement("pattern");$d$$.setAttribute("patternUnits","userSpaceOnUse");$d$$.setAttribute("width",$c$$);$d$$.setAttribute("height",$c$$);$d$$.setAttribute("x","0");$d$$.setAttribute("y","0");$d$$.setAttribute("patternTransform","rotate(45)");var $e$$=this.createElement("line");$e$$.setAttribute("x1","0");$e$$.setAttribute("y1","0");$e$$.setAttribute("x2","0");$e$$.setAttribute("y2",
$c$$);$e$$.setAttribute("stroke",$b$$);$e$$.setAttribute("stroke-width",$a$$);$d$$.appendChild($e$$);return $d$$};
mxSvgCanvas2D.prototype.createDashedPattern=function($a$$,$b$$,$c$$){$a$$=1.5*$a$$*$c$$;$c$$=this.format((10+$a$$)*$c$$);var $d$$=this.createElement("pattern");$d$$.setAttribute("patternUnits","userSpaceOnUse");$d$$.setAttribute("width",$c$$);$d$$.setAttribute("height",$c$$);$d$$.setAttribute("x","0");$d$$.setAttribute("y","0");$d$$.setAttribute("patternTransform","rotate(45)");var $e$$=this.createElement("line");$e$$.setAttribute("x1","0");$e$$.setAttribute("y1",$c$$/4);$e$$.setAttribute("x2","0");
$e$$.setAttribute("y2",3*$c$$/4);$e$$.setAttribute("stroke",$b$$);$e$$.setAttribute("stroke-width",$a$$);$d$$.appendChild($e$$);return $d$$};
mxSvgCanvas2D.prototype.createZigZagLinePattern=function($a$$,$b$$,$c$$){$a$$=1.5*$a$$*$c$$;$c$$=this.format((10+$a$$)*$c$$);var $d$$=this.createElement("pattern");$d$$.setAttribute("patternUnits","userSpaceOnUse");$d$$.setAttribute("width",$c$$);$d$$.setAttribute("height",$c$$);$d$$.setAttribute("x","0");$d$$.setAttribute("y","0");$d$$.setAttribute("patternTransform","rotate(45)");var $e$$=this.createElement("path"),$f$$=$c$$/4,$g$$=3*$c$$/4;$e$$.setAttribute("d","M "+$f$$+" 0 L "+$g$$+" 0 L "+$f$$+
" "+$c$$+" L "+$g$$+" "+$c$$);$e$$.setAttribute("stroke",$b$$);$e$$.setAttribute("stroke-width",$a$$);$e$$.setAttribute("fill","none");$d$$.appendChild($e$$);return $d$$};
mxSvgCanvas2D.prototype.createCrossHatchPattern=function($a$$,$b$$,$c$$){$a$$=.5*$a$$*$c$$;$c$$=this.format(1.5*(10+$a$$)*$c$$);var $d$$=this.createElement("pattern");$d$$.setAttribute("patternUnits","userSpaceOnUse");$d$$.setAttribute("width",$c$$);$d$$.setAttribute("height",$c$$);$d$$.setAttribute("x","0");$d$$.setAttribute("y","0");$d$$.setAttribute("patternTransform","rotate(45)");var $e$$=this.createElement("rect");$e$$.setAttribute("x",0);$e$$.setAttribute("y",0);$e$$.setAttribute("width",$c$$);
$e$$.setAttribute("height",$c$$);$e$$.setAttribute("stroke",$b$$);$e$$.setAttribute("stroke-width",$a$$);$e$$.setAttribute("fill","none");$d$$.appendChild($e$$);return $d$$};
mxSvgCanvas2D.prototype.createDotsPattern=function($a$$,$b$$,$c$$){$a$$=this.format((10+$a$$)*$c$$);$c$$=this.createElement("pattern");$c$$.setAttribute("patternUnits","userSpaceOnUse");$c$$.setAttribute("width",$a$$);$c$$.setAttribute("height",$a$$);$c$$.setAttribute("x","0");$c$$.setAttribute("y","0");var $d$$=this.createElement("circle");$d$$.setAttribute("cx",$a$$/2);$d$$.setAttribute("cy",$a$$/2);$d$$.setAttribute("r",$a$$/4);$d$$.setAttribute("stroke","none");$d$$.setAttribute("fill",$b$$);
$c$$.appendChild($d$$);return $c$$};mxSvgCanvas2D.prototype.addTitle=function($a$$){if(null!=$a$$&&null!=this.title){var $b$$=this.createElement("title");mxUtils.write($b$$,this.title);$a$$.appendChild($b$$)}return $a$$};
mxSvgCanvas2D.prototype.addNode=function($a$$,$b$$){var $c$$=this.addTitle(this.node),$d$$=this.state;if(null!=$c$$){if("path"==$c$$.nodeName)if(null!=this.path&&0<this.path.length)$c$$.setAttribute("d",this.path.join(" "));else return;$a$$&&null!=$d$$.fillColor?this.updateFill():this.styleEnabled||("ellipse"==$c$$.nodeName&&mxClient.IS_FF?$c$$.setAttribute("fill","transparent"):$c$$.setAttribute("fill","none"),$a$$=!1);$b$$&&null!=$d$$.strokeColor?this.updateStroke():this.styleEnabled||$c$$.setAttribute("stroke",
"none");null!=$d$$.transform&&0<$d$$.transform.length&&$c$$.setAttribute("transform",$d$$.transform);this.pointerEvents?$c$$.setAttribute("pointer-events",this.pointerEventsValue):this.pointerEvents||null!=this.originalRoot||$c$$.setAttribute("pointer-events","none");0<this.strokeTolerance&&(!$a$$||null==$d$$.fillColor)&&this.addTolerance($c$$);("rect"!=$c$$.nodeName&&"path"!=$c$$.nodeName&&"ellipse"!=$c$$.nodeName||"none"!=$c$$.getAttribute("fill")&&"transparent"!=$c$$.getAttribute("fill")||"none"!=
$c$$.getAttribute("stroke")||"none"!=$c$$.getAttribute("pointer-events"))&&this.root.appendChild($c$$);this.node=null}};
mxSvgCanvas2D.prototype.getShadowFilter=function(){var $a$$=this.state,$b$$=$a$$.shadowStyle;if(1!=$a$$.scale){var $c$$=$b$$.split("(");if(0<$c$$.length){var $d$$=$c$$[1].split(" ");3<$d$$.length&&($b$$=function($e$$){return Math.round(parseFloat($d$$[$e$$])*$a$$.scale*100)/100+"px"},$b$$=$c$$[0]+"("+$b$$(0)+" "+$b$$(1)+" "+$b$$(2)+" "+$d$$.slice(3).join(" ")+(2<$c$$.length?"("+$c$$.slice(2).join("("):""))}}return $b$$};mxSvgCanvas2D.prototype.addTolerance=function($a$$){this.root.appendChild(this.createTolerance($a$$))};
mxSvgCanvas2D.prototype.updateFill=function(){var $a$$=this.state;(1>$a$$.alpha||1>$a$$.fillAlpha)&&this.node.setAttribute("fill-opacity",$a$$.alpha*$a$$.fillAlpha);var $b$$=!1;if(null!=$a$$.fillColor)if(null!=$a$$.gradientColor&&$a$$.gradientColor!=mxConstants.NONE){$b$$=!0;var $c$$=this.getSvgGradient(String($a$$.fillColor),String($a$$.gradientColor),$a$$.gradientFillAlpha,$a$$.gradientAlpha,$a$$.gradientDirection);if(this.root.ownerDocument==document&&this.useAbsoluteIds){var $d$$=this.getBaseUrl().replace(/([\(\)])/g,
"\\$1");$d$$="url("+$d$$+"#"+$c$$+")"}else $d$$="url(#"+$c$$+")"}else $d$$=String($a$$.fillColor).toLowerCase();$a$$=null==$a$$.fillStyle||"auto"==$a$$.fillStyle||"solid"==$a$$.fillStyle?null:this.getFillPattern($a$$.fillStyle,this.getCurrentStrokeWidth(),$d$$,$a$$.scale);$b$$||null==$a$$?this.node.setAttribute("fill",$d$$):this.root.ownerDocument==document&&this.useAbsoluteIds?($d$$=this.getBaseUrl().replace(/([\(\)])/g,"\\$1"),this.node.setAttribute("fill","url("+$d$$+"#"+$a$$+")")):this.node.setAttribute("fill",
"url(#"+$a$$+")")};mxSvgCanvas2D.prototype.getCurrentStrokeWidth=function(){return Math.max(this.minStrokeWidth,Math.max(.01,this.format(this.state.strokeWidth*this.state.scale)))};
mxSvgCanvas2D.prototype.updateStroke=function(){var $a$$=this.state;this.node.setAttribute("stroke",String($a$$.strokeColor).toLowerCase());(1>$a$$.alpha||1>$a$$.strokeAlpha)&&this.node.setAttribute("stroke-opacity",$a$$.alpha*$a$$.strokeAlpha);var $b$$=this.getCurrentStrokeWidth();1!=$b$$&&this.node.setAttribute("stroke-width",$b$$);"path"==this.node.nodeName&&this.updateStrokeAttributes();$a$$.dashed&&this.node.setAttribute("stroke-dasharray",this.createDashPattern(($a$$.fixDash?1:$a$$.strokeWidth)*
$a$$.scale))};mxSvgCanvas2D.prototype.updateStrokeAttributes=function(){var $a$$=this.state;null!=$a$$.lineJoin&&"miter"!=$a$$.lineJoin&&this.node.setAttribute("stroke-linejoin",$a$$.lineJoin);if(null!=$a$$.lineCap){var $b$$=$a$$.lineCap;"flat"==$b$$&&($b$$="butt");"butt"!=$b$$&&this.node.setAttribute("stroke-linecap",$b$$)}null==$a$$.miterLimit||this.styleEnabled&&10==$a$$.miterLimit||this.node.setAttribute("stroke-miterlimit",$a$$.miterLimit)};
mxSvgCanvas2D.prototype.createDashPattern=function($a$$){var $b$$=[];if("string"===typeof this.state.dashPattern){var $c$$=this.state.dashPattern.split(" ");if(0<$c$$.length)for(var $d$$=0;$d$$<$c$$.length;$d$$++)$b$$[$d$$]=Math.round(Number($c$$[$d$$])*$a$$*100)/100}return $b$$.join(" ")};
mxSvgCanvas2D.prototype.createTolerance=function($a$$){$a$$=$a$$.cloneNode(!0);var $b$$=parseFloat($a$$.getAttribute("stroke-width")||1)+this.strokeTolerance;$a$$.setAttribute("pointer-events","stroke");$a$$.setAttribute("visibility","hidden");$a$$.removeAttribute("stroke-dasharray");$a$$.setAttribute("stroke-width",$b$$);$a$$.setAttribute("fill","none");$a$$.setAttribute("stroke",mxClient.IS_OT?"none":"white");return $a$$};
mxSvgCanvas2D.prototype.createShadow=function($a$$){$a$$=$a$$.cloneNode(!0);var $b$$=this.state;"none"==$a$$.getAttribute("fill")||mxClient.IS_FF&&"transparent"==$a$$.getAttribute("fill")||$a$$.setAttribute("fill",$b$$.shadowColor);"none"!=$a$$.getAttribute("stroke")&&$a$$.setAttribute("stroke",$b$$.shadowColor);$a$$.setAttribute("transform","translate("+this.format($b$$.shadowDx*$b$$.scale)+","+this.format($b$$.shadowDy*$b$$.scale)+")"+($b$$.transform||""));$a$$.setAttribute("opacity",$b$$.shadowAlpha);
return $a$$};mxSvgCanvas2D.prototype.setTitle=function($a$$){this.title=$a$$};
mxSvgCanvas2D.prototype.setLink=function($a$$,$b$$){if(null==$a$$)this.root=this.originalRoot;else{this.originalRoot=this.root;var $c$$=this.createElement("a");null==$c$$.setAttributeNS||this.root.ownerDocument!=document&&null==document.documentMode?$c$$.setAttribute("xlink:href",$a$$):$c$$.setAttributeNS(mxConstants.NS_XLINK,"xlink:href",$a$$);null!=$b$$&&$c$$.setAttribute("target",$b$$);this.root.appendChild($c$$);this.root=$c$$}};
mxSvgCanvas2D.prototype.rotate=function($a$$,$b$$,$c$$,$d$$,$e$$){if(0!=$a$$||$b$$||$c$$){var $f$$=this.state;$d$$+=$f$$.dx;$e$$+=$f$$.dy;$d$$*=$f$$.scale;$e$$*=$f$$.scale;$f$$.transform=$f$$.transform||"";if($b$$&&$c$$)$a$$+=180;else if($b$$!=$c$$){var $g$$=$b$$?$d$$:0,$k$$=$b$$?-1:1,$l$$=$c$$?$e$$:0,$m$$=$c$$?-1:1;$f$$.transform+="translate("+this.format($g$$)+","+this.format($l$$)+")scale("+this.format($k$$)+","+this.format($m$$)+")translate("+this.format(-$g$$)+","+this.format(-$l$$)+")"}if($b$$?
!$c$$:$c$$)$a$$*=-1;0!=$a$$&&($f$$.transform+="rotate("+this.format($a$$)+","+this.format($d$$)+","+this.format($e$$)+")");$f$$.rotation+=$a$$;$f$$.rotationCx=$d$$;$f$$.rotationCy=$e$$}};mxSvgCanvas2D.prototype.begin=function(){mxAbstractCanvas2D.prototype.begin.apply(this,arguments);this.node=this.createElement("path")};
mxSvgCanvas2D.prototype.rect=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.state,$f$$=this.createElement("rect");$f$$.setAttribute("x",this.format(($a$$+$e$$.dx)*$e$$.scale));$f$$.setAttribute("y",this.format(($b$$+$e$$.dy)*$e$$.scale));$f$$.setAttribute("width",this.format($c$$*$e$$.scale));$f$$.setAttribute("height",this.format($d$$*$e$$.scale));this.node=$f$$};
mxSvgCanvas2D.prototype.roundrect=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.rect($a$$,$b$$,$c$$,$d$$);0<$e$$&&this.node.setAttribute("rx",this.format($e$$*this.state.scale));0<$f$$&&this.node.setAttribute("ry",this.format($f$$*this.state.scale))};
mxSvgCanvas2D.prototype.ellipse=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.state,$f$$=this.createElement("ellipse");$f$$.setAttribute("cx",this.format(($a$$+$c$$/2+$e$$.dx)*$e$$.scale));$f$$.setAttribute("cy",this.format(($b$$+$d$$/2+$e$$.dy)*$e$$.scale));$f$$.setAttribute("rx",$c$$/2*$e$$.scale);$f$$.setAttribute("ry",$d$$/2*$e$$.scale);this.node=$f$$};
mxSvgCanvas2D.prototype.image=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){$e$$=this.converter.convert($e$$);$f$$=null!=$f$$?$f$$:!0;$g$$=null!=$g$$?$g$$:!1;$k$$=null!=$k$$?$k$$:!1;var $m$$=this.state;$a$$+=$m$$.dx;$b$$+=$m$$.dy;var $n$$=this.createElement("image");$n$$.setAttribute("x",this.format($a$$*$m$$.scale)+this.imageOffset);$n$$.setAttribute("y",this.format($b$$*$m$$.scale)+this.imageOffset);$n$$.setAttribute("width",this.format($c$$*$m$$.scale));$n$$.setAttribute("height",this.format($d$$*
$m$$.scale));null==$n$$.setAttributeNS?$n$$.setAttribute("xlink:href",$e$$):$n$$.setAttributeNS(mxConstants.NS_XLINK,"xlink:href",$e$$);$f$$||$n$$.setAttribute("preserveAspectRatio","none");(1>$m$$.alpha||1>$m$$.fillAlpha)&&$n$$.setAttribute("opacity",$m$$.alpha*$m$$.fillAlpha);$e$$=this.state.transform||"";if($g$$||$k$$){var $p$$=$f$$=1,$q$$=0,$r$$=0;$g$$&&($f$$=-1,$q$$=-$c$$-2*$a$$);$k$$&&($p$$=-1,$r$$=-$d$$-2*$b$$);$e$$+="scale("+$f$$+","+$p$$+")translate("+$q$$*$m$$.scale+","+$r$$*$m$$.scale+
")"}0<$e$$.length&&$n$$.setAttribute("transform",$e$$);this.pointerEvents||$n$$.setAttribute("pointer-events","none");null!=$l$$&&this.processClipPath($n$$,$l$$,new mxRectangle($a$$,$b$$,$c$$,$d$$));this.root.appendChild($n$$)};
mxSvgCanvas2D.prototype.processClipPath=function($a$$,$b$$,$c$$){try{var $d$$=this.createElement("clipPath");$d$$.setAttribute("id",this.createClipPathId($b$$));$d$$.setAttribute("clipPathUnits","objectBoundingBox");var $e$$=this.appendClipPath($d$$,$b$$,$c$$);if(null!=$e$$){var $f$$=this.state;$a$$.setAttribute("x",$c$$.x*$f$$.scale-$c$$.width*$f$$.scale*$e$$.x/$e$$.width+this.imageOffset);$a$$.setAttribute("y",$c$$.y*$f$$.scale-$c$$.height*$f$$.scale*$e$$.y/$e$$.height+this.imageOffset);$a$$.setAttribute("width",
$c$$.width*$f$$.scale/$e$$.width);$a$$.setAttribute("height",$c$$.height*$f$$.scale/$e$$.height)}this.setClip($a$$,$d$$)}catch($g$$){}};
mxSvgCanvas2D.prototype.convertHtml=function($a$$){if(this.useDomParser){var $b$$=(new DOMParser).parseFromString($a$$,"text/html");null!=$b$$&&($a$$=(new XMLSerializer).serializeToString($b$$.body),"<body"==$a$$.substring(0,5)&&($a$$=$a$$.substring($a$$.indexOf(">",5)+1)),"</body>"==$a$$.substring($a$$.length-7,$a$$.length)&&($a$$=$a$$.substring(0,$a$$.length-7)))}else{if(null!=document.implementation&&null!=document.implementation.createDocument){$b$$=document.implementation.createDocument("http://www.w3.org/1999/xhtml",
"html",null);var $c$$=$b$$.createElement("body");$b$$.documentElement.appendChild($c$$);var $d$$=document.createElement("div");$d$$.innerHTML=$a$$;for($a$$=$d$$.firstChild;null!=$a$$;)$d$$=$a$$.nextSibling,$c$$.appendChild($b$$.adoptNode($a$$)),$a$$=$d$$;return $c$$.innerHTML}$b$$=document.createElement("textarea");$b$$.innerHTML=$a$$.replace(/&amp;/g,"&amp;amp;").replace(/&#60;/g,"&amp;lt;").replace(/&#62;/g,"&amp;gt;").replace(/&lt;/g,"&amp;lt;").replace(/&gt;/g,"&amp;gt;").replace(/</g,"&lt;").replace(/>/g,
"&gt;");$a$$=$b$$.value.replace(/&/g,"&amp;").replace(/&amp;lt;/g,"&lt;").replace(/&amp;gt;/g,"&gt;").replace(/&amp;amp;/g,"&amp;").replace(/<br>/g,"<br />").replace(/<hr>/g,"<hr />").replace(/(<img[^>]+)>/gm,"$1 />")}return $a$$};
mxSvgCanvas2D.prototype.createDiv=function($a$$){mxUtils.isNode($a$$)||($a$$="<div><div>"+this.convertHtml($a$$)+"</div></div>");if(mxClient.IS_IE||mxClient.IS_IE11||!document.createElementNS)return mxUtils.isNode($a$$)&&($a$$="<div><div>"+mxUtils.getXml($a$$)+"</div></div>"),mxUtils.parseXml('<div xmlns="http://www.w3.org/1999/xhtml">'+$a$$+"</div>").documentElement;var $b$$=document.createElementNS("http://www.w3.org/1999/xhtml","div");if(mxUtils.isNode($a$$)){var $c$$=document.createElement("div"),
$d$$=$c$$.cloneNode(!1);this.root.ownerDocument!=document?$c$$.appendChild($a$$.cloneNode(!0)):$c$$.appendChild($a$$);$d$$.appendChild($c$$);$b$$.appendChild($d$$)}else $b$$.innerHTML=$a$$;return $b$$};mxSvgCanvas2D.prototype.updateText=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$){null!=$p$$&&null!=$p$$.firstChild&&null!=$p$$.firstChild.firstChild&&this.updateTextNodes($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$.firstChild)};
mxSvgCanvas2D.prototype.addForeignObject=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$,$r$$,$t$$){var $u$$=this.addTitle(this.createElement("g")),$x$$=this.createElement("foreignObject");this.setCssText($x$$,"overflow: visible; text-align: left;");$x$$.setAttribute("pointer-events","none");$r$$.ownerDocument!=document&&($r$$=mxUtils.importNodeImplementation($x$$.ownerDocument,$r$$,!0));$x$$.appendChild($r$$);$u$$.appendChild($x$$);this.updateTextNodes($a$$,$b$$,$c$$,$d$$,
$f$$,$g$$,$k$$,$m$$,$n$$,$p$$,$q$$,$u$$);this.root.ownerDocument!=document&&($a$$=this.createAlternateContent($x$$,$a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$),null!=$a$$&&($x$$.setAttribute("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility"),$b$$=this.createElement("switch"),$b$$.appendChild($x$$),$b$$.appendChild($a$$),$u$$.appendChild($b$$)));$t$$.appendChild($u$$)};
mxSvgCanvas2D.prototype.updateTextNodes=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$){var $q$$=this.state.scale,$r$$="",$t$$="";null!=$n$$&&"vertical-"==$n$$.substring(0,9)?($r$$="-rl"==$n$$.substring($n$$.length-3),$t$$=$e$$==mxConstants.ALIGN_LEFT?$r$$?"flex-end":"flex-start":$e$$==mxConstants.ALIGN_RIGHT?$r$$?"flex-start":"flex-end":"center",$r$$=$f$$==mxConstants.ALIGN_TOP?"flex-start":$f$$==mxConstants.ALIGN_BOTTOM?"flex-end":"center"):($t$$=$f$$==mxConstants.ALIGN_TOP?
"flex-start":$f$$==mxConstants.ALIGN_BOTTOM?"flex-end":"center",$r$$=$e$$==mxConstants.ALIGN_LEFT?"flex-start":$e$$==mxConstants.ALIGN_RIGHT?"flex-end":"center");mxSvgCanvas2D.createCss($c$$+this.foreignObjectPadding,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$n$$,null!=this.state.fontBackgroundColor?this.state.fontBackgroundColor:null,null!=this.state.fontBorderColor?this.state.fontBorderColor:null,"display: flex; align-items: unsafe "+$t$$+"; justify-content: unsafe "+$r$$+"; "+(null!=$n$$&&"vertical-"==$n$$.substring(0,
9)?"writing-mode: "+$n$$+";":""),this.getTextCss(),$q$$,mxUtils.bind(this,function($u$$,$x$$,$y$$,$C$$,$A$$){$a$$+=this.state.dx;$b$$+=this.state.dy;var $B$$=$p$$.firstChild;"title"==$B$$.nodeName&&($B$$=$B$$.nextSibling);var $z$$=$B$$.firstChild,$v$$=$z$$.firstChild,$D$$=(this.rotateHtml?this.state.rotation:0)+(null!=$m$$?$m$$:0),$F$$=(0!=this.foOffset?"translate("+this.foOffset+" "+this.foOffset+")":"")+(1!=$q$$?"scale("+$q$$+")":"");this.setCssText($v$$.firstChild,$A$$);this.setCssText($v$$,$C$$);
$v$$.setAttribute("data-drawio-colors","color: "+this.state.fontColor+"; "+(null==this.state.fontBackgroundColor?"":"background-color: "+this.state.fontBackgroundColor+"; ")+(null==this.state.fontBorderColor?"":"border-color: "+this.state.fontBorderColor+"; "));$B$$.setAttribute("width",Math.ceil(1/Math.min(1,$q$$)*100)+"%");$B$$.setAttribute("height",Math.ceil(1/Math.min(1,$q$$)*100)+"%");$x$$=Math.round($b$$+$x$$);0>$x$$?($B$$.setAttribute("y",$x$$),$y$$+="padding-top: 0; "):($B$$.removeAttribute("y"),
$y$$+="padding-top: "+$x$$+"px; ");this.setCssText($z$$,$y$$+"margin-left: "+Math.round($a$$+$u$$)+"px;");$F$$+=0!=$D$$?"rotate("+$D$$+" "+$a$$+" "+$b$$+")":"";""!=$F$$?$p$$.setAttribute("transform",$F$$):$p$$.removeAttribute("transform");1!=this.state.alpha?$p$$.setAttribute("opacity",this.state.alpha):$p$$.removeAttribute("opacity")}))};
mxSvgCanvas2D.createCss=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$,$r$$){$k$$=null!=$k$$&&"vertical-"==$k$$.substring(0,9);$q$$="box-sizing: border-box; font-size: 0; ";$q$$=$k$$?$q$$+("text-align: "+($d$$==mxConstants.ALIGN_TOP?"left":$d$$==mxConstants.ALIGN_BOTTOM?"right":"center")+"; "):$q$$+("text-align: "+($c$$==mxConstants.ALIGN_LEFT?"left":$c$$==mxConstants.ALIGN_RIGHT?"right":"center")+"; ");var $t$$=mxUtils.getAlignmentAsPoint($c$$,$d$$);$c$$="overflow: hidden; ";
var $u$$="width: 1px; ",$x$$="height: 1px; ",$y$$=$t$$.x*$a$$;$t$$=$t$$.y*$b$$;$g$$?($u$$="width: "+Math.round($a$$)+"px; ",$q$$+="max-height: "+Math.round($b$$)+"px; ",$t$$=0):"fill"==$f$$?($u$$="width: "+Math.round($a$$)+"px; ",$x$$="height: "+Math.round($b$$)+"px; ",$p$$+="width: 100%; height: 100%; ",$q$$+="width: "+Math.round($a$$-2)+"px; "+$x$$):"width"==$f$$?($u$$="width: "+Math.round($a$$-2)+"px; ",$p$$+="width: 100%; ",$q$$+=$u$$,$t$$=0,0<$b$$&&($q$$+="max-height: "+Math.round($b$$)+"px; ")):
"block"==$f$$?($u$$="width: "+Math.round($a$$-2)+"px; ",$p$$+="width: 100%; ",$c$$="",$t$$=0,$q$$+=$u$$,"middle"==$d$$&&($q$$+="max-height: "+Math.round($b$$)+"px; ")):($c$$="",$k$$?$y$$=0:$t$$=0);$d$$="";null!=$l$$&&($d$$+="background-color: "+$l$$+"; ");null!=$m$$&&($d$$+="border: 1px solid "+$m$$+"; ");""==$c$$||$g$$?$p$$+=$d$$:$q$$+=$d$$;$e$$&&($k$$&&0<$b$$||!$k$$&&0<$a$$)?($p$$+="white-space: normal; word-wrap: "+mxConstants.WORD_WRAP+"; ",$k$$?$x$$="height: "+Math.round($b$$)+"px; ":$u$$="width: "+
Math.round($a$$)+"px; ",""!=$c$$&&"fill"!=$f$$&&($k$$?$y$$=0:$t$$=0)):($p$$+="white-space: nowrap; ",""==$c$$&&"block"!=$f$$&&($y$$=0));$r$$($y$$,$t$$,$n$$+$u$$+$x$$,$q$$+$c$$,$p$$,$c$$)};
mxSvgCanvas2D.prototype.getTextCss=function(){var $a$$=this.state,$b$$="display: inline-block; font-size: "+$a$$.fontSize+"px; font-family: "+$a$$.fontFamily+"; color: "+$a$$.fontColor+"; line-height: "+(mxConstants.ABSOLUTE_LINE_HEIGHT?$a$$.fontSize*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT*this.lineHeightCorrection)+"; pointer-events: "+(this.pointerEvents?this.pointerEventsValue:"none")+"; ";($a$$.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&($b$$+="font-weight: bold; ");
($a$$.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&($b$$+="font-style: italic; ");var $c$$=[];($a$$.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&$c$$.push("underline");($a$$.fontStyle&mxConstants.FONT_STRIKETHROUGH)==mxConstants.FONT_STRIKETHROUGH&&$c$$.push("line-through");0<$c$$.length&&($b$$+="text-decoration: "+$c$$.join(" ")+"; ");return $b$$};
mxSvgCanvas2D.prototype.text=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){if(this.textEnabled&&null!=$e$$)if($p$$=null!=$p$$?$p$$:0,this.foEnabled&&"html"==$l$$){var $r$$=this.createDiv($e$$);null!=$r$$&&(null!=$q$$&&"vertical-"!=$q$$.substring(0,9)&&$r$$.setAttribute("dir",$q$$),this.addForeignObject($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$,$r$$,this.root))}else this.plainText($a$$+this.state.dx,$b$$+this.state.dy,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,
$m$$,$n$$,$p$$,$q$$)};
mxSvgCanvas2D.prototype.createClip=function($a$$,$b$$,$c$$,$d$$){$a$$=Math.round($a$$);$b$$=Math.round($b$$);$c$$=Math.round($c$$);$d$$=Math.round($d$$);for(var $e$$="mx-clip-"+$a$$+"-"+$b$$+"-"+$c$$+"-"+$d$$,$f$$=0,$g$$=$e$$+"-"+$f$$;null!=document.getElementById($g$$);)$g$$=$e$$+"-"+ ++$f$$;$e$$=this.createElement("clipPath");$e$$.setAttribute("id",$g$$);$g$$=this.createElement("rect");$g$$.setAttribute("x",$a$$);$g$$.setAttribute("y",$b$$);$g$$.setAttribute("width",$c$$);$g$$.setAttribute("height",
$d$$);$e$$.appendChild($g$$);return $e$$};mxSvgCanvas2D.prototype.createClipPathId=function($a$$){$a$$="mx-clippath-"+$a$$.replace(/[^a-zA-Z0-9]+/g,"-");for(var $b$$="-"==$a$$.charAt($a$$.length-1)?"":"-",$c$$=0,$d$$=$a$$+$b$$+$c$$;null!=document.getElementById($d$$);)$d$$=$a$$+$b$$+ ++$c$$;return $d$$};
mxSvgCanvas2D.prototype.appendClipPath=function($a$$,$b$$,$c$$){var $d$$=$b$$.match(/\(([^)]+)\)/),$e$$=null;"polygon"==$b$$.substring(0,7)?$e$$=this.appendPolygonClip($d$$[1],$a$$,$c$$):"circle"==$b$$.substring(0,6)?$e$$=this.appendCircleClip($d$$[1],$a$$,$c$$):"ellipse"==$b$$.substring(0,7)?$e$$=this.appendEllipseClip($d$$[1],$a$$,$c$$):"inset"==$b$$.substring(0,5)&&($e$$=this.appendInsetClip($d$$[1],$a$$,$c$$));return $e$$};
mxSvgCanvas2D.prototype.appendPolygonClip=function($a$$,$b$$,$c$$){$c$$=this.createElement("polygon");$a$$=$a$$.split(/[ ,]+/);for(var $d$$=null,$e$$=null,$f$$=null,$g$$=null,$k$$=[],$l$$=0;$l$$<$a$$.length;$l$$++){var $m$$=this.parseClipValue($a$$,$l$$);if(0==$l$$%2){if(null==$d$$||$d$$>$m$$)$d$$=$m$$;if(null==$f$$||$f$$<$m$$)$f$$=$m$$}else{if(null==$e$$||$e$$>$m$$)$e$$=$m$$;if(null==$g$$||$g$$<$m$$)$g$$=$m$$}$k$$.push($m$$)}$c$$.setAttribute("points",$k$$.join(","));$b$$.appendChild($c$$);return new mxRectangle($d$$,
$e$$,$f$$-$d$$,$g$$-$e$$)};mxSvgCanvas2D.prototype.appendCircleClip=function($a$$,$b$$,$c$$){$c$$=this.createElement("circle");var $d$$=$a$$.split(/[ ,]+/);$a$$=this.parseClipValue($d$$,0);var $e$$=this.parseClipValue($d$$,2);$d$$=this.parseClipValue($d$$,3);$c$$.setAttribute("r",$a$$);$c$$.setAttribute("cx",$e$$);$c$$.setAttribute("cy",$d$$);$b$$.appendChild($c$$);return new mxRectangle($e$$-$a$$,$d$$-$a$$,2*$a$$,2*$a$$)};
mxSvgCanvas2D.prototype.appendEllipseClip=function($a$$,$b$$,$c$$){$c$$=this.createElement("ellipse");var $d$$=$a$$.split(/[ ,]+/);$a$$=this.parseClipValue($d$$,0);var $e$$=this.parseClipValue($d$$,1),$f$$=this.parseClipValue($d$$,3);$d$$=this.parseClipValue($d$$,4);$c$$.setAttribute("rx",$a$$);$c$$.setAttribute("ry",$e$$);$c$$.setAttribute("cx",$f$$);$c$$.setAttribute("cy",$d$$);$b$$.appendChild($c$$);return new mxRectangle($f$$-$a$$,$d$$-$e$$,2*$a$$,2*$e$$)};
mxSvgCanvas2D.prototype.appendInsetClip=function($a$$,$b$$,$c$$){$c$$=this.createElement("rect");var $d$$=$a$$.split(/[ ,]+/);$a$$=this.parseClipValue($d$$,0);var $e$$=this.parseClipValue($d$$,1),$f$$=this.parseClipValue($d$$,2),$g$$=this.parseClipValue($d$$,3);$e$$=1-$e$$-$g$$;$f$$=1-$a$$-$f$$;$c$$.setAttribute("x",$g$$);$c$$.setAttribute("y",$a$$);$c$$.setAttribute("width",$e$$);$c$$.setAttribute("height",$f$$);4<$d$$.length&&"round"==$d$$[4]&&($d$$=this.parseClipValue($d$$,5),$c$$.setAttribute("rx",
$d$$),$c$$.setAttribute("ry",$d$$));$b$$.appendChild($c$$);return new mxRectangle($g$$,$a$$,$e$$,$f$$)};mxSvgCanvas2D.prototype.parseClipValue=function($a$$,$b$$){$b$$=$a$$[Math.min($b$$,$a$$.length-1)];$a$$=1;"center"==$b$$?$a$$=.5:"top"==$b$$||"left"==$b$$?$a$$=0:($b$$=parseFloat($b$$),isNaN($b$$)||($a$$=Math.max(0,Math.min(1,$b$$/100))));return $a$$};
mxSvgCanvas2D.prototype.setClip=function($a$$,$b$$){null!=this.defs?this.defs.appendChild($b$$):this.root.appendChild($b$$);if(mxClient.IS_CHROMEAPP||mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_EDGE||this.root.ownerDocument!=document)$a$$.setAttribute("clip-path","url(#"+$b$$.getAttribute("id")+")");else{var $c$$=this.getBaseUrl().replace(/([\(\)])/g,"\\$1");$a$$.setAttribute("clip-path","url("+$c$$+"#"+$b$$.getAttribute("id")+")")}};
mxSvgCanvas2D.prototype.plainText=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$){$n$$=null!=$n$$?$n$$:0;$k$$=this.state;var $q$$=$k$$.fontSize,$r$$=$k$$.transform||"",$t$$=this.addTitle(this.createElement("g"));this.updateFont($t$$);this.pointerEvents||null!=this.originalRoot||$t$$.setAttribute("pointer-events","none");0!=$n$$&&($r$$+="rotate("+$n$$+","+this.format($a$$*$k$$.scale)+","+this.format($b$$*$k$$.scale)+")");null!=$p$$&&"vertical-"!=$p$$.substring(0,9)&&$t$$.setAttribute("direction",
$p$$);$m$$&&0<$c$$&&0<$d$$&&($p$$=$a$$,$n$$=$b$$,$f$$==mxConstants.ALIGN_CENTER?$p$$-=$c$$/2:$f$$==mxConstants.ALIGN_RIGHT&&($p$$-=$c$$),"fill"!=$l$$&&($g$$==mxConstants.ALIGN_MIDDLE?$n$$-=$d$$/2:$g$$==mxConstants.ALIGN_BOTTOM&&($n$$-=$d$$)),this.setClip($t$$,this.createClip($p$$*$k$$.scale-2,$n$$*$k$$.scale-2,$c$$*$k$$.scale+4,$d$$*$k$$.scale+4)));$n$$=$f$$==mxConstants.ALIGN_RIGHT?"end":$f$$==mxConstants.ALIGN_CENTER?"middle":"start";"start"!=$n$$&&$t$$.setAttribute("text-anchor",$n$$);this.styleEnabled&&
$q$$==mxConstants.DEFAULT_FONTSIZE||$t$$.setAttribute("font-size",$q$$*$k$$.scale+"px");0<$r$$.length&&$t$$.setAttribute("transform",$r$$);1>$k$$.alpha&&$t$$.setAttribute("opacity",$k$$.alpha);$r$$=$e$$.split("\n");$p$$=Math.round($q$$*mxConstants.LINE_HEIGHT);var $u$$=$q$$+($r$$.length-1)*$p$$;$n$$=$b$$+$q$$-1;$g$$==mxConstants.ALIGN_MIDDLE?"fill"==$l$$?$n$$-=$d$$/2:($m$$=(this.matchHtmlAlignment&&$m$$&&0<$d$$?Math.min($u$$,$d$$):$u$$)/2,$n$$-=$m$$):$g$$==mxConstants.ALIGN_BOTTOM&&("fill"==$l$$?
$n$$-=$d$$:($m$$=this.matchHtmlAlignment&&$m$$&&0<$d$$?Math.min($u$$,$d$$):$u$$,$n$$-=$m$$+1));for($m$$=0;$m$$<$r$$.length;$m$$++)0<$r$$[$m$$].length&&0<mxUtils.trim($r$$[$m$$]).length&&($q$$=this.createElement("text"),$q$$.setAttribute("x",this.format($a$$*$k$$.scale)+this.textOffset),$q$$.setAttribute("y",this.format($n$$*$k$$.scale)+this.textOffset),mxUtils.write($q$$,$r$$[$m$$]),$t$$.appendChild($q$$)),$n$$+=$p$$;this.root.appendChild($t$$);this.addTextBackground($t$$,$e$$,$a$$,$b$$,$c$$,"fill"==
$l$$?$d$$:$u$$,$f$$,$g$$,$l$$)};
mxSvgCanvas2D.prototype.updateFont=function($a$$){var $b$$=this.state;$a$$.setAttribute("fill",$b$$.fontColor);this.styleEnabled&&$b$$.fontFamily==mxConstants.DEFAULT_FONTFAMILY||$a$$.setAttribute("font-family",$b$$.fontFamily);($b$$.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&$a$$.setAttribute("font-weight","bold");($b$$.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&$a$$.setAttribute("font-style","italic");var $c$$=[];($b$$.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&
$c$$.push("underline");($b$$.fontStyle&mxConstants.FONT_STRIKETHROUGH)==mxConstants.FONT_STRIKETHROUGH&&$c$$.push("line-through");0<$c$$.length&&$a$$.setAttribute("text-decoration",$c$$.join(" "))};
mxSvgCanvas2D.prototype.addTextBackground=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){var $m$$=this.state;if(null!=$m$$.fontBackgroundColor||null!=$m$$.fontBorderColor){var $n$$=null;if("fill"==$l$$||"width"==$l$$)$g$$==mxConstants.ALIGN_CENTER?$c$$-=$e$$/2:$g$$==mxConstants.ALIGN_RIGHT&&($c$$-=$e$$),$k$$==mxConstants.ALIGN_MIDDLE?$d$$-=$f$$/2:$k$$==mxConstants.ALIGN_BOTTOM&&($d$$-=$f$$),$n$$=new mxRectangle(($c$$+1)*$m$$.scale,$d$$*$m$$.scale,($e$$-2)*$m$$.scale,($f$$+2)*$m$$.scale);else if(null!=
$a$$.getBBox&&this.root.ownerDocument==document)try{$n$$=$a$$.getBBox();var $p$$=mxClient.IS_IE&&mxClient.IS_SVG;$n$$=new mxRectangle($n$$.x,$n$$.y+($p$$?0:1),$n$$.width,$n$$.height+($p$$?1:0))}catch($q$$){}if(null==$n$$||0==$n$$.width||0==$n$$.height)$n$$=document.createElement("div"),$n$$.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?$m$$.fontSize*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT,$n$$.style.fontSize=$m$$.fontSize+"px",$n$$.style.fontFamily=$m$$.fontFamily,$n$$.style.whiteSpace=
"nowrap",$n$$.style.position="absolute",$n$$.style.visibility="hidden",$n$$.style.display="inline-block",$n$$.style.zoom="1",($m$$.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&($n$$.style.fontWeight="bold"),($m$$.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&($n$$.style.fontStyle="italic"),$b$$=mxUtils.htmlEntities($b$$,!1),$n$$.innerHTML=$b$$.replace(/\n/g,"<br/>"),document.body.appendChild($n$$),$e$$=$n$$.offsetWidth,$f$$=$n$$.offsetHeight,$n$$.parentNode.removeChild($n$$),
$g$$==mxConstants.ALIGN_CENTER?$c$$-=$e$$/2:$g$$==mxConstants.ALIGN_RIGHT&&($c$$-=$e$$),$k$$==mxConstants.ALIGN_MIDDLE?$d$$-=$f$$/2:$k$$==mxConstants.ALIGN_BOTTOM&&($d$$-=$f$$),$n$$=new mxRectangle(($c$$+1)*$m$$.scale,($d$$+2)*$m$$.scale,$e$$*$m$$.scale,($f$$+1)*$m$$.scale);null!=$n$$&&($b$$=this.createElement("rect"),$b$$.setAttribute("fill",$m$$.fontBackgroundColor||"none"),$b$$.setAttribute("stroke",$m$$.fontBorderColor||"none"),$b$$.setAttribute("x",Math.floor($n$$.x-1)),$b$$.setAttribute("y",
Math.floor($n$$.y-1)),$b$$.setAttribute("width",Math.ceil($n$$.width+2)),$b$$.setAttribute("height",Math.ceil($n$$.height)),$m$$=null!=$m$$.fontBorderColor?Math.max(1,this.format($m$$.scale)):0,$b$$.setAttribute("stroke-width",$m$$),this.root.ownerDocument==document&&1==mxUtils.mod($m$$,2)&&$b$$.setAttribute("transform","translate(0.5, 0.5)"),$a$$.insertBefore($b$$,$a$$.firstChild))}};mxSvgCanvas2D.prototype.stroke=function(){this.addNode(!1,!0)};
mxSvgCanvas2D.prototype.fill=function(){this.addNode(!0,!1)};mxSvgCanvas2D.prototype.fillAndStroke=function(){this.addNode(!0,!0)};function mxGuide($a$$,$b$$){this.graph=$a$$;this.setStates($b$$)}mxGuide.prototype.graph=null;mxGuide.prototype.states=null;mxGuide.prototype.horizontal=!0;mxGuide.prototype.vertical=!0;mxGuide.prototype.guideX=null;mxGuide.prototype.guideY=null;mxGuide.prototype.rounded=!1;mxGuide.prototype.tolerance=2;mxGuide.prototype.setStates=function($a$$){this.states=$a$$};
mxGuide.prototype.isEnabledForEvent=function($a$$){return!0};mxGuide.prototype.getGuideTolerance=function($a$$){return $a$$&&this.graph.gridEnabled?this.graph.gridSize/2:this.tolerance};mxGuide.prototype.createGuideShape=function($a$$){$a$$=new mxPolyline([],mxConstants.GUIDE_COLOR,mxConstants.GUIDE_STROKEWIDTH);$a$$.isDashed=!0;return $a$$};mxGuide.prototype.isStateIgnored=function($a$$){return!1};
mxGuide.prototype.move=function($a$$,$b$$,$c$$,$d$$){if(null!=this.states&&(this.horizontal||this.vertical)&&null!=$a$$&&null!=$b$$){$d$$=function($z$$,$v$$,$D$$){var $F$$=!1;$D$$&&Math.abs($z$$-$B$$)<$t$$?($b$$.y=$z$$-$a$$.getCenterY(),$t$$=Math.abs($z$$-$B$$),$F$$=!0):$D$$||(Math.abs($z$$-$C$$)<$t$$?($b$$.y=$z$$-$a$$.y,$t$$=Math.abs($z$$-$C$$),$F$$=!0):Math.abs($z$$-$A$$)<$t$$&&($b$$.y=$z$$-$a$$.y-$a$$.height,$t$$=Math.abs($z$$-$A$$),$F$$=!0));$F$$&&($p$$=$v$$,$q$$=$z$$,null==this.guideY&&(this.guideY=
this.createGuideShape(!1),this.guideY.dialect=mxConstants.DIALECT_SVG,this.guideY.pointerEvents=!1,this.guideY.init(this.graph.getView().getOverlayPane())));$n$$=$n$$||$F$$};var $e$$=function($z$$,$v$$,$D$$){var $F$$=!1;$D$$&&Math.abs($z$$-$y$$)<$r$$?($b$$.x=$z$$-$a$$.getCenterX(),$r$$=Math.abs($z$$-$y$$),$F$$=!0):$D$$||(Math.abs($z$$-$u$$)<$r$$?($b$$.x=$z$$-$a$$.x,$r$$=Math.abs($z$$-$u$$),$F$$=!0):Math.abs($z$$-$x$$)<$r$$&&($b$$.x=$z$$-$a$$.x-$a$$.width,$r$$=Math.abs($z$$-$x$$),$F$$=!0));$F$$&&($l$$=
$v$$,$m$$=$z$$,null==this.guideX&&(this.guideX=this.createGuideShape(!0),this.guideX.dialect=mxConstants.DIALECT_SVG,this.guideX.pointerEvents=!1,this.guideX.init(this.graph.getView().getOverlayPane())));$k$$=$k$$||$F$$},$f$$=this.graph.getView().scale;$f$$*=this.getGuideTolerance($c$$);var $g$$=$a$$.clone();$g$$.x+=$b$$.x;$g$$.y+=$b$$.y;var $k$$=!1,$l$$=null,$m$$=null,$n$$=!1,$p$$=null,$q$$=null,$r$$=$f$$,$t$$=$f$$,$u$$=$g$$.x,$x$$=$g$$.x+$g$$.width,$y$$=$g$$.getCenterX(),$C$$=$g$$.y,$A$$=$g$$.y+
$g$$.height,$B$$=$g$$.getCenterY();for($f$$=0;$f$$<this.states.length;$f$$++)$g$$=this.states[$f$$],null==$g$$||this.isStateIgnored($g$$)||(this.horizontal&&($e$$.call(this,$g$$.getCenterX(),$g$$,!0),$e$$.call(this,$g$$.x,$g$$,!1),$e$$.call(this,$g$$.x+$g$$.width,$g$$,!1),null==$g$$.cell&&$e$$.call(this,$g$$.getCenterX(),$g$$,!1)),this.vertical&&($d$$.call(this,$g$$.getCenterY(),$g$$,!0),$d$$.call(this,$g$$.y,$g$$,!1),$d$$.call(this,$g$$.y+$g$$.height,$g$$,!1),null==$g$$.cell&&$d$$.call(this,$g$$.getCenterY(),
$g$$,!1)));this.graph.snapDelta($b$$,$a$$,!$c$$,$k$$,$n$$);$b$$=this.getDelta($a$$,$l$$,$b$$.x,$p$$,$b$$.y);$c$$=this.graph.container;$k$$||null==this.guideX?null!=this.guideX&&($e$$=$d$$=null,null!=$l$$&&null!=$a$$&&($d$$=Math.min($a$$.y+$b$$.y-this.graph.panDy,$l$$.y),$e$$=Math.max($a$$.y+$a$$.height+$b$$.y-this.graph.panDy,$l$$.y+$l$$.height)),this.guideX.points=null!=$d$$&&null!=$e$$?[new mxPoint($m$$,$d$$),new mxPoint($m$$,$e$$)]:[new mxPoint($m$$,-this.graph.panDy),new mxPoint($m$$,$c$$.scrollHeight-
3-this.graph.panDy)],this.guideX.stroke=this.getGuideColor($l$$,!0),this.guideX.node.style.visibility="visible",this.guideX.redraw()):this.guideX.node.style.visibility="hidden";$n$$||null==this.guideY?null!=this.guideY&&($e$$=$d$$=null,null!=$p$$&&null!=$a$$&&($d$$=Math.min($a$$.x+$b$$.x-this.graph.panDx,$p$$.x),$e$$=Math.max($a$$.x+$a$$.width+$b$$.x-this.graph.panDx,$p$$.x+$p$$.width)),this.guideY.points=null!=$d$$&&null!=$e$$?[new mxPoint($d$$,$q$$),new mxPoint($e$$,$q$$)]:[new mxPoint(-this.graph.panDx,
$q$$),new mxPoint($c$$.scrollWidth-3-this.graph.panDx,$q$$)],this.guideY.stroke=this.getGuideColor($p$$,!1),this.guideY.node.style.visibility="visible",this.guideY.redraw()):this.guideY.node.style.visibility="hidden"}return $b$$};
mxGuide.prototype.getDelta=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.graph.view.scale;if(this.rounded||null!=$b$$&&null==$b$$.cell)$c$$=Math.round(($a$$.x+$c$$)/$f$$)*$f$$-$a$$.x;if(this.rounded||null!=$d$$&&null==$d$$.cell)$e$$=Math.round(($a$$.y+$e$$)/$f$$)*$f$$-$a$$.y;return new mxPoint($c$$,$e$$)};mxGuide.prototype.getGuideColor=function($a$$,$b$$){return mxConstants.GUIDE_COLOR};mxGuide.prototype.hide=function(){this.setVisible(!1)};
mxGuide.prototype.setVisible=function($a$$){null!=this.guideX&&(this.guideX.node.style.visibility=$a$$?"visible":"hidden");null!=this.guideY&&(this.guideY.node.style.visibility=$a$$?"visible":"hidden")};mxGuide.prototype.destroy=function(){null!=this.guideX&&(this.guideX.destroy(),this.guideX=null);null!=this.guideY&&(this.guideY.destroy(),this.guideY=null)};function mxShape($a$$){this.stencil=$a$$;this.initStyles()}mxShape.prototype.dialect=null;mxShape.prototype.scale=1;
mxShape.prototype.antiAlias=!0;mxShape.prototype.minSvgStrokeWidth=1;mxShape.prototype.bounds=null;mxShape.prototype.points=null;mxShape.prototype.node=null;mxShape.prototype.state=null;mxShape.prototype.style=null;mxShape.prototype.boundingBox=null;mxShape.prototype.stencil=null;mxShape.prototype.svgStrokeTolerance=8;mxShape.prototype.pointerEvents=!0;mxShape.prototype.svgPointerEvents="all";mxShape.prototype.shapePointerEvents=!1;mxShape.prototype.stencilPointerEvents=!1;
mxShape.prototype.outline=!1;mxShape.prototype.visible=!0;mxShape.prototype.useSvgBoundingBox=!1;mxShape.prototype.init=function($a$$){null==this.node&&(this.node=this.create($a$$),null!=$a$$&&$a$$.appendChild(this.node))};mxShape.prototype.initStyles=function($a$$){this.strokewidth=1;this.rotation=0;this.strokeOpacity=this.fillOpacity=this.opacity=100;this.flipV=this.flipH=!1};mxShape.prototype.isHtmlAllowed=function(){return!1};
mxShape.prototype.getSvgScreenOffset=function(){return 1==mxUtils.mod(Math.max(1,Math.round((this.stencil&&"inherit"!=this.stencil.strokewidth?Number(this.stencil.strokewidth):this.strokewidth)*this.scale)),2)?.5:0};mxShape.prototype.create=function($a$$){return null!=$a$$&&null!=$a$$.ownerSVGElement?this.createSvg($a$$):this.createHtml($a$$)};mxShape.prototype.createSvg=function(){return document.createElementNS(mxConstants.NS_SVG,"g")};
mxShape.prototype.createHtml=function(){var $a$$=document.createElement("div");$a$$.style.position="absolute";return $a$$};mxShape.prototype.reconfigure=function(){this.redraw()};mxShape.prototype.redraw=function(){this.updateBoundsFromPoints();this.visible&&this.checkBounds()?(this.node.style.visibility="visible",this.clear(),"DIV"==this.node.nodeName?this.redrawHtmlShape():this.redrawShape()):(this.node.style.visibility="hidden",this.boundingBox=null)};
mxShape.prototype.clear=function(){if(null!=this.node.ownerSVGElement)for(;null!=this.node.lastChild;)this.node.removeChild(this.node.lastChild);else this.node.style.cssText="position:absolute;"+(null!=this.cursor?"cursor:"+this.cursor+";":""),this.node.innerText=""};
mxShape.prototype.updateBoundsFromPoints=function(){var $a$$=this.points;if(null!=$a$$&&0<$a$$.length&&null!=$a$$[0]){this.bounds=new mxRectangle(Number($a$$[0].x),Number($a$$[0].y),1,1);for(var $b$$=1;$b$$<this.points.length;$b$$++)null!=$a$$[$b$$]&&this.bounds.add(new mxRectangle(Number($a$$[$b$$].x),Number($a$$[$b$$].y),1,1))}};
mxShape.prototype.getLabelBounds=function($a$$){var $b$$=mxUtils.getValue(this.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST),$c$$=$a$$;$b$$!=mxConstants.DIRECTION_SOUTH&&$b$$!=mxConstants.DIRECTION_NORTH&&null!=this.state&&null!=this.state.text&&this.state.text.isPaintBoundsInverted()&&($c$$=$c$$.clone(),$b$$=$c$$.width,$c$$.width=$c$$.height,$c$$.height=$b$$);$c$$=this.getLabelMargins($c$$);if(null!=$c$$){var $d$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,!1),$e$$=
"1"==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPV,!1);null!=this.state&&null!=this.state.text&&this.state.text.isPaintBoundsInverted()&&($b$$=$c$$.x,$c$$.x=$c$$.height,$c$$.height=$c$$.width,$c$$.width=$c$$.y,$c$$.y=$b$$,$b$$=$d$$,$d$$=$e$$,$e$$=$b$$);return mxUtils.getDirectedBounds($a$$,$c$$,this.style,$d$$,$e$$)}return $a$$};mxShape.prototype.getLabelMargins=function($a$$){return null};
mxShape.prototype.checkBounds=function(){return!isNaN(this.scale)&&isFinite(this.scale)&&0<this.scale&&null!=this.bounds&&!isNaN(this.bounds.x)&&!isNaN(this.bounds.y)&&!isNaN(this.bounds.width)&&!isNaN(this.bounds.height)&&0<this.bounds.width&&0<this.bounds.height};
mxShape.prototype.getShadowStyle=function(){var $a$$={dx:mxConstants.SHADOW_OFFSET_X,dy:mxConstants.SHADOW_OFFSET_Y,blur:mxConstants.SHADOW_BLUR,color:mxConstants.SHADOWCOLOR,opacity:100*mxConstants.SHADOW_OPACITY};null!=this.style&&($a$$.dx=mxUtils.getValue(this.style,mxConstants.STYLE_SHADOW_OFFSET_X,$a$$.dx),$a$$.dy=mxUtils.getValue(this.style,mxConstants.STYLE_SHADOW_OFFSET_Y,$a$$.dy),$a$$.blur=mxUtils.getValue(this.style,mxConstants.STYLE_SHADOW_BLUR,$a$$.blur),$a$$.color=mxUtils.getValue(this.style,
mxConstants.STYLE_SHADOWCOLOR,$a$$.color),$a$$.opacity=mxUtils.getValue(this.style,mxConstants.STYLE_SHADOW_OPACITY,$a$$.opacity));return $a$$};mxShape.prototype.createDropShadow=function($a$$,$b$$){return"drop-shadow("+Math.round($a$$.dx*$b$$*100)/100+"px "+Math.round($a$$.dy*$b$$*100)/100+"px "+Math.round($a$$.blur*$b$$*100)/100+"px "+mxUtils.hex2rgba($a$$.color,$a$$.opacity/100)+")"};
mxShape.prototype.updateSvgFilters=function($a$$){this.node.style.filter=this.isShadow&&this.isShadowEnabled()?this.createDropShadow(this.getShadowStyle(),$a$$):""};mxShape.prototype.isShadowEnabled=function(){return!0};mxShape.prototype.redrawShape=function(){var $a$$=this.createCanvas();null!=$a$$&&($a$$.pointerEvents=this.pointerEvents,this.beforePaint($a$$),this.paint($a$$),this.afterPaint($a$$),this.destroyCanvas($a$$))};
mxShape.prototype.createCanvas=function(){var $a$$=null;null!=this.node.ownerSVGElement&&($a$$=this.createSvgCanvas());null!=$a$$&&this.outline&&($a$$.setStrokeWidth(this.strokewidth),$a$$.setStrokeColor(this.stroke),null!=this.isDashed&&$a$$.setDashed(this.isDashed),$a$$.setStrokeWidth=function(){},$a$$.setStrokeColor=function(){},$a$$.setFillColor=function(){},$a$$.setGradient=function(){},$a$$.setDashed=function(){},$a$$.text=function(){});return $a$$};
mxShape.prototype.createSvgCanvas=function(){var $a$$=new mxSvgCanvas2D(this.node,!1);$a$$.strokeTolerance=this.svgStrokeTolerance;$a$$.pointerEventsValue=this.svgPointerEvents;var $b$$=this.getSvgScreenOffset();0!=$b$$?this.node.setAttribute("transform","translate("+$b$$+","+$b$$+")"):this.node.removeAttribute("transform");$a$$.minStrokeWidth=this.minSvgStrokeWidth;this.antiAlias||($a$$.format=function($c$$){return Math.round(parseFloat($c$$))});return $a$$};
mxShape.prototype.redrawHtmlShape=function(){this.updateHtmlBounds(this.node);this.updateHtmlFilters(this.node);this.updateHtmlColors(this.node)};
mxShape.prototype.updateHtmlFilters=function($a$$){var $b$$="";100>this.opacity&&($b$$+="alpha(opacity="+this.opacity+")");this.isShadow&&($b$$+="progid:DXImageTransform.Microsoft.dropShadow (OffX='"+Math.round(mxConstants.SHADOW_OFFSET_X*this.scale)+"', OffY='"+Math.round(mxConstants.SHADOW_OFFSET_Y*this.scale)+"', Color='"+mxConstants.VML_SHADOWCOLOR+"')");if(null!=this.fill&&this.fill!=mxConstants.NONE&&this.gradient&&this.gradient!=mxConstants.NONE){var $c$$=this.fill,$d$$=this.gradient,$e$$=
"0",$f$$={east:0,south:1,west:2,north:3},$g$$=null!=this.direction?$f$$[this.direction]:0;null!=this.gradientDirection&&($g$$=mxUtils.mod($g$$+$f$$[this.gradientDirection]-1,4));1==$g$$?($e$$="1",$f$$=$c$$,$c$$=$d$$,$d$$=$f$$):2==$g$$?($f$$=$c$$,$c$$=$d$$,$d$$=$f$$):3==$g$$&&($e$$="1");$b$$+="progid:DXImageTransform.Microsoft.gradient(startColorStr='"+$c$$+"', endColorStr='"+$d$$+"', gradientType='"+$e$$+"')"}$a$$.style.filter=$b$$};
mxShape.prototype.updateHtmlColors=function($a$$){var $b$$=this.stroke;null!=$b$$&&$b$$!=mxConstants.NONE?($a$$.style.borderColor=$b$$,this.isDashed?$a$$.style.borderStyle="dashed":0<this.strokewidth&&($a$$.style.borderStyle="solid"),$a$$.style.borderWidth=Math.max(1,Math.ceil(this.strokewidth*this.scale))+"px"):$a$$.style.borderWidth="0px";$b$$=this.outline?null:this.fill;null!=$b$$&&$b$$!=mxConstants.NONE?($a$$.style.backgroundColor=$b$$,$a$$.style.backgroundImage="none"):this.pointerEvents?$a$$.style.backgroundColor=
"transparent":this.setTransparentBackgroundImage($a$$)};
mxShape.prototype.updateHtmlBounds=function($a$$){var $b$$=Math.ceil(this.strokewidth*this.scale);$a$$.style.borderWidth=Math.max(1,$b$$)+"px";$a$$.style.overflow="hidden";$a$$.style.left=Math.round(this.bounds.x-$b$$/2)+"px";$a$$.style.top=Math.round(this.bounds.y-$b$$/2)+"px";"CSS1Compat"==document.compatMode&&($b$$=-$b$$);$a$$.style.width=Math.round(Math.max(0,this.bounds.width+$b$$))+"px";$a$$.style.height=Math.round(Math.max(0,this.bounds.height+$b$$))+"px"};
mxShape.prototype.destroyCanvas=function($a$$){if($a$$ instanceof mxSvgCanvas2D){for(var $b$$ in $a$$.gradients){var $c$$=$a$$.gradients[$b$$];null!=$c$$&&($c$$.mxRefCount=($c$$.mxRefCount||0)+1)}for($b$$ in $a$$.fillPatterns)$c$$=$a$$.fillPatterns[$b$$],null!=$c$$&&($c$$.mxRefCount=($c$$.mxRefCount||0)+1);this.releaseSvgGradients(this.oldGradients);this.releaseSvgFillPatterns(this.oldFillPatterns);this.oldGradients=$a$$.gradients;this.oldFillPatterns=$a$$.fillPatterns}};
mxShape.prototype.beforePaint=function($a$$){};mxShape.prototype.afterPaint=function($a$$){};
mxShape.prototype.paint=function($a$$){var $b$$=$a$$.pointerEvents,$c$$=!1;if(null!=$a$$&&this.outline){var $d$$=$a$$.stroke;$a$$.stroke=function(){$c$$=!0;$d$$.apply(this,arguments)};var $e$$=$a$$.fillAndStroke;$a$$.fillAndStroke=function(){$c$$=!0;$e$$.apply(this,arguments)}}var $f$$=this.scale,$g$$=this.bounds.x/$f$$,$k$$=this.bounds.y/$f$$,$l$$=this.bounds.width/$f$$,$m$$=this.bounds.height/$f$$;if(this.isPaintBoundsInverted()){var $n$$=($l$$-$m$$)/2;$g$$+=$n$$;$k$$-=$n$$;$n$$=$l$$;$l$$=$m$$;
$m$$=$n$$}this.updateTransform($a$$,$g$$,$k$$,$l$$,$m$$);this.configureCanvas($a$$,$g$$,$k$$,$l$$,$m$$);this.updateSvgFilters(null!=$a$$?$a$$.state.scale:$f$$);$n$$=null;if(null==this.stencil&&null==this.points&&this.shapePointerEvents||null!=this.stencil&&this.stencilPointerEvents){var $p$$=this.createBoundingBox();this.dialect==mxConstants.DIALECT_SVG?($n$$=this.createTransparentSvgRectangle($p$$.x,$p$$.y,$p$$.width,$p$$.height),this.node.appendChild($n$$)):($f$$=$a$$.createRect("rect",$p$$.x/$f$$,
$p$$.y/$f$$,$p$$.width/$f$$,$p$$.height/$f$$),$f$$.appendChild($a$$.createTransparentFill()),$f$$.stroked="false",$a$$.root.appendChild($f$$))}null!=this.stencil?this.stencil.drawShape($a$$,this,$g$$,$k$$,$l$$,$m$$):($a$$.setStrokeWidth(this.strokewidth),$f$$=this.getWaypoints(),null!=$f$$?1<$f$$.length&&this.paintEdgeShape($a$$,$f$$):this.paintVertexShape($a$$,$g$$,$k$$,$l$$,$m$$));null!=$n$$&&null!=$a$$.state&&null!=$a$$.state.transform&&$n$$.setAttribute("transform",$a$$.state.transform);null!=
$a$$&&this.outline&&!$c$$&&($a$$.rect($g$$,$k$$,$l$$,$m$$),$a$$.stroke());$a$$.pointerEvents=$b$$};mxShape.prototype.getWaypoints=function(){var $a$$=this.points,$b$$=null;if(null!=$a$$&&($b$$=[],0<$a$$.length)){var $c$$=this.scale,$d$$=Math.max($c$$,1),$e$$=$a$$[0];$b$$.push(new mxPoint($e$$.x/$c$$,$e$$.y/$c$$));for(var $f$$=1;$f$$<$a$$.length;$f$$++){var $g$$=$a$$[$f$$];(Math.abs($e$$.x-$g$$.x)>=$d$$||Math.abs($e$$.y-$g$$.y)>=$d$$)&&$b$$.push(new mxPoint($g$$.x/$c$$,$g$$.y/$c$$));$e$$=$g$$}}return $b$$};
mxShape.prototype.configureCanvas=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=null;null!=this.style&&($f$$=this.style.dashPattern);$a$$.setAlpha(this.opacity/100);$a$$.setFillAlpha(this.fillOpacity/100);$a$$.setStrokeAlpha(this.strokeOpacity/100);null!=this.isShadow&&$a$$.setShadow(this.isShadow,this.shadowStyle);null!=this.isDashed&&$a$$.setDashed(this.isDashed,null!=this.style?1==mxUtils.getValue(this.style,mxConstants.STYLE_FIX_DASH,!1):!1);null!=$f$$&&$a$$.setDashPattern($f$$);null!=this.fill&&
this.fill!=mxConstants.NONE&&this.gradient&&this.gradient!=mxConstants.NONE?($b$$=this.getGradientBounds($a$$,$b$$,$c$$,$d$$,$e$$),$a$$.setGradient(this.fill,this.gradient,$b$$.x,$b$$.y,$b$$.width,$b$$.height,this.gradientDirection)):($a$$.setFillColor(this.fill),$a$$.setFillStyle(this.fillStyle));$a$$.setStrokeColor(this.stroke);this.configurePointerEvents($a$$)};
mxShape.prototype.configurePointerEvents=function($a$$){null==this.style||null!=this.fill&&this.fill!=mxConstants.NONE&&0!=this.opacity&&0!=this.fillOpacity||"0"!=mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1")||($a$$.pointerEvents=!1)};mxShape.prototype.getGradientBounds=function($a$$,$b$$,$c$$,$d$$,$e$$){return new mxRectangle($b$$,$c$$,$d$$,$e$$)};
mxShape.prototype.updateTransform=function($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.scale(this.scale);$a$$.rotate(this.getShapeRotation(),this.flipH,this.flipV,$b$$+$d$$/2,$c$$+$e$$/2)};mxShape.prototype.paintVertexShape=function($a$$,$b$$,$c$$,$d$$,$e$$){this.paintBackground($a$$,$b$$,$c$$,$d$$,$e$$);this.outline&&null!=this.style&&0!=mxUtils.getValue(this.style,mxConstants.STYLE_BACKGROUND_OUTLINE,0)||($a$$.setShadow(!1),this.paintForeground($a$$,$b$$,$c$$,$d$$,$e$$))};
mxShape.prototype.paintBackground=function($a$$,$b$$,$c$$,$d$$,$e$$){};mxShape.prototype.paintForeground=function($a$$,$b$$,$c$$,$d$$,$e$$){};mxShape.prototype.paintEdgeShape=function($a$$,$b$$){};
mxShape.prototype.getArcSize=function($a$$,$b$$){if("1"==mxUtils.getValue(this.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0))$a$$=Math.min($a$$/2,Math.min($b$$/2,mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2));else{var $c$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;$a$$=Math.min($a$$*$c$$,$b$$*$c$$)}return $a$$};
mxShape.prototype.paintGlassEffect=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=Math.ceil(this.strokewidth/2);$a$$.setGradient("#ffffff","#ffffff",$b$$,$c$$,$d$$,.6*$e$$,"south",.9,.1);$a$$.begin();$f$$+=2*$g$$;this.isRounded?($a$$.moveTo($b$$-$g$$+$f$$,$c$$-$g$$),$a$$.quadTo($b$$-$g$$,$c$$-$g$$,$b$$-$g$$,$c$$-$g$$+$f$$),$a$$.lineTo($b$$-$g$$,$c$$+.4*$e$$),$a$$.quadTo($b$$+.5*$d$$,$c$$+.7*$e$$,$b$$+$d$$+$g$$,$c$$+.4*$e$$),$a$$.lineTo($b$$+$d$$+$g$$,$c$$-$g$$+$f$$),$a$$.quadTo($b$$+$d$$+$g$$,$c$$-
$g$$,$b$$+$d$$+$g$$-$f$$,$c$$-$g$$)):($a$$.moveTo($b$$-$g$$,$c$$-$g$$),$a$$.lineTo($b$$-$g$$,$c$$+.4*$e$$),$a$$.quadTo($b$$+.5*$d$$,$c$$+.7*$e$$,$b$$+$d$$+$g$$,$c$$+.4*$e$$),$a$$.lineTo($b$$+$d$$+$g$$,$c$$-$g$$));$a$$.close();$a$$.fill()};
mxShape.prototype.addPoints=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){if(null!=$b$$&&0<$b$$.length){$g$$=null!=$g$$?$g$$:!0;var $k$$=$b$$[$b$$.length-1];if($e$$&&$c$$){$b$$=$b$$.slice();var $l$$=$b$$[0];$l$$=new mxPoint($k$$.x+($l$$.x-$k$$.x)/2,$k$$.y+($l$$.y-$k$$.y)/2);$b$$.splice(0,0,$l$$)}var $m$$=$b$$[0];$l$$=1;for($g$$?$a$$.moveTo($m$$.x,$m$$.y):$a$$.lineTo($m$$.x,$m$$.y);$l$$<($e$$?$b$$.length:$b$$.length-1);){$g$$=$b$$[mxUtils.mod($l$$,$b$$.length)];var $n$$=$m$$.x-$g$$.x;$m$$=$m$$.y-$g$$.y;
if($c$$&&(0!=$n$$||0!=$m$$)&&(null==$f$$||0>mxUtils.indexOf($f$$,$l$$-1))){var $p$$=Math.sqrt($n$$*$n$$+$m$$*$m$$);$a$$.lineTo($g$$.x+$n$$*Math.min($d$$,$p$$/2)/$p$$,$g$$.y+$m$$*Math.min($d$$,$p$$/2)/$p$$);for($m$$=$b$$[mxUtils.mod($l$$+1,$b$$.length)];$l$$<$b$$.length-2&&0==Math.round($m$$.x-$g$$.x)&&0==Math.round($m$$.y-$g$$.y);)$m$$=$b$$[mxUtils.mod($l$$+2,$b$$.length)],$l$$++;$n$$=$m$$.x-$g$$.x;$m$$=$m$$.y-$g$$.y;$p$$=Math.max(1,Math.sqrt($n$$*$n$$+$m$$*$m$$));$n$$=$g$$.x+$n$$*Math.min($d$$,$p$$/
2)/$p$$;$m$$=$g$$.y+$m$$*Math.min($d$$,$p$$/2)/$p$$;$a$$.quadTo($g$$.x,$g$$.y,$n$$,$m$$);$g$$=new mxPoint($n$$,$m$$)}else $a$$.lineTo($g$$.x,$g$$.y);$m$$=$g$$;$l$$++}$e$$?$a$$.close():$a$$.lineTo($k$$.x,$k$$.y)}};
mxShape.prototype.resetStyles=function(){this.initStyles();this.spacing=0;delete this.fill;delete this.gradient;delete this.gradientDirection;delete this.stroke;delete this.startSize;delete this.endSize;delete this.startArrow;delete this.endArrow;delete this.direction;delete this.isShadow;delete this.isDashed;delete this.isRounded;delete this.glass};
mxShape.prototype.apply=function($a$$){this.state=$a$$;this.style=$a$$.style;if(null!=this.style){this.fill=mxUtils.getValue(this.style,mxConstants.STYLE_FILLCOLOR,this.fill);this.gradient=mxUtils.getValue(this.style,mxConstants.STYLE_GRADIENTCOLOR,this.gradient);this.gradientDirection=mxUtils.getValue(this.style,mxConstants.STYLE_GRADIENT_DIRECTION,this.gradientDirection);this.opacity=mxUtils.getValue(this.style,mxConstants.STYLE_OPACITY,this.opacity);this.fillOpacity=mxUtils.getValue(this.style,
mxConstants.STYLE_FILL_OPACITY,this.fillOpacity);this.fillStyle=mxUtils.getValue(this.style,mxConstants.STYLE_FILL_STYLE,this.fillStyle);this.strokeOpacity=mxUtils.getValue(this.style,mxConstants.STYLE_STROKE_OPACITY,this.strokeOpacity);this.stroke=mxUtils.getValue(this.style,mxConstants.STYLE_STROKECOLOR,this.stroke);this.strokewidth=mxUtils.getNumber(this.style,mxConstants.STYLE_STROKEWIDTH,this.strokewidth);this.spacing=mxUtils.getValue(this.style,mxConstants.STYLE_SPACING,this.spacing);this.startSize=
mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,this.startSize);this.endSize=mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,this.endSize);this.startArrow=mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,this.startArrow);this.endArrow=mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,this.endArrow);this.rotation=mxUtils.getValue(this.style,mxConstants.STYLE_ROTATION,this.rotation);this.direction=mxUtils.getValue(this.style,mxConstants.STYLE_DIRECTION,this.direction);this.flipH=
1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,0);this.flipV=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPV,0);null!=this.stencil&&(this.flipH=1==mxUtils.getValue(this.style,"stencilFlipH",0)||this.flipH,this.flipV=1==mxUtils.getValue(this.style,"stencilFlipV",0)||this.flipV);if(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH)$a$$=this.flipH,this.flipH=this.flipV,this.flipV=$a$$;this.isShadow=1==mxUtils.getValue(this.style,mxConstants.STYLE_SHADOW,
this.isShadow);this.isDashed=1==mxUtils.getValue(this.style,mxConstants.STYLE_DASHED,this.isDashed);this.isRounded=1==mxUtils.getValue(this.style,mxConstants.STYLE_ROUNDED,this.isRounded);this.glass=1==mxUtils.getValue(this.style,mxConstants.STYLE_GLASS,this.glass);this.fill==mxConstants.NONE&&(this.fill=null);this.gradient==mxConstants.NONE&&(this.gradient=null);this.stroke==mxConstants.NONE&&(this.stroke=null)}};
mxShape.prototype.setCursor=function($a$$){null==$a$$&&($a$$="");this.cursor=$a$$;null!=this.node&&(this.node.style.cursor=$a$$)};mxShape.prototype.getCursor=function(){return this.cursor};mxShape.prototype.isRoundable=function(){return!1};
mxShape.prototype.getSvgBoundingBox=function(){var $a$$=null;if(null!=this.node&&null!=this.node.ownerSVGElement)try{var $b$$=this.node.getBBox();0<$b$$.width&&0<$b$$.height&&($a$$=new mxRectangle($b$$.x,$b$$.y,$b$$.width,$b$$.height),null!=this.stroke&&$a$$.grow(this.strokewidth*this.scale/2))}catch($c$$){}return $a$$};
mxShape.prototype.getShapeBoundingBox=function(){var $a$$=null;if(null!=this.bounds&&($a$$=this.createBoundingBox(),null!=$a$$)){this.augmentBoundingBox($a$$);var $b$$=this.getShapeRotation();0!=$b$$&&($a$$=mxUtils.getBoundingBox($a$$,$b$$))}return $a$$};mxShape.prototype.createBoundingBox=function(){var $a$$=this.bounds.clone();(null!=this.stencil&&(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH)||this.isPaintBoundsInverted())&&$a$$.rotate90();return $a$$};
mxShape.prototype.augmentBoundingBox=function($a$$){if(this.isShadow){var $b$$=this.getShadowStyle();0>$b$$.dx&&($a$$.x+=$b$$.dx,$a$$.width-=$b$$.dx);0>$b$$.dy&&($a$$.y+=$b$$.dy,$a$$.height-=$b$$.dy);$a$$.grow(Math.max($b$$.blur,0)*this.scale*2);$a$$.width+=Math.ceil(Math.max($b$$.dx,0)*this.scale);$a$$.height+=Math.ceil(Math.max($b$$.dy,0)*this.scale)}null!=this.stroke&&$a$$.grow(this.strokewidth*this.scale/2)};
mxShape.prototype.updateBoundingBox=function(){var $a$$=this.useSvgBoundingBox?this.getSvgBoundingBox():null;null==$a$$&&($a$$=this.getShapeBoundingBox());this.boundingBox=$a$$};mxShape.prototype.isPaintBoundsInverted=function(){return null==this.stencil&&(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH)};mxShape.prototype.getRotation=function(){return null!=this.rotation?this.rotation:0};
mxShape.prototype.getTextRotation=function(){var $a$$=this.getRotation();1!=mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,1)&&($a$$+=mxText.prototype.verticalTextRotation);return $a$$};mxShape.prototype.getShapeRotation=function(){var $a$$=this.getRotation();null!=this.direction&&(this.direction==mxConstants.DIRECTION_NORTH?$a$$+=270:this.direction==mxConstants.DIRECTION_WEST?$a$$+=180:this.direction==mxConstants.DIRECTION_SOUTH&&($a$$+=90));return $a$$};
mxShape.prototype.createTransparentSvgRectangle=function($a$$,$b$$,$c$$,$d$$){var $e$$=document.createElementNS(mxConstants.NS_SVG,"rect");$e$$.setAttribute("x",$a$$);$e$$.setAttribute("y",$b$$);$e$$.setAttribute("width",$c$$);$e$$.setAttribute("height",$d$$);$e$$.setAttribute("fill","none");$e$$.setAttribute("stroke","none");$e$$.setAttribute("pointer-events","all");return $e$$};
mxShape.prototype.setTransparentBackgroundImage=function($a$$){$a$$.style.backgroundImage="url('"+mxClient.imageBasePath+"/transparent.gif')"};mxShape.prototype.intersectsRectangle=function($a$$,$b$$){return null!=$a$$&&($b$$||null!=this.node&&"none"!=this.node.style.display&&"hidden"!=this.node.style.visibility)&&mxUtils.intersects(this.bounds,$a$$,!0)};
mxShape.prototype.releaseSvgGradients=function($a$$){if(null!=$a$$)for(var $b$$ in $a$$){var $c$$=$a$$[$b$$];null!=$c$$&&($c$$.mxRefCount=($c$$.mxRefCount||0)-1,0==$c$$.mxRefCount&&null!=$c$$.parentNode&&$c$$.parentNode.removeChild($c$$))}};mxShape.prototype.releaseSvgFillPatterns=function($a$$){if(null!=$a$$)for(var $b$$ in $a$$){var $c$$=$a$$[$b$$];null!=$c$$&&($c$$.mxRefCount=($c$$.mxRefCount||0)-1,0==$c$$.mxRefCount&&null!=$c$$.parentNode&&$c$$.parentNode.removeChild($c$$))}};
mxShape.prototype.destroy=function(){null!=this.node&&(mxEvent.release(this.node),null!=this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node=null);this.releaseSvgGradients(this.oldGradients);this.releaseSvgFillPatterns(this.oldFillPatterns);this.oldFillPatterns=this.oldGradients=null};function mxStencil($a$$){this.desc=$a$$;this.parseDescription();this.parseConstraints()}mxUtils.extend(mxStencil,mxShape);mxStencil.defaultLocalized=!1;mxStencil.allowEval=!1;
mxStencil.prototype.desc=null;mxStencil.prototype.constraints=null;mxStencil.prototype.aspect=null;mxStencil.prototype.w0=null;mxStencil.prototype.h0=null;mxStencil.prototype.bgNode=null;mxStencil.prototype.fgNode=null;mxStencil.prototype.strokewidth=null;
mxStencil.prototype.parseDescription=function(){this.fgNode=this.desc.getElementsByTagName("foreground")[0];this.bgNode=this.desc.getElementsByTagName("background")[0];this.w0=Number(this.desc.getAttribute("w")||100);this.h0=Number(this.desc.getAttribute("h")||100);var $a$$=this.desc.getAttribute("aspect");this.aspect=null!=$a$$?$a$$:"variable";$a$$=this.desc.getAttribute("strokewidth");this.strokewidth=null!=$a$$?$a$$:"1"};
mxStencil.prototype.parseConstraints=function(){var $a$$=this.desc.getElementsByTagName("connections")[0];if(null!=$a$$&&($a$$=mxUtils.getChildNodes($a$$),null!=$a$$&&0<$a$$.length)){this.constraints=[];for(var $b$$=0;$b$$<$a$$.length;$b$$++)this.constraints.push(this.parseConstraint($a$$[$b$$]))}};
mxStencil.prototype.parseConstraint=function($a$$){var $b$$=Number($a$$.getAttribute("x")),$c$$=Number($a$$.getAttribute("y")),$d$$="1"==$a$$.getAttribute("perimeter");$a$$=$a$$.getAttribute("name");return new mxConnectionConstraint(new mxPoint($b$$,$c$$),$d$$,$a$$)};mxStencil.prototype.evaluateTextAttribute=function($a$$,$b$$,$c$$){$b$$=this.evaluateAttribute($a$$,$b$$,$c$$);$a$$=$a$$.getAttribute("localized");if(mxStencil.defaultLocalized&&null==$a$$||"1"==$a$$)$b$$=mxResources.get($b$$);return $b$$};
mxStencil.prototype.evaluateAttribute=function($a$$,$b$$,$c$$){$b$$=$a$$.getAttribute($b$$);null==$b$$&&($a$$=mxUtils.getTextContent($a$$),null!=$a$$&&mxStencil.allowEval&&($a$$=mxUtils.eval($a$$),"function"==typeof $a$$&&($b$$=$a$$($c$$))));return $b$$};
mxStencil.prototype.drawShape=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=$a$$.states.slice(),$k$$=mxUtils.getValue($b$$.style,mxConstants.STYLE_DIRECTION,null);$k$$=this.computeAspect($b$$.style,$c$$,$d$$,$e$$,$f$$,$k$$);var $l$$=Math.min($k$$.width,$k$$.height);$l$$="inherit"==this.strokewidth?Number(mxUtils.getNumber($b$$.style,mxConstants.STYLE_STROKEWIDTH,1)):Number(this.strokewidth)*$l$$;$a$$.setStrokeWidth($l$$);null!=$b$$.style&&"1"==mxUtils.getValue($b$$.style,mxConstants.STYLE_POINTER_EVENTS,
"0")&&($a$$.setStrokeColor(mxConstants.NONE),$a$$.rect($c$$,$d$$,$e$$,$f$$),$a$$.stroke(),$a$$.setStrokeColor($b$$.stroke));this.drawChildren($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,this.bgNode,$k$$,!1,!0);this.drawChildren($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,this.fgNode,$k$$,!0,!$b$$.outline||null==$b$$.style||0==mxUtils.getValue($b$$.style,mxConstants.STYLE_BACKGROUND_OUTLINE,0));$a$$.states.length!=$g$$.length&&($a$$.states=$g$$)};
mxStencil.prototype.drawChildren=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){if(null!=$g$$&&0<$e$$&&0<$f$$)for($c$$=$g$$.firstChild;null!=$c$$;)$c$$.nodeType==mxConstants.NODETYPE_ELEMENT&&this.drawNode($a$$,$b$$,$c$$,$k$$,$l$$,$m$$),$c$$=$c$$.nextSibling};
mxStencil.prototype.computeAspect=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$a$$=$b$$;$b$$=$d$$/this.w0;var $g$$=$e$$/this.h0;if($f$$=$f$$==mxConstants.DIRECTION_NORTH||$f$$==mxConstants.DIRECTION_SOUTH){$g$$=$d$$/this.h0;$b$$=$e$$/this.w0;var $k$$=($d$$-$e$$)/2;$a$$+=$k$$;$c$$-=$k$$}"fixed"==this.aspect&&($b$$=$g$$=Math.min($b$$,$g$$),$f$$?($a$$+=($e$$-this.w0*$b$$)/2,$c$$+=($d$$-this.h0*$g$$)/2):($a$$+=($d$$-this.w0*$b$$)/2,$c$$+=($e$$-this.h0*$g$$)/2));return new mxRectangle($a$$,$c$$,$b$$,$g$$)};
mxStencil.prototype.parseColor=function($a$$,$b$$,$c$$,$d$$){"stroke"==$d$$?$d$$=$b$$.stroke:"fill"==$d$$&&($d$$=$b$$.fill);return $d$$};
mxStencil.prototype.drawNode=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=$c$$.nodeName,$k$$=$d$$.x,$l$$=$d$$.y,$m$$=$d$$.width,$n$$=$d$$.height,$p$$=Math.min($m$$,$n$$);if("save"==$g$$)$a$$.save();else if("restore"==$g$$)$a$$.restore();else if($f$$){if("path"==$g$$){$a$$.begin();$p$$=!0;if("1"==$c$$.getAttribute("rounded")){$p$$=!1;for(var $q$$=Number($c$$.getAttribute("arcSize")),$r$$=0,$t$$=[],$u$$=$c$$.firstChild;null!=$u$$;){if($u$$.nodeType==mxConstants.NODETYPE_ELEMENT){var $x$$=$u$$.nodeName;
if("move"==$x$$||"line"==$x$$)"move"!=$x$$&&0!=$t$$.length||$t$$.push([]),$t$$[$t$$.length-1].push(new mxPoint($k$$+Number($u$$.getAttribute("x"))*$m$$,$l$$+Number($u$$.getAttribute("y"))*$n$$)),$r$$++;else{$p$$=!0;break}}$u$$=$u$$.nextSibling}if(!$p$$&&0<$r$$)for($m$$=0;$m$$<$t$$.length;$m$$++)$n$$=!1,$l$$=$t$$[$m$$][0],$k$$=$t$$[$m$$][$t$$[$m$$].length-1],$l$$.x==$k$$.x&&$l$$.y==$k$$.y&&($t$$[$m$$].pop(),$n$$=!0),this.addPoints($a$$,$t$$[$m$$],!0,$q$$,$n$$);else $p$$=!0}if($p$$)for($u$$=$c$$.firstChild;null!=
$u$$;)$u$$.nodeType==mxConstants.NODETYPE_ELEMENT&&this.drawNode($a$$,$b$$,$u$$,$d$$,$e$$,$f$$),$u$$=$u$$.nextSibling}else if("close"==$g$$)$a$$.close();else if("move"==$g$$)$a$$.moveTo($k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$);else if("line"==$g$$)$a$$.lineTo($k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$);else if("quad"==$g$$)$a$$.quadTo($k$$+Number($c$$.getAttribute("x1"))*$m$$,$l$$+Number($c$$.getAttribute("y1"))*$n$$,
$k$$+Number($c$$.getAttribute("x2"))*$m$$,$l$$+Number($c$$.getAttribute("y2"))*$n$$);else if("curve"==$g$$)$a$$.curveTo($k$$+Number($c$$.getAttribute("x1"))*$m$$,$l$$+Number($c$$.getAttribute("y1"))*$n$$,$k$$+Number($c$$.getAttribute("x2"))*$m$$,$l$$+Number($c$$.getAttribute("y2"))*$n$$,$k$$+Number($c$$.getAttribute("x3"))*$m$$,$l$$+Number($c$$.getAttribute("y3"))*$n$$);else if("arc"==$g$$)$a$$.arcTo(Number($c$$.getAttribute("rx"))*$m$$,Number($c$$.getAttribute("ry"))*$n$$,Number($c$$.getAttribute("x-axis-rotation")),
Number($c$$.getAttribute("large-arc-flag")),Number($c$$.getAttribute("sweep-flag")),$k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$);else if("rect"==$g$$)$a$$.rect($k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$,Number($c$$.getAttribute("w"))*$m$$,Number($c$$.getAttribute("h"))*$n$$);else if("roundrect"==$g$$)$b$$=Number($c$$.getAttribute("arcsize")),0==$b$$&&($b$$=100*mxConstants.RECTANGLE_ROUNDING_FACTOR),$d$$=Number($c$$.getAttribute("w"))*
$m$$,$f$$=Number($c$$.getAttribute("h"))*$n$$,$b$$=Number($b$$)/100,$b$$=Math.min($d$$*$b$$,$f$$*$b$$),$a$$.roundrect($k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$,$d$$,$f$$,$b$$,$b$$);else if("ellipse"==$g$$)$a$$.ellipse($k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$,Number($c$$.getAttribute("w"))*$m$$,Number($c$$.getAttribute("h"))*$n$$);else if("image"==$g$$)$b$$.outline||($b$$=this.evaluateAttribute($c$$,"src",$b$$),$a$$.image($k$$+
Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$,Number($c$$.getAttribute("w"))*$m$$,Number($c$$.getAttribute("h"))*$n$$,$b$$,!1,"1"==$c$$.getAttribute("flipH"),"1"==$c$$.getAttribute("flipV")));else if("text"==$g$$)$b$$.outline||($d$$=this.evaluateTextAttribute($c$$,"str",$b$$),$f$$="1"==$c$$.getAttribute("vertical")?-90:0,"0"==$c$$.getAttribute("align-shape")&&($p$$=$b$$.rotation,$q$$=1==mxUtils.getValue($b$$.style,mxConstants.STYLE_FLIPH,0),$b$$=1==mxUtils.getValue($b$$.style,
mxConstants.STYLE_FLIPV,0),$f$$=$q$$&&$b$$?$f$$-$p$$:$q$$||$b$$?$f$$+$p$$:$f$$-$p$$),$f$$-=$c$$.getAttribute("rotation"),$a$$.text($k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$,0,0,$d$$,$c$$.getAttribute("align")||"left",$c$$.getAttribute("valign")||"top",!1,"",null,!1,$f$$));else if("include-shape"==$g$$)$p$$=mxStencilRegistry.getStencil($c$$.getAttribute("name")),null!=$p$$&&($k$$+=Number($c$$.getAttribute("x"))*$m$$,$l$$+=Number($c$$.getAttribute("y"))*$n$$,
$d$$=Number($c$$.getAttribute("w"))*$m$$,$f$$=Number($c$$.getAttribute("h"))*$n$$,$p$$.drawShape($a$$,$b$$,$k$$,$l$$,$d$$,$f$$));else if("fillstroke"==$g$$)$a$$.fillAndStroke();else if("fill"==$g$$)$a$$.fill();else if("stroke"==$g$$)$a$$.stroke();else if("strokewidth"==$g$$)$m$$="1"==$c$$.getAttribute("fixed")?1:$p$$,$a$$.setStrokeWidth(Number($c$$.getAttribute("width"))*$m$$);else if("dashed"==$g$$)$a$$.setDashed("1"==$c$$.getAttribute("dashed"));else if("dashpattern"==$g$$){if($c$$=$c$$.getAttribute("pattern"),
null!=$c$$){$c$$=$c$$.split(" ");$n$$=[];for($m$$=0;$m$$<$c$$.length;$m$$++)0<$c$$[$m$$].length&&$n$$.push(Number($c$$[$m$$])*$p$$);$c$$=$n$$.join(" ");$a$$.setDashPattern($c$$)}}else"strokecolor"==$g$$?$a$$.setStrokeColor(this.parseColor($a$$,$b$$,$c$$,$c$$.getAttribute("color"))):"linecap"==$g$$?$a$$.setLineCap($c$$.getAttribute("cap")):"linejoin"==$g$$?$a$$.setLineJoin($c$$.getAttribute("join")):"miterlimit"==$g$$?$a$$.setMiterLimit(Number($c$$.getAttribute("limit"))):"fillcolor"==$g$$?$a$$.setFillColor(this.parseColor($a$$,
$b$$,$c$$,$c$$.getAttribute("color"))):"alpha"==$g$$?$a$$.setAlpha($c$$.getAttribute("alpha")):"fillalpha"==$g$$?$a$$.setAlpha($c$$.getAttribute("alpha")):"strokealpha"==$g$$?$a$$.setAlpha($c$$.getAttribute("alpha")):"fontcolor"==$g$$?$a$$.setFontColor(this.parseColor($a$$,$b$$,$c$$,$c$$.getAttribute("color"))):"fontstyle"==$g$$?$a$$.setFontStyle($c$$.getAttribute("style")):"fontfamily"==$g$$?$a$$.setFontFamily($c$$.getAttribute("family")):"fontsize"==$g$$&&$a$$.setFontSize(Number($c$$.getAttribute("size"))*
$p$$);!$e$$||"fillstroke"!=$g$$&&"fill"!=$g$$&&"stroke"!=$g$$||$a$$.setShadow(!1)}};
var mxStencilRegistry={stencils:{},addStencil:function($a$$,$b$$){mxStencilRegistry.stencils[$a$$]=$b$$},getStencil:function($a$$){return mxStencilRegistry.stencils[$a$$]}},mxMarker={markers:[],addMarker:function($a$$,$b$$){mxMarker.markers[$a$$]=$b$$},createMarker:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){var $n$$=mxMarker.markers[$c$$];return null!=$n$$?$n$$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$):null}};
(function(){function $a$$($d$$){$d$$=null!=$d$$?$d$$:2;return function($e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$,$r$$){$f$$=$l$$*$q$$*1.118;$p$$=$m$$*$q$$*1.118;$l$$*=$n$$+$q$$;$m$$*=$n$$+$q$$;var $t$$=$k$$.clone();$t$$.x-=$f$$;$t$$.y-=$p$$;$n$$=$g$$!=mxConstants.ARROW_CLASSIC&&$g$$!=mxConstants.ARROW_CLASSIC_THIN?1:.75;$k$$.x+=-$l$$*$n$$-$f$$;$k$$.y+=-$m$$*$n$$-$p$$;return function(){$e$$.begin();$e$$.moveTo($t$$.x,$t$$.y);$e$$.lineTo($t$$.x-$l$$-$m$$/$d$$,$t$$.y-$m$$+$l$$/$d$$);$g$$!=mxConstants.ARROW_CLASSIC&&
$g$$!=mxConstants.ARROW_CLASSIC_THIN||$e$$.lineTo($t$$.x-3*$l$$/4,$t$$.y-3*$m$$/4);$e$$.lineTo($t$$.x+$m$$/$d$$-$l$$,$t$$.y-$m$$-$l$$/$d$$);$e$$.close();$r$$?$e$$.fillAndStroke():$e$$.stroke()}}}function $b$$($d$$){$d$$=null!=$d$$?$d$$:2;return function($e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$,$r$$){$f$$=$l$$*$q$$*1.118;$g$$=$m$$*$q$$*1.118;$l$$*=$n$$+$q$$;$m$$*=$n$$+$q$$;var $t$$=$k$$.clone();$t$$.x-=$f$$;$t$$.y-=$g$$;$k$$.x+=2*-$f$$;$k$$.y+=2*-$g$$;return function(){$e$$.begin();$e$$.moveTo($t$$.x-
$l$$-$m$$/$d$$,$t$$.y-$m$$+$l$$/$d$$);$e$$.lineTo($t$$.x,$t$$.y);$e$$.lineTo($t$$.x+$m$$/$d$$-$l$$,$t$$.y-$m$$-$l$$/$d$$);$e$$.stroke()}}}function $c$$($d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){$n$$=$f$$==mxConstants.ARROW_DIAMOND?.7071:.9862;$e$$=$k$$*$p$$*$n$$;$n$$*=$l$$*$p$$;$k$$*=$m$$+$p$$;$l$$*=$m$$+$p$$;var $r$$=$g$$.clone();$r$$.x-=$e$$;$r$$.y-=$n$$;$g$$.x+=-$k$$-$e$$;$g$$.y+=-$l$$-$n$$;var $t$$=$f$$==mxConstants.ARROW_DIAMOND?2:3.4;return function(){$d$$.begin();$d$$.moveTo($r$$.x,
$r$$.y);$d$$.lineTo($r$$.x-$k$$/2-$l$$/$t$$,$r$$.y+$k$$/$t$$-$l$$/2);$d$$.lineTo($r$$.x-$k$$,$r$$.y-$l$$);$d$$.lineTo($r$$.x-$k$$/2+$l$$/$t$$,$r$$.y-$l$$/2-$k$$/$t$$);$d$$.close();$q$$?$d$$.fillAndStroke():$d$$.stroke()}}mxMarker.addMarker("classic",$a$$(2));mxMarker.addMarker("classicThin",$a$$(3));mxMarker.addMarker("block",$a$$(2));mxMarker.addMarker("blockThin",$a$$(3));mxMarker.addMarker("open",$b$$(2));mxMarker.addMarker("openThin",$b$$(3));mxMarker.addMarker("oval",function($d$$,$e$$,$f$$,
$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){var $r$$=$m$$/2,$t$$=$g$$.clone();$g$$.x-=$k$$*$r$$;$g$$.y-=$l$$*$r$$;return function(){$d$$.ellipse($t$$.x-$r$$,$t$$.y-$r$$,$m$$,$m$$);$q$$?$d$$.fillAndStroke():$d$$.stroke()}});mxMarker.addMarker("baseDash",function($d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){var $r$$=$k$$*($m$$+$p$$+1),$t$$=$l$$*($m$$+$p$$+1);return function(){$d$$.begin();$d$$.moveTo($g$$.x-$t$$/2,$g$$.y+$r$$/2);$d$$.lineTo($g$$.x+$t$$/2,$g$$.y-$r$$/2);$d$$.stroke()}});mxMarker.addMarker("doubleBlock",
function($d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){$e$$=$k$$*$p$$*1.118;$n$$=$l$$*$p$$*1.118;$k$$*=$m$$+$p$$;$l$$*=$m$$+$p$$;var $r$$=$g$$.clone();$r$$.x-=$e$$;$r$$.y-=$n$$;$f$$=$f$$!=mxConstants.ARROW_CLASSIC&&$f$$!=mxConstants.ARROW_CLASSIC_THIN?1:.75;$g$$.x+=-$k$$*$f$$*2-$e$$;$g$$.y+=-$l$$*$f$$*2-$n$$;return function(){$d$$.begin();$d$$.moveTo($r$$.x,$r$$.y);$d$$.lineTo($r$$.x-$k$$-$l$$/2,$r$$.y-$l$$+$k$$/2);$d$$.lineTo($r$$.x+$l$$/2-$k$$,$r$$.y-$l$$-$k$$/2);$d$$.close();$d$$.moveTo($r$$.x-
$k$$,$r$$.y-$l$$);$d$$.lineTo($r$$.x-2*$k$$-.5*$l$$,$r$$.y+.5*$k$$-2*$l$$);$d$$.lineTo($r$$.x-2*$k$$+.5*$l$$,$r$$.y-.5*$k$$-2*$l$$);$d$$.close();$q$$?$d$$.fillAndStroke():$d$$.stroke()}});mxMarker.addMarker("diamond",$c$$);mxMarker.addMarker("diamondThin",$c$$);mxMarker.addMarker("manyOptional",function($d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){var $r$$=$k$$*($m$$+$p$$+1),$t$$=$l$$*($m$$+$p$$+1),$u$$=$m$$/2,$x$$=$g$$.x,$y$$=$g$$.y;$g$$.x-=2*$r$$-$k$$*$p$$/2;$g$$.y-=2*$t$$-$l$$*$p$$/2;return function(){$d$$.begin();
$d$$.ellipse($x$$-1.5*$r$$-$u$$,$y$$-1.5*$t$$-$u$$,2*$u$$,2*$u$$);$q$$?$d$$.fillAndStroke():$d$$.stroke();$d$$.begin();$d$$.moveTo($x$$,$y$$);$d$$.lineTo($x$$-$r$$,$y$$-$t$$);$d$$.moveTo($x$$+$t$$/2,$y$$-$r$$/2);$d$$.lineTo($x$$-$r$$,$y$$-$t$$);$d$$.lineTo($x$$-$t$$/2,$y$$+$r$$/2);$d$$.stroke()}})})();function mxActor($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxActor,mxShape);
mxActor.prototype.paintVertexShape=function($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.translate($b$$,$c$$);$a$$.begin();this.redrawPath($a$$,$b$$,$c$$,$d$$,$e$$);$a$$.fillAndStroke()};mxActor.prototype.redrawPath=function($a$$,$b$$,$c$$,$d$$,$e$$){$b$$=$d$$/3;$a$$.moveTo(0,$e$$);$a$$.curveTo(0,3*$e$$/5,0,2*$e$$/5,$d$$/2,2*$e$$/5);$a$$.curveTo($d$$/2-$b$$,2*$e$$/5,$d$$/2-$b$$,0,$d$$/2,0);$a$$.curveTo($d$$/2+$b$$,0,$d$$/2+$b$$,2*$e$$/5,$d$$/2,2*$e$$/5);$a$$.curveTo($d$$,2*$e$$/5,$d$$,3*$e$$/5,$d$$,$e$$);$a$$.close()};
function mxCloud($a$$,$b$$,$c$$,$d$$){mxActor.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxCloud,mxActor);
mxCloud.prototype.redrawPath=function($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.moveTo(.25*$d$$,.25*$e$$);$a$$.curveTo(.05*$d$$,.25*$e$$,0,.5*$e$$,.16*$d$$,.55*$e$$);$a$$.curveTo(0,.66*$e$$,.18*$d$$,.9*$e$$,.31*$d$$,.8*$e$$);$a$$.curveTo(.4*$d$$,$e$$,.7*$d$$,$e$$,.8*$d$$,.8*$e$$);$a$$.curveTo($d$$,.8*$e$$,$d$$,.6*$e$$,.875*$d$$,.5*$e$$);$a$$.curveTo($d$$,.3*$e$$,.8*$d$$,.1*$e$$,.625*$d$$,.2*$e$$);$a$$.curveTo(.5*$d$$,.05*$e$$,.3*$d$$,.05*$e$$,.25*$d$$,.25*$e$$);$a$$.close()};
function mxRectangleShape($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxRectangleShape,mxShape);mxRectangleShape.prototype.isHtmlAllowed=function(){var $a$$=!0;null!=this.style&&($a$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1"));return!this.isRounded&&!this.glass&&0==this.rotation&&($a$$||null!=this.fill&&this.fill!=mxConstants.NONE)};
mxRectangleShape.prototype.paintBackground=function($a$$,$b$$,$c$$,$d$$,$e$$){if(this.isRounded){if("1"==mxUtils.getValue(this.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0))var $f$$=Math.min($d$$/2,Math.min($e$$/2,mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2));else $f$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100,$f$$=Math.min($d$$*$f$$,$e$$*$f$$);$a$$.roundrect($b$$,$c$$,$d$$,$e$$,$f$$,$f$$)}else $a$$.rect($b$$,
$c$$,$d$$,$e$$);$a$$.fillAndStroke()};mxRectangleShape.prototype.isRoundable=function(){return!0};mxRectangleShape.prototype.paintForeground=function($a$$,$b$$,$c$$,$d$$,$e$$){this.glass&&!this.outline&&null!=this.fill&&this.fill!=mxConstants.NONE&&this.paintGlassEffect($a$$,$b$$,$c$$,$d$$,$e$$,this.getArcSize($d$$+this.strokewidth,$e$$+this.strokewidth))};
function mxEllipse($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxEllipse,mxShape);mxEllipse.prototype.paintVertexShape=function($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.ellipse($b$$,$c$$,$d$$,$e$$);$a$$.fillAndStroke()};function mxDoubleEllipse($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxDoubleEllipse,mxShape);
mxDoubleEllipse.prototype.paintBackground=function($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.ellipse($b$$,$c$$,$d$$,$e$$);$a$$.fillAndStroke()};mxDoubleEllipse.prototype.paintForeground=function($a$$,$b$$,$c$$,$d$$,$e$$){if(!this.outline){var $f$$=mxUtils.getValue(this.style,mxConstants.STYLE_MARGIN,Math.min(3+this.strokewidth,Math.min($d$$/5,$e$$/5)));$b$$+=$f$$;$c$$+=$f$$;$d$$-=2*$f$$;$e$$-=2*$f$$;0<$d$$&&0<$e$$&&$a$$.ellipse($b$$,$c$$,$d$$,$e$$);$a$$.stroke()}};
mxDoubleEllipse.prototype.getLabelBounds=function($a$$){var $b$$=mxUtils.getValue(this.style,mxConstants.STYLE_MARGIN,Math.min(3+this.strokewidth,Math.min($a$$.width/5/this.scale,$a$$.height/5/this.scale)))*this.scale;return new mxRectangle($a$$.x+$b$$,$a$$.y+$b$$,$a$$.width-2*$b$$,$a$$.height-2*$b$$)};function mxRhombus($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxRhombus,mxShape);
mxRhombus.prototype.isRoundable=function(){return!0};mxRhombus.prototype.paintVertexShape=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=$d$$/2,$g$$=$e$$/2,$k$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;$a$$.begin();this.addPoints($a$$,[new mxPoint($b$$+$f$$,$c$$),new mxPoint($b$$+$d$$,$c$$+$g$$),new mxPoint($b$$+$f$$,$c$$+$e$$),new mxPoint($b$$,$c$$+$g$$)],this.isRounded,$k$$,!0);$a$$.fillAndStroke()};
function mxPolyline($a$$,$b$$,$c$$){mxShape.call(this);this.points=$a$$;this.stroke=$b$$;this.strokewidth=null!=$c$$?$c$$:1}mxUtils.extend(mxPolyline,mxShape);mxPolyline.prototype.getRotation=function(){return 0};mxPolyline.prototype.getShapeRotation=function(){return 0};mxPolyline.prototype.isPaintBoundsInverted=function(){return!1};
mxPolyline.prototype.paintEdgeShape=function($a$$,$b$$){var $c$$=$a$$.pointerEventsValue;$a$$.pointerEventsValue="stroke";null==this.style||1!=this.style[mxConstants.STYLE_CURVED]?this.paintLine($a$$,$b$$,this.isRounded):this.paintCurvedLine($a$$,$b$$);$a$$.pointerEventsValue=$c$$};mxPolyline.prototype.paintLine=function($a$$,$b$$,$c$$){var $d$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;$a$$.begin();this.addPoints($a$$,$b$$,$c$$,$d$$,!1);$a$$.stroke()};
mxPolyline.prototype.paintCurvedLine=function($a$$,$b$$){$a$$.begin();var $c$$=$b$$[0],$d$$=$b$$.length;$a$$.moveTo($c$$.x,$c$$.y);for($c$$=1;$c$$<$d$$-2;$c$$++){var $e$$=$b$$[$c$$],$f$$=$b$$[$c$$+1];$a$$.quadTo($e$$.x,$e$$.y,($e$$.x+$f$$.x)/2,($e$$.y+$f$$.y)/2)}$e$$=$b$$[$d$$-2];$f$$=$b$$[$d$$-1];$a$$.quadTo($e$$.x,$e$$.y,$f$$.x,$f$$.y);$a$$.stroke()};
function mxArrow($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){mxShape.call(this);this.points=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1;this.arrowWidth=null!=$e$$?$e$$:mxConstants.ARROW_WIDTH;this.spacing=null!=$f$$?$f$$:mxConstants.ARROW_SPACING;this.endSize=null!=$g$$?$g$$:mxConstants.ARROW_SIZE}mxUtils.extend(mxArrow,mxShape);
mxArrow.prototype.augmentBoundingBox=function($a$$){mxShape.prototype.augmentBoundingBox.apply(this,arguments);$a$$.grow((Math.max(this.arrowWidth,this.endSize)/2+this.strokewidth)*this.scale)};
mxArrow.prototype.paintEdgeShape=function($a$$,$b$$){var $c$$=mxConstants.ARROW_SPACING,$d$$=mxConstants.ARROW_WIDTH,$e$$=$b$$[0];$b$$=$b$$[$b$$.length-1];var $f$$=$b$$.x-$e$$.x,$g$$=$b$$.y-$e$$.y,$k$$=Math.sqrt($f$$*$f$$+$g$$*$g$$),$l$$=$k$$-2*$c$$-mxConstants.ARROW_SIZE;$f$$/=$k$$;$g$$/=$k$$;$k$$=$d$$*$g$$/3;$d$$=-$d$$*$f$$/3;var $m$$=$e$$.x-$k$$/2+$c$$*$f$$;$e$$=$e$$.y-$d$$/2+$c$$*$g$$;var $n$$=$m$$+$k$$,$p$$=$e$$+$d$$,$q$$=$n$$+$l$$*$f$$;$l$$=$p$$+$l$$*$g$$;var $r$$=$q$$+$k$$,$t$$=$l$$+$d$$,$u$$=
$r$$-3*$k$$,$x$$=$t$$-3*$d$$;$a$$.begin();$a$$.moveTo($m$$,$e$$);$a$$.lineTo($n$$,$p$$);$a$$.lineTo($q$$,$l$$);$a$$.lineTo($r$$,$t$$);$a$$.lineTo($b$$.x-$c$$*$f$$,$b$$.y-$c$$*$g$$);$a$$.lineTo($u$$,$x$$);$a$$.lineTo($u$$+$k$$,$x$$+$d$$);$a$$.close();$a$$.fillAndStroke()};
function mxArrowConnector($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){mxShape.call(this);this.points=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1;this.arrowWidth=null!=$e$$?$e$$:mxConstants.ARROW_WIDTH;this.arrowSpacing=null!=$f$$?$f$$:mxConstants.ARROW_SPACING;this.startSize=mxConstants.ARROW_SIZE/5;this.endSize=mxConstants.ARROW_SIZE/5}mxUtils.extend(mxArrowConnector,mxShape);mxArrowConnector.prototype.useSvgBoundingBox=!0;mxArrowConnector.prototype.isRoundable=function(){return!0};
mxArrowConnector.prototype.resetStyles=function(){mxShape.prototype.resetStyles.apply(this,arguments);this.arrowSpacing=mxConstants.ARROW_SPACING};mxArrowConnector.prototype.apply=function($a$$){mxShape.prototype.apply.apply(this,arguments);null!=this.style&&(this.startSize=3*mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.ARROW_SIZE/5),this.endSize=3*mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5))};
mxArrowConnector.prototype.augmentBoundingBox=function($a$$){mxShape.prototype.augmentBoundingBox.apply(this,arguments);var $b$$=this.getEdgeWidth();this.isMarkerStart()&&($b$$=Math.max($b$$,this.getStartArrowWidth()));this.isMarkerEnd()&&($b$$=Math.max($b$$,this.getEndArrowWidth()));$a$$.grow(($b$$/2+this.strokewidth)*this.scale)};
mxArrowConnector.prototype.paintEdgeShape=function($a$$,$b$$){var $c$$=this.strokewidth;this.outline&&($c$$=Math.max(1,mxUtils.getNumber(this.style,mxConstants.STYLE_STROKEWIDTH,this.strokewidth)));var $d$$=this.getStartArrowWidth()+$c$$,$e$$=this.getEndArrowWidth()+$c$$,$f$$=this.outline?this.getEdgeWidth()+$c$$:this.getEdgeWidth(),$g$$=this.isOpenEnded(),$k$$=this.isMarkerStart(),$l$$=this.isMarkerEnd(),$m$$=$g$$?0:this.arrowSpacing+$c$$/2,$n$$=this.startSize+$c$$;$c$$=this.endSize+$c$$;var $p$$=
this.isArrowRounded(),$q$$=$b$$[$b$$.length-1],$r$$=$b$$[1].x-$b$$[0].x,$t$$=$b$$[1].y-$b$$[0].y,$u$$=Math.sqrt($r$$*$r$$+$t$$*$t$$);if(0!=$u$$){var $x$$=$r$$/$u$$,$y$$=$x$$,$C$$=$t$$/$u$$,$A$$=$C$$;$u$$=$f$$*$C$$;var $B$$=-$f$$*$x$$,$z$$=[];$p$$?$a$$.setLineJoin("round"):2<$b$$.length&&$a$$.setMiterLimit(1.42);$a$$.begin();$r$$=$x$$;$t$$=$C$$;if($k$$&&!$g$$)this.paintMarker($a$$,$b$$[0].x,$b$$[0].y,$x$$,$C$$,$n$$,$d$$,$f$$,$m$$,!0);else{var $v$$=$b$$[0].x+$u$$/2+$m$$*$x$$,$D$$=$b$$[0].y+$B$$/2+$m$$*
$C$$,$F$$=$b$$[0].x-$u$$/2+$m$$*$x$$,$K$$=$b$$[0].y-$B$$/2+$m$$*$C$$;$g$$?($a$$.moveTo($v$$,$D$$),$z$$.push(function(){$a$$.lineTo($F$$,$K$$)})):($a$$.moveTo($F$$,$K$$),$a$$.lineTo($v$$,$D$$))}var $G$$=$D$$=$v$$=0;for($u$$=0;$u$$<$b$$.length-2;$u$$++)if($B$$=mxUtils.relativeCcw($b$$[$u$$].x,$b$$[$u$$].y,$b$$[$u$$+1].x,$b$$[$u$$+1].y,$b$$[$u$$+2].x,$b$$[$u$$+2].y),$v$$=$b$$[$u$$+2].x-$b$$[$u$$+1].x,$D$$=$b$$[$u$$+2].y-$b$$[$u$$+1].y,$G$$=Math.sqrt($v$$*$v$$+$D$$*$D$$),0!=$G$$){$y$$=$v$$/$G$$;$A$$=
$D$$/$G$$;$G$$=Math.max(Math.sqrt(($x$$*$y$$+$C$$*$A$$+1)/2),.04);$v$$=$x$$+$y$$;$D$$=$C$$+$A$$;var $J$$=Math.sqrt($v$$*$v$$+$D$$*$D$$);if(0!=$J$$){$v$$/=$J$$;$D$$/=$J$$;$J$$=Math.max($G$$,Math.min(this.strokewidth/200+.04,.35));$G$$=0!=$B$$&&$p$$?Math.max(.1,$J$$):Math.max($G$$,.06);var $E$$=$b$$[$u$$+1].x+$D$$*$f$$/2/$G$$,$H$$=$b$$[$u$$+1].y-$v$$*$f$$/2/$G$$;$D$$=$b$$[$u$$+1].x-$D$$*$f$$/2/$G$$;$v$$=$b$$[$u$$+1].y+$v$$*$f$$/2/$G$$;0!=$B$$&&$p$$?-1==$B$$?($B$$=$D$$+$A$$*$f$$,$G$$=$v$$-$y$$*$f$$,
$a$$.lineTo($D$$+$C$$*$f$$,$v$$-$x$$*$f$$),$a$$.quadTo($E$$,$H$$,$B$$,$G$$),function($L$$,$M$$){$z$$.push(function(){$a$$.lineTo($L$$,$M$$)})}($D$$,$v$$)):($a$$.lineTo($E$$,$H$$),function($L$$,$M$$){var $O$$=$E$$-$C$$*$f$$,$P$$=$H$$+$x$$*$f$$,$Q$$=$E$$-$A$$*$f$$,$R$$=$H$$+$y$$*$f$$;$z$$.push(function(){$a$$.quadTo($L$$,$M$$,$O$$,$P$$)});$z$$.push(function(){$a$$.lineTo($Q$$,$R$$)})}($D$$,$v$$)):($a$$.lineTo($E$$,$H$$),function($L$$,$M$$){$z$$.push(function(){$a$$.lineTo($L$$,$M$$)})}($D$$,$v$$));
$x$$=$y$$;$C$$=$A$$}}$u$$=$f$$*$A$$;$B$$=-$f$$*$y$$;if($l$$&&!$g$$)this.paintMarker($a$$,$q$$.x,$q$$.y,-$x$$,-$C$$,$c$$,$e$$,$f$$,$m$$,!1);else{$a$$.lineTo($q$$.x-$m$$*$y$$+$u$$/2,$q$$.y-$m$$*$A$$+$B$$/2);var $I$$=$q$$.x-$m$$*$y$$-$u$$/2,$N$$=$q$$.y-$m$$*$A$$-$B$$/2;$g$$?($a$$.moveTo($I$$,$N$$),$z$$.splice(0,0,function(){$a$$.moveTo($I$$,$N$$)})):$a$$.lineTo($I$$,$N$$)}for($u$$=$z$$.length-1;0<=$u$$;$u$$--)$z$$[$u$$]();$g$$?($a$$.end(),$a$$.stroke()):($a$$.close(),$a$$.fillAndStroke());$a$$.setShadow(!1);
$a$$.setMiterLimit(4);$p$$&&$a$$.setLineJoin("flat");2<$b$$.length&&($a$$.setMiterLimit(4),$k$$&&!$g$$&&($a$$.begin(),this.paintMarker($a$$,$b$$[0].x,$b$$[0].y,$r$$,$t$$,$n$$,$d$$,$f$$,$m$$,!0),$a$$.stroke(),$a$$.end()),$l$$&&!$g$$&&($a$$.begin(),this.paintMarker($a$$,$q$$.x,$q$$.y,-$x$$,-$C$$,$c$$,$e$$,$f$$,$m$$,!0),$a$$.stroke(),$a$$.end()))}};
mxArrowConnector.prototype.paintMarker=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){$g$$=$k$$/$g$$;var $n$$=$k$$*$e$$/2;$k$$=-$k$$*$d$$/2;var $p$$=($l$$+$f$$)*$d$$;$f$$=($l$$+$f$$)*$e$$;$m$$?$a$$.moveTo($b$$-$n$$+$p$$,$c$$-$k$$+$f$$):$a$$.lineTo($b$$-$n$$+$p$$,$c$$-$k$$+$f$$);$a$$.lineTo($b$$-$n$$/$g$$+$p$$,$c$$-$k$$/$g$$+$f$$);$a$$.lineTo($b$$+$l$$*$d$$,$c$$+$l$$*$e$$);$a$$.lineTo($b$$+$n$$/$g$$+$p$$,$c$$+$k$$/$g$$+$f$$);$a$$.lineTo($b$$+$n$$+$p$$,$c$$+$k$$+$f$$)};
mxArrowConnector.prototype.isArrowRounded=function(){return this.isRounded};mxArrowConnector.prototype.getStartArrowWidth=function(){return mxConstants.ARROW_WIDTH};mxArrowConnector.prototype.getEndArrowWidth=function(){return mxConstants.ARROW_WIDTH};mxArrowConnector.prototype.getEdgeWidth=function(){return mxConstants.ARROW_WIDTH/3};mxArrowConnector.prototype.isOpenEnded=function(){return!1};
mxArrowConnector.prototype.isMarkerStart=function(){return mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE};mxArrowConnector.prototype.isMarkerEnd=function(){return mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE};
function mxText($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$,$r$$,$t$$,$u$$,$x$$,$y$$,$C$$,$A$$,$B$$){mxShape.call(this);this.value=$a$$;this.bounds=$b$$;this.color=null!=$e$$?$e$$:"black";this.align=null!=$c$$?$c$$:mxConstants.ALIGN_CENTER;this.valign=null!=$d$$?$d$$:mxConstants.ALIGN_MIDDLE;this.family=null!=$f$$?$f$$:mxConstants.DEFAULT_FONTFAMILY;this.size=null!=$g$$?$g$$:mxConstants.DEFAULT_FONTSIZE;this.fontStyle=null!=$k$$?$k$$:mxConstants.DEFAULT_FONTSTYLE;this.spacing=
parseInt($l$$||2);this.spacingTop=this.spacing+parseInt($m$$||0);this.spacingRight=this.spacing+parseInt($n$$||0);this.spacingBottom=this.spacing+parseInt($p$$||0);this.spacingLeft=this.spacing+parseInt($q$$||0);this.horizontal=null!=$r$$?$r$$:!0;this.background=$t$$;this.border=$u$$;this.wrap=null!=$x$$?$x$$:!1;this.clipped=null!=$y$$?$y$$:!1;this.overflow=null!=$C$$?$C$$:"visible";this.labelPadding=null!=$A$$?$A$$:0;this.textDirection=$B$$;this.rotation=0;this.updateMargin()}
mxUtils.extend(mxText,mxShape);mxText.prototype.baseSpacingTop=0;mxText.prototype.baseSpacingBottom=0;mxText.prototype.baseSpacingLeft=0;mxText.prototype.baseSpacingRight=0;mxText.prototype.replaceLinefeeds=!0;mxText.prototype.verticalTextRotation=-90;mxText.prototype.ignoreClippedStringSize=!0;mxText.prototype.ignoreStringSize=!1;mxText.prototype.textWidthPadding=8!=document.documentMode||mxClient.IS_EM?3:4;mxText.prototype.lastValue=null;mxText.prototype.cacheEnabled=!0;
mxText.prototype.isHtmlAllowed=function(){return 8!=document.documentMode||mxClient.IS_EM};mxText.prototype.getSvgScreenOffset=function(){return 0};mxText.prototype.checkBounds=function(){return!isNaN(this.scale)&&isFinite(this.scale)&&0<this.scale&&null!=this.bounds&&!isNaN(this.bounds.x)&&!isNaN(this.bounds.y)&&!isNaN(this.bounds.width)&&!isNaN(this.bounds.height)};mxText.prototype.configurePointerEvents=function($a$$){};
mxText.prototype.getActualTextDirection=function(){var $a$$=this.textDirection;$a$$==mxConstants.TEXT_DIRECTION_AUTO&&($a$$=this.getAutoDirection());$a$$!=mxConstants.TEXT_DIRECTION_LTR&&$a$$!=mxConstants.TEXT_DIRECTION_RTL&&$a$$!=mxConstants.TEXT_DIRECTION_VERTICAL_LR&&$a$$!=mxConstants.TEXT_DIRECTION_VERTICAL_RL&&($a$$=null);return $a$$};
mxText.prototype.paint=function($a$$,$b$$){var $c$$=this.scale,$d$$=this.bounds.x/$c$$,$e$$=this.bounds.y/$c$$,$f$$=this.bounds.width/$c$$,$g$$=this.bounds.height/$c$$;this.updateTransform($a$$,$d$$,$e$$,$f$$,$g$$);this.configureCanvas($a$$,$d$$,$e$$,$f$$,$g$$);this.updateSvgFilters(null!=$a$$?$a$$.state.scale:$c$$);$c$$=this.getActualTextDirection();if($b$$)$a$$.updateText($d$$,$e$$,$f$$,$g$$,this.align,this.valign,this.wrap,this.overflow,this.clipped,this.getTextRotation(),$c$$,this.node);else{var $k$$=
($b$$=mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML)?"html":"",$l$$=this.value;$b$$||"html"!=$k$$||($l$$=mxUtils.htmlEntities($l$$,!1));"html"!=$k$$||mxUtils.isNode(this.value)||($l$$=mxUtils.replaceTrailingNewlines($l$$,"<div><br></div>"));$l$$=!mxUtils.isNode(this.value)&&this.replaceLinefeeds&&"html"==$k$$?$l$$.replace(/\n/g,"<br/>"):$l$$;$a$$.text($d$$,$e$$,$f$$,$g$$,$l$$,this.align,this.valign,this.wrap,$k$$,this.overflow,this.clipped,this.getTextRotation(),$c$$)}};
mxText.prototype.redraw=function(){if(this.visible&&this.checkBounds()&&this.cacheEnabled&&this.lastValue==this.value&&(mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML))if("DIV"==this.node.nodeName)mxClient.IS_SVG?this.redrawHtmlShapeWithCss3():(this.updateSize(this.node,null==this.state||null==this.state.view.textDiv),mxClient.IS_IE&&(null==document.documentMode||8>=document.documentMode)?this.updateHtmlFilter():this.updateHtmlTransform());else{var $a$$=this.createCanvas();
null!=$a$$&&null!=$a$$.updateText?($a$$.pointerEvents=this.pointerEvents,this.paint($a$$,!0),this.destroyCanvas($a$$)):mxShape.prototype.redraw.apply(this,arguments)}else mxShape.prototype.redraw.apply(this,arguments),mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML?this.lastValue=this.value:this.lastValue=null};
mxText.prototype.resetStyles=function(){mxShape.prototype.resetStyles.apply(this,arguments);this.color="black";this.align=mxConstants.ALIGN_CENTER;this.valign=mxConstants.ALIGN_MIDDLE;this.family=mxConstants.DEFAULT_FONTFAMILY;this.size=mxConstants.DEFAULT_FONTSIZE;this.fontStyle=mxConstants.DEFAULT_FONTSTYLE;this.spacingLeft=this.spacingBottom=this.spacingRight=this.spacingTop=this.spacing=2;this.horizontal=!0;delete this.background;delete this.border;this.textDirection=mxConstants.DEFAULT_TEXT_DIRECTION;
delete this.margin};
mxText.prototype.apply=function($a$$){var $b$$=this.spacing;mxShape.prototype.apply.apply(this,arguments);null!=this.style&&(this.fontStyle=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSTYLE,this.fontStyle),this.family=mxUtils.getValue(this.style,mxConstants.STYLE_FONTFAMILY,this.family),this.size=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,this.size),this.color=mxUtils.getValue(this.style,mxConstants.STYLE_FONTCOLOR,this.color),this.align=mxUtils.getValue(this.style,mxConstants.STYLE_ALIGN,
this.align),this.valign=mxUtils.getValue(this.style,mxConstants.STYLE_VERTICAL_ALIGN,this.valign),this.spacing=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING,this.spacing)),this.spacingTop=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_TOP,this.spacingTop-$b$$))+this.spacing,this.spacingRight=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_RIGHT,this.spacingRight-$b$$))+this.spacing,this.spacingBottom=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_BOTTOM,
this.spacingBottom-$b$$))+this.spacing,this.spacingLeft=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_LEFT,this.spacingLeft-$b$$))+this.spacing,this.horizontal=mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,this.horizontal),this.background=mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,this.background),this.border=mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_BORDERCOLOR,this.border),this.textDirection=mxUtils.getValue(this.style,mxConstants.STYLE_TEXT_DIRECTION,
mxConstants.DEFAULT_TEXT_DIRECTION),this.opacity=mxUtils.getValue(this.style,mxConstants.STYLE_TEXT_OPACITY,100),this.updateMargin());this.flipH=this.flipV=null};mxText.prototype.getAutoDirection=function(){var $a$$=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(this.value);return null!=$a$$&&0<$a$$.length&&"z"<$a$$[0]?mxConstants.TEXT_DIRECTION_RTL:mxConstants.TEXT_DIRECTION_LTR};
mxText.prototype.getContentNode=function(){var $a$$=this.node;null!=$a$$&&($a$$=null==$a$$.ownerSVGElement?this.node.firstChild.firstChild:$a$$.firstChild.firstChild.firstChild.firstChild.firstChild);return $a$$};
mxText.prototype.updateBoundingBox=function(){var $a$$=this.node;this.boundingBox=this.bounds.clone();var $b$$=this.getTextRotation(),$c$$=null!=this.style?mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER):null,$d$$=null!=this.style?mxUtils.getValue(this.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE):null;if(!(this.ignoreStringSize||null==$a$$||"fill"==this.overflow||this.clipped&&this.ignoreClippedStringSize&&$c$$==mxConstants.ALIGN_CENTER&&
$d$$==mxConstants.ALIGN_MIDDLE)){$d$$=$c$$=null;if(null!=$a$$.ownerSVGElement)if(null!=$a$$.firstChild&&null!=$a$$.firstChild.firstChild&&"foreignObject"==$a$$.firstChild.firstChild.nodeName)$a$$=$a$$.firstChild.firstChild.firstChild.firstChild,$d$$=$a$$.offsetHeight*this.scale,$c$$="width"==this.overflow?this.boundingBox.width:$a$$.offsetWidth*this.scale;else try{var $e$$=$a$$.getBBox();"string"==typeof this.value&&0==mxUtils.trim(this.value)?this.boundingBox=null:this.boundingBox=0==$e$$.width&&
0==$e$$.height?null:new mxRectangle($e$$.x,$e$$.y,$e$$.width,$e$$.height);return}catch($f$$){}else{$c$$=null!=this.state?this.state.view.textDiv:null;if(null==this.offsetWidth||null==this.offsetHeight)null!=$c$$&&(this.updateFont($c$$),this.updateSize($c$$,!1),this.updateInnerHtml($c$$),$a$$=$c$$),$e$$=$a$$,8!=document.documentMode||mxClient.IS_EM?null!=$e$$.firstChild&&"DIV"==$e$$.firstChild.nodeName&&($e$$=$e$$.firstChild):($d$$=Math.round(this.bounds.width/this.scale),this.wrap&&0<$d$$?($a$$.style.wordWrap=
mxConstants.WORD_WRAP,$a$$.style.whiteSpace="normal","break-word"!=$a$$.style.wordWrap&&($a$$=$e$$.getElementsByTagName("div"),0<$a$$.length&&($e$$=$a$$[$a$$.length-1]),$c$$=$e$$.offsetWidth+2,$a$$=this.node.getElementsByTagName("div"),this.clipped&&($c$$=Math.min($d$$,$c$$)),1<$a$$.length&&($a$$[$a$$.length-2].style.width=$c$$+"px"))):$a$$.style.whiteSpace="nowrap"),this.offsetWidth=$e$$.offsetWidth+this.textWidthPadding,this.offsetHeight=$e$$.offsetHeight;$c$$=this.offsetWidth*this.scale;$d$$=this.offsetHeight*
this.scale}null!=$c$$&&null!=$d$$&&(this.boundingBox=new mxRectangle(this.bounds.x,this.bounds.y,$c$$,$d$$))}null!=this.boundingBox&&(0!=$b$$?($b$$=mxUtils.getBoundingBox(new mxRectangle(this.margin.x*this.boundingBox.width,this.margin.y*this.boundingBox.height,this.boundingBox.width,this.boundingBox.height),$b$$,new mxPoint(0,0)),this.unrotatedBoundingBox=mxRectangle.fromRectangle(this.boundingBox),this.unrotatedBoundingBox.x+=this.margin.x*this.unrotatedBoundingBox.width,this.unrotatedBoundingBox.y+=
this.margin.y*this.unrotatedBoundingBox.height,this.boundingBox.x+=$b$$.x,this.boundingBox.y+=$b$$.y,this.boundingBox.width=$b$$.width,this.boundingBox.height=$b$$.height):(this.boundingBox.x+=this.margin.x*this.boundingBox.width,this.boundingBox.y+=this.margin.y*this.boundingBox.height,this.unrotatedBoundingBox=null))};mxText.prototype.getShapeRotation=function(){return 0};
mxText.prototype.getTextRotation=function(){return null!=this.state&&null!=this.state.shape?this.state.shape.getTextRotation():0};mxText.prototype.isPaintBoundsInverted=function(){return!this.horizontal&&null!=this.state&&this.state.view.graph.model.isVertex(this.state.cell)};
mxText.prototype.configureCanvas=function($a$$,$b$$,$c$$,$d$$,$e$$){mxShape.prototype.configureCanvas.apply(this,arguments);$a$$.setFontColor(this.color);$a$$.setFontBackgroundColor(this.background);$a$$.setFontBorderColor(this.border);$a$$.setFontFamily(this.family);$a$$.setFontSize(this.size);$a$$.setFontStyle(this.fontStyle)};mxText.prototype.isShadowEnabled=function(){return null!=this.style?mxUtils.getValue(this.style,"textShadow",!1):!1};
mxText.prototype.getHtmlValue=function(){var $a$$=this.value;this.dialect!=mxConstants.DIALECT_STRICTHTML&&($a$$=mxUtils.htmlEntities($a$$,!1));$a$$=mxUtils.replaceTrailingNewlines($a$$,"<div><br></div>");return this.replaceLinefeeds?$a$$.replace(/\n/g,"<br/>"):$a$$};
mxText.prototype.getTextCss=function(){var $a$$="display: inline-block; font-size: "+this.size+"px; font-family: "+this.family+"; color: "+this.color+"; line-height: "+(mxConstants.ABSOLUTE_LINE_HEIGHT?this.size*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT)+"; pointer-events: "+(this.pointerEvents?"all":"none")+"; ";(this.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&($a$$+="font-weight: bold; ");(this.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&($a$$+="font-style: italic; ");
var $b$$=[];(this.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&$b$$.push("underline");(this.fontStyle&mxConstants.FONT_STRIKETHROUGH)==mxConstants.FONT_STRIKETHROUGH&&$b$$.push("line-through");0<$b$$.length&&($a$$+="text-decoration: "+$b$$.join(" ")+"; ");return $a$$};
mxText.prototype.redrawHtmlShape=function(){if(mxClient.IS_SVG)this.redrawHtmlShapeWithCss3();else{var $a$$=this.node.style;$a$$.whiteSpace="normal";$a$$.overflow="";$a$$.width="";$a$$.height="";this.updateValue();this.updateFont(this.node);this.updateSize(this.node,null==this.state||null==this.state.view.textDiv);this.offsetHeight=this.offsetWidth=null;mxClient.IS_IE&&(null==document.documentMode||8>=document.documentMode)?this.updateHtmlFilter():this.updateHtmlTransform()}};
mxText.prototype.redrawHtmlShapeWithCss3=function(){var $a$$=Math.max(0,Math.round(this.bounds.width/this.scale)),$b$$=Math.max(0,Math.round(this.bounds.height/this.scale)),$c$$="position: absolute; left: "+Math.round(this.bounds.x)+"px; top: "+Math.round(this.bounds.y)+"px; pointer-events: none; ",$d$$=this.getTextCss(),$e$$=this.getActualTextDirection();mxSvgCanvas2D.createCss($a$$+2,$b$$,this.align,this.valign,this.wrap,this.overflow,this.clipped,$e$$,null!=this.background?mxUtils.htmlEntities(this.background):
null,null!=this.border?mxUtils.htmlEntities(this.border):null,$c$$,$d$$,this.scale,mxUtils.bind(this,function($f$$,$g$$,$k$$,$l$$,$m$$,$n$$){$f$$=this.getTextRotation();$f$$=(1!=this.scale?"scale("+this.scale+") ":"")+(0!=$f$$?"rotate("+$f$$+"deg) ":"")+(0!=this.margin.x||0!=this.margin.y?"translate("+100*this.margin.x+"%,"+100*this.margin.y+"%)":"");""!=$f$$&&($f$$="transform-origin: 0 0; transform: "+$f$$+"; ");"block"==this.overflow&&this.valign==mxConstants.ALIGN_MIDDLE&&($f$$+="max-height: "+
($b$$+1)+"px;");""==$n$$?($k$$+=$l$$,$l$$="display:inline-block; min-width: 100%; "+$f$$):($l$$+=$f$$,mxClient.IS_SF&&($l$$+="-webkit-clip-path: content-box;"));"block"==this.overflow&&($l$$+="width: 100%; ");100>this.opacity&&($m$$+="opacity: "+this.opacity/100+"; ");this.node.setAttribute("style",$k$$);$k$$=mxUtils.isNode(this.value)?this.value.outerHTML:this.getHtmlValue();null==this.node.firstChild&&(this.node.innerHTML="<div><div>"+$k$$+"</div></div>",mxClient.IS_IE11&&this.fixFlexboxForIe11(this.node));
this.node.firstChild.firstChild.setAttribute("style",$m$$);this.node.firstChild.setAttribute("style",$l$$)}))};
mxText.prototype.fixFlexboxForIe11=function($a$$){for(var $b$$=$a$$.querySelectorAll('div[style*="display: flex; justify-content: flex-end;"]'),$c$$=0;$c$$<$b$$.length;$c$$++)$b$$[$c$$].style.justifyContent="flex-start",$b$$[$c$$].style.flexDirection="row-reverse";if(!this.wrap)for($b$$=$a$$.querySelectorAll('div[style*="display: flex; justify-content: center;"]'),$a$$=-window.innerWidth,$c$$=0;$c$$<$b$$.length;$c$$++)$b$$[$c$$].style.marginLeft=$a$$+"px",$b$$[$c$$].style.marginRight=$a$$+"px"};
mxText.prototype.updateHtmlTransform=function(){var $a$$=this.getTextRotation(),$b$$=this.node.style,$c$$=this.margin.x,$d$$=this.margin.y;0!=$a$$?(mxUtils.setPrefixedStyle($b$$,"transformOrigin",100*-$c$$+"% "+100*-$d$$+"%"),mxUtils.setPrefixedStyle($b$$,"transform","translate("+100*$c$$+"%,"+100*$d$$+"%) scale("+this.scale+") rotate("+$a$$+"deg)")):(mxUtils.setPrefixedStyle($b$$,"transformOrigin","0% 0%"),mxUtils.setPrefixedStyle($b$$,"transform","scale("+this.scale+") translate("+100*$c$$+"%,"+
100*$d$$+"%)"));$b$$.left=Math.round(this.bounds.x-Math.ceil($c$$*("fill"!=this.overflow&&"width"!=this.overflow?3:1)))+"px";$b$$.top=Math.round(this.bounds.y-$d$$*("fill"!=this.overflow?3:1))+"px";$b$$.opacity=100>this.opacity?this.opacity/100:""};
mxText.prototype.updateInnerHtml=function($a$$){if(mxUtils.isNode(this.value))$a$$.innerHTML=this.value.outerHTML;else{var $b$$=this.value;this.dialect!=mxConstants.DIALECT_STRICTHTML&&($b$$=mxUtils.htmlEntities($b$$,!1));$b$$=mxUtils.replaceTrailingNewlines($b$$,"<div>&nbsp;</div>");$b$$=this.replaceLinefeeds?$b$$.replace(/\n/g,"<br/>"):$b$$;$a$$.innerHTML='<div style="display:inline-block;_display:inline;">'+$b$$+"</div>"}};
mxText.prototype.updateHtmlFilter=function(){var $a$$=this.node.style,$b$$=this.margin.x,$c$$=this.margin.y,$d$$=this.scale;mxUtils.setOpacity(this.node,this.opacity);var $e$$=0,$f$$=null!=this.state?this.state.view.textDiv:null,$g$$=this.node;if(null!=$f$$){$f$$.style.overflow="";$f$$.style.height="";$f$$.style.width="";this.updateFont($f$$);this.updateSize($f$$,!1);this.updateInnerHtml($f$$);var $k$$=Math.round(this.bounds.width/this.scale);if(this.wrap&&0<$k$$){$f$$.style.whiteSpace="normal";$f$$.style.wordWrap=
mxConstants.WORD_WRAP;var $l$$=$k$$;this.clipped&&($l$$=Math.min($l$$,this.bounds.width));$f$$.style.width=$l$$+"px"}else $f$$.style.whiteSpace="nowrap";$g$$=$f$$;null!=$g$$.firstChild&&"DIV"==$g$$.firstChild.nodeName&&($g$$=$g$$.firstChild,this.wrap&&"break-word"==$f$$.style.wordWrap&&($g$$.style.width="100%"));!this.clipped&&this.wrap&&0<$k$$&&($l$$=$g$$.offsetWidth+this.textWidthPadding,$f$$.style.width=$l$$+"px");$e$$=$g$$.offsetHeight+2}else null!=$g$$.firstChild&&"DIV"==$g$$.firstChild.nodeName&&
($g$$=$g$$.firstChild,$e$$=$g$$.offsetHeight);$l$$=$g$$.offsetWidth+this.textWidthPadding;this.clipped&&($e$$=Math.min($e$$,this.bounds.height));$k$$=this.bounds.width/$d$$;$f$$=this.bounds.height/$d$$;"fill"==this.overflow?($e$$=$f$$,$l$$=$k$$):"width"==this.overflow&&($e$$=$g$$.scrollHeight,$l$$=$k$$);this.offsetWidth=$l$$;this.offsetHeight=$e$$;"fill"!=this.overflow&&"width"!=this.overflow&&(this.clipped&&($l$$=Math.min($k$$,$l$$)),$k$$=$l$$,this.wrap&&($a$$.width=Math.round($k$$)+"px"));$f$$=
$e$$*$d$$;$k$$*=$d$$;var $m$$=this.getTextRotation()*(Math.PI/180);$l$$=parseFloat(parseFloat(Math.cos($m$$)).toFixed(8));$e$$=parseFloat(parseFloat(Math.sin(-$m$$)).toFixed(8));$m$$%=2*Math.PI;0>$m$$&&($m$$+=2*Math.PI);$m$$%=Math.PI;$m$$>Math.PI/2&&($m$$=Math.PI-$m$$);$g$$=Math.cos($m$$);var $n$$=Math.sin(-$m$$);$b$$=$k$$*-($b$$+.5);$c$$=$f$$*-($c$$+.5);0!=$m$$&&($m$$="progid:DXImageTransform.Microsoft.Matrix(M11="+$l$$+", M12="+$e$$+", M21="+-$e$$+", M22="+$l$$+", sizingMethod='auto expand')",$a$$.filter=
null!=$a$$.filter&&0<$a$$.filter.length?$a$$.filter+(" "+$m$$):$m$$);$a$$.zoom=$d$$;$a$$.left=Math.round(this.bounds.x+(($k$$-$k$$*$g$$+$f$$*$n$$)/2-$l$$*$b$$-$e$$*$c$$)-$k$$/2)+"px";$a$$.top=Math.round(this.bounds.y+(($f$$-$f$$*$g$$+$k$$*$n$$)/2+$e$$*$b$$-$l$$*$c$$)-$f$$/2)+"px"};
mxText.prototype.updateValue=function(){if(mxUtils.isNode(this.value))this.node.innerText="",this.node.appendChild(this.value);else{var $a$$=this.value;this.dialect!=mxConstants.DIALECT_STRICTHTML&&($a$$=mxUtils.htmlEntities($a$$,!1));$a$$=mxUtils.replaceTrailingNewlines($a$$,"<div><br></div>");$a$$=this.replaceLinefeeds?$a$$.replace(/\n/g,"<br/>"):$a$$;var $b$$=null!=this.background&&this.background!=mxConstants.NONE?this.background:null,$c$$=null!=this.border&&this.border!=mxConstants.NONE?this.border:
null;if("fill"==this.overflow||"width"==this.overflow)null!=$b$$&&(this.node.style.backgroundColor=$b$$),null!=$c$$&&(this.node.style.border="1px solid "+$c$$);else{var $d$$="";null!=$b$$&&($d$$+="background-color:"+mxUtils.htmlEntities($b$$)+";");null!=$c$$&&($d$$+="border:1px solid "+mxUtils.htmlEntities($c$$)+";");$a$$='<div style="zoom:1;'+$d$$+"display:inline-block;_display:inline;text-decoration:inherit;padding-bottom:1px;padding-right:1px;line-height:"+(mxConstants.ABSOLUTE_LINE_HEIGHT?this.size*
mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT)+'">'+$a$$+"</div>"}this.node.innerHTML=$a$$;$a$$=this.node.getElementsByTagName("div");0<$a$$.length&&($b$$=this.textDirection,$b$$==mxConstants.TEXT_DIRECTION_AUTO&&this.dialect!=mxConstants.DIALECT_STRICTHTML&&($b$$=this.getAutoDirection()),$b$$==mxConstants.TEXT_DIRECTION_LTR||$b$$==mxConstants.TEXT_DIRECTION_RTL?$a$$[$a$$.length-1].setAttribute("dir",$b$$):$a$$[$a$$.length-1].removeAttribute("dir"))}};
mxText.prototype.updateFont=function($a$$){$a$$=$a$$.style;$a$$.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?this.size*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT;$a$$.fontSize=this.size+"px";$a$$.fontFamily=this.family;$a$$.verticalAlign="top";$a$$.color=this.color;$a$$.fontWeight=(this.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD?"bold":"";$a$$.fontStyle=(this.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC?"italic":"";var $b$$=[];(this.fontStyle&mxConstants.FONT_UNDERLINE)==
mxConstants.FONT_UNDERLINE&&$b$$.push("underline");(this.fontStyle&mxConstants.FONT_STRIKETHROUGH)==mxConstants.FONT_STRIKETHROUGH&&$b$$.push("line-through");$a$$.textDecoration=$b$$.join(" ");$a$$.textAlign=this.align==mxConstants.ALIGN_CENTER?"center":this.align==mxConstants.ALIGN_RIGHT?"right":"left"};
mxText.prototype.updateSize=function($a$$,$b$$){var $c$$=Math.max(0,Math.round(this.bounds.width/this.scale)),$d$$=Math.max(0,Math.round(this.bounds.height/this.scale)),$e$$=$a$$.style;this.clipped?($e$$.overflow="hidden",$e$$.maxHeight=$d$$+"px",$e$$.maxWidth=$c$$+"px"):"fill"==this.overflow?($e$$.width=$c$$+1+"px",$e$$.height=$d$$+1+"px",$e$$.overflow="hidden"):"width"==this.overflow?($e$$.width=$c$$+1+"px",$e$$.maxHeight=$d$$+1+"px",$e$$.overflow="hidden"):"block"==this.overflow&&($e$$.width=$c$$+
1+"px");if(this.wrap&&0<$c$$){if($e$$.wordWrap=mxConstants.WORD_WRAP,$e$$.whiteSpace="normal",$e$$.width=$c$$+"px",$b$$&&"fill"!=this.overflow&&"width"!=this.overflow){$b$$=$a$$;null!=$b$$.firstChild&&"DIV"==$b$$.firstChild.nodeName&&($b$$=$b$$.firstChild,"break-word"==$a$$.style.wordWrap&&($b$$.style.width="100%"));$d$$=$b$$.offsetWidth;if(0==$d$$){var $f$$=$a$$.parentNode;$a$$.style.visibility="hidden";document.body.appendChild($a$$);$d$$=$b$$.offsetWidth;$a$$.style.visibility="";$f$$.appendChild($a$$)}$d$$+=
3;this.clipped&&($d$$=Math.min($d$$,$c$$));$e$$.width=$d$$+"px"}}else $e$$.whiteSpace="nowrap"};mxText.prototype.updateMargin=function(){this.margin=mxUtils.getAlignmentAsPoint(this.align,this.valign)};
mxText.prototype.getSpacing=function($a$$,$b$$){return new mxPoint(null!=$b$$&&-.5==$b$$.x||null==$b$$&&this.align==mxConstants.ALIGN_CENTER?(this.spacingLeft-this.spacingRight)/2:null!=$b$$&&-1==$b$$.x||null==$b$$&&this.align==mxConstants.ALIGN_RIGHT?-this.spacingRight-($a$$?0:this.baseSpacingRight):this.spacingLeft+($a$$?0:this.baseSpacingLeft),this.valign==mxConstants.ALIGN_MIDDLE?(this.spacingTop-this.spacingBottom)/2:this.valign==mxConstants.ALIGN_BOTTOM?-this.spacingBottom-($a$$?0:this.baseSpacingBottom):
this.spacingTop+($a$$?0:this.baseSpacingTop))};function mxTriangle(){mxActor.call(this)}mxUtils.extend(mxTriangle,mxActor);mxTriangle.prototype.isRoundable=function(){return!0};mxTriangle.prototype.redrawPath=function($a$$,$b$$,$c$$,$d$$,$e$$){$b$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($a$$,[new mxPoint(0,0),new mxPoint($d$$,.5*$e$$),new mxPoint(0,$e$$)],this.isRounded,$b$$,!0)};function mxHexagon(){mxActor.call(this)}
mxUtils.extend(mxHexagon,mxActor);mxHexagon.prototype.redrawPath=function($a$$,$b$$,$c$$,$d$$,$e$$){$b$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($a$$,[new mxPoint(.25*$d$$,0),new mxPoint(.75*$d$$,0),new mxPoint($d$$,.5*$e$$),new mxPoint(.75*$d$$,$e$$),new mxPoint(.25*$d$$,$e$$),new mxPoint(0,.5*$e$$)],this.isRounded,$b$$,!0)};
function mxLine($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.stroke=$b$$;this.strokewidth=null!=$c$$?$c$$:1;this.vertical=null!=$d$$?$d$$:this.vertical}mxUtils.extend(mxLine,mxShape);mxLine.prototype.vertical=!1;mxLine.prototype.paintVertexShape=function($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.begin();if(this.vertical){var $f$$=$b$$+$d$$/2;$a$$.moveTo($f$$,$c$$);$a$$.lineTo($f$$,$c$$+$e$$)}else $f$$=$c$$+$e$$/2,$a$$.moveTo($b$$,$f$$),$a$$.lineTo($b$$+$d$$,$f$$);$a$$.stroke()};
function mxImageShape($a$$,$b$$,$c$$,$d$$,$e$$){mxShape.call(this);this.bounds=$a$$;this.image=$b$$;this.fill=$c$$;this.stroke=$d$$;this.strokewidth=null!=$e$$?$e$$:1}mxUtils.extend(mxImageShape,mxRectangleShape);mxImageShape.prototype.preserveImageAspect=!0;mxImageShape.prototype.getSvgScreenOffset=function(){return 0};
mxImageShape.prototype.apply=function($a$$){mxShape.prototype.apply.apply(this,arguments);this.gradient=this.stroke=this.fill=null;null!=this.style&&(this.preserveImageAspect=1==mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_ASPECT,1),this.imageBackground=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BACKGROUND,null),this.imageBorder=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BORDER,null),this.flipH=this.flipH||1==mxUtils.getValue(this.style,"imageFlipH",0),this.flipV=this.flipV||
1==mxUtils.getValue(this.style,"imageFlipV",0),this.clipPath=mxUtils.getValue(this.style,mxConstants.STYLE_CLIP_PATH,null))};mxImageShape.prototype.isHtmlAllowed=function(){return!this.preserveImageAspect};mxImageShape.prototype.createHtml=function(){var $a$$=document.createElement("div");$a$$.style.position="absolute";return $a$$};mxImageShape.prototype.isRoundable=function(){return!1};mxImageShape.prototype.getImageDataUri=function(){return this.image};
mxImageShape.prototype.configurePointerEvents=function($a$$){};
mxImageShape.prototype.paintVertexShape=function($a$$,$b$$,$c$$,$d$$,$e$$){null!=this.image?(null!=this.imageBackground&&($a$$.setFillColor(this.imageBackground),$a$$.setStrokeColor(this.imageBorder),$a$$.rect($b$$,$c$$,$d$$,$e$$),$a$$.fillAndStroke()),$a$$.image($b$$,$c$$,$d$$,$e$$,this.getImageDataUri(),this.preserveImageAspect,!1,!1,this.clipPath),null!=this.imageBorder&&($a$$.setShadow(!1),$a$$.setStrokeColor(this.imageBorder),$a$$.rect($b$$,$c$$,$d$$,$e$$),$a$$.stroke())):mxRectangleShape.prototype.paintBackground.apply(this,
arguments)};
mxImageShape.prototype.redrawHtmlShape=function(){this.node.style.left=Math.round(this.bounds.x)+"px";this.node.style.top=Math.round(this.bounds.y)+"px";this.node.style.width=Math.max(0,Math.round(this.bounds.width))+"px";this.node.style.height=Math.max(0,Math.round(this.bounds.height))+"px";this.node.innerText="";if(null!=this.image){var $a$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BACKGROUND,""),$b$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BORDER,"");this.node.style.backgroundColor=$a$$;
this.node.style.borderColor=$b$$;$a$$=document.createElement("img");$a$$.setAttribute("border","0");$a$$.style.position="absolute";$a$$.src=this.image;$b$$=100>this.opacity?"alpha(opacity="+this.opacity+")":"";this.node.style.filter=$b$$;this.flipH&&this.flipV?$b$$+="progid:DXImageTransform.Microsoft.BasicImage(rotation=2)":this.flipH?$b$$+="progid:DXImageTransform.Microsoft.BasicImage(mirror=1)":this.flipV&&($b$$+="progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)");$a$$.style.filter!=
$b$$&&($a$$.style.filter=$b$$);"image"==$a$$.nodeName?$a$$.style.rotation=this.rotation:0!=this.rotation?mxUtils.setPrefixedStyle($a$$.style,"transform","rotate("+this.rotation+"deg)"):mxUtils.setPrefixedStyle($a$$.style,"transform","");$a$$.style.width=this.node.style.width;$a$$.style.height=this.node.style.height;this.node.style.backgroundImage="";this.node.appendChild($a$$)}else this.setTransparentBackgroundImage(this.node)};
function mxLabel($a$$,$b$$,$c$$,$d$$){mxRectangleShape.call(this,$a$$,$b$$,$c$$,$d$$)}mxUtils.extend(mxLabel,mxRectangleShape);mxLabel.prototype.imageSize=mxConstants.DEFAULT_IMAGESIZE;mxLabel.prototype.spacing=2;mxLabel.prototype.indicatorSize=10;mxLabel.prototype.indicatorSpacing=2;mxLabel.prototype.init=function($a$$){mxShape.prototype.init.apply(this,arguments);null!=this.indicatorShape&&(this.indicator=new this.indicatorShape,this.indicator.dialect=this.dialect,this.indicator.init(this.node))};
mxLabel.prototype.redraw=function(){null!=this.indicator&&(this.indicator.fill=this.indicatorColor,this.indicator.stroke=this.indicatorStrokeColor,this.indicator.gradient=this.indicatorGradientColor,this.indicator.direction=this.indicatorDirection,this.indicator.redraw());mxShape.prototype.redraw.apply(this,arguments)};mxLabel.prototype.isHtmlAllowed=function(){return mxRectangleShape.prototype.isHtmlAllowed.apply(this,arguments)&&null==this.indicatorColor&&null==this.indicatorShape};
mxLabel.prototype.paintForeground=function($a$$,$b$$,$c$$,$d$$,$e$$){this.paintImage($a$$,$b$$,$c$$,$d$$,$e$$);this.paintIndicator($a$$,$b$$,$c$$,$d$$,$e$$);mxRectangleShape.prototype.paintForeground.apply(this,arguments)};mxLabel.prototype.paintImage=function($a$$,$b$$,$c$$,$d$$,$e$$){null!=this.image&&($b$$=this.getImageBounds($b$$,$c$$,$d$$,$e$$),$c$$=mxUtils.getValue(this.style,mxConstants.STYLE_CLIP_PATH,null),$a$$.image($b$$.x,$b$$.y,$b$$.width,$b$$.height,this.image,!1,!1,!1,$c$$))};
mxLabel.prototype.getImageBounds=function($a$$,$b$$,$c$$,$d$$){var $e$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_ALIGN,mxConstants.ALIGN_LEFT),$f$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE),$g$$=mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_WIDTH,mxConstants.DEFAULT_IMAGESIZE),$k$$=mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_HEIGHT,mxConstants.DEFAULT_IMAGESIZE),$l$$=mxUtils.getNumber(this.style,mxConstants.STYLE_SPACING,
this.spacing)+5;$a$$=$e$$==mxConstants.ALIGN_CENTER?$a$$+($c$$-$g$$)/2:$e$$==mxConstants.ALIGN_RIGHT?$a$$+($c$$-$g$$-$l$$):$a$$+$l$$;$b$$=$f$$==mxConstants.ALIGN_TOP?$b$$+$l$$:$f$$==mxConstants.ALIGN_BOTTOM?$b$$+($d$$-$k$$-$l$$):$b$$+($d$$-$k$$)/2;return new mxRectangle($a$$,$b$$,$g$$,$k$$)};
mxLabel.prototype.paintIndicator=function($a$$,$b$$,$c$$,$d$$,$e$$){null!=this.indicator?(this.indicator.bounds=this.getIndicatorBounds($b$$,$c$$,$d$$,$e$$),this.indicator.paint($a$$)):null!=this.indicatorImage&&($b$$=this.getIndicatorBounds($b$$,$c$$,$d$$,$e$$),$a$$.image($b$$.x,$b$$.y,$b$$.width,$b$$.height,this.indicatorImage,!1,!1,!1))};
mxLabel.prototype.getIndicatorBounds=function($a$$,$b$$,$c$$,$d$$){var $e$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_ALIGN,mxConstants.ALIGN_LEFT),$f$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE),$g$$=mxUtils.getNumber(this.style,mxConstants.STYLE_INDICATOR_WIDTH,this.indicatorSize),$k$$=mxUtils.getNumber(this.style,mxConstants.STYLE_INDICATOR_HEIGHT,this.indicatorSize),$l$$=this.spacing+5;$a$$=$e$$==mxConstants.ALIGN_RIGHT?$a$$+($c$$-$g$$-
$l$$):$e$$==mxConstants.ALIGN_CENTER?$a$$+($c$$-$g$$)/2:$a$$+$l$$;$b$$=$f$$==mxConstants.ALIGN_BOTTOM?$b$$+($d$$-$k$$-$l$$):$f$$==mxConstants.ALIGN_TOP?$b$$+$l$$:$b$$+($d$$-$k$$)/2;return new mxRectangle($a$$,$b$$,$g$$,$k$$)};
mxLabel.prototype.redrawHtmlShape=function(){for(mxRectangleShape.prototype.redrawHtmlShape.apply(this,arguments);this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);if(null!=this.image){var $a$$=document.createElement("img");$a$$.style.position="relative";$a$$.setAttribute("border","0");var $b$$=this.getImageBounds(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height);$b$$.x-=this.bounds.x;$b$$.y-=this.bounds.y;$a$$.style.left=Math.round($b$$.x)+"px";$a$$.style.top=
Math.round($b$$.y)+"px";$a$$.style.width=Math.round($b$$.width)+"px";$a$$.style.height=Math.round($b$$.height)+"px";$a$$.src=this.image;this.node.appendChild($a$$)}};function mxCylinder($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxCylinder,mxShape);mxCylinder.prototype.maxHeight=40;
mxCylinder.prototype.paintVertexShape=function($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.translate($b$$,$c$$);$a$$.begin();this.redrawPath($a$$,$b$$,$c$$,$d$$,$e$$,!1);$a$$.fillAndStroke();this.outline&&null!=this.style&&0!=mxUtils.getValue(this.style,mxConstants.STYLE_BACKGROUND_OUTLINE,0)||($a$$.setShadow(!1),$a$$.begin(),this.redrawPath($a$$,$b$$,$c$$,$d$$,$e$$,!0),$a$$.stroke())};mxCylinder.prototype.getCylinderSize=function($a$$,$b$$,$c$$,$d$$){return Math.min(this.maxHeight,Math.round($d$$/5))};
mxCylinder.prototype.redrawPath=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$b$$=this.getCylinderSize($b$$,$c$$,$d$$,$e$$);if($f$$&&null!=this.fill||!$f$$&&null==this.fill)$a$$.moveTo(0,$b$$),$a$$.curveTo(0,2*$b$$,$d$$,2*$b$$,$d$$,$b$$),$f$$||($a$$.stroke(),$a$$.begin());$f$$||($a$$.moveTo(0,$b$$),$a$$.curveTo(0,-$b$$/3,$d$$,-$b$$/3,$d$$,$b$$),$a$$.lineTo($d$$,$e$$-$b$$),$a$$.curveTo($d$$,$e$$+$b$$/3,0,$e$$+$b$$/3,0,$e$$-$b$$),$a$$.close())};
function mxConnector($a$$,$b$$,$c$$){mxPolyline.call(this,$a$$,$b$$,$c$$)}mxUtils.extend(mxConnector,mxPolyline);mxConnector.prototype.updateBoundingBox=function(){this.useSvgBoundingBox=null!=this.style&&1==this.style[mxConstants.STYLE_CURVED];mxShape.prototype.updateBoundingBox.apply(this,arguments)};
mxConnector.prototype.paintEdgeShape=function($a$$,$b$$){var $c$$=this.createMarker($a$$,$b$$,!0),$d$$=this.createMarker($a$$,$b$$,!1);mxPolyline.prototype.paintEdgeShape.apply(this,arguments);$a$$.setFillColor(this.stroke);$a$$.setShadow(!1);$a$$.setDashed(!1);null!=$c$$&&$c$$();null!=$d$$&&$d$$()};
mxConnector.prototype.createMarker=function($a$$,$b$$,$c$$){var $d$$=null,$e$$=$b$$.length,$f$$=mxUtils.getValue(this.style,$c$$?mxConstants.STYLE_STARTARROW:mxConstants.STYLE_ENDARROW),$g$$=$c$$?$b$$[1]:$b$$[$e$$-2];$b$$=$c$$?$b$$[0]:$b$$[$e$$-1];if(null!=$f$$&&null!=$g$$&&null!=$b$$){$d$$=$b$$.x-$g$$.x;$e$$=$b$$.y-$g$$.y;var $k$$=Math.sqrt($d$$*$d$$+$e$$*$e$$);$g$$=$d$$/$k$$;$d$$=$e$$/$k$$;$e$$=mxUtils.getNumber(this.style,$c$$?mxConstants.STYLE_STARTSIZE:mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE);
$d$$=mxMarker.createMarker($a$$,this,$f$$,$b$$,$g$$,$d$$,$e$$,$c$$,this.strokewidth,0!=this.style[$c$$?mxConstants.STYLE_STARTFILL:mxConstants.STYLE_ENDFILL])}return $d$$};
mxConnector.prototype.augmentBoundingBox=function($a$$){mxShape.prototype.augmentBoundingBox.apply(this,arguments);var $b$$=0;mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE&&($b$$=mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_MARKERSIZE)+1);mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE&&($b$$=Math.max($b$$,mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE))+
1);$a$$.grow($b$$*this.scale)};function mxSwimlane($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxSwimlane,mxShape);mxSwimlane.prototype.imageSize=16;mxSwimlane.prototype.apply=function($a$$){mxShape.prototype.apply.apply(this,arguments);null!=this.style&&(this.laneFill=mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_FILLCOLOR,mxConstants.NONE))};mxSwimlane.prototype.isRoundable=function(){return!0};
mxSwimlane.prototype.getTitleSize=function(){return Math.max(0,mxUtils.getValue(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE))};
mxSwimlane.prototype.getLabelBounds=function($a$$){var $b$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,0),$c$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPV,0);$a$$=new mxRectangle($a$$.x,$a$$.y,$a$$.width,$a$$.height);var $d$$=this.isHorizontal(),$e$$=this.getTitleSize(),$f$$=this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH;$d$$=$d$$==!$f$$;$b$$=!$d$$&&$b$$!=(this.direction==mxConstants.DIRECTION_SOUTH||this.direction==mxConstants.DIRECTION_WEST);
$c$$=$d$$&&$c$$!=(this.direction==mxConstants.DIRECTION_SOUTH||this.direction==mxConstants.DIRECTION_WEST);if($f$$){$e$$=Math.min($a$$.width,$e$$*this.scale);if($b$$||$c$$)$a$$.x+=$a$$.width-$e$$;$a$$.width=$e$$}else{$e$$=Math.min($a$$.height,$e$$*this.scale);if($b$$||$c$$)$a$$.y+=$a$$.height-$e$$;$a$$.height=$e$$}return $a$$};
mxSwimlane.prototype.getGradientBounds=function($a$$,$b$$,$c$$,$d$$,$e$$){$a$$=this.getTitleSize();return this.isHorizontal()?new mxRectangle($b$$,$c$$,$d$$,Math.min($a$$,$e$$)):new mxRectangle($b$$,$c$$,Math.min($a$$,$d$$),$e$$)};
mxSwimlane.prototype.getSwimlaneArcSize=function($a$$,$b$$,$c$$){if("1"==mxUtils.getValue(this.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0))return Math.min($a$$/2,Math.min($b$$/2,mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2));$a$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;return $c$$*$a$$*3};mxSwimlane.prototype.isHorizontal=function(){return 1==mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,1)};
mxSwimlane.prototype.paintVertexShape=function($a$$,$b$$,$c$$,$d$$,$e$$){if(!this.outline){var $f$$=this.getTitleSize(),$g$$=0;$f$$=this.isHorizontal()?Math.min($f$$,$e$$):Math.min($f$$,$d$$);$a$$.translate($b$$,$c$$);this.isRounded?($g$$=this.getSwimlaneArcSize($d$$,$e$$,$f$$),$g$$=Math.min((this.isHorizontal()?$e$$:$d$$)-$f$$,Math.min($f$$,$g$$)),this.paintRoundedSwimlane($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$)):this.paintSwimlane($a$$,$b$$,$c$$,$d$$,$e$$,$f$$);var $k$$=mxUtils.getValue(this.style,
mxConstants.STYLE_SEPARATORCOLOR,mxConstants.NONE);this.paintSeparator($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$k$$);null!=this.image&&($e$$=this.getImageBounds($b$$,$c$$,$d$$,$e$$),$k$$=mxUtils.getValue(this.style,mxConstants.STYLE_CLIP_PATH,null),$a$$.image($e$$.x-$b$$,$e$$.y-$c$$,$e$$.width,$e$$.height,this.image,!1,!1,!1,$k$$));this.glass&&($a$$.setShadow(!1),this.paintGlassEffect($a$$,0,0,$d$$,$f$$,$g$$))}};
mxSwimlane.prototype.configurePointerEvents=function($a$$){var $b$$=!0,$c$$=!0,$d$$=!0;null!=this.style&&($b$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1"),$c$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_HEAD,1),$d$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_BODY,1));($b$$||$c$$||$d$$)&&mxShape.prototype.configurePointerEvents.apply(this,arguments)};
mxSwimlane.prototype.paintSwimlane=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=this.laneFill,$k$$=!0,$l$$=!0,$m$$=!0,$n$$=!0;null!=this.style&&($k$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1"),$l$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_LINE,1),$m$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_HEAD,1),$n$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_BODY,1));this.isHorizontal()?($a$$.begin(),$a$$.moveTo(0,$f$$),$a$$.lineTo(0,
0),$a$$.lineTo($d$$,0),$a$$.lineTo($d$$,$f$$),$m$$?$a$$.fillAndStroke():$a$$.fill(),$f$$<$e$$&&($g$$!=mxConstants.NONE&&$k$$||($a$$.pointerEvents=!1),$g$$!=mxConstants.NONE&&$a$$.setFillColor($g$$),$a$$.begin(),$a$$.moveTo(0,$f$$),$a$$.lineTo(0,$e$$),$a$$.lineTo($d$$,$e$$),$a$$.lineTo($d$$,$f$$),$n$$?$g$$==mxConstants.NONE?$a$$.stroke():$n$$&&$a$$.fillAndStroke():$g$$!=mxConstants.NONE&&$a$$.fill())):($a$$.begin(),$a$$.moveTo($f$$,0),$a$$.lineTo(0,0),$a$$.lineTo(0,$e$$),$a$$.lineTo($f$$,$e$$),$m$$?
$a$$.fillAndStroke():$a$$.fill(),$f$$<$d$$&&($g$$!=mxConstants.NONE&&$k$$||($a$$.pointerEvents=!1),$g$$!=mxConstants.NONE&&$a$$.setFillColor($g$$),$a$$.begin(),$a$$.moveTo($f$$,0),$a$$.lineTo($d$$,0),$a$$.lineTo($d$$,$e$$),$a$$.lineTo($f$$,$e$$),$n$$?$g$$==mxConstants.NONE?$a$$.stroke():$n$$&&$a$$.fillAndStroke():$g$$!=mxConstants.NONE&&$a$$.fill()));$l$$&&this.paintDivider($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$==mxConstants.NONE)};
mxSwimlane.prototype.paintRoundedSwimlane=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){var $k$$=this.laneFill,$l$$=!0,$m$$=!0,$n$$=!0,$p$$=!0;null!=this.style&&($l$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1"),$m$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_LINE,1),$n$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_HEAD,1),$p$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_BODY,1));this.isHorizontal()?($a$$.begin(),$a$$.moveTo($d$$,
$f$$),$a$$.lineTo($d$$,$g$$),$a$$.quadTo($d$$,0,$d$$-Math.min($d$$/2,$g$$),0),$a$$.lineTo(Math.min($d$$/2,$g$$),0),$a$$.quadTo(0,0,0,$g$$),$a$$.lineTo(0,$f$$),$n$$?$a$$.fillAndStroke():$a$$.fill(),$f$$<$e$$&&($k$$!=mxConstants.NONE&&$l$$||($a$$.pointerEvents=!1),$k$$!=mxConstants.NONE&&$a$$.setFillColor($k$$),$a$$.begin(),$a$$.moveTo(0,$f$$),$a$$.lineTo(0,$e$$-$g$$),$a$$.quadTo(0,$e$$,Math.min($d$$/2,$g$$),$e$$),$a$$.lineTo($d$$-Math.min($d$$/2,$g$$),$e$$),$a$$.quadTo($d$$,$e$$,$d$$,$e$$-$g$$),$a$$.lineTo($d$$,
$f$$),$p$$?$k$$==mxConstants.NONE?$a$$.stroke():$p$$&&$a$$.fillAndStroke():$k$$!=mxConstants.NONE&&$a$$.fill())):($a$$.begin(),$a$$.moveTo($f$$,0),$a$$.lineTo($g$$,0),$a$$.quadTo(0,0,0,Math.min($e$$/2,$g$$)),$a$$.lineTo(0,$e$$-Math.min($e$$/2,$g$$)),$a$$.quadTo(0,$e$$,$g$$,$e$$),$a$$.lineTo($f$$,$e$$),$n$$?$a$$.fillAndStroke():$a$$.fill(),$f$$<$d$$&&($k$$!=mxConstants.NONE&&$l$$||($a$$.pointerEvents=!1),$k$$!=mxConstants.NONE&&$a$$.setFillColor($k$$),$a$$.begin(),$a$$.moveTo($f$$,$e$$),$a$$.lineTo($d$$-
$g$$,$e$$),$a$$.quadTo($d$$,$e$$,$d$$,$e$$-Math.min($e$$/2,$g$$)),$a$$.lineTo($d$$,Math.min($e$$/2,$g$$)),$a$$.quadTo($d$$,0,$d$$-$g$$,0),$a$$.lineTo($f$$,0),$p$$?$k$$==mxConstants.NONE?$a$$.stroke():$p$$&&$a$$.fillAndStroke():$k$$!=mxConstants.NONE&&$a$$.fill()));$m$$&&this.paintDivider($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$k$$==mxConstants.NONE)};
mxSwimlane.prototype.paintDivider=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){0!=$f$$&&($g$$||$a$$.setShadow(!1),$a$$.begin(),this.isHorizontal()?($a$$.moveTo(0,$f$$),$a$$.lineTo($d$$,$f$$)):($a$$.moveTo($f$$,0),$a$$.lineTo($f$$,$e$$)),$a$$.stroke())};
mxSwimlane.prototype.paintSeparator=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$g$$!=mxConstants.NONE&&($a$$.setStrokeColor($g$$),$a$$.setDashed(!0),$a$$.begin(),this.isHorizontal()?($a$$.moveTo($d$$,$f$$),$a$$.lineTo($d$$,$e$$)):($a$$.moveTo($f$$,0),$a$$.lineTo($d$$,0)),$a$$.stroke(),$a$$.setDashed(!1))};
mxSwimlane.prototype.getImageBounds=function($a$$,$b$$,$c$$,$d$$){return this.isHorizontal()?new mxRectangle($a$$+$c$$-this.imageSize,$b$$,this.imageSize,this.imageSize):new mxRectangle($a$$,$b$$,this.imageSize,this.imageSize)};function mxGraphLayout($a$$){this.graph=$a$$}mxGraphLayout.prototype.graph=null;mxGraphLayout.prototype.useBoundingBox=!0;mxGraphLayout.prototype.parent=null;mxGraphLayout.prototype.moveCell=function($a$$,$b$$,$c$$){};mxGraphLayout.prototype.resizeCell=function($a$$,$b$$){};
mxGraphLayout.prototype.execute=function($a$$){};mxGraphLayout.prototype.getGraph=function(){return this.graph};mxGraphLayout.prototype.getConstraint=function($a$$,$b$$,$c$$,$d$$){return this.graph.getCurrentCellStyle($b$$)[$a$$]};
mxGraphLayout.traverse=function($a$$,$b$$,$c$$,$d$$,$e$$){if(null!=$c$$&&null!=$a$$&&($b$$=null!=$b$$?$b$$:!0,$e$$=$e$$||new mxDictionary,!$e$$.get($a$$)&&($e$$.put($a$$,!0),$d$$=$c$$($a$$,$d$$),null==$d$$||$d$$))&&($d$$=this.graph.model.getEdgeCount($a$$),0<$d$$))for(var $f$$=0;$f$$<$d$$;$f$$++){var $g$$=this.graph.model.getEdgeAt($a$$,$f$$),$k$$=this.graph.model.getTerminal($g$$,!0)==$a$$;if(!$b$$||$k$$)$k$$=this.graph.view.getVisibleTerminal($g$$,!$k$$),this.traverse($k$$,$b$$,$c$$,$g$$,$e$$)}};
mxGraphLayout.prototype.isAncestor=function($a$$,$b$$,$c$$){if(!$c$$)return this.graph.model.getParent($b$$)==$a$$;if($b$$==$a$$)return!1;for(;null!=$b$$&&$b$$!=$a$$;)$b$$=this.graph.model.getParent($b$$);return $b$$==$a$$};mxGraphLayout.prototype.isVertexMovable=function($a$$){return this.graph.isCellMovable($a$$)};mxGraphLayout.prototype.isVertexIgnored=function($a$$){return!this.graph.getModel().isVertex($a$$)||!this.graph.getModel().isVisible($a$$)};
mxGraphLayout.prototype.isEdgeIgnored=function($a$$){var $b$$=this.graph.getModel();return!$b$$.isEdge($a$$)||!this.graph.getModel().isVisible($a$$)||null==$b$$.getTerminal($a$$,!0)||null==$b$$.getTerminal($a$$,!1)};mxGraphLayout.prototype.setEdgeStyleEnabled=function($a$$,$b$$){this.graph.setCellStyles(mxConstants.STYLE_NOEDGESTYLE,$b$$?"0":"1",[$a$$])};mxGraphLayout.prototype.setOrthogonalEdge=function($a$$,$b$$){this.graph.setCellStyles(mxConstants.STYLE_ORTHOGONAL,$b$$?"1":"0",[$a$$])};
mxGraphLayout.prototype.getParentOffset=function($a$$){var $b$$=new mxPoint;if(null!=$a$$&&$a$$!=this.parent){var $c$$=this.graph.getModel();if($c$$.isAncestor(this.parent,$a$$))for(var $d$$=$c$$.getGeometry($a$$);$a$$!=this.parent;)$b$$.x+=$d$$.x,$b$$.y+=$d$$.y,$a$$=$c$$.getParent($a$$),$d$$=$c$$.getGeometry($a$$)}return $b$$};
mxGraphLayout.prototype.setEdgePoints=function($a$$,$b$$){if(null!=$a$$){var $c$$=this.graph.model,$d$$=$c$$.getGeometry($a$$);null==$d$$?($d$$=new mxGeometry,$d$$.setRelative(!0)):$d$$=$d$$.clone();if(null!=this.parent&&null!=$b$$){var $e$$=$c$$.getParent($a$$);$e$$=this.getParentOffset($e$$);for(var $f$$=0;$f$$<$b$$.length;$f$$++)$b$$[$f$$].x-=$e$$.x,$b$$[$f$$].y-=$e$$.y}$d$$.points=$b$$;$c$$.setGeometry($a$$,$d$$)}};
mxGraphLayout.prototype.setVertexLocation=function($a$$,$b$$,$c$$){var $d$$=this.graph.getModel(),$e$$=$d$$.getGeometry($a$$),$f$$=null;if(null!=$e$$){$f$$=new mxRectangle($b$$,$c$$,$e$$.width,$e$$.height);if(this.useBoundingBox){var $g$$=this.graph.getView().getState($a$$);if(null!=$g$$&&null!=$g$$.text&&null!=$g$$.text.boundingBox){var $k$$=this.graph.getView().scale,$l$$=$g$$.text.boundingBox;$g$$.text.boundingBox.x<$g$$.x&&($b$$+=($g$$.x-$l$$.x)/$k$$,$f$$.width=$l$$.width);$g$$.text.boundingBox.y<
$g$$.y&&($c$$+=($g$$.y-$l$$.y)/$k$$,$f$$.height=$l$$.height)}}null!=this.parent&&($g$$=$d$$.getParent($a$$),null!=$g$$&&$g$$!=this.parent&&($g$$=this.getParentOffset($g$$),$b$$-=$g$$.x,$c$$-=$g$$.y));if($e$$.x!=$b$$||$e$$.y!=$c$$)$e$$=$e$$.clone(),$e$$.x=$b$$,$e$$.y=$c$$,$d$$.setGeometry($a$$,$e$$)}return $f$$};
mxGraphLayout.prototype.getVertexBounds=function($a$$){var $b$$=this.graph.getModel().getGeometry($a$$);if(this.useBoundingBox){var $c$$=this.graph.getView().getState($a$$);if(null!=$c$$&&null!=$c$$.text&&null!=$c$$.text.boundingBox){var $d$$=this.graph.getView().scale,$e$$=$c$$.text.boundingBox,$f$$=Math.max($c$$.x-$e$$.x,0)/$d$$,$g$$=Math.max($c$$.y-$e$$.y,0)/$d$$;$b$$=new mxRectangle($b$$.x-$f$$,$b$$.y-$g$$,$b$$.width+$f$$+Math.max($e$$.x+$e$$.width-($c$$.x+$c$$.width),0)/$d$$,$b$$.height+$g$$+
Math.max($e$$.y+$e$$.height-($c$$.y+$c$$.height),0)/$d$$)}}null!=this.parent&&($a$$=this.graph.getModel().getParent($a$$),$b$$=$b$$.clone(),null!=$a$$&&$a$$!=this.parent&&($a$$=this.getParentOffset($a$$),$b$$.x+=$a$$.x,$b$$.y+=$a$$.y));return new mxRectangle($b$$.x,$b$$.y,$b$$.width,$b$$.height)};mxGraphLayout.prototype.arrangeGroups=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){return this.graph.updateGroupBounds($a$$,$b$$,!0,$c$$,$d$$,$e$$,$f$$)};
function WeightedCellSorter($a$$,$b$$){this.cell=$a$$;this.weightedValue=$b$$}WeightedCellSorter.prototype.weightedValue=0;WeightedCellSorter.prototype.nudge=!1;WeightedCellSorter.prototype.visited=!1;WeightedCellSorter.prototype.rankIndex=null;WeightedCellSorter.prototype.cell=null;WeightedCellSorter.prototype.compare=function($a$$,$b$$){return null!=$a$$&&null!=$b$$?$b$$.weightedValue>$a$$.weightedValue?-1:$b$$.weightedValue<$a$$.weightedValue?1:$b$$.nudge?-1:1:0};
function mxStackLayout($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){mxGraphLayout.call(this,$a$$);this.horizontal=null!=$b$$?$b$$:!0;this.spacing=null!=$c$$?$c$$:0;this.x0=null!=$d$$?$d$$:0;this.y0=null!=$e$$?$e$$:0;this.border=null!=$f$$?$f$$:0}mxStackLayout.prototype=new mxGraphLayout;mxStackLayout.prototype.constructor=mxStackLayout;mxStackLayout.prototype.horizontal=null;mxStackLayout.prototype.spacing=null;mxStackLayout.prototype.x0=null;mxStackLayout.prototype.y0=null;mxStackLayout.prototype.border=0;
mxStackLayout.prototype.marginTop=0;mxStackLayout.prototype.marginLeft=0;mxStackLayout.prototype.marginRight=0;mxStackLayout.prototype.marginBottom=0;mxStackLayout.prototype.keepFirstLocation=!1;mxStackLayout.prototype.fill=!1;mxStackLayout.prototype.resizeParent=!1;mxStackLayout.prototype.resizeParentMax=!1;mxStackLayout.prototype.resizeLast=!1;mxStackLayout.prototype.wrap=null;mxStackLayout.prototype.borderCollapse=!0;mxStackLayout.prototype.allowGaps=!1;mxStackLayout.prototype.gridSize=0;
mxStackLayout.prototype.isHorizontal=function(){return this.horizontal};
mxStackLayout.prototype.moveCell=function($a$$,$b$$,$c$$){var $d$$=this.graph.getModel(),$e$$=$d$$.getParent($a$$),$f$$=this.isHorizontal();if(null!=$a$$&&null!=$e$$){var $g$$=0,$k$$=$d$$.getChildCount($e$$);$c$$=$f$$?$b$$:$c$$;$b$$=this.graph.getView().getState($e$$);null!=$b$$&&($c$$-=$f$$?$b$$.x:$b$$.y);$c$$/=this.graph.view.scale;for($b$$=0;$b$$<$k$$;$b$$++){var $l$$=$d$$.getChildAt($e$$,$b$$);if($l$$!=$a$$&&($l$$=$d$$.getGeometry($l$$),null!=$l$$)){$l$$=$f$$?$l$$.x+$l$$.width/2:$l$$.y+$l$$.height/
2;if($g$$<=$c$$&&$l$$>$c$$)break;$g$$=$l$$}}$f$$=$e$$.getIndex($a$$);$f$$=Math.max(0,$b$$-($b$$>$f$$?1:0));$d$$.add($e$$,$a$$,$f$$)}};mxStackLayout.prototype.getParentSize=function($a$$){var $b$$=this.graph.getModel(),$c$$=$b$$.getGeometry($a$$);null!=this.graph.container&&(null==$c$$&&$b$$.isLayer($a$$)||$a$$==this.graph.getView().currentRoot)&&($c$$=new mxRectangle(0,0,this.graph.container.offsetWidth-1,this.graph.container.offsetHeight-1));return $c$$};
mxStackLayout.prototype.getLayoutCells=function($a$$){for(var $b$$=this.graph.getModel(),$c$$=$b$$.getChildCount($a$$),$d$$=[],$e$$=0;$e$$<$c$$;$e$$++){var $f$$=$b$$.getChildAt($a$$,$e$$);!this.isVertexIgnored($f$$)&&this.isVertexMovable($f$$)&&$d$$.push($f$$)}this.allowGaps&&$d$$.sort(mxUtils.bind(this,function($g$$,$k$$){$g$$=this.graph.getCellGeometry($g$$);$k$$=this.graph.getCellGeometry($k$$);return this.horizontal?$g$$.x==$k$$.x?0:$g$$.x>$k$$.x>0?1:-1:$g$$.y==$k$$.y?0:$g$$.y>$k$$.y>0?1:-1}));
return $d$$};mxStackLayout.prototype.snap=function($a$$){if(null!=this.gridSize&&0<this.gridSize&&($a$$=Math.max($a$$,this.gridSize),1<$a$$/this.gridSize)){var $b$$=$a$$%this.gridSize;$a$$+=$b$$>this.gridSize/2?this.gridSize-$b$$:-$b$$}return $a$$};
mxStackLayout.prototype.execute=function($a$$){if(null!=$a$$){var $b$$=this.getParentSize($a$$),$c$$=this.isHorizontal(),$d$$=this.graph.getModel(),$e$$=null;null!=$b$$&&($e$$=$c$$?$b$$.height-this.marginTop-this.marginBottom:$b$$.width-this.marginLeft-this.marginRight);$e$$-=2*this.border;var $f$$=this.x0+this.border+this.marginLeft,$g$$=this.y0+this.border+this.marginTop;if(this.graph.isSwimlane($a$$)){var $k$$=this.graph.getCellStyle($a$$),$l$$=mxUtils.getNumber($k$$,mxConstants.STYLE_STARTSIZE,
mxConstants.DEFAULT_STARTSIZE);$k$$=1==mxUtils.getValue($k$$,mxConstants.STYLE_HORIZONTAL,!0);null!=$b$$&&($l$$=$k$$?Math.min($l$$,$b$$.height):Math.min($l$$,$b$$.width));$c$$==$k$$&&($e$$-=$l$$);$k$$?$g$$+=$l$$:$f$$+=$l$$}$d$$.beginUpdate();try{$l$$=0;$k$$=null;for(var $m$$=0,$n$$=null,$p$$=this.getLayoutCells($a$$),$q$$=0;$q$$<$p$$.length;$q$$++){var $r$$=$p$$[$q$$],$t$$=$d$$.getGeometry($r$$);if(null!=$t$$){$t$$=$t$$.clone();null!=this.wrap&&null!=$k$$&&($c$$&&$k$$.x+$k$$.width+$t$$.width+2*this.spacing>
this.wrap||!$c$$&&$k$$.y+$k$$.height+$t$$.height+2*this.spacing>this.wrap)&&($k$$=null,$c$$?$g$$+=$l$$+this.spacing:$f$$+=$l$$+this.spacing,$l$$=0);$l$$=Math.max($l$$,$c$$?$t$$.height:$t$$.width);var $u$$=0;if(!this.borderCollapse){var $x$$=this.graph.getCellStyle($r$$);$u$$=mxUtils.getNumber($x$$,mxConstants.STYLE_STROKEWIDTH,1)}if(null!=$k$$){var $y$$=$m$$+this.spacing+Math.floor($u$$/2);$c$$?$t$$.x=this.snap((this.allowGaps?Math.max($y$$,$t$$.x):$y$$)-this.marginLeft)+this.marginLeft:$t$$.y=this.snap((this.allowGaps?
Math.max($y$$,$t$$.y):$y$$)-this.marginTop)+this.marginTop}else this.keepFirstLocation||($c$$?$t$$.x=this.allowGaps&&$t$$.x>$f$$?Math.max(this.snap($t$$.x-this.marginLeft)+this.marginLeft,$f$$):$f$$:$t$$.y=this.allowGaps&&$t$$.y>$g$$?Math.max(this.snap($t$$.y-this.marginTop)+this.marginTop,$g$$):$g$$);$c$$?$t$$.y=$g$$:$t$$.x=$f$$;this.fill&&null!=$e$$&&($c$$?$t$$.height=$e$$:$t$$.width=$e$$);$c$$?$t$$.width=this.snap($t$$.width):$t$$.height=this.snap($t$$.height);this.setChildGeometry($r$$,$t$$);
$n$$=$r$$;$k$$=$t$$;$m$$=$c$$?$k$$.x+$k$$.width+Math.floor($u$$/2):$k$$.y+$k$$.height+Math.floor($u$$/2)}}this.resizeParent&&null!=$b$$&&null!=$k$$&&!this.graph.isCellCollapsed($a$$)?this.updateParentGeometry($a$$,$b$$,$k$$):this.resizeLast&&null!=$b$$&&null!=$k$$&&null!=$n$$&&($c$$?$k$$.width=$b$$.width-$k$$.x-this.spacing-this.marginRight-this.marginLeft:$k$$.height=$b$$.height-$k$$.y-this.spacing-this.marginBottom,this.setChildGeometry($n$$,$k$$))}finally{$d$$.endUpdate()}}};
mxStackLayout.prototype.setChildGeometry=function($a$$,$b$$){var $c$$=this.graph.getCellGeometry($a$$);null!=$c$$&&$b$$.x==$c$$.x&&$b$$.y==$c$$.y&&$b$$.width==$c$$.width&&$b$$.height==$c$$.height||this.graph.getModel().setGeometry($a$$,$b$$)};
mxStackLayout.prototype.updateParentGeometry=function($a$$,$b$$,$c$$){var $d$$=this.isHorizontal(),$e$$=this.graph.getModel(),$f$$=$b$$.clone();$d$$?($c$$=$c$$.x+$c$$.width+this.marginRight+this.border,$f$$.width=this.resizeParentMax?Math.max($f$$.width,$c$$):$c$$):($c$$=$c$$.y+$c$$.height+this.marginBottom+this.border,$f$$.height=this.resizeParentMax?Math.max($f$$.height,$c$$):$c$$);$b$$.x==$f$$.x&&$b$$.y==$f$$.y&&$b$$.width==$f$$.width&&$b$$.height==$f$$.height||$e$$.setGeometry($a$$,$f$$)};
function mxPartitionLayout($a$$,$b$$,$c$$,$d$$){mxGraphLayout.call(this,$a$$);this.horizontal=null!=$b$$?$b$$:!0;this.spacing=$c$$||0;this.border=$d$$||0}mxPartitionLayout.prototype=new mxGraphLayout;mxPartitionLayout.prototype.constructor=mxPartitionLayout;mxPartitionLayout.prototype.horizontal=null;mxPartitionLayout.prototype.spacing=null;mxPartitionLayout.prototype.border=null;mxPartitionLayout.prototype.resizeVertices=!0;mxPartitionLayout.prototype.isHorizontal=function(){return this.horizontal};
mxPartitionLayout.prototype.moveCell=function($a$$,$b$$,$c$$){$c$$=this.graph.getModel();var $d$$=$c$$.getParent($a$$);if(null!=$a$$&&null!=$d$$){var $e$$,$f$$=0,$g$$=$c$$.getChildCount($d$$);for($e$$=0;$e$$<$g$$;$e$$++){var $k$$=$c$$.getChildAt($d$$,$e$$);$k$$=this.getVertexBounds($k$$);if(null!=$k$$){$k$$=$k$$.x+$k$$.width/2;if($f$$<$b$$&&$k$$>$b$$)break;$f$$=$k$$}}$b$$=$d$$.getIndex($a$$);$b$$=Math.max(0,$e$$-($e$$>$b$$?1:0));$c$$.add($d$$,$a$$,$b$$)}};
mxPartitionLayout.prototype.execute=function($a$$){var $b$$=this.isHorizontal(),$c$$=this.graph.getModel(),$d$$=$c$$.getGeometry($a$$);null!=this.graph.container&&(null==$d$$&&$c$$.isLayer($a$$)||$a$$==this.graph.getView().currentRoot)&&($d$$=new mxRectangle(0,0,this.graph.container.offsetWidth-1,this.graph.container.offsetHeight-1));if(null!=$d$$){for(var $e$$=[],$f$$=$c$$.getChildCount($a$$),$g$$=0;$g$$<$f$$;$g$$++){var $k$$=$c$$.getChildAt($a$$,$g$$);!this.isVertexIgnored($k$$)&&this.isVertexMovable($k$$)&&
$e$$.push($k$$)}$f$$=$e$$.length;if(0<$f$$){var $l$$=this.border,$m$$=this.border,$n$$=$b$$?$d$$.height:$d$$.width;$n$$-=2*this.border;$a$$=this.graph.isSwimlane($a$$)?this.graph.getStartSize($a$$):new mxRectangle;$n$$-=$b$$?$a$$.height:$a$$.width;$l$$+=$a$$.width;$m$$+=$a$$.height;$a$$=this.border+($f$$-1)*this.spacing;$d$$=$b$$?($d$$.width-$l$$-$a$$)/$f$$:($d$$.height-$m$$-$a$$)/$f$$;if(0<$d$$){$c$$.beginUpdate();try{for($g$$=0;$g$$<$f$$;$g$$++){$k$$=$e$$[$g$$];var $p$$=$c$$.getGeometry($k$$);null!=
$p$$&&($p$$=$p$$.clone(),$p$$.x=$l$$,$p$$.y=$m$$,$b$$?(this.resizeVertices&&($p$$.width=$d$$,$p$$.height=$n$$),$l$$+=$d$$+this.spacing):(this.resizeVertices&&($p$$.height=$d$$,$p$$.width=$n$$),$m$$+=$d$$+this.spacing),$c$$.setGeometry($k$$,$p$$))}}finally{$c$$.endUpdate()}}}}};function mxCompactTreeLayout($a$$,$b$$,$c$$){mxGraphLayout.call(this,$a$$);this.horizontal=null!=$b$$?$b$$:!0;this.invert=null!=$c$$?$c$$:!1}mxCompactTreeLayout.prototype=new mxGraphLayout;
mxCompactTreeLayout.prototype.constructor=mxCompactTreeLayout;mxCompactTreeLayout.prototype.horizontal=null;mxCompactTreeLayout.prototype.invert=null;mxCompactTreeLayout.prototype.resizeParent=!0;mxCompactTreeLayout.prototype.maintainParentLocation=!1;mxCompactTreeLayout.prototype.groupPadding=10;mxCompactTreeLayout.prototype.groupPaddingTop=0;mxCompactTreeLayout.prototype.groupPaddingRight=0;mxCompactTreeLayout.prototype.groupPaddingBottom=0;mxCompactTreeLayout.prototype.groupPaddingLeft=0;
mxCompactTreeLayout.prototype.parentsChanged=null;mxCompactTreeLayout.prototype.moveTree=!1;mxCompactTreeLayout.prototype.visited=null;mxCompactTreeLayout.prototype.levelDistance=10;mxCompactTreeLayout.prototype.nodeDistance=20;mxCompactTreeLayout.prototype.resetEdges=!0;mxCompactTreeLayout.prototype.prefHozEdgeSep=5;mxCompactTreeLayout.prototype.prefVertEdgeOff=4;mxCompactTreeLayout.prototype.minEdgeJetty=8;mxCompactTreeLayout.prototype.channelBuffer=4;mxCompactTreeLayout.prototype.edgeRouting=!0;
mxCompactTreeLayout.prototype.sortEdges=!1;mxCompactTreeLayout.prototype.alignRanks=!1;mxCompactTreeLayout.prototype.maxRankHeight=null;mxCompactTreeLayout.prototype.root=null;mxCompactTreeLayout.prototype.node=null;mxCompactTreeLayout.prototype.isVertexIgnored=function($a$$){return mxGraphLayout.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections($a$$).length};mxCompactTreeLayout.prototype.isHorizontal=function(){return this.horizontal};
mxCompactTreeLayout.prototype.execute=function($a$$,$b$$){this.parent=$a$$;var $c$$=this.graph.getModel();if(null==$b$$)if(0<this.graph.getEdges($a$$,$c$$.getParent($a$$),this.invert,!this.invert,!1).length)this.root=$a$$;else{if($b$$=this.graph.findTreeRoots($a$$,!0,this.invert),0<$b$$.length)for(var $d$$=0;$d$$<$b$$.length;$d$$++)if(!this.isVertexIgnored($b$$[$d$$])&&0<this.graph.getEdges($b$$[$d$$],null,this.invert,!this.invert,!1).length){this.root=$b$$[$d$$];break}}else this.root=$b$$;if(null!=
this.root){this.parentsChanged=this.resizeParent?{}:null;this.parentY=this.parentX=null;if($a$$!=this.root&&null!=$c$$.isVertex($a$$)&&this.maintainParentLocation){var $e$$=this.graph.getCellGeometry($a$$);null!=$e$$&&(this.parentX=$e$$.x,this.parentY=$e$$.y)}$c$$.beginUpdate();try{if(this.visited={},this.node=this.dfs(this.root,$a$$),this.alignRanks&&(this.maxRankHeight=[],this.findRankHeights(this.node,0),this.setCellHeights(this.node,0)),null!=this.node){this.layout(this.node);var $f$$=this.graph.gridSize;
$b$$=$f$$;if(!this.moveTree){var $g$$=this.getVertexBounds(this.root);null!=$g$$&&($f$$=$g$$.x,$b$$=$g$$.y)}$g$$=null;$g$$=this.isHorizontal()?this.horizontalLayout(this.node,$f$$,$b$$):this.verticalLayout(this.node,null,$f$$,$b$$);if(null!=$g$$){var $k$$=$d$$=0;0>$g$$.x&&($d$$=Math.abs($f$$-$g$$.x));0>$g$$.y&&($k$$=Math.abs($b$$-$g$$.y));0==$d$$&&0==$k$$||this.moveNode(this.node,$d$$,$k$$);this.resizeParent&&this.adjustParents();this.edgeRouting&&this.localEdgeProcessing(this.node)}null!=this.parentX&&
null!=this.parentY&&($e$$=this.graph.getCellGeometry($a$$),null!=$e$$&&($e$$=$e$$.clone(),$e$$.x=this.parentX,$e$$.y=this.parentY,$c$$.setGeometry($a$$,$e$$)))}}finally{$c$$.endUpdate()}}};mxCompactTreeLayout.prototype.moveNode=function($a$$,$b$$,$c$$){$a$$.x+=$b$$;$a$$.y+=$c$$;this.apply($a$$);for($a$$=$a$$.child;null!=$a$$;)this.moveNode($a$$,$b$$,$c$$),$a$$=$a$$.next};
mxCompactTreeLayout.prototype.sortOutgoingEdges=function($a$$,$b$$){var $c$$=new mxDictionary;$b$$.sort(function($d$$,$e$$){var $f$$=$d$$.getTerminal($d$$.getTerminal(!1)==$a$$);$d$$=$c$$.get($f$$);null==$d$$&&($d$$=mxCellPath.create($f$$).split(mxCellPath.PATH_SEPARATOR),$c$$.put($f$$,$d$$));$e$$=$e$$.getTerminal($e$$.getTerminal(!1)==$a$$);$f$$=$c$$.get($e$$);null==$f$$&&($f$$=mxCellPath.create($e$$).split(mxCellPath.PATH_SEPARATOR),$c$$.put($e$$,$f$$));return mxCellPath.compare($d$$,$f$$)})};
mxCompactTreeLayout.prototype.findRankHeights=function($a$$,$b$$){if(null==this.maxRankHeight[$b$$]||this.maxRankHeight[$b$$]<$a$$.height)this.maxRankHeight[$b$$]=$a$$.height;for($a$$=$a$$.child;null!=$a$$;)this.findRankHeights($a$$,$b$$+1),$a$$=$a$$.next};
mxCompactTreeLayout.prototype.setCellHeights=function($a$$,$b$$){null!=this.maxRankHeight[$b$$]&&this.maxRankHeight[$b$$]>$a$$.height&&($a$$.height=this.maxRankHeight[$b$$]);for($a$$=$a$$.child;null!=$a$$;)this.setCellHeights($a$$,$b$$+1),$a$$=$a$$.next};
mxCompactTreeLayout.prototype.dfs=function($a$$,$b$$){var $c$$=mxCellPath.create($a$$),$d$$=null;if(null!=$a$$&&null==this.visited[$c$$]&&!this.isVertexIgnored($a$$)){this.visited[$c$$]=$a$$;$d$$=this.createNode($a$$);$c$$=this.graph.getModel();var $e$$=null,$f$$=this.graph.getEdges($a$$,$b$$,this.invert,!this.invert,!1,!0),$g$$=this.graph.getView();this.sortEdges&&this.sortOutgoingEdges($a$$,$f$$);for($a$$=0;$a$$<$f$$.length;$a$$++){var $k$$=$f$$[$a$$];if(!this.isEdgeIgnored($k$$)){this.resetEdges&&
this.setEdgePoints($k$$,null);this.edgeRouting&&(this.setEdgeStyleEnabled($k$$,!1),this.setEdgePoints($k$$,null));var $l$$=$g$$.getState($k$$);$k$$=null!=$l$$?$l$$.getVisibleTerminal(this.invert):$g$$.getVisibleTerminal($k$$,this.invert);$l$$=this.dfs($k$$,$b$$);null!=$l$$&&null!=$c$$.getGeometry($k$$)&&(null==$e$$?$d$$.child=$l$$:$e$$.next=$l$$,$e$$=$l$$)}}}return $d$$};
mxCompactTreeLayout.prototype.layout=function($a$$){if(null!=$a$$){for(var $b$$=$a$$.child;null!=$b$$;)this.layout($b$$),$b$$=$b$$.next;null!=$a$$.child?this.attachParent($a$$,this.join($a$$)):this.layoutLeaf($a$$)}};
mxCompactTreeLayout.prototype.horizontalLayout=function($a$$,$b$$,$c$$,$d$$){$a$$.x+=$b$$+$a$$.offsetX;$a$$.y+=$c$$+$a$$.offsetY;$d$$=this.apply($a$$,$d$$);$b$$=$a$$.child;if(null!=$b$$){$d$$=this.horizontalLayout($b$$,$a$$.x,$a$$.y,$d$$);$c$$=$a$$.y+$b$$.offsetY;for(var $e$$=$b$$.next;null!=$e$$;)$d$$=this.horizontalLayout($e$$,$a$$.x+$b$$.offsetX,$c$$,$d$$),$c$$+=$e$$.offsetY,$e$$=$e$$.next}return $d$$};
mxCompactTreeLayout.prototype.verticalLayout=function($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.x+=$c$$+$a$$.offsetY;$a$$.y+=$d$$+$a$$.offsetX;$e$$=this.apply($a$$,$e$$);$b$$=$a$$.child;if(null!=$b$$)for($e$$=this.verticalLayout($b$$,$a$$,$a$$.x,$a$$.y,$e$$),$c$$=$a$$.x+$b$$.offsetY,$d$$=$b$$.next;null!=$d$$;)$e$$=this.verticalLayout($d$$,$a$$,$c$$,$a$$.y+$b$$.offsetX,$e$$),$c$$+=$d$$.offsetY,$d$$=$d$$.next;return $e$$};
mxCompactTreeLayout.prototype.attachParent=function($a$$,$b$$){var $c$$=this.nodeDistance+this.levelDistance,$d$$=($b$$-$a$$.width)/2-this.nodeDistance;$b$$=$d$$+$a$$.width+2*this.nodeDistance-$b$$;$a$$.child.offsetX=$c$$+$a$$.height;$a$$.child.offsetY=$b$$;$a$$.contour.upperHead=this.createLine($a$$.height,0,this.createLine($c$$,$b$$,$a$$.contour.upperHead));$a$$.contour.lowerHead=this.createLine($a$$.height,0,this.createLine($c$$,$d$$,$a$$.contour.lowerHead))};
mxCompactTreeLayout.prototype.layoutLeaf=function($a$$){var $b$$=2*this.nodeDistance;$a$$.contour.upperTail=this.createLine($a$$.height+$b$$,0);$a$$.contour.upperHead=$a$$.contour.upperTail;$a$$.contour.lowerTail=this.createLine(0,-$a$$.width-$b$$);$a$$.contour.lowerHead=this.createLine($a$$.height+$b$$,0,$a$$.contour.lowerTail)};
mxCompactTreeLayout.prototype.join=function($a$$){var $b$$=2*this.nodeDistance,$c$$=$a$$.child;$a$$.contour=$c$$.contour;var $d$$=$c$$.width+$b$$,$e$$=$d$$;for($c$$=$c$$.next;null!=$c$$;){var $f$$=this.merge($a$$.contour,$c$$.contour);$c$$.offsetY=$f$$+$d$$;$c$$.offsetX=0;$d$$=$c$$.width+$b$$;$e$$+=$f$$+$d$$;$c$$=$c$$.next}return $e$$};
mxCompactTreeLayout.prototype.merge=function($a$$,$b$$){for(var $c$$=0,$d$$=0,$e$$=0,$f$$=$a$$.lowerHead,$g$$=$b$$.upperHead;null!=$g$$&&null!=$f$$;){var $k$$=this.offset($c$$,$d$$,$g$$.dx,$g$$.dy,$f$$.dx,$f$$.dy);$d$$+=$k$$;$e$$+=$k$$;$c$$+$g$$.dx<=$f$$.dx?($c$$+=$g$$.dx,$d$$+=$g$$.dy,$g$$=$g$$.next):($c$$-=$f$$.dx,$d$$-=$f$$.dy,$f$$=$f$$.next)}null!=$g$$?($c$$=this.bridge($a$$.upperTail,0,0,$g$$,$c$$,$d$$),$a$$.upperTail=null!=$c$$.next?$b$$.upperTail:$c$$,$a$$.lowerTail=$b$$.lowerTail):($c$$=this.bridge($b$$.lowerTail,
$c$$,$d$$,$f$$,0,0),null==$c$$.next&&($a$$.lowerTail=$c$$));$a$$.lowerHead=$b$$.lowerHead;return $e$$};mxCompactTreeLayout.prototype.offset=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if($e$$<=$a$$||0>=$a$$+$c$$)return 0;$a$$=0<$e$$*$d$$-$c$$*$f$$?0>$a$$?$a$$*$d$$/$c$$-$b$$:0<$a$$?$a$$*$f$$/$e$$-$b$$:-$b$$:$e$$<$a$$+$c$$?$f$$-($b$$+($e$$-$a$$)*$d$$/$c$$):$e$$>$a$$+$c$$?($c$$+$a$$)*$f$$/$e$$-($b$$+$d$$):$f$$-($b$$+$d$$);return 0<$a$$?$a$$:0};
mxCompactTreeLayout.prototype.bridge=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$b$$=$e$$+$d$$.dx-$b$$;0==$d$$.dx?$e$$=$d$$.dy:($e$$=$b$$*$d$$.dy,$e$$/=$d$$.dx);$b$$=this.createLine($b$$,$e$$,$d$$.next);$a$$.next=this.createLine(0,$f$$+$d$$.dy-$e$$-$c$$,$b$$);return $b$$};
mxCompactTreeLayout.prototype.createNode=function($a$$){var $b$$={};$b$$.cell=$a$$;$b$$.x=0;$b$$.y=0;$b$$.width=0;$b$$.height=0;$a$$=this.getVertexBounds($a$$);null!=$a$$&&(this.isHorizontal()?($b$$.width=$a$$.height,$b$$.height=$a$$.width):($b$$.width=$a$$.width,$b$$.height=$a$$.height));$b$$.offsetX=0;$b$$.offsetY=0;$b$$.contour={};return $b$$};
mxCompactTreeLayout.prototype.apply=function($a$$,$b$$){var $c$$=this.graph.getModel(),$d$$=$a$$.cell,$e$$=$c$$.getGeometry($d$$);null!=$d$$&&null!=$e$$&&(this.isVertexMovable($d$$)&&($e$$=this.setVertexLocation($d$$,$a$$.x,$a$$.y),this.resizeParent&&($a$$=$c$$.getParent($d$$),$c$$=mxCellPath.create($a$$),null==this.parentsChanged[$c$$]&&(this.parentsChanged[$c$$]=$a$$))),$b$$=null==$b$$?new mxRectangle($e$$.x,$e$$.y,$e$$.width,$e$$.height):new mxRectangle(Math.min($b$$.x,$e$$.x),Math.min($b$$.y,
$e$$.y),Math.max($b$$.x+$b$$.width,$e$$.x+$e$$.width),Math.max($b$$.y+$b$$.height,$e$$.y+$e$$.height)));return $b$$};mxCompactTreeLayout.prototype.createLine=function($a$$,$b$$,$c$$){var $d$$={};$d$$.dx=$a$$;$d$$.dy=$b$$;$d$$.next=$c$$;return $d$$};
mxCompactTreeLayout.prototype.adjustParents=function(){var $a$$=[],$b$$;for($b$$ in this.parentsChanged)$a$$.push(this.parentsChanged[$b$$]);this.arrangeGroups(mxUtils.sortCells($a$$,!0),this.groupPadding,this.groupPaddingTop,this.groupPaddingRight,this.groupPaddingBottom,this.groupPaddingLeft)};mxCompactTreeLayout.prototype.localEdgeProcessing=function($a$$){this.processNodeOutgoing($a$$);for($a$$=$a$$.child;null!=$a$$;)this.localEdgeProcessing($a$$),$a$$=$a$$.next};
mxCompactTreeLayout.prototype.processNodeOutgoing=function($a$$){for(var $b$$=$a$$.child,$c$$=$a$$.cell,$d$$=0,$e$$=[];null!=$b$$;){$d$$++;var $f$$=$b$$.x;this.horizontal&&($f$$=$b$$.y);$e$$.push(new WeightedCellSorter($b$$,$f$$));$b$$=$b$$.next}$e$$.sort(WeightedCellSorter.prototype.compare);$f$$=$a$$.width;var $g$$=($d$$+1)*this.prefHozEdgeSep;$f$$>$g$$+2*this.prefHozEdgeSep&&($f$$-=2*this.prefHozEdgeSep);$a$$=$f$$/$d$$;$b$$=$a$$/2;$f$$>$g$$+2*this.prefHozEdgeSep&&($b$$+=this.prefHozEdgeSep);$f$$=
this.minEdgeJetty-this.prefVertEdgeOff;$g$$=this.getVertexBounds($c$$);for(var $k$$=0;$k$$<$e$$.length;$k$$++){var $l$$=$e$$[$k$$].cell.cell,$m$$=this.getVertexBounds($l$$);$l$$=this.graph.getEdgesBetween($c$$,$l$$,!1);for(var $n$$=[],$p$$,$q$$,$r$$=0;$r$$<$l$$.length;$r$$++)this.horizontal?($p$$=$g$$.x+$g$$.width,$q$$=$g$$.y+$b$$,$n$$.push(new mxPoint($p$$,$q$$)),$p$$=$g$$.x+$g$$.width+$f$$,$n$$.push(new mxPoint($p$$,$q$$)),$q$$=$m$$.y+$m$$.height/2):($p$$=$g$$.x+$b$$,$q$$=$g$$.y+$g$$.height,$n$$.push(new mxPoint($p$$,
$q$$)),$q$$=$g$$.y+$g$$.height+$f$$,$n$$.push(new mxPoint($p$$,$q$$)),$p$$=$m$$.x+$m$$.width/2),$n$$.push(new mxPoint($p$$,$q$$)),this.setEdgePoints($l$$[$r$$],$n$$);$k$$<$d$$/2?$f$$+=this.prefVertEdgeOff:$k$$>$d$$/2&&($f$$-=this.prefVertEdgeOff);$b$$+=$a$$}};function mxRadialTreeLayout($a$$){mxCompactTreeLayout.call(this,$a$$,!1)}mxUtils.extend(mxRadialTreeLayout,mxCompactTreeLayout);mxRadialTreeLayout.prototype.angleOffset=.5;mxRadialTreeLayout.prototype.rootx=0;
mxRadialTreeLayout.prototype.rooty=0;mxRadialTreeLayout.prototype.levelDistance=120;mxRadialTreeLayout.prototype.nodeDistance=10;mxRadialTreeLayout.prototype.autoRadius=!1;mxRadialTreeLayout.prototype.sortEdges=!1;mxRadialTreeLayout.prototype.rowMinX=[];mxRadialTreeLayout.prototype.rowMaxX=[];mxRadialTreeLayout.prototype.rowMinCenX=[];mxRadialTreeLayout.prototype.rowMaxCenX=[];mxRadialTreeLayout.prototype.rowRadi=[];mxRadialTreeLayout.prototype.row=[];
mxRadialTreeLayout.prototype.isVertexIgnored=function($a$$){return mxGraphLayout.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections($a$$).length};
mxRadialTreeLayout.prototype.execute=function($a$$,$b$$){this.parent=$a$$;this.edgeRouting=this.useBoundingBox=!1;mxCompactTreeLayout.prototype.execute.apply(this,arguments);var $c$$=null,$d$$=this.getVertexBounds(this.root);this.centerX=$d$$.x+$d$$.width/2;this.centerY=$d$$.y+$d$$.height/2;for(var $e$$ in this.visited){var $f$$=this.getVertexBounds(this.visited[$e$$]);$c$$=null!=$c$$?$c$$:$f$$.clone();$c$$.add($f$$)}this.calcRowDims([this.node],0);var $g$$=0,$k$$=0;for($c$$=0;$c$$<this.row.length;$c$$++)$e$$=
(this.rowMaxX[$c$$]-this.centerX-this.nodeDistance)/this.rowRadi[$c$$],$g$$=Math.max($g$$,(this.centerX-this.rowMinX[$c$$]-this.nodeDistance)/this.rowRadi[$c$$]),$k$$=Math.max($k$$,$e$$);for($c$$=0;$c$$<this.row.length;$c$$++){var $l$$=this.centerX-this.nodeDistance-$g$$*this.rowRadi[$c$$],$m$$=this.centerX+this.nodeDistance+$k$$*this.rowRadi[$c$$]-$l$$;for($e$$=0;$e$$<this.row[$c$$].length;$e$$++)$f$$=this.row[$c$$],$d$$=$f$$[$e$$],$f$$=this.getVertexBounds($d$$.cell),$d$$.theta=($f$$.x+$f$$.width/
2-$l$$)/$m$$*Math.PI*2}for($c$$=this.row.length-2;0<=$c$$;$c$$--)for($f$$=this.row[$c$$],$e$$=0;$e$$<$f$$.length;$e$$++){$d$$=$f$$[$e$$];$g$$=$d$$.child;for($l$$=$k$$=0;null!=$g$$;)$l$$+=$g$$.theta,$k$$++,$g$$=$g$$.next;0<$k$$&&($g$$=$l$$/$k$$,$g$$>$d$$.theta&&$e$$<$f$$.length-1?$d$$.theta=Math.min($g$$,$f$$[$e$$+1].theta-Math.PI/10):$g$$<$d$$.theta&&0<$e$$&&($d$$.theta=Math.max($g$$,$f$$[$e$$-1].theta+Math.PI/10)))}for($c$$=0;$c$$<this.row.length;$c$$++)for($e$$=0;$e$$<this.row[$c$$].length;$e$$++)$f$$=
this.row[$c$$],$d$$=$f$$[$e$$],$f$$=this.getVertexBounds($d$$.cell),this.setVertexLocation($d$$.cell,this.centerX-$f$$.width/2+this.rowRadi[$c$$]*Math.cos($d$$.theta),this.centerY-$f$$.height/2+this.rowRadi[$c$$]*Math.sin($d$$.theta))};
mxRadialTreeLayout.prototype.calcRowDims=function($a$$,$b$$){if(null!=$a$$&&0!=$a$$.length){this.rowMinX[$b$$]=this.centerX;this.rowMaxX[$b$$]=this.centerX;this.rowMinCenX[$b$$]=this.centerX;this.rowMaxCenX[$b$$]=this.centerX;this.row[$b$$]=[];for(var $c$$=!1,$d$$=0;$d$$<$a$$.length;$d$$++)for(var $e$$=null!=$a$$[$d$$]?$a$$[$d$$].child:null;null!=$e$$;){var $f$$=this.getVertexBounds($e$$.cell);this.rowMinX[$b$$]=Math.min($f$$.x,this.rowMinX[$b$$]);this.rowMaxX[$b$$]=Math.max($f$$.x+$f$$.width,this.rowMaxX[$b$$]);
this.rowMinCenX[$b$$]=Math.min($f$$.x+$f$$.width/2,this.rowMinCenX[$b$$]);this.rowMaxCenX[$b$$]=Math.max($f$$.x+$f$$.width/2,this.rowMaxCenX[$b$$]);this.rowRadi[$b$$]=$f$$.y-this.getVertexBounds(this.root).y;null!=$e$$.child&&($c$$=!0);this.row[$b$$].push($e$$);$e$$=$e$$.next}$c$$&&this.calcRowDims(this.row[$b$$],$b$$+1)}};function mxFastOrganicLayout($a$$){mxGraphLayout.call(this,$a$$)}mxFastOrganicLayout.prototype=new mxGraphLayout;mxFastOrganicLayout.prototype.constructor=mxFastOrganicLayout;
mxFastOrganicLayout.prototype.useInputOrigin=!0;mxFastOrganicLayout.prototype.resetEdges=!0;mxFastOrganicLayout.prototype.disableEdgeStyle=!0;mxFastOrganicLayout.prototype.forceConstant=50;mxFastOrganicLayout.prototype.forceConstantSquared=0;mxFastOrganicLayout.prototype.minDistanceLimit=2;mxFastOrganicLayout.prototype.maxDistanceLimit=500;mxFastOrganicLayout.prototype.minDistanceLimitSquared=4;mxFastOrganicLayout.prototype.initialTemp=200;mxFastOrganicLayout.prototype.temperature=0;
mxFastOrganicLayout.prototype.maxIterations=0;mxFastOrganicLayout.prototype.iteration=0;mxFastOrganicLayout.prototype.allowedToRun=!0;mxFastOrganicLayout.prototype.isVertexIgnored=function($a$$){return mxGraphLayout.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections($a$$).length};
mxFastOrganicLayout.prototype.execute=function($a$$){var $b$$=this.graph.getModel();this.vertexArray=[];for(var $c$$=this.graph.getChildVertices($a$$),$d$$=0;$d$$<$c$$.length;$d$$++)this.isVertexIgnored($c$$[$d$$])||this.vertexArray.push($c$$[$d$$]);var $e$$=this.useInputOrigin?this.graph.getBoundingBoxFromGeometry(this.vertexArray):null,$f$$=this.vertexArray.length;this.indices=[];this.dispX=[];this.dispY=[];this.cellLocation=[];this.isMoveable=[];this.neighbours=[];this.radius=[];this.radiusSquared=
[];.001>this.forceConstant&&(this.forceConstant=.001);this.forceConstantSquared=this.forceConstant*this.forceConstant;for($d$$=0;$d$$<this.vertexArray.length;$d$$++){var $g$$=this.vertexArray[$d$$];this.cellLocation[$d$$]=[];var $k$$=mxObjectIdentity.get($g$$);this.indices[$k$$]=$d$$;var $l$$=this.getVertexBounds($g$$),$m$$=$l$$.width,$n$$=$l$$.height,$p$$=$l$$.x,$q$$=$l$$.y;this.cellLocation[$d$$][0]=$p$$+$m$$/2;this.cellLocation[$d$$][1]=$q$$+$n$$/2;this.radius[$d$$]=Math.min($m$$,$n$$);this.radiusSquared[$d$$]=
this.radius[$d$$]*this.radius[$d$$]}$b$$.beginUpdate();try{for($d$$=0;$d$$<$f$$;$d$$++){this.dispX[$d$$]=0;this.dispY[$d$$]=0;this.isMoveable[$d$$]=this.isVertexMovable(this.vertexArray[$d$$]);var $r$$=this.graph.getConnections(this.vertexArray[$d$$],$a$$);$c$$=this.graph.getOpposites($r$$,this.vertexArray[$d$$]);this.neighbours[$d$$]=[];for($m$$=0;$m$$<$c$$.length;$m$$++){this.resetEdges&&this.graph.resetEdge($r$$[$m$$]);this.disableEdgeStyle&&this.setEdgeStyleEnabled($r$$[$m$$],!1);$k$$=mxObjectIdentity.get($c$$[$m$$]);
var $t$$=this.indices[$k$$];this.neighbours[$d$$][$m$$]=null!=$t$$?$t$$:$d$$}}this.temperature=this.initialTemp;0==this.maxIterations&&(this.maxIterations=20*Math.sqrt($f$$));for(this.iteration=0;this.iteration<this.maxIterations;this.iteration++){if(!this.allowedToRun)return;this.calcRepulsion();this.calcAttraction();this.calcPositions();this.reduceTemperature()}$a$$=$c$$=null;for($d$$=0;$d$$<this.vertexArray.length;$d$$++)$g$$=this.vertexArray[$d$$],this.isVertexMovable($g$$)&&($l$$=this.getVertexBounds($g$$),
null!=$l$$&&(this.cellLocation[$d$$][0]-=$l$$.width/2,this.cellLocation[$d$$][1]-=$l$$.height/2,$p$$=this.graph.snap(Math.round(this.cellLocation[$d$$][0])),$q$$=this.graph.snap(Math.round(this.cellLocation[$d$$][1])),this.setVertexLocation($g$$,$p$$,$q$$),$c$$=null==$c$$?$p$$:Math.min($c$$,$p$$),$a$$=null==$a$$?$q$$:Math.min($a$$,$q$$)));$d$$=-($c$$||0)+1;$g$$=-($a$$||0)+1;null!=$e$$&&($d$$+=$e$$.x,$g$$+=$e$$.y);this.graph.moveCells(this.vertexArray,$d$$,$g$$)}finally{$b$$.endUpdate()}};
mxFastOrganicLayout.prototype.calcPositions=function(){for(var $a$$=0;$a$$<this.vertexArray.length;$a$$++)if(this.isMoveable[$a$$]){var $b$$=Math.sqrt(this.dispX[$a$$]*this.dispX[$a$$]+this.dispY[$a$$]*this.dispY[$a$$]);.001>$b$$&&($b$$=.001);var $c$$=this.dispX[$a$$]/$b$$*Math.min($b$$,this.temperature);$b$$=this.dispY[$a$$]/$b$$*Math.min($b$$,this.temperature);this.dispX[$a$$]=0;this.dispY[$a$$]=0;this.cellLocation[$a$$][0]+=$c$$;this.cellLocation[$a$$][1]+=$b$$}};
mxFastOrganicLayout.prototype.calcAttraction=function(){for(var $a$$=0;$a$$<this.vertexArray.length;$a$$++)for(var $b$$=0;$b$$<this.neighbours[$a$$].length;$b$$++){var $c$$=this.neighbours[$a$$][$b$$];if($a$$!=$c$$&&this.isMoveable[$a$$]&&this.isMoveable[$c$$]){var $d$$=this.cellLocation[$a$$][0]-this.cellLocation[$c$$][0],$e$$=this.cellLocation[$a$$][1]-this.cellLocation[$c$$][1],$f$$=$d$$*$d$$+$e$$*$e$$-this.radiusSquared[$a$$]-this.radiusSquared[$c$$];$f$$<this.minDistanceLimitSquared&&($f$$=this.minDistanceLimitSquared);
var $g$$=Math.sqrt($f$$);$f$$/=this.forceConstant;$d$$=$d$$/$g$$*$f$$;$e$$=$e$$/$g$$*$f$$;this.dispX[$a$$]-=$d$$;this.dispY[$a$$]-=$e$$;this.dispX[$c$$]+=$d$$;this.dispY[$c$$]+=$e$$}}};
mxFastOrganicLayout.prototype.calcRepulsion=function(){for(var $a$$=this.vertexArray.length,$b$$=0;$b$$<$a$$;$b$$++)for(var $c$$=$b$$;$c$$<$a$$;$c$$++){if(!this.allowedToRun)return;if($c$$!=$b$$&&this.isMoveable[$b$$]&&this.isMoveable[$c$$]){var $d$$=this.cellLocation[$b$$][0]-this.cellLocation[$c$$][0],$e$$=this.cellLocation[$b$$][1]-this.cellLocation[$c$$][1];0==$d$$&&($d$$=.01+Math.random());0==$e$$&&($e$$=.01+Math.random());var $f$$=Math.sqrt($d$$*$d$$+$e$$*$e$$),$g$$=$f$$-this.radius[$b$$]-this.radius[$c$$];
$g$$>this.maxDistanceLimit||($g$$<this.minDistanceLimit&&($g$$=this.minDistanceLimit),$g$$=this.forceConstantSquared/$g$$,$d$$=$d$$/$f$$*$g$$,$e$$=$e$$/$f$$*$g$$,this.dispX[$b$$]+=$d$$,this.dispY[$b$$]+=$e$$,this.dispX[$c$$]-=$d$$,this.dispY[$c$$]-=$e$$)}}};mxFastOrganicLayout.prototype.reduceTemperature=function(){this.temperature=this.initialTemp*(1-this.iteration/this.maxIterations)};function mxCircleLayout($a$$,$b$$){mxGraphLayout.call(this,$a$$);this.radius=null!=$b$$?$b$$:100}
mxCircleLayout.prototype=new mxGraphLayout;mxCircleLayout.prototype.constructor=mxCircleLayout;mxCircleLayout.prototype.radius=null;mxCircleLayout.prototype.moveCircle=!1;mxCircleLayout.prototype.x0=0;mxCircleLayout.prototype.y0=0;mxCircleLayout.prototype.resetEdges=!0;mxCircleLayout.prototype.disableEdgeStyle=!0;
mxCircleLayout.prototype.execute=function($a$$){var $b$$=this.graph.getModel();$b$$.beginUpdate();try{for(var $c$$=0,$d$$=null,$e$$=null,$f$$=[],$g$$=$b$$.getChildCount($a$$),$k$$=0;$k$$<$g$$;$k$$++){var $l$$=$b$$.getChildAt($a$$,$k$$);if(this.isVertexIgnored($l$$))this.isEdgeIgnored($l$$)||(this.resetEdges&&this.graph.resetEdge($l$$),this.disableEdgeStyle&&this.setEdgeStyleEnabled($l$$,!1));else{$f$$.push($l$$);var $m$$=this.getVertexBounds($l$$);$d$$=null==$d$$?$m$$.y:Math.min($d$$,$m$$.y);$e$$=
null==$e$$?$m$$.x:Math.min($e$$,$m$$.x);$c$$=Math.max($c$$,Math.max($m$$.width,$m$$.height))}}var $n$$=this.getRadius($f$$.length,$c$$);this.moveCircle&&($e$$=this.x0,$d$$=this.y0);this.circle($f$$,$n$$,$e$$,$d$$)}finally{$b$$.endUpdate()}};mxCircleLayout.prototype.getRadius=function($a$$,$b$$){return Math.max($a$$*$b$$/Math.PI,this.radius)};
mxCircleLayout.prototype.circle=function($a$$,$b$$,$c$$,$d$$){for(var $e$$=$a$$.length,$f$$=2*Math.PI/$e$$,$g$$=0;$g$$<$e$$;$g$$++)this.isVertexMovable($a$$[$g$$])&&this.setVertexLocation($a$$[$g$$],Math.round($c$$+$b$$+$b$$*Math.cos($g$$*$f$$-Math.PI/2)),Math.round($d$$+$b$$+$b$$*Math.sin($g$$*$f$$-Math.PI/2)))};function mxParallelEdgeLayout($a$$){mxGraphLayout.call(this,$a$$)}mxParallelEdgeLayout.prototype=new mxGraphLayout;mxParallelEdgeLayout.prototype.constructor=mxParallelEdgeLayout;
mxParallelEdgeLayout.prototype.spacing=20;mxParallelEdgeLayout.prototype.checkOverlap=!1;mxParallelEdgeLayout.prototype.execute=function($a$$,$b$$){$a$$=this.findParallels($a$$,$b$$);this.graph.model.beginUpdate();try{for(var $c$$ in $a$$){var $d$$=$a$$[$c$$];1<$d$$.length&&this.layout($d$$)}}finally{this.graph.model.endUpdate()}};
mxParallelEdgeLayout.prototype.findParallels=function($a$$,$b$$){var $c$$=[],$d$$=mxUtils.bind(this,function($g$$){if(!this.isEdgeIgnored($g$$)){var $k$$=this.getEdgeId($g$$);null!=$k$$&&(null==$c$$[$k$$]&&($c$$[$k$$]=[]),$c$$[$k$$].push($g$$))}});if(null!=$b$$)for(var $e$$=0;$e$$<$b$$.length;$e$$++)$d$$($b$$[$e$$]);else{$b$$=this.graph.getModel();var $f$$=$b$$.getChildCount($a$$);for($e$$=0;$e$$<$f$$;$e$$++)$d$$($b$$.getChildAt($a$$,$e$$))}return $c$$};
mxParallelEdgeLayout.prototype.getEdgeId=function($a$$){var $b$$=this.graph.getView(),$c$$=$b$$.getVisibleTerminal($a$$,!0);$b$$=$b$$.getVisibleTerminal($a$$,!1);var $d$$="";if(null!=$c$$&&null!=$b$$){$c$$=mxObjectIdentity.get($c$$);$b$$=mxObjectIdentity.get($b$$);if(this.checkOverlap&&($a$$=this.graph.view.getState($a$$),null!=$a$$&&null!=$a$$.absolutePoints)){$d$$=[];for(var $e$$=0;$e$$<$a$$.absolutePoints.length;$e$$++){var $f$$=$a$$.absolutePoints[$e$$];null!=$f$$&&$d$$.push($f$$.x,$f$$.y)}$d$$=
$d$$.join(",")}return($c$$>$b$$?$b$$+"-"+$c$$:$c$$+"-"+$b$$)+$d$$}return null};
mxParallelEdgeLayout.prototype.layout=function($a$$){var $b$$=$a$$[0],$c$$=this.graph.view.getState($b$$);if(null!=$c$$&&null!=$c$$.absolutePoints){var $d$$=$c$$.absolutePoints[0];$c$$=$c$$.absolutePoints[$c$$.absolutePoints.length-1];if(null!=$d$$&&null!=$c$$){var $e$$=this.graph.getView(),$f$$=this.graph.getModel(),$g$$=$f$$.getGeometry($e$$.getVisibleTerminal($b$$,!0));$b$$=$f$$.getGeometry($e$$.getVisibleTerminal($b$$,!1));if($g$$==$b$$)for($c$$=$g$$.x+$g$$.width+this.spacing,$d$$=$g$$.y+$g$$.height/
2,$g$$=0;$g$$<$a$$.length;$g$$++)this.route($a$$[$g$$],$c$$,$d$$),$c$$+=this.spacing;else if(null!=$g$$&&null!=$b$$&&($g$$=this.graph.view.scale,$b$$=this.graph.view.translate,$d$$.x=$d$$.x/$g$$-$b$$.x,$d$$.y=$d$$.y/$g$$-$b$$.y,$c$$.x=$c$$.x/$g$$-$b$$.x,$c$$.y=$c$$.y/$g$$-$b$$.y,$g$$=$c$$.x-$d$$.x,$e$$=$c$$.y-$d$$.y,$b$$=Math.sqrt($g$$*$g$$+$e$$*$e$$),0<$b$$))for($c$$=$d$$.x+$g$$/2,$d$$=$d$$.y+$e$$/2,$e$$=$e$$*this.spacing/$b$$,$b$$=$g$$*this.spacing/$b$$,$c$$+=$e$$*($a$$.length-1)/2,$d$$-=$b$$*($a$$.length-
1)/2,$g$$=0;$g$$<$a$$.length;$g$$++)this.route($a$$[$g$$],$c$$,$d$$),$c$$-=$e$$,$d$$+=$b$$}}};mxParallelEdgeLayout.prototype.route=function($a$$,$b$$,$c$$){this.graph.isCellMovable($a$$)&&this.setEdgePoints($a$$,[new mxPoint(Math.round($b$$),Math.round($c$$))])};function mxCompositeLayout($a$$,$b$$,$c$$){mxGraphLayout.call(this,$a$$);this.layouts=$b$$;this.master=$c$$}mxCompositeLayout.prototype=new mxGraphLayout;mxCompositeLayout.prototype.constructor=mxCompositeLayout;
mxCompositeLayout.prototype.layouts=null;mxCompositeLayout.prototype.master=null;mxCompositeLayout.prototype.moveCell=function($a$$,$b$$,$c$$){null!=this.master?this.master.moveCell.apply(this.master,arguments):this.layouts[0].moveCell.apply(this.layouts[0],arguments)};mxCompositeLayout.prototype.execute=function($a$$){var $b$$=this.graph.getModel();$b$$.beginUpdate();try{for(var $c$$=0;$c$$<this.layouts.length;$c$$++)this.layouts[$c$$].execute.apply(this.layouts[$c$$],arguments)}finally{$b$$.endUpdate()}};
function mxEdgeLabelLayout($a$$,$b$$){mxGraphLayout.call(this,$a$$)}mxEdgeLabelLayout.prototype=new mxGraphLayout;mxEdgeLabelLayout.prototype.constructor=mxEdgeLabelLayout;
mxEdgeLabelLayout.prototype.execute=function($a$$){for(var $b$$=this.graph.view,$c$$=this.graph.getModel(),$d$$=[],$e$$=[],$f$$=$c$$.getChildCount($a$$),$g$$=0;$g$$<$f$$;$g$$++){var $k$$=$c$$.getChildAt($a$$,$g$$),$l$$=$b$$.getState($k$$);null!=$l$$&&(this.isVertexIgnored($k$$)?this.isEdgeIgnored($k$$)||$d$$.push($l$$):$e$$.push($l$$))}this.placeLabels($e$$,$d$$)};
mxEdgeLabelLayout.prototype.placeLabels=function($a$$,$b$$){var $c$$=this.graph.getModel();$c$$.beginUpdate();try{for(var $d$$=0;$d$$<$b$$.length;$d$$++){var $e$$=$b$$[$d$$];if(null!=$e$$&&null!=$e$$.text&&null!=$e$$.text.boundingBox)for(var $f$$=0;$f$$<$a$$.length;$f$$++){var $g$$=$a$$[$f$$];null!=$g$$&&this.avoid($e$$,$g$$)}}}finally{$c$$.endUpdate()}};
mxEdgeLabelLayout.prototype.avoid=function($a$$,$b$$){var $c$$=this.graph.getModel(),$d$$=$a$$.text.boundingBox;if(mxUtils.intersects($d$$,$b$$)){var $e$$=-$d$$.y-$d$$.height+$b$$.y,$f$$=-$d$$.y+$b$$.y+$b$$.height;$e$$=Math.abs($e$$)<Math.abs($f$$)?$e$$:$f$$;$f$$=-$d$$.x-$d$$.width+$b$$.x;$b$$=-$d$$.x+$b$$.x+$b$$.width;$b$$=Math.abs($f$$)<Math.abs($b$$)?$f$$:$b$$;Math.abs($b$$)<Math.abs($e$$)?$e$$=0:$b$$=0;$d$$=$c$$.getGeometry($a$$.cell);null!=$d$$&&($d$$=$d$$.clone(),null!=$d$$.offset?($d$$.offset.x+=
$b$$,$d$$.offset.y+=$e$$):$d$$.offset=new mxPoint($b$$,$e$$),$c$$.setGeometry($a$$.cell,$d$$))}};function mxGraphAbstractHierarchyCell(){this.x=[];this.y=[];this.temp=[]}mxGraphAbstractHierarchyCell.prototype.maxRank=-1;mxGraphAbstractHierarchyCell.prototype.minRank=-1;mxGraphAbstractHierarchyCell.prototype.x=null;mxGraphAbstractHierarchyCell.prototype.y=null;mxGraphAbstractHierarchyCell.prototype.width=0;mxGraphAbstractHierarchyCell.prototype.height=0;
mxGraphAbstractHierarchyCell.prototype.nextLayerConnectedCells=null;mxGraphAbstractHierarchyCell.prototype.previousLayerConnectedCells=null;mxGraphAbstractHierarchyCell.prototype.temp=null;mxGraphAbstractHierarchyCell.prototype.getNextLayerConnectedCells=function($a$$){return null};mxGraphAbstractHierarchyCell.prototype.getPreviousLayerConnectedCells=function($a$$){return null};mxGraphAbstractHierarchyCell.prototype.isEdge=function(){return!1};mxGraphAbstractHierarchyCell.prototype.isVertex=function(){return!1};
mxGraphAbstractHierarchyCell.prototype.getGeneralPurposeVariable=function($a$$){return null};mxGraphAbstractHierarchyCell.prototype.setGeneralPurposeVariable=function($a$$,$b$$){return null};mxGraphAbstractHierarchyCell.prototype.setX=function($a$$,$b$$){this.isVertex()?this.x[0]=$b$$:this.isEdge()&&(this.x[$a$$-this.minRank-1]=$b$$)};mxGraphAbstractHierarchyCell.prototype.getX=function($a$$){return this.isVertex()?this.x[0]:this.isEdge()?this.x[$a$$-this.minRank-1]:0};
mxGraphAbstractHierarchyCell.prototype.setY=function($a$$,$b$$){this.isVertex()?this.y[0]=$b$$:this.isEdge()&&(this.y[$a$$-this.minRank-1]=$b$$)};function mxGraphHierarchyNode($a$$){mxGraphAbstractHierarchyCell.apply(this,arguments);this.cell=$a$$;this.id=mxObjectIdentity.get($a$$);this.connectsAsTarget=[];this.connectsAsSource=[]}mxGraphHierarchyNode.prototype=new mxGraphAbstractHierarchyCell;mxGraphHierarchyNode.prototype.constructor=mxGraphHierarchyNode;mxGraphHierarchyNode.prototype.cell=null;
mxGraphHierarchyNode.prototype.id=null;mxGraphHierarchyNode.prototype.connectsAsTarget=null;mxGraphHierarchyNode.prototype.connectsAsSource=null;mxGraphHierarchyNode.prototype.hashCode=!1;mxGraphHierarchyNode.prototype.getRankValue=function($a$$){return this.maxRank};
mxGraphHierarchyNode.prototype.getNextLayerConnectedCells=function($a$$){if(null==this.nextLayerConnectedCells){this.nextLayerConnectedCells=[];this.nextLayerConnectedCells[0]=[];for(var $b$$=0;$b$$<this.connectsAsTarget.length;$b$$++){var $c$$=this.connectsAsTarget[$b$$];-1==$c$$.maxRank||$c$$.maxRank==$a$$+1?this.nextLayerConnectedCells[0].push($c$$.source):this.nextLayerConnectedCells[0].push($c$$)}}return this.nextLayerConnectedCells[0]};
mxGraphHierarchyNode.prototype.getPreviousLayerConnectedCells=function($a$$){if(null==this.previousLayerConnectedCells){this.previousLayerConnectedCells=[];this.previousLayerConnectedCells[0]=[];for(var $b$$=0;$b$$<this.connectsAsSource.length;$b$$++){var $c$$=this.connectsAsSource[$b$$];-1==$c$$.minRank||$c$$.minRank==$a$$-1?this.previousLayerConnectedCells[0].push($c$$.target):this.previousLayerConnectedCells[0].push($c$$)}}return this.previousLayerConnectedCells[0]};
mxGraphHierarchyNode.prototype.isVertex=function(){return!0};mxGraphHierarchyNode.prototype.getGeneralPurposeVariable=function($a$$){return this.temp[0]};mxGraphHierarchyNode.prototype.setGeneralPurposeVariable=function($a$$,$b$$){this.temp[0]=$b$$};
mxGraphHierarchyNode.prototype.isAncestor=function($a$$){if(null!=$a$$&&null!=this.hashCode&&null!=$a$$.hashCode&&this.hashCode.length<$a$$.hashCode.length){if(this.hashCode==$a$$.hashCode)return!0;if(null==this.hashCode||null==this.hashCode)return!1;for(var $b$$=0;$b$$<this.hashCode.length;$b$$++)if(this.hashCode[$b$$]!=$a$$.hashCode[$b$$])return!1;return!0}return!1};mxGraphHierarchyNode.prototype.getCoreCell=function(){return this.cell};
function mxGraphHierarchyEdge($a$$){mxGraphAbstractHierarchyCell.apply(this,arguments);this.edges=$a$$;this.ids=[];for(var $b$$=0;$b$$<$a$$.length;$b$$++)this.ids.push(mxObjectIdentity.get($a$$[$b$$]))}mxGraphHierarchyEdge.prototype=new mxGraphAbstractHierarchyCell;mxGraphHierarchyEdge.prototype.constructor=mxGraphHierarchyEdge;mxGraphHierarchyEdge.prototype.edges=null;mxGraphHierarchyEdge.prototype.ids=null;mxGraphHierarchyEdge.prototype.source=null;mxGraphHierarchyEdge.prototype.target=null;
mxGraphHierarchyEdge.prototype.isReversed=!1;mxGraphHierarchyEdge.prototype.invert=function($a$$){$a$$=this.source;this.source=this.target;this.target=$a$$;this.isReversed=!this.isReversed};
mxGraphHierarchyEdge.prototype.getNextLayerConnectedCells=function($a$$){if(null==this.nextLayerConnectedCells){this.nextLayerConnectedCells=[];for(var $b$$=0;$b$$<this.temp.length;$b$$++)this.nextLayerConnectedCells[$b$$]=[],$b$$==this.temp.length-1?this.nextLayerConnectedCells[$b$$].push(this.source):this.nextLayerConnectedCells[$b$$].push(this)}return this.nextLayerConnectedCells[$a$$-this.minRank-1]};
mxGraphHierarchyEdge.prototype.getPreviousLayerConnectedCells=function($a$$){if(null==this.previousLayerConnectedCells){this.previousLayerConnectedCells=[];for(var $b$$=0;$b$$<this.temp.length;$b$$++)this.previousLayerConnectedCells[$b$$]=[],0==$b$$?this.previousLayerConnectedCells[$b$$].push(this.target):this.previousLayerConnectedCells[$b$$].push(this)}return this.previousLayerConnectedCells[$a$$-this.minRank-1]};mxGraphHierarchyEdge.prototype.isEdge=function(){return!0};
mxGraphHierarchyEdge.prototype.getGeneralPurposeVariable=function($a$$){return this.temp[$a$$-this.minRank-1]};mxGraphHierarchyEdge.prototype.setGeneralPurposeVariable=function($a$$,$b$$){this.temp[$a$$-this.minRank-1]=$b$$};mxGraphHierarchyEdge.prototype.getCoreCell=function(){return null!=this.edges&&0<this.edges.length?this.edges[0]:null};
function mxGraphHierarchyModel($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.getGraph();this.tightenToSource=$e$$;this.roots=$c$$;this.parent=$d$$;this.vertexMapper=new mxDictionary;this.edgeMapper=new mxDictionary;this.maxRank=0;$c$$=[];null==$b$$&&($b$$=this.graph.getChildVertices($d$$));this.maxRank=this.SOURCESCANSTARTRANK;this.createInternalCells($a$$,$b$$,$c$$);for($d$$=0;$d$$<$b$$.length;$d$$++){$e$$=$c$$[$d$$].connectsAsSource;for(var $f$$=0;$f$$<$e$$.length;$f$$++){var $g$$=$e$$[$f$$],$k$$=$g$$.edges;if(null!=
$k$$&&0<$k$$.length){$k$$=$k$$[0];var $l$$=$a$$.getVisibleTerminal($k$$,!1);$l$$=this.vertexMapper.get($l$$);$c$$[$d$$]==$l$$&&($l$$=$a$$.getVisibleTerminal($k$$,!0),$l$$=this.vertexMapper.get($l$$));null!=$l$$&&$c$$[$d$$]!=$l$$&&($g$$.target=$l$$,0==$l$$.connectsAsTarget.length&&($l$$.connectsAsTarget=[]),0>mxUtils.indexOf($l$$.connectsAsTarget,$g$$)&&$l$$.connectsAsTarget.push($g$$))}}$c$$[$d$$].temp[0]=1}}mxGraphHierarchyModel.prototype.maxRank=null;
mxGraphHierarchyModel.prototype.vertexMapper=null;mxGraphHierarchyModel.prototype.edgeMapper=null;mxGraphHierarchyModel.prototype.ranks=null;mxGraphHierarchyModel.prototype.roots=null;mxGraphHierarchyModel.prototype.parent=null;mxGraphHierarchyModel.prototype.dfsCount=0;mxGraphHierarchyModel.prototype.SOURCESCANSTARTRANK=1E8;mxGraphHierarchyModel.prototype.tightenToSource=!1;
mxGraphHierarchyModel.prototype.createInternalCells=function($a$$,$b$$,$c$$){for(var $d$$=$a$$.getGraph(),$e$$=0;$e$$<$b$$.length;$e$$++){$c$$[$e$$]=new mxGraphHierarchyNode($b$$[$e$$]);this.vertexMapper.put($b$$[$e$$],$c$$[$e$$]);var $f$$=$a$$.getEdges($b$$[$e$$]);$c$$[$e$$].connectsAsSource=[];for(var $g$$=0;$g$$<$f$$.length;$g$$++){var $k$$=$a$$.getVisibleTerminal($f$$[$g$$],!1);if($k$$!=$b$$[$e$$]&&$a$$.graph.model.isVertex($k$$)&&!$a$$.isVertexIgnored($k$$)){var $l$$=$a$$.getEdgesBetween($b$$[$e$$],
$k$$,!1);$k$$=$a$$.getEdgesBetween($b$$[$e$$],$k$$,!0);if(null!=$l$$&&0<$l$$.length&&null==this.edgeMapper.get($l$$[0])&&2*$k$$.length>=$l$$.length){$k$$=new mxGraphHierarchyEdge($l$$);for(var $m$$=0;$m$$<$l$$.length;$m$$++){var $n$$=$l$$[$m$$];this.edgeMapper.put($n$$,$k$$);$d$$.resetEdge($n$$);$a$$.disableEdgeStyle&&($a$$.setEdgeStyleEnabled($n$$,!1),$a$$.setOrthogonalEdge($n$$,!0))}$k$$.source=$c$$[$e$$];0>mxUtils.indexOf($c$$[$e$$].connectsAsSource,$k$$)&&$c$$[$e$$].connectsAsSource.push($k$$)}}}$c$$[$e$$].temp[0]=
0}};
mxGraphHierarchyModel.prototype.initialRank=function(){var $a$$=[];if(null!=this.roots)for(var $b$$=0;$b$$<this.roots.length;$b$$++){var $c$$=this.vertexMapper.get(this.roots[$b$$]);null!=$c$$&&$a$$.push($c$$)}var $d$$=this.vertexMapper.getValues();for($b$$=0;$b$$<$d$$.length;$b$$++)$d$$[$b$$].temp[0]=-1;for(var $e$$=$a$$.slice();0<$a$$.length;){$c$$=$a$$[0];var $f$$=$c$$.connectsAsTarget,$g$$=$c$$.connectsAsSource,$k$$=!0,$l$$=this.SOURCESCANSTARTRANK;for($b$$=0;$b$$<$f$$.length;$b$$++){var $m$$=$f$$[$b$$];
if(5270620==$m$$.temp[0])$m$$=$m$$.source,$l$$=Math.min($l$$,$m$$.temp[0]-1);else{$k$$=!1;break}}if($k$$){$c$$.temp[0]=$l$$;this.maxRank=Math.min(this.maxRank,$l$$);if(null!=$g$$)for($b$$=0;$b$$<$g$$.length;$b$$++)$m$$=$g$$[$b$$],$m$$.temp[0]=5270620,$m$$=$m$$.target,-1==$m$$.temp[0]&&($a$$.push($m$$),$m$$.temp[0]=-2);$a$$.shift()}else if($b$$=$a$$.shift(),$a$$.push($c$$),$b$$==$c$$&&1==$a$$.length)break}for($b$$=0;$b$$<$d$$.length;$b$$++)$d$$[$b$$].temp[0]-=this.maxRank;for($b$$=0;$b$$<$e$$.length;$b$$++)for($c$$=
$e$$[$b$$],$a$$=0,$f$$=$c$$.connectsAsSource,$d$$=0;$d$$<$f$$.length;$d$$++)$m$$=$f$$[$d$$],$m$$=$m$$.target,$c$$.temp[0]=Math.max($a$$,$m$$.temp[0]+1),$a$$=$c$$.temp[0];this.maxRank=this.SOURCESCANSTARTRANK-this.maxRank};
mxGraphHierarchyModel.prototype.fixRanks=function(){var $a$$=[];this.ranks=[];for(var $b$$=0;$b$$<this.maxRank+1;$b$$++)$a$$[$b$$]=[],this.ranks[$b$$]=$a$$[$b$$];var $c$$=null;if(null!=this.roots){var $d$$=this.roots;$c$$=[];for($b$$=0;$b$$<$d$$.length;$b$$++){var $e$$=this.vertexMapper.get($d$$[$b$$]);$c$$[$b$$]=$e$$}}this.visit(function($f$$,$g$$,$k$$,$l$$,$m$$){0==$m$$&&0>$g$$.maxRank&&0>$g$$.minRank&&($a$$[$g$$.temp[0]].push($g$$),$g$$.maxRank=$g$$.temp[0],$g$$.minRank=$g$$.temp[0],$g$$.temp[0]=
$a$$[$g$$.maxRank].length-1);if(null!=$f$$&&null!=$k$$&&1<$f$$.maxRank-$g$$.maxRank)for($k$$.maxRank=$f$$.maxRank,$k$$.minRank=$g$$.maxRank,$k$$.temp=[],$k$$.x=[],$k$$.y=[],$f$$=$k$$.minRank+1;$f$$<$k$$.maxRank;$f$$++)$a$$[$f$$].push($k$$),$k$$.setGeneralPurposeVariable($f$$,$a$$[$f$$].length-1)},$c$$,!1,null)};
mxGraphHierarchyModel.prototype.visit=function($a$$,$b$$,$c$$,$d$$){if(null!=$b$$){for(var $e$$=0;$e$$<$b$$.length;$e$$++){var $f$$=$b$$[$e$$];null!=$f$$&&(null==$d$$&&($d$$={}),$c$$?($f$$.hashCode=[],$f$$.hashCode[0]=this.dfsCount,$f$$.hashCode[1]=$e$$,this.extendedDfs(null,$f$$,null,$a$$,$d$$,$f$$.hashCode,$e$$,0)):this.dfs(null,$f$$,null,$a$$,$d$$,0))}this.dfsCount++}};
mxGraphHierarchyModel.prototype.dfs=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if(null!=$b$$){var $g$$=$b$$.id;if(null==$e$$[$g$$])for($e$$[$g$$]=$b$$,$d$$($a$$,$b$$,$c$$,$f$$,0),$a$$=$b$$.connectsAsSource.slice(),$c$$=0;$c$$<$a$$.length;$c$$++)$g$$=$a$$[$c$$],this.dfs($b$$,$g$$.target,$g$$,$d$$,$e$$,$f$$+1);else $d$$($a$$,$b$$,$c$$,$f$$,1)}};
mxGraphHierarchyModel.prototype.extendedDfs=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){if(null!=$b$$)if(null==$a$$||null!=$b$$.hashCode&&$b$$.hashCode[0]==$a$$.hashCode[0]||($f$$=$a$$.hashCode.length+1,$b$$.hashCode=$a$$.hashCode.slice(),$b$$.hashCode[$f$$-1]=$g$$),$g$$=$b$$.id,null==$e$$[$g$$])for($e$$[$g$$]=$b$$,$d$$($a$$,$b$$,$c$$,$k$$,0),$a$$=$b$$.connectsAsSource.slice(),$c$$=0;$c$$<$a$$.length;$c$$++)$g$$=$a$$[$c$$],this.extendedDfs($b$$,$g$$.target,$g$$,$d$$,$e$$,$b$$.hashCode,$c$$,
$k$$+1);else $d$$($a$$,$b$$,$c$$,$k$$,1)};
function mxSwimlaneModel($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.getGraph();this.tightenToSource=$e$$;this.roots=$c$$;this.parent=$d$$;this.vertexMapper=new mxDictionary;this.edgeMapper=new mxDictionary;this.maxRank=0;$c$$=[];null==$b$$&&($b$$=this.graph.getChildVertices($d$$));this.maxRank=this.SOURCESCANSTARTRANK;this.createInternalCells($a$$,$b$$,$c$$);for($d$$=0;$d$$<$b$$.length;$d$$++){$e$$=$c$$[$d$$].connectsAsSource;for(var $f$$=0;$f$$<$e$$.length;$f$$++){var $g$$=$e$$[$f$$],$k$$=$g$$.edges;if(null!=
$k$$&&0<$k$$.length){$k$$=$k$$[0];var $l$$=$a$$.getVisibleTerminal($k$$,!1);$l$$=this.vertexMapper.get($l$$);$c$$[$d$$]==$l$$&&($l$$=$a$$.getVisibleTerminal($k$$,!0),$l$$=this.vertexMapper.get($l$$));null!=$l$$&&$c$$[$d$$]!=$l$$&&($g$$.target=$l$$,0==$l$$.connectsAsTarget.length&&($l$$.connectsAsTarget=[]),0>mxUtils.indexOf($l$$.connectsAsTarget,$g$$)&&$l$$.connectsAsTarget.push($g$$))}}$c$$[$d$$].temp[0]=1}}mxSwimlaneModel.prototype.maxRank=null;mxSwimlaneModel.prototype.vertexMapper=null;
mxSwimlaneModel.prototype.edgeMapper=null;mxSwimlaneModel.prototype.ranks=null;mxSwimlaneModel.prototype.roots=null;mxSwimlaneModel.prototype.parent=null;mxSwimlaneModel.prototype.dfsCount=0;mxSwimlaneModel.prototype.SOURCESCANSTARTRANK=1E8;mxSwimlaneModel.prototype.tightenToSource=!1;mxSwimlaneModel.prototype.ranksPerGroup=null;
mxSwimlaneModel.prototype.createInternalCells=function($a$$,$b$$,$c$$){for(var $d$$=$a$$.getGraph(),$e$$=$a$$.swimlanes,$f$$=0;$f$$<$b$$.length;$f$$++){$c$$[$f$$]=new mxGraphHierarchyNode($b$$[$f$$]);this.vertexMapper.put($b$$[$f$$],$c$$[$f$$]);$c$$[$f$$].swimlaneIndex=-1;for(var $g$$=0;$g$$<$e$$.length;$g$$++)if($d$$.model.getParent($b$$[$f$$])==$e$$[$g$$]){$c$$[$f$$].swimlaneIndex=$g$$;break}$g$$=$a$$.getEdges($b$$[$f$$]);$c$$[$f$$].connectsAsSource=[];for(var $k$$=0;$k$$<$g$$.length;$k$$++){var $l$$=
$a$$.getVisibleTerminal($g$$[$k$$],!1);if($l$$!=$b$$[$f$$]&&$a$$.graph.model.isVertex($l$$)&&!$a$$.isVertexIgnored($l$$)){var $m$$=$a$$.getEdgesBetween($b$$[$f$$],$l$$,!1);$l$$=$a$$.getEdgesBetween($b$$[$f$$],$l$$,!0);if(null!=$m$$&&0<$m$$.length&&null==this.edgeMapper.get($m$$[0])&&2*$l$$.length>=$m$$.length){$l$$=new mxGraphHierarchyEdge($m$$);for(var $n$$=0;$n$$<$m$$.length;$n$$++){var $p$$=$m$$[$n$$];this.edgeMapper.put($p$$,$l$$);$d$$.resetEdge($p$$);$a$$.disableEdgeStyle&&($a$$.setEdgeStyleEnabled($p$$,
!1),$a$$.setOrthogonalEdge($p$$,!0))}$l$$.source=$c$$[$f$$];0>mxUtils.indexOf($c$$[$f$$].connectsAsSource,$l$$)&&$c$$[$f$$].connectsAsSource.push($l$$)}}}$c$$[$f$$].temp[0]=0}};
mxSwimlaneModel.prototype.initialRank=function(){this.ranksPerGroup=[];var $a$$=[],$b$$={};if(null!=this.roots)for(var $c$$=0;$c$$<this.roots.length;$c$$++){var $d$$=this.vertexMapper.get(this.roots[$c$$]);this.maxChainDfs(null,$d$$,null,$b$$,0);null!=$d$$&&$a$$.push($d$$)}$d$$=[];$b$$=[];for($c$$=this.ranksPerGroup.length-1;0<=$c$$;$c$$--)$d$$[$c$$]=$c$$==this.ranksPerGroup.length-1?0:$b$$[$c$$+1]+1,$b$$[$c$$]=$d$$[$c$$]+this.ranksPerGroup[$c$$];this.maxRank=$b$$[0];$d$$=this.vertexMapper.getValues();
for($c$$=0;$c$$<$d$$.length;$c$$++)$d$$[$c$$].temp[0]=-1;for($a$$.slice();0<$a$$.length;){$d$$=$a$$[0];var $e$$=$d$$.connectsAsTarget,$f$$=$d$$.connectsAsSource,$g$$=!0,$k$$=$b$$[0];for($c$$=0;$c$$<$e$$.length;$c$$++){var $l$$=$e$$[$c$$];if(5270620==$l$$.temp[0])$l$$=$l$$.source,$k$$=Math.min($k$$,$l$$.temp[0]-1);else{$g$$=!1;break}}if($g$$){$k$$>$b$$[$d$$.swimlaneIndex]&&($k$$=$b$$[$d$$.swimlaneIndex]);$d$$.temp[0]=$k$$;if(null!=$f$$)for($c$$=0;$c$$<$f$$.length;$c$$++)$l$$=$f$$[$c$$],$l$$.temp[0]=
5270620,$l$$=$l$$.target,-1==$l$$.temp[0]&&($a$$.push($l$$),$l$$.temp[0]=-2);$a$$.shift()}else if($c$$=$a$$.shift(),$a$$.push($d$$),$c$$==$d$$&&1==$a$$.length)break}};
mxSwimlaneModel.prototype.maxChainDfs=function($a$$,$b$$,$c$$,$d$$,$e$$){if(null!=$b$$&&($a$$=mxCellPath.create($b$$.cell),null==$d$$[$a$$])){$d$$[$a$$]=$b$$;$a$$=$b$$.swimlaneIndex;if(null==this.ranksPerGroup[$a$$]||this.ranksPerGroup[$a$$]<$e$$)this.ranksPerGroup[$a$$]=$e$$;$a$$=$b$$.connectsAsSource.slice();for($c$$=0;$c$$<$a$$.length;$c$$++){var $f$$=$a$$[$c$$],$g$$=$f$$.target;$b$$.swimlaneIndex<$g$$.swimlaneIndex?this.maxChainDfs($b$$,$g$$,$f$$,mxUtils.clone($d$$,null,!0),0):$b$$.swimlaneIndex==
$g$$.swimlaneIndex&&this.maxChainDfs($b$$,$g$$,$f$$,mxUtils.clone($d$$,null,!0),$e$$+1)}}};
mxSwimlaneModel.prototype.fixRanks=function(){var $a$$=[];this.ranks=[];for(var $b$$=0;$b$$<this.maxRank+1;$b$$++)$a$$[$b$$]=[],this.ranks[$b$$]=$a$$[$b$$];var $c$$=null;if(null!=this.roots){var $d$$=this.roots;$c$$=[];for($b$$=0;$b$$<$d$$.length;$b$$++){var $e$$=this.vertexMapper.get($d$$[$b$$]);$c$$[$b$$]=$e$$}}this.visit(function($f$$,$g$$,$k$$,$l$$,$m$$){0==$m$$&&0>$g$$.maxRank&&0>$g$$.minRank&&($a$$[$g$$.temp[0]].push($g$$),$g$$.maxRank=$g$$.temp[0],$g$$.minRank=$g$$.temp[0],$g$$.temp[0]=$a$$[$g$$.maxRank].length-
1);if(null!=$f$$&&null!=$k$$&&1<$f$$.maxRank-$g$$.maxRank)for($k$$.maxRank=$f$$.maxRank,$k$$.minRank=$g$$.maxRank,$k$$.temp=[],$k$$.x=[],$k$$.y=[],$f$$=$k$$.minRank+1;$f$$<$k$$.maxRank;$f$$++)$a$$[$f$$].push($k$$),$k$$.setGeneralPurposeVariable($f$$,$a$$[$f$$].length-1)},$c$$,!1,null)};
mxSwimlaneModel.prototype.visit=function($a$$,$b$$,$c$$,$d$$){if(null!=$b$$){for(var $e$$=0;$e$$<$b$$.length;$e$$++){var $f$$=$b$$[$e$$];null!=$f$$&&(null==$d$$&&($d$$={}),$c$$?($f$$.hashCode=[],$f$$.hashCode[0]=this.dfsCount,$f$$.hashCode[1]=$e$$,this.extendedDfs(null,$f$$,null,$a$$,$d$$,$f$$.hashCode,$e$$,0)):this.dfs(null,$f$$,null,$a$$,$d$$,0))}this.dfsCount++}};
mxSwimlaneModel.prototype.dfs=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if(null!=$b$$){var $g$$=$b$$.id;if(null==$e$$[$g$$])for($e$$[$g$$]=$b$$,$d$$($a$$,$b$$,$c$$,$f$$,0),$a$$=$b$$.connectsAsSource.slice(),$c$$=0;$c$$<$a$$.length;$c$$++)$g$$=$a$$[$c$$],this.dfs($b$$,$g$$.target,$g$$,$d$$,$e$$,$f$$+1);else $d$$($a$$,$b$$,$c$$,$f$$,1)}};
mxSwimlaneModel.prototype.extendedDfs=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){if(null!=$b$$)if(null==$a$$||null!=$b$$.hashCode&&$b$$.hashCode[0]==$a$$.hashCode[0]||($f$$=$a$$.hashCode.length+1,$b$$.hashCode=$a$$.hashCode.slice(),$b$$.hashCode[$f$$-1]=$g$$),$g$$=$b$$.id,null==$e$$[$g$$]){$e$$[$g$$]=$b$$;$d$$($a$$,$b$$,$c$$,$k$$,0);$a$$=$b$$.connectsAsSource.slice();$c$$=$b$$.connectsAsTarget.slice();for($g$$=0;$g$$<$a$$.length;$g$$++){$f$$=$a$$[$g$$];var $l$$=$f$$.target;$b$$.swimlaneIndex<=
$l$$.swimlaneIndex&&this.extendedDfs($b$$,$l$$,$f$$,$d$$,$e$$,$b$$.hashCode,$g$$,$k$$+1)}for($g$$=0;$g$$<$c$$.length;$g$$++)$f$$=$c$$[$g$$],$l$$=$f$$.source,$b$$.swimlaneIndex<$l$$.swimlaneIndex&&this.extendedDfs($b$$,$l$$,$f$$,$d$$,$e$$,$b$$.hashCode,$g$$,$k$$+1)}else $d$$($a$$,$b$$,$c$$,$k$$,1)};function mxHierarchicalLayoutStage(){}mxHierarchicalLayoutStage.prototype.execute=function($a$$){};function mxMedianHybridCrossingReduction($a$$){this.layout=$a$$}
mxMedianHybridCrossingReduction.prototype=new mxHierarchicalLayoutStage;mxMedianHybridCrossingReduction.prototype.constructor=mxMedianHybridCrossingReduction;mxMedianHybridCrossingReduction.prototype.layout=null;mxMedianHybridCrossingReduction.prototype.maxIterations=24;mxMedianHybridCrossingReduction.prototype.nestedBestRanks=null;mxMedianHybridCrossingReduction.prototype.currentBestCrossings=0;mxMedianHybridCrossingReduction.prototype.iterationsWithoutImprovement=0;
mxMedianHybridCrossingReduction.prototype.maxNoImprovementIterations=2;
mxMedianHybridCrossingReduction.prototype.execute=function($a$$){$a$$=this.layout.getModel();this.nestedBestRanks=[];for(var $b$$=0;$b$$<$a$$.ranks.length;$b$$++)this.nestedBestRanks[$b$$]=$a$$.ranks[$b$$].slice();var $c$$=0,$d$$=this.calculateCrossings($a$$);for($b$$=0;$b$$<this.maxIterations&&$c$$<this.maxNoImprovementIterations;$b$$++){this.weightedMedian($b$$,$a$$);this.transpose($b$$,$a$$);var $e$$=this.calculateCrossings($a$$);if($e$$<$d$$)for($d$$=$e$$,$e$$=$c$$=0;$e$$<this.nestedBestRanks.length;$e$$++)for(var $f$$=
$a$$.ranks[$e$$],$g$$=0;$g$$<$f$$.length;$g$$++){var $k$$=$f$$[$g$$];this.nestedBestRanks[$e$$][$k$$.getGeneralPurposeVariable($e$$)]=$k$$}else for($c$$++,$e$$=0;$e$$<this.nestedBestRanks.length;$e$$++)for($f$$=$a$$.ranks[$e$$],$g$$=0;$g$$<$f$$.length;$g$$++)$k$$=$f$$[$g$$],$k$$.setGeneralPurposeVariable($e$$,$g$$);if(0==$d$$)break}$c$$=[];$d$$=[];for($b$$=0;$b$$<$a$$.maxRank+1;$b$$++)$d$$[$b$$]=[],$c$$[$b$$]=$d$$[$b$$];for($b$$=0;$b$$<this.nestedBestRanks.length;$b$$++)for($e$$=0;$e$$<this.nestedBestRanks[$b$$].length;$e$$++)$d$$[$b$$].push(this.nestedBestRanks[$b$$][$e$$]);
$a$$.ranks=$c$$};mxMedianHybridCrossingReduction.prototype.calculateCrossings=function($a$$){for(var $b$$=$a$$.ranks.length,$c$$=0,$d$$=1;$d$$<$b$$;$d$$++)$c$$+=this.calculateRankCrossing($d$$,$a$$);return $c$$};
mxMedianHybridCrossingReduction.prototype.calculateRankCrossing=function($a$$,$b$$){var $c$$=0,$d$$=$b$$.ranks[$a$$],$e$$=$b$$.ranks[$a$$-1],$f$$=[];for($b$$=0;$b$$<$d$$.length;$b$$++){var $g$$=$d$$[$b$$],$k$$=$g$$.getGeneralPurposeVariable($a$$);$g$$=$g$$.getPreviousLayerConnectedCells($a$$);for(var $l$$=[],$m$$=0;$m$$<$g$$.length;$m$$++){var $n$$=$g$$[$m$$].getGeneralPurposeVariable($a$$-1);$l$$.push($n$$)}$l$$.sort(function($p$$,$q$$){return $p$$-$q$$});$f$$[$k$$]=$l$$}$a$$=[];for($b$$=0;$b$$<
$f$$.length;$b$$++)$a$$=$a$$.concat($f$$[$b$$]);for($d$$=1;$d$$<$e$$.length;)$d$$<<=1;$f$$=2*$d$$-1;--$d$$;$e$$=[];for($b$$=0;$b$$<$f$$;++$b$$)$e$$[$b$$]=0;for($b$$=0;$b$$<$a$$.length;$b$$++)for($f$$=$a$$[$b$$]+$d$$,++$e$$[$f$$];0<$f$$;)$f$$%2&&($c$$+=$e$$[$f$$+1]),$f$$=$f$$-1>>1,++$e$$[$f$$];return $c$$};
mxMedianHybridCrossingReduction.prototype.transpose=function($a$$,$b$$){for(var $c$$=!0,$d$$=0;$c$$&&10>$d$$++;){var $e$$=1==$a$$%2&&1==$d$$%2;$c$$=!1;for(var $f$$=0;$f$$<$b$$.ranks.length;$f$$++){for(var $g$$=$b$$.ranks[$f$$],$k$$=[],$l$$=0;$l$$<$g$$.length;$l$$++){var $m$$=$g$$[$l$$],$n$$=$m$$.getGeneralPurposeVariable($f$$);0>$n$$&&($n$$=$l$$);$k$$[$n$$]=$m$$}var $p$$=null,$q$$=null,$r$$=null,$t$$=null,$u$$=null;for($l$$=0;$l$$<$g$$.length-1;$l$$++){if(0==$l$$){var $x$$=$k$$[$l$$];$m$$=$x$$.getNextLayerConnectedCells($f$$);
$n$$=$x$$.getPreviousLayerConnectedCells($f$$);for(var $y$$=[],$C$$=[],$A$$=0;$A$$<$m$$.length;$A$$++)$y$$[$A$$]=$m$$[$A$$].getGeneralPurposeVariable($f$$+1);for($A$$=0;$A$$<$n$$.length;$A$$++)$C$$[$A$$]=$n$$[$A$$].getGeneralPurposeVariable($f$$-1)}else $m$$=$p$$,$n$$=$q$$,$y$$=$r$$,$C$$=$t$$,$x$$=$u$$;$u$$=$k$$[$l$$+1];$p$$=$u$$.getNextLayerConnectedCells($f$$);$q$$=$u$$.getPreviousLayerConnectedCells($f$$);$r$$=[];$t$$=[];for($A$$=0;$A$$<$p$$.length;$A$$++)$r$$[$A$$]=$p$$[$A$$].getGeneralPurposeVariable($f$$+
1);for($A$$=0;$A$$<$q$$.length;$A$$++)$t$$[$A$$]=$q$$[$A$$].getGeneralPurposeVariable($f$$-1);var $B$$=0,$z$$=0;for($A$$=0;$A$$<$y$$.length;$A$$++)for(var $v$$=0;$v$$<$r$$.length;$v$$++)$y$$[$A$$]>$r$$[$v$$]&&$B$$++,$y$$[$A$$]<$r$$[$v$$]&&$z$$++;for($A$$=0;$A$$<$C$$.length;$A$$++)for($v$$=0;$v$$<$t$$.length;$v$$++)$C$$[$A$$]>$t$$[$v$$]&&$B$$++,$C$$[$A$$]<$t$$[$v$$]&&$z$$++;if($z$$<$B$$||$z$$==$B$$&&$e$$)$p$$=$x$$.getGeneralPurposeVariable($f$$),$x$$.setGeneralPurposeVariable($f$$,$u$$.getGeneralPurposeVariable($f$$)),
$u$$.setGeneralPurposeVariable($f$$,$p$$),$p$$=$m$$,$q$$=$n$$,$r$$=$y$$,$t$$=$C$$,$u$$=$x$$,$e$$||($c$$=!0)}}}};mxMedianHybridCrossingReduction.prototype.weightedMedian=function($a$$,$b$$){if($a$$=0==$a$$%2)for(var $c$$=$b$$.maxRank-1;0<=$c$$;$c$$--)this.medianRank($c$$,$a$$);else for($c$$=1;$c$$<$b$$.maxRank;$c$$++)this.medianRank($c$$,$a$$)};
mxMedianHybridCrossingReduction.prototype.medianRank=function($a$$,$b$$){for(var $c$$=this.nestedBestRanks[$a$$].length,$d$$=[],$e$$=[],$f$$=0;$f$$<$c$$;$f$$++){var $g$$=this.nestedBestRanks[$a$$][$f$$],$k$$=new MedianCellSorter;$k$$.cell=$g$$;var $l$$=$b$$?$g$$.getNextLayerConnectedCells($a$$):$g$$.getPreviousLayerConnectedCells($a$$),$m$$=$b$$?$a$$+1:$a$$-1;null!=$l$$&&0!=$l$$.length?($k$$.medianValue=this.medianValue($l$$,$m$$),$d$$.push($k$$)):$e$$[$g$$.getGeneralPurposeVariable($a$$)]=!0}$d$$.sort(MedianCellSorter.prototype.compare);
for($f$$=0;$f$$<$c$$;$f$$++)null==$e$$[$f$$]&&($g$$=$d$$.shift().cell,$g$$.setGeneralPurposeVariable($a$$,$f$$))};
mxMedianHybridCrossingReduction.prototype.medianValue=function($a$$,$b$$){for(var $c$$=[],$d$$=0,$e$$=0;$e$$<$a$$.length;$e$$++){var $f$$=$a$$[$e$$];$c$$[$d$$++]=$f$$.getGeneralPurposeVariable($b$$)}$c$$.sort(function($g$$,$k$$){return $g$$-$k$$});if(1==$d$$%2)return $c$$[Math.floor($d$$/2)];if(2==$d$$)return($c$$[0]+$c$$[1])/2;$a$$=$d$$/2;$b$$=$c$$[$a$$-1]-$c$$[0];$d$$=$c$$[$d$$-1]-$c$$[$a$$];return($c$$[$a$$-1]*$d$$+$c$$[$a$$]*$b$$)/($b$$+$d$$)};function MedianCellSorter(){}
MedianCellSorter.prototype.medianValue=0;MedianCellSorter.prototype.cell=!1;MedianCellSorter.prototype.compare=function($a$$,$b$$){return null!=$a$$&&null!=$b$$?$b$$.medianValue>$a$$.medianValue?-1:$b$$.medianValue<$a$$.medianValue?1:0:0};function mxMinimumCycleRemover($a$$){this.layout=$a$$}mxMinimumCycleRemover.prototype=new mxHierarchicalLayoutStage;mxMinimumCycleRemover.prototype.constructor=mxMinimumCycleRemover;mxMinimumCycleRemover.prototype.layout=null;
mxMinimumCycleRemover.prototype.execute=function($a$$){$a$$=this.layout.getModel();for(var $b$$={},$c$$=$a$$.vertexMapper.getValues(),$d$$={},$e$$=0;$e$$<$c$$.length;$e$$++)$d$$[$c$$[$e$$].id]=$c$$[$e$$];$c$$=null;if(null!=$a$$.roots){var $f$$=$a$$.roots;$c$$=[];for($e$$=0;$e$$<$f$$.length;$e$$++)$c$$[$e$$]=$a$$.vertexMapper.get($f$$[$e$$])}$a$$.visit(function($g$$,$k$$,$l$$,$m$$,$n$$){$k$$.isAncestor($g$$)&&($l$$.invert(),mxUtils.remove($l$$,$g$$.connectsAsSource),$g$$.connectsAsTarget.push($l$$),
mxUtils.remove($l$$,$k$$.connectsAsTarget),$k$$.connectsAsSource.push($l$$));$b$$[$k$$.id]=$k$$;delete $d$$[$k$$.id]},$c$$,!0,null);$e$$=mxUtils.clone($b$$,null,!0);$a$$.visit(function($g$$,$k$$,$l$$,$m$$,$n$$){$k$$.isAncestor($g$$)&&($l$$.invert(),mxUtils.remove($l$$,$g$$.connectsAsSource),$k$$.connectsAsSource.push($l$$),$g$$.connectsAsTarget.push($l$$),mxUtils.remove($l$$,$k$$.connectsAsTarget));$b$$[$k$$.id]=$k$$;delete $d$$[$k$$.id]},$d$$,!0,$e$$)};
function mxCoordinateAssignment($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.layout=$a$$;this.intraCellSpacing=$b$$;this.interRankCellSpacing=$c$$;this.orientation=$d$$;this.initialX=$e$$;this.parallelEdgeSpacing=$f$$}mxCoordinateAssignment.prototype=new mxHierarchicalLayoutStage;mxCoordinateAssignment.prototype.constructor=mxCoordinateAssignment;mxCoordinateAssignment.prototype.layout=null;mxCoordinateAssignment.prototype.intraCellSpacing=30;mxCoordinateAssignment.prototype.interRankCellSpacing=100;
mxCoordinateAssignment.prototype.parallelEdgeSpacing=10;mxCoordinateAssignment.prototype.maxIterations=8;mxCoordinateAssignment.prototype.prefHozEdgeSep=5;mxCoordinateAssignment.prototype.prefVertEdgeOff=2;mxCoordinateAssignment.prototype.minEdgeJetty=12;mxCoordinateAssignment.prototype.channelBuffer=4;mxCoordinateAssignment.prototype.jettyPositions=null;mxCoordinateAssignment.prototype.orientation=mxConstants.DIRECTION_NORTH;mxCoordinateAssignment.prototype.initialX=null;
mxCoordinateAssignment.prototype.limitX=null;mxCoordinateAssignment.prototype.currentXDelta=null;mxCoordinateAssignment.prototype.widestRank=null;mxCoordinateAssignment.prototype.rankTopY=null;mxCoordinateAssignment.prototype.rankBottomY=null;mxCoordinateAssignment.prototype.widestRankValue=null;mxCoordinateAssignment.prototype.rankWidths=null;mxCoordinateAssignment.prototype.rankY=null;mxCoordinateAssignment.prototype.fineTuning=!0;mxCoordinateAssignment.prototype.nextLayerConnectedCache=null;
mxCoordinateAssignment.prototype.previousLayerConnectedCache=null;mxCoordinateAssignment.prototype.groupPadding=10;mxCoordinateAssignment.prototype.printStatus=function(){var $a$$=this.layout.getModel();mxLog.show();mxLog.writeln("======Coord assignment debug=======");for(var $b$$=0;$b$$<$a$$.ranks.length;$b$$++){mxLog.write("Rank ",$b$$," : ");for(var $c$$=$a$$.ranks[$b$$],$d$$=0;$d$$<$c$$.length;$d$$++)mxLog.write($c$$[$d$$].getGeneralPurposeVariable($b$$),"  ");mxLog.writeln()}mxLog.writeln("====================================")};
mxCoordinateAssignment.prototype.execute=function($a$$){this.jettyPositions={};$a$$=this.layout.getModel();this.currentXDelta=0;this.initialCoords(this.layout.getGraph(),$a$$);this.fineTuning&&this.minNode($a$$);var $b$$=1E8;if(this.fineTuning)for(var $c$$=0;$c$$<this.maxIterations;$c$$++){0!=$c$$&&(this.medianPos($c$$,$a$$),this.minNode($a$$));if(this.currentXDelta<$b$$){for(var $d$$=0;$d$$<$a$$.ranks.length;$d$$++)for(var $e$$=$a$$.ranks[$d$$],$f$$=0;$f$$<$e$$.length;$f$$++){var $g$$=$e$$[$f$$];
$g$$.setX($d$$,$g$$.getGeneralPurposeVariable($d$$))}$b$$=this.currentXDelta}else for($d$$=0;$d$$<$a$$.ranks.length;$d$$++)for($e$$=$a$$.ranks[$d$$],$f$$=0;$f$$<$e$$.length;$f$$++)$g$$=$e$$[$f$$],$g$$.setGeneralPurposeVariable($d$$,$g$$.getX($d$$));this.minPath(this.layout.getGraph(),$a$$);this.currentXDelta=0}this.setCellLocations(this.layout.getGraph(),$a$$)};
mxCoordinateAssignment.prototype.minNode=function($a$$){for(var $b$$=[],$c$$=new mxDictionary,$d$$=[],$e$$=0;$e$$<=$a$$.maxRank;$e$$++){$d$$[$e$$]=$a$$.ranks[$e$$];for(var $f$$=0;$f$$<$d$$[$e$$].length;$f$$++){var $g$$=$d$$[$e$$][$f$$],$k$$=new WeightedCellSorter($g$$,$e$$);$k$$.rankIndex=$f$$;$k$$.visited=!0;$b$$.push($k$$);$c$$.put($g$$,$k$$)}}$a$$=10*$b$$.length;for($f$$=0;0<$b$$.length&&$f$$<=$a$$;){$g$$=$b$$.shift();$e$$=$g$$.cell;var $l$$=$g$$.weightedValue,$m$$=parseInt($g$$.rankIndex);$k$$=
$e$$.getNextLayerConnectedCells($l$$);var $n$$=$e$$.getPreviousLayerConnectedCells($l$$),$p$$=$k$$.length,$q$$=$n$$.length,$r$$=this.medianXValue($k$$,$l$$+1),$t$$=this.medianXValue($n$$,$l$$-1),$u$$=$p$$+$q$$,$x$$=$e$$.getGeneralPurposeVariable($l$$),$y$$=$x$$;0<$u$$&&($y$$=($r$$*$p$$+$t$$*$q$$)/$u$$);$p$$=!1;$y$$<$x$$-1?0==$m$$?($e$$.setGeneralPurposeVariable($l$$,$y$$),$p$$=!0):($m$$=$d$$[$l$$][$m$$-1],$x$$=$m$$.getGeneralPurposeVariable($l$$),$x$$=$x$$+$m$$.width/2+this.intraCellSpacing+$e$$.width/
2,$x$$<$y$$?($e$$.setGeneralPurposeVariable($l$$,$y$$),$p$$=!0):$x$$<$e$$.getGeneralPurposeVariable($l$$)-1&&($e$$.setGeneralPurposeVariable($l$$,$x$$),$p$$=!0)):$y$$>$x$$+1&&($m$$==$d$$[$l$$].length-1?($e$$.setGeneralPurposeVariable($l$$,$y$$),$p$$=!0):($m$$=$d$$[$l$$][$m$$+1],$x$$=$m$$.getGeneralPurposeVariable($l$$),$x$$=$x$$-$m$$.width/2-this.intraCellSpacing-$e$$.width/2,$x$$>$y$$?($e$$.setGeneralPurposeVariable($l$$,$y$$),$p$$=!0):$x$$>$e$$.getGeneralPurposeVariable($l$$)+1&&($e$$.setGeneralPurposeVariable($l$$,
$x$$),$p$$=!0)));if($p$$){for($e$$=0;$e$$<$k$$.length;$e$$++)$l$$=$k$$[$e$$],$l$$=$c$$.get($l$$),null!=$l$$&&0==$l$$.visited&&($l$$.visited=!0,$b$$.push($l$$));for($e$$=0;$e$$<$n$$.length;$e$$++)$l$$=$n$$[$e$$],$l$$=$c$$.get($l$$),null!=$l$$&&0==$l$$.visited&&($l$$.visited=!0,$b$$.push($l$$))}$g$$.visited=!1;$f$$++}};
mxCoordinateAssignment.prototype.medianPos=function($a$$,$b$$){if(0==$a$$%2)for($a$$=$b$$.maxRank;0<$a$$;$a$$--)this.rankMedianPosition($a$$-1,$b$$,$a$$);else for($a$$=0;$a$$<$b$$.maxRank-1;$a$$++)this.rankMedianPosition($a$$+1,$b$$,$a$$)};
mxCoordinateAssignment.prototype.rankMedianPosition=function($a$$,$b$$,$c$$){$b$$=$b$$.ranks[$a$$];for(var $d$$=[],$e$$={},$f$$=0;$f$$<$b$$.length;$f$$++){var $g$$=$b$$[$f$$];$d$$[$f$$]=new WeightedCellSorter;$d$$[$f$$].cell=$g$$;$d$$[$f$$].rankIndex=$f$$;$e$$[$g$$.id]=$d$$[$f$$];var $k$$=$c$$<$a$$?$g$$.getPreviousLayerConnectedCells($a$$):$g$$.getNextLayerConnectedCells($a$$);$d$$[$f$$].weightedValue=this.calculatedWeightedValue($g$$,$k$$)}$d$$.sort(WeightedCellSorter.prototype.compare);for($f$$=
0;$f$$<$d$$.length;$f$$++){$g$$=$d$$[$f$$].cell;var $l$$=0;$k$$=$c$$<$a$$?$g$$.getPreviousLayerConnectedCells($a$$).slice():$g$$.getNextLayerConnectedCells($a$$).slice();null!=$k$$&&($l$$=$k$$.length,$l$$=0<$l$$?this.medianXValue($k$$,$c$$):$g$$.getGeneralPurposeVariable($a$$));var $m$$=0;$k$$=-1E8;for(var $n$$=$d$$[$f$$].rankIndex-1;0<=$n$$;){var $p$$=$e$$[$b$$[$n$$].id];if(null!=$p$$){var $q$$=$p$$.cell;$p$$.visited?($k$$=$q$$.getGeneralPurposeVariable($a$$)+$q$$.width/2+this.intraCellSpacing+$m$$+
$g$$.width/2,$n$$=-1):($m$$+=$q$$.width+this.intraCellSpacing,$n$$--)}}$m$$=0;$q$$=1E8;for($n$$=$d$$[$f$$].rankIndex+1;$n$$<$d$$.length;)if($p$$=$e$$[$b$$[$n$$].id],null!=$p$$){var $r$$=$p$$.cell;$p$$.visited?($q$$=$r$$.getGeneralPurposeVariable($a$$)-$r$$.width/2-this.intraCellSpacing-$m$$-$g$$.width/2,$n$$=$d$$.length):($m$$+=$r$$.width+this.intraCellSpacing,$n$$++)}$l$$>=$k$$&&$l$$<=$q$$?$g$$.setGeneralPurposeVariable($a$$,$l$$):$l$$<$k$$?($g$$.setGeneralPurposeVariable($a$$,$k$$),this.currentXDelta+=
$k$$-$l$$):$l$$>$q$$&&($g$$.setGeneralPurposeVariable($a$$,$q$$),this.currentXDelta+=$l$$-$q$$);$d$$[$f$$].visited=!0}};mxCoordinateAssignment.prototype.calculatedWeightedValue=function($a$$,$b$$){for(var $c$$=0,$d$$=0;$d$$<$b$$.length;$d$$++){var $e$$=$b$$[$d$$];$a$$.isVertex()&&$e$$.isVertex()?$c$$++:$c$$=$a$$.isEdge()&&$e$$.isEdge()?$c$$+8:$c$$+2}return $c$$};
mxCoordinateAssignment.prototype.medianXValue=function($a$$,$b$$){if(0==$a$$.length)return 0;for(var $c$$=[],$d$$=0;$d$$<$a$$.length;$d$$++)$c$$[$d$$]=$a$$[$d$$].getGeneralPurposeVariable($b$$);$c$$.sort(function($e$$,$f$$){return $e$$-$f$$});if(1==$a$$.length%2)return $c$$[Math.floor($a$$.length/2)];$a$$=$a$$.length/2;return($c$$[$a$$-1]+$c$$[$a$$])/2};
mxCoordinateAssignment.prototype.initialCoords=function($a$$,$b$$){this.calculateWidestRank($a$$,$b$$);for(var $c$$=this.widestRank;0<=$c$$;$c$$--)$c$$<$b$$.maxRank&&this.rankCoordinates($c$$,$a$$,$b$$);for($c$$=this.widestRank+1;$c$$<=$b$$.maxRank;$c$$++)0<$c$$&&this.rankCoordinates($c$$,$a$$,$b$$)};
mxCoordinateAssignment.prototype.rankCoordinates=function($a$$,$b$$,$c$$){$b$$=$c$$.ranks[$a$$];$c$$=this.initialX+(this.widestRankValue-this.rankWidths[$a$$])/2;for(var $d$$=!1,$e$$=0;$e$$<$b$$.length;$e$$++){var $f$$=$b$$[$e$$];if($f$$.isVertex()){var $g$$=this.layout.getVertexBounds($f$$.cell);null!=$g$$?this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?($f$$.width=$g$$.width,$f$$.height=$g$$.height):($f$$.width=$g$$.height,$f$$.height=$g$$.width):$d$$=
!0}else $f$$.isEdge()&&($g$$=1,null!=$f$$.edges?$g$$=$f$$.edges.length:mxLog.warn("edge.edges is null"),$f$$.width=($g$$-1)*this.parallelEdgeSpacing);$c$$+=$f$$.width/2;$f$$.setX($a$$,$c$$);$f$$.setGeneralPurposeVariable($a$$,$c$$);$c$$+=$f$$.width/2;$c$$+=this.intraCellSpacing}1==$d$$&&mxLog.warn("At least one cell has no bounds")};
mxCoordinateAssignment.prototype.calculateWidestRank=function($a$$,$b$$){$a$$=-this.interRankCellSpacing;var $c$$=0;this.rankWidths=[];this.rankY=[];for(var $d$$=$b$$.maxRank;0<=$d$$;$d$$--){for(var $e$$=0,$f$$=$b$$.ranks[$d$$],$g$$=this.initialX,$k$$=!1,$l$$=0;$l$$<$f$$.length;$l$$++){var $m$$=$f$$[$l$$];if($m$$.isVertex()){var $n$$=this.layout.getVertexBounds($m$$.cell);null!=$n$$?this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?($m$$.width=$n$$.width,
$m$$.height=$n$$.height):($m$$.width=$n$$.height,$m$$.height=$n$$.width):$k$$=!0;$e$$=Math.max($e$$,$m$$.height)}else $m$$.isEdge()&&($n$$=1,null!=$m$$.edges?$n$$=$m$$.edges.length:mxLog.warn("edge.edges is null"),$m$$.width=($n$$-1)*this.parallelEdgeSpacing);$g$$+=$m$$.width/2;$m$$.setX($d$$,$g$$);$m$$.setGeneralPurposeVariable($d$$,$g$$);$g$$+=$m$$.width/2;$g$$+=this.intraCellSpacing;$g$$>this.widestRankValue&&(this.widestRankValue=$g$$,this.widestRank=$d$$);this.rankWidths[$d$$]=$g$$}1==$k$$&&
mxLog.warn("At least one cell has no bounds");this.rankY[$d$$]=$a$$;$g$$=$e$$/2+$c$$/2+this.interRankCellSpacing;$c$$=$e$$;$a$$=this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_WEST?$a$$+$g$$:$a$$-$g$$;for($l$$=0;$l$$<$f$$.length;$l$$++)$f$$[$l$$].setY($d$$,$a$$)}};
mxCoordinateAssignment.prototype.minPath=function($a$$,$b$$){$a$$=$b$$.edgeMapper.getValues();for(var $c$$=0;$c$$<$a$$.length;$c$$++){var $d$$=$a$$[$c$$];if(!(1>$d$$.maxRank-$d$$.minRank-1)){for(var $e$$=$d$$.getGeneralPurposeVariable($d$$.minRank+1),$f$$=!0,$g$$=0,$k$$=$d$$.minRank+2;$k$$<$d$$.maxRank;$k$$++){var $l$$=$d$$.getGeneralPurposeVariable($k$$);$e$$!=$l$$?($f$$=!1,$e$$=$l$$):$g$$++}if(!$f$$){$f$$=$e$$=0;$l$$=[];var $m$$=[],$n$$=$d$$.getGeneralPurposeVariable($d$$.minRank+1);for($k$$=$d$$.minRank+
1;$k$$<$d$$.maxRank-1;$k$$++){var $p$$=$d$$.getX($k$$+1);$n$$==$p$$?($l$$[$k$$-$d$$.minRank-1]=$n$$,$e$$++):this.repositionValid($b$$,$d$$,$k$$+1,$n$$)?($l$$[$k$$-$d$$.minRank-1]=$n$$,$e$$++):$n$$=$l$$[$k$$-$d$$.minRank-1]=$p$$}$n$$=$d$$.getX($k$$);for($k$$=$d$$.maxRank-1;$k$$>$d$$.minRank+1;$k$$--)$p$$=$d$$.getX($k$$-1),$n$$==$p$$?($m$$[$k$$-$d$$.minRank-2]=$n$$,$f$$++):this.repositionValid($b$$,$d$$,$k$$-1,$n$$)?($m$$[$k$$-$d$$.minRank-2]=$n$$,$f$$++):($m$$[$k$$-$d$$.minRank-2]=$d$$.getX($k$$-1),
$n$$=$p$$);if($f$$>$g$$||$e$$>$g$$)if($f$$>=$e$$)for($k$$=$d$$.maxRank-2;$k$$>$d$$.minRank;$k$$--)$d$$.setX($k$$,$m$$[$k$$-$d$$.minRank-1]);else if($e$$>$f$$)for($k$$=$d$$.minRank+2;$k$$<$d$$.maxRank;$k$$++)$d$$.setX($k$$,$l$$[$k$$-$d$$.minRank-2])}}}};
mxCoordinateAssignment.prototype.repositionValid=function($a$$,$b$$,$c$$,$d$$){$a$$=$a$$.ranks[$c$$];for(var $e$$=-1,$f$$=0;$f$$<$a$$.length;$f$$++)if($b$$==$a$$[$f$$]){$e$$=$f$$;break}if(0>$e$$)return!1;$f$$=$b$$.getGeneralPurposeVariable($c$$);if($d$$<$f$$){if(0==$e$$)return!0;$a$$=$a$$[$e$$-1];$c$$=$a$$.getGeneralPurposeVariable($c$$);$c$$=$c$$+$a$$.width/2+this.intraCellSpacing+$b$$.width/2;if(!($c$$<=$d$$))return!1}else if($d$$>$f$$){if($e$$==$a$$.length-1)return!0;$a$$=$a$$[$e$$+1];$c$$=$a$$.getGeneralPurposeVariable($c$$);
$c$$=$c$$-$a$$.width/2-this.intraCellSpacing-$b$$.width/2;if(!($c$$>=$d$$))return!1}return!0};
mxCoordinateAssignment.prototype.setCellLocations=function($a$$,$b$$){this.rankTopY=[];this.rankBottomY=[];for($a$$=0;$a$$<$b$$.ranks.length;$a$$++)this.rankTopY[$a$$]=Number.MAX_VALUE,this.rankBottomY[$a$$]=-Number.MAX_VALUE;var $c$$=$b$$.vertexMapper.getValues();for($a$$=0;$a$$<$c$$.length;$a$$++)this.setVertexLocation($c$$[$a$$]);this.layout.edgeStyle!=mxHierarchicalEdgeStyle.ORTHOGONAL&&this.layout.edgeStyle!=mxHierarchicalEdgeStyle.POLYLINE&&this.layout.edgeStyle!=mxHierarchicalEdgeStyle.CURVE||
this.localEdgeProcessing($b$$);$b$$=$b$$.edgeMapper.getValues();for($a$$=0;$a$$<$b$$.length;$a$$++)this.setEdgePosition($b$$[$a$$])};
mxCoordinateAssignment.prototype.localEdgeProcessing=function($a$$){for(var $b$$=0;$b$$<$a$$.ranks.length;$b$$++)for(var $c$$=$a$$.ranks[$b$$],$d$$=0;$d$$<$c$$.length;$d$$++){var $e$$=$c$$[$d$$];if($e$$.isVertex())for(var $f$$=$e$$.getPreviousLayerConnectedCells($b$$),$g$$=$b$$-1,$k$$=0;2>$k$$;$k$$++){if(-1<$g$$&&$g$$<$a$$.ranks.length&&null!=$f$$&&0<$f$$.length){for(var $l$$=[],$m$$=0;$m$$<$f$$.length;$m$$++){var $n$$=new WeightedCellSorter($f$$[$m$$],$f$$[$m$$].getX($g$$));$l$$.push($n$$)}$l$$.sort(WeightedCellSorter.prototype.compare);
$n$$=$e$$.x[0]-$e$$.width/2;var $p$$=$n$$+$e$$.width,$q$$=$f$$=0;$g$$=[];for($m$$=0;$m$$<$l$$.length;$m$$++){var $r$$=$l$$[$m$$].cell;if($r$$.isVertex())for(var $t$$=0==$k$$?$e$$.connectsAsSource:$e$$.connectsAsTarget,$u$$=0;$u$$<$t$$.length;$u$$++){if($t$$[$u$$].source==$r$$||$t$$[$u$$].target==$r$$)$f$$+=$t$$[$u$$].edges.length,$q$$++,$g$$.push($t$$[$u$$])}else $f$$+=$r$$.edges.length,$q$$++,$g$$.push($r$$)}$e$$.width>($f$$+1)*this.prefHozEdgeSep+2*this.prefHozEdgeSep&&($n$$+=this.prefHozEdgeSep,
$p$$-=this.prefHozEdgeSep);$l$$=($p$$-$n$$)/$f$$;$n$$+=$l$$/2;$p$$=this.minEdgeJetty-this.prefVertEdgeOff;for($m$$=0;$m$$<$g$$.length;$m$$++)for($q$$=$g$$[$m$$].edges.length,$r$$=this.jettyPositions[$g$$[$m$$].ids[0]],null==$r$$&&($r$$=[],this.jettyPositions[$g$$[$m$$].ids[0]]=$r$$),$m$$<$f$$/2?$p$$+=this.prefVertEdgeOff:$m$$>$f$$/2&&($p$$-=this.prefVertEdgeOff),$t$$=0;$t$$<$q$$;$t$$++)$r$$[4*$t$$+2*$k$$]=$n$$,$n$$+=$l$$,$r$$[4*$t$$+2*$k$$+1]=$p$$}$f$$=$e$$.getNextLayerConnectedCells($b$$);$g$$=$b$$+
1}}};
mxCoordinateAssignment.prototype.setEdgePosition=function($a$$){var $b$$=0;if(101207!=$a$$.temp[0]){var $c$$=$a$$.maxRank,$d$$=$a$$.minRank;$c$$==$d$$&&($c$$=$a$$.source.maxRank,$d$$=$a$$.target.minRank);for(var $e$$=0,$f$$=this.jettyPositions[$a$$.ids[0]],$g$$=$a$$.isReversed?$a$$.target.cell:$a$$.source.cell,$k$$=this.layout.graph,$l$$=this.orientation==mxConstants.DIRECTION_EAST||this.orientation==mxConstants.DIRECTION_SOUTH,$m$$=0;$m$$<$a$$.edges.length;$m$$++){var $n$$=$a$$.edges[$m$$],$p$$=
this.layout.getVisibleTerminal($n$$,!0),$q$$=[],$r$$=$a$$.isReversed;$p$$!=$g$$&&($r$$=!$r$$);if(null!=$f$$){var $t$$=$r$$?2:0,$u$$=$r$$?$l$$?this.rankBottomY[$d$$]:this.rankTopY[$d$$]:$l$$?this.rankTopY[$c$$]:this.rankBottomY[$c$$],$x$$=$f$$[4*$e$$+1+$t$$];$r$$!=$l$$&&($x$$=-$x$$);$u$$+=$x$$;$t$$=$f$$[4*$e$$+$t$$];var $y$$=$k$$.model.getTerminal($n$$,!0);this.layout.isPort($y$$)&&$k$$.model.getParent($y$$)==$p$$&&($t$$=$k$$.view.getState($y$$),$t$$=null!=$t$$?$t$$.x:$p$$.geometry.x+$a$$.source.width*
$y$$.geometry.x);this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?($q$$.push(new mxPoint($t$$,$u$$)),this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&$q$$.push(new mxPoint($t$$,$u$$+$x$$))):($q$$.push(new mxPoint($u$$,$t$$)),this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&$q$$.push(new mxPoint($u$$+$x$$,$t$$)))}$t$$=$a$$.x.length-1;$u$$=$x$$=-1;$p$$=$a$$.maxRank-1;for($r$$&&($t$$=0,$x$$=$a$$.x.length,$u$$=1,$p$$=$a$$.minRank+1);$a$$.maxRank!=
$a$$.minRank&&$t$$!=$x$$;$t$$+=$u$$){$y$$=$a$$.x[$t$$]+$b$$;var $C$$=(this.rankTopY[$p$$]+this.rankBottomY[$p$$+1])/2,$A$$=(this.rankTopY[$p$$-1]+this.rankBottomY[$p$$])/2;if($r$$){var $B$$=$C$$;$C$$=$A$$;$A$$=$B$$}this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?($q$$.push(new mxPoint($y$$,$C$$)),$q$$.push(new mxPoint($y$$,$A$$))):($q$$.push(new mxPoint($C$$,$y$$)),$q$$.push(new mxPoint($A$$,$y$$)));this.limitX=Math.max(this.limitX,$y$$);$p$$+=$u$$}null!=
$f$$&&($t$$=$r$$?2:0,$u$$=$r$$?$l$$?this.rankTopY[$c$$]:this.rankBottomY[$c$$]:$l$$?this.rankBottomY[$d$$]:this.rankTopY[$d$$],$x$$=$f$$[4*$e$$+3-$t$$],$r$$!=$l$$&&($x$$=-$x$$),$u$$-=$x$$,$t$$=$f$$[4*$e$$+2-$t$$],$r$$=$k$$.model.getTerminal($n$$,!1),$p$$=this.layout.getVisibleTerminal($n$$,!1),this.layout.isPort($r$$)&&$k$$.model.getParent($r$$)==$p$$&&($t$$=$k$$.view.getState($r$$),$t$$=null!=$t$$?$t$$.x:$p$$.geometry.x+$a$$.target.width*$r$$.geometry.x),this.orientation==mxConstants.DIRECTION_NORTH||
this.orientation==mxConstants.DIRECTION_SOUTH?(this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&$q$$.push(new mxPoint($t$$,$u$$-$x$$)),$q$$.push(new mxPoint($t$$,$u$$))):(this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&$q$$.push(new mxPoint($u$$-$x$$,$t$$)),$q$$.push(new mxPoint($u$$,$t$$))));$a$$.isReversed&&this.processReversedEdge($a$$,$n$$);this.layout.setEdgePoints($n$$,$q$$);this.layout.resetEdgeLabels&&null!=$n$$.geometry&&(geometry=$n$$.geometry.clone(),geometry.relative=!0,geometry.x=
0,geometry.y=0,$k$$.model.setGeometry($n$$,geometry));$b$$=0==$b$$?this.parallelEdgeSpacing:0<$b$$?-$b$$:-$b$$+this.parallelEdgeSpacing;$e$$++}$a$$.temp[0]=101207}};
mxCoordinateAssignment.prototype.setVertexLocation=function($a$$){var $b$$=$a$$.cell,$c$$=$a$$.x[0]-$a$$.width/2,$d$$=$a$$.y[0]-$a$$.height/2;this.rankTopY[$a$$.minRank]=Math.min(this.rankTopY[$a$$.minRank],$d$$);this.rankBottomY[$a$$.minRank]=Math.max(this.rankBottomY[$a$$.minRank],$d$$+$a$$.height);this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?this.layout.setVertexLocation($b$$,$c$$,$d$$):this.layout.setVertexLocation($b$$,$d$$,$c$$);this.limitX=Math.max(this.limitX,
$c$$+$a$$.width)};mxCoordinateAssignment.prototype.processReversedEdge=function($a$$,$b$$){};function mxSwimlaneOrdering($a$$){this.layout=$a$$}mxSwimlaneOrdering.prototype=new mxHierarchicalLayoutStage;mxSwimlaneOrdering.prototype.constructor=mxSwimlaneOrdering;mxSwimlaneOrdering.prototype.layout=null;
mxSwimlaneOrdering.prototype.execute=function($a$$){$a$$=this.layout.getModel();var $b$$=mxUtils.clone($a$$.vertexMapper,null,!0),$c$$=null;if(null!=$a$$.roots){var $d$$=$a$$.roots;$c$$=[];for(var $e$$=0;$e$$<$d$$.length;$e$$++)$c$$[$e$$]=$a$$.vertexMapper.get($d$$[$e$$])}$a$$.visit(function($f$$,$g$$,$k$$,$l$$,$m$$){$l$$=null!=$f$$&&$f$$.swimlaneIndex==$g$$.swimlaneIndex&&$g$$.isAncestor($f$$);$m$$=null!=$f$$&&null!=$k$$&&$f$$.swimlaneIndex<$g$$.swimlaneIndex&&$k$$.source==$g$$;$l$$?($k$$.invert(),
mxUtils.remove($k$$,$f$$.connectsAsSource),$g$$.connectsAsSource.push($k$$),$f$$.connectsAsTarget.push($k$$),mxUtils.remove($k$$,$g$$.connectsAsTarget)):$m$$&&($k$$.invert(),mxUtils.remove($k$$,$f$$.connectsAsTarget),$g$$.connectsAsTarget.push($k$$),$f$$.connectsAsSource.push($k$$),mxUtils.remove($k$$,$g$$.connectsAsSource));$f$$=mxCellPath.create($g$$.cell);delete $b$$[$f$$]},$c$$,!0,null)};
function mxHierarchicalLayout($a$$,$b$$,$c$$){mxGraphLayout.call(this,$a$$);this.orientation=null!=$b$$?$b$$:mxConstants.DIRECTION_NORTH;this.deterministic=null!=$c$$?$c$$:!0}var mxHierarchicalEdgeStyle={ORTHOGONAL:1,POLYLINE:2,STRAIGHT:3,CURVE:4};mxHierarchicalLayout.prototype=new mxGraphLayout;mxHierarchicalLayout.prototype.constructor=mxHierarchicalLayout;mxHierarchicalLayout.prototype.roots=null;mxHierarchicalLayout.prototype.resizeParent=!1;
mxHierarchicalLayout.prototype.maintainParentLocation=!1;mxHierarchicalLayout.prototype.moveParent=!1;mxHierarchicalLayout.prototype.parentBorder=0;mxHierarchicalLayout.prototype.intraCellSpacing=30;mxHierarchicalLayout.prototype.interRankCellSpacing=100;mxHierarchicalLayout.prototype.interHierarchySpacing=60;mxHierarchicalLayout.prototype.parallelEdgeSpacing=10;mxHierarchicalLayout.prototype.orientation=mxConstants.DIRECTION_NORTH;mxHierarchicalLayout.prototype.fineTuning=!0;
mxHierarchicalLayout.prototype.tightenToSource=!0;mxHierarchicalLayout.prototype.disableEdgeStyle=!0;mxHierarchicalLayout.prototype.resetEdgeLabels=!0;mxHierarchicalLayout.prototype.traverseAncestors=!0;mxHierarchicalLayout.prototype.model=null;mxHierarchicalLayout.prototype.edgesCache=null;mxHierarchicalLayout.prototype.edgeSourceTermCache=null;mxHierarchicalLayout.prototype.edgesTargetTermCache=null;mxHierarchicalLayout.prototype.edgeStyle=mxHierarchicalEdgeStyle.POLYLINE;
mxHierarchicalLayout.prototype.getModel=function(){return this.model};
mxHierarchicalLayout.prototype.execute=function($a$$,$b$$){this.parent=$a$$;var $c$$=this.graph.model;this.edgesCache=new mxDictionary;this.edgeSourceTermCache=new mxDictionary;this.edgesTargetTermCache=new mxDictionary;null==$b$$||$b$$ instanceof Array||($b$$=[$b$$]);if(null!=$b$$||null!=$a$$){this.parentY=this.parentX=null;if($a$$!=this.root&&null!=$c$$.isVertex($a$$)&&this.maintainParentLocation){var $d$$=this.graph.getCellGeometry($a$$);null!=$d$$&&(this.parentX=$d$$.x,this.parentY=$d$$.y)}if(null!=
$b$$){for(var $e$$=[],$f$$=0;$f$$<$b$$.length;$f$$++)(null!=$a$$?$c$$.isAncestor($a$$,$b$$[$f$$]):1)&&$c$$.isVertex($b$$[$f$$])&&$e$$.push($b$$[$f$$]);this.roots=$e$$}$c$$.beginUpdate();try{this.run($a$$),this.resizeParent&&!this.graph.isCellCollapsed($a$$)&&this.graph.updateGroupBounds([$a$$],this.parentBorder,this.moveParent),null!=this.parentX&&null!=this.parentY&&($d$$=this.graph.getCellGeometry($a$$),null!=$d$$&&($d$$=$d$$.clone(),$d$$.x=this.parentX,$d$$.y=this.parentY,$c$$.setGeometry($a$$,
$d$$)))}finally{$c$$.endUpdate()}}};
mxHierarchicalLayout.prototype.findRoots=function($a$$,$b$$){var $c$$=[];if(null!=$a$$&&null!=$b$$){$a$$=this.graph.model;var $d$$=null,$e$$=-1E5,$f$$;for($f$$ in $b$$){var $g$$=$b$$[$f$$];if($a$$.isVertex($g$$)&&this.graph.isCellVisible($g$$)){for(var $k$$=this.getEdges($g$$),$l$$=0,$m$$=0,$n$$=0;$n$$<$k$$.length;$n$$++)this.getVisibleTerminal($k$$[$n$$],!0)==$g$$?$l$$++:$m$$++;0==$m$$&&0<$l$$&&$c$$.push($g$$);$k$$=$l$$-$m$$;$k$$>$e$$&&($e$$=$k$$,$d$$=$g$$)}}0==$c$$.length&&null!=$d$$&&$c$$.push($d$$)}return $c$$};
mxHierarchicalLayout.prototype.getEdges=function($a$$){var $b$$=this.edgesCache.get($a$$);if(null!=$b$$)return $b$$;var $c$$=this.graph.model;$b$$=[];for(var $d$$=this.graph.isCellCollapsed($a$$),$e$$=$c$$.getChildCount($a$$),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=$c$$.getChildAt($a$$,$f$$);if(this.isPort($g$$))$b$$=$b$$.concat($c$$.getEdges($g$$,!0,!0));else if($d$$||!this.graph.isCellVisible($g$$))$b$$=$b$$.concat($c$$.getEdges($g$$,!0,!0))}$b$$=$b$$.concat($c$$.getEdges($a$$,!0,!0));$c$$=[];for($f$$=
0;$f$$<$b$$.length;$f$$++)$d$$=this.getVisibleTerminal($b$$[$f$$],!0),$e$$=this.getVisibleTerminal($b$$[$f$$],!1),($d$$==$e$$||$d$$!=$e$$&&($e$$==$a$$&&(null==this.parent||this.isAncestor(this.parent,$d$$,this.traverseAncestors))||$d$$==$a$$&&(null==this.parent||this.isAncestor(this.parent,$e$$,this.traverseAncestors))))&&$c$$.push($b$$[$f$$]);this.edgesCache.put($a$$,$c$$);return $c$$};
mxHierarchicalLayout.prototype.getVisibleTerminal=function($a$$,$b$$){var $c$$=this.edgesTargetTermCache;$b$$&&($c$$=this.edgeSourceTermCache);var $d$$=$c$$.get($a$$);if(null!=$d$$)return $d$$;$d$$=this.graph.view.getState($a$$);var $e$$=null!=$d$$?$d$$.getVisibleTerminal($b$$):this.graph.view.getVisibleTerminal($a$$,$b$$);null==$e$$&&($e$$=null!=$d$$?$d$$.getVisibleTerminal($b$$):this.graph.view.getVisibleTerminal($a$$,$b$$));null!=$e$$&&(this.isPort($e$$)&&($e$$=this.graph.model.getParent($e$$)),
$c$$.put($a$$,$e$$));return $e$$};
mxHierarchicalLayout.prototype.run=function($a$$){var $b$$=[],$c$$=[];if(null==this.roots&&null!=$a$$){var $d$$={};this.filterDescendants($a$$,$d$$);this.roots=[];var $e$$=!0,$f$$;for($f$$ in $d$$)if(null!=$d$$[$f$$]){$e$$=!1;break}for(;!$e$$;){var $g$$=this.findRoots($a$$,$d$$);for($e$$=0;$e$$<$g$$.length;$e$$++){var $k$$={};$b$$.push($k$$);this.traverse($g$$[$e$$],!0,null,$c$$,$k$$,$b$$,$d$$)}for($e$$=0;$e$$<$g$$.length;$e$$++)this.roots.push($g$$[$e$$]);$e$$=!0;for($f$$ in $d$$)if(null!=$d$$[$f$$]){$e$$=
!1;break}}}else for($e$$=0;$e$$<this.roots.length;$e$$++)$k$$={},$b$$.push($k$$),this.traverse(this.roots[$e$$],!0,null,$c$$,$k$$,$b$$,null);for($e$$=$c$$=0;$e$$<$b$$.length;$e$$++){$k$$=$b$$[$e$$];$d$$=[];for($f$$ in $k$$)$d$$.push($k$$[$f$$]);this.model=new mxGraphHierarchyModel(this,$d$$,this.roots,$a$$,this.tightenToSource);this.cycleStage($a$$);this.layeringStage();this.crossingStage($a$$);$c$$=this.placementStage($c$$,$a$$)}};
mxHierarchicalLayout.prototype.filterDescendants=function($a$$,$b$$){var $c$$=this.graph.model;$c$$.isVertex($a$$)&&$a$$!=this.parent&&this.graph.isCellVisible($a$$)&&($b$$[mxObjectIdentity.get($a$$)]=$a$$);if(this.traverseAncestors||$a$$==this.parent&&this.graph.isCellVisible($a$$))for(var $d$$=$c$$.getChildCount($a$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=$c$$.getChildAt($a$$,$e$$);this.isPort($f$$)||this.filterDescendants($f$$,$b$$)}};
mxHierarchicalLayout.prototype.isPort=function($a$$){return null!=$a$$&&null!=$a$$.geometry?$a$$.geometry.relative:!1};mxHierarchicalLayout.prototype.getEdgesBetween=function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;for(var $d$$=this.getEdges($a$$),$e$$=[],$f$$=0;$f$$<$d$$.length;$f$$++){var $g$$=this.getVisibleTerminal($d$$[$f$$],!0),$k$$=this.getVisibleTerminal($d$$[$f$$],!1);($g$$==$a$$&&$k$$==$b$$||!$c$$&&$g$$==$b$$&&$k$$==$a$$)&&$e$$.push($d$$[$f$$])}return $e$$};
mxHierarchicalLayout.prototype.traverse=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){if(null!=$a$$&&null!=$d$$){var $k$$=mxObjectIdentity.get($a$$);if(null==$d$$[$k$$]&&(null==$g$$||null!=$g$$[$k$$])){null==$e$$[$k$$]&&($e$$[$k$$]=$a$$);null==$d$$[$k$$]&&($d$$[$k$$]=$a$$);null!==$g$$&&delete $g$$[$k$$];var $l$$=this.getEdges($a$$);$k$$=[];for($c$$=0;$c$$<$l$$.length;$c$$++)$k$$[$c$$]=this.getVisibleTerminal($l$$[$c$$],!0)==$a$$;for($c$$=0;$c$$<$l$$.length;$c$$++)if(!$b$$||$k$$[$c$$]){$a$$=this.getVisibleTerminal($l$$[$c$$],
!$k$$[$c$$]);for(var $m$$=1,$n$$=0;$n$$<$l$$.length;$n$$++)if($n$$!=$c$$){var $p$$=$k$$[$n$$];this.getVisibleTerminal($l$$[$n$$],!$p$$)==$a$$&&($p$$?$m$$++:$m$$--)}0<=$m$$&&($e$$=this.traverse($a$$,$b$$,$l$$[$c$$],$d$$,$e$$,$f$$,$g$$))}}else if(null==$e$$[$k$$])for($c$$=0;$c$$<$f$$.length;$c$$++)if($b$$=$f$$[$c$$],null!=$b$$[$k$$]){for($l$$ in $b$$)$e$$[$l$$]=$b$$[$l$$];$f$$.splice($c$$,1);break}}return $e$$};mxHierarchicalLayout.prototype.cycleStage=function($a$$){(new mxMinimumCycleRemover(this)).execute($a$$)};
mxHierarchicalLayout.prototype.layeringStage=function(){this.model.initialRank();this.model.fixRanks()};mxHierarchicalLayout.prototype.crossingStage=function($a$$){(new mxMedianHybridCrossingReduction(this)).execute($a$$)};mxHierarchicalLayout.prototype.placementStage=function($a$$,$b$$){$a$$=new mxCoordinateAssignment(this,this.intraCellSpacing,this.interRankCellSpacing,this.orientation,$a$$,this.parallelEdgeSpacing);$a$$.fineTuning=this.fineTuning;$a$$.execute($b$$);return $a$$.limitX+this.interHierarchySpacing};
function mxSwimlaneLayout($a$$,$b$$,$c$$){mxGraphLayout.call(this,$a$$);this.orientation=null!=$b$$?$b$$:mxConstants.DIRECTION_NORTH;this.deterministic=null!=$c$$?$c$$:!0}mxSwimlaneLayout.prototype=new mxGraphLayout;mxSwimlaneLayout.prototype.constructor=mxSwimlaneLayout;mxSwimlaneLayout.prototype.roots=null;mxSwimlaneLayout.prototype.swimlanes=null;mxSwimlaneLayout.prototype.dummyVertexWidth=50;mxSwimlaneLayout.prototype.resizeParent=!1;mxSwimlaneLayout.prototype.maintainParentLocation=!1;
mxSwimlaneLayout.prototype.moveParent=!1;mxSwimlaneLayout.prototype.parentBorder=30;mxSwimlaneLayout.prototype.intraCellSpacing=30;mxSwimlaneLayout.prototype.interRankCellSpacing=100;mxSwimlaneLayout.prototype.interHierarchySpacing=60;mxSwimlaneLayout.prototype.parallelEdgeSpacing=10;mxSwimlaneLayout.prototype.orientation=mxConstants.DIRECTION_NORTH;mxSwimlaneLayout.prototype.fineTuning=!0;mxSwimlaneLayout.prototype.tightenToSource=!0;mxSwimlaneLayout.prototype.disableEdgeStyle=!0;
mxSwimlaneLayout.prototype.traverseAncestors=!0;mxSwimlaneLayout.prototype.model=null;mxSwimlaneLayout.prototype.edgesCache=null;mxHierarchicalLayout.prototype.edgeSourceTermCache=null;mxHierarchicalLayout.prototype.edgesTargetTermCache=null;mxHierarchicalLayout.prototype.edgeStyle=mxHierarchicalEdgeStyle.POLYLINE;mxSwimlaneLayout.prototype.getModel=function(){return this.model};
mxSwimlaneLayout.prototype.execute=function($a$$,$b$$){this.parent=$a$$;var $c$$=this.graph.model;this.edgesCache=new mxDictionary;this.edgeSourceTermCache=new mxDictionary;this.edgesTargetTermCache=new mxDictionary;if(!(null==$b$$||1>$b$$.length)){null==$a$$&&($a$$=$c$$.getParent($b$$[0]));this.parentY=this.parentX=null;if($a$$!=this.root&&null!=$c$$.isVertex($a$$)&&this.maintainParentLocation){var $d$$=this.graph.getCellGeometry($a$$);null!=$d$$&&(this.parentX=$d$$.x,this.parentY=$d$$.y)}this.swimlanes=
$b$$;for(var $e$$=[],$f$$=0;$f$$<$b$$.length;$f$$++){var $g$$=this.graph.getChildCells($b$$[$f$$]);if(null==$g$$||0==$g$$.length)$g$$=this.graph.insertVertex($b$$[$f$$],null,null,0,0,this.dummyVertexWidth,0),$e$$.push($g$$)}$c$$.beginUpdate();try{this.run($a$$),this.resizeParent&&!this.graph.isCellCollapsed($a$$)&&this.graph.updateGroupBounds([$a$$],this.parentBorder,this.moveParent),null!=this.parentX&&null!=this.parentY&&($d$$=this.graph.getCellGeometry($a$$),null!=$d$$&&($d$$=$d$$.clone(),$d$$.x=
this.parentX,$d$$.y=this.parentY,$c$$.setGeometry($a$$,$d$$))),this.graph.removeCells($e$$)}finally{$c$$.endUpdate()}}};
mxSwimlaneLayout.prototype.updateGroupBounds=function(){var $a$$=[],$b$$=this.model;for($f$$ in $b$$.edgeMapper)for(var $c$$=$b$$.edgeMapper[$f$$],$d$$=0;$d$$<$c$$.edges.length;$d$$++)$a$$.push($c$$.edges[$d$$]);$a$$=this.graph.getBoundingBoxFromGeometry($a$$,!0);$b$$=[];for($d$$=0;$d$$<this.swimlanes.length;$d$$++){var $e$$=this.swimlanes[$d$$],$f$$=this.graph.getCellGeometry($e$$);if(null!=$f$$){var $g$$=this.graph.getChildCells($e$$);$c$$=this.graph.isSwimlane($e$$)?this.graph.getStartSize($e$$):
new mxRectangle;$e$$=this.graph.getBoundingBoxFromGeometry($g$$);$b$$[$d$$]=$e$$;$c$$=$e$$.y+$f$$.y-$c$$.height-this.parentBorder;$f$$=$e$$.y+$f$$.y+$e$$.height;null==$a$$?$a$$=new mxRectangle(0,$c$$,0,$f$$-$c$$):($a$$.y=Math.min($a$$.y,$c$$),$a$$.height=Math.max($a$$.y+$a$$.height,$f$$)-$a$$.y)}}for($d$$=0;$d$$<this.swimlanes.length;$d$$++)if($e$$=this.swimlanes[$d$$],$f$$=this.graph.getCellGeometry($e$$),null!=$f$$){$g$$=this.graph.getChildCells($e$$);$c$$=this.graph.isSwimlane($e$$)?this.graph.getStartSize($e$$):
new mxRectangle;var $k$$=$f$$.clone(),$l$$=$c$$.width+(0==$d$$?this.parentBorder:this.interRankCellSpacing/2),$m$$=$b$$[$d$$].x-$l$$,$n$$=$a$$.y-this.parentBorder;$k$$.x+=$m$$;$k$$.y=$n$$;$k$$.width=$b$$[$d$$].width+$l$$+this.interRankCellSpacing/2;$k$$.height=$a$$.height+$c$$.height+2*this.parentBorder;this.graph.model.setGeometry($e$$,$k$$);this.graph.moveCells($g$$,-$m$$,$f$$.y-$n$$)}};
mxSwimlaneLayout.prototype.findRoots=function($a$$,$b$$){var $c$$=[];if(null!=$a$$&&null!=$b$$){var $d$$=this.graph.model,$e$$=null,$f$$=-1E5,$g$$;for($g$$ in $b$$){var $k$$=$b$$[$g$$];if(null!=$k$$&&$d$$.isVertex($k$$)&&this.graph.isCellVisible($k$$)&&$d$$.isAncestor($a$$,$k$$)){for(var $l$$=this.getEdges($k$$),$m$$=0,$n$$=0,$p$$=0;$p$$<$l$$.length;$p$$++){var $q$$=this.getVisibleTerminal($l$$[$p$$],!0);$q$$==$k$$?($q$$=this.getVisibleTerminal($l$$[$p$$],!1),$d$$.isAncestor($a$$,$q$$)&&$m$$++):$d$$.isAncestor($a$$,
$q$$)&&$n$$++}0==$n$$&&0<$m$$&&$c$$.push($k$$);$l$$=$m$$-$n$$;$l$$>$f$$&&($f$$=$l$$,$e$$=$k$$)}}0==$c$$.length&&null!=$e$$&&$c$$.push($e$$)}return $c$$};
mxSwimlaneLayout.prototype.getEdges=function($a$$){var $b$$=this.edgesCache.get($a$$);if(null!=$b$$)return $b$$;var $c$$=this.graph.model;$b$$=[];for(var $d$$=this.graph.isCellCollapsed($a$$),$e$$=$c$$.getChildCount($a$$),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=$c$$.getChildAt($a$$,$f$$);if(this.isPort($g$$))$b$$=$b$$.concat($c$$.getEdges($g$$,!0,!0));else if($d$$||!this.graph.isCellVisible($g$$))$b$$=$b$$.concat($c$$.getEdges($g$$,!0,!0))}$b$$=$b$$.concat($c$$.getEdges($a$$,!0,!0));$c$$=[];for($f$$=0;$f$$<
$b$$.length;$f$$++)$d$$=this.getVisibleTerminal($b$$[$f$$],!0),$e$$=this.getVisibleTerminal($b$$[$f$$],!1),($d$$==$e$$||$d$$!=$e$$&&($e$$==$a$$&&(null==this.parent||this.graph.isValidAncestor($d$$,this.parent,this.traverseAncestors))||$d$$==$a$$&&(null==this.parent||this.graph.isValidAncestor($e$$,this.parent,this.traverseAncestors))))&&$c$$.push($b$$[$f$$]);this.edgesCache.put($a$$,$c$$);return $c$$};
mxSwimlaneLayout.prototype.getVisibleTerminal=function($a$$,$b$$){var $c$$=this.edgesTargetTermCache;$b$$&&($c$$=this.edgeSourceTermCache);var $d$$=$c$$.get($a$$);if(null!=$d$$)return $d$$;$d$$=this.graph.view.getState($a$$);var $e$$=null!=$d$$?$d$$.getVisibleTerminal($b$$):this.graph.view.getVisibleTerminal($a$$,$b$$);null==$e$$&&($e$$=null!=$d$$?$d$$.getVisibleTerminal($b$$):this.graph.view.getVisibleTerminal($a$$,$b$$));null!=$e$$&&(this.isPort($e$$)&&($e$$=this.graph.model.getParent($e$$)),$c$$.put($a$$,
$e$$));return $e$$};
mxSwimlaneLayout.prototype.run=function($a$$){var $b$$=[],$c$$={};if(null!=this.swimlanes&&0<this.swimlanes.length&&null!=$a$$){for(var $d$$={},$e$$=0;$e$$<this.swimlanes.length;$e$$++)this.filterDescendants(this.swimlanes[$e$$],$d$$);this.roots=[];$e$$=!0;for(var $f$$ in $d$$)if(null!=$d$$[$f$$]){$e$$=!1;break}for(var $g$$=0;!$e$$&&$g$$<this.swimlanes.length;){var $k$$=this.findRoots(this.swimlanes[$g$$],$d$$);if(0==$k$$.length)$g$$++;else{for($e$$=0;$e$$<$k$$.length;$e$$++){var $l$$={};$b$$.push($l$$);
this.traverse($k$$[$e$$],!0,null,$c$$,$l$$,$b$$,$d$$,$g$$)}for($e$$=0;$e$$<$k$$.length;$e$$++)this.roots.push($k$$[$e$$]);$e$$=!0;for($f$$ in $d$$)if(null!=$d$$[$f$$]){$e$$=!1;break}}}}else for($e$$=0;$e$$<this.roots.length;$e$$++)$l$$={},$b$$.push($l$$),this.traverse(this.roots[$e$$],!0,null,$c$$,$l$$,$b$$,null);$b$$=[];for($f$$ in $c$$)$b$$.push($c$$[$f$$]);this.model=new mxSwimlaneModel(this,$b$$,this.roots,$a$$,this.tightenToSource);this.cycleStage($a$$);this.layeringStage();this.crossingStage($a$$);
this.placementStage(0,$a$$)};mxSwimlaneLayout.prototype.filterDescendants=function($a$$,$b$$){var $c$$=this.graph.model;$c$$.isVertex($a$$)&&$a$$!=this.parent&&$c$$.getParent($a$$)!=this.parent&&this.graph.isCellVisible($a$$)&&($b$$[mxObjectIdentity.get($a$$)]=$a$$);if(this.traverseAncestors||$a$$==this.parent&&this.graph.isCellVisible($a$$))for(var $d$$=$c$$.getChildCount($a$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=$c$$.getChildAt($a$$,$e$$);this.isPort($f$$)||this.filterDescendants($f$$,$b$$)}};
mxSwimlaneLayout.prototype.isPort=function($a$$){return $a$$.geometry.relative?!0:!1};mxSwimlaneLayout.prototype.getEdgesBetween=function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;for(var $d$$=this.getEdges($a$$),$e$$=[],$f$$=0;$f$$<$d$$.length;$f$$++){var $g$$=this.getVisibleTerminal($d$$[$f$$],!0),$k$$=this.getVisibleTerminal($d$$[$f$$],!1);($g$$==$a$$&&$k$$==$b$$||!$c$$&&$g$$==$b$$&&$k$$==$a$$)&&$e$$.push($d$$[$f$$])}return $e$$};
mxSwimlaneLayout.prototype.traverse=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){if(null!=$a$$&&null!=$d$$){var $l$$=mxObjectIdentity.get($a$$);if(null==$d$$[$l$$]&&(null==$g$$||null!=$g$$[$l$$])){null==$e$$[$l$$]&&($e$$[$l$$]=$a$$);null==$d$$[$l$$]&&($d$$[$l$$]=$a$$);null!==$g$$&&delete $g$$[$l$$];var $m$$=this.getEdges($a$$);$l$$=this.graph.model;for($c$$=0;$c$$<$m$$.length;$c$$++){var $n$$=this.getVisibleTerminal($m$$[$c$$],!0),$p$$=$n$$==$a$$;$p$$&&($n$$=this.getVisibleTerminal($m$$[$c$$],
!1));for(var $q$$=0;$q$$<this.swimlanes.length&&!$l$$.isAncestor(this.swimlanes[$q$$],$n$$);)$q$$++;$q$$>=this.swimlanes.length||!($q$$>$k$$||(!$b$$||$p$$)&&$q$$==$k$$)||($e$$=this.traverse($n$$,$b$$,$m$$[$c$$],$d$$,$e$$,$f$$,$g$$,$q$$))}}else if(null==$e$$[$l$$])for($c$$=0;$c$$<$f$$.length;$c$$++)if($a$$=$f$$[$c$$],null!=$a$$[$l$$]){for($m$$ in $a$$)$e$$[$m$$]=$a$$[$m$$];$f$$.splice($c$$,1);break}}return $e$$};mxSwimlaneLayout.prototype.cycleStage=function($a$$){(new mxSwimlaneOrdering(this)).execute($a$$)};
mxSwimlaneLayout.prototype.layeringStage=function(){this.model.initialRank();this.model.fixRanks()};mxSwimlaneLayout.prototype.crossingStage=function($a$$){(new mxMedianHybridCrossingReduction(this)).execute($a$$)};mxSwimlaneLayout.prototype.placementStage=function($a$$,$b$$){$a$$=new mxCoordinateAssignment(this,this.intraCellSpacing,this.interRankCellSpacing,this.orientation,$a$$,this.parallelEdgeSpacing);$a$$.fineTuning=this.fineTuning;$a$$.execute($b$$);return $a$$.limitX+this.interHierarchySpacing};
function mxGraphModel($a$$){this.currentEdit=this.createUndoableEdit();null!=$a$$?this.setRoot($a$$):this.clear()}mxGraphModel.prototype=new mxEventSource;mxGraphModel.prototype.constructor=mxGraphModel;mxGraphModel.prototype.root=null;mxGraphModel.prototype.cells=null;mxGraphModel.prototype.maintainEdgeParent=!0;mxGraphModel.prototype.ignoreRelativeEdgeParent=!0;mxGraphModel.prototype.createIds=!0;mxGraphModel.prototype.prefix="";mxGraphModel.prototype.postfix="";mxGraphModel.prototype.nextId=0;
mxGraphModel.prototype.currentEdit=null;mxGraphModel.prototype.updateLevel=0;mxGraphModel.prototype.endingUpdate=!1;mxGraphModel.prototype.clear=function(){this.setRoot(this.createRoot())};mxGraphModel.prototype.isCreateIds=function(){return this.createIds};mxGraphModel.prototype.setCreateIds=function($a$$){this.createIds=$a$$};mxGraphModel.prototype.createRoot=function(){var $a$$=new mxCell;$a$$.insert(new mxCell);return $a$$};
mxGraphModel.prototype.getCells=function(){var $a$$=[];if(null!=this.cells)for(var $b$$ in this.cells)$a$$.push(this.cells[$b$$]);return $a$$};mxGraphModel.prototype.getCellCount=function(){var $a$$=0;if(null!=this.cells)for(var $b$$ in this.cells)$a$$++;return $a$$};mxGraphModel.prototype.getCell=function($a$$){return null!=this.cells?this.cells[$a$$]:null};
mxGraphModel.prototype.filterCells=function($a$$,$b$$){var $c$$=null;if(null!=$a$$){$c$$=[];for(var $d$$=0;$d$$<$a$$.length;$d$$++)$b$$($a$$[$d$$])&&$c$$.push($a$$[$d$$])}return $c$$};mxGraphModel.prototype.getDescendants=function($a$$){return this.filterDescendants(null,$a$$)};
mxGraphModel.prototype.filterDescendants=function($a$$,$b$$){var $c$$=[];$b$$=$b$$||this.getRoot();(null==$a$$||$a$$($b$$))&&$c$$.push($b$$);for(var $d$$=this.getChildCount($b$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=this.getChildAt($b$$,$e$$);$c$$=$c$$.concat(this.filterDescendants($a$$,$f$$))}return $c$$};mxGraphModel.prototype.getRoot=function($a$$){var $b$$=$a$$||this.root;if(null!=$a$$)for(;null!=$a$$;)$b$$=$a$$,$a$$=this.getParent($a$$);return $b$$};
mxGraphModel.prototype.setRoot=function($a$$){this.execute(new mxRootChange(this,$a$$));return $a$$};mxGraphModel.prototype.rootChanged=function($a$$){var $b$$=this.root;this.root=$a$$;this.nextId=0;this.cells=null;this.cellAdded($a$$);return $b$$};mxGraphModel.prototype.isRoot=function($a$$){return null!=$a$$&&this.root==$a$$};mxGraphModel.prototype.isLayer=function($a$$){return this.isRoot(this.getParent($a$$))};
mxGraphModel.prototype.isAncestor=function($a$$,$b$$){for(;null!=$b$$&&$b$$!=$a$$;)$b$$=this.getParent($b$$);return $b$$==$a$$};mxGraphModel.prototype.contains=function($a$$){return this.isAncestor(this.root,$a$$)};mxGraphModel.prototype.getParent=function($a$$){return null!=$a$$?$a$$.getParent():null};
mxGraphModel.prototype.add=function($a$$,$b$$,$c$$){if($b$$!=$a$$&&null!=$a$$&&null!=$b$$){null==$c$$&&($c$$=this.getChildCount($a$$));var $d$$=$a$$!=this.getParent($b$$);this.execute(new mxChildChange(this,$a$$,$b$$,$c$$));this.maintainEdgeParent&&$d$$&&this.updateEdgeParents($b$$)}return $b$$};
mxGraphModel.prototype.cellAdded=function($a$$){if(null!=$a$$){null==$a$$.getId()&&this.createIds&&$a$$.setId(this.createId($a$$));if(null!=$a$$.getId()){var $b$$=this.getCell($a$$.getId());if($b$$!=$a$$){for(;null!=$b$$;)$a$$.setId(this.createId($a$$)),$b$$=this.getCell($a$$.getId());null==this.cells&&(this.cells={});this.cells[$a$$.getId()]=$a$$}}mxUtils.isNumeric($a$$.getId())&&(this.nextId=Math.max(this.nextId,$a$$.getId()));$b$$=this.getChildCount($a$$);for(var $c$$=0;$c$$<$b$$;$c$$++)this.cellAdded(this.getChildAt($a$$,
$c$$))}};mxGraphModel.prototype.createId=function($a$$){$a$$=this.nextId;this.nextId++;return this.prefix+$a$$+this.postfix};
mxGraphModel.prototype.updateEdgeParents=function($a$$,$b$$){$b$$=$b$$||this.getRoot($a$$);for(var $c$$=this.getChildCount($a$$),$d$$=0;$d$$<$c$$;$d$$++){var $e$$=this.getChildAt($a$$,$d$$);this.updateEdgeParents($e$$,$b$$)}$e$$=this.getEdgeCount($a$$);$c$$=[];for($d$$=0;$d$$<$e$$;$d$$++)$c$$.push(this.getEdgeAt($a$$,$d$$));for($d$$=0;$d$$<$c$$.length;$d$$++)$a$$=$c$$[$d$$],this.isAncestor($b$$,$a$$)&&this.updateEdgeParent($a$$,$b$$)};
mxGraphModel.prototype.updateEdgeParent=function($a$$,$b$$){for(var $c$$=this.getTerminal($a$$,!0),$d$$=this.getTerminal($a$$,!1);null!=$c$$&&!this.isEdge($c$$)&&null!=$c$$.geometry&&$c$$.geometry.relative;)$c$$=this.getParent($c$$);for(;null!=$d$$&&this.ignoreRelativeEdgeParent&&!this.isEdge($d$$)&&null!=$d$$.geometry&&$d$$.geometry.relative;)$d$$=this.getParent($d$$);if(this.isAncestor($b$$,$c$$)&&this.isAncestor($b$$,$d$$)&&($b$$=$c$$==$d$$?this.getParent($c$$):this.getNearestCommonAncestor($c$$,
$d$$),null!=$b$$&&(this.getParent($b$$)!=this.root||this.isAncestor($b$$,$a$$))&&this.getParent($a$$)!=$b$$)){$c$$=this.getGeometry($a$$);if(null!=$c$$){var $e$$=this.getOrigin(this.getParent($a$$)),$f$$=this.getOrigin($b$$);$d$$=$f$$.x-$e$$.x;$e$$=$f$$.y-$e$$.y;$c$$=$c$$.clone();$c$$.translate(-$d$$,-$e$$);this.setGeometry($a$$,$c$$)}this.add($b$$,$a$$,this.getChildCount($b$$))}};
mxGraphModel.prototype.getOrigin=function($a$$){if(null!=$a$$){var $b$$=this.getOrigin(this.getParent($a$$));this.isEdge($a$$)||($a$$=this.getGeometry($a$$),null!=$a$$&&($b$$.x+=$a$$.x,$b$$.y+=$a$$.y))}else $b$$=new mxPoint;return $b$$};
mxGraphModel.prototype.getNearestCommonAncestor=function($a$$,$b$$){if(null!=$a$$&&null!=$b$$){var $c$$=mxCellPath.create($b$$);if(null!=$c$$&&0<$c$$.length){var $d$$=mxCellPath.create($a$$);for($c$$.length<$d$$.length&&($a$$=$b$$,$b$$=$d$$,$d$$=$c$$,$c$$=$b$$);null!=$a$$;){$b$$=this.getParent($a$$);if(0==$c$$.indexOf($d$$+mxCellPath.PATH_SEPARATOR)&&null!=$b$$)return $a$$;$d$$=mxCellPath.getParentPath($d$$);$a$$=$b$$}}}return null};
mxGraphModel.prototype.remove=function($a$$){$a$$==this.root?this.setRoot(null):null!=this.getParent($a$$)&&this.execute(new mxChildChange(this,null,$a$$));return $a$$};mxGraphModel.prototype.cellRemoved=function($a$$){if(null!=$a$$&&null!=this.cells){for(var $b$$=this.getChildCount($a$$)-1;0<=$b$$;$b$$--)this.cellRemoved(this.getChildAt($a$$,$b$$));null!=this.cells&&null!=$a$$.getId()&&delete this.cells[$a$$.getId()]}};
mxGraphModel.prototype.parentForCellChanged=function($a$$,$b$$,$c$$){var $d$$=this.getParent($a$$);null!=$b$$?$b$$==$d$$&&$d$$.getIndex($a$$)==$c$$||$b$$.insert($a$$,$c$$):null!=$d$$&&($c$$=$d$$.getIndex($a$$),$d$$.remove($c$$));$b$$=this.contains($b$$);$c$$=this.contains($d$$);$b$$&&!$c$$?this.cellAdded($a$$):$c$$&&!$b$$&&this.cellRemoved($a$$);return $d$$};mxGraphModel.prototype.getChildCount=function($a$$){return null!=$a$$?$a$$.getChildCount():0};
mxGraphModel.prototype.getChildAt=function($a$$,$b$$){return null!=$a$$?$a$$.getChildAt($b$$):null};mxGraphModel.prototype.getChildren=function($a$$){return null!=$a$$?$a$$.children:null};mxGraphModel.prototype.getChildVertices=function($a$$){return this.getChildCells($a$$,!0,!1)};mxGraphModel.prototype.getChildEdges=function($a$$){return this.getChildCells($a$$,!1,!0)};
mxGraphModel.prototype.getChildCells=function($a$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:!1;$c$$=null!=$c$$?$c$$:!1;for(var $d$$=this.getChildCount($a$$),$e$$=[],$f$$=0;$f$$<$d$$;$f$$++){var $g$$=this.getChildAt($a$$,$f$$);(!$c$$&&!$b$$||$c$$&&this.isEdge($g$$)||$b$$&&this.isVertex($g$$))&&$e$$.push($g$$)}return $e$$};mxGraphModel.prototype.getTerminal=function($a$$,$b$$){return null!=$a$$?$a$$.getTerminal($b$$):null};
mxGraphModel.prototype.setTerminal=function($a$$,$b$$,$c$$){var $d$$=$b$$!=this.getTerminal($a$$,$c$$);this.execute(new mxTerminalChange(this,$a$$,$b$$,$c$$));this.maintainEdgeParent&&$d$$&&this.updateEdgeParent($a$$,this.getRoot());return $b$$};mxGraphModel.prototype.setTerminals=function($a$$,$b$$,$c$$){this.beginUpdate();try{this.setTerminal($a$$,$b$$,!0),this.setTerminal($a$$,$c$$,!1)}finally{this.endUpdate()}};
mxGraphModel.prototype.terminalForCellChanged=function($a$$,$b$$,$c$$){var $d$$=this.getTerminal($a$$,$c$$);null!=$b$$?$b$$.insertEdge($a$$,$c$$):null!=$d$$&&$d$$.removeEdge($a$$,$c$$);return $d$$};mxGraphModel.prototype.getEdgeCount=function($a$$){return null!=$a$$?$a$$.getEdgeCount():0};mxGraphModel.prototype.getEdgeAt=function($a$$,$b$$){return null!=$a$$?$a$$.getEdgeAt($b$$):null};
mxGraphModel.prototype.getDirectedEdgeCount=function($a$$,$b$$,$c$$){for(var $d$$=0,$e$$=this.getEdgeCount($a$$),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=this.getEdgeAt($a$$,$f$$);$g$$!=$c$$&&this.getTerminal($g$$,$b$$)==$a$$&&$d$$++}return $d$$};mxGraphModel.prototype.getConnections=function($a$$){return this.getEdges($a$$,!0,!0,!1)};mxGraphModel.prototype.getIncomingEdges=function($a$$){return this.getEdges($a$$,!0,!1,!1)};
mxGraphModel.prototype.getOutgoingEdges=function($a$$){return this.getEdges($a$$,!1,!0,!1)};mxGraphModel.prototype.getEdges=function($a$$,$b$$,$c$$,$d$$){$b$$=null!=$b$$?$b$$:!0;$c$$=null!=$c$$?$c$$:!0;$d$$=null!=$d$$?$d$$:!0;for(var $e$$=this.getEdgeCount($a$$),$f$$=[],$g$$=0;$g$$<$e$$;$g$$++){var $k$$=this.getEdgeAt($a$$,$g$$),$l$$=this.getTerminal($k$$,!0),$m$$=this.getTerminal($k$$,!1);($d$$&&$l$$==$m$$||$l$$!=$m$$&&($b$$&&$m$$==$a$$||$c$$&&$l$$==$a$$))&&$f$$.push($k$$)}return $f$$};
mxGraphModel.prototype.getEdgesBetween=function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;var $d$$=this.getEdgeCount($a$$),$e$$=this.getEdgeCount($b$$),$f$$=$a$$,$g$$=$d$$;$e$$<$d$$&&($g$$=$e$$,$f$$=$b$$);$d$$=[];for($e$$=0;$e$$<$g$$;$e$$++){var $k$$=this.getEdgeAt($f$$,$e$$),$l$$=this.getTerminal($k$$,!0),$m$$=this.getTerminal($k$$,!1),$n$$=$m$$==$a$$&&$l$$==$b$$;($l$$==$a$$&&$m$$==$b$$||!$c$$&&$n$$)&&$d$$.push($k$$)}return $d$$};
mxGraphModel.prototype.getOpposites=function($a$$,$b$$,$c$$,$d$$){$c$$=null!=$c$$?$c$$:!0;$d$$=null!=$d$$?$d$$:!0;var $e$$=[];if(null!=$a$$)for(var $f$$=0;$f$$<$a$$.length;$f$$++){var $g$$=this.getTerminal($a$$[$f$$],!0),$k$$=this.getTerminal($a$$[$f$$],!1);$g$$==$b$$&&null!=$k$$&&$k$$!=$b$$&&$d$$?$e$$.push($k$$):$k$$==$b$$&&null!=$g$$&&$g$$!=$b$$&&$c$$&&$e$$.push($g$$)}return $e$$};
mxGraphModel.prototype.getTopmostCells=function($a$$){for(var $b$$=new mxDictionary,$c$$=[],$d$$=0;$d$$<$a$$.length;$d$$++)$b$$.put($a$$[$d$$],!0);for($d$$=0;$d$$<$a$$.length;$d$$++){for(var $e$$=$a$$[$d$$],$f$$=!0,$g$$=this.getParent($e$$);null!=$g$$;){if($b$$.get($g$$)){$f$$=!1;break}$g$$=this.getParent($g$$)}$f$$&&$c$$.push($e$$)}return $c$$};mxGraphModel.prototype.isVertex=function($a$$){return null!=$a$$?$a$$.isVertex():!1};
mxGraphModel.prototype.isEdge=function($a$$){return null!=$a$$?$a$$.isEdge():!1};mxGraphModel.prototype.isConnectable=function($a$$){return null!=$a$$?$a$$.isConnectable():!1};mxGraphModel.prototype.getValue=function($a$$){return null!=$a$$?$a$$.getValue():null};mxGraphModel.prototype.setValue=function($a$$,$b$$){this.execute(new mxValueChange(this,$a$$,$b$$));return $b$$};mxGraphModel.prototype.valueForCellChanged=function($a$$,$b$$){return $a$$.valueChanged($b$$)};
mxGraphModel.prototype.getGeometry=function($a$$){return null!=$a$$?$a$$.getGeometry():null};mxGraphModel.prototype.setGeometry=function($a$$,$b$$){$b$$!=this.getGeometry($a$$)&&this.execute(new mxGeometryChange(this,$a$$,$b$$));return $b$$};mxGraphModel.prototype.geometryForCellChanged=function($a$$,$b$$){var $c$$=this.getGeometry($a$$);$a$$.setGeometry($b$$);return $c$$};mxGraphModel.prototype.getStyle=function($a$$){return null!=$a$$?$a$$.getStyle():null};
mxGraphModel.prototype.setStyle=function($a$$,$b$$){$b$$!=this.getStyle($a$$)&&this.execute(new mxStyleChange(this,$a$$,$b$$));return $b$$};mxGraphModel.prototype.styleForCellChanged=function($a$$,$b$$){var $c$$=this.getStyle($a$$);$a$$.setStyle($b$$);return $c$$};mxGraphModel.prototype.isCollapsed=function($a$$){return null!=$a$$?$a$$.isCollapsed():!1};mxGraphModel.prototype.setCollapsed=function($a$$,$b$$){$b$$!=this.isCollapsed($a$$)&&this.execute(new mxCollapseChange(this,$a$$,$b$$));return $b$$};
mxGraphModel.prototype.collapsedStateForCellChanged=function($a$$,$b$$){var $c$$=this.isCollapsed($a$$);$a$$.setCollapsed($b$$);return $c$$};mxGraphModel.prototype.isVisible=function($a$$){return null!=$a$$?$a$$.isVisible():!1};mxGraphModel.prototype.setVisible=function($a$$,$b$$){$b$$!=this.isVisible($a$$)&&this.execute(new mxVisibleChange(this,$a$$,$b$$));return $b$$};mxGraphModel.prototype.visibleStateForCellChanged=function($a$$,$b$$){var $c$$=this.isVisible($a$$);$a$$.setVisible($b$$);return $c$$};
mxGraphModel.prototype.execute=function($a$$){$a$$.execute();this.beginUpdate();this.currentEdit.add($a$$);this.fireEvent(new mxEventObject(mxEvent.EXECUTE,"change",$a$$));this.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",$a$$));this.endUpdate()};mxGraphModel.prototype.beginUpdate=function(){this.updateLevel++;this.fireEvent(new mxEventObject(mxEvent.BEGIN_UPDATE));1==this.updateLevel&&this.fireEvent(new mxEventObject(mxEvent.START_EDIT))};
mxGraphModel.prototype.endUpdate=function(){this.updateLevel--;0==this.updateLevel&&this.fireEvent(new mxEventObject(mxEvent.END_EDIT));if(!this.endingUpdate){this.endingUpdate=0==this.updateLevel;this.fireEvent(new mxEventObject(mxEvent.END_UPDATE,"edit",this.currentEdit));try{if(this.endingUpdate&&!this.currentEdit.isEmpty()){this.fireEvent(new mxEventObject(mxEvent.BEFORE_UNDO,"edit",this.currentEdit));var $a$$=this.currentEdit;this.currentEdit=this.createUndoableEdit();$a$$.notify();this.fireEvent(new mxEventObject(mxEvent.UNDO,
"edit",$a$$))}}finally{this.endingUpdate=!1}}};mxGraphModel.prototype.createUndoableEdit=function($a$$){var $b$$=new mxUndoableEdit(this,null!=$a$$?$a$$:!0);$b$$.notify=function(){$b$$.source.fireEvent(new mxEventObject(mxEvent.CHANGE,"edit",$b$$,"changes",$b$$.changes));$b$$.source.fireEvent(new mxEventObject(mxEvent.NOTIFY,"edit",$b$$,"changes",$b$$.changes))};return $b$$};
mxGraphModel.prototype.mergeChildren=function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!0;this.beginUpdate();try{var $d$$={};this.mergeChildrenImpl($a$$,$b$$,$c$$,$d$$);for(var $e$$ in $d$$){var $f$$=$d$$[$e$$],$g$$=this.getTerminal($f$$,!0);null!=$g$$&&($g$$=$d$$[mxCellPath.create($g$$)],this.setTerminal($f$$,$g$$,!0));$g$$=this.getTerminal($f$$,!1);null!=$g$$&&($g$$=$d$$[mxCellPath.create($g$$)],this.setTerminal($f$$,$g$$,!1))}}finally{this.endUpdate()}};
mxGraphModel.prototype.mergeChildrenImpl=function($a$$,$b$$,$c$$,$d$$){this.beginUpdate();try{for(var $e$$=$a$$.getChildCount(),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=$a$$.getChildAt($f$$);if("function"==typeof $g$$.getId){var $k$$=$g$$.getId(),$l$$=null==$k$$||this.isEdge($g$$)&&$c$$?null:this.getCell($k$$);if(null==$l$$){var $m$$=$g$$.clone();$m$$.setId($k$$);$m$$.setTerminal($g$$.getTerminal(!0),!0);$m$$.setTerminal($g$$.getTerminal(!1),!1);$l$$=$b$$.insert($m$$);this.cellAdded($l$$)}$d$$[mxCellPath.create($g$$)]=
$l$$;this.mergeChildrenImpl($g$$,$l$$,$c$$,$d$$)}}}finally{this.endUpdate()}};mxGraphModel.prototype.getParents=function($a$$){var $b$$=[];if(null!=$a$$)for(var $c$$=new mxDictionary,$d$$=0;$d$$<$a$$.length;$d$$++){var $e$$=this.getParent($a$$[$d$$]);null==$e$$||$c$$.get($e$$)||($c$$.put($e$$,!0),$b$$.push($e$$))}return $b$$};mxGraphModel.prototype.cloneCell=function($a$$,$b$$,$c$$){return null!=$a$$?this.cloneCells([$a$$],$b$$,null,$c$$)[0]:null};
mxGraphModel.prototype.cloneCells=function($a$$,$b$$,$c$$,$d$$){$b$$=null!=$b$$?$b$$:!0;$c$$=null!=$c$$?$c$$:{};$d$$=null!=$d$$?$d$$:!1;for(var $e$$=[],$f$$=0;$f$$<$a$$.length;$f$$++)null!=$a$$[$f$$]?$e$$.push(this.cloneCellImpl($a$$[$f$$],$c$$,$b$$,$d$$)):$e$$.push(null);for($f$$=0;$f$$<$e$$.length;$f$$++)null!=$e$$[$f$$]&&this.restoreClone($e$$[$f$$],$a$$[$f$$],$c$$);return $e$$};
mxGraphModel.prototype.cloneCellImpl=function($a$$,$b$$,$c$$,$d$$){var $e$$=mxObjectIdentity.get($a$$),$f$$=$b$$[$e$$];if(null==$f$$&&($f$$=this.cellCloned($a$$),$b$$[$e$$]=$f$$,$d$$&&($f$$.id=$a$$.id),$c$$))for($c$$=this.getChildCount($a$$),$e$$=0;$e$$<$c$$;$e$$++){var $g$$=this.cloneCellImpl(this.getChildAt($a$$,$e$$),$b$$,!0,$d$$);$f$$.insert($g$$)}return $f$$};mxGraphModel.prototype.cellCloned=function($a$$){return $a$$.clone()};
mxGraphModel.prototype.restoreClone=function($a$$,$b$$,$c$$){var $d$$=this.getTerminal($b$$,!0);null!=$d$$&&($d$$=$c$$[mxObjectIdentity.get($d$$)],null!=$d$$&&$d$$.insertEdge($a$$,!0));$d$$=this.getTerminal($b$$,!1);null!=$d$$&&($d$$=$c$$[mxObjectIdentity.get($d$$)],null!=$d$$&&$d$$.insertEdge($a$$,!1));$d$$=this.getChildCount($a$$);for(var $e$$=0;$e$$<$d$$;$e$$++)this.restoreClone(this.getChildAt($a$$,$e$$),this.getChildAt($b$$,$e$$),$c$$)};
function mxRootChange($a$$,$b$$){this.model=$a$$;this.previous=this.root=$b$$}mxRootChange.prototype.execute=function(){this.root=this.previous;this.previous=this.model.rootChanged(this.previous)};function mxChildChange($a$$,$b$$,$c$$,$d$$){this.model=$a$$;this.previous=this.parent=$b$$;this.child=$c$$;this.previousIndex=this.index=$d$$}
mxChildChange.prototype.execute=function(){if(null!=this.child){var $a$$=this.model.getParent(this.child),$b$$=null!=$a$$?$a$$.getIndex(this.child):0;null==this.previous&&this.connect(this.child,!1);$a$$=this.model.parentForCellChanged(this.child,this.previous,this.previousIndex);null!=this.previous&&this.connect(this.child,!0);this.parent=this.previous;this.previous=$a$$;this.index=this.previousIndex;this.previousIndex=$b$$}};
mxChildChange.prototype.connect=function($a$$,$b$$){$b$$=null!=$b$$?$b$$:!0;var $c$$=$a$$.getTerminal(!0),$d$$=$a$$.getTerminal(!1);null!=$c$$&&($b$$?this.model.terminalForCellChanged($a$$,$c$$,!0):this.model.terminalForCellChanged($a$$,null,!0));null!=$d$$&&($b$$?this.model.terminalForCellChanged($a$$,$d$$,!1):this.model.terminalForCellChanged($a$$,null,!1));$a$$.setTerminal($c$$,!0);$a$$.setTerminal($d$$,!1);$c$$=this.model.getChildCount($a$$);for($d$$=0;$d$$<$c$$;$d$$++)this.connect(this.model.getChildAt($a$$,
$d$$),$b$$)};function mxTerminalChange($a$$,$b$$,$c$$,$d$$){this.model=$a$$;this.cell=$b$$;this.previous=this.terminal=$c$$;this.source=$d$$}mxTerminalChange.prototype.execute=function(){null!=this.cell&&(this.terminal=this.previous,this.previous=this.model.terminalForCellChanged(this.cell,this.previous,this.source))};function mxValueChange($a$$,$b$$,$c$$){this.model=$a$$;this.cell=$b$$;this.previous=this.value=$c$$}
mxValueChange.prototype.execute=function(){null!=this.cell&&(this.value=this.previous,this.previous=this.model.valueForCellChanged(this.cell,this.previous))};function mxStyleChange($a$$,$b$$,$c$$){this.model=$a$$;this.cell=$b$$;this.previous=this.style=$c$$}mxStyleChange.prototype.execute=function(){null!=this.cell&&(this.style=this.previous,this.previous=this.model.styleForCellChanged(this.cell,this.previous))};
function mxGeometryChange($a$$,$b$$,$c$$){this.model=$a$$;this.cell=$b$$;this.previous=this.geometry=$c$$}mxGeometryChange.prototype.execute=function(){null!=this.cell&&(this.geometry=this.previous,this.previous=this.model.geometryForCellChanged(this.cell,this.previous))};function mxCollapseChange($a$$,$b$$,$c$$){this.model=$a$$;this.cell=$b$$;this.previous=this.collapsed=$c$$}
mxCollapseChange.prototype.execute=function(){null!=this.cell&&(this.collapsed=this.previous,this.previous=this.model.collapsedStateForCellChanged(this.cell,this.previous))};function mxVisibleChange($a$$,$b$$,$c$$){this.model=$a$$;this.cell=$b$$;this.previous=this.visible=$c$$}mxVisibleChange.prototype.execute=function(){null!=this.cell&&(this.visible=this.previous,this.previous=this.model.visibleStateForCellChanged(this.cell,this.previous))};
function mxCellAttributeChange($a$$,$b$$,$c$$){this.cell=$a$$;this.attribute=$b$$;this.previous=this.value=$c$$}mxCellAttributeChange.prototype.execute=function(){if(null!=this.cell){var $a$$=this.cell.getAttribute(this.attribute);null==this.previous?this.cell.value.removeAttribute(this.attribute):this.cell.setAttribute(this.attribute,this.previous);this.previous=$a$$}};function mxCell($a$$,$b$$,$c$$){this.value=$a$$;this.setGeometry($b$$);this.setStyle($c$$);if(null!=this.onInit)this.onInit()}
mxCell.prototype.id=null;mxCell.prototype.value=null;mxCell.prototype.geometry=null;mxCell.prototype.style=null;mxCell.prototype.vertex=!1;mxCell.prototype.edge=!1;mxCell.prototype.connectable=!0;mxCell.prototype.visible=!0;mxCell.prototype.collapsed=!1;mxCell.prototype.parent=null;mxCell.prototype.source=null;mxCell.prototype.target=null;mxCell.prototype.children=null;mxCell.prototype.edges=null;mxCell.prototype.mxTransient="id value parent source target children edges".split(" ");
mxCell.prototype.getId=function(){return this.id};mxCell.prototype.setId=function($a$$){this.id=$a$$};mxCell.prototype.getValue=function(){return this.value};mxCell.prototype.setValue=function($a$$){this.value=$a$$};mxCell.prototype.valueChanged=function($a$$){var $b$$=this.getValue();this.setValue($a$$);return $b$$};mxCell.prototype.getGeometry=function(){return this.geometry};mxCell.prototype.setGeometry=function($a$$){this.geometry=$a$$};mxCell.prototype.getStyle=function(){return this.style};
mxCell.prototype.setStyle=function($a$$){this.style=$a$$};mxCell.prototype.isVertex=function(){return 0!=this.vertex};mxCell.prototype.setVertex=function($a$$){this.vertex=$a$$};mxCell.prototype.isEdge=function(){return 0!=this.edge};mxCell.prototype.setEdge=function($a$$){this.edge=$a$$};mxCell.prototype.isConnectable=function(){return 0!=this.connectable};mxCell.prototype.setConnectable=function($a$$){this.connectable=$a$$};mxCell.prototype.isVisible=function(){return 0!=this.visible};
mxCell.prototype.setVisible=function($a$$){this.visible=$a$$};mxCell.prototype.isCollapsed=function(){return 0!=this.collapsed};mxCell.prototype.setCollapsed=function($a$$){this.collapsed=$a$$};mxCell.prototype.getParent=function(){return this.parent};mxCell.prototype.setParent=function($a$$){this.parent=$a$$};mxCell.prototype.getTerminal=function($a$$){return $a$$?this.source:this.target};mxCell.prototype.setTerminal=function($a$$,$b$$){$b$$?this.source=$a$$:this.target=$a$$;return $a$$};
mxCell.prototype.getChildCount=function(){return null==this.children?0:this.children.length};mxCell.prototype.getIndex=function($a$$){return mxUtils.indexOf(this.children,$a$$)};mxCell.prototype.getChildAt=function($a$$){return null==this.children?null:this.children[$a$$]};
mxCell.prototype.insert=function($a$$,$b$$){null!=$a$$&&(null==$b$$&&($b$$=this.getChildCount(),$a$$.getParent()==this&&$b$$--),$a$$.removeFromParent(),$a$$.setParent(this),null==this.children?(this.children=[],this.children.push($a$$)):this.children.splice($b$$,0,$a$$));return $a$$};mxCell.prototype.remove=function($a$$){var $b$$=null;null!=this.children&&0<=$a$$&&($b$$=this.getChildAt($a$$),null!=$b$$&&(this.children.splice($a$$,1),$b$$.setParent(null)));return $b$$};
mxCell.prototype.removeFromParent=function(){if(null!=this.parent){var $a$$=this.parent.getIndex(this);this.parent.remove($a$$)}};mxCell.prototype.getEdgeCount=function(){return null==this.edges?0:this.edges.length};mxCell.prototype.getEdgeIndex=function($a$$){return mxUtils.indexOf(this.edges,$a$$)};mxCell.prototype.getEdgeAt=function($a$$){return null==this.edges?null:this.edges[$a$$]};
mxCell.prototype.insertEdge=function($a$$,$b$$){null!=$a$$&&($a$$.removeFromTerminal($b$$),$a$$.setTerminal(this,$b$$),null==this.edges||$a$$.getTerminal(!$b$$)!=this||0>mxUtils.indexOf(this.edges,$a$$))&&(null==this.edges&&(this.edges=[]),this.edges.push($a$$));return $a$$};mxCell.prototype.removeEdge=function($a$$,$b$$){if(null!=$a$$){if($a$$.getTerminal(!$b$$)!=this&&null!=this.edges){var $c$$=this.getEdgeIndex($a$$);0<=$c$$&&this.edges.splice($c$$,1)}$a$$.setTerminal(null,$b$$)}return $a$$};
mxCell.prototype.removeFromTerminal=function($a$$){var $b$$=this.getTerminal($a$$);null!=$b$$&&$b$$.removeEdge(this,$a$$)};mxCell.prototype.hasAttribute=function($a$$){var $b$$=this.getValue();return null!=$b$$&&$b$$.nodeType==mxConstants.NODETYPE_ELEMENT&&$b$$.hasAttribute?$b$$.hasAttribute($a$$):null!=$b$$.getAttribute($a$$)};
mxCell.prototype.getAttribute=function($a$$,$b$$){var $c$$=this.getValue();$a$$=null!=$c$$&&$c$$.nodeType==mxConstants.NODETYPE_ELEMENT?$c$$.getAttribute($a$$):null;return null!=$a$$?$a$$:$b$$};mxCell.prototype.setAttribute=function($a$$,$b$$){var $c$$=this.getValue();null!=$c$$&&$c$$.nodeType==mxConstants.NODETYPE_ELEMENT&&$c$$.setAttribute($a$$,$b$$)};mxCell.prototype.clone=function(){var $a$$=mxUtils.clone(this,this.mxTransient);$a$$.setValue(this.cloneValue());return $a$$};
mxCell.prototype.cloneValue=function($a$$){$a$$=null!=$a$$?$a$$:this.getValue();null!=$a$$&&("function"==typeof $a$$.clone?$a$$=$a$$.clone():isNaN($a$$.nodeType)||($a$$=$a$$.cloneNode(!0)));return $a$$};function mxGeometry($a$$,$b$$,$c$$,$d$$){mxRectangle.call(this,$a$$,$b$$,$c$$,$d$$)}mxGeometry.prototype=new mxRectangle;mxGeometry.prototype.constructor=mxGeometry;mxGeometry.prototype.TRANSLATE_CONTROL_POINTS=!0;mxGeometry.prototype.alternateBounds=null;mxGeometry.prototype.sourcePoint=null;
mxGeometry.prototype.targetPoint=null;mxGeometry.prototype.points=null;mxGeometry.prototype.offset=null;mxGeometry.prototype.relative=!1;mxGeometry.prototype.swap=function(){if(null!=this.alternateBounds){var $a$$=new mxRectangle(this.x,this.y,this.width,this.height);this.x=this.alternateBounds.x;this.y=this.alternateBounds.y;this.width=this.alternateBounds.width;this.height=this.alternateBounds.height;this.alternateBounds=$a$$}};
mxGeometry.prototype.getTerminalPoint=function($a$$){return $a$$?this.sourcePoint:this.targetPoint};mxGeometry.prototype.setTerminalPoint=function($a$$,$b$$){$b$$?this.sourcePoint=$a$$:this.targetPoint=$a$$;return $a$$};
mxGeometry.prototype.rotate=function($a$$,$b$$){var $c$$=mxUtils.toRadians($a$$);$a$$=Math.cos($c$$);$c$$=Math.sin($c$$);if(!this.relative){var $d$$=new mxPoint(this.getCenterX(),this.getCenterY());$d$$=mxUtils.getRotatedPoint($d$$,$a$$,$c$$,$b$$);this.x=Math.round($d$$.x-this.width/2);this.y=Math.round($d$$.y-this.height/2)}null!=this.sourcePoint&&($d$$=mxUtils.getRotatedPoint(this.sourcePoint,$a$$,$c$$,$b$$),this.sourcePoint.x=Math.round($d$$.x),this.sourcePoint.y=Math.round($d$$.y));null!=this.targetPoint&&
($d$$=mxUtils.getRotatedPoint(this.targetPoint,$a$$,$c$$,$b$$),this.targetPoint.x=Math.round($d$$.x),this.targetPoint.y=Math.round($d$$.y));if(null!=this.points)for(var $e$$=0;$e$$<this.points.length;$e$$++)null!=this.points[$e$$]&&($d$$=mxUtils.getRotatedPoint(this.points[$e$$],$a$$,$c$$,$b$$),this.points[$e$$].x=Math.round($d$$.x),this.points[$e$$].y=Math.round($d$$.y))};
mxGeometry.prototype.translate=function($a$$,$b$$,$c$$){$a$$=parseFloat($a$$);$b$$=parseFloat($b$$);this.relative||$c$$||(this.x=parseFloat(this.x)+$a$$,this.y=parseFloat(this.y)+$b$$);null!=this.sourcePoint&&(this.sourcePoint.x=parseFloat(this.sourcePoint.x)+$a$$,this.sourcePoint.y=parseFloat(this.sourcePoint.y)+$b$$);null!=this.targetPoint&&(this.targetPoint.x=parseFloat(this.targetPoint.x)+$a$$,this.targetPoint.y=parseFloat(this.targetPoint.y)+$b$$);if(this.TRANSLATE_CONTROL_POINTS&&null!=this.points)for($c$$=
0;$c$$<this.points.length;$c$$++)null!=this.points[$c$$]&&(this.points[$c$$].x=parseFloat(this.points[$c$$].x)+$a$$,this.points[$c$$].y=parseFloat(this.points[$c$$].y)+$b$$)};
mxGeometry.prototype.scale=function($a$$,$b$$,$c$$){$a$$=parseFloat($a$$);$b$$=parseFloat($b$$);null!=this.sourcePoint&&(this.sourcePoint.x=parseFloat(this.sourcePoint.x)*$a$$,this.sourcePoint.y=parseFloat(this.sourcePoint.y)*$b$$);null!=this.targetPoint&&(this.targetPoint.x=parseFloat(this.targetPoint.x)*$a$$,this.targetPoint.y=parseFloat(this.targetPoint.y)*$b$$);if(null!=this.points)for(var $d$$=0;$d$$<this.points.length;$d$$++)null!=this.points[$d$$]&&(this.points[$d$$].x=parseFloat(this.points[$d$$].x)*
$a$$,this.points[$d$$].y=parseFloat(this.points[$d$$].y)*$b$$);this.relative||(this.x=parseFloat(this.x)*$a$$,this.y=parseFloat(this.y)*$b$$,$c$$&&($b$$=$a$$=Math.min($a$$,$b$$)),this.width=parseFloat(this.width)*$a$$,this.height=parseFloat(this.height)*$b$$)};
mxGeometry.prototype.equals=function($a$$){return mxRectangle.prototype.equals.apply(this,arguments)&&this.relative==$a$$.relative&&(null==this.sourcePoint&&null==$a$$.sourcePoint||null!=this.sourcePoint&&this.sourcePoint.equals($a$$.sourcePoint))&&(null==this.targetPoint&&null==$a$$.targetPoint||null!=this.targetPoint&&this.targetPoint.equals($a$$.targetPoint))&&(null==this.points&&null==$a$$.points||null!=this.points&&mxUtils.equalPoints(this.points,$a$$.points))&&(null==this.alternateBounds&&null==
$a$$.alternateBounds||null!=this.alternateBounds&&this.alternateBounds.equals($a$$.alternateBounds))&&(null==this.offset&&null==$a$$.offset||null!=this.offset&&this.offset.equals($a$$.offset))};
var mxCellPath={PATH_SEPARATOR:".",create:function($a$$){var $b$$="";if(null!=$a$$)for(var $c$$=$a$$.getParent();null!=$c$$;)$b$$=$c$$.getIndex($a$$)+mxCellPath.PATH_SEPARATOR+$b$$,$a$$=$c$$,$c$$=$a$$.getParent();$a$$=$b$$.length;1<$a$$&&($b$$=$b$$.substring(0,$a$$-1));return $b$$},getParentPath:function($a$$){if(null!=$a$$){var $b$$=$a$$.lastIndexOf(mxCellPath.PATH_SEPARATOR);if(0<=$b$$)return $a$$.substring(0,$b$$);if(0<$a$$.length)return""}return null},resolve:function($a$$,$b$$){if(null!=$b$$){$b$$=
$b$$.split(mxCellPath.PATH_SEPARATOR);for(var $c$$=0;$c$$<$b$$.length;$c$$++)$a$$=$a$$.getChildAt(parseInt($b$$[$c$$]))}return $a$$},compare:function($a$$,$b$$){for(var $c$$=Math.min($a$$.length,$b$$.length),$d$$=0,$e$$=0;$e$$<$c$$;$e$$++)if($a$$[$e$$]!=$b$$[$e$$]){0==$a$$[$e$$].length||0==$b$$[$e$$].length?$d$$=$a$$[$e$$]==$b$$[$e$$]?0:$a$$[$e$$]>$b$$[$e$$]?1:-1:($c$$=parseInt($a$$[$e$$]),$e$$=parseInt($b$$[$e$$]),$d$$=$c$$==$e$$?0:$c$$>$e$$?1:-1);break}0==$d$$&&($c$$=$a$$.length,$e$$=$b$$.length,
$c$$!=$e$$&&($d$$=$c$$>$e$$?1:-1));return $d$$}},mxPerimeter={RectanglePerimeter:function($a$$,$b$$,$c$$,$d$$){$b$$=$a$$.getCenterX();var $e$$=$a$$.getCenterY(),$f$$=Math.atan2($c$$.y-$e$$,$c$$.x-$b$$),$g$$=new mxPoint(0,0),$k$$=Math.PI,$l$$=Math.PI/2-$f$$,$m$$=Math.atan2($a$$.height,$a$$.width);$f$$<-$k$$+$m$$||$f$$>$k$$-$m$$?($g$$.x=$a$$.x,$g$$.y=$e$$-$a$$.width*Math.tan($f$$)/2):$f$$<-$m$$?($g$$.y=$a$$.y,$g$$.x=$b$$-$a$$.height*Math.tan($l$$)/2):$f$$<$m$$?($g$$.x=$a$$.x+$a$$.width,$g$$.y=$e$$+
$a$$.width*Math.tan($f$$)/2):($g$$.y=$a$$.y+$a$$.height,$g$$.x=$b$$+$a$$.height*Math.tan($l$$)/2);$d$$&&($c$$.x>=$a$$.x&&$c$$.x<=$a$$.x+$a$$.width?$g$$.x=$c$$.x:$c$$.y>=$a$$.y&&$c$$.y<=$a$$.y+$a$$.height&&($g$$.y=$c$$.y),$c$$.x<$a$$.x?$g$$.x=$a$$.x:$c$$.x>$a$$.x+$a$$.width&&($g$$.x=$a$$.x+$a$$.width),$c$$.y<$a$$.y?$g$$.y=$a$$.y:$c$$.y>$a$$.y+$a$$.height&&($g$$.y=$a$$.y+$a$$.height));return $g$$},EllipsePerimeter:function($a$$,$b$$,$c$$,$d$$){var $e$$=$a$$.x,$f$$=$a$$.y,$g$$=$a$$.width/2,$k$$=$a$$.height/
2,$l$$=$e$$+$g$$,$m$$=$f$$+$k$$;$b$$=$c$$.x;$c$$=$c$$.y;var $n$$=parseInt($b$$-$l$$),$p$$=parseInt($c$$-$m$$);if(0==$n$$&&0!=$p$$)return new mxPoint($l$$,$m$$+$k$$*$p$$/Math.abs($p$$));if(0==$n$$&&0==$p$$)return new mxPoint($b$$,$c$$);if($d$$){if($c$$>=$f$$&&$c$$<=$f$$+$a$$.height)return $a$$=$c$$-$m$$,$a$$=Math.sqrt($g$$*$g$$*(1-$a$$*$a$$/($k$$*$k$$)))||0,$b$$<=$e$$&&($a$$=-$a$$),new mxPoint($l$$+$a$$,$c$$);if($b$$>=$e$$&&$b$$<=$e$$+$a$$.width)return $a$$=$b$$-$l$$,$a$$=Math.sqrt($k$$*$k$$*(1-$a$$*
$a$$/($g$$*$g$$)))||0,$c$$<=$f$$&&($a$$=-$a$$),new mxPoint($b$$,$m$$+$a$$)}$e$$=$p$$/$n$$;$m$$-=$e$$*$l$$;$f$$=$g$$*$g$$*$e$$*$e$$+$k$$*$k$$;$a$$=-2*$l$$*$f$$;$k$$=Math.sqrt($a$$*$a$$-4*$f$$*($g$$*$g$$*$e$$*$e$$*$l$$*$l$$+$k$$*$k$$*$l$$*$l$$-$g$$*$g$$*$k$$*$k$$));$g$$=(-$a$$+$k$$)/(2*$f$$);$l$$=(-$a$$-$k$$)/(2*$f$$);$k$$=$e$$*$g$$+$m$$;$m$$=$e$$*$l$$+$m$$;Math.sqrt(Math.pow($g$$-$b$$,2)+Math.pow($k$$-$c$$,2))<Math.sqrt(Math.pow($l$$-$b$$,2)+Math.pow($m$$-$c$$,2))?($b$$=$g$$,$c$$=$k$$):($b$$=$l$$,
$c$$=$m$$);return new mxPoint($b$$,$c$$)},RhombusPerimeter:function($a$$,$b$$,$c$$,$d$$){$b$$=$a$$.x;var $e$$=$a$$.y,$f$$=$a$$.width;$a$$=$a$$.height;var $g$$=$b$$+$f$$/2,$k$$=$e$$+$a$$/2,$l$$=$c$$.x;$c$$=$c$$.y;if($g$$==$l$$)return $k$$>$c$$?new mxPoint($g$$,$e$$):new mxPoint($g$$,$e$$+$a$$);if($k$$==$c$$)return $g$$>$l$$?new mxPoint($b$$,$k$$):new mxPoint($b$$+$f$$,$k$$);var $m$$=$g$$,$n$$=$k$$;$d$$&&($l$$>=$b$$&&$l$$<=$b$$+$f$$?$m$$=$l$$:$c$$>=$e$$&&$c$$<=$e$$+$a$$&&($n$$=$c$$));return $l$$<$g$$?
$c$$<$k$$?mxUtils.intersection($l$$,$c$$,$m$$,$n$$,$g$$,$e$$,$b$$,$k$$):mxUtils.intersection($l$$,$c$$,$m$$,$n$$,$g$$,$e$$+$a$$,$b$$,$k$$):$c$$<$k$$?mxUtils.intersection($l$$,$c$$,$m$$,$n$$,$g$$,$e$$,$b$$+$f$$,$k$$):mxUtils.intersection($l$$,$c$$,$m$$,$n$$,$g$$,$e$$+$a$$,$b$$+$f$$,$k$$)},TrianglePerimeter:function($a$$,$b$$,$c$$,$d$$){$b$$=null!=$b$$?$b$$.style[mxConstants.STYLE_DIRECTION]:null;var $e$$=$b$$==mxConstants.DIRECTION_NORTH||$b$$==mxConstants.DIRECTION_SOUTH,$f$$=$a$$.x,$g$$=$a$$.y,$k$$=
$a$$.width,$l$$=$a$$.height;$a$$=$f$$+$k$$/2;var $m$$=$g$$+$l$$/2,$n$$=new mxPoint($f$$,$g$$),$p$$=new mxPoint($f$$+$k$$,$m$$),$q$$=new mxPoint($f$$,$g$$+$l$$);$b$$==mxConstants.DIRECTION_NORTH?($n$$=$q$$,$p$$=new mxPoint($a$$,$g$$),$q$$=new mxPoint($f$$+$k$$,$g$$+$l$$)):$b$$==mxConstants.DIRECTION_SOUTH?($p$$=new mxPoint($a$$,$g$$+$l$$),$q$$=new mxPoint($f$$+$k$$,$g$$)):$b$$==mxConstants.DIRECTION_WEST&&($n$$=new mxPoint($f$$+$k$$,$g$$),$p$$=new mxPoint($f$$,$m$$),$q$$=new mxPoint($f$$+$k$$,$g$$+
$l$$));var $r$$=$c$$.x-$a$$,$t$$=$c$$.y-$m$$;$r$$=$e$$?Math.atan2($r$$,$t$$):Math.atan2($t$$,$r$$);$t$$=$e$$?Math.atan2($k$$,$l$$):Math.atan2($l$$,$k$$);($b$$==mxConstants.DIRECTION_NORTH||$b$$==mxConstants.DIRECTION_WEST?$r$$>-$t$$&&$r$$<$t$$:$r$$<-Math.PI+$t$$||$r$$>Math.PI-$t$$)?$c$$=$d$$&&($e$$&&$c$$.x>=$n$$.x&&$c$$.x<=$q$$.x||!$e$$&&$c$$.y>=$n$$.y&&$c$$.y<=$q$$.y)?$e$$?new mxPoint($c$$.x,$n$$.y):new mxPoint($n$$.x,$c$$.y):$b$$==mxConstants.DIRECTION_NORTH?new mxPoint($f$$+$k$$/2+$l$$*Math.tan($r$$)/
2,$g$$+$l$$):$b$$==mxConstants.DIRECTION_SOUTH?new mxPoint($f$$+$k$$/2-$l$$*Math.tan($r$$)/2,$g$$):$b$$==mxConstants.DIRECTION_WEST?new mxPoint($f$$+$k$$,$g$$+$l$$/2+$k$$*Math.tan($r$$)/2):new mxPoint($f$$,$g$$+$l$$/2-$k$$*Math.tan($r$$)/2):($d$$&&($d$$=new mxPoint($a$$,$m$$),$c$$.y>=$g$$&&$c$$.y<=$g$$+$l$$?($d$$.x=$e$$?$a$$:$b$$==mxConstants.DIRECTION_WEST?$f$$+$k$$:$f$$,$d$$.y=$c$$.y):$c$$.x>=$f$$&&$c$$.x<=$f$$+$k$$&&($d$$.x=$c$$.x,$d$$.y=$e$$?$b$$==mxConstants.DIRECTION_NORTH?$g$$+$l$$:$g$$:$m$$),
$a$$=$d$$.x,$m$$=$d$$.y),$c$$=$e$$&&$c$$.x<=$f$$+$k$$/2||!$e$$&&$c$$.y<=$g$$+$l$$/2?mxUtils.intersection($c$$.x,$c$$.y,$a$$,$m$$,$n$$.x,$n$$.y,$p$$.x,$p$$.y):mxUtils.intersection($c$$.x,$c$$.y,$a$$,$m$$,$p$$.x,$p$$.y,$q$$.x,$q$$.y));null==$c$$&&($c$$=new mxPoint($a$$,$m$$));return $c$$},HexagonPerimeter:function($a$$,$b$$,$c$$,$d$$){var $e$$=$a$$.x,$f$$=$a$$.y,$g$$=$a$$.width,$k$$=$a$$.height,$l$$=$a$$.getCenterX();$a$$=$a$$.getCenterY();var $m$$=$c$$.x,$n$$=$c$$.y,$p$$=-Math.atan2($n$$-$a$$,$m$$-
$l$$),$q$$=Math.PI,$r$$=Math.PI/2;new mxPoint($l$$,$a$$);$b$$=null!=$b$$?mxUtils.getValue($b$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;var $t$$=$b$$==mxConstants.DIRECTION_NORTH||$b$$==mxConstants.DIRECTION_SOUTH;$b$$=new mxPoint;var $u$$=new mxPoint;if($m$$<$e$$&&$n$$<$f$$||$m$$<$e$$&&$n$$>$f$$+$k$$||$m$$>$e$$+$g$$&&$n$$<$f$$||$m$$>$e$$+$g$$&&$n$$>$f$$+$k$$)$d$$=!1;if($d$$){if($t$$){if($m$$==$l$$){if($n$$<=$f$$)return new mxPoint($l$$,$f$$);if($n$$>=
$f$$+$k$$)return new mxPoint($l$$,$f$$+$k$$)}else if($m$$<$e$$){if($n$$==$f$$+$k$$/4)return new mxPoint($e$$,$f$$+$k$$/4);if($n$$==$f$$+3*$k$$/4)return new mxPoint($e$$,$f$$+3*$k$$/4)}else if($m$$>$e$$+$g$$){if($n$$==$f$$+$k$$/4)return new mxPoint($e$$+$g$$,$f$$+$k$$/4);if($n$$==$f$$+3*$k$$/4)return new mxPoint($e$$+$g$$,$f$$+3*$k$$/4)}else if($m$$==$e$$){if($n$$<$a$$)return new mxPoint($e$$,$f$$+$k$$/4);if($n$$>$a$$)return new mxPoint($e$$,$f$$+3*$k$$/4)}else if($m$$==$e$$+$g$$){if($n$$<$a$$)return new mxPoint($e$$+
$g$$,$f$$+$k$$/4);if($n$$>$a$$)return new mxPoint($e$$+$g$$,$f$$+3*$k$$/4)}if($n$$==$f$$)return new mxPoint($l$$,$f$$);if($n$$==$f$$+$k$$)return new mxPoint($l$$,$f$$+$k$$);$m$$<$l$$?$n$$>$f$$+$k$$/4&&$n$$<$f$$+3*$k$$/4?($b$$=new mxPoint($e$$,$f$$),$u$$=new mxPoint($e$$,$f$$+$k$$)):$n$$<$f$$+$k$$/4?($b$$=new mxPoint($e$$-Math.floor(.5*$g$$),$f$$+Math.floor(.5*$k$$)),$u$$=new mxPoint($e$$+$g$$,$f$$-Math.floor(.25*$k$$))):$n$$>$f$$+3*$k$$/4&&($b$$=new mxPoint($e$$-Math.floor(.5*$g$$),$f$$+Math.floor(.5*
$k$$)),$u$$=new mxPoint($e$$+$g$$,$f$$+Math.floor(1.25*$k$$))):$m$$>$l$$&&($n$$>$f$$+$k$$/4&&$n$$<$f$$+3*$k$$/4?($b$$=new mxPoint($e$$+$g$$,$f$$),$u$$=new mxPoint($e$$+$g$$,$f$$+$k$$)):$n$$<$f$$+$k$$/4?($b$$=new mxPoint($e$$,$f$$-Math.floor(.25*$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.5*$g$$),$f$$+Math.floor(.5*$k$$))):$n$$>$f$$+3*$k$$/4&&($b$$=new mxPoint($e$$+Math.floor(1.5*$g$$),$f$$+Math.floor(.5*$k$$)),$u$$=new mxPoint($e$$,$f$$+Math.floor(1.25*$k$$))))}else{if($n$$==$a$$){if($m$$<=$e$$)return new mxPoint($e$$,
$f$$+$k$$/2);if($m$$>=$e$$+$g$$)return new mxPoint($e$$+$g$$,$f$$+$k$$/2)}else if($n$$<$f$$){if($m$$==$e$$+$g$$/4)return new mxPoint($e$$+$g$$/4,$f$$);if($m$$==$e$$+3*$g$$/4)return new mxPoint($e$$+3*$g$$/4,$f$$)}else if($n$$>$f$$+$k$$){if($m$$==$e$$+$g$$/4)return new mxPoint($e$$+$g$$/4,$f$$+$k$$);if($m$$==$e$$+3*$g$$/4)return new mxPoint($e$$+3*$g$$/4,$f$$+$k$$)}else if($n$$==$f$$){if($m$$<$l$$)return new mxPoint($e$$+$g$$/4,$f$$);if($m$$>$l$$)return new mxPoint($e$$+3*$g$$/4,$f$$)}else if($n$$==
$f$$+$k$$){if($m$$<$l$$)return new mxPoint($e$$+$g$$/4,$f$$+$k$$);if($n$$>$a$$)return new mxPoint($e$$+3*$g$$/4,$f$$+$k$$)}if($m$$==$e$$)return new mxPoint($e$$,$a$$);if($m$$==$e$$+$g$$)return new mxPoint($e$$+$g$$,$a$$);$n$$<$a$$?$m$$>$e$$+$g$$/4&&$m$$<$e$$+3*$g$$/4?($b$$=new mxPoint($e$$,$f$$),$u$$=new mxPoint($e$$+$g$$,$f$$)):$m$$<$e$$+$g$$/4?($b$$=new mxPoint($e$$-Math.floor(.25*$g$$),$f$$+$k$$),$u$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$-Math.floor(.5*$k$$))):$m$$>$e$$+3*$g$$/4&&($b$$=new mxPoint($e$$+
Math.floor(.5*$g$$),$f$$-Math.floor(.5*$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.25*$g$$),$f$$+$k$$)):$n$$>$a$$&&($m$$>$e$$+$g$$/4&&$m$$<$e$$+3*$g$$/4?($b$$=new mxPoint($e$$,$f$$+$k$$),$u$$=new mxPoint($e$$+$g$$,$f$$+$k$$)):$m$$<$e$$+$g$$/4?($b$$=new mxPoint($e$$-Math.floor(.25*$g$$),$f$$),$u$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$+Math.floor(1.5*$k$$))):$m$$>$e$$+3*$g$$/4&&($b$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$+Math.floor(1.5*$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.25*$g$$),$f$$)))}$d$$=
$l$$;$p$$=$a$$;$m$$>=$e$$&&$m$$<=$e$$+$g$$?($d$$=$m$$,$p$$=$n$$<$a$$?$f$$+$k$$:$f$$):$n$$>=$f$$&&$n$$<=$f$$+$k$$&&($p$$=$n$$,$d$$=$m$$<$l$$?$e$$+$g$$:$e$$);$c$$=mxUtils.intersection($d$$,$p$$,$c$$.x,$c$$.y,$b$$.x,$b$$.y,$u$$.x,$u$$.y)}else{if($t$$){$m$$=Math.atan2($k$$/4,$g$$/2);if($p$$==$m$$)return new mxPoint($e$$+$g$$,$f$$+Math.floor(.25*$k$$));if($p$$==$r$$)return new mxPoint($e$$+Math.floor(.5*$g$$),$f$$);if($p$$==$q$$-$m$$)return new mxPoint($e$$,$f$$+Math.floor(.25*$k$$));if($p$$==-$m$$)return new mxPoint($e$$+
$g$$,$f$$+Math.floor(.75*$k$$));if($p$$==-$r$$)return new mxPoint($e$$+Math.floor(.5*$g$$),$f$$+$k$$);if($p$$==-$q$$+$m$$)return new mxPoint($e$$,$f$$+Math.floor(.75*$k$$));$p$$<$m$$&&$p$$>-$m$$?($b$$=new mxPoint($e$$+$g$$,$f$$),$u$$=new mxPoint($e$$+$g$$,$f$$+$k$$)):$p$$>$m$$&&$p$$<$r$$?($b$$=new mxPoint($e$$,$f$$-Math.floor(.25*$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.5*$g$$),$f$$+Math.floor(.5*$k$$))):$p$$>$r$$&&$p$$<$q$$-$m$$?($b$$=new mxPoint($e$$-Math.floor(.5*$g$$),$f$$+Math.floor(.5*$k$$)),
$u$$=new mxPoint($e$$+$g$$,$f$$-Math.floor(.25*$k$$))):$p$$>$q$$-$m$$&&$p$$<=$q$$||$p$$<-$q$$+$m$$&&$p$$>=-$q$$?($b$$=new mxPoint($e$$,$f$$),$u$$=new mxPoint($e$$,$f$$+$k$$)):$p$$<-$m$$&&$p$$>-$r$$?($b$$=new mxPoint($e$$+Math.floor(1.5*$g$$),$f$$+Math.floor(.5*$k$$)),$u$$=new mxPoint($e$$,$f$$+Math.floor(1.25*$k$$))):$p$$<-$r$$&&$p$$>-$q$$+$m$$&&($b$$=new mxPoint($e$$-Math.floor(.5*$g$$),$f$$+Math.floor(.5*$k$$)),$u$$=new mxPoint($e$$+$g$$,$f$$+Math.floor(1.25*$k$$)))}else{$m$$=Math.atan2($k$$/2,
$g$$/4);if($p$$==$m$$)return new mxPoint($e$$+Math.floor(.75*$g$$),$f$$);if($p$$==$q$$-$m$$)return new mxPoint($e$$+Math.floor(.25*$g$$),$f$$);if($p$$==$q$$||$p$$==-$q$$)return new mxPoint($e$$,$f$$+Math.floor(.5*$k$$));if(0==$p$$)return new mxPoint($e$$+$g$$,$f$$+Math.floor(.5*$k$$));if($p$$==-$m$$)return new mxPoint($e$$+Math.floor(.75*$g$$),$f$$+$k$$);if($p$$==-$q$$+$m$$)return new mxPoint($e$$+Math.floor(.25*$g$$),$f$$+$k$$);0<$p$$&&$p$$<$m$$?($b$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$-Math.floor(.5*
$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.25*$g$$),$f$$+$k$$)):$p$$>$m$$&&$p$$<$q$$-$m$$?($b$$=new mxPoint($e$$,$f$$),$u$$=new mxPoint($e$$+$g$$,$f$$)):$p$$>$q$$-$m$$&&$p$$<$q$$?($b$$=new mxPoint($e$$-Math.floor(.25*$g$$),$f$$+$k$$),$u$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$-Math.floor(.5*$k$$))):0>$p$$&&$p$$>-$m$$?($b$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$+Math.floor(1.5*$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.25*$g$$),$f$$)):$p$$<-$m$$&&$p$$>-$q$$+$m$$?($b$$=new mxPoint($e$$,$f$$+$k$$),
$u$$=new mxPoint($e$$+$g$$,$f$$+$k$$)):$p$$<-$q$$+$m$$&&$p$$>-$q$$&&($b$$=new mxPoint($e$$-Math.floor(.25*$g$$),$f$$),$u$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$+Math.floor(1.5*$k$$)))}$c$$=mxUtils.intersection($l$$,$a$$,$c$$.x,$c$$.y,$b$$.x,$b$$.y,$u$$.x,$u$$.y)}return null==$c$$?new mxPoint($l$$,$a$$):$c$$}};
function mxPrintPreview($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){this.graph=$a$$;this.scale=null!=$b$$?$b$$:1/$a$$.pageScale;this.border=null!=$d$$?$d$$:0;this.pageFormat=mxRectangle.fromRectangle(null!=$c$$?$c$$:$a$$.pageFormat);this.title=null!=$k$$?$k$$:"Printer-friendly version";this.x0=null!=$e$$?$e$$:0;this.y0=null!=$f$$?$f$$:0;this.borderColor=$g$$;this.pageSelector=null!=$l$$?$l$$:!0}mxPrintPreview.prototype.graph=null;mxPrintPreview.prototype.pageFormat=null;
mxPrintPreview.prototype.addPageCss=!1;mxPrintPreview.prototype.pixelsPerInch=90;mxPrintPreview.prototype.pageMargin=.2;mxPrintPreview.prototype.scale=null;mxPrintPreview.prototype.border=0;mxPrintPreview.prototype.marginTop=0;mxPrintPreview.prototype.marginBottom=0;mxPrintPreview.prototype.x0=0;mxPrintPreview.prototype.y0=0;mxPrintPreview.prototype.autoOrigin=!0;mxPrintPreview.prototype.printOverlays=!1;mxPrintPreview.prototype.printControls=!1;mxPrintPreview.prototype.printBackgroundImage=!1;
mxPrintPreview.prototype.backgroundColor="#ffffff";mxPrintPreview.prototype.borderColor=null;mxPrintPreview.prototype.title=null;mxPrintPreview.prototype.pageSelector=null;mxPrintPreview.prototype.wnd=null;mxPrintPreview.prototype.targetWindow=null;mxPrintPreview.prototype.pageCount=0;mxPrintPreview.prototype.clipping=!0;mxPrintPreview.prototype.getWindow=function(){return this.wnd};
mxPrintPreview.prototype.getDoctype=function(){var $a$$="";8==document.documentMode?$a$$='<meta http-equiv="X-UA-Compatible" content="IE=8">':8<document.documentMode&&($a$$='\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--\x3e');return $a$$};mxPrintPreview.prototype.appendGraph=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){this.graph=$a$$;this.scale=null!=$b$$?$b$$:1/$a$$.pageScale;this.x0=$c$$;this.y0=$d$$;this.open(null,null,$e$$,$f$$,$g$$)};
mxPrintPreview.prototype.open=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.graph.cellRenderer.initializeOverlay,$g$$=null;try{this.printOverlays&&(this.graph.cellRenderer.initializeOverlay=function($E$$,$H$$){$H$$.init($E$$.view.getDrawPane())});this.printControls&&(this.graph.cellRenderer.initControl=function($E$$,$H$$,$I$$,$N$$){$H$$.dialect=$E$$.view.graph.dialect;$H$$.init($E$$.view.getDrawPane())});this.wnd=null!=$b$$?$b$$:this.wnd;var $k$$=!1;null==this.wnd&&($k$$=!0,this.wnd=window.open());
var $l$$=this.wnd.document;if($k$$){var $m$$=this.getDoctype();null!=$m$$&&0<$m$$.length&&$l$$.writeln($m$$);"CSS1Compat"===document.compatMode&&$l$$.writeln("<!DOCTYPE html>");$l$$.writeln("<html>");$l$$.writeln("<head>");this.writeHead($l$$,$a$$);$l$$.writeln("</head>");$l$$.writeln('<body class="mxPage">')}var $n$$=mxRectangle.fromRectangle(this.graph.getGraphBounds()),$p$$=this.graph.getView().getScale(),$q$$=$p$$/this.scale,$r$$=this.graph.getView().getTranslate();this.autoOrigin||(this.x0-=
$r$$.x*this.scale,this.y0-=$r$$.y*this.scale,$n$$.width+=$n$$.x,$n$$.height+=$n$$.y,$n$$.x=0,this.border=$n$$.y=0);var $t$$=this.pageFormat.width-2*this.border,$u$$=this.pageFormat.height-2*this.border;this.pageFormat.height+=this.marginTop+this.marginBottom;$n$$.width/=$q$$;$n$$.height/=$q$$;var $x$$=Math.max(1,Math.ceil(($n$$.width+this.x0)/$t$$)),$y$$=Math.max(1,Math.ceil(($n$$.height+this.y0)/$u$$));this.pageCount=$x$$*$y$$;var $C$$=mxUtils.bind(this,function(){if(this.pageSelector&&(1<$y$$||
1<$x$$)){var $E$$=this.createPageSelector($y$$,$x$$);$l$$.body.appendChild($E$$);if(mxClient.IS_IE&&null==$l$$.documentMode||5==$l$$.documentMode||8==$l$$.documentMode||7==$l$$.documentMode){$E$$.style.position="absolute";var $H$$=function(){$E$$.style.top=($l$$.body.scrollTop||$l$$.documentElement.scrollTop)+10+"px"};mxEvent.addListener(this.wnd,"scroll",function($I$$){$H$$()});mxEvent.addListener(this.wnd,"resize",function($I$$){$H$$()})}}}),$A$$=mxUtils.bind(this,function($E$$,$H$$){null!=this.borderColor&&
($E$$.style.borderColor=this.borderColor,$E$$.style.borderStyle="solid",$E$$.style.borderWidth="1px");$E$$.style.background=this.backgroundColor;if($c$$||$H$$)$E$$.style.pageBreakAfter="always";if($k$$&&(mxClient.IS_IE||11<=document.documentMode||mxClient.IS_EDGE))$l$$.writeln($E$$.outerHTML),$E$$.parentNode.removeChild($E$$);else if(mxClient.IS_IE||11<=document.documentMode||mxClient.IS_EDGE){var $I$$=$l$$.createElement("div");$I$$.innerHTML=$E$$.outerHTML;$I$$=$I$$.getElementsByTagName("div")[0];
$l$$.body.appendChild($I$$);$E$$.parentNode.removeChild($E$$)}else $E$$.parentNode.removeChild($E$$),$l$$.body.appendChild($E$$);($c$$||$H$$)&&this.addPageBreak($l$$)}),$B$$=this.getCoverPages(this.pageFormat.width,this.pageFormat.height);if(null!=$B$$)for(var $z$$=0;$z$$<$B$$.length;$z$$++)$A$$($B$$[$z$$],!0);var $v$$=this.getAppendices(this.pageFormat.width,this.pageFormat.height);for($z$$=0;$z$$<$y$$;$z$$++){var $D$$=$z$$*$u$$/this.scale-this.y0/this.scale+($n$$.y-$r$$.y*$p$$)/$p$$;for($a$$=0;$a$$<
$x$$;$a$$++){if(null==this.wnd)return null;var $F$$=$a$$*$t$$/this.scale-this.x0/this.scale+($n$$.x-$r$$.x*$p$$)/$p$$,$K$$=$z$$*$x$$+$a$$+1,$G$$=new mxRectangle($F$$,$D$$,$t$$,$u$$);$g$$=this.renderPage(this.pageFormat.width,this.pageFormat.height,0,0,mxUtils.bind(this,function($E$$){this.addGraphFragment(-$F$$,-$D$$,this.scale,$K$$,$E$$,$G$$);this.printBackgroundImage&&this.insertBackgroundImage($E$$,-$F$$,-$D$$)}),$K$$);if(null!=$e$$&&0==$z$$){var $J$$=$l$$.createElement("a");$J$$.setAttribute("id",
$e$$);$g$$.insertBefore($J$$,$g$$.firstChild)}$k$$&&!$d$$&&$g$$.setAttribute("id","mxPage-"+$K$$);$A$$($g$$,null!=$v$$||$z$$<$y$$-1||$a$$<$x$$-1)}}if(null!=$v$$)for($z$$=0;$z$$<$v$$.length;$z$$++)$A$$($v$$[$z$$],$z$$<$v$$.length-1);$k$$&&!$d$$&&(this.closeDocument(),$C$$());this.wnd.focus()}catch($E$$){null!=$g$$&&null!=$g$$.parentNode&&$g$$.parentNode.removeChild($g$$)}finally{this.graph.cellRenderer.initializeOverlay=$f$$}return this.wnd};
mxPrintPreview.prototype.addPageBreak=function($a$$){var $b$$=$a$$.createElement("hr");$b$$.className="mxPageBreak";$a$$.body.appendChild($b$$)};mxPrintPreview.prototype.closeDocument=function(){try{if(null!=this.wnd&&null!=this.wnd.document){var $a$$=this.wnd.document;this.writePostfix($a$$);$a$$.writeln("</body>");$a$$.writeln("</html>");$a$$.close();mxEvent.release($a$$.body)}}catch($b$$){}};
mxPrintPreview.prototype.writeHead=function($a$$,$b$$){null!=this.title&&$a$$.writeln("<title>"+mxUtils.htmlEntities(this.title)+"</title>");mxClient.link("stylesheet",mxClient.basePath+"/css/common.css",$a$$);$a$$.writeln('<style type="text/css">');$a$$.writeln("@media print {");$a$$.writeln("  * { -webkit-print-color-adjust: exact; }");$a$$.writeln("  table.mxPageSelector { display: none; }");$a$$.writeln("  hr.mxPageBreak { display: none; }");$a$$.writeln("}");$a$$.writeln("@media screen {");$a$$.writeln("  table.mxPageSelector { position: fixed; right: 10px; top: 10px;font-family: Arial; font-size:10pt; border: solid 1px darkgray;background: white; border-collapse:collapse; }");
$a$$.writeln("  table.mxPageSelector td { border: solid 1px gray; padding:4px; }");$a$$.writeln("  body.mxPage { background: gray; }");$a$$.writeln("}");var $c$$=this.pageFormat;this.addPageCss&&null!=$c$$&&($c$$=($c$$.width/this.pixelsPerInch+this.pageMargin).toFixed(2)+"in "+($c$$.height/this.pixelsPerInch+this.pageMargin).toFixed(2)+"in;",$a$$.writeln("@page {"),$a$$.writeln("  margin: "+mxUtils.htmlEntities(this.pageMargin)+"in;"),$a$$.writeln("  size: "+mxUtils.htmlEntities($c$$)),$a$$.writeln("}"));
null!=$b$$&&$a$$.writeln(mxUtils.htmlEntities($b$$,!1,!1,!1));$a$$.writeln("</style>")};mxPrintPreview.prototype.writePostfix=function($a$$){};
mxPrintPreview.prototype.createPageSelector=function($a$$,$b$$){var $c$$=this.wnd.document,$d$$=$c$$.createElement("table");$d$$.className="mxPageSelector";$d$$.setAttribute("border","0");for(var $e$$=$c$$.createElement("tbody"),$f$$=0;$f$$<$a$$;$f$$++){for(var $g$$=$c$$.createElement("tr"),$k$$=0;$k$$<$b$$;$k$$++){var $l$$=$f$$*$b$$+$k$$+1,$m$$=$c$$.createElement("td"),$n$$=$c$$.createElement("a");$n$$.setAttribute("href","#mxPage-"+$l$$);!mxClient.IS_NS||mxClient.IS_SF||mxClient.IS_GC||$n$$.setAttribute("onclick",
"var page = document.getElementById('mxPage-"+$l$$+"');page.scrollIntoView(true);event.preventDefault();");mxUtils.write($n$$,$l$$,$c$$);$m$$.appendChild($n$$);$g$$.appendChild($m$$)}$e$$.appendChild($g$$)}$d$$.appendChild($e$$);return $d$$};
mxPrintPreview.prototype.renderPage=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$f$$=this.wnd.document;var $g$$=document.createElement("div"),$k$$=null;try{if(0!=$c$$||0!=$d$$){$g$$.style.position="relative";$g$$.style.width=$a$$+"px";$g$$.style.height=$b$$+"px";$g$$.style.pageBreakInside="avoid";var $l$$=document.createElement("div");$l$$.style.position="relative";$l$$.style.top=this.border+"px";$l$$.style.left=this.border+"px";$l$$.style.width=$a$$-2*this.border+"px";$l$$.style.height=$b$$-2*this.border+
"px";$l$$.style.overflow="hidden";var $m$$=document.createElement("div");$m$$.style.position="relative";$m$$.style.marginLeft=$c$$+"px";$m$$.style.marginTop=$d$$+"px";8==$f$$.documentMode&&($l$$.style.position="absolute",$m$$.style.position="absolute");10==$f$$.documentMode&&($m$$.style.width="100%",$m$$.style.height="100%");$l$$.appendChild($m$$);$g$$.appendChild($l$$);document.body.appendChild($g$$);$k$$=$m$$}else $g$$.style.width=$a$$+"px",$g$$.style.height=$b$$+"px",$g$$.style.overflow="hidden",
$g$$.style.pageBreakInside="avoid",8==$f$$.documentMode&&($g$$.style.position="relative"),$l$$=document.createElement("div"),$l$$.style.width=$a$$-2*this.border+"px",$l$$.style.height=$b$$-2*this.border+"px",$l$$.style.overflow="hidden",!mxClient.IS_IE||null!=$f$$.documentMode&&5!=$f$$.documentMode&&8!=$f$$.documentMode&&7!=$f$$.documentMode?($l$$.style.top=this.border+"px",$l$$.style.left=this.border+"px"):($l$$.style.marginTop=this.border+"px",$l$$.style.marginLeft=this.border+"px"),$g$$.appendChild($l$$),
document.body.appendChild($g$$),$k$$=$l$$}catch($n$$){throw $g$$.parentNode.removeChild($g$$),$n$$;}$e$$($k$$);return $g$$};mxPrintPreview.prototype.getRoot=function(){var $a$$=this.graph.view.currentRoot;null==$a$$&&($a$$=this.graph.getModel().getRoot());return $a$$};mxPrintPreview.prototype.useCssTransforms=function(){return!mxClient.NO_FO&&!mxClient.IS_SF};mxPrintPreview.prototype.isCellVisible=function($a$$){return!0};
mxPrintPreview.prototype.addGraphFragment=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=this.graph.getView();$d$$=this.graph.container;this.graph.container=$e$$;var $k$$=$g$$.getCanvas(),$l$$=$g$$.getBackgroundPane(),$m$$=$g$$.getDrawPane(),$n$$=$g$$.getOverlayPane(),$p$$=$c$$;if(this.graph.dialect==mxConstants.DIALECT_SVG){if($g$$.createSvg(),this.useCssTransforms()){var $q$$=$g$$.getDrawPane().parentNode;$q$$.getAttribute("transform");$q$$.setAttribute("transformOrigin","0 0");$q$$.setAttribute("transform",
"scale("+$c$$+","+$c$$+")translate("+$a$$+","+$b$$+")");$c$$=1;$b$$=$a$$=0}}else $g$$.createHtml();$q$$=$g$$.isEventsEnabled();$g$$.setEventsEnabled(!1);var $r$$=this.graph.isEnabled();this.graph.setEnabled(!1);var $t$$=$g$$.getTranslate();$g$$.translate=new mxPoint($a$$,$b$$);$a$$=this.graph.selectionCellsHandler.updateHandler;this.graph.selectionCellsHandler.updateHandler=function(){};var $u$$=this.graph.cellRenderer.redraw,$x$$=$g$$.states;$b$$=$g$$.scale;if(this.clipping){var $y$$=new mxRectangle(($f$$.x+
$t$$.x)*$b$$,($f$$.y+$t$$.y)*$b$$,$f$$.width*$b$$/$p$$,$f$$.height*$b$$/$p$$),$C$$=this;this.graph.cellRenderer.redraw=function($B$$,$z$$,$v$$){if(null!=$B$$){var $D$$=$x$$.get($B$$.cell);if(null!=$D$$&&($D$$=$g$$.getBoundingBox($D$$,!1),null!=$D$$&&0<$D$$.width&&0<$D$$.height&&!mxUtils.intersects($y$$,$D$$))||!$C$$.isCellVisible($B$$.cell))return}$u$$.apply(this,arguments)}}$p$$=null;try{var $A$$=[this.getRoot()];$p$$=new mxTemporaryCellStates($g$$,$c$$,$A$$,null,mxUtils.bind(this,function($B$$){return this.getLinkForCellState($B$$)}))}finally{if(mxClient.IS_IE)$g$$.overlayPane.innerText=
"",$g$$.canvas.style.overflow="hidden",$g$$.canvas.style.position="relative",$g$$.canvas.style.top=this.marginTop+"px",$g$$.canvas.style.width=$f$$.width+"px",$g$$.canvas.style.height=$f$$.height+"px";else for($c$$=$e$$.firstChild;null!=$c$$;)$A$$=$c$$.nextSibling,"svg"==$c$$.nodeName.toLowerCase()?($c$$.style.overflow="hidden",$c$$.style.position="relative",$c$$.style.top=this.marginTop+"px",$c$$.setAttribute("width",$f$$.width),$c$$.setAttribute("height",$f$$.height),$c$$.style.width="",$c$$.style.height=
""):this.isTextLabel($c$$)||$c$$.parentNode.removeChild($c$$),$c$$=$A$$;this.printBackgroundImage&&($e$$=$e$$.getElementsByTagName("svg"),0<$e$$.length&&($e$$[0].style.position="absolute"));$g$$.overlayPane.parentNode.removeChild($g$$.overlayPane);this.graph.setEnabled($r$$);this.graph.container=$d$$;this.graph.cellRenderer.redraw=$u$$;this.graph.selectionCellsHandler.updateHandler=$a$$;$g$$.canvas=$k$$;$g$$.backgroundPane=$l$$;$g$$.drawPane=$m$$;$g$$.overlayPane=$n$$;$g$$.translate=$t$$;$p$$.destroy();
$g$$.setEventsEnabled($q$$)}};mxPrintPreview.prototype.isTextLabel=function($a$$){return"default"==tmp.style.cursor||"div"==$a$$.nodeName.toLowerCase()};mxPrintPreview.prototype.getLinkForCellState=function($a$$){return this.graph.getLinkForCell($a$$.cell)};mxPrintPreview.prototype.getBackgroundImage=function(){return this.graph.backgroundImage};
mxPrintPreview.prototype.insertBackgroundImage=function($a$$,$b$$,$c$$){var $d$$=this.getBackgroundImage();if(null!=$d$$){var $e$$=document.createElement("img");$e$$.style.position="absolute";$e$$.style.marginLeft=Math.round(($b$$+$d$$.x)*this.scale)+"px";$e$$.style.marginTop=Math.round(($c$$+$d$$.y)*this.scale)+"px";$e$$.setAttribute("width",Math.round($d$$.width*this.scale));$e$$.setAttribute("height",Math.round($d$$.height*this.scale));$e$$.src=$d$$.src;$a$$.insertBefore($e$$,$a$$.firstChild)}};
mxPrintPreview.prototype.getCoverPages=function(){return null};mxPrintPreview.prototype.getAppendices=function(){return null};mxPrintPreview.prototype.print=function($a$$){$a$$=this.open($a$$);null!=$a$$&&$a$$.print()};mxPrintPreview.prototype.close=function(){null!=this.wnd&&(this.wnd.close(),this.wnd=null)};function mxStylesheet(){this.styles={};this.putDefaultVertexStyle(this.createDefaultVertexStyle());this.putDefaultEdgeStyle(this.createDefaultEdgeStyle())}
mxStylesheet.prototype.createDefaultVertexStyle=function(){var $a$$={};$a$$[mxConstants.STYLE_SHAPE]=mxConstants.SHAPE_RECTANGLE;$a$$[mxConstants.STYLE_PERIMETER]=mxPerimeter.RectanglePerimeter;$a$$[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_MIDDLE;$a$$[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_CENTER;$a$$[mxConstants.STYLE_FILLCOLOR]="#C3D9FF";$a$$[mxConstants.STYLE_STROKECOLOR]="#6482B9";$a$$[mxConstants.STYLE_FONTCOLOR]="#774400";return $a$$};
mxStylesheet.prototype.createDefaultEdgeStyle=function(){var $a$$={};$a$$[mxConstants.STYLE_SHAPE]=mxConstants.SHAPE_CONNECTOR;$a$$[mxConstants.STYLE_ENDARROW]=mxConstants.ARROW_CLASSIC;$a$$[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_MIDDLE;$a$$[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_CENTER;$a$$[mxConstants.STYLE_STROKECOLOR]="#6482B9";$a$$[mxConstants.STYLE_FONTCOLOR]="#446299";return $a$$};
mxStylesheet.prototype.putDefaultVertexStyle=function($a$$){this.putCellStyle("defaultVertex",$a$$)};mxStylesheet.prototype.putDefaultEdgeStyle=function($a$$){this.putCellStyle("defaultEdge",$a$$)};mxStylesheet.prototype.getDefaultVertexStyle=function(){return this.styles.defaultVertex};mxStylesheet.prototype.getDefaultEdgeStyle=function(){return this.styles.defaultEdge};mxStylesheet.prototype.putCellStyle=function($a$$,$b$$){this.styles[$a$$]=$b$$};
mxStylesheet.prototype.getCellStyle=function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!0;if(null!=$a$$&&0<$a$$.length){var $d$$=$a$$.split(";");$b$$=null!=$b$$&&";"!=$a$$.charAt(0)?mxUtils.clone($b$$):{};for($a$$=0;$a$$<$d$$.length;$a$$++){var $e$$=$d$$[$a$$],$f$$=$e$$.indexOf("=");if(0<=$f$$){var $g$$=$e$$.substring(0,$f$$);$e$$=$e$$.substring($f$$+1);$e$$==mxConstants.NONE&&$c$$?delete $b$$[$g$$]:mxUtils.isNumeric($e$$)?$b$$[$g$$]=parseFloat($e$$):$b$$[$g$$]=$e$$}else if($e$$=this.styles[$e$$],null!=
$e$$)for($g$$ in $e$$)$b$$[$g$$]=$e$$[$g$$]}}return $b$$};function mxCellState($a$$,$b$$,$c$$){this.view=$a$$;this.cell=$b$$;this.style=null!=$c$$?$c$$:{};this.origin=new mxPoint;this.absoluteOffset=new mxPoint}mxCellState.prototype=new mxRectangle;mxCellState.prototype.constructor=mxCellState;mxCellState.prototype.view=null;mxCellState.prototype.cell=null;mxCellState.prototype.style=null;mxCellState.prototype.invalidStyle=!1;mxCellState.prototype.invalid=!0;mxCellState.prototype.origin=null;
mxCellState.prototype.absolutePoints=null;mxCellState.prototype.absoluteOffset=null;mxCellState.prototype.visibleSourceState=null;mxCellState.prototype.visibleTargetState=null;mxCellState.prototype.terminalDistance=0;mxCellState.prototype.length=0;mxCellState.prototype.segments=null;mxCellState.prototype.shape=null;mxCellState.prototype.text=null;mxCellState.prototype.unscaledWidth=null;mxCellState.prototype.unscaledHeight=null;
mxCellState.prototype.getPerimeterBounds=function($a$$,$b$$){$a$$=$a$$||0;$b$$=null!=$b$$?$b$$:new mxRectangle(this.x,this.y,this.width,this.height);if(null!=this.shape&&null!=this.shape.stencil&&"fixed"==this.shape.stencil.aspect){var $c$$=this.shape.stencil.computeAspect(this.style,$b$$.x,$b$$.y,$b$$.width,$b$$.height);$b$$.x=$c$$.x;$b$$.y=$c$$.y;$b$$.width=this.shape.stencil.w0*$c$$.width;$b$$.height=this.shape.stencil.h0*$c$$.height}0!=$a$$&&$b$$.grow($a$$);return $b$$};
mxCellState.prototype.setAbsoluteTerminalPoint=function($a$$,$b$$){$b$$?(null==this.absolutePoints&&(this.absolutePoints=[]),0==this.absolutePoints.length?this.absolutePoints.push($a$$):this.absolutePoints[0]=$a$$):null==this.absolutePoints?(this.absolutePoints=[],this.absolutePoints.push(null),this.absolutePoints.push($a$$)):1==this.absolutePoints.length?this.absolutePoints.push($a$$):this.absolutePoints[this.absolutePoints.length-1]=$a$$};
mxCellState.prototype.setCursor=function($a$$){null!=this.shape&&this.shape.setCursor($a$$);null!=this.text&&this.text.setCursor($a$$)};mxCellState.prototype.isFloatingTerminalPoint=function($a$$){var $b$$=this.getVisibleTerminalState($a$$);if(null==$b$$)return!1;$a$$=this.view.graph.getConnectionConstraint(this,$b$$,$a$$);return null==$a$$||null==$a$$.point};mxCellState.prototype.getVisibleTerminal=function($a$$){$a$$=this.getVisibleTerminalState($a$$);return null!=$a$$?$a$$.cell:null};
mxCellState.prototype.getVisibleTerminalState=function($a$$){return $a$$?this.visibleSourceState:this.visibleTargetState};mxCellState.prototype.setVisibleTerminalState=function($a$$,$b$$){$b$$?this.visibleSourceState=$a$$:this.visibleTargetState=$a$$};mxCellState.prototype.getCellBounds=function(){return this.cellBounds};mxCellState.prototype.getPaintBounds=function(){return this.paintBounds};
mxCellState.prototype.updateCachedBounds=function(){var $a$$=this.view.translate,$b$$=this.view.scale;this.cellBounds=new mxRectangle(this.x/$b$$-$a$$.x,this.y/$b$$-$a$$.y,this.width/$b$$,this.height/$b$$);this.paintBounds=mxRectangle.fromRectangle(this.cellBounds);null!=this.shape&&this.shape.isPaintBoundsInverted()&&this.paintBounds.rotate90()};
mxCellState.prototype.setState=function($a$$){this.view=$a$$.view;this.cell=$a$$.cell;this.style=$a$$.style;this.absolutePoints=$a$$.absolutePoints;this.origin=$a$$.origin;this.absoluteOffset=$a$$.absoluteOffset;this.boundingBox=$a$$.boundingBox;this.terminalDistance=$a$$.terminalDistance;this.segments=$a$$.segments;this.length=$a$$.length;this.x=$a$$.x;this.y=$a$$.y;this.width=$a$$.width;this.height=$a$$.height;this.unscaledWidth=$a$$.unscaledWidth;this.unscaledHeight=$a$$.unscaledHeight};
mxCellState.prototype.clone=function(){var $a$$=new mxCellState(this.view,this.cell,this.style);if(null!=this.absolutePoints){$a$$.absolutePoints=[];for(var $b$$=0;$b$$<this.absolutePoints.length;$b$$++)$a$$.absolutePoints[$b$$]=this.absolutePoints[$b$$].clone()}null!=this.origin&&($a$$.origin=this.origin.clone());null!=this.absoluteOffset&&($a$$.absoluteOffset=this.absoluteOffset.clone());null!=this.boundingBox&&($a$$.boundingBox=this.boundingBox.clone());$a$$.terminalDistance=this.terminalDistance;
$a$$.segments=this.segments;$a$$.length=this.length;$a$$.x=this.x;$a$$.y=this.y;$a$$.width=this.width;$a$$.height=this.height;$a$$.unscaledWidth=this.unscaledWidth;$a$$.unscaledHeight=this.unscaledHeight;return $a$$};mxCellState.prototype.destroy=function(){this.view.graph.cellRenderer.destroy(this)};function mxGraphSelectionModel($a$$){this.graph=$a$$;this.cells=[]}mxGraphSelectionModel.prototype=new mxEventSource;mxGraphSelectionModel.prototype.constructor=mxGraphSelectionModel;
mxGraphSelectionModel.prototype.doneResource="none"!=mxClient.language?"done":"";mxGraphSelectionModel.prototype.updatingSelectionResource="none"!=mxClient.language?"updatingSelection":"";mxGraphSelectionModel.prototype.graph=null;mxGraphSelectionModel.prototype.singleSelection=!1;mxGraphSelectionModel.prototype.isSingleSelection=function(){return this.singleSelection};mxGraphSelectionModel.prototype.setSingleSelection=function($a$$){this.singleSelection=$a$$};
mxGraphSelectionModel.prototype.isSelected=function($a$$){return null!=$a$$?0<=mxUtils.indexOf(this.cells,$a$$):!1};mxGraphSelectionModel.prototype.isEmpty=function(){return 0==this.cells.length};mxGraphSelectionModel.prototype.clear=function(){this.changeSelection(null,this.cells)};mxGraphSelectionModel.prototype.setCell=function($a$$){null!=$a$$&&this.setCells([$a$$])};
mxGraphSelectionModel.prototype.setCells=function($a$$){if(null!=$a$$){this.singleSelection&&($a$$=[this.getFirstSelectableCell($a$$)]);for(var $b$$=[],$c$$=0;$c$$<$a$$.length;$c$$++)this.graph.isCellSelectable($a$$[$c$$])&&$b$$.push($a$$[$c$$]);this.changeSelection($b$$,this.cells)}};mxGraphSelectionModel.prototype.getFirstSelectableCell=function($a$$){if(null!=$a$$)for(var $b$$=0;$b$$<$a$$.length;$b$$++)if(this.graph.isCellSelectable($a$$[$b$$]))return $a$$[$b$$];return null};
mxGraphSelectionModel.prototype.addCell=function($a$$){null!=$a$$&&this.addCells([$a$$])};mxGraphSelectionModel.prototype.addCells=function($a$$){if(null!=$a$$){var $b$$=null;this.singleSelection&&($b$$=this.cells,$a$$=[this.getFirstSelectableCell($a$$)]);for(var $c$$=[],$d$$=0;$d$$<$a$$.length;$d$$++)!this.isSelected($a$$[$d$$])&&this.graph.isCellSelectable($a$$[$d$$])&&$c$$.push($a$$[$d$$]);this.changeSelection($c$$,$b$$)}};mxGraphSelectionModel.prototype.removeCell=function($a$$){null!=$a$$&&this.removeCells([$a$$])};
mxGraphSelectionModel.prototype.removeCells=function($a$$){if(null!=$a$$){for(var $b$$=[],$c$$=0;$c$$<$a$$.length;$c$$++)this.isSelected($a$$[$c$$])&&$b$$.push($a$$[$c$$]);this.changeSelection(null,$b$$)}};
mxGraphSelectionModel.prototype.changeSelection=function($a$$,$b$$){if(null!=$a$$&&0<$a$$.length&&null!=$a$$[0]||null!=$b$$&&0<$b$$.length&&null!=$b$$[0])$a$$=new mxSelectionChange(this,$a$$,$b$$),$a$$.execute(),$b$$=new mxUndoableEdit(this,!1),$b$$.add($a$$),this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",$b$$))};mxGraphSelectionModel.prototype.cellAdded=function($a$$){null==$a$$||this.isSelected($a$$)||this.cells.push($a$$)};
mxGraphSelectionModel.prototype.cellRemoved=function($a$$){null!=$a$$&&($a$$=mxUtils.indexOf(this.cells,$a$$),0<=$a$$&&this.cells.splice($a$$,1))};function mxSelectionChange($a$$,$b$$,$c$$){this.selectionModel=$a$$;this.added=null!=$b$$?$b$$.slice():null;this.removed=null!=$c$$?$c$$.slice():null}
mxSelectionChange.prototype.execute=function(){var $a$$=mxLog.enter("mxSelectionChange.execute");window.status=mxResources.get(this.selectionModel.updatingSelectionResource)||this.selectionModel.updatingSelectionResource;if(null!=this.removed)for(var $b$$=0;$b$$<this.removed.length;$b$$++)this.selectionModel.cellRemoved(this.removed[$b$$]);if(null!=this.added)for($b$$=0;$b$$<this.added.length;$b$$++)this.selectionModel.cellAdded(this.added[$b$$]);$b$$=this.added;this.added=this.removed;this.removed=
$b$$;window.status=mxResources.get(this.selectionModel.doneResource)||this.selectionModel.doneResource;mxLog.leave("mxSelectionChange.execute",$a$$);this.selectionModel.fireEvent(new mxEventObject(mxEvent.CHANGE,"added",this.added,"removed",this.removed))};
function mxCellEditor($a$$){this.graph=$a$$;this.zoomHandler=mxUtils.bind(this,function(){this.graph.isEditing()&&this.resize()});null!=this.graph.container&&mxEvent.addListener(this.graph.container,"scroll",this.zoomHandler);this.graph.view.addListener(mxEvent.SCALE_AND_TRANSLATE,this.zoomHandler);this.graph.view.addListener(mxEvent.SCALE,this.zoomHandler);this.changeHandler=mxUtils.bind(this,function($b$$){null!=this.editingCell&&($b$$=this.graph.getView().getState(this.editingCell),null==$b$$?
this.stopEditing(!0):this.updateTextAreaStyle($b$$))});this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler)}mxCellEditor.prototype.graph=null;mxCellEditor.prototype.textarea=null;mxCellEditor.prototype.editingCell=null;mxCellEditor.prototype.trigger=null;mxCellEditor.prototype.modified=!1;mxCellEditor.prototype.autoSize=!0;mxCellEditor.prototype.selectText=!0;mxCellEditor.prototype.rotateText=!0;mxCellEditor.prototype.emptyLabelText=mxClient.IS_FF?"<br>":"";
mxCellEditor.prototype.escapeCancelsEditing=!0;mxCellEditor.prototype.textNode=null;mxCellEditor.prototype.zIndex=1;mxCellEditor.prototype.minResize=new mxRectangle(0,20);mxCellEditor.prototype.blurEnabled=!1;mxCellEditor.prototype.initialValue=null;mxCellEditor.prototype.align=null;
mxCellEditor.prototype.init=function(){this.textarea=document.createElement("div");this.textarea.className="mxCellEditor mxPlainTextEditor";this.textarea.contentEditable=!0;mxClient.IS_GC&&(this.textarea.style.minHeight="1em");this.installListeners(this.textarea)};mxCellEditor.prototype.applyValue=function($a$$,$b$$){this.graph.labelChanged($a$$.cell,$b$$,this.trigger)};
mxCellEditor.prototype.setAlign=function($a$$){var $b$$=this.graph.getView().getState(this.editingCell);null!=this.textarea&&null!=$b$$&&($b$$=mxUtils.getValue($b$$.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION),null==$b$$||"vertical-"!=$b$$.substring(0,9))&&(this.textarea.style.textAlign=$a$$);this.align=$a$$;this.resize()};
mxCellEditor.prototype.getInitialValue=function($a$$,$b$$){$a$$=mxUtils.htmlEntities(this.graph.getEditingValue($a$$.cell,$b$$),!1);$a$$=mxUtils.replaceTrailingNewlines($a$$,"<div><br></div>");return $a$$.replace(/\n/g,"<br>")};mxCellEditor.prototype.getCurrentValue=function($a$$){return mxUtils.extractTextWithWhitespace(this.textarea.childNodes)};
mxCellEditor.prototype.isCancelEditingKeyEvent=function($a$$){return this.escapeCancelsEditing||mxEvent.isShiftDown($a$$)||mxEvent.isControlDown($a$$)||mxEvent.isMetaDown($a$$)};
mxCellEditor.prototype.installListeners=function($a$$){mxEvent.addListener($a$$,"dragstart",mxUtils.bind(this,function($f$$){this.graph.stopEditing(!1);mxEvent.consume($f$$)}));mxEvent.addListener($a$$,"blur",mxUtils.bind(this,function($f$$){this.blurEnabled&&this.focusLost($f$$)}));var $b$$=this.graph.container.scrollTop,$c$$=this.graph.container.scrollLeft;mxEvent.addListener($a$$,"keydown",mxUtils.bind(this,function($f$$){$b$$=this.graph.container.scrollTop;$c$$=this.graph.container.scrollLeft;
mxEvent.isConsumed($f$$)||(this.isStopEditingEvent($f$$)?(this.graph.stopEditing(!1),mxEvent.consume($f$$)):27==$f$$.keyCode&&(this.graph.stopEditing(this.isCancelEditingKeyEvent($f$$)),mxEvent.consume($f$$)))}));var $d$$=mxUtils.bind(this,function($f$$){null!=this.editingCell&&this.clearOnChange&&$a$$.innerHTML==this.getEmptyLabelText()&&(!mxClient.IS_FF||8!=$f$$.keyCode&&46!=$f$$.keyCode)&&(this.clearOnChange=!1,$a$$.innerText="")});mxEvent.addListener($a$$,"keypress",$d$$);mxEvent.addListener($a$$,
"paste",$d$$);$d$$=mxUtils.bind(this,function($f$$){null!=this.editingCell&&(this.graph.container.scrollTop=$b$$,this.graph.container.scrollLeft=$c$$,$a$$.scrollIntoView({block:"nearest",inline:"nearest"}),0!=this.textarea.innerHTML.length&&"<br>"!=this.textarea.innerHTML||this.textarea.innerHTML==this.getEmptyLabelText()?this.clearOnChange=!1:(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=0<this.textarea.innerHTML.length))});mxEvent.addListener($a$$,mxClient.IS_IE11||mxClient.IS_IE?
"keyup":"input",$d$$);mxEvent.addListener($a$$,"cut",$d$$);mxEvent.addListener($a$$,"paste",$d$$);$d$$=mxClient.IS_IE11||mxClient.IS_IE?"keydown":"input";var $e$$=mxUtils.bind(this,function($f$$){null!=this.editingCell&&this.autoSize&&!mxEvent.isConsumed($f$$)&&(null!=this.resizeThread&&window.clearTimeout(this.resizeThread),this.resizeThread=window.setTimeout(mxUtils.bind(this,function(){this.resizeThread=null;this.resize()}),0))});mxEvent.addListener($a$$,$d$$,$e$$);mxEvent.addListener(window,"resize",
$e$$);mxEvent.addListener($a$$,"cut",$e$$);mxEvent.addListener($a$$,"paste",$e$$)};mxCellEditor.prototype.isStopEditingEvent=function($a$$){return 113==$a$$.keyCode||this.graph.isEnterStopsCellEditing()&&13==$a$$.keyCode&&!mxEvent.isControlDown($a$$)&&!mxEvent.isShiftDown($a$$)};mxCellEditor.prototype.isEventSource=function($a$$){return mxEvent.getSource($a$$)==this.textarea};
mxCellEditor.prototype.resize=function(){var $a$$=this.graph.getView().getState(this.editingCell);if(null==$a$$)this.stopEditing(!0);else if(null!=this.textarea){var $b$$=mxUtils.getAlignmentAsPoint(null!=this.align?this.align:this.textShape.align,this.textShape.valign);this.bounds=this.graph.cellRenderer.getLabelBounds($a$$,this.textShape,$b$$,!this.rotateText);var $c$$=this.rotateText?this.textShape.getTextRotation():0,$d$$=this.graph.getView().scale;this.bounds.x+=-.5==$b$$.x?0:0==$b$$.x?-$d$$:
$d$$;this.bounds.y+=-.5==$b$$.y?0:0==$b$$.y?-$d$$:$d$$;this.textarea.style.left=Math.max(0,Math.round(this.bounds.x))+"px";this.textarea.style.top=Math.max(0,Math.round(this.bounds.y))+"px";if(this.autoSize&&"fill"!=$a$$.style[mxConstants.STYLE_OVERFLOW])if(this.graph.isWrapping($a$$.cell)&&(2<=this.bounds.width||2<=this.bounds.height)){var $e$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION);$e$$=null!=$e$$&&"vertical-"==$e$$.substring(0,9);this.textarea.style.wordWrap=
mxConstants.WORD_WRAP;this.textarea.style.whiteSpace="normal";"block"==$a$$.style[mxConstants.STYLE_OVERFLOW]||"width"==$a$$.style[mxConstants.STYLE_OVERFLOW]?this.bounds.width-=2*$d$$:$a$$.view.graph.isHtmlLabel($a$$.cell)&&(this.bounds.width+=mxSvgCanvas2D.prototype.foreignObjectPadding*$d$$);if(this.textarea.innerHTML!=this.getEmptyLabelText())if("block"==$a$$.style[mxConstants.STYLE_OVERFLOW]||"width"==$a$$.style[mxConstants.STYLE_OVERFLOW]){if(-.5==$b$$.y||"width"==$a$$.style[mxConstants.STYLE_OVERFLOW])this.textarea.style.maxHeight=
Math.round(this.bounds.height/$d$$)+"px";this.textarea.style.width=Math.round(this.bounds.width/$d$$)+"px"}else $e$$?this.textarea.style.maxHeight=Math.round(this.bounds.height/$d$$)+"px":this.textarea.style.maxWidth=Math.round(this.bounds.width/$d$$)+"px";else this.textarea.style.maxWidth=Math.round(this.bounds.width/$d$$)+"px"}else this.textarea.style.whiteSpace="nowrap",this.textarea.style.width="";else this.textarea.style.width=Math.round(this.bounds.width/$d$$)+"px",this.textarea.style.height=
Math.round(this.bounds.height/$d$$)+"px",this.graph.isWrapping($a$$.cell)&&(2<=this.bounds.width||2<=this.bounds.height)&&this.textarea.innerHTML!=this.getEmptyLabelText()?(this.textarea.style.wordWrap=mxConstants.WORD_WRAP,this.textarea.style.whiteSpace="normal","fill"!=$a$$.style[mxConstants.STYLE_OVERFLOW]&&(this.textarea.style.width=Math.round(this.bounds.width/$d$$)+"px")):(this.textarea.style.whiteSpace="nowrap","fill"!=$a$$.style[mxConstants.STYLE_OVERFLOW]&&(this.textarea.style.width=""));
mxUtils.setPrefixedStyle(this.textarea.style,"transformOrigin","0px 0px");mxUtils.setPrefixedStyle(this.textarea.style,"transform",(0!=$c$$?"rotate("+$c$$+"deg) ":"")+"scale("+$d$$+","+$d$$+") translate("+100*$b$$.x+"%,"+100*$b$$.y+"%)")}};mxCellEditor.prototype.focusLost=function(){this.stopEditing(!this.graph.isInvokesStopCellEditing())};mxCellEditor.prototype.getBackgroundColor=function($a$$){return null};mxCellEditor.prototype.getBorderColor=function($a$$){return null};
mxCellEditor.prototype.updateTextAreaStyle=function($a$$){var $b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE),$c$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_FONTFAMILY,mxConstants.DEFAULT_FONTFAMILY),$d$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_FONTCOLOR,"black"),$e$$=(mxUtils.getValue($a$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD,$f$$=(mxUtils.getValue($a$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_ITALIC)==
mxConstants.FONT_ITALIC,$g$$=[];(mxUtils.getValue($a$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&$g$$.push("underline");(mxUtils.getValue($a$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_STRIKETHROUGH)==mxConstants.FONT_STRIKETHROUGH&&$g$$.push("line-through");this.textarea.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?Math.round($b$$*mxConstants.LINE_HEIGHT)+"px":mxConstants.LINE_HEIGHT;this.textarea.style.backgroundColor=this.getBackgroundColor($a$$);
this.textarea.style.textDecoration=$g$$.join(" ");this.textarea.style.fontWeight=$e$$?"bold":"normal";this.textarea.style.fontStyle=$f$$?"italic":"";this.textarea.style.fontSize=Math.round($b$$)+"px";this.textarea.style.zIndex=this.zIndex;this.textarea.style.fontFamily=$c$$;this.textarea.style.writingMode="";this.textarea.style.color=$d$$;$b$$=this.getBorderColor($a$$);this.textarea.style.border=null!=$b$$?"1px solid "+$b$$:"1px solid transparent";$b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_TEXT_DIRECTION,
mxConstants.DEFAULT_TEXT_DIRECTION);$c$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_LEFT);this.textarea.removeAttribute("dir");$b$$==mxConstants.TEXT_DIRECTION_AUTO&&(null==$a$$||null==$a$$.text||$a$$.text.dialect==mxConstants.DIALECT_STRICTHTML||mxUtils.isNode($a$$.text.value)||($b$$=$a$$.text.getAutoDirection()));if($b$$==mxConstants.TEXT_DIRECTION_LTR||$b$$==mxConstants.TEXT_DIRECTION_RTL)this.textarea.setAttribute("dir",$b$$);else if($b$$==mxConstants.TEXT_DIRECTION_VERTICAL_LR||
$b$$==mxConstants.TEXT_DIRECTION_VERTICAL_RL)$a$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE),$c$$=$a$$==mxConstants.ALIGN_TOP?"left":$a$$==mxConstants.ALIGN_BOTTOM?"right":"center",this.textarea.style.writingMode=$b$$;this.textarea.style.textAlign=$c$$};
mxCellEditor.prototype.startEditing=function($a$$,$b$$,$c$$){this.stopEditing(!0);this.align=null;null==this.textarea&&this.init();null!=this.graph.tooltipHandler&&this.graph.tooltipHandler.hideTooltip();var $d$$=this.graph.getView().getState($a$$);null!=$d$$&&(this.updateTextAreaStyle($d$$),this.textarea.innerHTML=this.getInitialValue($d$$,$b$$)||"",this.initialValue=this.textarea.innerHTML,0==this.textarea.innerHTML.length||"<br>"==this.textarea.innerHTML?(this.textarea.innerHTML=this.getEmptyLabelText(),
this.clearOnChange=!0):this.clearOnChange=this.textarea.innerHTML==this.getEmptyLabelText(),this.textShape=$d$$.text,this.editingCell=$a$$,this.trigger=$b$$,null==this.textShape&&(this.textShape=this.graph.cellRenderer.createTextShape($d$$,"",this.graph.dialect)),window.setTimeout(mxUtils.bind(this,function(){if(null!=this.editingCell)if(null!=this.textShape&&null!=this.textShape.node&&this.isHideLabel($d$$)&&(this.textNode=this.textShape.node,this.textNode.style.visibility="hidden"),this.resize(),
this.graph.container.appendChild(this.textarea),this.textarea.scrollIntoView({block:"nearest",inline:"nearest"}),this.textarea.focus(),null!=$c$$){this.textarea.innerHTML=$c$$;var $e$$=document.createRange();$e$$.selectNodeContents(this.textarea);$e$$.collapse(!1);var $f$$=window.getSelection();$f$$.removeAllRanges();$f$$.addRange($e$$)}else this.isSelectText()&&0<this.textarea.innerHTML.length&&(this.textarea.innerHTML!=this.getEmptyLabelText()||!this.clearOnChange)&&document.execCommand("selectAll",
!1,null)}),0))};mxCellEditor.prototype.isSelectText=function(){return this.selectText};mxCellEditor.prototype.clearSelection=function(){var $a$$=null;window.getSelection?$a$$=window.getSelection():document.selection&&($a$$=document.selection);null!=$a$$&&($a$$.empty?$a$$.empty():$a$$.removeAllRanges&&$a$$.removeAllRanges())};
mxCellEditor.prototype.stopEditing=function($a$$){if(null!=this.editingCell){null!=this.textNode&&(this.textNode.style.visibility="visible",this.textNode=null);$a$$=$a$$?null:this.graph.view.getState(this.editingCell);var $b$$=this.initialValue;this.bounds=this.trigger=this.textShape=this.editingCell=this.initialValue=null;this.textarea.blur();this.clearSelection();null!=this.textarea.parentNode&&this.textarea.parentNode.removeChild(this.textarea);this.clearOnChange&&this.textarea.innerHTML==this.getEmptyLabelText()&&
(this.textarea.innerText="",this.clearOnChange=!1);if(null!=$a$$&&(this.textarea.innerHTML!=$b$$||null!=this.align)){this.prepareTextarea();$b$$=this.getCurrentValue($a$$);this.graph.getModel().beginUpdate();try{null!=$b$$&&this.applyValue($a$$,$b$$),null!=this.align&&this.graph.setCellStyles(mxConstants.STYLE_ALIGN,this.align,[$a$$.cell])}finally{this.graph.getModel().endUpdate()}}mxEvent.release(this.textarea);this.align=this.textarea=null}};
mxCellEditor.prototype.prepareTextarea=function(){null!=this.textarea.lastChild&&"BR"==this.textarea.lastChild.nodeName&&this.textarea.removeChild(this.textarea.lastChild)};mxCellEditor.prototype.isHideLabel=function($a$$){return!0};mxCellEditor.prototype.getMinimumSize=function($a$$){var $b$$=this.graph.getView().scale;return new mxRectangle(0,0,null==$a$$.text?30:$a$$.text.size*$b$$+20,"left"==this.textarea.style.textAlign?120:40)};mxCellEditor.prototype.getEmptyLabelText=function($a$$){return this.emptyLabelText};
mxCellEditor.prototype.getEditingCell=function(){return this.editingCell};
mxCellEditor.prototype.destroy=function(){null!=this.textarea&&(mxEvent.release(this.textarea),null!=this.textarea.parentNode&&this.textarea.parentNode.removeChild(this.textarea),this.textarea=null);null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.changeHandler=null);this.zoomHandler&&(null!=this.graph.container&&mxEvent.removeListener(this.graph.container,"scroll",this.zoomHandler),this.graph.view.removeListener(this.zoomHandler),this.zoomHandler=null)};
function mxCellRenderer(){}mxCellRenderer.defaultShapes={};mxCellRenderer.prototype.defaultEdgeShape=mxConnector;mxCellRenderer.prototype.defaultVertexShape=mxRectangleShape;mxCellRenderer.prototype.defaultTextShape=mxText;mxCellRenderer.prototype.legacyControlPosition=!0;mxCellRenderer.prototype.legacySpacing=!0;mxCellRenderer.prototype.antiAlias=!0;mxCellRenderer.prototype.minSvgStrokeWidth=1;mxCellRenderer.prototype.forceControlClickHandler=!1;
mxCellRenderer.registerShape=function($a$$,$b$$){mxCellRenderer.defaultShapes[$a$$]=$b$$};mxCellRenderer.registerShape(mxConstants.SHAPE_RECTANGLE,mxRectangleShape);mxCellRenderer.registerShape(mxConstants.SHAPE_ELLIPSE,mxEllipse);mxCellRenderer.registerShape(mxConstants.SHAPE_RHOMBUS,mxRhombus);mxCellRenderer.registerShape(mxConstants.SHAPE_CYLINDER,mxCylinder);mxCellRenderer.registerShape(mxConstants.SHAPE_CONNECTOR,mxConnector);mxCellRenderer.registerShape(mxConstants.SHAPE_ACTOR,mxActor);
mxCellRenderer.registerShape(mxConstants.SHAPE_TRIANGLE,mxTriangle);mxCellRenderer.registerShape(mxConstants.SHAPE_HEXAGON,mxHexagon);mxCellRenderer.registerShape(mxConstants.SHAPE_CLOUD,mxCloud);mxCellRenderer.registerShape(mxConstants.SHAPE_LINE,mxLine);mxCellRenderer.registerShape(mxConstants.SHAPE_ARROW,mxArrow);mxCellRenderer.registerShape(mxConstants.SHAPE_ARROW_CONNECTOR,mxArrowConnector);mxCellRenderer.registerShape(mxConstants.SHAPE_DOUBLE_ELLIPSE,mxDoubleEllipse);
mxCellRenderer.registerShape(mxConstants.SHAPE_SWIMLANE,mxSwimlane);mxCellRenderer.registerShape(mxConstants.SHAPE_IMAGE,mxImageShape);mxCellRenderer.registerShape(mxConstants.SHAPE_LABEL,mxLabel);mxCellRenderer.prototype.initializeShape=function($a$$){$a$$.shape.dialect=$a$$.view.graph.dialect;this.configureShape($a$$);$a$$.shape.init($a$$.view.getDrawPane())};
mxCellRenderer.prototype.createShape=function($a$$){var $b$$=null;null!=$a$$.style&&($b$$=$a$$.style[mxConstants.STYLE_SHAPE],$b$$=null==mxCellRenderer.defaultShapes[$b$$]?mxStencilRegistry.getStencil($b$$):null,$b$$=null!=$b$$?new mxShape($b$$):new (this.getShapeConstructor($a$$)));return $b$$};mxCellRenderer.prototype.createIndicatorShape=function($a$$){$a$$.shape.indicatorShape=this.getShape($a$$.view.graph.getIndicatorShape($a$$))};
mxCellRenderer.prototype.getShape=function($a$$){return null!=$a$$?mxCellRenderer.defaultShapes[$a$$]:null};mxCellRenderer.prototype.getShapeConstructor=function($a$$){var $b$$=this.getShape($a$$.style[mxConstants.STYLE_SHAPE]);null==$b$$&&($b$$=$a$$.view.graph.getModel().isEdge($a$$.cell)?this.defaultEdgeShape:this.defaultVertexShape);return $b$$};
mxCellRenderer.prototype.configureShape=function($a$$){$a$$.shape.apply($a$$);$a$$.shape.image=$a$$.view.graph.getImage($a$$);$a$$.shape.indicatorColor=$a$$.view.graph.getIndicatorColor($a$$);$a$$.shape.indicatorStrokeColor=$a$$.style[mxConstants.STYLE_INDICATOR_STROKECOLOR];$a$$.shape.indicatorGradientColor=$a$$.view.graph.getIndicatorGradientColor($a$$);$a$$.shape.indicatorDirection=$a$$.style[mxConstants.STYLE_INDICATOR_DIRECTION];$a$$.shape.indicatorImage=$a$$.view.graph.getIndicatorImage($a$$);
this.postConfigureShape($a$$)};mxCellRenderer.prototype.postConfigureShape=function($a$$){null!=$a$$.shape&&(this.resolveColor($a$$,"indicatorGradientColor",mxConstants.STYLE_GRADIENTCOLOR),this.resolveColor($a$$,"indicatorColor",mxConstants.STYLE_FILLCOLOR),this.resolveColor($a$$,"gradient",mxConstants.STYLE_GRADIENTCOLOR),this.resolveColor($a$$,"stroke",mxConstants.STYLE_STROKECOLOR),this.resolveColor($a$$,"fill",mxConstants.STYLE_FILLCOLOR))};
mxCellRenderer.prototype.checkPlaceholderStyles=function($a$$){if(null!=$a$$.style)for(var $b$$=["inherit","swimlane","indicated"],$c$$=[mxConstants.STYLE_FILLCOLOR,mxConstants.STYLE_STROKECOLOR,mxConstants.STYLE_GRADIENTCOLOR,mxConstants.STYLE_FONTCOLOR],$d$$=0;$d$$<$c$$.length;$d$$++)if(0<=mxUtils.indexOf($b$$,$a$$.style[$c$$[$d$$]]))return!0;return!1};
mxCellRenderer.prototype.resolveColor=function($a$$,$b$$,$c$$){var $d$$=$c$$==mxConstants.STYLE_FONTCOLOR?$a$$.text:$a$$.shape;if(null!=$d$$){var $e$$=$a$$.view.graph,$f$$=$d$$[$b$$],$g$$=null;"inherit"==$f$$?$g$$=$e$$.model.getParent($a$$.cell):"swimlane"==$f$$?($d$$[$b$$]=$c$$==mxConstants.STYLE_STROKECOLOR||$c$$==mxConstants.STYLE_FONTCOLOR?"#000000":"#ffffff",$g$$=null!=$e$$.model.getTerminal($a$$.cell,!1)?$e$$.model.getTerminal($a$$.cell,!1):$a$$.cell,$g$$=$e$$.getSwimlane($g$$),$c$$=$e$$.swimlaneIndicatorColorAttribute):
"indicated"==$f$$&&null!=$a$$.shape?$d$$[$b$$]=$a$$.shape.indicatorColor:$c$$!=mxConstants.STYLE_FILLCOLOR&&$f$$==mxConstants.STYLE_FILLCOLOR&&null!=$a$$.shape?$d$$[$b$$]=$a$$.style[mxConstants.STYLE_FILLCOLOR]:$c$$!=mxConstants.STYLE_STROKECOLOR&&$f$$==mxConstants.STYLE_STROKECOLOR&&null!=$a$$.shape&&($d$$[$b$$]=$a$$.style[mxConstants.STYLE_STROKECOLOR]);null!=$g$$&&($a$$=$e$$.getView().getState($g$$),$d$$[$b$$]=null,null!=$a$$&&($e$$=$c$$==mxConstants.STYLE_FONTCOLOR?$a$$.text:$a$$.shape,$d$$[$b$$]=
null!=$e$$&&"indicatorColor"!=$b$$?$e$$[$b$$]:$a$$.style[$c$$]))}};mxCellRenderer.prototype.getLabelValue=function($a$$){return $a$$.view.graph.getLabel($a$$.cell)};
mxCellRenderer.prototype.createTextShape=function($a$$,$b$$,$c$$){var $d$$=$a$$.view.graph;$b$$=new this.defaultTextShape($b$$,new mxRectangle,$a$$.style[mxConstants.STYLE_ALIGN]||mxConstants.ALIGN_CENTER,$d$$.getVerticalAlign($a$$),$a$$.style[mxConstants.STYLE_FONTCOLOR],$a$$.style[mxConstants.STYLE_FONTFAMILY],$a$$.style[mxConstants.STYLE_FONTSIZE],$a$$.style[mxConstants.STYLE_FONTSTYLE],$a$$.style[mxConstants.STYLE_SPACING],$a$$.style[mxConstants.STYLE_SPACING_TOP],$a$$.style[mxConstants.STYLE_SPACING_RIGHT],
$a$$.style[mxConstants.STYLE_SPACING_BOTTOM],$a$$.style[mxConstants.STYLE_SPACING_LEFT],$a$$.style[mxConstants.STYLE_HORIZONTAL],$a$$.style[mxConstants.STYLE_LABEL_BACKGROUNDCOLOR],$a$$.style[mxConstants.STYLE_LABEL_BORDERCOLOR],$d$$.isWrapping($a$$.cell)&&$d$$.isHtmlLabel($a$$.cell),$d$$.isLabelClipped($a$$.cell),$a$$.style[mxConstants.STYLE_OVERFLOW],$a$$.style[mxConstants.STYLE_LABEL_PADDING],mxUtils.getValue($a$$.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION));$b$$.opacity=
mxUtils.getValue($a$$.style,mxConstants.STYLE_TEXT_OPACITY,100);$b$$.dialect=$c$$;$b$$.style=$a$$.style;$b$$.state=$a$$;return $b$$};
mxCellRenderer.prototype.createLabel=function($a$$,$b$$){var $c$$=$a$$.view.graph;if(0<$a$$.style[mxConstants.STYLE_FONTSIZE]||null==$a$$.style[mxConstants.STYLE_FONTSIZE]){var $d$$=$c$$.isHtmlLabel($a$$.cell)||null!=$b$$&&mxUtils.isNode($b$$);$a$$.text=this.createTextShape($a$$,$b$$,$d$$?mxConstants.DIALECT_STRICTHTML:$a$$.view.graph.dialect);this.initializeLabel($a$$,$a$$.text);this.configureShape($a$$);var $e$$=!1,$f$$=function($g$$){var $k$$=$a$$;if(mxClient.IS_TOUCH||$e$$)$k$$=mxEvent.getClientX($g$$),
$g$$=mxEvent.getClientY($g$$),$g$$=mxUtils.convertPoint($c$$.container,$k$$,$g$$),$k$$=$c$$.view.getState($c$$.getCellAt($g$$.x,$g$$.y));return $k$$};mxEvent.addGestureListeners($a$$.text.node,mxUtils.bind(this,function($g$$){this.isLabelEvent($a$$,$g$$)&&($c$$.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($g$$,$a$$)),$e$$=$c$$.dialect!=mxConstants.DIALECT_SVG&&"IMG"==mxEvent.getSource($g$$).nodeName)}),mxUtils.bind(this,function($g$$){this.isLabelEvent($a$$,$g$$)&&$c$$.fireMouseEvent(mxEvent.MOUSE_MOVE,
new mxMouseEvent($g$$,$f$$($g$$)))}),mxUtils.bind(this,function($g$$){this.isLabelEvent($a$$,$g$$)&&($c$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($g$$,$f$$($g$$))),$e$$=!1)}));$c$$.nativeDblClickEnabled&&mxEvent.addListener($a$$.text.node,"dblclick",mxUtils.bind(this,function($g$$){this.isLabelEvent($a$$,$g$$)&&($c$$.dblClick($g$$,$a$$.cell),mxEvent.consume($g$$))}))}};
mxCellRenderer.prototype.initializeLabel=function($a$$,$b$$){mxClient.IS_SVG&&mxClient.NO_FO&&$b$$.dialect!=mxConstants.DIALECT_SVG?$b$$.init($a$$.view.graph.container):$b$$.init($a$$.view.getDrawPane())};
mxCellRenderer.prototype.createCellOverlays=function($a$$){var $b$$=$a$$.view.graph.getCellOverlays($a$$.cell),$c$$=null;if(null!=$b$$){$c$$=new mxDictionary;for(var $d$$=0;$d$$<$b$$.length;$d$$++){var $e$$=null!=$a$$.overlays?$a$$.overlays.remove($b$$[$d$$]):null;null==$e$$?($e$$=new mxImageShape(new mxRectangle,$b$$[$d$$].image.src),$e$$.dialect=$a$$.view.graph.dialect,$e$$.preserveImageAspect=!1,$e$$.overlay=$b$$[$d$$],this.initializeOverlay($a$$,$e$$),this.installCellOverlayListeners($a$$,$b$$[$d$$],
$e$$),null!=$b$$[$d$$].cursor&&($e$$.node.style.cursor=$b$$[$d$$].cursor),$c$$.put($b$$[$d$$],$e$$)):$c$$.put($b$$[$d$$],$e$$)}}null!=$a$$.overlays&&$a$$.overlays.visit(function($f$$,$g$$){$g$$.destroy()});$a$$.overlays=$c$$};mxCellRenderer.prototype.initializeOverlay=function($a$$,$b$$){$b$$.init($a$$.view.getOverlayPane())};
mxCellRenderer.prototype.installCellOverlayListeners=function($a$$,$b$$,$c$$){var $d$$=$a$$.view.graph;mxEvent.addListener($c$$.node,"click",function($e$$){$d$$.isEditing()&&$d$$.stopEditing(!$d$$.isInvokesStopCellEditing());$b$$.fireEvent(new mxEventObject(mxEvent.CLICK,"event",$e$$,"cell",$a$$.cell))});mxEvent.addGestureListeners($c$$.node,function($e$$){mxEvent.consume($e$$)},function($e$$){$d$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($e$$,$a$$))});mxClient.IS_TOUCH&&mxEvent.addListener($c$$.node,
"touchend",function($e$$){$b$$.fireEvent(new mxEventObject(mxEvent.CLICK,"event",$e$$,"cell",$a$$.cell))})};
mxCellRenderer.prototype.createControl=function($a$$){var $b$$=$a$$.view.graph,$c$$=$b$$.getFoldingImage($a$$);if($b$$.foldingEnabled&&null!=$c$$){if(null==$a$$.control){var $d$$=new mxRectangle(0,0,$c$$.width,$c$$.height);$a$$.control=new mxImageShape($d$$,$c$$.src);$a$$.control.preserveImageAspect=!1;$a$$.control.dialect=$b$$.dialect;this.initControl($a$$,$a$$.control,!0,this.createControlClickHandler($a$$))}}else null!=$a$$.control&&($a$$.control.destroy(),$a$$.control=null)};
mxCellRenderer.prototype.createControlClickHandler=function($a$$){var $b$$=$a$$.view.graph;return mxUtils.bind(this,function($c$$){if(this.forceControlClickHandler||$b$$.isEnabled()){var $d$$=!$b$$.isCellCollapsed($a$$.cell);$b$$.foldCells($d$$,!1,[$a$$.cell],null,$c$$);mxEvent.consume($c$$)}})};
mxCellRenderer.prototype.initControl=function($a$$,$b$$,$c$$,$d$$){var $e$$=$a$$.view.graph;$e$$.isHtmlLabel($a$$.cell)&&mxClient.NO_FO&&$e$$.dialect==mxConstants.DIALECT_SVG?($b$$.dialect=mxConstants.DIALECT_PREFERHTML,$b$$.init($e$$.container),$b$$.node.style.zIndex=1):$b$$.init($a$$.view.getOverlayPane());$b$$=$b$$.innerNode||$b$$.node;null==$d$$||mxClient.IS_IOS||($e$$.isEnabled()&&($b$$.style.cursor="pointer"),mxEvent.addListener($b$$,"click",$d$$));if($c$$){var $f$$=null;mxEvent.addGestureListeners($b$$,
function($g$$){$f$$=new mxPoint(mxEvent.getClientX($g$$),mxEvent.getClientY($g$$));$e$$.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($g$$,$a$$));mxEvent.consume($g$$)},function($g$$){$e$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($g$$,$a$$))},function($g$$){$e$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($g$$,$a$$));mxEvent.consume($g$$)});null!=$d$$&&mxClient.IS_IOS&&$b$$.addEventListener("touchend",function($g$$){if(null!=$f$$){var $k$$=$e$$.tolerance;Math.abs($f$$.x-mxEvent.getClientX($g$$))<
$k$$&&Math.abs($f$$.y-mxEvent.getClientY($g$$))<$k$$&&($d$$.call($d$$,$g$$),mxEvent.consume($g$$))}},!0)}return $b$$};mxCellRenderer.prototype.isShapeEvent=function($a$$,$b$$){return!0};mxCellRenderer.prototype.isLabelEvent=function($a$$,$b$$){return!0};
mxCellRenderer.prototype.installListeners=function($a$$){var $b$$=$a$$.view.graph,$c$$=function($d$$){var $e$$=$a$$;if($b$$.dialect!=mxConstants.DIALECT_SVG&&"IMG"==mxEvent.getSource($d$$).nodeName||mxClient.IS_TOUCH)$e$$=mxEvent.getClientX($d$$),$d$$=mxEvent.getClientY($d$$),$d$$=mxUtils.convertPoint($b$$.container,$e$$,$d$$),$e$$=$b$$.view.getState($b$$.getCellAt($d$$.x,$d$$.y));return $e$$};mxEvent.addGestureListeners($a$$.shape.node,mxUtils.bind(this,function($d$$){this.isShapeEvent($a$$,$d$$)&&
$b$$.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($d$$,$a$$))}),mxUtils.bind(this,function($d$$){this.isShapeEvent($a$$,$d$$)&&$b$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($d$$,$c$$($d$$)))}),mxUtils.bind(this,function($d$$){this.isShapeEvent($a$$,$d$$)&&$b$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($d$$,$c$$($d$$)))}));$b$$.nativeDblClickEnabled&&mxEvent.addListener($a$$.shape.node,"dblclick",mxUtils.bind(this,function($d$$){this.isShapeEvent($a$$,$d$$)&&($b$$.dblClick($d$$,
$a$$.cell),mxEvent.consume($d$$))}))};
mxCellRenderer.prototype.redrawLabel=function($a$$,$b$$){var $c$$=$a$$.view.graph,$d$$=this.getLabelValue($a$$),$e$$=$c$$.isWrapping($a$$.cell),$f$$=$c$$.isLabelClipped($a$$.cell),$g$$=$a$$.view.graph.isHtmlLabel($a$$.cell)||null!=$d$$&&mxUtils.isNode($d$$)?mxConstants.DIALECT_STRICTHTML:$a$$.view.graph.dialect,$k$$=$a$$.style[mxConstants.STYLE_OVERFLOW]||"visible";null==$a$$.text||$a$$.text.wrap==$e$$&&$a$$.text.clipped==$f$$&&$a$$.text.overflow==$k$$&&$a$$.text.dialect==$g$$||($a$$.text.destroy(),
$a$$.text=null);null==$a$$.text&&null!=$d$$&&(mxUtils.isNode($d$$)||0<$d$$.length)?this.createLabel($a$$,$d$$):null==$a$$.text||null!=$d$$&&0!=$d$$.length||($a$$.text.destroy(),$a$$.text=null);if(null!=$a$$.text){$b$$&&(null!=$a$$.text.lastValue&&this.isTextShapeInvalid($a$$,$a$$.text)&&($a$$.text.lastValue=null),$a$$.text.resetStyles(),$a$$.text.apply($a$$),this.configureShape($a$$),$a$$.text.valign=$c$$.getVerticalAlign($a$$));$c$$=this.getLabelBounds($a$$);var $l$$=this.getTextScale($a$$);this.resolveColor($a$$,
"color",mxConstants.STYLE_FONTCOLOR);if($b$$||$a$$.text.value!=$d$$||$a$$.text.isWrapping!=$e$$||$a$$.text.overflow!=$k$$||$a$$.text.isClipping!=$f$$||$a$$.text.scale!=$l$$||$a$$.text.dialect!=$g$$||null==$a$$.text.bounds||!$a$$.text.bounds.equals($c$$))$a$$.text.dialect=$g$$,$a$$.text.value=$d$$,$a$$.text.bounds=$c$$,$a$$.text.scale=$l$$,$a$$.text.wrap=$e$$,$a$$.text.clipped=$f$$,$a$$.text.overflow=$k$$,$b$$=$a$$.text.node.style.visibility,this.redrawLabelShape($a$$.text),$a$$.text.node.style.visibility=
$b$$}};
mxCellRenderer.prototype.isTextShapeInvalid=function($a$$,$b$$){function $c$$($d$$,$e$$,$f$$){return"spacingTop"==$e$$||"spacingRight"==$e$$||"spacingBottom"==$e$$||"spacingLeft"==$e$$?parseFloat($b$$[$d$$])-parseFloat($b$$.spacing)!=($a$$.style[$e$$]||$f$$):$b$$[$d$$]!=(null!=$a$$.style[$e$$]?$a$$.style[$e$$]:$f$$)}return $c$$("fontStyle",mxConstants.STYLE_FONTSTYLE,mxConstants.DEFAULT_FONTSTYLE)||$c$$("family",mxConstants.STYLE_FONTFAMILY,mxConstants.DEFAULT_FONTFAMILY)||$c$$("size",mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE)||
$c$$("color",mxConstants.STYLE_FONTCOLOR,"black")||$c$$("align",mxConstants.STYLE_ALIGN,"")||$c$$("valign",mxConstants.STYLE_VERTICAL_ALIGN,"")||$c$$("spacing",mxConstants.STYLE_SPACING,2)||$c$$("spacingTop",mxConstants.STYLE_SPACING_TOP,0)||$c$$("spacingRight",mxConstants.STYLE_SPACING_RIGHT,0)||$c$$("spacingBottom",mxConstants.STYLE_SPACING_BOTTOM,0)||$c$$("spacingLeft",mxConstants.STYLE_SPACING_LEFT,0)||$c$$("horizontal",mxConstants.STYLE_HORIZONTAL,!0)||$c$$("background",mxConstants.STYLE_LABEL_BACKGROUNDCOLOR)||
$c$$("border",mxConstants.STYLE_LABEL_BORDERCOLOR)||$c$$("opacity",mxConstants.STYLE_TEXT_OPACITY,100)||$c$$("textDirection",mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION)};mxCellRenderer.prototype.redrawLabelShape=function($a$$){$a$$.redraw()};mxCellRenderer.prototype.getTextScale=function($a$$){return $a$$.view.scale};
mxCellRenderer.prototype.getLabelBounds=function($a$$,$b$$,$c$$,$d$$){$b$$=null!=$b$$?$b$$:$a$$.text;var $e$$=new mxRectangle($a$$.absoluteOffset.x,$a$$.absoluteOffset.y),$f$$=$a$$.view.graph.getModel().isEdge($a$$.cell),$g$$=$a$$.view.scale;if($f$$){var $k$$=$b$$.getSpacing(null,$c$$);$e$$.x+=$k$$.x*$g$$;$e$$.y+=$k$$.y*$g$$;$k$$=$a$$.view.graph.getCellGeometry($a$$.cell);null!=$k$$&&($e$$.width=Math.max(0,$k$$.width*$g$$),$e$$.height=Math.max(0,$k$$.height*$g$$))}else $b$$.isPaintBoundsInverted()&&
!$d$$&&($k$$=$e$$.x,$e$$.x=$e$$.y,$e$$.y=$k$$),$e$$.x+=$a$$.x,$e$$.y+=$a$$.y,$e$$.width=Math.max(1,$a$$.width),$e$$.height=Math.max(1,$a$$.height);$b$$.isPaintBoundsInverted()&&!$d$$&&($k$$=($a$$.width-$a$$.height)/2,$e$$.x+=$k$$,$e$$.y-=$k$$,$k$$=$e$$.width,$e$$.width=$e$$.height,$e$$.height=$k$$);if(null!=$a$$.shape){$k$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER);var $l$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);
$k$$==mxConstants.ALIGN_CENTER&&$l$$==mxConstants.ALIGN_MIDDLE&&($e$$=$a$$.shape.getLabelBounds($e$$))}$k$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_WIDTH,null);null!=$k$$&&($e$$.width=parseFloat($k$$)*$g$$);$f$$||this.rotateLabelBounds($a$$,$e$$,$b$$,$c$$,$d$$);return $e$$};
mxCellRenderer.prototype.rotateLabelBounds=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=null!=$d$$?$d$$:$c$$.margin;$b$$.y-=$f$$.y*$b$$.height;$b$$.x-=$f$$.x*$b$$.width;if(!this.legacySpacing||"fill"!=$a$$.style[mxConstants.STYLE_OVERFLOW]&&"width"!=$a$$.style[mxConstants.STYLE_OVERFLOW]&&("block"!=$a$$.style[mxConstants.STYLE_OVERFLOW]||"1"==$a$$.style[mxConstants.STYLE_BLOCK_SPACING])){$d$$=$a$$.view.scale;$f$$=$c$$.getSpacing("1"==$a$$.style[mxConstants.STYLE_BLOCK_SPACING],$f$$);$b$$.x+=$f$$.x*
$d$$;$b$$.y+=$f$$.y*$d$$;$f$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER);var $g$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE),$k$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_WIDTH,null);$b$$.width=Math.max(0,$b$$.width-($f$$==mxConstants.ALIGN_CENTER&&null==$k$$?$c$$.spacingLeft*$d$$+$c$$.spacingRight*$d$$:0));$b$$.height=Math.max(0,$b$$.height-($g$$==mxConstants.ALIGN_MIDDLE?$c$$.spacingTop*$d$$+
$c$$.spacingBottom*$d$$:0))}$e$$=$e$$?0:$c$$.getTextRotation();0!=$e$$&&null!=$a$$&&$a$$.view.graph.model.isVertex($a$$.cell)&&($c$$=$a$$.getCenterX(),$a$$=$a$$.getCenterY(),$b$$.x!=$c$$||$b$$.y!=$a$$)&&($e$$*=Math.PI/180,$a$$=mxUtils.getRotatedPoint(new mxPoint($b$$.x,$b$$.y),Math.cos($e$$),Math.sin($e$$),new mxPoint($c$$,$a$$)),$b$$.x=$a$$.x,$b$$.y=$a$$.y)};
mxCellRenderer.prototype.redrawCellOverlays=function($a$$,$b$$){this.createCellOverlays($a$$);if(null!=$a$$.overlays){var $c$$=mxUtils.mod(mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION,0),90),$d$$=mxUtils.toRadians($c$$),$e$$=Math.cos($d$$),$f$$=Math.sin($d$$);$a$$.overlays.visit(function($g$$,$k$$){$g$$=$k$$.overlay.getBounds($a$$);if(!$a$$.view.graph.getModel().isEdge($a$$.cell)&&null!=$a$$.shape&&0!=$c$$){var $l$$=$g$$.getCenterX(),$m$$=$g$$.getCenterY();$m$$=mxUtils.getRotatedPoint(new mxPoint($l$$,
$m$$),$e$$,$f$$,new mxPoint($a$$.getCenterX(),$a$$.getCenterY()));$l$$=$m$$.x;$m$$=$m$$.y;$g$$.x=Math.round($l$$-$g$$.width/2);$g$$.y=Math.round($m$$-$g$$.height/2)}if($b$$||null==$k$$.bounds||$k$$.scale!=$a$$.view.scale||!$k$$.bounds.equals($g$$))$k$$.bounds=$g$$,$k$$.scale=$a$$.view.scale,$k$$.redraw()})}};
mxCellRenderer.prototype.redrawControl=function($a$$,$b$$){var $c$$=$a$$.view.graph.getFoldingImage($a$$);if(null!=$a$$.control&&null!=$c$$){$c$$=this.getControlBounds($a$$,$c$$.width,$c$$.height);var $d$$=this.legacyControlPosition?mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION,0):$a$$.shape.getTextRotation(),$e$$=$a$$.view.scale;if($b$$||$a$$.control.scale!=$e$$||!$a$$.control.bounds.equals($c$$)||$a$$.control.rotation!=$d$$)$a$$.control.rotation=$d$$,$a$$.control.bounds=$c$$,$a$$.control.scale=
$e$$,$a$$.control.redraw()}};
mxCellRenderer.prototype.getControlBounds=function($a$$,$b$$,$c$$){if(null!=$a$$.control){var $d$$=$a$$.view.scale,$e$$=$a$$.getCenterX(),$f$$=$a$$.getCenterY();if(!$a$$.view.graph.getModel().isEdge($a$$.cell)&&($e$$=$a$$.x+$b$$*$d$$,$f$$=$a$$.y+$c$$*$d$$,null!=$a$$.shape)){var $g$$=$a$$.shape.getShapeRotation();if(this.legacyControlPosition)$g$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION,0);else if($a$$.shape.isPaintBoundsInverted()){var $k$$=($a$$.width-$a$$.height)/2;$e$$+=$k$$;$f$$-=
$k$$}0!=$g$$&&($k$$=mxUtils.toRadians($g$$),$g$$=Math.cos($k$$),$k$$=Math.sin($k$$),$f$$=mxUtils.getRotatedPoint(new mxPoint($e$$,$f$$),$g$$,$k$$,new mxPoint($a$$.getCenterX(),$a$$.getCenterY())),$e$$=$f$$.x,$f$$=$f$$.y)}return $a$$.view.graph.getModel().isEdge($a$$.cell),new mxRectangle(Math.round($e$$-$b$$/2*$d$$),Math.round($f$$-$c$$/2*$d$$),Math.round($b$$*$d$$),Math.round($c$$*$d$$))}return null};
mxCellRenderer.prototype.insertStateAfter=function($a$$,$b$$,$c$$){for(var $d$$=this.getShapesForState($a$$),$e$$=0;$e$$<$d$$.length;$e$$++)if(null!=$d$$[$e$$]&&null!=$d$$[$e$$].node){var $f$$=$d$$[$e$$].node.parentNode!=$a$$.view.getDrawPane()&&$d$$[$e$$].node.parentNode!=$a$$.view.getOverlayPane(),$g$$=$f$$?$c$$:$b$$;if(null!=$g$$&&$g$$.nextSibling!=$d$$[$e$$].node)null==$g$$.nextSibling?$g$$.parentNode.appendChild($d$$[$e$$].node):$g$$.parentNode.insertBefore($d$$[$e$$].node,$g$$.nextSibling);
else if(null==$g$$)if($d$$[$e$$].node.parentNode==$a$$.view.graph.container){for($g$$=$a$$.view.canvas;null!=$g$$&&$g$$.parentNode!=$a$$.view.graph.container;)$g$$=$g$$.parentNode;null!=$g$$&&null!=$g$$.nextSibling?$g$$.nextSibling!=$d$$[$e$$].node&&$d$$[$e$$].node.parentNode.insertBefore($d$$[$e$$].node,$g$$.nextSibling):$d$$[$e$$].node.parentNode.appendChild($d$$[$e$$].node)}else null!=$d$$[$e$$].node.parentNode&&null!=$d$$[$e$$].node.parentNode.firstChild&&$d$$[$e$$].node.parentNode.firstChild!=
$d$$[$e$$].node&&$d$$[$e$$].node.parentNode.insertBefore($d$$[$e$$].node,$d$$[$e$$].node.parentNode.firstChild);$f$$?$c$$=$d$$[$e$$].node:$b$$=$d$$[$e$$].node}return[$b$$,$c$$]};mxCellRenderer.prototype.getShapesForState=function($a$$){return[$a$$.shape,$a$$.text,$a$$.control]};mxCellRenderer.prototype.redraw=function($a$$,$b$$,$c$$){$b$$=this.redrawShape($a$$,$b$$,$c$$);null==$a$$.shape||null!=$c$$&&!$c$$||(this.redrawLabel($a$$,$b$$),this.redrawCellOverlays($a$$,$b$$),this.redrawControl($a$$,$b$$))};
mxCellRenderer.prototype.redrawShape=function($a$$,$b$$,$c$$){var $d$$=$a$$.view.graph.model,$e$$=!1;null!=$a$$.shape&&null!=$a$$.shape.style&&null!=$a$$.style&&$a$$.shape.style[mxConstants.STYLE_SHAPE]!=$a$$.style[mxConstants.STYLE_SHAPE]&&($a$$.shape.destroy(),$a$$.shape=null);null==$a$$.shape&&null!=$a$$.view.graph.container&&$a$$.cell!=$a$$.view.currentRoot&&($d$$.isVertex($a$$.cell)||$d$$.isEdge($a$$.cell))?($a$$.shape=this.createShape($a$$),null!=$a$$.shape&&($a$$.shape.minSvgStrokeWidth=this.minSvgStrokeWidth,
$a$$.shape.antiAlias=this.antiAlias,this.createIndicatorShape($a$$),this.initializeShape($a$$),this.createCellOverlays($a$$),this.installListeners($a$$),$a$$.view.graph.selectionCellsHandler.updateHandler($a$$))):$b$$||null==$a$$.shape||mxUtils.equalEntries($a$$.shape.style,$a$$.style)&&!this.checkPlaceholderStyles($a$$)||($a$$.shape.resetStyles(),this.configureShape($a$$),$a$$.view.graph.selectionCellsHandler.updateHandler($a$$),$b$$=!0);null!=$a$$.shape&&$a$$.shape.indicatorShape!=this.getShape($a$$.view.graph.getIndicatorShape($a$$))&&
(null!=$a$$.shape.indicator&&($a$$.shape.indicator.destroy(),$a$$.shape.indicator=null),this.createIndicatorShape($a$$),null!=$a$$.shape.indicatorShape&&($a$$.shape.indicator=new $a$$.shape.indicatorShape,$a$$.shape.indicator.dialect=$a$$.shape.dialect,$a$$.shape.indicator.init($a$$.node),$b$$=!0));null!=$a$$.shape&&(this.createControl($a$$),$b$$||this.isShapeInvalid($a$$,$a$$.shape))&&(null!=$a$$.absolutePoints?($a$$.shape.points=$a$$.absolutePoints.slice(),$a$$.shape.bounds=null):($a$$.shape.points=
null,$a$$.shape.bounds=new mxRectangle($a$$.x,$a$$.y,$a$$.width,$a$$.height)),$a$$.shape.scale=$a$$.view.scale,(null==$c$$||$c$$)&&this.doRedrawShape($a$$),$e$$=!0);return $e$$};mxCellRenderer.prototype.doRedrawShape=function($a$$){$a$$.shape.redraw()};mxCellRenderer.prototype.isShapeInvalid=function($a$$,$b$$){return null==$b$$.bounds||$b$$.scale!=$a$$.view.scale||null==$a$$.absolutePoints&&!$b$$.bounds.equals($a$$)||null!=$a$$.absolutePoints&&!mxUtils.equalPoints($b$$.points,$a$$.absolutePoints)};
mxCellRenderer.prototype.destroy=function($a$$){null!=$a$$.shape&&(null!=$a$$.text&&($a$$.text.destroy(),$a$$.text=null),null!=$a$$.overlays&&($a$$.overlays.visit(function($b$$,$c$$){$c$$.destroy()}),$a$$.overlays=null),null!=$a$$.control&&($a$$.control.destroy(),$a$$.control=null),$a$$.shape.destroy(),$a$$.shape=null)};
var mxEdgeStyle={EntityRelation:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=$a$$.view,$g$$=$f$$.graph;$d$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_SEGMENT,mxConstants.ENTITY_SEGMENT)*$f$$.scale;var $k$$=$a$$.absolutePoints,$l$$=$k$$[0],$m$$=$k$$[$k$$.length-1];$k$$=!1;if(null!=$b$$){var $n$$=$g$$.getCellGeometry($b$$.cell);$n$$.relative?$k$$=.5>=$n$$.x:null!=$c$$&&($k$$=(null!=$m$$?$m$$.x:$c$$.x+$c$$.width)<(null!=$l$$?$l$$.x:$b$$.x))}if(null!=$l$$)$b$$=new mxCellState,$b$$.x=$l$$.x,$b$$.y=
$l$$.y;else if(null!=$b$$){var $p$$=mxUtils.getPortConstraints($b$$,$a$$,!0,mxConstants.DIRECTION_MASK_NONE);$p$$!=mxConstants.DIRECTION_MASK_NONE&&$p$$!=mxConstants.DIRECTION_MASK_WEST+mxConstants.DIRECTION_MASK_EAST&&($k$$=$p$$==mxConstants.DIRECTION_MASK_WEST)}else return;$n$$=!0;null!=$c$$&&($g$$=$g$$.getCellGeometry($c$$.cell),$g$$.relative?$n$$=.5>=$g$$.x:null!=$b$$&&($n$$=(null!=$l$$?$l$$.x:$b$$.x+$b$$.width)<(null!=$m$$?$m$$.x:$c$$.x)));null!=$m$$?($c$$=new mxCellState,$c$$.x=$m$$.x,$c$$.y=
$m$$.y):null!=$c$$&&($p$$=mxUtils.getPortConstraints($c$$,$a$$,!1,mxConstants.DIRECTION_MASK_NONE),$p$$!=mxConstants.DIRECTION_MASK_NONE&&$p$$!=mxConstants.DIRECTION_MASK_WEST+mxConstants.DIRECTION_MASK_EAST&&($n$$=$p$$==mxConstants.DIRECTION_MASK_WEST));null!=$b$$&&null!=$c$$&&($a$$=$k$$?$b$$.x:$b$$.x+$b$$.width,$b$$=$f$$.getRoutingCenterY($b$$),$l$$=$n$$?$c$$.x:$c$$.x+$c$$.width,$c$$=$f$$.getRoutingCenterY($c$$),$f$$=new mxPoint($a$$+($k$$?-$d$$:$d$$),$b$$),$g$$=new mxPoint($l$$+($n$$?-$d$$:$d$$),
$c$$),$k$$==$n$$?($d$$=$k$$?Math.min($a$$,$l$$)-$d$$:Math.max($a$$,$l$$)+$d$$,$e$$.push(new mxPoint($d$$,$b$$)),$e$$.push(new mxPoint($d$$,$c$$))):($f$$.x<$g$$.x==$k$$?($d$$=$b$$+($c$$-$b$$)/2,$e$$.push($f$$),$e$$.push(new mxPoint($f$$.x,$d$$)),$e$$.push(new mxPoint($g$$.x,$d$$))):$e$$.push($f$$),$e$$.push($g$$)))},Loop:function($a$$,$b$$,$c$$,$d$$,$e$$){$c$$=$a$$.absolutePoints;var $f$$=$c$$[$c$$.length-1];if(null!=$c$$[0]&&null!=$f$$){if(null!=$d$$&&0<$d$$.length)for($b$$=0;$b$$<$d$$.length;$b$$++)$c$$=
$d$$[$b$$],$c$$=$a$$.view.transformControlPoint($a$$,$c$$),$e$$.push(new mxPoint($c$$.x,$c$$.y))}else if(null!=$b$$){$f$$=$a$$.view;var $g$$=$f$$.graph;$c$$=null!=$d$$&&0<$d$$.length?$d$$[0]:null;null!=$c$$&&($c$$=$f$$.transformControlPoint($a$$,$c$$),mxUtils.contains($b$$,$c$$.x,$c$$.y)&&($c$$=null));var $k$$=$d$$=0,$l$$=0,$m$$=0;$g$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_SEGMENT,$g$$.gridSize)*$f$$.scale;$a$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_WEST);
$a$$==mxConstants.DIRECTION_NORTH||$a$$==mxConstants.DIRECTION_SOUTH?($d$$=$f$$.getRoutingCenterX($b$$),$k$$=$g$$):($l$$=$f$$.getRoutingCenterY($b$$),$m$$=$g$$);null==$c$$||$c$$.x<$b$$.x||$c$$.x>$b$$.x+$b$$.width?null!=$c$$?($d$$=$c$$.x,$m$$=Math.max(Math.abs($l$$-$c$$.y),$m$$)):$a$$==mxConstants.DIRECTION_NORTH?$l$$=$b$$.y-2*$k$$:$a$$==mxConstants.DIRECTION_SOUTH?$l$$=$b$$.y+$b$$.height+2*$k$$:$d$$=$a$$==mxConstants.DIRECTION_EAST?$b$$.x-2*$m$$:$b$$.x+$b$$.width+2*$m$$:null!=$c$$&&($d$$=$f$$.getRoutingCenterX($b$$),
$k$$=Math.max(Math.abs($d$$-$c$$.x),$m$$),$l$$=$c$$.y,$m$$=0);$e$$.push(new mxPoint($d$$-$k$$,$l$$-$m$$));$e$$.push(new mxPoint($d$$+$k$$,$l$$+$m$$))}},ElbowConnector:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=null!=$d$$&&0<$d$$.length?$d$$[0]:null,$g$$=!1,$k$$=!1;if(null!=$b$$&&null!=$c$$)if(null!=$f$$){var $l$$=Math.min($b$$.x,$c$$.x),$m$$=Math.max($b$$.x+$b$$.width,$c$$.x+$c$$.width);$k$$=Math.min($b$$.y,$c$$.y);var $n$$=Math.max($b$$.y+$b$$.height,$c$$.y+$c$$.height);$f$$=$a$$.view.transformControlPoint($a$$,
$f$$);$g$$=$f$$.y<$k$$||$f$$.y>$n$$;$k$$=$f$$.x<$l$$||$f$$.x>$m$$}else $l$$=Math.max($b$$.x,$c$$.x),$m$$=Math.min($b$$.x+$b$$.width,$c$$.x+$c$$.width),($g$$=$l$$==$m$$)||($k$$=Math.max($b$$.y,$c$$.y),$n$$=Math.min($b$$.y+$b$$.height,$c$$.y+$c$$.height),$k$$=$k$$==$n$$);$k$$||!$g$$&&$a$$.style[mxConstants.STYLE_ELBOW]!=mxConstants.ELBOW_VERTICAL?mxEdgeStyle.SideToSide($a$$,$b$$,$c$$,$d$$,$e$$):mxEdgeStyle.TopToBottom($a$$,$b$$,$c$$,$d$$,$e$$)},SideToSide:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=
$a$$.view;$d$$=null!=$d$$&&0<$d$$.length?$d$$[0]:null;var $g$$=$a$$.absolutePoints,$k$$=$g$$[0];$g$$=$g$$[$g$$.length-1];null!=$d$$&&($d$$=$f$$.transformControlPoint($a$$,$d$$));null!=$k$$&&($b$$=new mxCellState,$b$$.x=$k$$.x,$b$$.y=$k$$.y);null!=$g$$&&($c$$=new mxCellState,$c$$.x=$g$$.x,$c$$.y=$g$$.y);null!=$b$$&&null!=$c$$&&($a$$=Math.max($b$$.x,$c$$.x),$k$$=Math.min($b$$.x+$b$$.width,$c$$.x+$c$$.width),$a$$=null!=$d$$?$d$$.x:Math.round($k$$+($a$$-$k$$)/2),$k$$=$f$$.getRoutingCenterY($b$$),$f$$=
$f$$.getRoutingCenterY($c$$),null!=$d$$&&($d$$.y>=$b$$.y&&$d$$.y<=$b$$.y+$b$$.height&&($k$$=$d$$.y),$d$$.y>=$c$$.y&&$d$$.y<=$c$$.y+$c$$.height&&($f$$=$d$$.y)),mxUtils.contains($c$$,$a$$,$k$$)||mxUtils.contains($b$$,$a$$,$k$$)||$e$$.push(new mxPoint($a$$,$k$$)),mxUtils.contains($c$$,$a$$,$f$$)||mxUtils.contains($b$$,$a$$,$f$$)||$e$$.push(new mxPoint($a$$,$f$$)),1==$e$$.length&&(null!=$d$$?mxUtils.contains($c$$,$a$$,$d$$.y)||mxUtils.contains($b$$,$a$$,$d$$.y)||$e$$.push(new mxPoint($a$$,$d$$.y)):($f$$=
Math.max($b$$.y,$c$$.y),$e$$.push(new mxPoint($a$$,$f$$+(Math.min($b$$.y+$b$$.height,$c$$.y+$c$$.height)-$f$$)/2)))))},TopToBottom:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=$a$$.view;$d$$=null!=$d$$&&0<$d$$.length?$d$$[0]:null;var $g$$=$a$$.absolutePoints,$k$$=$g$$[0];$g$$=$g$$[$g$$.length-1];null!=$d$$&&($d$$=$f$$.transformControlPoint($a$$,$d$$));null!=$k$$&&($b$$=new mxCellState,$b$$.x=$k$$.x,$b$$.y=$k$$.y);null!=$g$$&&($c$$=new mxCellState,$c$$.x=$g$$.x,$c$$.y=$g$$.y);null!=$b$$&&null!=$c$$&&
($k$$=Math.max($b$$.y,$c$$.y),$g$$=Math.min($b$$.y+$b$$.height,$c$$.y+$c$$.height),$a$$=$f$$.getRoutingCenterX($b$$),null!=$d$$&&$d$$.x>=$b$$.x&&$d$$.x<=$b$$.x+$b$$.width&&($a$$=$d$$.x),$k$$=null!=$d$$?$d$$.y:Math.round($g$$+($k$$-$g$$)/2),mxUtils.contains($c$$,$a$$,$k$$)||mxUtils.contains($b$$,$a$$,$k$$)||$e$$.push(new mxPoint($a$$,$k$$)),$a$$=null!=$d$$&&$d$$.x>=$c$$.x&&$d$$.x<=$c$$.x+$c$$.width?$d$$.x:$f$$.getRoutingCenterX($c$$),mxUtils.contains($c$$,$a$$,$k$$)||mxUtils.contains($b$$,$a$$,$k$$)||
$e$$.push(new mxPoint($a$$,$k$$)),1==$e$$.length&&(null!=$d$$&&1==$e$$.length?mxUtils.contains($c$$,$d$$.x,$k$$)||mxUtils.contains($b$$,$d$$.x,$k$$)||$e$$.push(new mxPoint($d$$.x,$k$$)):($f$$=Math.max($b$$.x,$c$$.x),$e$$.push(new mxPoint($f$$+(Math.min($b$$.x+$b$$.width,$c$$.x+$c$$.width)-$f$$)/2,$k$$)))))},SegmentConnector:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=mxEdgeStyle.scalePointArray($a$$.absolutePoints,$a$$.view.scale);$b$$=mxEdgeStyle.scaleCellState($b$$,$a$$.view.scale);var $g$$=mxEdgeStyle.scaleCellState($c$$,
$a$$.view.scale);$c$$=[];var $k$$=0<$e$$.length?$e$$[0]:null,$l$$=!0,$m$$=$f$$[0];null==$m$$&&null!=$b$$?$m$$=new mxPoint($a$$.view.getRoutingCenterX($b$$),$a$$.view.getRoutingCenterY($b$$)):null!=$m$$&&($m$$=$m$$.clone());var $n$$=$f$$.length-1;if(null!=$d$$&&0<$d$$.length){for(var $p$$=[],$q$$=0;$q$$<$d$$.length;$q$$++){var $r$$=$a$$.view.transformControlPoint($a$$,$d$$[$q$$],!0);null!=$r$$&&$p$$.push($r$$)}if(0==$p$$.length)return;null!=$m$$&&null!=$p$$[0]&&(1>Math.abs($p$$[0].x-$m$$.x)&&($p$$[0].x=
$m$$.x),1>Math.abs($p$$[0].y-$m$$.y)&&($p$$[0].y=$m$$.y));$r$$=$f$$[$n$$];null!=$r$$&&null!=$p$$[$p$$.length-1]&&(1>Math.abs($p$$[$p$$.length-1].x-$r$$.x)&&($p$$[$p$$.length-1].x=$r$$.x),1>Math.abs($p$$[$p$$.length-1].y-$r$$.y)&&($p$$[$p$$.length-1].y=$r$$.y));$d$$=$p$$[0];var $t$$=$b$$,$u$$=$f$$[0],$x$$=$d$$;null!=$u$$&&($t$$=null);for($q$$=0;2>$q$$;$q$$++){var $y$$=null!=$u$$&&$u$$.x==$x$$.x,$C$$=null!=$u$$&&$u$$.y==$x$$.y,$A$$=null!=$t$$&&$x$$.y>=$t$$.y&&$x$$.y<=$t$$.y+$t$$.height,$B$$=null!=$t$$&&
$x$$.x>=$t$$.x&&$x$$.x<=$t$$.x+$t$$.width;$t$$=$C$$||null==$u$$&&$A$$;$x$$=$y$$||null==$u$$&&$B$$;if(0!=$q$$||!($t$$&&$x$$||$y$$&&$C$$)){if(null!=$u$$&&!$C$$&&!$y$$&&($A$$||$B$$)){$l$$=$A$$?!1:!0;break}if($x$$||$t$$){$l$$=$t$$;1==$q$$&&($l$$=0==$p$$.length%2?$t$$:$x$$);break}}$t$$=$g$$;$u$$=$f$$[$n$$];null!=$u$$&&($t$$=null);$x$$=$p$$[$p$$.length-1];$y$$&&$C$$&&($p$$=$p$$.slice(1))}$l$$&&(null!=$f$$[0]&&$f$$[0].y!=$d$$.y||null==$f$$[0]&&null!=$b$$&&($d$$.y<$b$$.y||$d$$.y>$b$$.y+$b$$.height))?$c$$.push(new mxPoint($m$$.x,
$d$$.y)):!$l$$&&(null!=$f$$[0]&&$f$$[0].x!=$d$$.x||null==$f$$[0]&&null!=$b$$&&($d$$.x<$b$$.x||$d$$.x>$b$$.x+$b$$.width))&&$c$$.push(new mxPoint($d$$.x,$m$$.y));$l$$?$m$$.y=$d$$.y:$m$$.x=$d$$.x;for($q$$=0;$q$$<$p$$.length;$q$$++)$l$$=!$l$$,$d$$=$p$$[$q$$],$l$$?$m$$.y=$d$$.y:$m$$.x=$d$$.x,$c$$.push($m$$.clone())}else $d$$=$m$$,$l$$=!0;$m$$=$f$$[$n$$];null==$m$$&&null!=$g$$&&($m$$=new mxPoint($a$$.view.getRoutingCenterX($g$$),$a$$.view.getRoutingCenterY($g$$)));null!=$m$$&&null!=$d$$&&($l$$&&(null!=
$f$$[$n$$]&&$f$$[$n$$].y!=$d$$.y||null==$f$$[$n$$]&&null!=$g$$&&($d$$.y<$g$$.y||$d$$.y>$g$$.y+$g$$.height))?$c$$.push(new mxPoint($m$$.x,$d$$.y)):!$l$$&&(null!=$f$$[$n$$]&&$f$$[$n$$].x!=$d$$.x||null==$f$$[$n$$]&&null!=$g$$&&($d$$.x<$g$$.x||$d$$.x>$g$$.x+$g$$.width))&&$c$$.push(new mxPoint($d$$.x,$m$$.y)));if(null==$f$$[0]&&null!=$b$$)for(;0<$c$$.length&&null!=$c$$[0]&&mxUtils.contains($b$$,$c$$[0].x,$c$$[0].y);)$c$$.splice(0,1);if(null==$f$$[$n$$]&&null!=$g$$)for(;0<$c$$.length&&null!=$c$$[$c$$.length-
1]&&mxUtils.contains($g$$,$c$$[$c$$.length-1].x,$c$$[$c$$.length-1].y);)$c$$.splice($c$$.length-1,1);for($q$$=0;$q$$<$c$$.length;$q$$++)if($f$$=$c$$[$q$$],$f$$.x=Math.round($f$$.x*$a$$.view.scale*10)/10,$f$$.y=Math.round($f$$.y*$a$$.view.scale*10)/10,null==$k$$||1<=Math.abs($k$$.x-$f$$.x)||Math.abs($k$$.y-$f$$.y)>=Math.max(1,$a$$.view.scale))$e$$.push($f$$),$k$$=$f$$;null!=$r$$&&null!=$e$$[$e$$.length-1]&&1>=Math.abs($r$$.x-$e$$[$e$$.length-1].x)&&1>=Math.abs($r$$.y-$e$$[$e$$.length-1].y)&&($e$$.splice($e$$.length-
1,1),null!=$e$$[$e$$.length-1]&&(1>Math.abs($e$$[$e$$.length-1].x-$r$$.x)&&($e$$[$e$$.length-1].x=$r$$.x),1>Math.abs($e$$[$e$$.length-1].y-$r$$.y)&&($e$$[$e$$.length-1].y=$r$$.y)))},orthBuffer:10,orthPointsFallback:!0,dirVectors:[[-1,0],[0,-1],[1,0],[0,1],[-1,0],[0,-1],[1,0]],wayPoints1:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],routePatterns:[[[513,2308,2081,2562],[513,1090,514,2184,2114,2561],[513,1090,514,2564,2184,2562],[513,2308,2561,1090,514,2568,2308]],[[514,
1057,513,2308,2081,2562],[514,2184,2114,2561],[514,2184,2562,1057,513,2564,2184],[514,1057,513,2568,2308,2561]],[[1090,514,1057,513,2308,2081,2562],[2114,2561],[1090,2562,1057,513,2564,2184],[1090,514,1057,513,2308,2561,2568]],[[2081,2562],[1057,513,1090,514,2184,2114,2561],[1057,513,1090,514,2184,2562,2564],[1057,2561,1090,514,2568,2308]]],inlineRoutePatterns:[[null,[2114,2568],null,null],[null,[514,2081,2114,2568],null,null],[null,[2114,2561],null,null],[[2081,2562],[1057,2114,2568],[2184,2562],
null]],vertexSeperations:[],limits:[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],LEFT_MASK:32,TOP_MASK:64,RIGHT_MASK:128,BOTTOM_MASK:256,LEFT:1,TOP:2,RIGHT:4,BOTTOM:8,SIDE_MASK:480,CENTER_MASK:512,SOURCE_MASK:1024,TARGET_MASK:2048,VERTEX_MASK:3072,getJettySize:function($a$$,$b$$){var $c$$=mxUtils.getValue($a$$.style,$b$$?mxConstants.STYLE_SOURCE_JETTY_SIZE:mxConstants.STYLE_TARGET_JETTY_SIZE,mxUtils.getValue($a$$.style,mxConstants.STYLE_JETTY_SIZE,mxEdgeStyle.orthBuffer));"auto"==$c$$&&(mxUtils.getValue($a$$.style,
$b$$?mxConstants.STYLE_STARTARROW:mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE?($a$$=mxUtils.getNumber($a$$.style,$b$$?mxConstants.STYLE_STARTSIZE:mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE),$c$$=Math.max(2,Math.ceil(($a$$+mxEdgeStyle.orthBuffer)/mxEdgeStyle.orthBuffer))*mxEdgeStyle.orthBuffer):$c$$=2*mxEdgeStyle.orthBuffer);return $c$$},scalePointArray:function($a$$,$b$$){var $c$$=[];if(null!=$a$$)for(var $d$$=0;$d$$<$a$$.length;$d$$++)if(null!=$a$$[$d$$]){var $e$$=
new mxPoint(Math.round($a$$[$d$$].x/$b$$*10)/10,Math.round($a$$[$d$$].y/$b$$*10)/10);$c$$[$d$$]=$e$$}else $c$$[$d$$]=null;else $c$$=null;return $c$$},scaleCellState:function($a$$,$b$$){if(null!=$a$$){var $c$$=$a$$.clone();$c$$.setRect(Math.round($a$$.x/$b$$*10)/10,Math.round($a$$.y/$b$$*10)/10,Math.round($a$$.width/$b$$*10)/10,Math.round($a$$.height/$b$$*10)/10)}else $c$$=null;return $c$$},OrthConnector:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=$a$$.view.graph,$g$$=null==$l$$?!1:$f$$.getModel().isEdge($l$$.cell),
$k$$=null==$m$$?!1:$f$$.getModel().isEdge($m$$.cell);$f$$=mxEdgeStyle.scalePointArray($a$$.absolutePoints,$a$$.view.scale);var $l$$=mxEdgeStyle.scaleCellState($b$$,$a$$.view.scale),$m$$=mxEdgeStyle.scaleCellState($c$$,$a$$.view.scale),$n$$=$f$$[0],$p$$=$f$$[$f$$.length-1],$q$$=null!=$l$$?$l$$.x:$n$$.x,$r$$=null!=$l$$?$l$$.y:$n$$.y,$t$$=null!=$l$$?$l$$.width:1,$u$$=null!=$l$$?$l$$.height:1,$x$$=null!=$m$$?$m$$.x:$p$$.x,$y$$=null!=$m$$?$m$$.y:$p$$.y,$C$$=null!=$m$$?$m$$.width:1,$A$$=null!=$m$$?$m$$.height:
1;$f$$=mxEdgeStyle.getJettySize($a$$,!0);var $B$$=mxEdgeStyle.getJettySize($a$$,!1);null!=$l$$&&$m$$==$l$$&&($f$$=$B$$=Math.max($f$$,$B$$));var $z$$=$B$$+$f$$,$v$$=!1;if(null!=$n$$&&null!=$p$$){$v$$=$p$$.x-$n$$.x;var $D$$=$p$$.y-$n$$.y;$v$$=$v$$*$v$$+$D$$*$D$$<$z$$*$z$$}if($v$$||mxEdgeStyle.orthPointsFallback&&null!=$d$$&&0<$d$$.length||$g$$||$k$$)mxEdgeStyle.SegmentConnector($a$$,$b$$,$c$$,$d$$,$e$$);else if($c$$=[mxConstants.DIRECTION_MASK_ALL,mxConstants.DIRECTION_MASK_ALL],null!=$l$$&&($c$$[0]=
mxUtils.getPortConstraints($l$$,$a$$,!0,mxConstants.DIRECTION_MASK_ALL),$b$$=mxUtils.getValue($l$$.style,mxConstants.STYLE_ROTATION,0),0!=$b$$&&($b$$=mxUtils.getBoundingBox(new mxRectangle($q$$,$r$$,$t$$,$u$$),$b$$),$q$$=$b$$.x,$r$$=$b$$.y,$t$$=$b$$.width,$u$$=$b$$.height)),null!=$m$$&&($c$$[1]=mxUtils.getPortConstraints($m$$,$a$$,!1,mxConstants.DIRECTION_MASK_ALL),$b$$=mxUtils.getValue($m$$.style,mxConstants.STYLE_ROTATION,0),0!=$b$$&&($b$$=mxUtils.getBoundingBox(new mxRectangle($x$$,$y$$,$C$$,$A$$),
$b$$),$x$$=$b$$.x,$y$$=$b$$.y,$C$$=$b$$.width,$A$$=$b$$.height)),0!=$t$$&&0!=$u$$&&0!=$C$$&&0!=$A$$){$b$$=[0,0];$q$$=[[$q$$,$r$$,$t$$,$u$$],[$x$$,$y$$,$C$$,$A$$]];$B$$=[$f$$,$B$$];for($v$$=0;2>$v$$;$v$$++)mxEdgeStyle.limits[$v$$][1]=$q$$[$v$$][0]-$B$$[$v$$],mxEdgeStyle.limits[$v$$][2]=$q$$[$v$$][1]-$B$$[$v$$],mxEdgeStyle.limits[$v$$][4]=$q$$[$v$$][0]+$q$$[$v$$][2]+$B$$[$v$$],mxEdgeStyle.limits[$v$$][8]=$q$$[$v$$][1]+$q$$[$v$$][3]+$B$$[$v$$];$B$$=$q$$[0][1]+$q$$[0][3]/2;$r$$=$q$$[1][1]+$q$$[1][3]/
2;$v$$=$q$$[0][0]+$q$$[0][2]/2-($q$$[1][0]+$q$$[1][2]/2);$D$$=$B$$-$r$$;$B$$=0;0>$v$$?$B$$=0>$D$$?2:1:0>=$D$$&&($B$$=3,0==$v$$&&($B$$=2));$r$$=null;null!=$l$$&&($r$$=$n$$);$l$$=[[.5,.5],[.5,.5]];for($v$$=0;2>$v$$;$v$$++)null!=$r$$&&($l$$[$v$$][0]=($r$$.x-$q$$[$v$$][0])/$q$$[$v$$][2],1>=Math.abs($r$$.x-$q$$[$v$$][0])?$b$$[$v$$]=mxConstants.DIRECTION_MASK_WEST:1>=Math.abs($r$$.x-$q$$[$v$$][0]-$q$$[$v$$][2])&&($b$$[$v$$]=mxConstants.DIRECTION_MASK_EAST),$l$$[$v$$][1]=($r$$.y-$q$$[$v$$][1])/$q$$[$v$$][3],
1>=Math.abs($r$$.y-$q$$[$v$$][1])?$b$$[$v$$]=mxConstants.DIRECTION_MASK_NORTH:1>=Math.abs($r$$.y-$q$$[$v$$][1]-$q$$[$v$$][3])&&($b$$[$v$$]=mxConstants.DIRECTION_MASK_SOUTH)),$r$$=null,null!=$m$$&&($r$$=$p$$);$v$$=$q$$[0][1]-($q$$[1][1]+$q$$[1][3]);$p$$=$q$$[0][0]-($q$$[1][0]+$q$$[1][2]);$r$$=$q$$[1][1]-($q$$[0][1]+$q$$[0][3]);$t$$=$q$$[1][0]-($q$$[0][0]+$q$$[0][2]);mxEdgeStyle.vertexSeperations[1]=Math.max($p$$-$z$$,0);mxEdgeStyle.vertexSeperations[2]=Math.max($v$$-$z$$,0);mxEdgeStyle.vertexSeperations[4]=
Math.max($r$$-$z$$,0);mxEdgeStyle.vertexSeperations[3]=Math.max($t$$-$z$$,0);$z$$=[];$m$$=[];$n$$=[];$m$$[0]=$p$$>=$t$$?mxConstants.DIRECTION_MASK_WEST:mxConstants.DIRECTION_MASK_EAST;$n$$[0]=$v$$>=$r$$?mxConstants.DIRECTION_MASK_NORTH:mxConstants.DIRECTION_MASK_SOUTH;$m$$[1]=mxUtils.reversePortConstraints($m$$[0]);$n$$[1]=mxUtils.reversePortConstraints($n$$[0]);$p$$=$p$$>=$t$$?$p$$:$t$$;$r$$=$v$$>=$r$$?$v$$:$r$$;$t$$=[[0,0],[0,0]];$u$$=!1;for($v$$=0;2>$v$$;$v$$++)0==$b$$[$v$$]&&(0==($m$$[$v$$]&$c$$[$v$$])&&
($m$$[$v$$]=mxUtils.reversePortConstraints($m$$[$v$$])),0==($n$$[$v$$]&$c$$[$v$$])&&($n$$[$v$$]=mxUtils.reversePortConstraints($n$$[$v$$])),$t$$[$v$$][0]=$n$$[$v$$],$t$$[$v$$][1]=$m$$[$v$$]);0<$r$$&&0<$p$$&&(0<($m$$[0]&$c$$[0])&&0<($n$$[1]&$c$$[1])?($t$$[0][0]=$m$$[0],$t$$[0][1]=$n$$[0],$t$$[1][0]=$n$$[1],$t$$[1][1]=$m$$[1],$u$$=!0):0<($n$$[0]&$c$$[0])&&0<($m$$[1]&$c$$[1])&&($t$$[0][0]=$n$$[0],$t$$[0][1]=$m$$[0],$t$$[1][0]=$m$$[1],$t$$[1][1]=$n$$[1],$u$$=!0));0<$r$$&&!$u$$&&($t$$[0][0]=$n$$[0],$t$$[0][1]=
$m$$[0],$t$$[1][0]=$n$$[1],$t$$[1][1]=$m$$[1],$u$$=!0);0<$p$$&&!$u$$&&($t$$[0][0]=$m$$[0],$t$$[0][1]=$n$$[0],$t$$[1][0]=$m$$[1],$t$$[1][1]=$n$$[1]);for($v$$=0;2>$v$$;$v$$++)0==$b$$[$v$$]&&(0==($t$$[$v$$][0]&$c$$[$v$$])&&($t$$[$v$$][0]=$t$$[$v$$][1]),$z$$[$v$$]=$t$$[$v$$][0]&$c$$[$v$$],$z$$[$v$$]|=($t$$[$v$$][1]&$c$$[$v$$])<<8,$z$$[$v$$]|=($t$$[1-$v$$][$v$$]&$c$$[$v$$])<<16,$z$$[$v$$]|=($t$$[1-$v$$][1-$v$$]&$c$$[$v$$])<<24,0==($z$$[$v$$]&15)&&($z$$[$v$$]<<=8),0==($z$$[$v$$]&3840)&&($z$$[$v$$]=$z$$[$v$$]&
15|$z$$[$v$$]>>8),0==($z$$[$v$$]&983040)&&($z$$[$v$$]=$z$$[$v$$]&65535|($z$$[$v$$]&251658240)>>8),$b$$[$v$$]=$z$$[$v$$]&15,$c$$[$v$$]==mxConstants.DIRECTION_MASK_WEST||$c$$[$v$$]==mxConstants.DIRECTION_MASK_NORTH||$c$$[$v$$]==mxConstants.DIRECTION_MASK_EAST||$c$$[$v$$]==mxConstants.DIRECTION_MASK_SOUTH)&&($b$$[$v$$]=$c$$[$v$$]);$c$$=$b$$[0]==mxConstants.DIRECTION_MASK_EAST?3:$b$$[0];$z$$=$b$$[1]==mxConstants.DIRECTION_MASK_EAST?3:$b$$[1];$c$$-=$B$$;$z$$-=$B$$;1>$c$$&&($c$$+=4);1>$z$$&&($z$$+=4);$c$$=
mxEdgeStyle.routePatterns[$c$$-1][$z$$-1];mxEdgeStyle.wayPoints1[0][0]=$q$$[0][0];mxEdgeStyle.wayPoints1[0][1]=$q$$[0][1];switch($b$$[0]){case mxConstants.DIRECTION_MASK_WEST:mxEdgeStyle.wayPoints1[0][0]-=$f$$;mxEdgeStyle.wayPoints1[0][1]+=$l$$[0][1]*$q$$[0][3];break;case mxConstants.DIRECTION_MASK_SOUTH:mxEdgeStyle.wayPoints1[0][0]+=$l$$[0][0]*$q$$[0][2];mxEdgeStyle.wayPoints1[0][1]+=$q$$[0][3]+$f$$;break;case mxConstants.DIRECTION_MASK_EAST:mxEdgeStyle.wayPoints1[0][0]+=$q$$[0][2]+$f$$;mxEdgeStyle.wayPoints1[0][1]+=
$l$$[0][1]*$q$$[0][3];break;case mxConstants.DIRECTION_MASK_NORTH:mxEdgeStyle.wayPoints1[0][0]+=$l$$[0][0]*$q$$[0][2],mxEdgeStyle.wayPoints1[0][1]-=$f$$}$f$$=0;$m$$=$z$$=0<($b$$[0]&(mxConstants.DIRECTION_MASK_EAST|mxConstants.DIRECTION_MASK_WEST))?0:1;for($v$$=0;$v$$<$c$$.length;$v$$++)$n$$=$c$$[$v$$]&15,$u$$=$n$$==mxConstants.DIRECTION_MASK_EAST?3:$n$$,$u$$+=$B$$,4<$u$$&&($u$$-=4),$p$$=mxEdgeStyle.dirVectors[$u$$-1],$n$$=0<$u$$%2?0:1,$n$$!=$z$$&&($f$$++,mxEdgeStyle.wayPoints1[$f$$][0]=mxEdgeStyle.wayPoints1[$f$$-
1][0],mxEdgeStyle.wayPoints1[$f$$][1]=mxEdgeStyle.wayPoints1[$f$$-1][1]),$x$$=0<($c$$[$v$$]&mxEdgeStyle.TARGET_MASK),$y$$=0<($c$$[$v$$]&mxEdgeStyle.SOURCE_MASK),$r$$=($c$$[$v$$]&mxEdgeStyle.SIDE_MASK)>>5,$r$$<<=$B$$,15<$r$$&&($r$$>>=4),$t$$=0<($c$$[$v$$]&mxEdgeStyle.CENTER_MASK),($y$$||$x$$)&&9>$r$$?($u$$=$y$$?0:1,$r$$=$t$$&&0==$n$$?$q$$[$u$$][0]+$l$$[$u$$][0]*$q$$[$u$$][2]:$t$$?$q$$[$u$$][1]+$l$$[$u$$][1]*$q$$[$u$$][3]:mxEdgeStyle.limits[$u$$][$r$$],0==$n$$?($r$$=($r$$-mxEdgeStyle.wayPoints1[$f$$][0])*
$p$$[0],0<$r$$&&(mxEdgeStyle.wayPoints1[$f$$][0]+=$p$$[0]*$r$$)):($r$$=($r$$-mxEdgeStyle.wayPoints1[$f$$][1])*$p$$[1],0<$r$$&&(mxEdgeStyle.wayPoints1[$f$$][1]+=$p$$[1]*$r$$))):$t$$&&(mxEdgeStyle.wayPoints1[$f$$][0]+=$p$$[0]*Math.abs(mxEdgeStyle.vertexSeperations[$u$$]/2),mxEdgeStyle.wayPoints1[$f$$][1]+=$p$$[1]*Math.abs(mxEdgeStyle.vertexSeperations[$u$$]/2)),0<$f$$&&mxEdgeStyle.wayPoints1[$f$$][$n$$]==mxEdgeStyle.wayPoints1[$f$$-1][$n$$]?$f$$--:$z$$=$n$$;for($v$$=0;$v$$<=$f$$&&($v$$!=$f$$||((0<($b$$[1]&
(mxConstants.DIRECTION_MASK_EAST|mxConstants.DIRECTION_MASK_WEST))?0:1)==$m$$?0:1)==($f$$+1)%2);$v$$++)$e$$.push(new mxPoint(Math.round(mxEdgeStyle.wayPoints1[$v$$][0]*$a$$.view.scale*10)/10,Math.round(mxEdgeStyle.wayPoints1[$v$$][1]*$a$$.view.scale*10)/10));for($a$$=1;$a$$<$e$$.length;)null==$e$$[$a$$-1]||null==$e$$[$a$$]||$e$$[$a$$-1].x!=$e$$[$a$$].x||$e$$[$a$$-1].y!=$e$$[$a$$].y?$a$$++:$e$$.splice($a$$,1)}},getRoutePattern:function($a$$,$b$$,$c$$,$d$$){var $e$$=$a$$[0]==mxConstants.DIRECTION_MASK_EAST?
3:$a$$[0];$a$$=$a$$[1]==mxConstants.DIRECTION_MASK_EAST?3:$a$$[1];$e$$-=$b$$;$a$$-=$b$$;1>$e$$&&($e$$+=4);1>$a$$&&($a$$+=4);$b$$=routePatterns[$e$$-1][$a$$-1];0!=$c$$&&0!=$d$$||null==inlineRoutePatterns[$e$$-1][$a$$-1]||($b$$=inlineRoutePatterns[$e$$-1][$a$$-1]);return $b$$}},mxStyleRegistry={values:[],putValue:function($a$$,$b$$){mxStyleRegistry.values[$a$$]=$b$$},getValue:function($a$$){return mxStyleRegistry.values[$a$$]},getName:function($a$$){for(var $b$$ in mxStyleRegistry.values)if(mxStyleRegistry.values[$b$$]==
$a$$)return $b$$;return null}};mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ELBOW,mxEdgeStyle.ElbowConnector);mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ENTITY_RELATION,mxEdgeStyle.EntityRelation);mxStyleRegistry.putValue(mxConstants.EDGESTYLE_LOOP,mxEdgeStyle.Loop);mxStyleRegistry.putValue(mxConstants.EDGESTYLE_SIDETOSIDE,mxEdgeStyle.SideToSide);mxStyleRegistry.putValue(mxConstants.EDGESTYLE_TOPTOBOTTOM,mxEdgeStyle.TopToBottom);mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ORTHOGONAL,mxEdgeStyle.OrthConnector);
mxStyleRegistry.putValue(mxConstants.EDGESTYLE_SEGMENT,mxEdgeStyle.SegmentConnector);mxStyleRegistry.putValue(mxConstants.PERIMETER_ELLIPSE,mxPerimeter.EllipsePerimeter);mxStyleRegistry.putValue(mxConstants.PERIMETER_RECTANGLE,mxPerimeter.RectanglePerimeter);mxStyleRegistry.putValue(mxConstants.PERIMETER_RHOMBUS,mxPerimeter.RhombusPerimeter);mxStyleRegistry.putValue(mxConstants.PERIMETER_TRIANGLE,mxPerimeter.TrianglePerimeter);mxStyleRegistry.putValue(mxConstants.PERIMETER_HEXAGON,mxPerimeter.HexagonPerimeter);
function mxGraphView($a$$){this.graph=$a$$;this.translate=new mxPoint;this.graphBounds=new mxRectangle;this.states=new mxDictionary}mxGraphView.prototype=new mxEventSource;mxGraphView.prototype.constructor=mxGraphView;mxGraphView.prototype.EMPTY_POINT=new mxPoint;mxGraphView.prototype.doneResource="none"!=mxClient.language?"done":"";mxGraphView.prototype.updatingDocumentResource="none"!=mxClient.language?"updatingDocument":"";mxGraphView.prototype.allowEval=!1;
mxGraphView.prototype.captureDocumentGesture=!0;mxGraphView.prototype.rendering=!0;mxGraphView.prototype.graph=null;mxGraphView.prototype.currentRoot=null;mxGraphView.prototype.graphBounds=null;mxGraphView.prototype.scale=1;mxGraphView.prototype.translate=null;mxGraphView.prototype.states=null;mxGraphView.prototype.updateStyle=!1;mxGraphView.prototype.lastNode=null;mxGraphView.prototype.lastHtmlNode=null;mxGraphView.prototype.lastForegroundNode=null;mxGraphView.prototype.lastForegroundHtmlNode=null;
mxGraphView.prototype.getGraphBounds=function(){return this.graphBounds};mxGraphView.prototype.setGraphBounds=function($a$$){this.graphBounds=$a$$};mxGraphView.prototype.getBounds=function($a$$){var $b$$=null;if(null!=$a$$&&0<$a$$.length)for(var $c$$=this.graph.getModel(),$d$$=0;$d$$<$a$$.length;$d$$++)if($c$$.isVertex($a$$[$d$$])||$c$$.isEdge($a$$[$d$$])){var $e$$=this.getState($a$$[$d$$]);null!=$e$$&&(null==$b$$?$b$$=mxRectangle.fromRectangle($e$$):$b$$.add($e$$))}return $b$$};
mxGraphView.prototype.setCurrentRoot=function($a$$){if(this.currentRoot!=$a$$){var $b$$=new mxCurrentRootChange(this,$a$$);$b$$.execute();var $c$$=new mxUndoableEdit(this,!0);$c$$.add($b$$);this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",$c$$));this.graph.sizeDidChange()}return $a$$};
mxGraphView.prototype.scaleAndTranslate=function($a$$,$b$$,$c$$){var $d$$=this.scale,$e$$=new mxPoint(this.translate.x,this.translate.y);if(this.scale!=$a$$||this.translate.x!=$b$$||this.translate.y!=$c$$)this.scale=$a$$,this.translate.x=$b$$,this.translate.y=$c$$,this.isEventsEnabled()&&this.viewStateChanged();this.fireEvent(new mxEventObject(mxEvent.SCALE_AND_TRANSLATE,"scale",$a$$,"previousScale",$d$$,"translate",this.translate,"previousTranslate",$e$$))};mxGraphView.prototype.getScale=function(){return this.scale};
mxGraphView.prototype.setScale=function($a$$){var $b$$=this.scale;this.scale!=$a$$&&(this.scale=$a$$,this.isEventsEnabled()&&this.viewStateChanged());this.fireEvent(new mxEventObject(mxEvent.SCALE,"scale",$a$$,"previousScale",$b$$))};mxGraphView.prototype.getTranslate=function(){return this.translate};
mxGraphView.prototype.setTranslate=function($a$$,$b$$){var $c$$=new mxPoint(this.translate.x,this.translate.y);if(this.translate.x!=$a$$||this.translate.y!=$b$$)this.translate.x=$a$$,this.translate.y=$b$$,this.isEventsEnabled()&&this.viewStateChanged();this.fireEvent(new mxEventObject(mxEvent.TRANSLATE,"translate",this.translate,"previousTranslate",$c$$))};mxGraphView.prototype.viewStateChanged=function(){this.revalidate();this.graph.sizeDidChange()};
mxGraphView.prototype.refresh=function(){null!=this.currentRoot&&this.clear();this.revalidate()};mxGraphView.prototype.revalidate=function(){this.invalidate();this.validate()};mxGraphView.prototype.clear=function($a$$,$b$$,$c$$){var $d$$=this.graph.getModel();$a$$=$a$$||$d$$.getRoot();$b$$=null!=$b$$?$b$$:!1;$c$$=null!=$c$$?$c$$:!0;this.removeState($a$$);if($c$$&&($b$$||$a$$!=this.currentRoot)){$c$$=$d$$.getChildCount($a$$);for(var $e$$=0;$e$$<$c$$;$e$$++)this.clear($d$$.getChildAt($a$$,$e$$),$b$$)}else this.invalidate($a$$)};
mxGraphView.prototype.invalidate=function($a$$,$b$$,$c$$){var $d$$=this.graph.getModel();$a$$=$a$$||$d$$.getRoot();if(null!=$a$$){$b$$=null!=$b$$?$b$$:!0;$c$$=null!=$c$$?$c$$:!0;var $e$$=this.getState($a$$);null!=$e$$&&($e$$.invalid=!0);if(!$a$$.invalidating){$a$$.invalidating=!0;if($b$$){var $f$$=$d$$.getChildCount($a$$);for($e$$=0;$e$$<$f$$;$e$$++){var $g$$=$d$$.getChildAt($a$$,$e$$);this.invalidate($g$$,$b$$,$c$$)}}if($c$$)for($f$$=$d$$.getEdgeCount($a$$),$e$$=0;$e$$<$f$$;$e$$++)this.invalidate($d$$.getEdgeAt($a$$,
$e$$),$b$$,$c$$);delete $a$$.invalidating}}};
mxGraphView.prototype.validate=function($a$$){var $b$$=mxLog.enter("mxGraphView.validate");window.status=mxResources.get(this.updatingDocumentResource)||this.updatingDocumentResource;this.resetValidationState();var $c$$=null;null==this.canvas||null!=this.textDiv||8!=document.documentMode||mxClient.IS_EM||(this.placeholder=document.createElement("div"),this.placeholder.style.position="absolute",this.placeholder.style.width=this.canvas.clientWidth+"px",this.placeholder.style.height=this.canvas.clientHeight+
"px",this.canvas.parentNode.appendChild(this.placeholder),$c$$=this.drawPane.style.display,this.canvas.style.display="none",this.textDiv=document.createElement("div"),this.textDiv.style.position="absolute",this.textDiv.style.whiteSpace="nowrap",this.textDiv.style.visibility="hidden",this.textDiv.style.display="inline-block",this.textDiv.style.zoom="1",document.body.appendChild(this.textDiv));$a$$=null!=$a$$?$a$$:null!=this.currentRoot?this.currentRoot:this.graph.getModel().getRoot();$a$$=this.validateCellState(this.validateCell($a$$));
$a$$=this.getBoundingBox($a$$,!0,!0);this.setGraphBounds(null!=$a$$?$a$$:this.getEmptyBounds());this.validateBackground();null!=$c$$&&(this.canvas.style.display=$c$$,this.textDiv.parentNode.removeChild(this.textDiv),null!=this.placeholder&&this.placeholder.parentNode.removeChild(this.placeholder),this.textDiv=null);this.resetValidationState();window.status=mxResources.get(this.doneResource)||this.doneResource;mxLog.leave("mxGraphView.validate",$b$$)};
mxGraphView.prototype.getEmptyBounds=function(){return new mxRectangle(this.translate.x*this.scale,this.translate.y*this.scale)};mxGraphView.prototype.updateBoundingBox=function($a$$){null!=$a$$.shape&&$a$$.shape.updateBoundingBox();null!=$a$$.text&&$a$$.text.updateBoundingBox()};
mxGraphView.prototype.getBoundingBox=function($a$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:!0;$c$$=null!=$c$$?$c$$:!1;var $d$$=null;if(null!=$a$$){var $e$$=function($l$$){null==$l$$||null==$l$$.boundingBox||isNaN($l$$.boundingBox.x)||isNaN($l$$.boundingBox.y)||isNaN($l$$.boundingBox.width)||isNaN($l$$.boundingBox.height)||(null==$d$$?$d$$=$l$$.boundingBox.clone():$d$$.add($l$$.boundingBox))};$c$$&&this.updateBoundingBox($a$$);$e$$($a$$.shape);$e$$($a$$.text);if($b$$){$e$$=this.graph.getModel();for(var $f$$=
$e$$.getChildCount($a$$.cell),$g$$=0;$g$$<$f$$;$g$$++){var $k$$=this.getBoundingBox(this.getState($e$$.getChildAt($a$$.cell,$g$$)),$b$$,$c$$);null!=$k$$&&(null==$d$$?$d$$=$k$$:$d$$.add($k$$))}}}return $d$$};mxGraphView.prototype.createBackgroundPageShape=function($a$$){return new mxRectangleShape($a$$,"white","black")};mxGraphView.prototype.validateBackground=function(){this.validateBackgroundImage();this.validateBackgroundPage()};
mxGraphView.prototype.validateBackgroundImage=function(){var $a$$=this.graph.getBackgroundImage();if(null!=$a$$){if(null==this.backgroundImage||this.backgroundImage.image!=$a$$.src){null!=this.backgroundImage&&this.backgroundImage.destroy();var $b$$=new mxRectangle(0,0,1,1);this.backgroundImage=new mxImageShape($b$$,$a$$.src);this.backgroundImage.dialect=this.graph.dialect;this.backgroundImage.init(this.backgroundPane);this.backgroundImage.redraw();8!=document.documentMode||mxClient.IS_EM||mxEvent.addGestureListeners(this.backgroundImage.node,
mxUtils.bind(this,function($c$$){this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($c$$))}),mxUtils.bind(this,function($c$$){this.graph.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($c$$))}),mxUtils.bind(this,function($c$$){this.graph.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($c$$))}))}this.redrawBackgroundImage(this.backgroundImage,$a$$)}else null!=this.backgroundImage&&(this.backgroundImage.destroy(),this.backgroundImage=null)};
mxGraphView.prototype.validateBackgroundPage=function(){if(this.graph.pageVisible){var $a$$=this.getBackgroundPageBounds();null==this.backgroundPageShape?(this.backgroundPageShape=this.createBackgroundPageShape($a$$),this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.isShadow=!0,this.backgroundPageShape.dialect=this.graph.dialect,this.backgroundPageShape.init(this.backgroundPane),this.backgroundPageShape.redraw(),this.graph.nativeDblClickEnabled&&mxEvent.addListener(this.backgroundPageShape.node,
"dblclick",mxUtils.bind(this,function($b$$){this.graph.dblClick($b$$)})),mxEvent.addGestureListeners(this.backgroundPageShape.node,mxUtils.bind(this,function($b$$){this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($b$$))}),mxUtils.bind(this,function($b$$){null!=this.graph.tooltipHandler&&this.graph.tooltipHandler.isHideOnHover()&&this.graph.tooltipHandler.hide();this.graph.isMouseDown&&!mxEvent.isConsumed($b$$)&&this.graph.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($b$$))}),mxUtils.bind(this,
function($b$$){this.graph.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($b$$))}))):(this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.bounds=$a$$,this.backgroundPageShape.redraw())}else null!=this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null)};
mxGraphView.prototype.getBackgroundPageBounds=function(){var $a$$=this.graph.pageFormat,$b$$=this.scale*this.graph.pageScale;return new mxRectangle(this.scale*this.translate.x,this.scale*this.translate.y,$a$$.width*$b$$,$a$$.height*$b$$)};
mxGraphView.prototype.redrawBackgroundImage=function($a$$,$b$$){$b$$=new mxRectangle(this.scale*(this.translate.x+$b$$.x),this.scale*(this.translate.y+$b$$.y),this.scale*$b$$.width,this.scale*$b$$.height);$a$$.scale==this.scale&&$b$$.equals($a$$.bounds)||($a$$.scale=this.scale,$a$$.bounds=$b$$,$a$$.redraw())};
mxGraphView.prototype.validateCell=function($a$$,$b$$){if(null!=$a$$)if($b$$=(null!=$b$$?$b$$:!0)&&this.graph.isCellVisible($a$$),null==this.getState($a$$,$b$$)||$b$$)for(var $c$$=this.graph.getModel(),$d$$=$c$$.getChildCount($a$$),$e$$=0;$e$$<$d$$;$e$$++)this.validateCell($c$$.getChildAt($a$$,$e$$),$b$$&&(!this.isCellCollapsed($a$$)||$a$$==this.currentRoot));else this.removeState($a$$);return $a$$};
mxGraphView.prototype.validateCellState=function($a$$,$b$$){$b$$=null!=$b$$?$b$$:!0;var $c$$=null;if(null!=$a$$&&($c$$=this.getState($a$$),null!=$c$$)){var $d$$=this.graph.getModel();if($c$$.invalid){$c$$.invalid=!1;if(null==$c$$.style||$c$$.invalidStyle)$c$$.style=this.graph.getCellStyle($c$$.cell),$c$$.invalidStyle=!1;$a$$!=this.currentRoot&&this.validateCellState($d$$.getParent($a$$),!1);$c$$.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal($a$$,!0),!1),!0);$c$$.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal($a$$,
!1),!1),!1);this.updateCellState($c$$);$a$$==this.currentRoot||$c$$.invalid||(this.graph.cellRenderer.redraw($c$$,!1,this.isRendering()),$c$$.updateCachedBounds())}if($b$$&&!$c$$.invalid){null!=$c$$.shape&&this.stateValidated($c$$);$b$$=$d$$.getChildCount($a$$);for(var $e$$=0;$e$$<$b$$;$e$$++)this.validateCellState($d$$.getChildAt($a$$,$e$$))}}return $c$$};
mxGraphView.prototype.updateCellState=function($a$$){$a$$.absoluteOffset.x=0;$a$$.absoluteOffset.y=0;$a$$.origin.x=0;$a$$.origin.y=0;$a$$.length=0;if($a$$.cell!=this.currentRoot){var $b$$=this.graph.getModel(),$c$$=this.getState($b$$.getParent($a$$.cell));null!=$c$$&&$c$$.cell!=this.currentRoot&&($a$$.origin.x+=$c$$.origin.x,$a$$.origin.y+=$c$$.origin.y);var $d$$=this.graph.getChildOffsetForCell($a$$.cell);null!=$d$$&&($a$$.origin.x+=$d$$.x,$a$$.origin.y+=$d$$.y);var $e$$=this.graph.getCellGeometry($a$$.cell);
null!=$e$$&&($b$$.isEdge($a$$.cell)||($d$$=null!=$e$$.offset?$e$$.offset:this.EMPTY_POINT,$e$$.relative&&null!=$c$$?$b$$.isEdge($c$$.cell)?($d$$=this.getPoint($c$$,$e$$),null!=$d$$&&($a$$.origin.x+=$d$$.x/this.scale-$c$$.origin.x-this.translate.x,$a$$.origin.y+=$d$$.y/this.scale-$c$$.origin.y-this.translate.y)):($a$$.origin.x+=$e$$.x*$c$$.unscaledWidth+$d$$.x,$a$$.origin.y+=$e$$.y*$c$$.unscaledHeight+$d$$.y):($a$$.absoluteOffset.x=this.scale*$d$$.x,$a$$.absoluteOffset.y=this.scale*$d$$.y,$a$$.origin.x+=
$e$$.x,$a$$.origin.y+=$e$$.y)),$a$$.x=this.scale*(this.translate.x+$a$$.origin.x),$a$$.y=this.scale*(this.translate.y+$a$$.origin.y),$a$$.width=this.scale*$e$$.width,$a$$.unscaledWidth=$e$$.width,$a$$.height=this.scale*$e$$.height,$a$$.unscaledHeight=$e$$.height,$b$$.isVertex($a$$.cell)&&this.updateVertexState($a$$,$e$$),$b$$.isEdge($a$$.cell)&&this.updateEdgeState($a$$,$e$$))}$a$$.updateCachedBounds()};mxGraphView.prototype.isCellCollapsed=function($a$$){return this.graph.isCellCollapsed($a$$)};
mxGraphView.prototype.updateVertexState=function($a$$,$b$$){var $c$$=this.graph.getModel(),$d$$=this.getState($c$$.getParent($a$$.cell));if($b$$.relative&&null!=$d$$&&!$c$$.isEdge($d$$.cell)&&($c$$=mxUtils.toRadians($d$$.style[mxConstants.STYLE_ROTATION]||"0"),0!=$c$$)){$b$$=Math.cos($c$$);$c$$=Math.sin($c$$);var $e$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY());$d$$=new mxPoint($d$$.getCenterX(),$d$$.getCenterY());$d$$=mxUtils.getRotatedPoint($e$$,$b$$,$c$$,$d$$);$a$$.x=$d$$.x-$a$$.width/2;$a$$.y=
$d$$.y-$a$$.height/2}this.updateVertexLabelOffset($a$$)};
mxGraphView.prototype.updateEdgeState=function($a$$,$b$$){var $c$$=$a$$.getVisibleTerminalState(!0),$d$$=$a$$.getVisibleTerminalState(!1);null!=this.graph.model.getTerminal($a$$.cell,!0)&&null==$c$$||null==$c$$&&null==$b$$.getTerminalPoint(!0)||null!=this.graph.model.getTerminal($a$$.cell,!1)&&null==$d$$||null==$d$$&&null==$b$$.getTerminalPoint(!1)?this.clear($a$$.cell,!0):(this.updateFixedTerminalPoints($a$$,$c$$,$d$$),this.updatePoints($a$$,$b$$.points,$c$$,$d$$),this.updateFloatingTerminalPoints($a$$,
$c$$,$d$$),$b$$=$a$$.absolutePoints,$a$$.cell!=this.currentRoot&&(null==$b$$||2>$b$$.length||null==$b$$[0]||null==$b$$[$b$$.length-1])?this.clear($a$$.cell,!0):(this.updateEdgeBounds($a$$),this.updateEdgeLabelOffset($a$$)))};
mxGraphView.prototype.updateVertexLabelOffset=function($a$$){var $b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER);if($b$$==mxConstants.ALIGN_LEFT)$b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_WIDTH,null),$b$$=null!=$b$$?$b$$*this.scale:$a$$.width,$a$$.absoluteOffset.x-=$b$$;else if($b$$==mxConstants.ALIGN_RIGHT)$a$$.absoluteOffset.x+=$a$$.width;else if($b$$==mxConstants.ALIGN_CENTER&&($b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_WIDTH,
null),null!=$b$$)){var $c$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER),$d$$=0;$c$$==mxConstants.ALIGN_CENTER?$d$$=.5:$c$$==mxConstants.ALIGN_RIGHT&&($d$$=1);0!=$d$$&&($a$$.absoluteOffset.x-=($b$$*this.scale-$a$$.width)*$d$$)}$b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);$b$$==mxConstants.ALIGN_TOP?$a$$.absoluteOffset.y-=$a$$.height:$b$$==mxConstants.ALIGN_BOTTOM&&($a$$.absoluteOffset.y+=$a$$.height)};
mxGraphView.prototype.resetValidationState=function(){this.lastForegroundHtmlNode=this.lastForegroundNode=this.lastHtmlNode=this.lastNode=null};
mxGraphView.prototype.stateValidated=function($a$$){var $b$$=this.graph.getModel().isEdge($a$$.cell)&&this.graph.keepEdgesInForeground||this.graph.getModel().isVertex($a$$.cell)&&this.graph.keepEdgesInBackground;$a$$=this.graph.cellRenderer.insertStateAfter($a$$,$b$$?this.lastForegroundNode||this.lastNode:this.lastNode,$b$$?this.lastForegroundHtmlNode||this.lastHtmlNode:this.lastHtmlNode);$b$$?(this.lastForegroundHtmlNode=$a$$[1],this.lastForegroundNode=$a$$[0]):(this.lastHtmlNode=$a$$[1],this.lastNode=
$a$$[0])};mxGraphView.prototype.updateFixedTerminalPoints=function($a$$,$b$$,$c$$){this.updateFixedTerminalPoint($a$$,$b$$,!0,this.graph.getConnectionConstraint($a$$,$b$$,!0));this.updateFixedTerminalPoint($a$$,$c$$,!1,this.graph.getConnectionConstraint($a$$,$c$$,!1))};mxGraphView.prototype.updateFixedTerminalPoint=function($a$$,$b$$,$c$$,$d$$){$a$$.setAbsoluteTerminalPoint(this.getFixedTerminalPoint($a$$,$b$$,$c$$,$d$$),$c$$)};
mxGraphView.prototype.getFixedTerminalPoint=function($a$$,$b$$,$c$$,$d$$){var $e$$=null;null!=$d$$&&($e$$=this.graph.getConnectionPoint($b$$,$d$$,!1));if(null==$e$$&&null==$b$$){$b$$=this.scale;$d$$=this.translate;var $f$$=$a$$.origin;$e$$=this.graph.getCellGeometry($a$$.cell).getTerminalPoint($c$$);null!=$e$$&&($e$$=new mxPoint($b$$*($d$$.x+$e$$.x+$f$$.x),$b$$*($d$$.y+$e$$.y+$f$$.y)))}return $e$$};
mxGraphView.prototype.updateBoundsFromStencil=function($a$$){var $b$$=null;if(null!=$a$$&&null!=$a$$.shape&&null!=$a$$.shape.stencil&&"fixed"==$a$$.shape.stencil.aspect){$b$$=mxRectangle.fromRectangle($a$$);var $c$$=$a$$.shape.stencil.computeAspect($a$$.style,$a$$.x,$a$$.y,$a$$.width,$a$$.height);$a$$.setRect($c$$.x,$c$$.y,$a$$.shape.stencil.w0*$c$$.width,$a$$.shape.stencil.h0*$c$$.height)}return $b$$};
mxGraphView.prototype.updatePoints=function($a$$,$b$$,$c$$,$d$$){if(null!=$a$$){var $e$$=[];$e$$.push($a$$.absolutePoints[0]);var $f$$=this.getEdgeStyle($a$$,$b$$,$c$$,$d$$);if(null!=$f$$){$c$$=this.getTerminalPort($a$$,$c$$,!0);$d$$=this.getTerminalPort($a$$,$d$$,!1);var $g$$=this.updateBoundsFromStencil($c$$),$k$$=this.updateBoundsFromStencil($d$$);$f$$($a$$,$c$$,$d$$,$b$$,$e$$);null!=$g$$&&$c$$.setRect($g$$.x,$g$$.y,$g$$.width,$g$$.height);null!=$k$$&&$d$$.setRect($k$$.x,$k$$.y,$k$$.width,$k$$.height)}else if(null!=
$b$$)for($f$$=0;$f$$<$b$$.length;$f$$++)null!=$b$$[$f$$]&&($c$$=mxUtils.clone($b$$[$f$$]),$e$$.push(this.transformControlPoint($a$$,$c$$)));$b$$=$a$$.absolutePoints;$e$$.push($b$$[$b$$.length-1]);$a$$.absolutePoints=$e$$}};mxGraphView.prototype.transformControlPoint=function($a$$,$b$$,$c$$){return null!=$a$$&&null!=$b$$?($a$$=$a$$.origin,$c$$=$c$$?1:this.scale,new mxPoint($c$$*($b$$.x+this.translate.x+$a$$.x),$c$$*($b$$.y+this.translate.y+$a$$.y))):null};
mxGraphView.prototype.isLoopStyleEnabled=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.graph.getConnectionConstraint($a$$,$c$$,!0),$f$$=this.graph.getConnectionConstraint($a$$,$d$$,!1);return!(null==$b$$||2>$b$$.length)||mxUtils.getValue($a$$.style,mxConstants.STYLE_ORTHOGONAL_LOOP,!1)&&(null!=$e$$&&null!=$e$$.point||null!=$f$$&&null!=$f$$.point)?!1:null!=$c$$&&$c$$==$d$$};
mxGraphView.prototype.getEdgeStyle=function($a$$,$b$$,$c$$,$d$$){$a$$=this.isLoopStyleEnabled($a$$,$b$$,$c$$,$d$$)?mxUtils.getValue($a$$.style,mxConstants.STYLE_LOOP,this.graph.defaultLoopStyle):mxUtils.getValue($a$$.style,mxConstants.STYLE_NOEDGESTYLE,!1)?null:$a$$.style[mxConstants.STYLE_EDGE];"string"==typeof $a$$&&($b$$=mxStyleRegistry.getValue($a$$),null==$b$$&&this.isAllowEval()&&($b$$=mxUtils.eval($a$$)),$a$$=$b$$);return"function"==typeof $a$$?$a$$:null};
mxGraphView.prototype.updateFloatingTerminalPoints=function($a$$,$b$$,$c$$){var $d$$=$a$$.absolutePoints,$e$$=$d$$[0];null==$d$$[$d$$.length-1]&&null!=$c$$&&this.updateFloatingTerminalPoint($a$$,$c$$,$b$$,!1);null==$e$$&&null!=$b$$&&this.updateFloatingTerminalPoint($a$$,$b$$,$c$$,!0)};mxGraphView.prototype.updateFloatingTerminalPoint=function($a$$,$b$$,$c$$,$d$$){$a$$.setAbsoluteTerminalPoint(this.getFloatingTerminalPoint($a$$,$b$$,$c$$,$d$$),$d$$)};
mxGraphView.prototype.getFloatingTerminalPoint=function($a$$,$b$$,$c$$,$d$$){$b$$=this.getTerminalPort($a$$,$b$$,$d$$);var $e$$=this.getNextPoint($a$$,$c$$,$d$$),$f$$=this.graph.isOrthogonal($a$$);$c$$=mxUtils.toRadians(Number($b$$.style[mxConstants.STYLE_ROTATION]||"0"));var $g$$=new mxPoint($b$$.getCenterX(),$b$$.getCenterY());if(0!=$c$$){var $k$$=Math.cos(-$c$$),$l$$=Math.sin(-$c$$);$e$$=mxUtils.getRotatedPoint($e$$,$k$$,$l$$,$g$$)}$k$$=parseFloat($a$$.style[mxConstants.STYLE_PERIMETER_SPACING]||
0);$k$$+=parseFloat($a$$.style[$d$$?mxConstants.STYLE_SOURCE_PERIMETER_SPACING:mxConstants.STYLE_TARGET_PERIMETER_SPACING]||0);$a$$=this.getPerimeterPoint($b$$,$e$$,0==$c$$&&$f$$,$k$$);0!=$c$$&&($k$$=Math.cos($c$$),$l$$=Math.sin($c$$),$a$$=mxUtils.getRotatedPoint($a$$,$k$$,$l$$,$g$$));return $a$$};
mxGraphView.prototype.getTerminalPort=function($a$$,$b$$,$c$$){$a$$=mxUtils.getValue($a$$.style,$c$$?mxConstants.STYLE_SOURCE_PORT:mxConstants.STYLE_TARGET_PORT);null!=$a$$&&($a$$=this.getState(this.graph.getModel().getCell($a$$)),null!=$a$$&&($b$$=$a$$));return $b$$};
mxGraphView.prototype.getPerimeterPoint=function($a$$,$b$$,$c$$,$d$$){var $e$$=null;if(null!=$a$$){var $f$$=this.getPerimeterFunction($a$$);if(null!=$f$$&&null!=$b$$&&($d$$=this.getPerimeterBounds($a$$,$d$$),0<$d$$.width||0<$d$$.height)){$e$$=new mxPoint($b$$.x,$b$$.y);var $g$$=$b$$=!1;this.graph.model.isVertex($a$$.cell)&&($b$$=1==mxUtils.getValue($a$$.style,mxConstants.STYLE_FLIPH,0),$g$$=1==mxUtils.getValue($a$$.style,mxConstants.STYLE_FLIPV,0),null!=$a$$.shape&&null!=$a$$.shape.stencil&&($b$$=
1==mxUtils.getValue($a$$.style,"stencilFlipH",0)||$b$$,$g$$=1==mxUtils.getValue($a$$.style,"stencilFlipV",0)||$g$$),$b$$&&($e$$.x=2*$d$$.getCenterX()-$e$$.x),$g$$&&($e$$.y=2*$d$$.getCenterY()-$e$$.y));$e$$=$f$$($d$$,$a$$,$e$$,$c$$);null!=$e$$&&($b$$&&($e$$.x=2*$d$$.getCenterX()-$e$$.x),$g$$&&($e$$.y=2*$d$$.getCenterY()-$e$$.y))}null==$e$$&&($e$$=this.getPoint($a$$))}return $e$$};
mxGraphView.prototype.getRoutingCenterX=function($a$$){var $b$$=null!=$a$$.style?parseFloat($a$$.style[mxConstants.STYLE_ROUTING_CENTER_X])||0:0;return $a$$.getCenterX()+$b$$*$a$$.width};mxGraphView.prototype.getRoutingCenterY=function($a$$){var $b$$=null!=$a$$.style?parseFloat($a$$.style[mxConstants.STYLE_ROUTING_CENTER_Y])||0:0;return $a$$.getCenterY()+$b$$*$a$$.height};
mxGraphView.prototype.getPerimeterBounds=function($a$$,$b$$){$b$$=null!=$b$$?$b$$:0;null!=$a$$&&($b$$+=parseFloat($a$$.style[mxConstants.STYLE_PERIMETER_SPACING]||0));return $a$$.getPerimeterBounds($b$$*this.scale)};mxGraphView.prototype.getPerimeterFunction=function($a$$){$a$$=$a$$.style[mxConstants.STYLE_PERIMETER];if("string"==typeof $a$$){var $b$$=mxStyleRegistry.getValue($a$$);null==$b$$&&this.isAllowEval()&&($b$$=mxUtils.eval($a$$));$a$$=$b$$}return"function"==typeof $a$$?$a$$:null};
mxGraphView.prototype.getNextPoint=function($a$$,$b$$,$c$$){$a$$=$a$$.absolutePoints;var $d$$=null;null!=$a$$&&2<=$a$$.length&&($d$$=$a$$.length,$d$$=$a$$[$c$$?Math.min(1,$d$$-1):Math.max(0,$d$$-2)]);null==$d$$&&null!=$b$$&&($d$$=new mxPoint($b$$.getCenterX(),$b$$.getCenterY()));return $d$$};
mxGraphView.prototype.getVisibleTerminal=function($a$$,$b$$){var $c$$=this.graph.getModel();for($b$$=$a$$=$c$$.getTerminal($a$$,$b$$);null!=$a$$&&$a$$!=this.currentRoot;){if(!this.graph.isCellVisible($b$$)||this.isCellCollapsed($a$$))$b$$=$a$$;$a$$=$c$$.getParent($a$$)}null==$b$$||$c$$.contains($b$$)&&$c$$.getParent($b$$)!=$c$$.getRoot()&&$b$$!=this.currentRoot||($b$$=null);return $b$$};
mxGraphView.prototype.updateEdgeBounds=function($a$$){var $b$$=$a$$.absolutePoints,$c$$=$b$$[0],$d$$=$b$$[$b$$.length-1];if($c$$.x!=$d$$.x||$c$$.y!=$d$$.y){var $e$$=$d$$.x-$c$$.x,$f$$=$d$$.y-$c$$.y;$a$$.terminalDistance=Math.sqrt($e$$*$e$$+$f$$*$f$$)}else $a$$.terminalDistance=0;$d$$=0;var $g$$=[];$f$$=$c$$;if(null!=$f$$){$c$$=$f$$.x;for(var $k$$=$f$$.y,$l$$=$c$$,$m$$=$k$$,$n$$=1;$n$$<$b$$.length;$n$$++){var $p$$=$b$$[$n$$];null!=$p$$&&($e$$=$f$$.x-$p$$.x,$f$$=$f$$.y-$p$$.y,$e$$=Math.sqrt($e$$*$e$$+
$f$$*$f$$),$g$$.push($e$$),$d$$+=$e$$,$f$$=$p$$,$c$$=Math.min($f$$.x,$c$$),$k$$=Math.min($f$$.y,$k$$),$l$$=Math.max($f$$.x,$l$$),$m$$=Math.max($f$$.y,$m$$))}$a$$.length=$d$$;$a$$.segments=$g$$;$a$$.x=$c$$;$a$$.y=$k$$;$a$$.width=Math.max(1,$l$$-$c$$);$a$$.height=Math.max(1,$m$$-$k$$)}};
mxGraphView.prototype.getPoint=function($a$$,$b$$){var $c$$=$a$$.getCenterX(),$d$$=$a$$.getCenterY();if(null==$a$$.segments||null!=$b$$&&!$b$$.relative)null!=$b$$&&($b$$=$b$$.offset,null!=$b$$&&($c$$+=$b$$.x,$d$$+=$b$$.y));else{for(var $e$$=$a$$.absolutePoints.length,$f$$=Math.round(((null!=$b$$?$b$$.x/2:0)+.5)*$a$$.length),$g$$=$a$$.segments[0],$k$$=0,$l$$=1;$f$$>=Math.round($k$$+$g$$)&&$l$$<$e$$-1;)$k$$+=$g$$,$g$$=$a$$.segments[$l$$++];$e$$=0==$g$$?0:($f$$-$k$$)/$g$$;$f$$=$a$$.absolutePoints[$l$$-
1];$a$$=$a$$.absolutePoints[$l$$];null!=$f$$&&null!=$a$$&&($l$$=$c$$=$d$$=0,null!=$b$$&&($d$$=$b$$.y,$b$$=$b$$.offset,null!=$b$$&&($c$$=$b$$.x,$l$$=$b$$.y)),$b$$=$a$$.x-$f$$.x,$a$$=$a$$.y-$f$$.y,$c$$=$f$$.x+$b$$*$e$$+((0==$g$$?0:$a$$/$g$$)*$d$$+$c$$)*this.scale,$d$$=$f$$.y+$a$$*$e$$-((0==$g$$?0:$b$$/$g$$)*$d$$-$l$$)*this.scale)}return new mxPoint($c$$,$d$$)};
mxGraphView.prototype.getRelativePoint=function($a$$,$b$$,$c$$){var $d$$=this.graph.getModel().getGeometry($a$$.cell);if(null!=$d$$){var $e$$=$a$$.absolutePoints.length;if($d$$.relative&&1<$e$$){$d$$=$a$$.length;for(var $f$$=$a$$.segments,$g$$=$a$$.absolutePoints[0],$k$$=$a$$.absolutePoints[1],$l$$=mxUtils.ptSegDistSq($g$$.x,$g$$.y,$k$$.x,$k$$.y,$b$$,$c$$),$m$$=0,$n$$=0,$p$$=0,$q$$=2;$q$$<$e$$;$q$$++)$g$$=$k$$,$k$$=$a$$.absolutePoints[$q$$],$g$$=mxUtils.ptSegDistSq($g$$.x,$g$$.y,$k$$.x,$k$$.y,$b$$,
$c$$),$p$$+=$f$$[$q$$-2],$g$$<=$l$$&&($l$$=$g$$,$n$$=$q$$-1,$m$$=$p$$);$e$$=$f$$[$n$$];$g$$=$a$$.absolutePoints[$n$$];$k$$=$a$$.absolutePoints[$n$$+1];$l$$=$k$$.x;$f$$=$k$$.y;$a$$=$g$$.x-$l$$;$n$$=$g$$.y-$f$$;$f$$=($a$$-($b$$-$l$$))*$a$$+($n$$-($c$$-$f$$))*$n$$;$a$$=Math.sqrt(0>=$f$$?0:$f$$*$f$$/($a$$*$a$$+$n$$*$n$$));$a$$>$e$$&&($a$$=$e$$);$e$$=Math.sqrt(mxUtils.ptSegDistSq($g$$.x,$g$$.y,$k$$.x,$k$$.y,$b$$,$c$$));-1==mxUtils.relativeCcw($g$$.x,$g$$.y,$k$$.x,$k$$.y,$b$$,$c$$)&&($e$$=-$e$$);return new mxPoint(($d$$/
2-$m$$-$a$$)/$d$$*-2,$e$$/this.scale)}}return new mxPoint};
mxGraphView.prototype.updateEdgeLabelOffset=function($a$$){var $b$$=$a$$.absolutePoints;$a$$.absoluteOffset.x=$a$$.getCenterX();$a$$.absoluteOffset.y=$a$$.getCenterY();if(null!=$b$$&&0<$b$$.length&&null!=$a$$.segments){var $c$$=this.graph.getCellGeometry($a$$.cell);if($c$$.relative){var $d$$=this.getPoint($a$$,$c$$);null!=$d$$&&($a$$.absoluteOffset=$d$$)}else{$d$$=$b$$[0];var $e$$=$b$$[$b$$.length-1];if(null!=$d$$&&null!=$e$$){$b$$=$e$$.x-$d$$.x;var $f$$=$e$$.y-$d$$.y,$g$$=$e$$=0;$c$$=$c$$.offset;
null!=$c$$&&($e$$=$c$$.x,$g$$=$c$$.y);$c$$=$d$$.y+$f$$/2+$g$$*this.scale;$a$$.absoluteOffset.x=$d$$.x+$b$$/2+$e$$*this.scale;$a$$.absoluteOffset.y=$c$$}}}};mxGraphView.prototype.getState=function($a$$,$b$$){$b$$=$b$$||!1;var $c$$=null;null!=$a$$&&($c$$=this.states.get($a$$),$b$$&&(null==$c$$||this.updateStyle)&&this.graph.isCellVisible($a$$)&&(null==$c$$?($c$$=this.createState($a$$),this.states.put($a$$,$c$$)):$c$$.style=this.graph.getCellStyle($a$$)));return $c$$};
mxGraphView.prototype.isRendering=function(){return this.rendering};mxGraphView.prototype.setRendering=function($a$$){this.rendering=$a$$};mxGraphView.prototype.isAllowEval=function(){return this.allowEval};mxGraphView.prototype.setAllowEval=function($a$$){this.allowEval=$a$$};mxGraphView.prototype.getStates=function(){return this.states};mxGraphView.prototype.setStates=function($a$$){this.states=$a$$};
mxGraphView.prototype.getCellStates=function($a$$){if(null==$a$$)return this.states;for(var $b$$=[],$c$$=0;$c$$<$a$$.length;$c$$++){var $d$$=this.getState($a$$[$c$$]);null!=$d$$&&$b$$.push($d$$)}return $b$$};mxGraphView.prototype.removeState=function($a$$){var $b$$=null;null!=$a$$&&($b$$=this.states.remove($a$$),null!=$b$$&&(this.graph.cellRenderer.destroy($b$$),$b$$.invalid=!0,$b$$.destroy()));return $b$$};mxGraphView.prototype.createState=function($a$$){return new mxCellState(this,$a$$,this.graph.getCellStyle($a$$))};
mxGraphView.prototype.getCanvas=function(){return this.canvas};mxGraphView.prototype.getBackgroundPane=function(){return this.backgroundPane};mxGraphView.prototype.getDrawPane=function(){return this.drawPane};mxGraphView.prototype.getOverlayPane=function(){return this.overlayPane};mxGraphView.prototype.getDecoratorPane=function(){return this.decoratorPane};
mxGraphView.prototype.isContainerEvent=function($a$$){$a$$=mxEvent.getSource($a$$);return $a$$==this.graph.container||$a$$.parentNode==this.backgroundPane||null!=$a$$.parentNode&&$a$$.parentNode.parentNode==this.backgroundPane||$a$$==this.canvas.parentNode||$a$$==this.canvas||$a$$==this.backgroundPane||$a$$==this.drawPane||$a$$==this.overlayPane||$a$$==this.decoratorPane};
mxGraphView.prototype.isScrollEvent=function($a$$){var $b$$=mxUtils.getOffset(this.graph.container);$a$$=new mxPoint($a$$.clientX-$b$$.x,$a$$.clientY-$b$$.y);$b$$=this.graph.container.offsetWidth;var $c$$=this.graph.container.clientWidth;if($b$$>$c$$&&$a$$.x>$c$$+2&&$a$$.x<=$b$$)return!0;$b$$=this.graph.container.offsetHeight;$c$$=this.graph.container.clientHeight;return $b$$>$c$$&&$a$$.y>$c$$+2&&$a$$.y<=$b$$?!0:!1};
mxGraphView.prototype.init=function(){this.installListeners();this.graph.dialect==mxConstants.DIALECT_SVG?this.createSvg():this.createHtml()};
mxGraphView.prototype.installListeners=function(){var $a$$=this.graph,$b$$=$a$$.container;null!=$b$$&&(mxClient.IS_TOUCH&&(mxEvent.addListener($b$$,"gesturestart",mxUtils.bind(this,function($c$$){$a$$.fireGestureEvent($c$$);mxEvent.consume($c$$)})),mxEvent.addListener($b$$,"gesturechange",mxUtils.bind(this,function($c$$){$a$$.fireGestureEvent($c$$);mxEvent.consume($c$$)})),mxEvent.addListener($b$$,"gestureend",mxUtils.bind(this,function($c$$){$a$$.fireGestureEvent($c$$);mxEvent.consume($c$$)}))),
mxEvent.addGestureListeners($b$$,mxUtils.bind(this,function($c$$){!this.isContainerEvent($c$$)||(mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_GC||mxClient.IS_OP||mxClient.IS_SF)&&this.isScrollEvent($c$$)||$a$$.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($c$$))}),mxUtils.bind(this,function($c$$){this.isContainerEvent($c$$)&&$a$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($c$$))}),mxUtils.bind(this,function($c$$){this.isContainerEvent($c$$)&&$a$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($c$$))})),
mxEvent.addListener($b$$,"dblclick",mxUtils.bind(this,function($c$$){this.isContainerEvent($c$$)&&$a$$.dblClick($c$$)})),$a$$.addMouseListener({mouseDown:function($c$$,$d$$){$a$$.popupMenuHandler.hideMenu()},mouseMove:function(){},mouseUp:function(){}}),this.moveHandler=mxUtils.bind(this,function($c$$){null!=$a$$.tooltipHandler&&$a$$.tooltipHandler.isHideOnHover()&&$a$$.tooltipHandler.hide();if(this.captureDocumentGesture&&$a$$.isMouseDown&&null!=$a$$.container&&!this.isContainerEvent($c$$)&&"none"!=
$a$$.container.style.display&&"hidden"!=$a$$.container.style.visibility&&!mxEvent.isConsumed($c$$)){var $d$$=$a$$.fireMouseEvent,$e$$=mxEvent.MOUSE_MOVE,$f$$=null;if(mxClient.IS_TOUCH){$f$$=mxEvent.getClientX($c$$);var $g$$=mxEvent.getClientY($c$$);$f$$=mxUtils.convertPoint($b$$,$f$$,$g$$);$f$$=$a$$.view.getState($a$$.getCellAt($f$$.x,$f$$.y))}$d$$.call($a$$,$e$$,new mxMouseEvent($c$$,$f$$))}}),this.endHandler=mxUtils.bind(this,function($c$$){this.captureDocumentGesture&&$a$$.isMouseDown&&null!=$a$$.container&&
!this.isContainerEvent($c$$)&&"none"!=$a$$.container.style.display&&"hidden"!=$a$$.container.style.visibility&&$a$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($c$$))}),mxEvent.addGestureListeners(document,null,this.moveHandler,this.endHandler))};
mxGraphView.prototype.createHtml=function(){var $a$$=this.graph.container;null!=$a$$&&(this.canvas=this.createHtmlPane("100%","100%"),this.canvas.style.overflow="hidden",this.backgroundPane=this.createHtmlPane("1px","1px"),this.drawPane=this.createHtmlPane("1px","1px"),this.overlayPane=this.createHtmlPane("1px","1px"),this.decoratorPane=this.createHtmlPane("1px","1px"),this.canvas.appendChild(this.backgroundPane),this.canvas.appendChild(this.drawPane),this.canvas.appendChild(this.overlayPane),this.canvas.appendChild(this.decoratorPane),
$a$$.appendChild(this.canvas),this.updateContainerStyle($a$$))};mxGraphView.prototype.updateHtmlCanvasSize=function($a$$,$b$$){if(null!=this.graph.container){var $c$$=this.graph.container.offsetHeight;this.canvas.style.width=this.graph.container.offsetWidth<$a$$?$a$$+"px":"100%";this.canvas.style.height=$c$$<$b$$?$b$$+"px":"100%"}};
mxGraphView.prototype.createHtmlPane=function($a$$,$b$$){var $c$$=document.createElement("DIV");null!=$a$$&&null!=$b$$?($c$$.style.position="absolute",$c$$.style.left="0px",$c$$.style.top="0px",$c$$.style.width=$a$$,$c$$.style.height=$b$$):$c$$.style.position="relative";return $c$$};
mxGraphView.prototype.createSvg=function(){var $a$$=this.graph.container;this.canvas=document.createElementNS(mxConstants.NS_SVG,"g");this.backgroundPane=document.createElementNS(mxConstants.NS_SVG,"g");this.canvas.appendChild(this.backgroundPane);this.drawPane=document.createElementNS(mxConstants.NS_SVG,"g");this.canvas.appendChild(this.drawPane);this.overlayPane=document.createElementNS(mxConstants.NS_SVG,"g");this.canvas.appendChild(this.overlayPane);this.decoratorPane=document.createElementNS(mxConstants.NS_SVG,
"g");this.canvas.appendChild(this.decoratorPane);var $b$$=document.createElementNS(mxConstants.NS_SVG,"svg");$b$$.style.left="0px";$b$$.style.top="0px";$b$$.style.width="100%";$b$$.style.height="100%";$b$$.style.display="block";$b$$.appendChild(this.canvas);if(mxClient.IS_IE||mxClient.IS_IE11)$b$$.style.overflow="hidden";null!=$a$$&&($a$$.appendChild($b$$),this.updateContainerStyle($a$$))};
mxGraphView.prototype.updateContainerStyle=function($a$$){var $b$$=mxUtils.getCurrentStyle($a$$);null!=$b$$&&"static"==$b$$.position&&($a$$.style.position="relative");mxClient.IS_POINTER&&($a$$.style.touchAction="none")};
mxGraphView.prototype.destroy=function(){var $a$$=null!=this.canvas?this.canvas.ownerSVGElement:null;null==$a$$&&($a$$=this.canvas);null!=$a$$&&null!=$a$$.parentNode&&(this.clear(this.currentRoot,!0),mxEvent.removeGestureListeners(document,null,this.moveHandler,this.endHandler),mxEvent.release(this.graph.container),$a$$.parentNode.removeChild($a$$),this.decoratorPane=this.overlayPane=this.drawPane=this.backgroundPane=this.canvas=this.endHandler=this.moveHandler=null)};
function mxCurrentRootChange($a$$,$b$$){this.view=$a$$;this.previous=this.root=$b$$;this.isUp=null==$b$$;if(!this.isUp){$a$$=this.view.currentRoot;for(var $c$$=this.view.graph.getModel();null!=$a$$;){if($a$$==$b$$){this.isUp=!0;break}$a$$=$c$$.getParent($a$$)}}}
mxCurrentRootChange.prototype.execute=function(){var $a$$=this.view.currentRoot;this.view.currentRoot=this.previous;this.previous=$a$$;$a$$=this.view.graph.getTranslateForRoot(this.view.currentRoot);null!=$a$$&&(this.view.translate=new mxPoint(-$a$$.x,-$a$$.y));this.isUp?(this.view.clear(this.view.currentRoot,!0),this.view.validate()):this.view.refresh();this.view.fireEvent(new mxEventObject(this.isUp?mxEvent.UP:mxEvent.DOWN,"root",this.view.currentRoot,"previous",this.previous));this.isUp=!this.isUp};
function mxGraph($a$$,$b$$,$c$$,$d$$,$e$$){this.mouseListeners=null;this.renderHint=$c$$;this.dialect=mxClient.IS_SVG?mxConstants.DIALECT_SVG:$c$$==mxConstants.RENDERING_HINT_FASTEST?mxConstants.DIALECT_STRICTHTML:$c$$==mxConstants.RENDERING_HINT_FASTER?mxConstants.DIALECT_PREFERHTML:mxConstants.DIALECT_MIXEDHTML;this.model=null!=$b$$?$b$$:new mxGraphModel;this.multiplicities=[];this.imageBundles=[];this.cellRenderer=this.createCellRenderer();this.setSelectionModel(this.createSelectionModel());this.setStylesheet(null!=
$d$$?$d$$:this.createStylesheet());this.view=this.createGraphView();this.view.rendering=null!=$e$$?$e$$:this.view.rendering;this.graphModelChangeListener=mxUtils.bind(this,function($f$$,$g$$){this.graphModelChanged($g$$.getProperty("edit").changes)});this.model.addListener(mxEvent.CHANGE,this.graphModelChangeListener);this.createHandlers();null!=$a$$&&this.init($a$$);this.view.rendering&&this.view.revalidate()}
mxLoadResources?mxResources.add(mxClient.basePath+"/resources/graph"):mxClient.defaultBundles.push(mxClient.basePath+"/resources/graph");mxGraph.prototype=new mxEventSource;mxGraph.prototype.constructor=mxGraph;mxGraph.prototype.mouseListeners=null;mxGraph.prototype.isMouseDown=!1;mxGraph.prototype.model=null;mxGraph.prototype.view=null;mxGraph.prototype.stylesheet=null;mxGraph.prototype.selectionModel=null;mxGraph.prototype.cellEditor=null;mxGraph.prototype.cellRenderer=null;
mxGraph.prototype.multiplicities=null;mxGraph.prototype.renderHint=null;mxGraph.prototype.dialect=null;mxGraph.prototype.gridSize=10;mxGraph.prototype.gridEnabled=!0;mxGraph.prototype.portsEnabled=!0;mxGraph.prototype.nativeDblClickEnabled=!0;mxGraph.prototype.doubleTapEnabled=!0;mxGraph.prototype.doubleTapTimeout=500;mxGraph.prototype.doubleTapTolerance=25;mxGraph.prototype.lastTouchY=0;mxGraph.prototype.lastTouchY=0;mxGraph.prototype.lastTouchTime=0;mxGraph.prototype.tapAndHoldEnabled=!0;
mxGraph.prototype.tapAndHoldDelay=350;mxGraph.prototype.tapAndHoldInProgress=!1;mxGraph.prototype.tapAndHoldValid=!1;mxGraph.prototype.initialTouchX=0;mxGraph.prototype.initialTouchY=0;mxGraph.prototype.tolerance=4;mxGraph.prototype.defaultOverlap=.5;mxGraph.prototype.defaultParent=null;mxGraph.prototype.alternateEdgeStyle=null;mxGraph.prototype.backgroundImage=null;mxGraph.prototype.pageVisible=!1;mxGraph.prototype.pageBreaksVisible=!1;mxGraph.prototype.pageBreakColor="gray";
mxGraph.prototype.pageBreakDashed=!0;mxGraph.prototype.minPageBreakDist=20;mxGraph.prototype.preferPageSize=!1;mxGraph.prototype.pageFormat=mxConstants.PAGE_FORMAT_A4_PORTRAIT;mxGraph.prototype.pageScale=1.5;mxGraph.prototype.enabled=!0;mxGraph.prototype.escapeEnabled=!0;mxGraph.prototype.invokesStopCellEditing=!0;mxGraph.prototype.enterStopsCellEditing=!1;mxGraph.prototype.useScrollbarsForPanning=!0;mxGraph.prototype.exportEnabled=!0;mxGraph.prototype.importEnabled=!0;
mxGraph.prototype.cellsLocked=!1;mxGraph.prototype.cellsCloneable=!0;mxGraph.prototype.foldingEnabled=!0;mxGraph.prototype.cellsEditable=!0;mxGraph.prototype.cellsDeletable=!0;mxGraph.prototype.cellsMovable=!0;mxGraph.prototype.edgeLabelsMovable=!0;mxGraph.prototype.vertexLabelsMovable=!1;mxGraph.prototype.dropEnabled=!1;mxGraph.prototype.splitEnabled=!0;mxGraph.prototype.cellsResizable=!0;mxGraph.prototype.cellsBendable=!0;mxGraph.prototype.cellsSelectable=!0;
mxGraph.prototype.cellsDisconnectable=!0;mxGraph.prototype.autoSizeCells=!1;mxGraph.prototype.autoSizeCellsOnAdd=!1;mxGraph.prototype.autoScroll=!0;mxGraph.prototype.ignoreScrollbars=!1;mxGraph.prototype.translateToScrollPosition=!1;mxGraph.prototype.timerAutoScroll=!1;mxGraph.prototype.allowAutoPanning=!1;mxGraph.prototype.autoExtend=!0;mxGraph.prototype.maximumGraphBounds=null;mxGraph.prototype.minimumGraphSize=null;mxGraph.prototype.minimumContainerSize=null;
mxGraph.prototype.maximumContainerSize=null;mxGraph.prototype.resizeContainer=!1;mxGraph.prototype.border=0;mxGraph.prototype.keepEdgesInForeground=!1;mxGraph.prototype.keepEdgesInBackground=!1;mxGraph.prototype.allowNegativeCoordinates=!0;mxGraph.prototype.constrainChildren=!0;mxGraph.prototype.constrainRelativeChildren=!1;mxGraph.prototype.extendParents=!0;mxGraph.prototype.extendParentsOnAdd=!0;mxGraph.prototype.extendParentsOnMove=!1;mxGraph.prototype.recursiveResize=!1;
mxGraph.prototype.collapseToPreferredSize=!0;mxGraph.prototype.zoomFactor=1.2;mxGraph.prototype.keepSelectionVisibleOnZoom=!1;mxGraph.prototype.centerZoom=!0;mxGraph.prototype.resetViewOnRootChange=!0;mxGraph.prototype.resetEdgesOnResize=!1;mxGraph.prototype.resetEdgesOnMove=!1;mxGraph.prototype.resetEdgesOnConnect=!0;mxGraph.prototype.allowLoops=!1;mxGraph.prototype.defaultLoopStyle=mxEdgeStyle.Loop;mxGraph.prototype.multigraph=!0;mxGraph.prototype.connectableEdges=!1;
mxGraph.prototype.allowDanglingEdges=!0;mxGraph.prototype.cloneInvalidEdges=!1;mxGraph.prototype.disconnectOnMove=!0;mxGraph.prototype.labelsVisible=!0;mxGraph.prototype.htmlLabels=!1;mxGraph.prototype.swimlaneSelectionEnabled=!0;mxGraph.prototype.swimlaneNesting=!0;mxGraph.prototype.swimlaneIndicatorColorAttribute=mxConstants.STYLE_FILLCOLOR;mxGraph.prototype.imageBundles=null;mxGraph.prototype.minFitScale=.1;mxGraph.prototype.maxFitScale=8;mxGraph.prototype.panDx=0;mxGraph.prototype.panDy=0;
mxGraph.prototype.collapsedImage=new mxImage(mxClient.imageBasePath+"/collapsed.gif",9,9);mxGraph.prototype.expandedImage=new mxImage(mxClient.imageBasePath+"/expanded.gif",9,9);mxGraph.prototype.warningImage=new mxImage(mxClient.imageBasePath+"/warning"+(mxClient.IS_MAC?".png":".gif"),16,16);mxGraph.prototype.alreadyConnectedResource="none"!=mxClient.language?"alreadyConnected":"";mxGraph.prototype.containsValidationErrorsResource="none"!=mxClient.language?"containsValidationErrors":"";
mxGraph.prototype.collapseExpandResource="none"!=mxClient.language?"collapse-expand":"";
mxGraph.prototype.init=function($a$$){this.container=$a$$;this.cellEditor=this.createCellEditor();this.view.init();this.sizeDidChange();mxEvent.addListener($a$$,"mouseleave",mxUtils.bind(this,function($b$$){null!=this.tooltipHandler&&null!=this.tooltipHandler.div&&this.tooltipHandler.div!=$b$$.relatedTarget&&this.tooltipHandler.hide()}));mxClient.IS_IE&&(mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})),mxEvent.addListener($a$$,"selectstart",mxUtils.bind(this,function($b$$){return this.isEditing()||
!this.isMouseDown&&!mxEvent.isShiftDown($b$$)})))};mxGraph.prototype.createHandlers=function(){this.tooltipHandler=this.createTooltipHandler();this.tooltipHandler.setEnabled(!1);this.selectionCellsHandler=this.createSelectionCellsHandler();this.connectionHandler=this.createConnectionHandler();this.connectionHandler.setEnabled(!1);this.graphHandler=this.createGraphHandler();this.panningHandler=this.createPanningHandler();this.panningHandler.panningEnabled=!1;this.popupMenuHandler=this.createPopupMenuHandler()};
mxGraph.prototype.createTooltipHandler=function(){return new mxTooltipHandler(this)};mxGraph.prototype.createSelectionCellsHandler=function(){return new mxSelectionCellsHandler(this)};mxGraph.prototype.createConnectionHandler=function(){return new mxConnectionHandler(this)};mxGraph.prototype.createGraphHandler=function(){return new mxGraphHandler(this)};mxGraph.prototype.createPanningHandler=function(){return new mxPanningHandler(this)};mxGraph.prototype.createPopupMenuHandler=function(){return new mxPopupMenuHandler(this)};
mxGraph.prototype.createSelectionModel=function(){return new mxGraphSelectionModel(this)};mxGraph.prototype.createStylesheet=function(){return new mxStylesheet};mxGraph.prototype.createGraphView=function(){return new mxGraphView(this)};mxGraph.prototype.createCellRenderer=function(){return new mxCellRenderer};mxGraph.prototype.createCellEditor=function(){return new mxCellEditor(this)};mxGraph.prototype.getModel=function(){return this.model};mxGraph.prototype.getView=function(){return this.view};
mxGraph.prototype.getStylesheet=function(){return this.stylesheet};mxGraph.prototype.setStylesheet=function($a$$){this.stylesheet=$a$$};mxGraph.prototype.getSelectionModel=function(){return this.selectionModel};mxGraph.prototype.setSelectionModel=function($a$$){this.selectionModel=$a$$};
mxGraph.prototype.getSelectionCellsForChanges=function($a$$,$b$$){for(var $c$$=new mxDictionary,$d$$=[],$e$$=mxUtils.bind(this,function($l$$){if(!$c$$.get($l$$)&&this.model.contains($l$$))if(this.model.isEdge($l$$)||this.model.isVertex($l$$))$c$$.put($l$$,!0),$d$$.push($l$$);else for(var $m$$=this.model.getChildCount($l$$),$n$$=0;$n$$<$m$$;$n$$++)$e$$(this.model.getChildAt($l$$,$n$$))}),$f$$=0;$f$$<$a$$.length;$f$$++){var $g$$=$a$$[$f$$];if($g$$.constructor!=mxRootChange&&(null==$b$$||!$b$$($g$$))){var $k$$=
null;$g$$ instanceof mxChildChange?$k$$=$g$$.child:null!=$g$$.cell&&$g$$.cell instanceof mxCell&&($k$$=$g$$.cell);null!=$k$$&&$e$$($k$$)}}return $d$$};mxGraph.prototype.graphModelChanged=function($a$$){for(var $b$$=0;$b$$<$a$$.length;$b$$++)this.processChange($a$$[$b$$]);this.updateSelection();this.view.validate();this.sizeDidChange()};
mxGraph.prototype.updateSelection=function(){for(var $a$$=this.getSelectionCells(),$b$$=[],$c$$=0;$c$$<$a$$.length;$c$$++)if(this.model.contains($a$$[$c$$])&&this.isCellVisible($a$$[$c$$]))for(var $d$$=this.model.getParent($a$$[$c$$]);null!=$d$$&&$d$$!=this.view.currentRoot;){if(this.isCellCollapsed($d$$)||!this.isCellVisible($d$$)){$b$$.push($a$$[$c$$]);break}$d$$=this.model.getParent($d$$)}else $b$$.push($a$$[$c$$]);this.removeSelectionCells($b$$)};
mxGraph.prototype.processChange=function($a$$){if($a$$ instanceof mxRootChange)this.clearSelection(),this.setDefaultParent(null),this.removeStateForCell($a$$.previous),this.resetViewOnRootChange&&(this.view.scale=1,this.view.translate.x=0,this.view.translate.y=0),this.fireEvent(new mxEventObject(mxEvent.ROOT));else if($a$$ instanceof mxChildChange){var $b$$=this.model.getParent($a$$.child);this.view.invalidate($a$$.child,!0,!0);if(!this.model.contains($b$$)||this.isCellCollapsed($b$$))this.view.invalidate($a$$.child,
!0,!0),this.removeStateForCell($a$$.child),this.view.currentRoot==$a$$.child&&this.home();$b$$!=$a$$.previous&&(null!=$b$$&&this.view.invalidate($b$$,!1,!1),null!=$a$$.previous&&this.view.invalidate($a$$.previous,!1,!1))}else $a$$ instanceof mxTerminalChange||$a$$ instanceof mxGeometryChange?($a$$ instanceof mxTerminalChange||null==$a$$.previous&&null!=$a$$.geometry||null!=$a$$.previous&&!$a$$.previous.equals($a$$.geometry))&&this.view.invalidate($a$$.cell):$a$$ instanceof mxValueChange?this.view.invalidate($a$$.cell,
!1,!1):$a$$ instanceof mxStyleChange?(this.view.invalidate($a$$.cell,!0,!0),$a$$=this.view.getState($a$$.cell),null!=$a$$&&($a$$.invalidStyle=!0)):null!=$a$$.cell&&$a$$.cell instanceof mxCell&&this.removeStateForCell($a$$.cell)};mxGraph.prototype.removeStateForCell=function($a$$){for(var $b$$=this.model.getChildCount($a$$),$c$$=0;$c$$<$b$$;$c$$++)this.removeStateForCell(this.model.getChildAt($a$$,$c$$));this.view.invalidate($a$$,!1,!0);this.view.removeState($a$$)};
mxGraph.prototype.addCellOverlay=function($a$$,$b$$){null==$a$$.overlays&&($a$$.overlays=[]);$a$$.overlays.push($b$$);var $c$$=this.view.getState($a$$);null!=$c$$&&this.cellRenderer.redraw($c$$);this.fireEvent(new mxEventObject(mxEvent.ADD_OVERLAY,"cell",$a$$,"overlay",$b$$));return $b$$};mxGraph.prototype.getCellOverlays=function($a$$){return $a$$.overlays};
mxGraph.prototype.removeCellOverlay=function($a$$,$b$$){if(null==$b$$)this.removeCellOverlays($a$$);else{var $c$$=mxUtils.indexOf($a$$.overlays,$b$$);0<=$c$$?($a$$.overlays.splice($c$$,1),0==$a$$.overlays.length&&($a$$.overlays=null),$c$$=this.view.getState($a$$),null!=$c$$&&this.cellRenderer.redraw($c$$),this.fireEvent(new mxEventObject(mxEvent.REMOVE_OVERLAY,"cell",$a$$,"overlay",$b$$))):$b$$=null}return $b$$};
mxGraph.prototype.removeCellOverlays=function($a$$){var $b$$=$a$$.overlays;if(null!=$b$$){$a$$.overlays=null;var $c$$=this.view.getState($a$$);null!=$c$$&&this.cellRenderer.redraw($c$$);for($c$$=0;$c$$<$b$$.length;$c$$++)this.fireEvent(new mxEventObject(mxEvent.REMOVE_OVERLAY,"cell",$a$$,"overlay",$b$$[$c$$]))}return $b$$};
mxGraph.prototype.clearCellOverlays=function($a$$){$a$$=null!=$a$$?$a$$:this.model.getRoot();this.removeCellOverlays($a$$);for(var $b$$=this.model.getChildCount($a$$),$c$$=0;$c$$<$b$$;$c$$++){var $d$$=this.model.getChildAt($a$$,$c$$);this.clearCellOverlays($d$$)}};
mxGraph.prototype.setCellWarning=function($a$$,$b$$,$c$$,$d$$){if(null!=$b$$&&0<$b$$.length)return $c$$=null!=$c$$?$c$$:this.warningImage,$b$$=new mxCellOverlay($c$$,"<font color=red>"+$b$$+"</font>"),$d$$&&$b$$.addListener(mxEvent.CLICK,mxUtils.bind(this,function($e$$,$f$$){this.isEnabled()&&this.setSelectionCell($a$$)})),this.addCellOverlay($a$$,$b$$);this.removeCellOverlays($a$$);return null};mxGraph.prototype.startEditing=function($a$$,$b$$){this.startEditingAtCell(null,$a$$,$b$$)};
mxGraph.prototype.startEditingAtCell=function($a$$,$b$$,$c$$){null!=$b$$&&mxEvent.isMultiTouchEvent($b$$)||(null==$a$$&&($a$$=this.getSelectionCell(),null==$a$$||this.isCellEditable($a$$)||($a$$=null)),null!=$a$$&&(this.fireEvent(new mxEventObject(mxEvent.START_EDITING,"cell",$a$$,"event",$b$$)),this.cellEditor.startEditing($a$$,$b$$,$c$$),this.fireEvent(new mxEventObject(mxEvent.EDITING_STARTED,"cell",$a$$,"event",$b$$))))};mxGraph.prototype.getEditingValue=function($a$$,$b$$){return this.convertValueToString($a$$)};
mxGraph.prototype.stopEditing=function($a$$){this.cellEditor.stopEditing($a$$);this.fireEvent(new mxEventObject(mxEvent.EDITING_STOPPED,"cancel",$a$$))};mxGraph.prototype.labelChanged=function($a$$,$b$$,$c$$){this.model.beginUpdate();try{var $d$$=$a$$.value;this.cellLabelChanged($a$$,$b$$,this.isAutoSizeCell($a$$));this.fireEvent(new mxEventObject(mxEvent.LABEL_CHANGED,"cell",$a$$,"value",$b$$,"old",$d$$,"event",$c$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellLabelChanged=function($a$$,$b$$,$c$$){this.model.beginUpdate();try{this.model.setValue($a$$,$b$$),$c$$&&this.cellSizeUpdated($a$$,!1)}finally{this.model.endUpdate()}};mxGraph.prototype.escape=function($a$$){this.fireEvent(new mxEventObject(mxEvent.ESCAPE,"event",$a$$))};
mxGraph.prototype.click=function($a$$){var $b$$=$a$$.getEvent(),$c$$=$a$$.getCell(),$d$$=new mxEventObject(mxEvent.CLICK,"event",$b$$,"cell",$c$$);$a$$.isConsumed()&&$d$$.consume();this.fireEvent($d$$);if(this.isEnabled()&&!mxEvent.isConsumed($b$$)&&!$d$$.isConsumed()){if(null!=$c$$){if(this.isTransparentClickEvent($b$$)){var $e$$=!1;$a$$=this.getCellAt($a$$.graphX,$a$$.graphY,null,null,null,mxUtils.bind(this,function($g$$){var $k$$=this.isCellSelected($g$$.cell);$e$$=$e$$||$k$$;return!$e$$||$k$$||
$g$$.cell!=$c$$&&this.model.isAncestor($g$$.cell,$c$$)}));null!=$a$$&&($c$$=$a$$)}}else if(this.isSwimlaneSelectionEnabled()&&($c$$=this.getSwimlaneAt($a$$.getGraphX(),$a$$.getGraphY()),!(null==$c$$||this.isToggleEvent($b$$)&&mxEvent.isAltDown($b$$)))){$d$$=$c$$;for($a$$=[];null!=$d$$;){$d$$=this.model.getParent($d$$);var $f$$=this.view.getState($d$$);this.isSwimlane($d$$)&&null!=$f$$&&$a$$.push($d$$)}if(0<$a$$.length)for($a$$=$a$$.reverse(),$a$$.splice(0,0,$c$$),$a$$.push($c$$),$d$$=0;$d$$<$a$$.length-
1;$d$$++)this.isCellSelected($a$$[$d$$])&&($c$$=$a$$[this.isToggleEvent($b$$)?$d$$:$d$$+1])}null!=$c$$?this.selectCellForEvent($c$$,$b$$):this.isToggleEvent($b$$)||this.clearSelection()}};mxGraph.prototype.isSiblingSelected=function($a$$){for(var $b$$=this.model,$c$$=$b$$.getParent($a$$),$d$$=$b$$.getChildCount($c$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=$b$$.getChildAt($c$$,$e$$);if($a$$!=$f$$&&this.isCellSelected($f$$))return!0}return!1};
mxGraph.prototype.dblClick=function($a$$,$b$$){var $c$$=new mxEventObject(mxEvent.DOUBLE_CLICK,"event",$a$$,"cell",$b$$);this.fireEvent($c$$);!this.isEnabled()||mxEvent.isConsumed($a$$)||$c$$.isConsumed()||null==$b$$||!this.isCellEditable($b$$)||this.isEditing($b$$)||(this.startEditingAtCell($b$$,$a$$),mxEvent.consume($a$$))};
mxGraph.prototype.tapAndHold=function($a$$){var $b$$=$a$$.getEvent(),$c$$=new mxEventObject(mxEvent.TAP_AND_HOLD,"event",$b$$,"cell",$a$$.getCell());this.fireEvent($c$$);$c$$.isConsumed()&&(this.panningHandler.panningTrigger=!1);this.isEnabled()&&!mxEvent.isConsumed($b$$)&&!$c$$.isConsumed()&&this.connectionHandler.isEnabled()&&($b$$=this.view.getState(this.connectionHandler.marker.getCell($a$$)),null!=$b$$&&(this.connectionHandler.marker.currentColor=this.connectionHandler.marker.validColor,this.connectionHandler.marker.markedState=
$b$$,this.connectionHandler.marker.mark(),this.connectionHandler.first=new mxPoint($a$$.getGraphX(),$a$$.getGraphY()),this.connectionHandler.edgeState=this.connectionHandler.createEdgeState($a$$),this.connectionHandler.previous=$b$$,this.connectionHandler.fireEvent(new mxEventObject(mxEvent.START,"state",this.connectionHandler.previous))))};
mxGraph.prototype.scrollPointToVisible=function($a$$,$b$$,$c$$,$d$$){if(this.timerAutoScroll||!this.ignoreScrollbars&&!mxUtils.hasScrollbars(this.container))this.allowAutoPanning&&!this.panningHandler.isActive()&&(null==this.panningManager&&(this.panningManager=this.createPanningManager()),this.panningManager.panTo($a$$+this.panDx,$b$$+this.panDy));else{var $e$$=this.container;$d$$=null!=$d$$?$d$$:20;if($a$$>=$e$$.scrollLeft&&$b$$>=$e$$.scrollTop&&$a$$<=$e$$.scrollLeft+$e$$.clientWidth&&$b$$<=$e$$.scrollTop+
$e$$.clientHeight){var $f$$=$e$$.scrollLeft+$e$$.clientWidth-$a$$;if($f$$<$d$$){if($a$$=$e$$.scrollLeft,$e$$.scrollLeft+=$d$$-$f$$,$c$$&&$a$$==$e$$.scrollLeft){if(this.dialect==mxConstants.DIALECT_SVG){$a$$=this.view.getDrawPane().ownerSVGElement;var $g$$=this.container.scrollWidth+$d$$-$f$$}else $g$$=Math.max($e$$.clientWidth,$e$$.scrollWidth)+$d$$-$f$$,$a$$=this.view.getCanvas();$a$$.style.width=$g$$+"px";$e$$.scrollLeft+=$d$$-$f$$}}else $f$$=$a$$-$e$$.scrollLeft,$f$$<$d$$&&($e$$.scrollLeft-=$d$$-
$f$$);$f$$=$e$$.scrollTop+$e$$.clientHeight-$b$$;$f$$<$d$$?($a$$=$e$$.scrollTop,$e$$.scrollTop+=$d$$-$f$$,$a$$==$e$$.scrollTop&&$c$$&&(this.dialect==mxConstants.DIALECT_SVG?($a$$=this.view.getDrawPane().ownerSVGElement,$b$$=this.container.scrollHeight+$d$$-$f$$,$a$$.style.height=$b$$+"px"):($b$$=Math.max($e$$.clientHeight,$e$$.scrollHeight)+$d$$-$f$$,$a$$=this.view.getCanvas(),$a$$.style.height=$b$$+"px"),$e$$.scrollTop+=$d$$-$f$$)):($f$$=$b$$-$e$$.scrollTop,$f$$<$d$$&&($e$$.scrollTop-=$d$$-$f$$))}}};
mxGraph.prototype.createPanningManager=function(){return new mxPanningManager(this)};
mxGraph.prototype.getBorderSizes=function(){var $a$$=mxUtils.getCurrentStyle(this.container);return new mxRectangle(mxUtils.parseCssNumber($a$$.paddingLeft)+("none"!=$a$$.borderLeftStyle?mxUtils.parseCssNumber($a$$.borderLeftWidth):0),mxUtils.parseCssNumber($a$$.paddingTop)+("none"!=$a$$.borderTopStyle?mxUtils.parseCssNumber($a$$.borderTopWidth):0),mxUtils.parseCssNumber($a$$.paddingRight)+("none"!=$a$$.borderRightStyle?mxUtils.parseCssNumber($a$$.borderRightWidth):0),mxUtils.parseCssNumber($a$$.paddingBottom)+
("none"!=$a$$.borderBottomStyle?mxUtils.parseCssNumber($a$$.borderBottomWidth):0))};mxGraph.prototype.getPreferredPageSize=function($a$$,$b$$,$c$$){$a$$=this.view.translate;var $d$$=this.pageFormat,$e$$=this.pageScale;$d$$=new mxRectangle(0,0,Math.ceil($d$$.width*$e$$),Math.ceil($d$$.height*$e$$));return new mxRectangle(0,0,(this.pageBreaksVisible?Math.ceil($b$$/$d$$.width):1)*$d$$.width+2+$a$$.x,(this.pageBreaksVisible?Math.ceil($c$$/$d$$.height):1)*$d$$.height+2+$a$$.y)};
mxGraph.prototype.fit=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){if(null!=this.container){$a$$=null!=$a$$?$a$$:this.getBorder();$b$$=null!=$b$$?$b$$:!1;$c$$=null!=$c$$?$c$$:0;$d$$=null!=$d$$?$d$$:!0;$e$$=null!=$e$$?$e$$:!1;$f$$=null!=$f$$?$f$$:!1;var $k$$=this.getBorderSizes(),$l$$=this.container.offsetWidth-$k$$.x-$k$$.width-1,$m$$=null!=$g$$?$g$$:this.container.offsetHeight-$k$$.y-$k$$.height-1;$g$$=this.view.getGraphBounds();if(0<$g$$.width&&0<$g$$.height){$b$$&&null!=$g$$.x&&null!=$g$$.y&&($g$$=
$g$$.clone(),$g$$.width+=$g$$.x,$g$$.height+=$g$$.y,$g$$.x=0,$g$$.y=0);$k$$=this.view.scale;var $n$$=$g$$.width/$k$$,$p$$=$g$$.height/$k$$;null!=this.backgroundImage&&null!=this.backgroundImage.width&&null!=this.backgroundImage.height&&($n$$=Math.max($n$$,this.backgroundImage.width-$g$$.x/$k$$),$p$$=Math.max($p$$,this.backgroundImage.height-$g$$.y/$k$$));var $q$$=($b$$?$a$$:2*$a$$)+$c$$+1;$l$$-=$q$$;$m$$-=$q$$;$e$$=$e$$?$m$$/$p$$:$f$$?$l$$/$n$$:Math.min($l$$/$n$$,$m$$/$p$$);null!=this.minFitScale&&
($e$$=Math.max($e$$,this.minFitScale));null!=this.maxFitScale&&($e$$=Math.min($e$$,this.maxFitScale));if($d$$)$b$$?this.view.scale!=$e$$&&this.view.setScale($e$$):mxUtils.hasScrollbars(this.container)?(this.view.setScale($e$$),$a$$=this.getGraphBounds(),null!=$a$$.x&&(this.container.scrollLeft=$a$$.x),null!=$a$$.y&&(this.container.scrollTop=$a$$.y)):this.view.scaleAndTranslate($e$$,null!=$g$$.x?Math.floor(this.view.translate.x-$g$$.x/$k$$+$a$$/$e$$+$c$$/2):$a$$,null!=$g$$.y?Math.floor(this.view.translate.y-
$g$$.y/$k$$+$a$$/$e$$+$c$$/2):$a$$);else return $e$$}}return this.view.scale};
mxGraph.prototype.sizeDidChange=function(){var $a$$=this.getGraphBounds();if(null!=this.container){var $b$$=this.getBorder(),$c$$=Math.max(0,$a$$.x)+$a$$.width+2*$b$$;$b$$=Math.max(0,$a$$.y)+$a$$.height+2*$b$$;null!=this.minimumContainerSize&&($c$$=Math.max($c$$,this.minimumContainerSize.width),$b$$=Math.max($b$$,this.minimumContainerSize.height));this.resizeContainer&&this.doResizeContainer($c$$,$b$$);if(this.preferPageSize||!mxClient.IS_IE&&this.pageVisible){var $d$$=this.getPreferredPageSize($a$$,
Math.max(1,$c$$),Math.max(1,$b$$));null!=$d$$&&($c$$=$d$$.width*this.view.scale,$b$$=$d$$.height*this.view.scale)}null!=this.minimumGraphSize&&($c$$=Math.max($c$$,this.minimumGraphSize.width*this.view.scale),$b$$=Math.max($b$$,this.minimumGraphSize.height*this.view.scale));$c$$=Math.ceil($c$$);$b$$=Math.ceil($b$$);this.dialect==mxConstants.DIALECT_SVG?($d$$=this.view.getDrawPane().ownerSVGElement,null!=$d$$&&($d$$.style.minWidth=Math.max(1,$c$$)+"px",$d$$.style.minHeight=Math.max(1,$b$$)+"px",$d$$.style.width=
"100%",$d$$.style.height="100%")):(this.view.canvas.style.minWidth=Math.max(1,$c$$)+"px",this.view.canvas.style.minHeight=Math.max(1,$b$$)+"px");this.updatePageBreaks(this.pageBreaksVisible,$c$$,$b$$)}this.fireEvent(new mxEventObject(mxEvent.SIZE,"bounds",$a$$))};
mxGraph.prototype.doResizeContainer=function($a$$,$b$$){null!=this.maximumContainerSize&&($a$$=Math.min(this.maximumContainerSize.width,$a$$),$b$$=Math.min(this.maximumContainerSize.height,$b$$));this.container.style.width=Math.ceil($a$$)+"px";this.container.style.height=Math.ceil($b$$)+"px"};
mxGraph.prototype.updatePageBreaks=function($a$$,$b$$,$c$$){$b$$=this.view.scale;$c$$=this.view.translate;var $d$$=this.pageFormat,$e$$=$b$$*this.pageScale,$f$$=new mxRectangle(0,0,$d$$.width*$e$$,$d$$.height*$e$$);$d$$=mxRectangle.fromRectangle(this.getGraphBounds());$d$$.width=Math.max(1,$d$$.width);$d$$.height=Math.max(1,$d$$.height);$f$$.x=Math.floor(($d$$.x-$c$$.x*$b$$)/$f$$.width)*$f$$.width+$c$$.x*$b$$;$f$$.y=Math.floor(($d$$.y-$c$$.y*$b$$)/$f$$.height)*$f$$.height+$c$$.y*$b$$;$d$$.width=Math.ceil(($d$$.width+
($d$$.x-$f$$.x))/$f$$.width)*$f$$.width;$d$$.height=Math.ceil(($d$$.height+($d$$.y-$f$$.y))/$f$$.height)*$f$$.height;var $g$$=($a$$=$a$$&&Math.min($f$$.width,$f$$.height)>this.minPageBreakDist)?Math.ceil($d$$.height/$f$$.height)+1:0,$k$$=$a$$?Math.ceil($d$$.width/$f$$.width)+1:0,$l$$=($k$$-1)*$f$$.width,$m$$=($g$$-1)*$f$$.height;null==this.horizontalPageBreaks&&0<$g$$&&(this.horizontalPageBreaks=[]);null==this.verticalPageBreaks&&0<$k$$&&(this.verticalPageBreaks=[]);$a$$=mxUtils.bind(this,function($n$$){if(null!=
$n$$){for(var $p$$=$n$$==this.horizontalPageBreaks?$g$$:$k$$,$q$$=0;$q$$<=$p$$;$q$$++){var $r$$=$n$$==this.horizontalPageBreaks?[new mxPoint(Math.round($f$$.x),Math.round($f$$.y+$q$$*$f$$.height)),new mxPoint(Math.round($f$$.x+$l$$),Math.round($f$$.y+$q$$*$f$$.height))]:[new mxPoint(Math.round($f$$.x+$q$$*$f$$.width),Math.round($f$$.y)),new mxPoint(Math.round($f$$.x+$q$$*$f$$.width),Math.round($f$$.y+$m$$))];null!=$n$$[$q$$]?($n$$[$q$$].points=$r$$,$n$$[$q$$].redraw()):($r$$=new mxPolyline($r$$,this.pageBreakColor),
$r$$.dialect=this.dialect,$r$$.pointerEvents=!1,$r$$.isDashed=this.pageBreakDashed,$r$$.init(this.view.backgroundPane),$r$$.redraw(),$n$$[$q$$]=$r$$)}for($q$$=$p$$;$q$$<$n$$.length;$q$$++)$n$$[$q$$].destroy();$n$$.splice($p$$,$n$$.length-$p$$)}});$a$$(this.horizontalPageBreaks);$a$$(this.verticalPageBreaks)};mxGraph.prototype.getCurrentCellStyle=function($a$$,$b$$){$b$$=$b$$?null:this.view.getState($a$$);return null!=$b$$?$b$$.style:this.getCellStyle($a$$)};
mxGraph.prototype.getCellStyle=function($a$$,$b$$){$b$$=null!=$b$$?$b$$:!0;var $c$$=this.model.getStyle($a$$),$d$$=this.model.isEdge($a$$)?this.stylesheet.getDefaultEdgeStyle():this.stylesheet.getDefaultVertexStyle();null!=$c$$&&0<$c$$.length?$d$$=this.stylesheet.getCellStyle($c$$,$d$$,$b$$):null!=$d$$&&($d$$=mxUtils.clone($d$$));null==$d$$?$d$$={}:$b$$&&($d$$=this.postProcessCellStyle($a$$,$d$$));return $d$$};
mxGraph.prototype.postProcessCellStyle=function($a$$,$b$$){if(null!=$b$$){var $c$$=$b$$[mxConstants.STYLE_IMAGE];$a$$=this.getImageFromBundles($c$$);null!=$a$$?$b$$[mxConstants.STYLE_IMAGE]=$a$$:$a$$=$c$$;null!=$a$$&&"function"===typeof $a$$.substring&&"data:image/"==$a$$.substring(0,11)&&("data:image/svg+xml,<"==$a$$.substring(0,20)?$a$$=$a$$.substring(0,19)+encodeURIComponent($a$$.substring(19)):"data:image/svg+xml,%3C"!=$a$$.substring(0,22)&&($c$$=$a$$.indexOf(","),0<$c$$&&";base64,"!=$a$$.substring($c$$-
7,$c$$+1)&&($a$$=$a$$.substring(0,$c$$)+";base64,"+$a$$.substring($c$$+1))),$b$$[mxConstants.STYLE_IMAGE]=$a$$)}return $b$$};mxGraph.prototype.setCellStyle=function($a$$,$b$$){$b$$=$b$$||this.getSelectionCells();if(null!=$b$$){this.model.beginUpdate();try{for(var $c$$=0;$c$$<$b$$.length;$c$$++)this.model.setStyle($b$$[$c$$],$a$$)}finally{this.model.endUpdate()}}};mxGraph.prototype.toggleCellStyle=function($a$$,$b$$,$c$$){$c$$=$c$$||this.getSelectionCell();return this.toggleCellStyles($a$$,$b$$,[$c$$])};
mxGraph.prototype.toggleCellStyles=function($a$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:!1;$c$$=$c$$||this.getEditableCells(this.getSelectionCells());var $d$$=null;null!=$c$$&&0<$c$$.length&&($d$$=this.getCurrentCellStyle($c$$[0]),$d$$=mxUtils.getValue($d$$,$a$$,$b$$)?0:1,this.setCellStyles($a$$,$d$$,$c$$));return $d$$};mxGraph.prototype.setCellStyles=function($a$$,$b$$,$c$$){$c$$=$c$$||this.getEditableCells(this.getSelectionCells());mxUtils.setCellStyles(this.model,$c$$,$a$$,$b$$)};
mxGraph.prototype.toggleCellStyleFlags=function($a$$,$b$$,$c$$){this.setCellStyleFlags($a$$,$b$$,null,$c$$)};mxGraph.prototype.setCellStyleFlags=function($a$$,$b$$,$c$$,$d$$){$d$$=$d$$||this.getEditableCells(this.getSelectionCells());null!=$d$$&&0<$d$$.length&&(null==$c$$&&($c$$=this.getCurrentCellStyle($d$$[0]),$c$$=(parseInt($c$$[$a$$]||0)&$b$$)!=$b$$),mxUtils.setCellStyleFlags(this.model,$d$$,$a$$,$b$$,$c$$))};
mxGraph.prototype.getOriginForCell=function($a$$){$a$$=this.model.getParent($a$$);for(var $b$$=new mxPoint;null!=$a$$;){var $c$$=this.getCellGeometry($a$$);null==$c$$||$c$$.relative||($b$$.x+=$c$$.x,$b$$.y+=$c$$.y);$a$$=this.model.getParent($a$$)}return $b$$};
mxGraph.prototype.alignCells=function($a$$,$b$$,$c$$){null==$b$$&&($b$$=this.getMovableCells(this.getSelectionCells()));if(null!=$b$$&&1<$b$$.length){if(null==$c$$)for(var $d$$=0;$d$$<$b$$.length;$d$$++){var $e$$=this.getOriginForCell($b$$[$d$$]),$f$$=this.getCellGeometry($b$$[$d$$]);if(!this.model.isEdge($b$$[$d$$])&&null!=$f$$&&!$f$$.relative)if(null==$c$$)if($a$$==mxConstants.ALIGN_CENTER){$c$$=$e$$.x+$f$$.x+$f$$.width/2;break}else if($a$$==mxConstants.ALIGN_RIGHT)$c$$=$e$$.x+$f$$.x+$f$$.width;
else if($a$$==mxConstants.ALIGN_TOP)$c$$=$e$$.y+$f$$.y;else if($a$$==mxConstants.ALIGN_MIDDLE){$c$$=$e$$.y+$f$$.y+$f$$.height/2;break}else $c$$=$a$$==mxConstants.ALIGN_BOTTOM?$e$$.y+$f$$.y+$f$$.height:$e$$.x+$f$$.x;else $c$$=$a$$==mxConstants.ALIGN_RIGHT?Math.max($c$$,$e$$.x+$f$$.x+$f$$.width):$a$$==mxConstants.ALIGN_TOP?Math.min($c$$,$e$$.y+$f$$.y):$a$$==mxConstants.ALIGN_BOTTOM?Math.max($c$$,$e$$.y+$f$$.y+$f$$.height):Math.min($c$$,$e$$.x+$f$$.x)}if(null!=$c$$){$b$$=mxUtils.sortCells($b$$);this.model.beginUpdate();
try{for($d$$=0;$d$$<$b$$.length;$d$$++)$e$$=this.getOriginForCell($b$$[$d$$]),$f$$=this.getCellGeometry($b$$[$d$$]),this.model.isEdge($b$$[$d$$])||null==$f$$||$f$$.relative||($f$$=$f$$.clone(),$a$$==mxConstants.ALIGN_CENTER?$f$$.x=$c$$-$e$$.x-$f$$.width/2:$a$$==mxConstants.ALIGN_RIGHT?$f$$.x=$c$$-$e$$.x-$f$$.width:$a$$==mxConstants.ALIGN_TOP?$f$$.y=$c$$-$e$$.y:$a$$==mxConstants.ALIGN_MIDDLE?$f$$.y=$c$$-$e$$.y-$f$$.height/2:$a$$==mxConstants.ALIGN_BOTTOM?$f$$.y=$c$$-$e$$.y-$f$$.height:$f$$.x=$c$$-
$e$$.x,this.resizeCell($b$$[$d$$],$f$$));this.fireEvent(new mxEventObject(mxEvent.ALIGN_CELLS,"align",$a$$,"cells",$b$$))}finally{this.model.endUpdate()}}}return $b$$};
mxGraph.prototype.flipEdge=function($a$$){if(null!=$a$$&&null!=this.alternateEdgeStyle){this.model.beginUpdate();try{var $b$$=this.model.getStyle($a$$);null==$b$$||0==$b$$.length?this.model.setStyle($a$$,this.alternateEdgeStyle):this.model.setStyle($a$$,null);this.resetEdge($a$$);this.fireEvent(new mxEventObject(mxEvent.FLIP_EDGE,"edge",$a$$))}finally{this.model.endUpdate()}}return $a$$};mxGraph.prototype.addImageBundle=function($a$$){this.imageBundles.push($a$$)};
mxGraph.prototype.removeImageBundle=function($a$$){for(var $b$$=[],$c$$=0;$c$$<this.imageBundles.length;$c$$++)this.imageBundles[$c$$]!=$a$$&&$b$$.push(this.imageBundles[$c$$]);this.imageBundles=$b$$};mxGraph.prototype.getImageFromBundles=function($a$$){if(null!=$a$$)for(var $b$$=0;$b$$<this.imageBundles.length;$b$$++){var $c$$=this.imageBundles[$b$$].getImage($a$$);if(null!=$c$$)return $c$$}return null};
mxGraph.prototype.orderCells=function($a$$,$b$$,$c$$){null==$b$$&&($b$$=mxUtils.sortCells(this.getEditableCells(this.getSelectionCells()),!0));this.model.beginUpdate();try{this.cellsOrdered($b$$,$a$$,$c$$),this.fireEvent(new mxEventObject(mxEvent.ORDER_CELLS,"back",$a$$,"cells",$b$$,"increment",$c$$))}finally{this.model.endUpdate()}return $b$$};
mxGraph.prototype.cellsOrdered=function($a$$,$b$$,$c$$){if(null!=$a$$){this.model.beginUpdate();try{for(var $d$$=0;$d$$<$a$$.length;$d$$++){var $e$$=this.model.getParent($a$$[$d$$]);$b$$?$c$$?this.model.add($e$$,$a$$[$d$$],Math.max(0,$e$$.getIndex($a$$[$d$$])-1)):this.model.add($e$$,$a$$[$d$$],$d$$):$c$$?this.model.add($e$$,$a$$[$d$$],Math.min(this.model.getChildCount($e$$)-1,$e$$.getIndex($a$$[$d$$])+1)):this.model.add($e$$,$a$$[$d$$],this.model.getChildCount($e$$)-1)}this.fireEvent(new mxEventObject(mxEvent.CELLS_ORDERED,
"back",$b$$,"cells",$a$$,"increment",$c$$))}finally{this.model.endUpdate()}}};
mxGraph.prototype.groupCells=function($a$$,$b$$,$c$$){null==$c$$&&($c$$=mxUtils.sortCells(this.getSelectionCells(),!0));$c$$=this.getCellsForGroup($c$$);null==$a$$&&($a$$=this.createGroupCell($c$$));var $d$$=this.getBoundsForGroup($a$$,$c$$,$b$$);if(1<$c$$.length&&null!=$d$$){var $e$$=this.model.getParent($a$$);null==$e$$&&($e$$=this.model.getParent($c$$[0]));this.model.beginUpdate();try{null==this.getCellGeometry($a$$)&&this.model.setGeometry($a$$,new mxGeometry);this.cellsResized([$a$$],[$d$$],
!1);var $f$$=this.model.getChildCount($e$$);this.cellsAdded([$a$$],$e$$,$f$$,null,null,!1,!1,!1);$f$$=this.model.getChildCount($a$$);this.cellsAdded($c$$,$a$$,$f$$,null,null,!1,!1,!1);this.cellsMoved($c$$,-$d$$.x,-$d$$.y,!1,!1,!1);this.fireEvent(new mxEventObject(mxEvent.GROUP_CELLS,"group",$a$$,"border",$b$$,"cells",$c$$))}finally{this.model.endUpdate()}}return $a$$};
mxGraph.prototype.getCellsForGroup=function($a$$){var $b$$=[];if(null!=$a$$&&0<$a$$.length){var $c$$=this.model.getParent($a$$[0]);$b$$.push($a$$[0]);for(var $d$$=1;$d$$<$a$$.length;$d$$++)this.model.getParent($a$$[$d$$])==$c$$&&$b$$.push($a$$[$d$$])}return $b$$};
mxGraph.prototype.getBoundsForGroup=function($a$$,$b$$,$c$$){$b$$=this.getBoundingBoxFromGeometry($b$$,!0);null!=$b$$&&(this.isSwimlane($a$$)&&($a$$=this.getStartSize($a$$),$b$$.x-=$a$$.width,$b$$.y-=$a$$.height,$b$$.width+=$a$$.width,$b$$.height+=$a$$.height),null!=$c$$&&($b$$.x-=$c$$,$b$$.y-=$c$$,$b$$.width+=2*$c$$,$b$$.height+=2*$c$$));return $b$$};mxGraph.prototype.createGroupCell=function($a$$){$a$$=new mxCell("");$a$$.setVertex(!0);$a$$.setConnectable(!1);return $a$$};
mxGraph.prototype.ungroupCells=function($a$$){var $b$$=[];null==$a$$&&($a$$=this.getCellsForUngroup());if(null!=$a$$&&0<$a$$.length){this.model.beginUpdate();try{for(var $c$$=0;$c$$<$a$$.length;$c$$++){var $d$$=this.model.getChildren($a$$[$c$$]);if(null!=$d$$&&0<$d$$.length){$d$$=$d$$.slice();var $e$$=this.model.getParent($a$$[$c$$]),$f$$=this.model.getChildCount($e$$);this.cellsAdded($d$$,$e$$,$f$$,null,null,!0);$b$$=$b$$.concat($d$$);for(var $g$$=0;$g$$<$d$$.length;$g$$++)if(this.model.isVertex($d$$[$g$$])){var $k$$=
this.view.getState($d$$[$g$$]),$l$$=this.getCellGeometry($d$$[$g$$]);null!=$k$$&&null!=$l$$&&$l$$.relative&&($l$$=$l$$.clone(),$l$$.x=$k$$.origin.x,$l$$.y=$k$$.origin.y,$l$$.relative=!1,this.model.setGeometry($d$$[$g$$],$l$$))}}}this.removeCellsAfterUngroup($a$$);this.fireEvent(new mxEventObject(mxEvent.UNGROUP_CELLS,"cells",$a$$))}finally{this.model.endUpdate()}}return $b$$};
mxGraph.prototype.getCellsForUngroup=function(){for(var $a$$=this.getEditableCells(this.getSelectionCells()),$b$$=[],$c$$=0;$c$$<$a$$.length;$c$$++)this.model.isVertex($a$$[$c$$])&&0<this.model.getChildCount($a$$[$c$$])&&$b$$.push($a$$[$c$$]);return $b$$};mxGraph.prototype.removeCellsAfterUngroup=function($a$$){this.cellsRemoved(this.addAllEdges($a$$))};
mxGraph.prototype.removeCellsFromParent=function($a$$){null==$a$$&&($a$$=this.getSelectionCells());this.model.beginUpdate();try{var $b$$=this.getDefaultParent(),$c$$=this.model.getChildCount($b$$);this.cellsAdded($a$$,$b$$,$c$$,null,null,!0);this.fireEvent(new mxEventObject(mxEvent.REMOVE_CELLS_FROM_PARENT,"cells",$a$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.updateGroupBounds=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){null==$a$$&&($a$$=this.getSelectionCells());$b$$=null!=$b$$?$b$$:0;$c$$=null!=$c$$?$c$$:!1;$d$$=null!=$d$$?$d$$:0;$e$$=null!=$e$$?$e$$:0;$f$$=null!=$f$$?$f$$:0;$g$$=null!=$g$$?$g$$:0;this.model.beginUpdate();try{for(var $k$$=$a$$.length-1;0<=$k$$;$k$$--){var $l$$=this.getCellGeometry($a$$[$k$$]);if(null!=$l$$){var $m$$=this.getChildCells($a$$[$k$$]);if(null!=$m$$&&0<$m$$.length){var $n$$=this.getBoundingBoxFromGeometry($m$$,
!0);if(null!=$n$$&&0<$n$$.width&&0<$n$$.height){var $p$$=this.isSwimlane($a$$[$k$$])?this.getActualStartSize($a$$[$k$$],!0):new mxRectangle;$l$$=$l$$.clone();$c$$&&($l$$.x=Math.round($l$$.x+$n$$.x-$b$$-$p$$.x-$g$$),$l$$.y=Math.round($l$$.y+$n$$.y-$b$$-$p$$.y-$d$$));$l$$.width=Math.round($n$$.width+2*$b$$+$p$$.x+$g$$+$e$$+$p$$.width);$l$$.height=Math.round($n$$.height+2*$b$$+$p$$.y+$d$$+$f$$+$p$$.height);this.model.setGeometry($a$$[$k$$],$l$$);this.moveCells($m$$,$b$$+$p$$.x-$n$$.x+$g$$,$b$$+$p$$.y-
$n$$.y+$d$$)}}}}}finally{this.model.endUpdate()}return $a$$};mxGraph.prototype.getBoundingBox=function($a$$){var $b$$=null;if(null!=$a$$&&0<$a$$.length)for(var $c$$=0;$c$$<$a$$.length;$c$$++)if(this.model.isVertex($a$$[$c$$])||this.model.isEdge($a$$[$c$$])){var $d$$=this.view.getBoundingBox(this.view.getState($a$$[$c$$]),!0);null!=$d$$&&(null==$b$$?$b$$=mxRectangle.fromRectangle($d$$):$b$$.add($d$$))}return $b$$};
mxGraph.prototype.cloneCell=function($a$$,$b$$,$c$$,$d$$){return this.cloneCells([$a$$],$b$$,$c$$,$d$$)[0]};
mxGraph.prototype.cloneCells=function($a$$,$b$$,$c$$,$d$$){$b$$=null!=$b$$?$b$$:!0;var $e$$=null;if(null!=$a$$){var $f$$=new mxDictionary;$e$$=[];for(var $g$$=0;$g$$<$a$$.length;$g$$++)$f$$.put($a$$[$g$$],!0),$e$$.push($a$$[$g$$]);if(0<$e$$.length){var $k$$=this.view.scale,$l$$=this.view.translate;$e$$=this.model.cloneCells($a$$,!0,$c$$);for($g$$=0;$g$$<$a$$.length;$g$$++)if(!$b$$&&this.model.isEdge($e$$[$g$$])&&null!=this.getEdgeValidationError($e$$[$g$$],this.model.getTerminal($e$$[$g$$],!0),this.model.getTerminal($e$$[$g$$],
!1)))$e$$[$g$$]=null;else{var $m$$=this.model.getGeometry($e$$[$g$$]);if(null!=$m$$){var $n$$=this.view.getState($a$$[$g$$]),$p$$=this.view.getState(this.model.getParent($a$$[$g$$]));if(null!=$n$$&&null!=$p$$)if($c$$=$p$$.origin.x,$p$$=$p$$.origin.y,this.model.isEdge($e$$[$g$$])){if($n$$=$n$$.absolutePoints,null!=$n$$){var $q$$=this.model.getTerminal($a$$[$g$$],!0);if(null!=$q$$){for(;null!=$q$$&&!$f$$.get($q$$);)$q$$=this.model.getParent($q$$);null==$q$$&&null!=$n$$[0]&&$m$$.setTerminalPoint(new mxPoint(Math.round($n$$[0].x/
$k$$-$l$$.x-$c$$),Math.round($n$$[0].y/$k$$-$l$$.y-$p$$)),!0)}$d$$||($q$$=$m$$.getTerminalPoint(!0),null!=$q$$&&($q$$.x+=$c$$,$q$$.y+=$p$$));$q$$=this.model.getTerminal($a$$[$g$$],!1);if(null!=$q$$){for(;null!=$q$$&&!$f$$.get($q$$);)$q$$=this.model.getParent($q$$);var $r$$=$n$$.length-1;null==$q$$&&null!=$n$$[$r$$]&&$m$$.setTerminalPoint(new mxPoint(Math.round($n$$[$r$$].x/$k$$-$l$$.x-$c$$),Math.round($n$$[$r$$].y/$k$$-$l$$.y-$p$$)),!1)}$d$$||($q$$=$m$$.getTerminalPoint(!1),null!=$q$$&&($q$$.x+=$c$$,
$q$$.y+=$p$$));$m$$=$m$$.points;if(!$d$$&&null!=$m$$)for($n$$=0;$n$$<$m$$.length;$n$$++)null!=$m$$[$n$$]&&($m$$[$n$$].x+=$c$$,$m$$[$n$$].y+=$p$$)}}else $d$$||$m$$.translate($c$$,$p$$)}}}else $e$$=[]}return $e$$};mxGraph.prototype.insertVertex=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){$b$$=this.createVertex($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$);return this.addCell($b$$,$a$$)};
mxGraph.prototype.createVertex=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){$a$$=new mxGeometry($d$$,$e$$,$f$$,$g$$);$a$$.relative=null!=$l$$?$l$$:!1;$c$$=new mxCell($c$$,$a$$,$k$$);$c$$.setId($b$$);$c$$.setVertex(!0);$c$$.setConnectable(!0);return $c$$};mxGraph.prototype.insertEdge=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$b$$=this.createEdge($a$$,$b$$,$c$$,$d$$,$e$$,$f$$);return this.addEdge($b$$,$a$$,$d$$,$e$$)};
mxGraph.prototype.createEdge=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$a$$=new mxCell($c$$,new mxGeometry,$f$$);$a$$.setId($b$$);$a$$.setEdge(!0);$a$$.geometry.relative=!0;return $a$$};mxGraph.prototype.addEdge=function($a$$,$b$$,$c$$,$d$$,$e$$){return this.addCell($a$$,$b$$,$e$$,$c$$,$d$$)};mxGraph.prototype.addCell=function($a$$,$b$$,$c$$,$d$$,$e$$){return this.addCells([$a$$],$b$$,$c$$,$d$$,$e$$)[0]};
mxGraph.prototype.addCells=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){null==$b$$&&($b$$=this.getDefaultParent());null==$c$$&&($c$$=this.model.getChildCount($b$$));this.model.beginUpdate();try{this.cellsAdded($a$$,$b$$,$c$$,$d$$,$e$$,null!=$f$$?$f$$:!1,!0),this.fireEvent(new mxEventObject(mxEvent.ADD_CELLS,"cells",$a$$,"parent",$b$$,"index",$c$$,"source",$d$$,"target",$e$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellsAdded=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){if(null!=$a$$&&null!=$b$$&&null!=$c$$){this.model.beginUpdate();try{var $l$$=$f$$?this.view.getState($b$$):null,$m$$=null!=$l$$?$l$$.origin:null,$n$$=new mxPoint(0,0);for($l$$=0;$l$$<$a$$.length;$l$$++)if(null==$a$$[$l$$])$c$$--;else{var $p$$=this.model.getParent($a$$[$l$$]);if(null!=$m$$&&$a$$[$l$$]!=$b$$&&$b$$!=$p$$){var $q$$=this.view.getState($p$$),$r$$=null!=$q$$?$q$$.origin:$n$$,$t$$=this.model.getGeometry($a$$[$l$$]);
if(null!=$t$$){var $u$$=$r$$.x-$m$$.x,$x$$=$r$$.y-$m$$.y;$t$$=$t$$.clone();$t$$.translate($u$$,$x$$);$t$$.relative||!this.model.isVertex($a$$[$l$$])||this.isAllowNegativeCoordinates()||($t$$.x=Math.max(0,$t$$.x),$t$$.y=Math.max(0,$t$$.y));this.model.setGeometry($a$$[$l$$],$t$$)}}$b$$==$p$$&&$c$$+$l$$>this.model.getChildCount($b$$)&&$c$$--;var $y$$=this.model.updateEdgeParent;this.model.updateEdgeParent=function($C$$,$A$$){0>mxUtils.indexOf($a$$,$C$$)&&$y$$.apply(this,arguments)};this.model.add($b$$,
$a$$[$l$$],$c$$+$l$$);this.model.updateEdgeParent=$y$$;this.autoSizeCellsOnAdd&&this.autoSizeCell($a$$[$l$$],!0);(null==$k$$||$k$$)&&this.isExtendParentsOnAdd($a$$[$l$$])&&this.isExtendParent($a$$[$l$$])&&this.extendParent($a$$[$l$$]);(null==$g$$||$g$$)&&this.constrainChild($a$$[$l$$]);null!=$d$$&&this.cellConnected($a$$[$l$$],$d$$,!0);null!=$e$$&&this.cellConnected($a$$[$l$$],$e$$,!1)}this.fireEvent(new mxEventObject(mxEvent.CELLS_ADDED,"cells",$a$$,"parent",$b$$,"index",$c$$,"source",$d$$,"target",
$e$$,"absolute",$f$$))}finally{this.model.endUpdate()}}};mxGraph.prototype.autoSizeCell=function($a$$,$b$$){if(null!=$b$$?$b$$:1){$b$$=this.model.getChildCount($a$$);for(var $c$$=0;$c$$<$b$$;$c$$++)this.autoSizeCell(this.model.getChildAt($a$$,$c$$))}this.getModel().isVertex($a$$)&&this.isAutoSizeCell($a$$)&&this.updateCellSize($a$$)};
mxGraph.prototype.removeCells=function($a$$,$b$$){$b$$=null!=$b$$?$b$$:!0;null==$a$$&&($a$$=this.getDeletableCells(this.getSelectionCells()));if($b$$)$a$$=this.getDeletableCells(this.addAllEdges($a$$));else{$a$$=$a$$.slice();for(var $c$$=this.getDeletableCells(this.getAllEdges($a$$)),$d$$=new mxDictionary,$e$$=0;$e$$<$a$$.length;$e$$++)$d$$.put($a$$[$e$$],!0);for($e$$=0;$e$$<$c$$.length;$e$$++)null!=this.view.getState($c$$[$e$$])||$d$$.get($c$$[$e$$])||($d$$.put($c$$[$e$$],!0),$a$$.push($c$$[$e$$]))}this.model.beginUpdate();
try{this.cellsRemoved($a$$),this.fireEvent(new mxEventObject(mxEvent.REMOVE_CELLS,"cells",$a$$,"includeEdges",$b$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellsRemoved=function($a$$){if(null!=$a$$&&0<$a$$.length){var $b$$=this.view.scale,$c$$=this.view.translate;this.model.beginUpdate();try{for(var $d$$=new mxDictionary,$e$$=0;$e$$<$a$$.length;$e$$++)$d$$.put($a$$[$e$$],!0);for($e$$=0;$e$$<$a$$.length;$e$$++){for(var $f$$=this.getAllEdges([$a$$[$e$$]]),$g$$=mxUtils.bind(this,function($l$$,$m$$){var $n$$=this.model.getGeometry($l$$);if(null!=$n$$){for(var $p$$=this.model.getTerminal($l$$,$m$$),$q$$=!1,$r$$=$p$$;null!=$r$$;){if($a$$[$e$$]==
$r$$){$q$$=!0;break}$r$$=this.model.getParent($r$$)}$q$$&&($n$$=$n$$.clone(),$q$$=this.view.getState($l$$),null!=$q$$&&null!=$q$$.absolutePoints?($p$$=$q$$.absolutePoints,$r$$=$m$$?0:$p$$.length-1,$n$$.setTerminalPoint(new mxPoint($p$$[$r$$].x/$b$$-$c$$.x-$q$$.origin.x,$p$$[$r$$].y/$b$$-$c$$.y-$q$$.origin.y),$m$$)):($p$$=this.view.getState($p$$),null!=$p$$&&$n$$.setTerminalPoint(new mxPoint($p$$.getCenterX()/$b$$-$c$$.x,$p$$.getCenterY()/$b$$-$c$$.y),$m$$)),this.model.setGeometry($l$$,$n$$),this.model.setTerminal($l$$,
null,$m$$))}}),$k$$=0;$k$$<$f$$.length;$k$$++)$d$$.get($f$$[$k$$])||($d$$.put($f$$[$k$$],!0),$g$$($f$$[$k$$],!0),$g$$($f$$[$k$$],!1));this.model.remove($a$$[$e$$])}this.fireEvent(new mxEventObject(mxEvent.CELLS_REMOVED,"cells",$a$$))}finally{this.model.endUpdate()}}};
mxGraph.prototype.splitEdge=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){$d$$=$d$$||0;$e$$=$e$$||0;$k$$=null!=$k$$?$k$$:this.model.getParent($a$$);$f$$=this.model.getTerminal($a$$,!0);this.model.beginUpdate();try{if(null==$c$$){$c$$=this.cloneCell($a$$);var $l$$=this.view.getState($a$$),$m$$=this.getCellGeometry($c$$);if(null!=$m$$&&null!=$m$$.points&&null!=$l$$){var $n$$=this.view.translate,$p$$=this.view.scale,$q$$=mxUtils.findNearestSegment($l$$,($d$$+$n$$.x)*$p$$,($e$$+$n$$.y)*$p$$);$m$$.points=
$m$$.points.slice(0,$q$$);$m$$=this.getCellGeometry($a$$);null!=$m$$&&null!=$m$$.points&&($m$$=$m$$.clone(),$m$$.points=$m$$.points.slice($q$$),this.model.setGeometry($a$$,$m$$))}}this.cellsMoved($b$$,$d$$,$e$$,!1,!1);this.cellsAdded([$c$$],$k$$,this.model.getChildCount($k$$),$f$$,$b$$[0],!1);this.cellsAdded($b$$,$k$$,this.model.getChildCount($k$$),null,null,!0);this.cellConnected($a$$,$b$$[0],!0);this.fireEvent(new mxEventObject(mxEvent.SPLIT_EDGE,"edge",$a$$,"cells",$b$$,"newEdge",$c$$,"dx",$d$$,
"dy",$e$$))}finally{this.model.endUpdate()}return $c$$};mxGraph.prototype.toggleCells=function($a$$,$b$$,$c$$){null==$b$$&&($b$$=this.getSelectionCells());$c$$&&($b$$=this.addAllEdges($b$$));this.model.beginUpdate();try{this.cellsToggled($b$$,$a$$),this.fireEvent(new mxEventObject(mxEvent.TOGGLE_CELLS,"show",$a$$,"cells",$b$$,"includeEdges",$c$$))}finally{this.model.endUpdate()}return $b$$};
mxGraph.prototype.cellsToggled=function($a$$,$b$$){if(null!=$a$$&&0<$a$$.length){this.model.beginUpdate();try{for(var $c$$=0;$c$$<$a$$.length;$c$$++)this.model.setVisible($a$$[$c$$],$b$$)}finally{this.model.endUpdate()}}};
mxGraph.prototype.foldCells=function($a$$,$b$$,$c$$,$d$$,$e$$){$b$$=null!=$b$$?$b$$:!1;null==$c$$&&($c$$=this.getFoldableCells(this.getSelectionCells(),$a$$));this.stopEditing(!1);this.model.beginUpdate();try{this.cellsFolded($c$$,$a$$,$b$$,$d$$),this.fireEvent(new mxEventObject(mxEvent.FOLD_CELLS,"collapse",$a$$,"recurse",$b$$,"cells",$c$$))}finally{this.model.endUpdate()}return $c$$};
mxGraph.prototype.cellsFolded=function($a$$,$b$$,$c$$,$d$$){if(null!=$a$$&&0<$a$$.length){this.model.beginUpdate();try{for(var $e$$=0;$e$$<$a$$.length;$e$$++)if((!$d$$||this.isCellFoldable($a$$[$e$$],$b$$))&&$b$$!=this.isCellCollapsed($a$$[$e$$])){this.model.setCollapsed($a$$[$e$$],$b$$);this.swapBounds($a$$[$e$$],$b$$);this.isExtendParent($a$$[$e$$])&&this.extendParent($a$$[$e$$]);if($c$$){var $f$$=this.model.getChildren($a$$[$e$$]);this.cellsFolded($f$$,$b$$,$c$$)}this.constrainChild($a$$[$e$$])}this.fireEvent(new mxEventObject(mxEvent.CELLS_FOLDED,
"cells",$a$$,"collapse",$b$$,"recurse",$c$$))}finally{this.model.endUpdate()}}};mxGraph.prototype.swapBounds=function($a$$,$b$$){if(null!=$a$$){var $c$$=this.model.getGeometry($a$$);null!=$c$$&&($c$$=$c$$.clone(),this.updateAlternateBounds($a$$,$c$$,$b$$),$c$$.swap(),this.model.setGeometry($a$$,$c$$))}};
mxGraph.prototype.updateAlternateBounds=function($a$$,$b$$,$c$$){if(null!=$a$$&&null!=$b$$){$c$$=this.getCurrentCellStyle($a$$);if(null==$b$$.alternateBounds){var $d$$=$b$$;this.collapseToPreferredSize&&($a$$=this.getPreferredSizeForCell($a$$),null!=$a$$&&($d$$=$a$$,$a$$=mxUtils.getValue($c$$,mxConstants.STYLE_STARTSIZE),0<$a$$&&($d$$.height=Math.max($d$$.height,$a$$))));$b$$.alternateBounds=new mxRectangle(0,0,$d$$.width,$d$$.height)}if(null!=$b$$.alternateBounds){$b$$.alternateBounds.x=$b$$.x;$b$$.alternateBounds.y=
$b$$.y;var $e$$=mxUtils.toRadians($c$$[mxConstants.STYLE_ROTATION]||0);0!=$e$$&&($c$$=$b$$.alternateBounds.getCenterX()-$b$$.getCenterX(),$d$$=$b$$.alternateBounds.getCenterY()-$b$$.getCenterY(),$a$$=Math.cos($e$$),$e$$=Math.sin($e$$),$b$$.alternateBounds.x+=$a$$*$c$$-$e$$*$d$$-$c$$,$b$$.alternateBounds.y+=$e$$*$c$$+$a$$*$d$$-$d$$)}}};mxGraph.prototype.addAllEdges=function($a$$){var $b$$=$a$$.slice();return mxUtils.removeDuplicates($b$$.concat(this.getAllEdges($a$$)))};
mxGraph.prototype.getAllEdges=function($a$$){var $b$$=[];if(null!=$a$$)for(var $c$$=0;$c$$<$a$$.length;$c$$++){for(var $d$$=this.model.getEdgeCount($a$$[$c$$]),$e$$=0;$e$$<$d$$;$e$$++)$b$$.push(this.model.getEdgeAt($a$$[$c$$],$e$$));$d$$=this.model.getChildren($a$$[$c$$]);$b$$=$b$$.concat(this.getAllEdges($d$$))}return $b$$};
mxGraph.prototype.updateCellSize=function($a$$,$b$$){$b$$=null!=$b$$?$b$$:!1;this.model.beginUpdate();try{this.cellSizeUpdated($a$$,$b$$),this.fireEvent(new mxEventObject(mxEvent.UPDATE_CELL_SIZE,"cell",$a$$,"ignoreChildren",$b$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellSizeUpdated=function($a$$,$b$$){if(null!=$a$$){this.model.beginUpdate();try{var $c$$=this.getCellStyle($a$$),$d$$=this.model.getGeometry($a$$);if(null!=$d$$){var $e$$=null,$f$$=mxUtils.getValue($c$$,mxConstants.STYLE_FIXED_WIDTH,!1);$f$$&&($e$$=$d$$.width-2*parseFloat(mxUtils.getValue($c$$,mxConstants.STYLE_SPACING,2))-parseFloat(mxUtils.getValue($c$$,mxConstants.STYLE_SPACING_LEFT,0))-parseFloat(mxUtils.getValue($c$$,mxConstants.STYLE_SPACING_RIGHT,0)));var $g$$=this.getPreferredSizeForCell($a$$,
$e$$);if(null!=$g$$){var $k$$=this.isCellCollapsed($a$$);$d$$=$d$$.clone();if(this.isSwimlane($a$$)){var $l$$=this.model.getStyle($a$$);null==$l$$&&($l$$="");mxUtils.getValue($c$$,mxConstants.STYLE_HORIZONTAL,!0)?($l$$=mxUtils.setStyle($l$$,mxConstants.STYLE_STARTSIZE,$g$$.height+8),$k$$&&($d$$.height=$g$$.height+8),$f$$||($d$$.width=$g$$.width)):($l$$=mxUtils.setStyle($l$$,mxConstants.STYLE_STARTSIZE,$g$$.width+8),$k$$&&!$f$$&&($d$$.width=$g$$.width+8),$d$$.height=$g$$.height);this.model.setStyle($a$$,
$l$$)}else{var $m$$=this.view.createState($a$$),$n$$=$m$$.style[mxConstants.STYLE_ALIGN]||mxConstants.ALIGN_CENTER,$p$$=this.getVerticalAlign($m$$);"fixed"==$m$$.style[mxConstants.STYLE_ASPECT]&&($g$$.height=Math.round($d$$.height*$g$$.width*100/$d$$.width)/100);$p$$==mxConstants.ALIGN_BOTTOM?$d$$.y+=$d$$.height-$g$$.height:$p$$==mxConstants.ALIGN_MIDDLE&&($d$$.y+=Math.round(($d$$.height-$g$$.height)/2));$d$$.height=$g$$.height;$f$$||($n$$==mxConstants.ALIGN_RIGHT?$d$$.x+=$d$$.width-$g$$.width:$n$$==
mxConstants.ALIGN_CENTER&&($d$$.x+=Math.round(($d$$.width-$g$$.width)/2)),$d$$.width=$g$$.width)}if(!$b$$&&!$k$$){var $q$$=this.view.getBounds(this.model.getChildren($a$$));if(null!=$q$$){var $r$$=this.view.translate,$t$$=this.view.scale,$u$$=($q$$.x+$q$$.width)/$t$$-$d$$.x-$r$$.x;$d$$.height=Math.max($d$$.height,($q$$.y+$q$$.height)/$t$$-$d$$.y-$r$$.y);$f$$||($d$$.width=Math.max($d$$.width,$u$$))}}this.cellsResized([$a$$],[$d$$],!1)}}}finally{this.model.endUpdate()}}};
mxGraph.prototype.getPreferredSizeForCell=function($a$$,$b$$){var $c$$=null;if(null!=$a$$){var $d$$=this.view.createState($a$$),$e$$=$d$$.style;if(!this.model.isEdge($a$$)){var $f$$=$e$$[mxConstants.STYLE_FONTSIZE]||mxConstants.DEFAULT_FONTSIZE;$a$$=$c$$=0;null==this.getImage($d$$)&&null==$e$$[mxConstants.STYLE_IMAGE]||$e$$[mxConstants.STYLE_SHAPE]!=mxConstants.SHAPE_LABEL||($e$$[mxConstants.STYLE_VERTICAL_ALIGN]==mxConstants.ALIGN_MIDDLE&&($c$$+=parseFloat(mxUtils.getValue($e$$,mxConstants.STYLE_IMAGE_WIDTH,
mxLabel.prototype.imageSize))),$e$$[mxConstants.STYLE_ALIGN]!=mxConstants.ALIGN_CENTER&&($a$$+=parseFloat(mxUtils.getValue($e$$,mxConstants.STYLE_IMAGE_HEIGHT,mxLabel.prototype.imageSize))));$c$$+=2*parseFloat(mxUtils.getValue($e$$,mxConstants.STYLE_SPACING,2));$c$$+=parseFloat(mxUtils.getValue($e$$,mxConstants.STYLE_SPACING_LEFT,2));$c$$+=parseFloat(mxUtils.getValue($e$$,mxConstants.STYLE_SPACING_RIGHT,2));$a$$+=2*parseFloat(mxUtils.getValue($e$$,mxConstants.STYLE_SPACING,2));$a$$+=parseFloat(mxUtils.getValue($e$$,
mxConstants.STYLE_SPACING_TOP,2));$a$$+=parseFloat(mxUtils.getValue($e$$,mxConstants.STYLE_SPACING_BOTTOM,2));var $g$$=this.getFoldingImage($d$$);null!=$g$$&&($c$$+=$g$$.width+8);$g$$=this.cellRenderer.getLabelValue($d$$);null!=$g$$&&0<$g$$.length?(this.isHtmlLabel($d$$.cell)?null!=$b$$&&($b$$+=mxSvgCanvas2D.prototype.foreignObjectPadding):$g$$=mxUtils.htmlEntities($g$$,!1),$g$$=$g$$.replace(/\n/g,"<br>"),$d$$=mxUtils.getSizeForString($g$$,$f$$,$e$$[mxConstants.STYLE_FONTFAMILY],$b$$,$e$$[mxConstants.STYLE_FONTSTYLE]),
$b$$=$d$$.width+$c$$,$d$$=$d$$.height+$a$$,mxUtils.getValue($e$$,mxConstants.STYLE_HORIZONTAL,!0)||($e$$=$d$$,$d$$=$b$$,$b$$=$e$$),this.gridEnabled&&($b$$=this.snap($b$$+this.gridSize/2),$d$$=this.snap($d$$+this.gridSize/2)),$c$$=new mxRectangle(0,0,$b$$,$d$$)):($e$$=4*this.gridSize,$c$$=new mxRectangle(0,0,$e$$,$e$$))}}return $c$$};mxGraph.prototype.resizeCell=function($a$$,$b$$,$c$$){return this.resizeCells([$a$$],[$b$$],$c$$)[0]};
mxGraph.prototype.resizeCells=function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:this.isRecursiveResize();this.model.beginUpdate();try{var $d$$=this.cellsResized($a$$,$b$$,$c$$);this.fireEvent(new mxEventObject(mxEvent.RESIZE_CELLS,"cells",$a$$,"bounds",$b$$,"previous",$d$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellsResized=function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;var $d$$=[];if(null!=$a$$&&null!=$b$$&&$a$$.length==$b$$.length){this.model.beginUpdate();try{for(var $e$$=0;$e$$<$a$$.length;$e$$++)$d$$.push(this.cellResized($a$$[$e$$],$b$$[$e$$],!1,$c$$)),this.isExtendParent($a$$[$e$$])&&this.extendParent($a$$[$e$$]),this.constrainChild($a$$[$e$$]);this.resetEdgesOnResize&&this.resetEdges($a$$);this.fireEvent(new mxEventObject(mxEvent.CELLS_RESIZED,"cells",$a$$,"bounds",$b$$,"previous",
$d$$))}finally{this.model.endUpdate()}}return $d$$};
mxGraph.prototype.cellResized=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.model.getGeometry($a$$);if(null!=$e$$&&($e$$.x!=$b$$.x||$e$$.y!=$b$$.y||$e$$.width!=$b$$.width||$e$$.height!=$b$$.height)){var $f$$=$e$$.clone();!$c$$&&$f$$.relative?($c$$=$f$$.offset,null!=$c$$&&($c$$.x+=$b$$.x-$f$$.x,$c$$.y+=$b$$.y-$f$$.y)):($f$$.x=$b$$.x,$f$$.y=$b$$.y);$f$$.width=$b$$.width;$f$$.height=$b$$.height;$f$$.relative||!this.model.isVertex($a$$)||this.isAllowNegativeCoordinates()||($f$$.x=Math.max(0,$f$$.x),$f$$.y=
Math.max(0,$f$$.y));this.model.beginUpdate();try{$d$$&&this.resizeChildCells($a$$,$f$$),this.model.setGeometry($a$$,$f$$),this.isCellCollapsed($a$$)||this.constrainChildCells($a$$)}finally{this.model.endUpdate()}}return $e$$};
mxGraph.prototype.resizeChildCells=function($a$$,$b$$){var $c$$=this.model.getGeometry($a$$),$d$$=0!=$c$$.width?$b$$.width/$c$$.width:1;$b$$=0!=$c$$.height?$b$$.height/$c$$.height:1;$c$$=this.model.getChildCount($a$$);for(var $e$$=0;$e$$<$c$$;$e$$++)this.scaleCell(this.model.getChildAt($a$$,$e$$),$d$$,$b$$,!0)};mxGraph.prototype.constrainChildCells=function($a$$){for(var $b$$=this.model.getChildCount($a$$),$c$$=0;$c$$<$b$$;$c$$++)this.constrainChild(this.model.getChildAt($a$$,$c$$))};
mxGraph.prototype.scaleCell=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.model.getGeometry($a$$);if(null!=$e$$){var $f$$=this.getCurrentCellStyle($a$$);$e$$=$e$$.clone();var $g$$=$e$$.x,$k$$=$e$$.y,$l$$=$e$$.width,$m$$=$e$$.height;$e$$.scale($b$$,$c$$,"fixed"==$f$$[mxConstants.STYLE_ASPECT]);"1"==$f$$[mxConstants.STYLE_RESIZE_WIDTH]?$e$$.width=$l$$*$b$$:"0"==$f$$[mxConstants.STYLE_RESIZE_WIDTH]&&($e$$.width=$l$$);"1"==$f$$[mxConstants.STYLE_RESIZE_HEIGHT]?$e$$.height=$m$$*$c$$:"0"==$f$$[mxConstants.STYLE_RESIZE_HEIGHT]&&
($e$$.height=$m$$);this.isCellMovable($a$$)||($e$$.x=$g$$,$e$$.y=$k$$);this.isCellResizable($a$$)||($e$$.width=$l$$,$e$$.height=$m$$);this.model.isVertex($a$$)?this.cellResized($a$$,$e$$,!0,$d$$):this.model.setGeometry($a$$,$e$$)}};
mxGraph.prototype.extendParent=function($a$$){if(null!=$a$$){var $b$$=this.model.getParent($a$$),$c$$=this.getCellGeometry($b$$);null==$b$$||null==$c$$||this.isCellCollapsed($b$$)||($a$$=this.getCellGeometry($a$$),null!=$a$$&&!$a$$.relative&&($c$$.width<$a$$.x+$a$$.width||$c$$.height<$a$$.y+$a$$.height)&&($c$$=$c$$.clone(),$c$$.width=Math.max($c$$.width,$a$$.x+$a$$.width),$c$$.height=Math.max($c$$.height,$a$$.y+$a$$.height),this.cellsResized([$b$$],[$c$$],!1)))}};
mxGraph.prototype.importCells=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){return this.moveCells($a$$,$b$$,$c$$,!0,$d$$,$e$$,$f$$)};
mxGraph.prototype.moveCells=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$b$$=null!=$b$$?$b$$:0;$c$$=null!=$c$$?$c$$:0;$d$$=null!=$d$$?$d$$:!1;if(null!=$a$$&&(0!=$b$$||0!=$c$$||$d$$||null!=$e$$)){var $k$$=$a$$=this.model.getTopmostCells($a$$);this.model.beginUpdate();try{for(var $l$$=new mxDictionary,$m$$=0;$m$$<$a$$.length;$m$$++)$l$$.put($a$$[$m$$],!0);var $n$$=mxUtils.bind(this,function($x$$){for(;null!=$x$$;){if($l$$.get($x$$))return!0;$x$$=this.model.getParent($x$$)}return!1}),$p$$=[];for($m$$=
0;$m$$<$a$$.length;$m$$++){var $q$$=this.getCellGeometry($a$$[$m$$]),$r$$=this.model.getParent($a$$[$m$$]);null!=$q$$&&$q$$.relative&&this.model.isEdge($r$$)&&($n$$(this.model.getTerminal($r$$,!0))||$n$$(this.model.getTerminal($r$$,!1)))||$p$$.push($a$$[$m$$])}$a$$=$p$$;$d$$&&($a$$=this.cloneCells($a$$,this.isCloneInvalidEdges(),$g$$),null==$e$$&&($e$$=this.getDefaultParent()));var $t$$=this.isAllowNegativeCoordinates();null!=$e$$&&this.setAllowNegativeCoordinates(!0);this.cellsMoved($a$$,$b$$,$c$$,
!$d$$&&this.isDisconnectOnMove()&&this.isAllowDanglingEdges(),null==$e$$,this.isExtendParentsOnMove()&&null==$e$$);this.setAllowNegativeCoordinates($t$$);if(null!=$e$$){var $u$$=this.model.getChildCount($e$$);this.cellsAdded($a$$,$e$$,$u$$,null,null,!0);if($d$$)for($m$$=0;$m$$<$a$$.length;$m$$++)$q$$=this.getCellGeometry($a$$[$m$$]),$r$$=this.model.getParent($k$$[$m$$]),null!=$q$$&&$q$$.relative&&this.model.isEdge($r$$)&&this.model.contains($r$$)&&this.model.add($r$$,$a$$[$m$$])}this.fireEvent(new mxEventObject(mxEvent.MOVE_CELLS,
"cells",$a$$,"dx",$b$$,"dy",$c$$,"clone",$d$$,"target",$e$$,"event",$f$$))}finally{this.model.endUpdate()}}return $a$$};
mxGraph.prototype.cellsMoved=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if(null!=$a$$&&(0!=$b$$||0!=$c$$)){$f$$=null!=$f$$?$f$$:!1;this.model.beginUpdate();try{$d$$&&this.disconnectGraph($a$$);for(var $g$$=0;$g$$<$a$$.length;$g$$++)this.translateCell($a$$[$g$$],$b$$,$c$$),$f$$&&this.isExtendParent($a$$[$g$$])?this.extendParent($a$$[$g$$]):$e$$&&this.constrainChild($a$$[$g$$]);this.resetEdgesOnMove&&this.resetEdges($a$$);this.fireEvent(new mxEventObject(mxEvent.CELLS_MOVED,"cells",$a$$,"dx",$b$$,"dy",
$c$$,"disconnect",$d$$))}finally{this.model.endUpdate()}}};
mxGraph.prototype.translateCell=function($a$$,$b$$,$c$$){var $d$$=this.model.getGeometry($a$$);if(null!=$d$$){$b$$=parseFloat($b$$);$c$$=parseFloat($c$$);$d$$=$d$$.clone();$d$$.translate($b$$,$c$$,this.model.isEdge($a$$));$d$$.relative||!this.model.isVertex($a$$)||this.isAllowNegativeCoordinates()||($d$$.x=Math.max(0,parseFloat($d$$.x)),$d$$.y=Math.max(0,parseFloat($d$$.y)));if($d$$.relative&&!this.model.isEdge($a$$)){var $e$$=this.model.getParent($a$$),$f$$=0;this.model.isVertex($e$$)&&($e$$=this.getCurrentCellStyle($e$$),
$f$$=mxUtils.getValue($e$$,mxConstants.STYLE_ROTATION,0));0!=$f$$&&($f$$=mxUtils.toRadians(-$f$$),$e$$=Math.cos($f$$),$f$$=Math.sin($f$$),$c$$=mxUtils.getRotatedPoint(new mxPoint($b$$,$c$$),$e$$,$f$$,new mxPoint(0,0)),$b$$=$c$$.x,$c$$=$c$$.y);null==$d$$.offset?$d$$.offset=new mxPoint(Math.round($b$$),Math.round($c$$)):($d$$.offset.x=Math.round(parseFloat($d$$.offset.x+$b$$)),$d$$.offset.y=Math.round(parseFloat($d$$.offset.y+$c$$)))}this.model.setGeometry($a$$,$d$$)}};
mxGraph.prototype.getCellContainmentArea=function($a$$){if(null!=$a$$&&!this.model.isEdge($a$$)){var $b$$=this.model.getParent($a$$);if(null!=$b$$&&$b$$!=this.getDefaultParent()){var $c$$=this.model.getGeometry($b$$);if(null!=$c$$){var $d$$=$a$$=0,$e$$=$c$$.width;$c$$=$c$$.height;if(this.isSwimlane($b$$)){var $f$$=this.getStartSize($b$$),$g$$=this.getCurrentCellStyle($b$$);$b$$=mxUtils.getValue($g$$,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST);var $k$$=1==mxUtils.getValue($g$$,mxConstants.STYLE_FLIPH,
0);$g$$=1==mxUtils.getValue($g$$,mxConstants.STYLE_FLIPV,0);if($b$$==mxConstants.DIRECTION_SOUTH||$b$$==mxConstants.DIRECTION_NORTH){var $l$$=$f$$.width;$f$$.width=$f$$.height;$f$$.height=$l$$}if($b$$==mxConstants.DIRECTION_EAST&&!$g$$||$b$$==mxConstants.DIRECTION_NORTH&&!$k$$||$b$$==mxConstants.DIRECTION_WEST&&$g$$||$b$$==mxConstants.DIRECTION_SOUTH&&$k$$)$a$$=$f$$.width,$d$$=$f$$.height;$e$$-=$f$$.width;$c$$-=$f$$.height}return new mxRectangle($a$$,$d$$,$e$$,$c$$)}}}return null};
mxGraph.prototype.getMaximumGraphBounds=function(){return this.maximumGraphBounds};
mxGraph.prototype.constrainChild=function($a$$,$b$$){if(null!=$a$$&&($b$$=this.getCellGeometry($a$$),null!=$b$$&&(this.isConstrainRelativeChildren()||!$b$$.relative))){var $c$$=this.model.getParent($a$$);this.getCellGeometry($c$$);var $d$$=this.getMaximumGraphBounds();null!=$d$$&&($c$$=this.getBoundingBoxFromGeometry([$c$$],!1),null!=$c$$&&($d$$=mxRectangle.fromRectangle($d$$),$d$$.x-=$c$$.x,$d$$.y-=$c$$.y));if(this.isConstrainChild($a$$)&&($c$$=this.getCellContainmentArea($a$$),null!=$c$$)){var $e$$=
this.getOverlap($a$$);0<$e$$&&($c$$=mxRectangle.fromRectangle($c$$),$c$$.x-=$c$$.width*$e$$,$c$$.y-=$c$$.height*$e$$,$c$$.width+=2*$c$$.width*$e$$,$c$$.height+=2*$c$$.height*$e$$);null==$d$$?$d$$=$c$$:($d$$=mxRectangle.fromRectangle($d$$),$d$$.intersect($c$$))}if(null!=$d$$){$c$$=[$a$$];if(!this.isCellCollapsed($a$$)){$e$$=this.model.getDescendants($a$$);for(var $f$$=0;$f$$<$e$$.length;$f$$++)this.isCellVisible($e$$[$f$$])&&$c$$.push($e$$[$f$$])}$c$$=this.getBoundingBoxFromGeometry($c$$,!1);if(null!=
$c$$){$b$$=$b$$.clone();$e$$=0;$b$$.width>$d$$.width&&($e$$=$b$$.width-$d$$.width,$b$$.width-=$e$$);$c$$.x+$c$$.width>$d$$.x+$d$$.width&&($e$$-=$c$$.x+$c$$.width-$d$$.x-$d$$.width-$e$$);$f$$=0;$b$$.height>$d$$.height&&($f$$=$b$$.height-$d$$.height,$b$$.height-=$f$$);$c$$.y+$c$$.height>$d$$.y+$d$$.height&&($f$$-=$c$$.y+$c$$.height-$d$$.y-$d$$.height-$f$$);$c$$.x<$d$$.x&&($e$$-=$c$$.x-$d$$.x);$c$$.y<$d$$.y&&($f$$-=$c$$.y-$d$$.y);if(0!=$e$$||0!=$f$$)$b$$.relative?(null==$b$$.offset&&($b$$.offset=new mxPoint),
$b$$.offset.x+=$e$$,$b$$.offset.y+=$f$$):($b$$.x+=$e$$,$b$$.y+=$f$$);this.model.setGeometry($a$$,$b$$)}}}};
mxGraph.prototype.resetEdges=function($a$$){if(null!=$a$$){for(var $b$$=new mxDictionary,$c$$=0;$c$$<$a$$.length;$c$$++)$b$$.put($a$$[$c$$],!0);this.model.beginUpdate();try{for($c$$=0;$c$$<$a$$.length;$c$$++){var $d$$=this.model.getEdges($a$$[$c$$]);if(null!=$d$$)for(var $e$$=0;$e$$<$d$$.length;$e$$++){var $f$$=this.view.getState($d$$[$e$$]),$g$$=null!=$f$$?$f$$.getVisibleTerminal(!0):this.view.getVisibleTerminal($d$$[$e$$],!0),$k$$=null!=$f$$?$f$$.getVisibleTerminal(!1):this.view.getVisibleTerminal($d$$[$e$$],
!1);$b$$.get($g$$)&&$b$$.get($k$$)||this.resetEdge($d$$[$e$$])}this.resetEdges(this.model.getChildren($a$$[$c$$]))}}finally{this.model.endUpdate()}}};mxGraph.prototype.resetEdge=function($a$$){var $b$$=this.model.getGeometry($a$$);null!=$b$$&&null!=$b$$.points&&0<$b$$.points.length&&($b$$=$b$$.clone(),$b$$.points=[],this.model.setGeometry($a$$,$b$$));return $a$$};
mxGraph.prototype.getOutlineConstraint=function($a$$,$b$$,$c$$){if(null!=$b$$.shape){$c$$=this.view.getPerimeterBounds($b$$);var $d$$=$b$$.style[mxConstants.STYLE_DIRECTION];if($d$$==mxConstants.DIRECTION_NORTH||$d$$==mxConstants.DIRECTION_SOUTH){$c$$.x+=$c$$.width/2-$c$$.height/2;$c$$.y+=$c$$.height/2-$c$$.width/2;var $e$$=$c$$.width;$c$$.width=$c$$.height;$c$$.height=$e$$}var $f$$=mxUtils.toRadians($b$$.shape.getShapeRotation());if(0!=$f$$){$e$$=Math.cos(-$f$$);$f$$=Math.sin(-$f$$);var $g$$=new mxPoint($c$$.getCenterX(),
$c$$.getCenterY());$a$$=mxUtils.getRotatedPoint($a$$,$e$$,$f$$,$g$$)}$g$$=$f$$=1;var $k$$=0,$l$$=0;if(this.getModel().isVertex($b$$.cell)){var $m$$=$b$$.style[mxConstants.STYLE_FLIPH],$n$$=$b$$.style[mxConstants.STYLE_FLIPV];null!=$b$$.shape&&null!=$b$$.shape.stencil&&($m$$=1==mxUtils.getValue($b$$.style,"stencilFlipH",0)||$m$$,$n$$=1==mxUtils.getValue($b$$.style,"stencilFlipV",0)||$n$$);if($d$$==mxConstants.DIRECTION_NORTH||$d$$==mxConstants.DIRECTION_SOUTH)$e$$=$m$$,$m$$=$n$$,$n$$=$e$$;$m$$&&($f$$=
-1,$k$$=-$c$$.width);$n$$&&($g$$=-1,$l$$=-$c$$.height)}$a$$=new mxPoint(($a$$.x-$c$$.x)*$f$$-$k$$+$c$$.x,($a$$.y-$c$$.y)*$g$$-$l$$+$c$$.y);return new mxConnectionConstraint(new mxPoint(0==$c$$.width?0:Math.round(1E3*($a$$.x-$c$$.x)/$c$$.width)/1E3,0==$c$$.height?0:Math.round(1E3*($a$$.y-$c$$.y)/$c$$.height)/1E3),!1)}return null};mxGraph.prototype.getAllConnectionConstraints=function($a$$,$b$$){return null!=$a$$&&null!=$a$$.shape&&null!=$a$$.shape.stencil?$a$$.shape.stencil.constraints:null};
mxGraph.prototype.getConnectionConstraint=function($a$$,$b$$,$c$$){$b$$=null;var $d$$=$a$$.style[$c$$?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X];if(null!=$d$$){var $e$$=$a$$.style[$c$$?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y];null!=$e$$&&($b$$=new mxPoint(parseFloat($d$$),parseFloat($e$$)))}$d$$=!1;var $f$$=$e$$=0;null!=$b$$&&($d$$=mxUtils.getValue($a$$.style,$c$$?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,!0),$e$$=parseFloat($a$$.style[$c$$?mxConstants.STYLE_EXIT_DX:
mxConstants.STYLE_ENTRY_DX]),$f$$=parseFloat($a$$.style[$c$$?mxConstants.STYLE_EXIT_DY:mxConstants.STYLE_ENTRY_DY]),$e$$=isFinite($e$$)?$e$$:0,$f$$=isFinite($f$$)?$f$$:0);return new mxConnectionConstraint($b$$,$d$$,null,$e$$,$f$$)};
mxGraph.prototype.setConnectionConstraint=function($a$$,$b$$,$c$$,$d$$){if(null!=$d$$){this.model.beginUpdate();try{null==$d$$||null==$d$$.point?(this.setCellStyles($c$$?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X,null,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y,null,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_DX:mxConstants.STYLE_ENTRY_DX,null,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_DY:mxConstants.STYLE_ENTRY_DY,null,[$a$$]),
this.setCellStyles($c$$?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,null,[$a$$])):null!=$d$$.point&&(this.setCellStyles($c$$?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X,$d$$.point.x,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y,$d$$.point.y,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_DX:mxConstants.STYLE_ENTRY_DX,$d$$.dx,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_DY:mxConstants.STYLE_ENTRY_DY,$d$$.dy,[$a$$]),
$d$$.perimeter?this.setCellStyles($c$$?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,null,[$a$$]):this.setCellStyles($c$$?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,"0",[$a$$]))}finally{this.model.endUpdate()}}};
mxGraph.prototype.getConnectionPoint=function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!0;var $d$$=null;if(null!=$a$$&&null!=$b$$.point){var $e$$=this.view.getPerimeterBounds($a$$),$f$$=new mxPoint($e$$.getCenterX(),$e$$.getCenterY()),$g$$=$a$$.style[mxConstants.STYLE_DIRECTION],$k$$=0;null!=$g$$&&1==mxUtils.getValue($a$$.style,mxConstants.STYLE_ANCHOR_POINT_DIRECTION,1)&&($g$$==mxConstants.DIRECTION_NORTH?$k$$+=270:$g$$==mxConstants.DIRECTION_WEST?$k$$+=180:$g$$==mxConstants.DIRECTION_SOUTH&&($k$$+=
90),$g$$!=mxConstants.DIRECTION_NORTH&&$g$$!=mxConstants.DIRECTION_SOUTH||$e$$.rotate90());$d$$=this.view.scale;$d$$=new mxPoint($e$$.x+$b$$.point.x*$e$$.width+$b$$.dx*$d$$,$e$$.y+$b$$.point.y*$e$$.height+$b$$.dy*$d$$);var $l$$=$a$$.style[mxConstants.STYLE_ROTATION]||0;if($b$$.perimeter)0!=$k$$&&($g$$=$e$$=0,90==$k$$?$g$$=1:180==$k$$?$e$$=-1:270==$k$$&&($g$$=-1),$d$$=mxUtils.getRotatedPoint($d$$,$e$$,$g$$,$f$$)),$d$$=this.view.getPerimeterPoint($a$$,$d$$,!1);else if($l$$+=$k$$,this.getModel().isVertex($a$$.cell)){$k$$=
1==$a$$.style[mxConstants.STYLE_FLIPH];$b$$=1==$a$$.style[mxConstants.STYLE_FLIPV];null!=$a$$.shape&&null!=$a$$.shape.stencil&&($k$$=1==mxUtils.getValue($a$$.style,"stencilFlipH",0)||$k$$,$b$$=1==mxUtils.getValue($a$$.style,"stencilFlipV",0)||$b$$);if($g$$==mxConstants.DIRECTION_NORTH||$g$$==mxConstants.DIRECTION_SOUTH)$a$$=$k$$,$k$$=$b$$,$b$$=$a$$;$k$$&&($d$$.x=2*$e$$.getCenterX()-$d$$.x);$b$$&&($d$$.y=2*$e$$.getCenterY()-$d$$.y)}0!=$l$$&&null!=$d$$&&($a$$=mxUtils.toRadians($l$$),$e$$=Math.cos($a$$),
$g$$=Math.sin($a$$),$d$$=mxUtils.getRotatedPoint($d$$,$e$$,$g$$,$f$$))}$c$$&&null!=$d$$&&($d$$.x=Math.round($d$$.x),$d$$.y=Math.round($d$$.y));return $d$$};mxGraph.prototype.connectCell=function($a$$,$b$$,$c$$,$d$$){this.model.beginUpdate();try{var $e$$=this.model.getTerminal($a$$,$c$$);this.cellConnected($a$$,$b$$,$c$$,$d$$);this.fireEvent(new mxEventObject(mxEvent.CONNECT_CELL,"edge",$a$$,"terminal",$b$$,"source",$c$$,"previous",$e$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellConnected=function($a$$,$b$$,$c$$,$d$$){if(null!=$a$$){this.model.beginUpdate();try{var $e$$=this.model.getTerminal($a$$,$c$$);this.setConnectionConstraint($a$$,$b$$,$c$$,$d$$);this.isPortsEnabled()&&($d$$=null,this.isPort($b$$)&&($d$$=$b$$.getId(),$b$$=this.getTerminalForPort($b$$,$c$$)),this.setCellStyles($c$$?mxConstants.STYLE_SOURCE_PORT:mxConstants.STYLE_TARGET_PORT,$d$$,[$a$$]));this.model.setTerminal($a$$,$b$$,$c$$);this.resetEdgesOnConnect&&this.resetEdge($a$$);this.fireEvent(new mxEventObject(mxEvent.CELL_CONNECTED,
"edge",$a$$,"terminal",$b$$,"source",$c$$,"previous",$e$$))}finally{this.model.endUpdate()}}};
mxGraph.prototype.disconnectGraph=function($a$$){if(null!=$a$$){this.model.beginUpdate();try{for(var $b$$=this.view.scale,$c$$=this.view.translate,$d$$=new mxDictionary,$e$$=0;$e$$<$a$$.length;$e$$++)$d$$.put($a$$[$e$$],!0);for($e$$=0;$e$$<$a$$.length;$e$$++)if(this.model.isEdge($a$$[$e$$])){var $f$$=this.model.getGeometry($a$$[$e$$]);if(null!=$f$$){var $g$$=this.view.getState($a$$[$e$$]),$k$$=this.view.getState(this.model.getParent($a$$[$e$$]));if(null!=$g$$&&null!=$k$$){$f$$=$f$$.clone();var $l$$=
-$k$$.origin.x,$m$$=-$k$$.origin.y,$n$$=$g$$.absolutePoints,$p$$=this.model.getTerminal($a$$[$e$$],!0);if(null!=$p$$&&this.isCellDisconnectable($a$$[$e$$],$p$$,!0)){for(;null!=$p$$&&!$d$$.get($p$$);)$p$$=this.model.getParent($p$$);null==$p$$&&($f$$.setTerminalPoint(new mxPoint($n$$[0].x/$b$$-$c$$.x+$l$$,$n$$[0].y/$b$$-$c$$.y+$m$$),!0),this.model.setTerminal($a$$[$e$$],null,!0))}var $q$$=this.model.getTerminal($a$$[$e$$],!1);if(null!=$q$$&&this.isCellDisconnectable($a$$[$e$$],$q$$,!1)){for(;null!=
$q$$&&!$d$$.get($q$$);)$q$$=this.model.getParent($q$$);if(null==$q$$){var $r$$=$n$$.length-1;$f$$.setTerminalPoint(new mxPoint($n$$[$r$$].x/$b$$-$c$$.x+$l$$,$n$$[$r$$].y/$b$$-$c$$.y+$m$$),!1);this.model.setTerminal($a$$[$e$$],null,!1)}}this.model.setGeometry($a$$[$e$$],$f$$)}}}}finally{this.model.endUpdate()}}};mxGraph.prototype.getCurrentRoot=function(){return this.view.currentRoot};mxGraph.prototype.getTranslateForRoot=function($a$$){return null};mxGraph.prototype.isPort=function($a$$){return!1};
mxGraph.prototype.getTerminalForPort=function($a$$,$b$$){return this.model.getParent($a$$)};mxGraph.prototype.getChildOffsetForCell=function($a$$){return null};mxGraph.prototype.enterGroup=function($a$$){$a$$=$a$$||this.getSelectionCell();null!=$a$$&&this.isValidRoot($a$$)&&(this.view.setCurrentRoot($a$$),this.clearSelection(),$a$$=mxRectangle.fromRectangle(this.getGraphBounds()),$a$$.x-=this.view.translate.x,$a$$.y-=this.view.translate.y,this.scrollRectToVisible($a$$))};
mxGraph.prototype.exitGroup=function(){var $a$$=this.model.getRoot(),$b$$=this.getCurrentRoot();if(null!=$b$$){for(var $c$$=this.model.getParent($b$$);$c$$!=$a$$&&!this.isValidRoot($c$$)&&this.model.getParent($c$$)!=$a$$;)$c$$=this.model.getParent($c$$);$c$$==$a$$||this.model.getParent($c$$)==$a$$?this.view.setCurrentRoot(null):this.view.setCurrentRoot($c$$);null!=this.view.getState($b$$)&&(this.setSelectionCell($b$$),this.scrollCellToVisible($b$$))}};
mxGraph.prototype.home=function(){var $a$$=this.getCurrentRoot();null!=$a$$&&(this.view.setCurrentRoot(null),null!=this.view.getState($a$$)&&this.setSelectionCell($a$$))};mxGraph.prototype.isValidRoot=function($a$$){return null!=$a$$};mxGraph.prototype.getGraphBounds=function(){return this.view.getGraphBounds()};
mxGraph.prototype.getCellBounds=function($a$$,$b$$,$c$$){var $d$$=[$a$$];$b$$&&($d$$=$d$$.concat(this.model.getEdges($a$$)));$d$$=this.view.getBounds($d$$);if($c$$){$c$$=this.model.getChildCount($a$$);for(var $e$$=0;$e$$<$c$$;$e$$++){var $f$$=this.getCellBounds(this.model.getChildAt($a$$,$e$$),$b$$,!0);null!=$d$$?$d$$.add($f$$):$d$$=$f$$}}return $d$$};
mxGraph.prototype.getBoundingBoxFromGeometry=function($a$$,$b$$,$c$$,$d$$){$b$$=null!=$b$$?$b$$:!1;var $e$$=null;if(null!=$a$$)for(var $f$$=0;$f$$<$a$$.length;$f$$++)if($b$$||this.model.isVertex($a$$[$f$$])){var $g$$=this.getCellGeometry($a$$[$f$$]);if(null!=$g$$){var $k$$=this.model.getParent($a$$[$f$$]),$l$$=null;if(this.model.isEdge($a$$[$f$$])){var $m$$=function($p$$){null!=$p$$&&(null==$l$$?$l$$=new mxRectangle($p$$.x,$p$$.y,0,0):$l$$.add(new mxRectangle($p$$.x,$p$$.y,0,0)))};null==this.model.getTerminal($a$$[$f$$],
!0)&&$m$$($g$$.getTerminalPoint(!0));null==this.model.getTerminal($a$$[$f$$],!1)&&$m$$($g$$.getTerminalPoint(!1));$g$$=$g$$.points;if(null!=$g$$)for(var $n$$=0;$n$$<$g$$.length;$n$$++)$m$$($g$$[$n$$]);null!=$l$$&&this.model.isVertex($k$$)&&0<=mxUtils.indexOf(null!=$c$$?$c$$:$a$$,$k$$)&&($m$$=this.getBoundingBoxFromGeometry([$k$$],!1,null!=$c$$?$c$$:$a$$,$d$$),null!=$m$$&&($l$$.x+=$m$$.x,$l$$.y+=$m$$.y))}else $g$$.relative?this.model.isVertex($k$$)&&$k$$!=this.view.currentRoot&&($m$$=this.getBoundingBoxFromGeometry([$k$$],
!1,null!=$c$$?$c$$:$a$$,$d$$),null!=$m$$&&($l$$=new mxRectangle($g$$.x*$m$$.width,$g$$.y*$m$$.height,$g$$.width,$g$$.height),0<=mxUtils.indexOf(null!=$c$$?$c$$:$a$$,$k$$)&&($l$$.x+=$m$$.x,$l$$.y+=$m$$.y))):($l$$=mxRectangle.fromRectangle($g$$),this.model.isVertex($k$$)&&0<=mxUtils.indexOf(null!=$c$$?$c$$:$a$$,$k$$)&&($m$$=this.getBoundingBoxFromGeometry([$k$$],!1,null!=$c$$?$c$$:$a$$,$d$$),null!=$m$$&&($l$$.x+=$m$$.x,$l$$.y+=$m$$.y))),null!=$l$$&&null!=$g$$.offset&&($l$$.x+=$g$$.offset.x,$l$$.y+=
$g$$.offset.y),$k$$=this.getCurrentCellStyle($a$$[$f$$]),null!=$l$$&&($k$$=mxUtils.getValue($k$$,mxConstants.STYLE_ROTATION,0),0!=$k$$&&($l$$=mxUtils.getBoundingBox($l$$,$k$$)));null!=$l$$&&($d$$&&($k$$=this.getCurrentCellStyle($a$$[$f$$],!0),null!=$k$$&&($k$$=mxUtils.getNumber($k$$,mxConstants.STYLE_STROKEWIDTH,1),$l$$.grow($k$$/2))),null==$e$$?$e$$=mxRectangle.fromRectangle($l$$):$e$$.add($l$$))}}return $e$$};
mxGraph.prototype.refresh=function($a$$){this.view.clear($a$$,null==$a$$);this.view.validate();this.sizeDidChange();this.fireEvent(new mxEventObject(mxEvent.REFRESH))};mxGraph.prototype.snap=function($a$$){this.gridEnabled&&($a$$=Math.round($a$$/this.gridSize)*this.gridSize);return $a$$};
mxGraph.prototype.snapDelta=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.view.translate,$g$$=this.view.scale;!$c$$&&this.gridEnabled?($c$$=this.gridSize*$g$$*.5,$d$$||($d$$=$b$$.x-(this.snap($b$$.x/$g$$-$f$$.x)+$f$$.x)*$g$$,$a$$.x=Math.abs($a$$.x-$d$$)<$c$$?0:this.snap($a$$.x/$g$$)*$g$$-$d$$),$e$$||($b$$=$b$$.y-(this.snap($b$$.y/$g$$-$f$$.y)+$f$$.y)*$g$$,$a$$.y=Math.abs($a$$.y-$b$$)<$c$$?0:this.snap($a$$.y/$g$$)*$g$$-$b$$)):($c$$=.5*$g$$,$d$$||($d$$=$b$$.x-(Math.round($b$$.x/$g$$-$f$$.x)+$f$$.x)*
$g$$,$a$$.x=Math.abs($a$$.x-$d$$)<$c$$?0:Math.round($a$$.x/$g$$)*$g$$-$d$$),$e$$||($b$$=$b$$.y-(Math.round($b$$.y/$g$$-$f$$.y)+$f$$.y)*$g$$,$a$$.y=Math.abs($a$$.y-$b$$)<$c$$?0:Math.round($a$$.y/$g$$)*$g$$-$b$$));return $a$$};
mxGraph.prototype.panGraph=function($a$$,$b$$){if(this.useScrollbarsForPanning&&mxUtils.hasScrollbars(this.container))this.container.scrollLeft=-$a$$,this.container.scrollTop=-$b$$;else{var $c$$=this.view.getCanvas();if(this.dialect==mxConstants.DIALECT_SVG)if(0==$a$$&&0==$b$$){if(mxClient.IS_IE?$c$$.setAttribute("transform","translate("+$a$$+","+$b$$+")"):$c$$.removeAttribute("transform"),null!=this.shiftPreview1){for(var $d$$=this.shiftPreview1.firstChild;null!=$d$$;){var $e$$=$d$$.nextSibling;
this.container.appendChild($d$$);$d$$=$e$$}null!=this.shiftPreview1.parentNode&&this.shiftPreview1.parentNode.removeChild(this.shiftPreview1);this.shiftPreview1=null;this.container.appendChild($c$$.parentNode);for($d$$=this.shiftPreview2.firstChild;null!=$d$$;)$e$$=$d$$.nextSibling,this.container.appendChild($d$$),$d$$=$e$$;null!=this.shiftPreview2.parentNode&&this.shiftPreview2.parentNode.removeChild(this.shiftPreview2);this.shiftPreview2=null}}else{$c$$.setAttribute("transform","translate("+$a$$+
","+$b$$+")");if(null==this.shiftPreview1){this.shiftPreview1=document.createElement("div");this.shiftPreview1.style.position="absolute";this.shiftPreview1.style.overflow="visible";this.shiftPreview2=document.createElement("div");this.shiftPreview2.style.position="absolute";this.shiftPreview2.style.overflow="visible";var $f$$=this.shiftPreview1;for($d$$=this.container.firstChild;null!=$d$$;)$e$$=$d$$.nextSibling,$d$$!=$c$$.parentNode?$f$$.appendChild($d$$):$f$$=this.shiftPreview2,$d$$=$e$$;null!=
this.shiftPreview1.firstChild&&this.container.insertBefore(this.shiftPreview1,$c$$.parentNode);null!=this.shiftPreview2.firstChild&&this.container.appendChild(this.shiftPreview2)}this.shiftPreview1.style.left=$a$$+"px";this.shiftPreview1.style.top=$b$$+"px";this.shiftPreview2.style.left=$a$$+"px";this.shiftPreview2.style.top=$b$$+"px"}else $c$$.style.left=$a$$+"px",$c$$.style.top=$b$$+"px";this.panDx=$a$$;this.panDy=$b$$;this.fireEvent(new mxEventObject(mxEvent.PAN))}};mxGraph.prototype.zoomIn=function(){this.zoom(this.zoomFactor)};
mxGraph.prototype.zoomOut=function(){this.zoom(1/this.zoomFactor)};mxGraph.prototype.zoomActual=function(){1==this.view.scale?this.view.setTranslate(0,0):(this.view.translate.x=0,this.view.translate.y=0,this.view.setScale(1))};mxGraph.prototype.zoomTo=function($a$$,$b$$){this.zoom($a$$/this.view.scale,$b$$)};
mxGraph.prototype.center=function($a$$,$b$$,$c$$,$d$$){$a$$=null!=$a$$?$a$$:!0;$b$$=null!=$b$$?$b$$:!0;$c$$=null!=$c$$?$c$$:.5;$d$$=null!=$d$$?$d$$:.5;var $e$$=mxUtils.hasScrollbars(this.container),$f$$=2*this.getBorder(),$g$$=this.container.clientWidth-$f$$;$f$$=this.container.clientHeight-$f$$;var $k$$=this.getGraphBounds(),$l$$=this.view.translate,$m$$=this.view.scale,$n$$=$a$$?$g$$-$k$$.width:0,$p$$=$b$$?$f$$-$k$$.height:0;$e$$?($k$$.x-=$l$$.x,$k$$.y-=$l$$.y,$a$$=this.container.scrollWidth,$b$$=
this.container.scrollHeight,$a$$>$g$$&&($n$$=0),$b$$>$f$$&&($p$$=0),this.view.setTranslate(Math.floor($n$$/2-$k$$.x),Math.floor($p$$/2-$k$$.y)),this.container.scrollLeft=($a$$-$g$$)/2,this.container.scrollTop=($b$$-$f$$)/2):this.view.setTranslate($a$$?Math.floor($l$$.x-$k$$.x/$m$$+$n$$*$c$$/$m$$):$l$$.x,$b$$?Math.floor($l$$.y-$k$$.y/$m$$+$p$$*$d$$/$m$$):$l$$.y)};
mxGraph.prototype.zoom=function($a$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:this.centerZoom;var $d$$=Math.round(this.view.scale*$a$$*100)/100;null!=$c$$&&($d$$=Math.round($d$$*$c$$)/$c$$);$c$$=this.view.getState(this.getSelectionCell());$a$$=$d$$/this.view.scale;if(this.keepSelectionVisibleOnZoom&&null!=$c$$)$a$$=new mxRectangle($c$$.x*$a$$,$c$$.y*$a$$,$c$$.width*$a$$,$c$$.height*$a$$),this.view.scale=$d$$,this.scrollRectToVisible($a$$)||(this.view.revalidate(),this.view.setScale($d$$));else if($c$$=mxUtils.hasScrollbars(this.container),
$b$$&&!$c$$){$c$$=this.container.offsetWidth;var $e$$=this.container.offsetHeight;1<$a$$?($a$$=($a$$-1)/(2*$d$$),$c$$*=-$a$$,$e$$*=-$a$$):($a$$=(1/$a$$-1)/(2*this.view.scale),$c$$*=$a$$,$e$$*=$a$$);this.view.scaleAndTranslate($d$$,this.view.translate.x+$c$$,this.view.translate.y+$e$$)}else{var $f$$=this.view.translate.x,$g$$=this.view.translate.y,$k$$=this.container.scrollLeft,$l$$=this.container.scrollTop;this.view.setScale($d$$);$c$$&&($e$$=$c$$=0,$b$$&&($c$$=this.container.offsetWidth*($a$$-1)/
2,$e$$=this.container.offsetHeight*($a$$-1)/2),this.container.scrollLeft=(this.view.translate.x-$f$$)*this.view.scale+Math.round($k$$*$a$$+$c$$),this.container.scrollTop=(this.view.translate.y-$g$$)*this.view.scale+Math.round($l$$*$a$$+$e$$))}};
mxGraph.prototype.zoomToRect=function($a$$){var $b$$=this.container.clientWidth/$a$$.width/(this.container.clientHeight/$a$$.height);$a$$.x=Math.max(0,$a$$.x);$a$$.y=Math.max(0,$a$$.y);var $c$$=Math.min(this.container.scrollWidth,$a$$.x+$a$$.width),$d$$=Math.min(this.container.scrollHeight,$a$$.y+$a$$.height);$a$$.width=$c$$-$a$$.x;$a$$.height=$d$$-$a$$.y;1>$b$$?($b$$=$a$$.height/$b$$,$c$$=($b$$-$a$$.height)/2,$a$$.height=$b$$,$a$$.y-=Math.min($a$$.y,$c$$),$d$$=Math.min(this.container.scrollHeight,
$a$$.y+$a$$.height),$a$$.height=$d$$-$a$$.y):($b$$*=$a$$.width,$c$$=($b$$-$a$$.width)/2,$a$$.width=$b$$,$a$$.x-=Math.min($a$$.x,$c$$),$c$$=Math.min(this.container.scrollWidth,$a$$.x+$a$$.width),$a$$.width=$c$$-$a$$.x);$b$$=this.container.clientWidth/$a$$.width;$c$$=this.view.scale*$b$$;mxUtils.hasScrollbars(this.container)?(this.view.setScale($c$$),this.container.scrollLeft=Math.round($a$$.x*$b$$),this.container.scrollTop=Math.round($a$$.y*$b$$)):this.view.scaleAndTranslate($c$$,this.view.translate.x-
$a$$.x/this.view.scale,this.view.translate.y-$a$$.y/this.view.scale)};
mxGraph.prototype.scrollCellToVisible=function($a$$,$b$$){var $c$$=-this.view.translate.x,$d$$=-this.view.translate.y;$a$$=this.view.getState($a$$);null!=$a$$&&($c$$=new mxRectangle($c$$+$a$$.x,$d$$+$a$$.y,$a$$.width,$a$$.height),$b$$&&null!=this.container&&($b$$=this.container.clientWidth,$d$$=this.container.clientHeight,$c$$.x=$c$$.getCenterX()-$b$$/2,$c$$.width=$b$$,$c$$.y=$c$$.getCenterY()-$d$$/2,$c$$.height=$d$$),$b$$=new mxPoint(this.view.translate.x,this.view.translate.y),this.scrollRectToVisible($c$$)&&
($c$$=new mxPoint(this.view.translate.x,this.view.translate.y),this.view.translate.x=$b$$.x,this.view.translate.y=$b$$.y,this.view.setTranslate($c$$.x,$c$$.y)))};
mxGraph.prototype.scrollRectToVisible=function($a$$){var $b$$=!1;if(null!=$a$$){var $c$$=this.container.offsetWidth,$d$$=this.container.offsetHeight,$e$$=Math.min($c$$,$a$$.width),$f$$=Math.min($d$$,$a$$.height);if(mxUtils.hasScrollbars(this.container)){$c$$=this.container;$a$$.x+=this.view.translate.x;$a$$.y+=this.view.translate.y;var $g$$=$c$$.scrollLeft-$a$$.x;$d$$=Math.max($g$$-$c$$.scrollLeft,0);0<$g$$?$c$$.scrollLeft-=$g$$+2:($g$$=$a$$.x+$e$$-$c$$.scrollLeft-$c$$.clientWidth,0<$g$$&&($c$$.scrollLeft+=
$g$$+2));$e$$=$c$$.scrollTop-$a$$.y;$g$$=Math.max(0,$e$$-$c$$.scrollTop);0<$e$$?$c$$.scrollTop-=$e$$+2:($e$$=$a$$.y+$f$$-$c$$.scrollTop-$c$$.clientHeight,0<$e$$&&($c$$.scrollTop+=$e$$+2));this.useScrollbarsForPanning||0==$d$$&&0==$g$$||this.view.setTranslate($d$$,$g$$)}else{$g$$=-this.view.translate.x;var $k$$=-this.view.translate.y,$l$$=this.view.scale;$a$$.x+$e$$>$g$$+$c$$&&(this.view.translate.x-=($a$$.x+$e$$-$c$$-$g$$)/$l$$,$b$$=!0);$a$$.y+$f$$>$k$$+$d$$&&(this.view.translate.y-=($a$$.y+$f$$-
$d$$-$k$$)/$l$$,$b$$=!0);$a$$.x<$g$$&&(this.view.translate.x+=($g$$-$a$$.x)/$l$$,$b$$=!0);$a$$.y<$k$$&&(this.view.translate.y+=($k$$-$a$$.y)/$l$$,$b$$=!0);$b$$&&(this.view.refresh(),null!=this.selectionCellsHandler&&this.selectionCellsHandler.refresh())}}return $b$$};mxGraph.prototype.getCellGeometry=function($a$$){return this.model.getGeometry($a$$)};mxGraph.prototype.isCellVisible=function($a$$){return this.model.isVisible($a$$)};mxGraph.prototype.isCellCollapsed=function($a$$){return this.model.isCollapsed($a$$)};
mxGraph.prototype.isCellConnectable=function($a$$){return this.model.isConnectable($a$$)};mxGraph.prototype.isOrthogonal=function($a$$){var $b$$=$a$$.style[mxConstants.STYLE_ORTHOGONAL];if(null!=$b$$)return $b$$;$a$$=this.view.getEdgeStyle($a$$);return $a$$==mxEdgeStyle.SegmentConnector||$a$$==mxEdgeStyle.ElbowConnector||$a$$==mxEdgeStyle.SideToSide||$a$$==mxEdgeStyle.TopToBottom||$a$$==mxEdgeStyle.EntityRelation||$a$$==mxEdgeStyle.OrthConnector};
mxGraph.prototype.isLoop=function($a$$){var $b$$=$a$$.getVisibleTerminalState(!0);$a$$=$a$$.getVisibleTerminalState(!1);return null!=$b$$&&$b$$==$a$$};mxGraph.prototype.isCloneEvent=function($a$$){return mxEvent.isControlDown($a$$)};mxGraph.prototype.isTransparentClickEvent=function($a$$){return!1};mxGraph.prototype.isToggleEvent=function($a$$){return mxClient.IS_MAC?mxEvent.isMetaDown($a$$):mxEvent.isControlDown($a$$)};mxGraph.prototype.isGridEnabledEvent=function($a$$){return null!=$a$$&&!mxEvent.isAltDown($a$$)};
mxGraph.prototype.isConstrainedEvent=function($a$$){return mxEvent.isShiftDown($a$$)&&!mxEvent.isAltDown($a$$)};mxGraph.prototype.isIgnoreTerminalEvent=function($a$$){return!1};mxGraph.prototype.validationAlert=function($a$$){mxUtils.alert($a$$)};mxGraph.prototype.isEdgeValid=function($a$$,$b$$,$c$$){return null==this.getEdgeValidationError($a$$,$b$$,$c$$)};
mxGraph.prototype.getEdgeValidationError=function($a$$,$b$$,$c$$){if(null!=$a$$&&!this.isAllowDanglingEdges()&&(null==$b$$||null==$c$$))return"";if(null!=$a$$&&null==this.model.getTerminal($a$$,!0)&&null==this.model.getTerminal($a$$,!1))return null;if(!this.allowLoops&&$b$$==$c$$&&null!=$b$$||!this.isValidConnection($b$$,$c$$))return"";if(null!=$b$$&&null!=$c$$){var $d$$="";if(!this.multigraph){var $e$$=this.model.getEdgesBetween($b$$,$c$$,!0);if(1<$e$$.length||1==$e$$.length&&$e$$[0]!=$a$$)$d$$+=
(mxResources.get(this.alreadyConnectedResource)||this.alreadyConnectedResource)+"\n"}$e$$=this.model.getDirectedEdgeCount($b$$,!0,$a$$);var $f$$=this.model.getDirectedEdgeCount($c$$,!1,$a$$);if(null!=this.multiplicities)for(var $g$$=0;$g$$<this.multiplicities.length;$g$$++){var $k$$=this.multiplicities[$g$$].check(this,$a$$,$b$$,$c$$,$e$$,$f$$);null!=$k$$&&($d$$+=$k$$)}$k$$=this.validateEdge($a$$,$b$$,$c$$);null!=$k$$&&($d$$+=$k$$);return 0<$d$$.length?$d$$:null}return this.allowDanglingEdges?null:
""};mxGraph.prototype.validateEdge=function($a$$,$b$$,$c$$){return null};
mxGraph.prototype.validateGraph=function($a$$,$b$$){$a$$=null!=$a$$?$a$$:this.model.getRoot();$b$$=null!=$b$$?$b$$:{};for(var $c$$=!0,$d$$=this.model.getChildCount($a$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=this.model.getChildAt($a$$,$e$$),$g$$=$b$$;this.isValidRoot($f$$)&&($g$$={});$g$$=this.validateGraph($f$$,$g$$);null!=$g$$?this.setCellWarning($f$$,$g$$.replace(/\n/g,"<br>")):this.setCellWarning($f$$,null);$c$$=$c$$&&null==$g$$}$d$$="";this.isCellCollapsed($a$$)&&!$c$$&&($d$$+=(mxResources.get(this.containsValidationErrorsResource)||
this.containsValidationErrorsResource)+"\n");$d$$=this.model.isEdge($a$$)?$d$$+(this.getEdgeValidationError($a$$,this.model.getTerminal($a$$,!0),this.model.getTerminal($a$$,!1))||""):$d$$+(this.getCellValidationError($a$$)||"");$b$$=this.validateCell($a$$,$b$$);null!=$b$$&&($d$$+=$b$$);null==this.model.getParent($a$$)&&this.view.validate();return 0<$d$$.length||!$c$$?$d$$:null};
mxGraph.prototype.getCellValidationError=function($a$$){var $b$$=this.model.getDirectedEdgeCount($a$$,!0),$c$$=this.model.getDirectedEdgeCount($a$$,!1);$a$$=this.model.getValue($a$$);var $d$$="";if(null!=this.multiplicities)for(var $e$$=0;$e$$<this.multiplicities.length;$e$$++){var $f$$=this.multiplicities[$e$$];$f$$.source&&mxUtils.isNode($a$$,$f$$.type,$f$$.attr,$f$$.value)&&($b$$>$f$$.max||$b$$<$f$$.min)?$d$$+=$f$$.countError+"\n":!$f$$.source&&mxUtils.isNode($a$$,$f$$.type,$f$$.attr,$f$$.value)&&
($c$$>$f$$.max||$c$$<$f$$.min)&&($d$$+=$f$$.countError+"\n")}return 0<$d$$.length?$d$$:null};mxGraph.prototype.validateCell=function($a$$,$b$$){return null};mxGraph.prototype.getBackgroundImage=function(){return this.backgroundImage};mxGraph.prototype.setBackgroundImage=function($a$$){this.backgroundImage=$a$$};
mxGraph.prototype.getFoldingImage=function($a$$){if(null!=$a$$&&this.foldingEnabled&&!this.getModel().isEdge($a$$.cell)){var $b$$=this.isCellCollapsed($a$$.cell);if(this.isCellFoldable($a$$.cell,!$b$$))return $b$$?this.collapsedImage:this.expandedImage}return null};mxGraph.prototype.convertValueToString=function($a$$){$a$$=this.model.getValue($a$$);if(null!=$a$$){if(mxUtils.isNode($a$$))return $a$$.nodeName;if("function"==typeof $a$$.toString)return $a$$.toString()}return""};
mxGraph.prototype.getLabel=function($a$$){var $b$$="";if(this.labelsVisible&&null!=$a$$){var $c$$=this.getCurrentCellStyle($a$$);mxUtils.getValue($c$$,mxConstants.STYLE_NOLABEL,!1)||($b$$=this.convertValueToString($a$$))}return $b$$};mxGraph.prototype.isHtmlLabel=function($a$$){return this.isHtmlLabels()};mxGraph.prototype.isHtmlLabels=function(){return this.htmlLabels};mxGraph.prototype.setHtmlLabels=function($a$$){this.htmlLabels=$a$$};mxGraph.prototype.isWrapping=function($a$$){return"wrap"==this.getCurrentCellStyle($a$$)[mxConstants.STYLE_WHITE_SPACE]};
mxGraph.prototype.isLabelClipped=function($a$$){return"hidden"==this.getCurrentCellStyle($a$$)[mxConstants.STYLE_OVERFLOW]};
mxGraph.prototype.getTooltip=function($a$$,$b$$,$c$$,$d$$){var $e$$=null;null!=$a$$&&(null==$a$$.control||$b$$!=$a$$.control.node&&$b$$.parentNode!=$a$$.control.node||($e$$=this.collapseExpandResource,$e$$=mxUtils.htmlEntities(mxResources.get($e$$)||$e$$).replace(/\\n/g,"<br>")),null==$e$$&&null!=$a$$.overlays&&$a$$.overlays.visit(function($f$$,$g$$){null!=$e$$||$b$$!=$g$$.node&&$b$$.parentNode!=$g$$.node||($e$$=mxUtils.htmlEntities($g$$.overlay.toString()).replace(/\\n/g,"<br>"))}),null==$e$$&&($c$$=
this.selectionCellsHandler.getHandler($a$$.cell),null!=$c$$&&"function"==typeof $c$$.getTooltipForNode&&($e$$=$c$$.getTooltipForNode($b$$))),null==$e$$&&($e$$=this.getTooltipForCell($a$$.cell)));return $e$$};mxGraph.prototype.getTooltipForCell=function($a$$){return null!=$a$$&&null!=$a$$.getTooltip?$a$$.getTooltip():this.convertValueToString($a$$)};mxGraph.prototype.getLinkForCell=function($a$$){return null};mxGraph.prototype.getLinkTargetForCell=function($a$$){return null};
mxGraph.prototype.getCursorForMouseEvent=function($a$$){return this.getCursorForCell($a$$.getCell())};mxGraph.prototype.getCursorForCell=function($a$$){return null};mxGraph.prototype.getStartSize=function($a$$,$b$$){var $c$$=new mxRectangle;$a$$=this.getCurrentCellStyle($a$$,$b$$);$b$$=parseInt(mxUtils.getValue($a$$,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE));mxUtils.getValue($a$$,mxConstants.STYLE_HORIZONTAL,!0)?$c$$.height=$b$$:$c$$.width=$b$$;return $c$$};
mxGraph.prototype.getSwimlaneDirection=function($a$$){var $b$$=mxUtils.getValue($a$$,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST),$c$$=1==mxUtils.getValue($a$$,mxConstants.STYLE_FLIPH,0),$d$$=1==mxUtils.getValue($a$$,mxConstants.STYLE_FLIPV,0);$a$$=mxUtils.getValue($a$$,mxConstants.STYLE_HORIZONTAL,!0)?0:3;$b$$==mxConstants.DIRECTION_NORTH?$a$$--:$b$$==mxConstants.DIRECTION_WEST?$a$$+=2:$b$$==mxConstants.DIRECTION_SOUTH&&($a$$+=1);$b$$=mxUtils.mod($a$$,2);$c$$&&1==$b$$&&($a$$+=2);$d$$&&
0==$b$$&&($a$$+=2);return[mxConstants.DIRECTION_NORTH,mxConstants.DIRECTION_EAST,mxConstants.DIRECTION_SOUTH,mxConstants.DIRECTION_WEST][mxUtils.mod($a$$,4)]};
mxGraph.prototype.getActualStartSize=function($a$$,$b$$){var $c$$=new mxRectangle;this.isSwimlane($a$$,$b$$)&&($b$$=this.getCurrentCellStyle($a$$,$b$$),$a$$=parseInt(mxUtils.getValue($b$$,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE)),$b$$=this.getSwimlaneDirection($b$$),$b$$==mxConstants.DIRECTION_NORTH?$c$$.y=$a$$:$b$$==mxConstants.DIRECTION_WEST?$c$$.x=$a$$:$b$$==mxConstants.DIRECTION_SOUTH?$c$$.height=$a$$:$c$$.width=$a$$);return $c$$};
mxGraph.prototype.getImage=function($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_IMAGE]:null};mxGraph.prototype.isTransparentState=function($a$$){var $b$$=!1;if(null!=$a$$){$b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE);var $c$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE);$b$$=$b$$==mxConstants.NONE&&$c$$==mxConstants.NONE&&null==this.getImage($a$$)}return $b$$};
mxGraph.prototype.getVerticalAlign=function($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_VERTICAL_ALIGN]||mxConstants.ALIGN_MIDDLE:null};mxGraph.prototype.getIndicatorColor=function($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_INDICATOR_COLOR]:null};mxGraph.prototype.getIndicatorGradientColor=function($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_INDICATOR_GRADIENTCOLOR]:null};
mxGraph.prototype.getIndicatorShape=function($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_INDICATOR_SHAPE]:null};mxGraph.prototype.getIndicatorImage=function($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_INDICATOR_IMAGE]:null};mxGraph.prototype.getBorder=function(){return this.border};mxGraph.prototype.setBorder=function($a$$){this.border=$a$$};
mxGraph.prototype.isSwimlane=function($a$$,$b$$){return null==$a$$||this.model.getParent($a$$)==this.model.getRoot()||this.model.isEdge($a$$)?!1:this.getCurrentCellStyle($a$$,$b$$)[mxConstants.STYLE_SHAPE]==mxConstants.SHAPE_SWIMLANE};mxGraph.prototype.isResizeContainer=function(){return this.resizeContainer};mxGraph.prototype.setResizeContainer=function($a$$){this.resizeContainer=$a$$};mxGraph.prototype.isEnabled=function(){return this.enabled};
mxGraph.prototype.setEnabled=function($a$$){this.enabled=$a$$;this.fireEvent(new mxEventObject("enabledChanged","enabled",$a$$))};mxGraph.prototype.isEscapeEnabled=function(){return this.escapeEnabled};mxGraph.prototype.setEscapeEnabled=function($a$$){this.escapeEnabled=$a$$};mxGraph.prototype.isInvokesStopCellEditing=function(){return this.invokesStopCellEditing};mxGraph.prototype.setInvokesStopCellEditing=function($a$$){this.invokesStopCellEditing=$a$$};
mxGraph.prototype.isEnterStopsCellEditing=function(){return this.enterStopsCellEditing};mxGraph.prototype.setEnterStopsCellEditing=function($a$$){this.enterStopsCellEditing=$a$$};mxGraph.prototype.isCellLocked=function($a$$){var $b$$=this.model.getGeometry($a$$);return this.isCellsLocked()||null!=$b$$&&this.model.isVertex($a$$)&&$b$$.relative};mxGraph.prototype.isCellsLocked=function(){return this.cellsLocked};mxGraph.prototype.setCellsLocked=function($a$$){this.cellsLocked=$a$$};
mxGraph.prototype.getCloneableCells=function($a$$){return this.model.filterCells($a$$,mxUtils.bind(this,function($b$$){return this.isCellCloneable($b$$)}))};mxGraph.prototype.isCellCloneable=function($a$$){$a$$=this.getCurrentCellStyle($a$$);return this.isCellsCloneable()&&0!=$a$$[mxConstants.STYLE_CLONEABLE]};mxGraph.prototype.isCellsCloneable=function(){return this.cellsCloneable};mxGraph.prototype.setCellsCloneable=function($a$$){this.cellsCloneable=$a$$};
mxGraph.prototype.getExportableCells=function($a$$){return this.model.filterCells($a$$,mxUtils.bind(this,function($b$$){return this.canExportCell($b$$)}))};mxGraph.prototype.canExportCell=function($a$$){return this.exportEnabled};mxGraph.prototype.getImportableCells=function($a$$){return this.model.filterCells($a$$,mxUtils.bind(this,function($b$$){return this.canImportCell($b$$)}))};mxGraph.prototype.canImportCell=function($a$$){return this.importEnabled};mxGraph.prototype.isCellSelectable=function($a$$){return this.isCellsSelectable()};
mxGraph.prototype.isCellsSelectable=function(){return this.cellsSelectable};mxGraph.prototype.setCellsSelectable=function($a$$){this.cellsSelectable=$a$$};mxGraph.prototype.getDeletableCells=function($a$$){return this.model.filterCells($a$$,mxUtils.bind(this,function($b$$){return this.isCellDeletable($b$$)}))};mxGraph.prototype.isCellDeletable=function($a$$){$a$$=this.getCurrentCellStyle($a$$);return this.isCellsDeletable()&&0!=$a$$[mxConstants.STYLE_DELETABLE]};
mxGraph.prototype.isCellsDeletable=function(){return this.cellsDeletable};mxGraph.prototype.setCellsDeletable=function($a$$){this.cellsDeletable=$a$$};mxGraph.prototype.isLabelMovable=function($a$$){return!this.isCellLocked($a$$)&&(this.model.isEdge($a$$)&&this.edgeLabelsMovable||this.model.isVertex($a$$)&&this.vertexLabelsMovable)};mxGraph.prototype.getRotatableCells=function($a$$){return this.model.filterCells($a$$,mxUtils.bind(this,function($b$$){return this.isCellRotatable($b$$)}))};
mxGraph.prototype.isCellRotatable=function($a$$){return 0!=this.getCurrentCellStyle($a$$)[mxConstants.STYLE_ROTATABLE]};mxGraph.prototype.getMovableCells=function($a$$){return this.model.filterCells($a$$,mxUtils.bind(this,function($b$$){return this.isCellMovable($b$$)}))};mxGraph.prototype.isCellMovable=function($a$$){var $b$$=this.getCurrentCellStyle($a$$);return this.isCellsMovable()&&!this.isCellLocked($a$$)&&0!=$b$$[mxConstants.STYLE_MOVABLE]};mxGraph.prototype.isCellsMovable=function(){return this.cellsMovable};
mxGraph.prototype.setCellsMovable=function($a$$){this.cellsMovable=$a$$};mxGraph.prototype.isGridEnabled=function(){return this.gridEnabled};mxGraph.prototype.setGridEnabled=function($a$$){this.gridEnabled=$a$$};mxGraph.prototype.isPortsEnabled=function(){return this.portsEnabled};mxGraph.prototype.setPortsEnabled=function($a$$){this.portsEnabled=$a$$};mxGraph.prototype.getGridSize=function(){return this.gridSize};mxGraph.prototype.setGridSize=function($a$$){this.gridSize=$a$$};
mxGraph.prototype.getTolerance=function(){return this.tolerance};mxGraph.prototype.setTolerance=function($a$$){this.tolerance=$a$$};mxGraph.prototype.isVertexLabelsMovable=function(){return this.vertexLabelsMovable};mxGraph.prototype.setVertexLabelsMovable=function($a$$){this.vertexLabelsMovable=$a$$};mxGraph.prototype.isEdgeLabelsMovable=function(){return this.edgeLabelsMovable};mxGraph.prototype.setEdgeLabelsMovable=function($a$$){this.edgeLabelsMovable=$a$$};
mxGraph.prototype.isSwimlaneNesting=function(){return this.swimlaneNesting};mxGraph.prototype.setSwimlaneNesting=function($a$$){this.swimlaneNesting=$a$$};mxGraph.prototype.isSwimlaneSelectionEnabled=function(){return this.swimlaneSelectionEnabled};mxGraph.prototype.setSwimlaneSelectionEnabled=function($a$$){this.swimlaneSelectionEnabled=$a$$};mxGraph.prototype.isMultigraph=function(){return this.multigraph};mxGraph.prototype.setMultigraph=function($a$$){this.multigraph=$a$$};
mxGraph.prototype.isAllowLoops=function(){return this.allowLoops};mxGraph.prototype.setAllowDanglingEdges=function($a$$){this.allowDanglingEdges=$a$$};mxGraph.prototype.isAllowDanglingEdges=function(){return this.allowDanglingEdges};mxGraph.prototype.setConnectableEdges=function($a$$){this.connectableEdges=$a$$};mxGraph.prototype.isConnectableEdges=function(){return this.connectableEdges};mxGraph.prototype.setCloneInvalidEdges=function($a$$){this.cloneInvalidEdges=$a$$};
mxGraph.prototype.isCloneInvalidEdges=function(){return this.cloneInvalidEdges};mxGraph.prototype.setAllowLoops=function($a$$){this.allowLoops=$a$$};mxGraph.prototype.isDisconnectOnMove=function(){return this.disconnectOnMove};mxGraph.prototype.setDisconnectOnMove=function($a$$){this.disconnectOnMove=$a$$};mxGraph.prototype.isDropEnabled=function(){return this.dropEnabled};mxGraph.prototype.setDropEnabled=function($a$$){this.dropEnabled=$a$$};mxGraph.prototype.isSplitEnabled=function(){return this.splitEnabled};
mxGraph.prototype.setSplitEnabled=function($a$$){this.splitEnabled=$a$$};mxGraph.prototype.getResizableCells=function($a$$){return this.model.filterCells($a$$,mxUtils.bind(this,function($b$$){return this.isCellResizable($b$$)}))};mxGraph.prototype.isCellResizable=function($a$$){var $b$$=this.getCurrentCellStyle($a$$);return this.isCellsResizable()&&!this.isCellLocked($a$$)&&"0"!=mxUtils.getValue($b$$,mxConstants.STYLE_RESIZABLE,"1")};mxGraph.prototype.isCellsResizable=function(){return this.cellsResizable};
mxGraph.prototype.setCellsResizable=function($a$$){this.cellsResizable=$a$$};mxGraph.prototype.isTerminalPointMovable=function($a$$,$b$$){return!0};mxGraph.prototype.isCellBendable=function($a$$){var $b$$=this.getCurrentCellStyle($a$$);return this.isCellsBendable()&&!this.isCellLocked($a$$)&&0!=$b$$[mxConstants.STYLE_BENDABLE]};mxGraph.prototype.isCellsBendable=function(){return this.cellsBendable};mxGraph.prototype.setCellsBendable=function($a$$){this.cellsBendable=$a$$};
mxGraph.prototype.getEditableCells=function($a$$){return this.model.filterCells($a$$,mxUtils.bind(this,function($b$$){return this.isCellEditable($b$$)}))};mxGraph.prototype.isCellEditable=function($a$$){var $b$$=this.getCurrentCellStyle($a$$);return this.isCellsEditable()&&!this.isCellLocked($a$$)&&0!=$b$$[mxConstants.STYLE_EDITABLE]};mxGraph.prototype.isCellsEditable=function(){return this.cellsEditable};mxGraph.prototype.setCellsEditable=function($a$$){this.cellsEditable=$a$$};
mxGraph.prototype.isCellDisconnectable=function($a$$,$b$$,$c$$){return this.isCellsDisconnectable()&&!this.isCellLocked($a$$)};mxGraph.prototype.isCellsDisconnectable=function(){return this.cellsDisconnectable};mxGraph.prototype.setCellsDisconnectable=function($a$$){this.cellsDisconnectable=$a$$};mxGraph.prototype.isValidSource=function($a$$){return null==$a$$&&this.allowDanglingEdges||null!=$a$$&&(!this.model.isEdge($a$$)||this.connectableEdges)&&this.isCellConnectable($a$$)};
mxGraph.prototype.isValidTarget=function($a$$){return this.isValidSource($a$$)};mxGraph.prototype.isValidConnection=function($a$$,$b$$){return this.isValidSource($a$$)&&this.isValidTarget($b$$)};mxGraph.prototype.setConnectable=function($a$$){this.connectionHandler.setEnabled($a$$)};mxGraph.prototype.isConnectable=function(){return this.connectionHandler.isEnabled()};mxGraph.prototype.setTooltips=function($a$$){this.tooltipHandler.setEnabled($a$$)};
mxGraph.prototype.setPanning=function($a$$){this.panningHandler.panningEnabled=$a$$};mxGraph.prototype.isEditing=function($a$$){if(null!=this.cellEditor){var $b$$=this.cellEditor.getEditingCell();return null==$a$$?null!=$b$$:$a$$==$b$$}return!1};mxGraph.prototype.isAutoSizeCell=function($a$$){$a$$=this.getCurrentCellStyle($a$$);return this.isAutoSizeCells()||1==$a$$[mxConstants.STYLE_AUTOSIZE]};mxGraph.prototype.isAutoSizeCells=function(){return this.autoSizeCells};
mxGraph.prototype.setAutoSizeCells=function($a$$){this.autoSizeCells=$a$$};mxGraph.prototype.isExtendParent=function($a$$){return!this.getModel().isEdge($a$$)&&this.isExtendParents()};mxGraph.prototype.isExtendParents=function(){return this.extendParents};mxGraph.prototype.setExtendParents=function($a$$){this.extendParents=$a$$};mxGraph.prototype.isExtendParentsOnAdd=function($a$$){return this.extendParentsOnAdd};mxGraph.prototype.setExtendParentsOnAdd=function($a$$){this.extendParentsOnAdd=$a$$};
mxGraph.prototype.isExtendParentsOnMove=function(){return this.extendParentsOnMove};mxGraph.prototype.setExtendParentsOnMove=function($a$$){this.extendParentsOnMove=$a$$};mxGraph.prototype.isRecursiveResize=function($a$$){return this.recursiveResize};mxGraph.prototype.setRecursiveResize=function($a$$){this.recursiveResize=$a$$};mxGraph.prototype.isConstrainChild=function($a$$){return this.isConstrainChildren()&&!this.getModel().isEdge(this.getModel().getParent($a$$))};
mxGraph.prototype.isConstrainChildren=function(){return this.constrainChildren};mxGraph.prototype.setConstrainChildren=function($a$$){this.constrainChildren=$a$$};mxGraph.prototype.isConstrainRelativeChildren=function(){return this.constrainRelativeChildren};mxGraph.prototype.setConstrainRelativeChildren=function($a$$){this.constrainRelativeChildren=$a$$};mxGraph.prototype.isAllowNegativeCoordinates=function(){return this.allowNegativeCoordinates};
mxGraph.prototype.setAllowNegativeCoordinates=function($a$$){this.allowNegativeCoordinates=$a$$};mxGraph.prototype.getOverlap=function($a$$){return this.isAllowOverlapParent($a$$)?this.defaultOverlap:0};mxGraph.prototype.isAllowOverlapParent=function($a$$){return!1};mxGraph.prototype.getFoldableCells=function($a$$,$b$$){return this.model.filterCells($a$$,mxUtils.bind(this,function($c$$){return this.isCellFoldable($c$$,$b$$)}))};
mxGraph.prototype.isCellFoldable=function($a$$,$b$$){$b$$=this.getCurrentCellStyle($a$$);return 0<this.model.getChildCount($a$$)&&0!=$b$$[mxConstants.STYLE_FOLDABLE]};mxGraph.prototype.isValidDropTarget=function($a$$,$b$$,$c$$){return null!=$a$$&&!this.isCellLocked($a$$)&&(this.isSplitEnabled()&&this.isSplitTarget($a$$,$b$$,$c$$)||!this.model.isEdge($a$$)&&(this.isSwimlane($a$$)||0<this.model.getChildCount($a$$)&&!this.isCellCollapsed($a$$)))};
mxGraph.prototype.isSplitTarget=function($a$$,$b$$,$c$$){return this.model.isEdge($a$$)&&null!=$b$$&&1==$b$$.length&&this.isCellConnectable($b$$[0])&&null==this.getEdgeValidationError($a$$,this.model.getTerminal($a$$,!0),$b$$[0])?($c$$=this.model.getTerminal($a$$,!0),$a$$=this.model.getTerminal($a$$,!1),!this.model.isAncestor($b$$[0],$c$$)&&!this.model.isAncestor($b$$[0],$a$$)):!1};
mxGraph.prototype.getDropTarget=function($a$$,$b$$,$c$$,$d$$){if(!this.isSwimlaneNesting())for(var $e$$=0;$e$$<$a$$.length;$e$$++)if(this.isSwimlane($a$$[$e$$]))return null;$e$$=mxUtils.convertPoint(this.container,mxEvent.getClientX($b$$),mxEvent.getClientY($b$$));$e$$.x-=this.panDx;$e$$.y-=this.panDy;$e$$=this.getSwimlaneAt($e$$.x,$e$$.y);if(null==$c$$)$c$$=$e$$;else if(null!=$e$$){for(var $f$$=this.model.getParent($e$$);null!=$f$$&&this.isSwimlane($f$$)&&$f$$!=$c$$;)$f$$=this.model.getParent($f$$);
$f$$==$c$$&&($c$$=$e$$)}for(;null!=$c$$&&!this.isValidDropTarget($c$$,$a$$,$b$$)&&!this.model.isLayer($c$$);)$c$$=this.model.getParent($c$$);if(null==$d$$||!$d$$)for(var $g$$=$c$$;null!=$g$$&&0>mxUtils.indexOf($a$$,$g$$);)$g$$=this.model.getParent($g$$);return this.model.isLayer($c$$)||null!=$g$$?null:$c$$};mxGraph.prototype.getDefaultParent=function(){var $a$$=this.getCurrentRoot();null==$a$$&&($a$$=this.defaultParent,null==$a$$&&($a$$=this.model.getRoot(),$a$$=this.model.getChildAt($a$$,0)));return $a$$};
mxGraph.prototype.setDefaultParent=function($a$$){this.defaultParent=$a$$};mxGraph.prototype.getSwimlane=function($a$$){for(;null!=$a$$&&!this.isSwimlane($a$$);)$a$$=this.model.getParent($a$$);return $a$$};
mxGraph.prototype.getSwimlaneAt=function($a$$,$b$$,$c$$){null==$c$$&&($c$$=this.getCurrentRoot(),null==$c$$&&($c$$=this.model.getRoot()));if(null!=$c$$)for(var $d$$=this.model.getChildCount($c$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=this.model.getChildAt($c$$,$e$$);if(null!=$f$$){var $g$$=this.getSwimlaneAt($a$$,$b$$,$f$$);if(null!=$g$$)return $g$$;if(this.isCellVisible($f$$)&&this.isSwimlane($f$$)&&($g$$=this.view.getState($f$$),this.intersects($g$$,$a$$,$b$$)))return $f$$}}return null};
mxGraph.prototype.getCellAt=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$d$$=null!=$d$$?$d$$:!0;$e$$=null!=$e$$?$e$$:!0;null==$c$$&&($c$$=this.getCurrentRoot(),null==$c$$&&($c$$=this.getModel().getRoot()));if(null!=$c$$)for(var $g$$=this.model.getChildCount($c$$)-1;0<=$g$$;$g$$--){var $k$$=this.model.getChildAt($c$$,$g$$),$l$$=this.getCellAt($a$$,$b$$,$k$$,$d$$,$e$$,$f$$);if(null!=$l$$)return $l$$;if(this.isCellVisible($k$$)&&($e$$&&this.model.isEdge($k$$)||$d$$&&this.model.isVertex($k$$))&&($l$$=this.view.getState($k$$),
null!=$l$$&&(null==$f$$||!$f$$($l$$,$a$$,$b$$))&&this.intersects($l$$,$a$$,$b$$)))return $k$$}return null};
mxGraph.prototype.intersects=function($a$$,$b$$,$c$$){if(null!=$a$$){var $d$$=$a$$.absolutePoints;if(null!=$d$$){$a$$=this.tolerance*this.tolerance;for(var $e$$=$d$$[0],$f$$=1;$f$$<$d$$.length;$f$$++){var $g$$=$d$$[$f$$];if(mxUtils.ptSegDistSq($e$$.x,$e$$.y,$g$$.x,$g$$.y,$b$$,$c$$)<=$a$$)return!0;$e$$=$g$$}}else if($e$$=mxUtils.toRadians(mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION)||0),0!=$e$$&&($d$$=Math.cos(-$e$$),$e$$=Math.sin(-$e$$),$f$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY()),
$e$$=mxUtils.getRotatedPoint(new mxPoint($b$$,$c$$),$d$$,$e$$,$f$$),$b$$=$e$$.x,$c$$=$e$$.y),mxUtils.contains($a$$,$b$$,$c$$))return!0}return!1};mxGraph.prototype.hitsSwimlaneContent=function($a$$,$b$$,$c$$){var $d$$=this.getView().getState($a$$);$a$$=this.getStartSize($a$$);if(null!=$d$$){var $e$$=this.getView().getScale();$b$$-=$d$$.x;$c$$-=$d$$.y;if(0<$a$$.width&&0<$b$$&&$b$$>$a$$.width*$e$$||0<$a$$.height&&0<$c$$&&$c$$>$a$$.height*$e$$)return!0}return!1};
mxGraph.prototype.getChildVertices=function($a$$){return this.getChildCells($a$$,!0,!1)};mxGraph.prototype.getChildEdges=function($a$$){return this.getChildCells($a$$,!1,!0)};mxGraph.prototype.getChildCells=function($a$$,$b$$,$c$$){$a$$=null!=$a$$?$a$$:this.getDefaultParent();$a$$=this.model.getChildCells($a$$,null!=$b$$?$b$$:!1,null!=$c$$?$c$$:!1);$b$$=[];for($c$$=0;$c$$<$a$$.length;$c$$++)this.isCellVisible($a$$[$c$$])&&$b$$.push($a$$[$c$$]);return $b$$};
mxGraph.prototype.getConnections=function($a$$,$b$$){return this.getEdges($a$$,$b$$,!0,!0,!1)};mxGraph.prototype.getIncomingEdges=function($a$$,$b$$){return this.getEdges($a$$,$b$$,!0,!1,!1)};mxGraph.prototype.getOutgoingEdges=function($a$$,$b$$){return this.getEdges($a$$,$b$$,!1,!0,!1)};
mxGraph.prototype.getEdges=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$c$$=null!=$c$$?$c$$:!0;$d$$=null!=$d$$?$d$$:!0;$e$$=null!=$e$$?$e$$:!0;$f$$=null!=$f$$?$f$$:!1;for(var $g$$=[],$k$$=this.isCellCollapsed($a$$),$l$$=this.model.getChildCount($a$$),$m$$=0;$m$$<$l$$;$m$$++){var $n$$=this.model.getChildAt($a$$,$m$$);if($k$$||!this.isCellVisible($n$$))$g$$=$g$$.concat(this.model.getEdges($n$$,$c$$,$d$$))}$g$$=$g$$.concat(this.model.getEdges($a$$,$c$$,$d$$));$k$$=[];for($m$$=0;$m$$<$g$$.length;$m$$++)$n$$=
this.view.getState($g$$[$m$$]),$l$$=null!=$n$$?$n$$.getVisibleTerminal(!0):this.view.getVisibleTerminal($g$$[$m$$],!0),$n$$=null!=$n$$?$n$$.getVisibleTerminal(!1):this.view.getVisibleTerminal($g$$[$m$$],!1),($e$$&&$l$$==$n$$||$l$$!=$n$$&&($c$$&&$n$$==$a$$&&(null==$b$$||this.isValidAncestor($l$$,$b$$,$f$$))||$d$$&&$l$$==$a$$&&(null==$b$$||this.isValidAncestor($n$$,$b$$,$f$$))))&&$k$$.push($g$$[$m$$]);return $k$$};
mxGraph.prototype.isValidAncestor=function($a$$,$b$$,$c$$){return $c$$?this.model.isAncestor($b$$,$a$$):this.model.getParent($a$$)==$b$$};
mxGraph.prototype.getOpposites=function($a$$,$b$$,$c$$,$d$$){$c$$=null!=$c$$?$c$$:!0;$d$$=null!=$d$$?$d$$:!0;var $e$$=[],$f$$=new mxDictionary;if(null!=$a$$)for(var $g$$=0;$g$$<$a$$.length;$g$$++){var $k$$=this.view.getState($a$$[$g$$]),$l$$=null!=$k$$?$k$$.getVisibleTerminal(!0):this.view.getVisibleTerminal($a$$[$g$$],!0);$k$$=null!=$k$$?$k$$.getVisibleTerminal(!1):this.view.getVisibleTerminal($a$$[$g$$],!1);$l$$==$b$$&&null!=$k$$&&$k$$!=$b$$&&$d$$?$f$$.get($k$$)||($f$$.put($k$$,!0),$e$$.push($k$$)):
$k$$==$b$$&&null!=$l$$&&$l$$!=$b$$&&$c$$&&!$f$$.get($l$$)&&($f$$.put($l$$,!0),$e$$.push($l$$))}return $e$$};
mxGraph.prototype.getEdgesBetween=function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;for(var $d$$=this.getEdges($a$$),$e$$=[],$f$$=0;$f$$<$d$$.length;$f$$++){var $g$$=this.view.getState($d$$[$f$$]),$k$$=null!=$g$$?$g$$.getVisibleTerminal(!0):this.view.getVisibleTerminal($d$$[$f$$],!0);$g$$=null!=$g$$?$g$$.getVisibleTerminal(!1):this.view.getVisibleTerminal($d$$[$f$$],!1);($k$$==$a$$&&$g$$==$b$$||!$c$$&&$k$$==$b$$&&$g$$==$a$$)&&$e$$.push($d$$[$f$$])}return $e$$};
mxGraph.prototype.getPointForEvent=function($a$$,$b$$){$a$$=mxUtils.convertPoint(this.container,mxEvent.getClientX($a$$),mxEvent.getClientY($a$$));var $c$$=this.view.scale,$d$$=this.view.translate;$b$$=0!=$b$$?this.gridSize/2:0;$a$$.x=this.snap($a$$.x/$c$$-$d$$.x-$b$$);$a$$.y=this.snap($a$$.y/$c$$-$d$$.y-$b$$);return $a$$};
mxGraph.prototype.getCells=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){$f$$=null!=$f$$?$f$$:[];if(0<$c$$||0<$d$$||null!=$g$$){var $m$$=this.getModel(),$n$$=$a$$+$c$$,$p$$=$b$$+$d$$;null==$e$$&&($e$$=this.getCurrentRoot(),null==$e$$&&($e$$=$m$$.getRoot()));if(null!=$e$$)for(var $q$$=$m$$.getChildCount($e$$),$r$$=0;$r$$<$q$$;$r$$++){var $t$$=$m$$.getChildAt($e$$,$r$$),$u$$=this.view.getState($t$$);if(null!=$u$$&&this.isCellVisible($t$$)&&(null==$k$$||!$k$$($u$$))){var $x$$=mxUtils.getValue($u$$.style,
mxConstants.STYLE_ROTATION)||0;0!=$x$$&&($u$$=mxUtils.getBoundingBox($u$$,$x$$));($x$$=null!=$g$$&&$m$$.isVertex($t$$)&&mxUtils.intersects($g$$,$u$$)||null!=$g$$&&$m$$.isEdge($t$$)&&mxUtils.intersects($g$$,$u$$)||null==$g$$&&($m$$.isEdge($t$$)||$m$$.isVertex($t$$))&&$u$$.x>=$a$$&&$u$$.y+$u$$.height<=$p$$&&$u$$.y>=$b$$&&$u$$.x+$u$$.width<=$n$$)&&$f$$.push($t$$);$x$$&&!$l$$||this.getCells($a$$,$b$$,$c$$,$d$$,$t$$,$f$$,$g$$,$k$$,$l$$)}}}return $f$$};
mxGraph.prototype.getCellsBeyond=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=[];if($d$$||$e$$)if(null==$c$$&&($c$$=this.getDefaultParent()),null!=$c$$)for(var $g$$=this.model.getChildCount($c$$),$k$$=0;$k$$<$g$$;$k$$++){var $l$$=this.model.getChildAt($c$$,$k$$),$m$$=this.view.getState($l$$);this.isCellVisible($l$$)&&null!=$m$$&&(!$d$$||$m$$.x>=$a$$)&&(!$e$$||$m$$.y>=$b$$)&&$f$$.push($l$$)}return $f$$};
mxGraph.prototype.findTreeRoots=function($a$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:!1;$c$$=null!=$c$$?$c$$:!1;var $d$$=[];if(null!=$a$$){for(var $e$$=this.getModel(),$f$$=$e$$.getChildCount($a$$),$g$$=null,$k$$=0,$l$$=0;$l$$<$f$$;$l$$++){var $m$$=$e$$.getChildAt($a$$,$l$$);if(this.model.isVertex($m$$)&&this.isCellVisible($m$$)){for(var $n$$=this.getConnections($m$$,$b$$?$a$$:null),$p$$=0,$q$$=0,$r$$=0;$r$$<$n$$.length;$r$$++)this.view.getVisibleTerminal($n$$[$r$$],!0)==$m$$?$p$$++:$q$$++;($c$$&&0==$p$$&&
0<$q$$||!$c$$&&0==$q$$&&0<$p$$)&&$d$$.push($m$$);$n$$=$c$$?$q$$-$p$$:$p$$-$q$$;$n$$>$k$$&&($k$$=$n$$,$g$$=$m$$)}}0==$d$$.length&&null!=$g$$&&$d$$.push($g$$)}return $d$$};
mxGraph.prototype.traverse=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if(null!=$c$$&&null!=$a$$&&($b$$=null!=$b$$?$b$$:!0,$f$$=null!=$f$$?$f$$:!1,$e$$=$e$$||new mxDictionary,null==$d$$||!$e$$.get($d$$))&&($e$$.put($d$$,!0),$d$$=$c$$($a$$,$d$$),null==$d$$||$d$$)&&($d$$=this.model.getEdgeCount($a$$),0<$d$$))for(var $g$$=0;$g$$<$d$$;$g$$++){var $k$$=this.model.getEdgeAt($a$$,$g$$),$l$$=this.model.getTerminal($k$$,!0)==$a$$;$b$$&&!$f$$!=$l$$||($l$$=this.model.getTerminal($k$$,!$l$$),this.traverse($l$$,$b$$,
$c$$,$k$$,$e$$,$f$$))}};mxGraph.prototype.isCellSelected=function($a$$){return this.getSelectionModel().isSelected($a$$)};mxGraph.prototype.isAncestorSelected=function($a$$){for($a$$=this.model.getParent($a$$);null!=$a$$&&$a$$!=this.getCurrentRoot();){if(this.isCellSelected($a$$))return!0;$a$$=this.model.getParent($a$$)}return!1};mxGraph.prototype.isSelectionEmpty=function(){return this.getSelectionModel().isEmpty()};mxGraph.prototype.clearSelection=function(){return this.getSelectionModel().clear()};
mxGraph.prototype.getSelectionCount=function(){return this.getSelectionModel().cells.length};mxGraph.prototype.getSelectionCell=function(){return this.getSelectionModel().cells[0]};mxGraph.prototype.getSelectionCells=function(){return this.getSelectionModel().cells.slice()};mxGraph.prototype.setSelectionCell=function($a$$){this.getSelectionModel().setCell($a$$)};mxGraph.prototype.setSelectionCells=function($a$$){this.getSelectionModel().setCells($a$$)};mxGraph.prototype.addSelectionCell=function($a$$){this.getSelectionModel().addCell($a$$)};
mxGraph.prototype.addSelectionCells=function($a$$){this.getSelectionModel().addCells($a$$)};mxGraph.prototype.removeSelectionCell=function($a$$){this.getSelectionModel().removeCell($a$$)};mxGraph.prototype.removeSelectionCells=function($a$$){this.getSelectionModel().removeCells($a$$)};mxGraph.prototype.selectRegion=function($a$$,$b$$){$a$$=this.getCells($a$$.x,$a$$.y,$a$$.width,$a$$.height);this.selectCellsForEvent($a$$,$b$$);return $a$$};mxGraph.prototype.selectNextCell=function(){this.selectCell(!0)};
mxGraph.prototype.selectPreviousCell=function(){this.selectCell()};mxGraph.prototype.selectParentCell=function(){this.selectCell(!1,!0)};mxGraph.prototype.selectChildCell=function(){this.selectCell(!1,!1,!0)};
mxGraph.prototype.selectCell=function($a$$,$b$$,$c$$){var $d$$=this.selectionModel,$e$$=0<$d$$.cells.length?$d$$.cells[0]:null;1<$d$$.cells.length&&$d$$.clear();$d$$=null!=$e$$?this.model.getParent($e$$):this.getDefaultParent();var $f$$=this.model.getChildCount($d$$);null==$e$$&&0<$f$$?($a$$=this.model.getChildAt($d$$,0),this.setSelectionCell($a$$)):null!=$e$$&&!$b$$||null==this.view.getState($d$$)||null==this.model.getGeometry($d$$)?null!=$e$$&&$c$$?0<this.model.getChildCount($e$$)&&($a$$=this.model.getChildAt($e$$,
0),this.setSelectionCell($a$$)):0<$f$$&&($b$$=$d$$.getIndex($e$$),$a$$?($b$$++,$a$$=this.model.getChildAt($d$$,$b$$%$f$$)):($b$$--,$a$$=this.model.getChildAt($d$$,0>$b$$?$f$$-1:$b$$)),this.setSelectionCell($a$$)):this.getCurrentRoot()!=$d$$&&this.setSelectionCell($d$$)};
mxGraph.prototype.selectAll=function($a$$,$b$$){$a$$=$a$$||this.getDefaultParent();$b$$=$b$$?this.model.filterDescendants(mxUtils.bind(this,function($c$$){return $c$$!=$a$$&&null!=this.view.getState($c$$)}),$a$$):this.model.getChildren($a$$);null!=$b$$&&this.setSelectionCells($b$$)};mxGraph.prototype.selectVertices=function($a$$,$b$$){this.selectCells(!0,!1,$a$$,$b$$)};mxGraph.prototype.selectEdges=function($a$$){this.selectCells(!1,!0,$a$$)};
mxGraph.prototype.selectCells=function($a$$,$b$$,$c$$,$d$$){$c$$=$c$$||this.getDefaultParent();var $e$$=mxUtils.bind(this,function($f$$){return null!=this.view.getState($f$$)&&(($d$$||0==this.model.getChildCount($f$$))&&this.model.isVertex($f$$)&&$a$$&&!this.model.isEdge(this.model.getParent($f$$))||this.model.isEdge($f$$)&&$b$$)});$c$$=this.model.filterDescendants($e$$,$c$$);null!=$c$$&&this.setSelectionCells($c$$)};
mxGraph.prototype.selectCellForEvent=function($a$$,$b$$){var $c$$=this.isCellSelected($a$$);this.isToggleEvent($b$$)?$c$$?this.removeSelectionCell($a$$):this.addSelectionCell($a$$):$c$$&&1==this.getSelectionCount()||this.setSelectionCell($a$$)};mxGraph.prototype.selectCellsForEvent=function($a$$,$b$$){this.isToggleEvent($b$$)?this.addSelectionCells($a$$):this.setSelectionCells($a$$)};
mxGraph.prototype.createHandler=function($a$$){var $b$$=null;if(null!=$a$$)if(this.model.isEdge($a$$.cell)){$b$$=$a$$.getVisibleTerminalState(!0);var $c$$=$a$$.getVisibleTerminalState(!1),$d$$=this.getCellGeometry($a$$.cell);$b$$=this.view.getEdgeStyle($a$$,null!=$d$$?$d$$.points:null,$b$$,$c$$);$b$$=this.createEdgeHandler($a$$,$b$$)}else $b$$=this.createVertexHandler($a$$);return $b$$};mxGraph.prototype.createVertexHandler=function($a$$){return new mxVertexHandler($a$$)};
mxGraph.prototype.createEdgeHandler=function($a$$,$b$$){return $b$$==mxEdgeStyle.Loop||$b$$==mxEdgeStyle.ElbowConnector||$b$$==mxEdgeStyle.SideToSide||$b$$==mxEdgeStyle.TopToBottom?this.createElbowEdgeHandler($a$$):$b$$==mxEdgeStyle.SegmentConnector||$b$$==mxEdgeStyle.OrthConnector?this.createEdgeSegmentHandler($a$$):new mxEdgeHandler($a$$)};mxGraph.prototype.createEdgeSegmentHandler=function($a$$){return new mxEdgeSegmentHandler($a$$)};mxGraph.prototype.createElbowEdgeHandler=function($a$$){return new mxElbowEdgeHandler($a$$)};
mxGraph.prototype.addMouseListener=function($a$$){null==this.mouseListeners&&(this.mouseListeners=[]);this.mouseListeners.push($a$$)};mxGraph.prototype.removeMouseListener=function($a$$){if(null!=this.mouseListeners)for(var $b$$=0;$b$$<this.mouseListeners.length;$b$$++)if(this.mouseListeners[$b$$]==$a$$){this.mouseListeners.splice($b$$,1);break}};
mxGraph.prototype.updateMouseEvent=function($a$$,$b$$){if(null==$a$$.graphX||null==$a$$.graphY){var $c$$=mxUtils.convertPoint(this.container,$a$$.getX(),$a$$.getY());$a$$.graphX=$c$$.x-this.panDx;$a$$.graphY=$c$$.y-this.panDy;null==$a$$.getCell()&&this.isMouseDown&&$b$$==mxEvent.MOUSE_MOVE&&($a$$.state=this.view.getState(this.getCellAt($c$$.x,$c$$.y,null,null,null,function($d$$){return null==$d$$.shape||$d$$.shape.paintBackground!=mxRectangleShape.prototype.paintBackground||"1"==mxUtils.getValue($d$$.style,
mxConstants.STYLE_POINTER_EVENTS,"1")||null!=$d$$.shape.fill&&$d$$.shape.fill!=mxConstants.NONE})))}return $a$$};mxGraph.prototype.getStateForTouchEvent=function($a$$){var $b$$=mxEvent.getClientX($a$$);$a$$=mxEvent.getClientY($a$$);$b$$=mxUtils.convertPoint(this.container,$b$$,$a$$);return this.view.getState(this.getCellAt($b$$.x,$b$$.y))};
mxGraph.prototype.isEventIgnored=function($a$$,$b$$,$c$$){var $d$$=mxEvent.isMouseEvent($b$$.getEvent()),$e$$=!1;$b$$.getEvent()==this.lastEvent?$e$$=!0:this.lastEvent=$b$$.getEvent();if(null!=this.eventSource&&$a$$!=mxEvent.MOUSE_MOVE)mxEvent.removeGestureListeners(this.eventSource,null,this.mouseMoveRedirect,this.mouseUpRedirect),this.eventSource=this.mouseUpRedirect=this.mouseMoveRedirect=null;else if(!mxClient.IS_GC&&null!=this.eventSource&&$b$$.getSource()!=this.eventSource)$e$$=!0;else if(mxClient.IS_TOUCH&&
$a$$==mxEvent.MOUSE_DOWN&&!$d$$&&!mxEvent.isPenEvent($b$$.getEvent())){this.eventSource=$b$$.getSource();var $f$$=null;!mxClient.IS_ANDROID&&mxClient.IS_LINUX&&mxClient.IS_GC||($f$$=$b$$.getEvent().pointerId);this.mouseMoveRedirect=mxUtils.bind(this,function($g$$){null!=$f$$&&$g$$.pointerId!=$f$$||this.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($g$$,this.getStateForTouchEvent($g$$)))});this.mouseUpRedirect=mxUtils.bind(this,function($g$$){this.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($g$$,
this.getStateForTouchEvent($g$$)));$f$$=null});mxEvent.addGestureListeners(this.eventSource,null,this.mouseMoveRedirect,this.mouseUpRedirect)}this.isSyntheticEventIgnored($a$$,$b$$,$c$$)&&($e$$=!0);if(!mxEvent.isPopupTrigger(this.lastEvent)&&$a$$!=mxEvent.MOUSE_MOVE&&2==this.lastEvent.detail)return!0;$a$$==mxEvent.MOUSE_UP&&this.isMouseDown?this.isMouseDown=!1:$a$$!=mxEvent.MOUSE_DOWN||this.isMouseDown?!$e$$&&((!mxClient.IS_FF||$a$$!=mxEvent.MOUSE_MOVE)&&this.isMouseDown&&this.isMouseTrigger!=$d$$||
$a$$==mxEvent.MOUSE_DOWN&&this.isMouseDown||$a$$==mxEvent.MOUSE_UP&&!this.isMouseDown)&&($e$$=!0):(this.isMouseDown=!0,this.isMouseTrigger=$d$$);$e$$||$a$$!=mxEvent.MOUSE_DOWN||(this.lastMouseX=$b$$.getX(),this.lastMouseY=$b$$.getY());return $e$$};
mxGraph.prototype.isSyntheticEventIgnored=function($a$$,$b$$,$c$$){$c$$=!1;$b$$=mxEvent.isMouseEvent($b$$.getEvent());this.ignoreMouseEvents&&$b$$&&$a$$!=mxEvent.MOUSE_MOVE?(this.ignoreMouseEvents=$a$$!=mxEvent.MOUSE_UP,$c$$=!0):mxClient.IS_FF&&!$b$$&&$a$$==mxEvent.MOUSE_UP&&(this.ignoreMouseEvents=!0);return $c$$};
mxGraph.prototype.isEventSourceIgnored=function($a$$,$b$$){var $c$$=$b$$.getSource(),$d$$=null!=$c$$.nodeName?$c$$.nodeName.toLowerCase():"";$b$$=!mxEvent.isMouseEvent($b$$.getEvent())||mxEvent.isLeftMouseButton($b$$.getEvent());return $a$$==mxEvent.MOUSE_DOWN&&$b$$&&("select"==$d$$||"option"==$d$$||"input"==$d$$&&"checkbox"!=$c$$.type&&"radio"!=$c$$.type&&"button"!=$c$$.type&&"submit"!=$c$$.type&&"file"!=$c$$.type)};mxGraph.prototype.getEventState=function($a$$){return $a$$};
mxGraph.prototype.isPointerEventIgnored=function($a$$,$b$$){var $c$$=!1;if(mxClient.IS_ANDROID||!mxClient.IS_LINUX||!mxClient.IS_GC){var $d$$=$b$$.getEvent().pointerId;$a$$==mxEvent.MOUSE_DOWN?null!=this.currentPointerId&&this.currentPointerId!=$d$$?$c$$=!0:null==this.currentPointerId&&(this.currentPointerId=$b$$.getEvent().pointerId):$a$$==mxEvent.MOUSE_MOVE?null!=this.currentPointerId&&this.currentPointerId!=$d$$&&($c$$=!0):$a$$==mxEvent.MOUSE_UP&&(this.currentPointerId=null)}return $c$$};
mxGraph.prototype.fireMouseEvent=function($a$$,$b$$,$c$$){if(this.isEventSourceIgnored($a$$,$b$$))null!=this.tooltipHandler&&this.tooltipHandler.hide();else if(this.isPointerEventIgnored($a$$,$b$$))this.tapAndHoldValid=!1;else{null==$c$$&&($c$$=this);$b$$=this.updateMouseEvent($b$$,$a$$);if(!this.nativeDblClickEnabled&&!mxEvent.isPopupTrigger($b$$.getEvent())||this.doubleTapEnabled&&mxClient.IS_TOUCH&&(mxEvent.isTouchEvent($b$$.getEvent())||mxEvent.isPenEvent($b$$.getEvent()))){var $d$$=(new Date).getTime();
if($a$$==mxEvent.MOUSE_DOWN)if(null!=this.lastTouchEvent&&this.lastTouchEvent!=$b$$.getEvent()&&$d$$-this.lastTouchTime<this.doubleTapTimeout&&Math.abs(this.lastTouchX-$b$$.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-$b$$.getY())<this.doubleTapTolerance&&2>this.doubleClickCounter){if(this.doubleClickCounter++,$d$$=!1,$a$$==mxEvent.MOUSE_UP?$b$$.getCell()==this.lastTouchCell&&null!=this.lastTouchCell&&(this.lastTouchTime=0,$d$$=this.lastTouchCell,this.lastTouchCell=null,this.dblClick($b$$.getEvent(),
$d$$),$d$$=!0):(this.fireDoubleClick=!0,this.lastTouchTime=0),$d$$){mxEvent.consume($b$$.getEvent());return}}else{if(null==this.lastTouchEvent||this.lastTouchEvent!=$b$$.getEvent())this.lastTouchCell=$b$$.getCell(),this.lastTouchX=$b$$.getX(),this.lastTouchY=$b$$.getY(),this.lastTouchTime=$d$$,this.lastTouchEvent=$b$$.getEvent(),this.doubleClickCounter=0}else if((this.isMouseDown||$a$$==mxEvent.MOUSE_UP)&&this.fireDoubleClick){this.fireDoubleClick=!1;$d$$=this.lastTouchCell;this.lastTouchCell=null;
this.isMouseDown=!1;(null!=$d$$||(mxEvent.isTouchEvent($b$$.getEvent())||mxEvent.isPenEvent($b$$.getEvent()))&&(mxClient.IS_GC||mxClient.IS_SF))&&Math.abs(this.lastTouchX-$b$$.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-$b$$.getY())<this.doubleTapTolerance?this.dblClick($b$$.getEvent(),$d$$):mxEvent.consume($b$$.getEvent());return}}if(!this.isEventIgnored($a$$,$b$$,$c$$)){$b$$.state=this.getEventState($b$$.getState());this.fireEvent(new mxEventObject(mxEvent.FIRE_MOUSE_EVENT,"eventName",
$a$$,"event",$b$$));if(mxClient.IS_OP||mxClient.IS_SF||mxClient.IS_GC||mxClient.IS_IE11||mxClient.IS_IE&&mxClient.IS_SVG||$b$$.getEvent().target!=this.container){if($a$$==mxEvent.MOUSE_MOVE&&this.isMouseDown&&this.autoScroll&&!mxEvent.isMultiTouchEvent($b$$.getEvent))this.scrollPointToVisible($b$$.getGraphX(),$b$$.getGraphY(),this.autoExtend);else if($a$$==mxEvent.MOUSE_UP&&this.ignoreScrollbars&&this.translateToScrollPosition&&(0!=this.container.scrollLeft||0!=this.container.scrollTop)){$d$$=this.view.scale;
var $e$$=this.view.translate;this.view.setTranslate($e$$.x-this.container.scrollLeft/$d$$,$e$$.y-this.container.scrollTop/$d$$);this.container.scrollLeft=0;this.container.scrollTop=0}if(null!=this.mouseListeners)for($d$$=[$c$$,$b$$],$b$$.getEvent().preventDefault||($b$$.getEvent().returnValue=!0),$e$$=0;$e$$<this.mouseListeners.length;$e$$++){var $f$$=this.mouseListeners[$e$$];$a$$==mxEvent.MOUSE_DOWN?$f$$.mouseDown.apply($f$$,$d$$):$a$$==mxEvent.MOUSE_MOVE?$f$$.mouseMove.apply($f$$,$d$$):$a$$==mxEvent.MOUSE_UP&&
$f$$.mouseUp.apply($f$$,$d$$)}$a$$==mxEvent.MOUSE_UP&&this.click($b$$)}(mxEvent.isTouchEvent($b$$.getEvent())||mxEvent.isPenEvent($b$$.getEvent()))&&$a$$==mxEvent.MOUSE_DOWN&&this.tapAndHoldEnabled&&!this.tapAndHoldInProgress?(this.tapAndHoldInProgress=!0,this.initialTouchX=$b$$.getGraphX(),this.initialTouchY=$b$$.getGraphY(),this.tapAndHoldThread&&window.clearTimeout(this.tapAndHoldThread),this.tapAndHoldThread=window.setTimeout(mxUtils.bind(this,function(){this.tapAndHoldValid&&this.tapAndHold($b$$);
this.tapAndHoldValid=this.tapAndHoldInProgress=!1}),this.tapAndHoldDelay),this.tapAndHoldValid=!0):$a$$==mxEvent.MOUSE_UP?this.tapAndHoldValid=this.tapAndHoldInProgress=!1:this.tapAndHoldValid&&(this.tapAndHoldValid=Math.abs(this.initialTouchX-$b$$.getGraphX())<this.tolerance&&Math.abs(this.initialTouchY-$b$$.getGraphY())<this.tolerance);$a$$==mxEvent.MOUSE_DOWN&&this.isEditing()&&!this.cellEditor.isEventSource($b$$.getEvent())&&this.stopEditing(!this.isInvokesStopCellEditing());this.consumeMouseEvent($a$$,
$b$$,$c$$)}}};mxGraph.prototype.consumeMouseEvent=function($a$$,$b$$,$c$$){this.fireEvent(new mxEventObject(mxEvent.CONSUME_MOUSE_EVENT,"eventName",$a$$,"event",$b$$));$a$$==mxEvent.MOUSE_DOWN&&mxEvent.isTouchEvent($b$$.getEvent())&&$b$$.consume(!1)};mxGraph.prototype.fireGestureEvent=function($a$$,$b$$){this.lastTouchTime=0;this.fireEvent(new mxEventObject(mxEvent.GESTURE,"event",$a$$,"cell",$b$$))};
mxGraph.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,null!=this.tooltipHandler&&this.tooltipHandler.destroy(),null!=this.selectionCellsHandler&&this.selectionCellsHandler.destroy(),null!=this.panningHandler&&this.panningHandler.destroy(),null!=this.popupMenuHandler&&this.popupMenuHandler.destroy(),null!=this.connectionHandler&&this.connectionHandler.destroy(),null!=this.graphHandler&&this.graphHandler.destroy(),null!=this.cellEditor&&this.cellEditor.destroy(),null!=this.view&&this.view.destroy(),
null!=this.model&&null!=this.graphModelChangeListener&&(this.model.removeListener(this.graphModelChangeListener),this.graphModelChangeListener=null),this.container=null)};function mxCellOverlay($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.image=$a$$;this.tooltip=$b$$;this.align=null!=$c$$?$c$$:this.align;this.verticalAlign=null!=$d$$?$d$$:this.verticalAlign;this.offset=null!=$e$$?$e$$:new mxPoint;this.cursor=null!=$f$$?$f$$:"help"}mxCellOverlay.prototype=new mxEventSource;
mxCellOverlay.prototype.constructor=mxCellOverlay;mxCellOverlay.prototype.image=null;mxCellOverlay.prototype.tooltip=null;mxCellOverlay.prototype.align=mxConstants.ALIGN_RIGHT;mxCellOverlay.prototype.verticalAlign=mxConstants.ALIGN_BOTTOM;mxCellOverlay.prototype.offset=null;mxCellOverlay.prototype.cursor=null;mxCellOverlay.prototype.defaultOverlap=.5;
mxCellOverlay.prototype.getBounds=function($a$$){var $b$$=$a$$.view.graph.getModel().isEdge($a$$.cell),$c$$=$a$$.view.scale,$d$$=this.image.width,$e$$=this.image.height;if($b$$)if($b$$=$a$$.absolutePoints,1==$b$$.length%2)$b$$=$b$$[Math.floor($b$$.length/2)];else{var $f$$=$b$$.length/2;$a$$=$b$$[$f$$-1];$b$$=$b$$[$f$$];$b$$=new mxPoint($a$$.x+($b$$.x-$a$$.x)/2,$a$$.y+($b$$.y-$a$$.y)/2)}else $b$$=new mxPoint,$b$$.x=this.align==mxConstants.ALIGN_LEFT?$a$$.x:this.align==mxConstants.ALIGN_CENTER?$a$$.x+
$a$$.width/2:$a$$.x+$a$$.width,$b$$.y=this.verticalAlign==mxConstants.ALIGN_TOP?$a$$.y:this.verticalAlign==mxConstants.ALIGN_MIDDLE?$a$$.y+$a$$.height/2:$a$$.y+$a$$.height;return new mxRectangle(Math.round($b$$.x-($d$$*this.defaultOverlap-this.offset.x)*$c$$),Math.round($b$$.y-($e$$*this.defaultOverlap-this.offset.y)*$c$$),$d$$*$c$$,$e$$*$c$$)};mxCellOverlay.prototype.toString=function(){return this.tooltip};function mxOutline($a$$,$b$$){this.source=$a$$;null!=$b$$&&this.init($b$$)}
mxOutline.prototype.source=null;mxOutline.prototype.container=null;mxOutline.prototype.enabled=!0;mxOutline.prototype.suspended=!1;mxOutline.prototype.border=14;mxOutline.prototype.opacity=mxClient.IS_IE11?.9:.7;
mxOutline.prototype.init=function($a$$){this.container=$a$$;this.updateHandler=mxUtils.bind(this,function($b$$,$c$$){this.update(!0)});this.source.getModel().addListener(mxEvent.CHANGE,this.updateHandler);this.source.addListener(mxEvent.REFRESH,this.updateHandler);$a$$=this.source.getView();$a$$.addListener(mxEvent.UP,this.updateHandler);$a$$.addListener(mxEvent.DOWN,this.updateHandler);$a$$.addListener(mxEvent.SCALE,this.updateHandler);$a$$.addListener(mxEvent.TRANSLATE,this.updateHandler);$a$$.addListener(mxEvent.SCALE_AND_TRANSLATE,
this.updateHandler);this.scrollHandler=mxUtils.bind(this,function($b$$,$c$$){this.update(!1)});mxEvent.addListener(this.source.container,"scroll",this.scrollHandler);this.source.addListener(mxEvent.PAN,this.scrollHandler);this.update(!0)};mxOutline.prototype.isEnabled=function(){return this.enabled};mxOutline.prototype.setEnabled=function($a$$){this.enabled=$a$$};mxOutline.prototype.isSuspended=function(){return this.suspended};mxOutline.prototype.setSuspended=function($a$$){this.suspended=$a$$;this.update(!0)};
mxOutline.prototype.isScrolling=function(){return this.source.useScrollbarsForPanning&&mxUtils.hasScrollbars(this.source.container)};
mxOutline.prototype.createSvg=function(){var $a$$=document.createElementNS(mxConstants.NS_SVG,"svg");$a$$.style.position="absolute";$a$$.style.left="0px";$a$$.style.top="0px";$a$$.style.width="100%";$a$$.style.height="100%";$a$$.style.display="block";$a$$.style.padding=this.border+"px";$a$$.style.boxSizing="border-box";$a$$.style.overflow="visible";$a$$.style.cursor="default";$a$$.setAttribute("shape-rendering","optimizeSpeed");$a$$.setAttribute("image-rendering","optimizeSpeed");return $a$$};
mxOutline.prototype.addGestureListeners=function($a$$){var $b$$=null,$c$$=0,$d$$=0,$e$$=1,$f$$=mxUtils.bind(this,function($l$$){if(this.isEnabled()){$b$$=new mxPoint(mxEvent.getClientX($l$$),mxEvent.getClientY($l$$));var $m$$=$a$$.clientWidth-2*this.border,$n$$=$a$$.clientHeight-2*this.border,$p$$=this.getViewBox();$e$$=Math.max($p$$.width/$m$$,$p$$.height/$n$$);if(mxEvent.getSource($l$$)!=this.viewport)if(this.isScrolling()){$m$$-=$p$$.width/$e$$;$n$$-=$p$$.height/$e$$;var $q$$=this.svg.getBoundingClientRect();
this.source.container.scrollLeft=$p$$.x-$m$$*$e$$/2+($b$$.x-this.border-$q$$.left)*$e$$;this.source.container.scrollTop=$p$$.y-$n$$*$e$$/2+($b$$.y-this.border-$q$$.top)*$e$$}else $p$$=this.source.view.translate,$n$$=this.viewport.getBoundingClientRect(),$m$$=(mxEvent.getClientX($l$$)-$n$$.left)*$e$$/this.source.view.scale,$n$$=(mxEvent.getClientY($l$$)-$n$$.top)*$e$$/this.source.view.scale,this.source.getView().setTranslate($p$$.x-$m$$,$p$$.y-$n$$),this.source.panGraph(0,0);mxEvent.addGestureListeners(document,
null,$g$$,$k$$);$c$$=this.source.container.scrollLeft;$d$$=this.source.container.scrollTop;mxEvent.consume($l$$)}}),$g$$=mxUtils.bind(this,function($l$$){this.isEnabled()&&null!=$b$$&&(this.isScrolling()?(this.source.container.scrollLeft=$c$$+(mxEvent.getClientX($l$$)-$b$$.x)*$e$$,this.source.container.scrollTop=$d$$+(mxEvent.getClientY($l$$)-$b$$.y)*$e$$):this.source.panGraph(($b$$.x-mxEvent.getClientX($l$$))*$e$$,($b$$.y-mxEvent.getClientY($l$$))*$e$$),mxEvent.consume($l$$))}),$k$$=mxUtils.bind(this,
function($l$$){if(this.isEnabled()&&null!=$b$$){if(!this.isScrolling()){var $m$$=(mxEvent.getClientX($l$$)-$b$$.x)*$e$$/this.source.view.scale,$n$$=(mxEvent.getClientY($l$$)-$b$$.y)*$e$$/this.source.view.scale,$p$$=this.source.view.translate;this.source.getView().setTranslate($p$$.x-$m$$,$p$$.y-$n$$);this.source.panGraph(0,0)}mxEvent.removeGestureListeners(document,null,$g$$,$k$$);mxEvent.consume($l$$);$b$$=null}});mxEvent.addGestureListeners($a$$,$f$$,$g$$,$k$$)};mxOutline.prototype.getViewBox=function(){return this.source.getGraphBounds()};
mxOutline.prototype.updateSvg=function(){null==this.svg&&(this.svg=this.createSvg(),this.addGestureListeners(this.svg),this.container.appendChild(this.svg));var $a$$=this.getViewBox();this.svg.setAttribute("viewBox",Math.round($a$$.x)+" "+Math.round($a$$.y)+" "+Math.round($a$$.width)+" "+Math.round($a$$.height));$a$$=this.source.background;this.svg.style.backgroundColor=$a$$==mxConstants.NONE?"":$a$$;this.updateDrawPane()};
mxOutline.prototype.updateDrawPane=function(){null!=this.drawPane&&this.drawPane.parentNode.removeChild(this.drawPane);this.drawPane=this.source.view.getDrawPane().cloneNode(!0);this.drawPane.style.opacity=this.opacity;this.processSvg(this.drawPane);null!=this.viewport?this.svg.insertBefore(this.drawPane,this.viewport):this.svg.appendChild(this.drawPane)};
mxOutline.prototype.processSvg=function($a$$){var $b$$=mxClient.IS_IE11?Math.max(1,this.source.view.scale):this.source.view.scale;Array.prototype.slice.call($a$$.getElementsByTagName("*")).forEach(mxUtils.bind(this,function($c$$){if("text"!=$c$$.nodeName&&"foreignObject"!=$c$$.nodeName&&"hidden"!=$c$$.getAttribute("visibility")&&$c$$ instanceof SVGElement){var $d$$=parseInt($c$$.getAttribute("stroke-width")||1);isNaN($d$$)||$c$$.setAttribute("stroke-width",Math.max(mxClient.IS_IE11?4:1,$d$$/(5*$b$$)));
$c$$.setAttribute("vector-effect","non-scaling-stroke");$c$$.style.cursor=""}else $c$$.parentNode.removeChild($c$$)}))};
mxOutline.prototype.updateViewport=function(){if(null!=this.svg){null==this.viewport&&(this.viewport=this.createViewport(),this.svg.appendChild(this.viewport));var $a$$=this.source.container;$a$$=new mxRectangle($a$$.scrollLeft,$a$$.scrollTop,$a$$.clientWidth,$a$$.clientHeight);this.isScrolling()||($a$$.x=-this.source.panDx,$a$$.y=-this.source.panDy);this.viewport.setAttribute("x",$a$$.x);this.viewport.setAttribute("y",$a$$.y);this.viewport.setAttribute("width",$a$$.width);this.viewport.setAttribute("height",
$a$$.height)}};mxOutline.prototype.createViewport=function(){var $a$$=this.svg.ownerDocument.createElementNS(mxConstants.NS_SVG,"rect");$a$$.setAttribute("stroke-width",mxClient.IS_IE11?"12":"3");$a$$.setAttribute("stroke",HoverIcons.prototype.arrowFill);$a$$.setAttribute("fill",HoverIcons.prototype.arrowFill);$a$$.setAttribute("vector-effect","non-scaling-stroke");$a$$.setAttribute("fill-opacity",.2);$a$$.style.cursor="move";return $a$$};
mxOutline.prototype.update=function($a$$){null!=this.source&&null!=this.source.container&&(null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null),this.fullUpdate=this.fullUpdate||$a$$,this.thread=window.setTimeout(mxUtils.bind(this,function(){this.isSuspended()||(this.fullUpdate&&this.updateSvg(),this.updateViewport());this.thread=this.fullUpdate=null}),this.isScrolling()?10:0))};
mxOutline.prototype.destroy=function(){null!=this.svg&&(this.svg.parentNode.removeChild(this.svg),this.svg=null);null!=this.source&&(this.source.removeListener(this.updateHandler),this.source.getView().removeListener(this.updateHandler),this.source.getModel().removeListener(this.updateHandler),this.source.removeListener(mxEvent.PAN,this.scrollHandler),mxEvent.removeListener(this.source.container,"scroll",this.scrollHandler),this.source=null)};
function mxMultiplicity($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){this.source=$a$$;this.type=$b$$;this.attr=$c$$;this.value=$d$$;this.min=null!=$e$$?$e$$:0;this.max=null!=$f$$?$f$$:"n";this.validNeighbors=$g$$;this.countError=mxResources.get($k$$)||$k$$;this.typeError=mxResources.get($l$$)||$l$$;this.validNeighborsAllowed=null!=$m$$?$m$$:!0}mxMultiplicity.prototype.type=null;mxMultiplicity.prototype.attr=null;mxMultiplicity.prototype.value=null;mxMultiplicity.prototype.source=null;
mxMultiplicity.prototype.min=null;mxMultiplicity.prototype.max=null;mxMultiplicity.prototype.validNeighbors=null;mxMultiplicity.prototype.validNeighborsAllowed=!0;mxMultiplicity.prototype.countError=null;mxMultiplicity.prototype.typeError=null;
mxMultiplicity.prototype.check=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$="";if(this.source&&this.checkTerminal($a$$,$c$$,$b$$)||!this.source&&this.checkTerminal($a$$,$d$$,$b$$))null!=this.countError&&(this.source&&(0==this.max||$e$$>=this.max)||!this.source&&(0==this.max||$f$$>=this.max))&&($g$$+=this.countError+"\n"),null!=this.validNeighbors&&null!=this.typeError&&0<this.validNeighbors.length&&(this.checkNeighbors($a$$,$b$$,$c$$,$d$$)||($g$$+=this.typeError+"\n"));return 0<$g$$.length?$g$$:
null};mxMultiplicity.prototype.checkNeighbors=function($a$$,$b$$,$c$$,$d$$){$b$$=$a$$.model.getValue($c$$);$d$$=$a$$.model.getValue($d$$);$c$$=!this.validNeighborsAllowed;for(var $e$$=this.validNeighbors,$f$$=0;$f$$<$e$$.length;$f$$++)if(this.source&&this.checkType($a$$,$d$$,$e$$[$f$$])){$c$$=this.validNeighborsAllowed;break}else if(!this.source&&this.checkType($a$$,$b$$,$e$$[$f$$])){$c$$=this.validNeighborsAllowed;break}return $c$$};
mxMultiplicity.prototype.checkTerminal=function($a$$,$b$$,$c$$){$b$$=$a$$.model.getValue($b$$);return this.checkType($a$$,$b$$,this.type,this.attr,this.value)};mxMultiplicity.prototype.checkType=function($a$$,$b$$,$c$$,$d$$,$e$$){return null!=$b$$?isNaN($b$$.nodeType)?$b$$==$c$$:mxUtils.isNode($b$$,$c$$,$d$$,$e$$):!1};
function mxLayoutManager($a$$){this.undoHandler=mxUtils.bind(this,function($b$$,$c$$){this.isEnabled()&&this.beforeUndo($c$$.getProperty("edit"))});this.moveHandler=mxUtils.bind(this,function($b$$,$c$$){this.isEnabled()&&this.cellsMoved($c$$.getProperty("cells"),$c$$.getProperty("event"))});this.resizeHandler=mxUtils.bind(this,function($b$$,$c$$){this.isEnabled()&&this.cellsResized($c$$.getProperty("cells"),$c$$.getProperty("bounds"),$c$$.getProperty("previous"))});this.setGraph($a$$)}
mxLayoutManager.prototype=new mxEventSource;mxLayoutManager.prototype.constructor=mxLayoutManager;mxLayoutManager.prototype.graph=null;mxLayoutManager.prototype.bubbling=!0;mxLayoutManager.prototype.enabled=!0;mxLayoutManager.prototype.undoHandler=null;mxLayoutManager.prototype.moveHandler=null;mxLayoutManager.prototype.resizeHandler=null;mxLayoutManager.prototype.isEnabled=function(){return this.enabled};mxLayoutManager.prototype.setEnabled=function($a$$){this.enabled=$a$$};
mxLayoutManager.prototype.isBubbling=function(){return this.bubbling};mxLayoutManager.prototype.setBubbling=function($a$$){this.bubbling=$a$$};mxLayoutManager.prototype.getGraph=function(){return this.graph};
mxLayoutManager.prototype.setGraph=function($a$$){if(null!=this.graph){var $b$$=this.graph.getModel();$b$$.removeListener(this.undoHandler);this.graph.removeListener(this.moveHandler);this.graph.removeListener(this.resizeHandler)}this.graph=$a$$;null!=this.graph&&($b$$=this.graph.getModel(),$b$$.addListener(mxEvent.BEFORE_UNDO,this.undoHandler),this.graph.addListener(mxEvent.MOVE_CELLS,this.moveHandler),this.graph.addListener(mxEvent.RESIZE_CELLS,this.resizeHandler))};
mxLayoutManager.prototype.hasLayout=function($a$$){return null!=this.getLayout($a$$,mxEvent.LAYOUT_CELLS)};mxLayoutManager.prototype.getLayout=function($a$$,$b$$){return null};mxLayoutManager.prototype.beforeUndo=function($a$$){this.executeLayoutForCells(this.getCellsForChanges($a$$.changes))};
mxLayoutManager.prototype.cellsMoved=function($a$$,$b$$){if(null!=$a$$&&null!=$b$$){$b$$=mxUtils.convertPoint(this.getGraph().container,mxEvent.getClientX($b$$),mxEvent.getClientY($b$$));for(var $c$$=this.getGraph().getModel(),$d$$=0;$d$$<$a$$.length;$d$$++){var $e$$=this.getLayout($c$$.getParent($a$$[$d$$]),mxEvent.MOVE_CELLS);null!=$e$$&&$e$$.moveCell($a$$[$d$$],$b$$.x,$b$$.y)}}};
mxLayoutManager.prototype.cellsResized=function($a$$,$b$$,$c$$){if(null!=$a$$&&null!=$b$$)for(var $d$$=this.getGraph().getModel(),$e$$=0;$e$$<$a$$.length;$e$$++){var $f$$=this.getLayout($d$$.getParent($a$$[$e$$]),mxEvent.RESIZE_CELLS);null!=$f$$&&$f$$.resizeCell($a$$[$e$$],$b$$[$e$$],$c$$[$e$$])}};mxLayoutManager.prototype.getCellsForChanges=function($a$$){for(var $b$$=[],$c$$=0;$c$$<$a$$.length;$c$$++){var $d$$=$a$$[$c$$];if($d$$ instanceof mxRootChange)return[];$b$$=$b$$.concat(this.getCellsForChange($d$$))}return $b$$};
mxLayoutManager.prototype.getCellsForChange=function($a$$){return $a$$ instanceof mxChildChange?this.addCellsWithLayout($a$$.child,this.addCellsWithLayout($a$$.previous)):$a$$ instanceof mxValueChange||$a$$ instanceof mxTerminalChange||$a$$ instanceof mxGeometryChange||$a$$ instanceof mxVisibleChange||$a$$ instanceof mxStyleChange?this.addCellsWithLayout($a$$.cell):[]};
mxLayoutManager.prototype.addCellsWithLayout=function($a$$,$b$$){return this.addDescendantsWithLayout($a$$,this.addAncestorsWithLayout($a$$,$b$$))};mxLayoutManager.prototype.addAncestorsWithLayout=function($a$$,$b$$){$b$$=null!=$b$$?$b$$:[];if(null!=$a$$&&(this.hasLayout($a$$)&&$b$$.push($a$$),this.isBubbling())){var $c$$=this.getGraph().getModel();this.addAncestorsWithLayout($c$$.getParent($a$$),$b$$)}return $b$$};
mxLayoutManager.prototype.addDescendantsWithLayout=function($a$$,$b$$){$b$$=null!=$b$$?$b$$:[];if(null!=$a$$&&this.hasLayout($a$$))for(var $c$$=this.getGraph().getModel(),$d$$=0;$d$$<$c$$.getChildCount($a$$);$d$$++){var $e$$=$c$$.getChildAt($a$$,$d$$);this.hasLayout($e$$)&&($b$$.push($e$$),this.addDescendantsWithLayout($e$$,$b$$))}return $b$$};
mxLayoutManager.prototype.executeLayoutForCells=function($a$$){var $b$$=this.getGraph().getModel();$b$$.beginUpdate();try{var $c$$=mxUtils.sortCells($a$$,!1);this.layoutCells($c$$,!0);this.layoutCells($c$$.reverse(),!1)}finally{$b$$.endUpdate()}};
mxLayoutManager.prototype.layoutCells=function($a$$,$b$$){if(0<$a$$.length){var $c$$=this.getGraph().getModel();$c$$.beginUpdate();try{for(var $d$$=null,$e$$=0;$e$$<$a$$.length;$e$$++)$a$$[$e$$]!=$c$$.getRoot()&&$a$$[$e$$]!=$d$$&&(this.executeLayout($a$$[$e$$],$b$$),$d$$=$a$$[$e$$]);this.fireEvent(new mxEventObject(mxEvent.LAYOUT_CELLS,"cells",$a$$))}finally{$c$$.endUpdate()}}};
mxLayoutManager.prototype.executeLayout=function($a$$,$b$$){$b$$=this.getLayout($a$$,$b$$?mxEvent.BEGIN_UPDATE:mxEvent.END_UPDATE);null!=$b$$&&$b$$.execute($a$$)};mxLayoutManager.prototype.destroy=function(){this.setGraph(null)};
function mxSwimlaneManager($a$$,$b$$,$c$$,$d$$){this.horizontal=null!=$b$$?$b$$:!0;this.addEnabled=null!=$c$$?$c$$:!0;this.resizeEnabled=null!=$d$$?$d$$:!0;this.addHandler=mxUtils.bind(this,function($e$$,$f$$){this.isEnabled()&&this.isAddEnabled()&&this.cellsAdded($f$$.getProperty("cells"))});this.resizeHandler=mxUtils.bind(this,function($e$$,$f$$){this.isEnabled()&&this.isResizeEnabled()&&this.cellsResized($f$$.getProperty("cells"))});this.setGraph($a$$)}mxSwimlaneManager.prototype=new mxEventSource;
mxSwimlaneManager.prototype.constructor=mxSwimlaneManager;mxSwimlaneManager.prototype.graph=null;mxSwimlaneManager.prototype.enabled=!0;mxSwimlaneManager.prototype.horizontal=!0;mxSwimlaneManager.prototype.addEnabled=!0;mxSwimlaneManager.prototype.resizeEnabled=!0;mxSwimlaneManager.prototype.addHandler=null;mxSwimlaneManager.prototype.resizeHandler=null;mxSwimlaneManager.prototype.isEnabled=function(){return this.enabled};mxSwimlaneManager.prototype.setEnabled=function($a$$){this.enabled=$a$$};
mxSwimlaneManager.prototype.isHorizontal=function(){return this.horizontal};mxSwimlaneManager.prototype.setHorizontal=function($a$$){this.horizontal=$a$$};mxSwimlaneManager.prototype.isAddEnabled=function(){return this.addEnabled};mxSwimlaneManager.prototype.setAddEnabled=function($a$$){this.addEnabled=$a$$};mxSwimlaneManager.prototype.isResizeEnabled=function(){return this.resizeEnabled};mxSwimlaneManager.prototype.setResizeEnabled=function($a$$){this.resizeEnabled=$a$$};
mxSwimlaneManager.prototype.getGraph=function(){return this.graph};mxSwimlaneManager.prototype.setGraph=function($a$$){null!=this.graph&&(this.graph.removeListener(this.addHandler),this.graph.removeListener(this.resizeHandler));this.graph=$a$$;null!=this.graph&&(this.graph.addListener(mxEvent.ADD_CELLS,this.addHandler),this.graph.addListener(mxEvent.CELLS_RESIZED,this.resizeHandler))};mxSwimlaneManager.prototype.isSwimlaneIgnored=function($a$$){return!this.getGraph().isSwimlane($a$$)};
mxSwimlaneManager.prototype.isCellHorizontal=function($a$$){return this.graph.isSwimlane($a$$)?($a$$=this.graph.getCellStyle($a$$),1==mxUtils.getValue($a$$,mxConstants.STYLE_HORIZONTAL,1)):!this.isHorizontal()};mxSwimlaneManager.prototype.cellsAdded=function($a$$){if(null!=$a$$){var $b$$=this.getGraph().getModel();$b$$.beginUpdate();try{for(var $c$$=0;$c$$<$a$$.length;$c$$++)this.isSwimlaneIgnored($a$$[$c$$])||this.swimlaneAdded($a$$[$c$$])}finally{$b$$.endUpdate()}}};
mxSwimlaneManager.prototype.swimlaneAdded=function($a$$){for(var $b$$=this.getGraph().getModel(),$c$$=$b$$.getParent($a$$),$d$$=$b$$.getChildCount($c$$),$e$$=null,$f$$=0;$f$$<$d$$;$f$$++){var $g$$=$b$$.getChildAt($c$$,$f$$);if($g$$!=$a$$&&!this.isSwimlaneIgnored($g$$)&&($e$$=$b$$.getGeometry($g$$),null!=$e$$))break}null!=$e$$&&($b$$=null!=$c$$?this.isCellHorizontal($c$$):this.horizontal,this.resizeSwimlane($a$$,$e$$.width,$e$$.height,$b$$))};
mxSwimlaneManager.prototype.cellsResized=function($a$$){if(null!=$a$$){var $b$$=this.getGraph().getModel();$b$$.beginUpdate();try{for(var $c$$=0;$c$$<$a$$.length;$c$$++)if(!this.isSwimlaneIgnored($a$$[$c$$])){var $d$$=$b$$.getGeometry($a$$[$c$$]);if(null!=$d$$){for(var $e$$=new mxRectangle(0,0,$d$$.width,$d$$.height),$f$$=$a$$[$c$$],$g$$=$f$$;null!=$g$$;){$f$$=$g$$;$g$$=$b$$.getParent($g$$);var $k$$=this.graph.isSwimlane($g$$)?this.graph.getStartSize($g$$):new mxRectangle;$e$$.width+=$k$$.width;$e$$.height+=
$k$$.height}var $l$$=null!=$g$$?this.isCellHorizontal($g$$):this.horizontal;this.resizeSwimlane($f$$,$e$$.width,$e$$.height,$l$$)}}}finally{$b$$.endUpdate()}}};
mxSwimlaneManager.prototype.resizeSwimlane=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.getGraph().getModel();$e$$.beginUpdate();try{var $f$$=this.isCellHorizontal($a$$);if(!this.isSwimlaneIgnored($a$$)){var $g$$=$e$$.getGeometry($a$$);null!=$g$$&&($d$$&&$g$$.height!=$c$$||!$d$$&&$g$$.width!=$b$$)&&($g$$=$g$$.clone(),$d$$?$g$$.height=$c$$:$g$$.width=$b$$,$e$$.setGeometry($a$$,$g$$))}var $k$$=this.graph.isSwimlane($a$$)?this.graph.getStartSize($a$$):new mxRectangle;$b$$-=$k$$.width;$c$$-=$k$$.height;
var $l$$=$e$$.getChildCount($a$$);for($d$$=0;$d$$<$l$$;$d$$++){var $m$$=$e$$.getChildAt($a$$,$d$$);this.resizeSwimlane($m$$,$b$$,$c$$,$f$$)}}finally{$e$$.endUpdate()}};mxSwimlaneManager.prototype.destroy=function(){this.setGraph(null)};
function mxTemporaryCellStates($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$b$$=null!=$b$$?$b$$:1;this.view=$a$$;this.oldValidateCellState=$a$$.validateCellState;this.oldBounds=$a$$.getGraphBounds();this.oldStates=$a$$.getStates();this.oldScale=$a$$.getScale();this.oldDoRedrawShape=$a$$.graph.cellRenderer.doRedrawShape;var $g$$=this;null!=$e$$&&($a$$.graph.cellRenderer.doRedrawShape=function($m$$){var $n$$=$m$$.shape.paint;$m$$.shape.paint=function($p$$){var $q$$=$e$$($m$$);null!=$q$$&&$p$$.setLink($q$$,null!=
$f$$?$f$$($m$$):null);$n$$.apply(this,arguments);null!=$q$$&&$p$$.setLink(null)};$g$$.oldDoRedrawShape.apply($a$$.graph.cellRenderer,arguments);$m$$.shape.paint=$n$$});$a$$.validateCellState=function($m$$,$n$$){return null==$m$$||null==$d$$||$d$$($m$$)?$g$$.oldValidateCellState.apply($a$$,arguments):null};$a$$.setStates(new mxDictionary);$a$$.setScale($b$$);if(null!=$c$$){$a$$.resetValidationState();$b$$=null;for(var $k$$=0;$k$$<$c$$.length;$k$$++){var $l$$=$a$$.getBoundingBox($a$$.validateCellState($a$$.validateCell($c$$[$k$$])));
null==$b$$?$b$$=$l$$:$b$$.add($l$$)}$a$$.setGraphBounds($b$$||new mxRectangle)}}mxTemporaryCellStates.prototype.view=null;mxTemporaryCellStates.prototype.oldStates=null;mxTemporaryCellStates.prototype.oldBounds=null;mxTemporaryCellStates.prototype.oldScale=null;
mxTemporaryCellStates.prototype.destroy=function(){this.view.setScale(this.oldScale);this.view.setStates(this.oldStates);this.view.setGraphBounds(this.oldBounds);this.view.validateCellState=this.oldValidateCellState;this.view.graph.cellRenderer.doRedrawShape=this.oldDoRedrawShape};function mxCellStatePreview($a$$){this.deltas=new mxDictionary;this.graph=$a$$}mxCellStatePreview.prototype.graph=null;mxCellStatePreview.prototype.deltas=null;mxCellStatePreview.prototype.count=0;
mxCellStatePreview.prototype.isEmpty=function(){return 0==this.count};mxCellStatePreview.prototype.moveState=function($a$$,$b$$,$c$$,$d$$,$e$$){$d$$=null!=$d$$?$d$$:!0;$e$$=null!=$e$$?$e$$:!0;var $f$$=this.deltas.get($a$$.cell);null==$f$$?($f$$={point:new mxPoint($b$$,$c$$),state:$a$$},this.deltas.put($a$$.cell,$f$$),this.count++):$d$$?($f$$.point.x+=$b$$,$f$$.point.y+=$c$$):($f$$.point.x=$b$$,$f$$.point.y=$c$$);$e$$&&this.addEdges($a$$);return $f$$.point};
mxCellStatePreview.prototype.show=function($a$$){this.deltas.visit(mxUtils.bind(this,function($b$$,$c$$){this.translateState($c$$.state,$c$$.point.x,$c$$.point.y)}));this.deltas.visit(mxUtils.bind(this,function($b$$,$c$$){this.revalidateState($c$$.state,$c$$.point.x,$c$$.point.y,$a$$)}))};
mxCellStatePreview.prototype.translateState=function($a$$,$b$$,$c$$){if(null!=$a$$){var $d$$=this.graph.getModel();if($d$$.isVertex($a$$.cell)){$a$$.view.updateCellState($a$$);var $e$$=$d$$.getGeometry($a$$.cell);0==$b$$&&0==$c$$||null==$e$$||$e$$.relative&&null==this.deltas.get($a$$.cell)||($a$$.x+=$b$$,$a$$.y+=$c$$)}$e$$=$d$$.getChildCount($a$$.cell);for(var $f$$=0;$f$$<$e$$;$f$$++)this.translateState($a$$.view.getState($d$$.getChildAt($a$$.cell,$f$$)),$b$$,$c$$)}};
mxCellStatePreview.prototype.revalidateState=function($a$$,$b$$,$c$$,$d$$){if(null!=$a$$){var $e$$=this.graph.getModel();$e$$.isEdge($a$$.cell)&&$a$$.view.updateCellState($a$$);var $f$$=this.graph.getCellGeometry($a$$.cell),$g$$=$a$$.view.getState($e$$.getParent($a$$.cell));0==$b$$&&0==$c$$||null==$f$$||!$f$$.relative||!$e$$.isVertex($a$$.cell)||null!=$g$$&&!$e$$.isVertex($g$$.cell)&&null==this.deltas.get($a$$.cell)||($a$$.x+=$b$$,$a$$.y+=$c$$);this.graph.cellRenderer.redraw($a$$);null!=$d$$&&$d$$($a$$);
$f$$=$e$$.getChildCount($a$$.cell);for($g$$=0;$g$$<$f$$;$g$$++)this.revalidateState(this.graph.view.getState($e$$.getChildAt($a$$.cell,$g$$)),$b$$,$c$$,$d$$)}};mxCellStatePreview.prototype.addEdges=function($a$$){for(var $b$$=this.graph.getModel(),$c$$=$b$$.getEdgeCount($a$$.cell),$d$$=0;$d$$<$c$$;$d$$++){var $e$$=$a$$.view.getState($b$$.getEdgeAt($a$$.cell,$d$$));null!=$e$$&&this.moveState($e$$,0,0)}};
function mxConnectionConstraint($a$$,$b$$,$c$$,$d$$,$e$$){this.point=$a$$;this.perimeter=null!=$b$$?$b$$:!0;this.name=$c$$;this.dx=$d$$?$d$$:0;this.dy=$e$$?$e$$:0}mxConnectionConstraint.prototype.point=null;mxConnectionConstraint.prototype.perimeter=null;mxConnectionConstraint.prototype.name=null;mxConnectionConstraint.prototype.dx=null;mxConnectionConstraint.prototype.dy=null;
function mxGraphHandler($a$$){this.graph=$a$$;this.graph.addMouseListener(this);this.panHandler=mxUtils.bind(this,function(){this.suspended||(this.updatePreview(),this.updateHint())});this.graph.addListener(mxEvent.PAN,this.panHandler);this.escapeHandler=mxUtils.bind(this,function($b$$,$c$$){this.reset()});this.graph.addListener(mxEvent.ESCAPE,this.escapeHandler);this.refreshHandler=mxUtils.bind(this,function($b$$,$c$$){this.refreshThread&&window.clearTimeout(this.refreshThread);this.refreshThread=
window.setTimeout(mxUtils.bind(this,function(){this.refreshThread=null;if(null!=this.first&&!this.suspended){var $d$$=this.currentDx,$e$$=this.currentDy;this.currentDy=this.currentDx=0;this.updatePreview();this.bounds=this.graph.getView().getBounds(this.cells);this.pBounds=this.getPreviewBounds(this.cells);null!=this.pBounds||this.livePreviewUsed?(this.currentDx=$d$$,this.currentDy=$e$$,this.updatePreview(),this.updateHint(),this.livePreviewUsed&&(this.setHandlesVisibleForCells(this.graph.selectionCellsHandler.getHandledSelectionCells(),
!1,!0),this.updatePreview())):this.reset()}}),0)});this.graph.getModel().addListener(mxEvent.CHANGE,this.refreshHandler);this.graph.addListener(mxEvent.REFRESH,this.refreshHandler);this.keyHandler=mxUtils.bind(this,function($b$$){null==this.graph.container||"hidden"==this.graph.container.style.visibility||null==this.first||this.suspended||($b$$=this.graph.isCloneEvent($b$$)&&this.graph.isCellsCloneable()&&this.isCloneEnabled(),$b$$!=this.cloning&&(this.cloning=$b$$,this.checkPreview(),this.updatePreview()))});
mxEvent.addListener(document,"keydown",this.keyHandler);mxEvent.addListener(document,"keyup",this.keyHandler)}mxGraphHandler.prototype.graph=null;mxGraphHandler.prototype.maxCells=mxClient.IS_IE?20:50;mxGraphHandler.prototype.enabled=!0;mxGraphHandler.prototype.highlightEnabled=!0;mxGraphHandler.prototype.cloneEnabled=!0;mxGraphHandler.prototype.moveEnabled=!0;mxGraphHandler.prototype.guidesEnabled=!1;mxGraphHandler.prototype.handlesVisible=!0;mxGraphHandler.prototype.guide=null;
mxGraphHandler.prototype.currentDx=null;mxGraphHandler.prototype.currentDy=null;mxGraphHandler.prototype.updateCursor=!0;mxGraphHandler.prototype.selectEnabled=!0;mxGraphHandler.prototype.removeCellsFromParent=!0;mxGraphHandler.prototype.removeEmptyParents=!1;mxGraphHandler.prototype.connectOnDrop=!1;mxGraphHandler.prototype.scrollOnMove=!0;mxGraphHandler.prototype.minimumSize=6;mxGraphHandler.prototype.previewColor="black";mxGraphHandler.prototype.htmlPreview=!1;mxGraphHandler.prototype.shape=null;
mxGraphHandler.prototype.scaleGrid=!1;mxGraphHandler.prototype.rotationEnabled=!0;mxGraphHandler.prototype.maxLivePreview=0;mxGraphHandler.prototype.allowLivePreview=mxClient.IS_SVG;mxGraphHandler.prototype.isEnabled=function(){return this.enabled};mxGraphHandler.prototype.setEnabled=function($a$$){this.enabled=$a$$};mxGraphHandler.prototype.isCloneEnabled=function(){return this.cloneEnabled};mxGraphHandler.prototype.setCloneEnabled=function($a$$){this.cloneEnabled=$a$$};
mxGraphHandler.prototype.isMoveEnabled=function(){return this.moveEnabled};mxGraphHandler.prototype.setMoveEnabled=function($a$$){this.moveEnabled=$a$$};mxGraphHandler.prototype.isSelectEnabled=function(){return this.selectEnabled};mxGraphHandler.prototype.setSelectEnabled=function($a$$){this.selectEnabled=$a$$};mxGraphHandler.prototype.isRemoveCellsFromParent=function(){return this.removeCellsFromParent};
mxGraphHandler.prototype.setRemoveCellsFromParent=function($a$$){this.removeCellsFromParent=$a$$};
mxGraphHandler.prototype.isPropagateSelectionCell=function($a$$,$b$$,$c$$){var $d$$=this.graph.model.getParent($a$$);return $b$$?($b$$=this.graph.model.isEdge($a$$)?null:this.graph.getCellGeometry($a$$),!this.graph.isSiblingSelected($a$$)&&(null!=$b$$&&$b$$.relative||!this.graph.isSwimlane($d$$))):(!this.graph.isToggleEvent($c$$.getEvent())||!this.graph.isSiblingSelected($a$$)&&!this.graph.isCellSelected($a$$)&&!this.graph.isSwimlane($d$$)||this.graph.isCellSelected($d$$))&&(this.graph.isToggleEvent($c$$.getEvent())||
!this.graph.isCellSelected($d$$))};
mxGraphHandler.prototype.getInitialCellForEvent=function($a$$){var $b$$=$a$$.getState();if(!(this.graph.isToggleEvent($a$$.getEvent())&&mxEvent.isAltDown($a$$.getEvent())||null==$b$$||this.graph.isCellSelected($b$$.cell)))for(var $c$$=this.graph.model,$d$$=this.graph.view.getState($c$$.getParent($b$$.cell));null!=$d$$&&!this.graph.isCellSelected($d$$.cell)&&($c$$.isVertex($d$$.cell)||$c$$.isEdge($d$$.cell))&&this.isPropagateSelectionCell($b$$.cell,!0,$a$$)&&$d$$.cell!=this.graph.getCurrentRoot();)$b$$=
$d$$,$d$$=this.graph.view.getState(this.graph.getModel().getParent($b$$.cell));return null!=$b$$?$b$$.cell:null};mxGraphHandler.prototype.isDelayedSelection=function($a$$,$b$$){if(!this.graph.isToggleEvent($b$$.getEvent())||!mxEvent.isAltDown($b$$.getEvent()))for(;null!=$a$$;){if(this.graph.selectionCellsHandler.isHandled($a$$))return this.graph.cellEditor.getEditingCell()!=$a$$;$a$$=this.graph.model.getParent($a$$)}return this.graph.isToggleEvent($b$$.getEvent())};
mxGraphHandler.prototype.selectDelayed=function($a$$){if(!this.graph.popupMenuHandler.isPopupTrigger($a$$)){var $b$$=$a$$.getCell();null==$b$$&&($b$$=this.cell);this.selectCellForEvent($b$$,$a$$)}};
mxGraphHandler.prototype.selectCellForEvent=function($a$$,$b$$){var $c$$=this.graph.view.getState($a$$);if(null!=$c$$){if(!($b$$.isSource($c$$.control)||this.graph.isToggleEvent($b$$.getEvent())&&mxEvent.isAltDown($b$$.getEvent()))){$c$$=this.graph.getModel();for(var $d$$=$c$$.getParent($a$$);null!=this.graph.view.getState($d$$)&&($c$$.isVertex($d$$)||$c$$.isEdge($d$$)&&!this.graph.isToggleEvent($b$$.getEvent()))&&this.isPropagateSelectionCell($a$$,!1,$b$$)&&$d$$!=this.graph.getCurrentRoot();)$a$$=
$d$$,$d$$=$c$$.getParent($a$$)}this.graph.selectCellForEvent($a$$,$b$$.getEvent())}return $a$$};mxGraphHandler.prototype.consumeMouseEvent=function($a$$,$b$$){$b$$.consume()};
mxGraphHandler.prototype.mouseDown=function($a$$,$b$$){this.mouseDownX=$b$$.getX();this.mouseDownY=$b$$.getY();$a$$=$b$$.getEvent();var $c$$=mxEvent.isAltDown($a$$)&&mxEvent.isShiftDown($a$$)&&!this.graph.isSelectionEmpty();if(!$b$$.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&(null!=$b$$.getState()||$c$$)&&!mxEvent.isMultiTouchEvent($a$$)){var $d$$=this.getInitialCellForEvent($b$$);this.delayedSelection=this.isDelayedSelection($d$$,$b$$);this.cell=null;null==$d$$&&$c$$&&($d$$=this.graph.getSelectionCell());
$c$$=this.graph.getSelectionCount();this.isSelectEnabled()&&!this.delayedSelection&&this.graph.selectCellForEvent($d$$,$a$$);mxEvent.isTouchEvent($b$$.getEvent())&&this.graph.isCellSelected($d$$)&&0<$c$$&&(this.delayedSelection=this.blockDelayedSelection=!0);this.isMoveEnabled()&&(this.delayedSelection?this.cell=$d$$:this.start($d$$,$b$$.getX(),$b$$.getY()),this.cellWasClicked=!0,this.consumeMouseEvent(mxEvent.MOUSE_DOWN,$b$$))}};
mxGraphHandler.prototype.getGuideStates=function(){var $a$$=this.graph.getDefaultParent(),$b$$=this.graph.getModel(),$c$$=mxUtils.bind(this,function($d$$){return null!=this.graph.view.getState($d$$)&&$b$$.isVertex($d$$)&&null!=$b$$.getGeometry($d$$)&&!$b$$.getGeometry($d$$).relative});return this.graph.view.getCellStates($b$$.filterDescendants($c$$,$a$$))};
mxGraphHandler.prototype.getCells=function($a$$,$b$$){if(null==$b$$&&!this.delayedSelection&&this.graph.isCellMovable($a$$))return[this.graph.getCompositeParent($a$$)];$b$$=null!=$b$$?$b$$:this.graph.getSelectionCells();$a$$=new mxDictionary;for(var $c$$=[],$d$$=0;$d$$<$b$$.length;$d$$++){var $e$$=this.graph.getCompositeParent($b$$[$d$$]);null==$a$$.get($e$$)&&($a$$.put($e$$,!0),$c$$.push($e$$))}$b$$=[];for($d$$=0;$d$$<$c$$.length;$d$$++){for($e$$=this.graph.model.getParent($c$$[$d$$]);null==$a$$.get($e$$)&&
null!=$e$$;)$e$$=this.graph.model.getParent($e$$);null==$e$$&&$b$$.push($c$$[$d$$])}return this.graph.getMovableCells($b$$)};
mxGraphHandler.prototype.getPreviewBounds=function($a$$){$a$$=this.getBoundingBox($a$$);null!=$a$$&&($a$$.width=Math.max(0,$a$$.width-1),$a$$.height=Math.max(0,$a$$.height-1),$a$$.width<this.minimumSize?($a$$.x-=(this.minimumSize-$a$$.width)/2,$a$$.width=this.minimumSize):($a$$.x=Math.round($a$$.x),$a$$.width=Math.ceil($a$$.width)),$a$$.height<this.minimumSize?($a$$.y-=(this.minimumSize-$a$$.height)/2,$a$$.height=this.minimumSize):($a$$.y=Math.round($a$$.y),$a$$.height=Math.ceil($a$$.height)));return $a$$};
mxGraphHandler.prototype.getBoundingBox=function($a$$){var $b$$=null;if(null!=$a$$&&0<$a$$.length)for(var $c$$=this.graph.getModel(),$d$$=0;$d$$<$a$$.length;$d$$++)if($c$$.isVertex($a$$[$d$$])||$c$$.isEdge($a$$[$d$$])){var $e$$=this.graph.view.getState($a$$[$d$$]);if(null!=$e$$){var $f$$=$e$$;$c$$.isVertex($a$$[$d$$])&&null!=$e$$.shape&&null!=$e$$.shape.boundingBox&&($f$$=$e$$.shape.boundingBox);null==$b$$?$b$$=mxRectangle.fromRectangle($f$$):$b$$.add($f$$)}}return $b$$};
mxGraphHandler.prototype.createPreviewShape=function($a$$){$a$$=new mxRectangleShape($a$$,null,this.previewColor);$a$$.isDashed=!0;this.htmlPreview?($a$$.dialect=mxConstants.DIALECT_STRICTHTML,$a$$.init(this.graph.container)):($a$$.dialect=mxConstants.DIALECT_SVG,$a$$.init(this.graph.getView().getOverlayPane()),$a$$.pointerEvents=!1,mxClient.IS_IOS&&($a$$.getSvgScreenOffset=function(){return 0}));return $a$$};
mxGraphHandler.prototype.start=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.graph.model,$f$$=$e$$.getGeometry($a$$);if(null==this.first&&this.graph.isCellMovable($a$$)&&(!$e$$.isEdge($a$$)||1<this.graph.getSelectionCount()||null!=$f$$.points&&0<$f$$.points.length||null==$e$$.getTerminal($a$$,!0)||null==$e$$.getTerminal($a$$,!1)||this.graph.allowDanglingEdges)){this.cell=$a$$;this.first=mxUtils.convertPoint(this.graph.container,$b$$,$c$$);this.cells=null!=$d$$?$d$$:this.getCells(this.cell);this.bounds=
this.graph.getView().getBounds(this.cells);this.pBounds=this.getPreviewBounds(this.cells);this.allCells=new mxDictionary;this.cloning=!1;for($b$$=this.cellCount=0;$b$$<this.cells.length;$b$$++)this.cellCount+=this.addStates(this.cells[$b$$],this.allCells);if(this.guidesEnabled){this.guide=new mxGuide(this.graph,this.getGuideStates());var $g$$=this.graph.model.getParent($a$$),$k$$=2>this.graph.model.getChildCount($g$$),$l$$=new mxDictionary;$a$$=this.graph.getOpposites(this.graph.getEdges(this.cell),
this.cell);for($b$$=0;$b$$<$a$$.length;$b$$++)$c$$=this.graph.view.getState($a$$[$b$$]),null==$c$$||$l$$.get($c$$)||$l$$.put($c$$,!0);this.guide.isStateIgnored=mxUtils.bind(this,function($m$$){var $n$$=this.graph.model.getParent($m$$.cell);return null!=$m$$.cell&&(!this.cloning&&this.isCellMoving($m$$.cell)||$m$$.cell!=(this.target||$g$$)&&!$k$$&&!$l$$.get($m$$)&&(null==this.target||2<=this.graph.model.getChildCount(this.target))&&$n$$!=(this.target||$g$$))})}}};
mxGraphHandler.prototype.addStates=function($a$$,$b$$){var $c$$=this.graph.view.getState($a$$),$d$$=0;if(null!=$c$$&&null==$b$$.get($a$$)){$b$$.put($a$$,$c$$);$d$$++;$c$$=this.graph.model.getChildCount($a$$);for(var $e$$=0;$e$$<$c$$;$e$$++)$d$$+=this.addStates(this.graph.model.getChildAt($a$$,$e$$),$b$$)}return $d$$};mxGraphHandler.prototype.isCellMoving=function($a$$){return null!=this.allCells.get($a$$)};
mxGraphHandler.prototype.useGuidesForEvent=function($a$$){return null!=this.guide?this.guide.isEnabledForEvent($a$$.getEvent())&&!this.isConstrainedEvent($a$$):!0};mxGraphHandler.prototype.snap=function($a$$){var $b$$=this.scaleGrid?this.graph.view.scale:1;$a$$.x=this.graph.snap($a$$.x/$b$$)*$b$$;$a$$.y=this.graph.snap($a$$.y/$b$$)*$b$$;return $a$$};
mxGraphHandler.prototype.getDelta=function($a$$){$a$$=mxUtils.convertPoint(this.graph.container,$a$$.getX(),$a$$.getY());return new mxPoint($a$$.x-this.first.x-this.graph.panDx,$a$$.y-this.first.y-this.graph.panDy)};mxGraphHandler.prototype.updateHint=function($a$$){};mxGraphHandler.prototype.removeHint=function(){};mxGraphHandler.prototype.roundLength=function($a$$){return Math.round(100*$a$$)/100};
mxGraphHandler.prototype.isValidDropTarget=function($a$$,$b$$){for($b$$=0;$b$$<this.cells.length;$b$$++)if(this.graph.model.getParent(this.cells[$b$$])!=$a$$)return!0;return!1};
mxGraphHandler.prototype.checkPreview=function(){this.livePreviewActive&&this.cloning?(this.resetLivePreview(),this.livePreviewActive=!1):this.maxLivePreview>=this.cellCount&&!this.livePreviewActive&&this.allowLivePreview?this.cloning&&this.livePreviewActive||(this.livePreviewUsed=this.livePreviewActive=!0):this.livePreviewUsed||null!=this.shape||(this.shape=this.createPreviewShape(this.bounds))};
mxGraphHandler.prototype.mouseMove=function($a$$,$b$$){$a$$=this.graph;var $c$$=$a$$.tolerance;if(null==this.first&&this.delayedSelection&&null!=this.cell&&null!=this.mouseDownX&&null!=this.mouseDownY&&(Math.abs(this.mouseDownX-$b$$.getX())>$c$$||Math.abs(this.mouseDownY-$b$$.getY())>$c$$)){this.delayedSelection=!1;this.cellWasClicked=!0;this.graph.isCellSelected(this.cell)||mxEvent.isAltDown($b$$.getEvent())||(this.graph.isToggleEvent($b$$.getEvent())?$a$$.addSelectionCell(this.cell):this.graph.isAncestorSelected(this.cell)||
$a$$.setSelectionCell(this.cell));var $d$$=$a$$.getSelectionCells();this.graph.isToggleEvent($b$$.getEvent())&&mxEvent.isAltDown($b$$.getEvent())&&!$a$$.isSelectionEmpty()||($d$$=$d$$.concat(this.cell));this.start(this.cell,this.mouseDownX,this.mouseDownY,this.getCells(null,$d$$))}$d$$=null!=this.first?this.getDelta($b$$):null;if($b$$.isConsumed()||!$a$$.isMouseDown||null==this.cell||null==$d$$||null==this.bounds||this.suspended)!this.isMoveEnabled()&&!this.isCloneEnabled()||!this.updateCursor||$b$$.isConsumed()||
null==$b$$.getState()&&null==$b$$.sourceState||$a$$.isMouseDown||($d$$=$a$$.getCursorForMouseEvent($b$$),null==$d$$&&$a$$.isEnabled()&&$a$$.isCellMovable($b$$.getCell())&&($d$$=$a$$.getModel().isEdge($b$$.getCell())?mxConstants.CURSOR_MOVABLE_EDGE:mxConstants.CURSOR_MOVABLE_VERTEX),null!=$d$$&&null!=$b$$.sourceState&&$b$$.sourceState.setCursor($d$$));else if(mxEvent.isMultiTouchEvent($b$$.getEvent()))this.reset();else{if(null!=this.shape||this.livePreviewActive||this.cloning||Math.abs($d$$.x)>$c$$||
Math.abs($d$$.y)>$c$$){null==this.highlight&&(this.highlight=new mxCellHighlight(this.graph,mxConstants.DROP_TARGET_COLOR,3));$c$$=$a$$.isCloneEvent($b$$.getEvent())&&$a$$.isCellsCloneable()&&this.isCloneEnabled();var $e$$=$a$$.isGridEnabledEvent($b$$.getEvent()),$f$$=$b$$.getCell();$f$$=null!=$f$$&&0>mxUtils.indexOf(this.cells,$f$$)?$f$$:$a$$.getCellAt($b$$.getGraphX(),$b$$.getGraphY(),null,null,null,mxUtils.bind(this,function($n$$,$p$$,$q$$){return 0<=mxUtils.indexOf(this.cells,$n$$.cell)}));var $g$$=
!0,$k$$=null;this.cloning=$c$$;$a$$.isDropEnabled()&&this.highlightEnabled&&($k$$=$a$$.getDropTarget(this.cells,$b$$.getEvent(),$f$$,$c$$));var $l$$=$a$$.getView().getState($k$$),$m$$=!1;null!=$l$$&&($c$$||this.isValidDropTarget($k$$,$b$$))?(this.target!=$k$$&&(this.target=$k$$,this.setHighlightColor(mxConstants.DROP_TARGET_COLOR)),$m$$=!0):(this.target=null,this.connectOnDrop&&null!=$f$$&&1==this.cells.length&&$a$$.getModel().isVertex($f$$)&&$a$$.isCellConnectable($f$$)&&($l$$=$a$$.getView().getState($f$$),
null!=$l$$&&($f$$=null==$a$$.getEdgeValidationError(null,this.cell,$f$$)?mxConstants.VALID_COLOR:mxConstants.INVALID_CONNECT_TARGET_COLOR,this.setHighlightColor($f$$),$m$$=!0)));null!=$l$$&&$m$$?this.highlight.highlight($l$$):this.highlight.hide();null!=this.guide&&this.useGuidesForEvent($b$$)?($d$$=this.guide.move(this.bounds,$d$$,$e$$,$c$$),$g$$=!1):$d$$=$a$$.snapDelta($d$$,this.bounds,!$e$$,!1,!1);null!=this.guide&&$g$$&&this.guide.hide();this.isConstrainedEvent($b$$)&&(Math.abs($d$$.x)>Math.abs($d$$.y)?
$d$$.y=0:$d$$.x=0);this.checkPreview();if(this.currentDx!=$d$$.x||this.currentDy!=$d$$.y)this.currentDx=$d$$.x,this.currentDy=$d$$.y,this.updatePreview()}this.updateHint($b$$);this.consumeMouseEvent(mxEvent.MOUSE_MOVE,$b$$);mxEvent.consume($b$$.getEvent())}};mxGraphHandler.prototype.isConstrainedEvent=function($a$$){return(null==this.target||this.graph.isCloneEvent($a$$.getEvent()))&&this.graph.isConstrainedEvent($a$$.getEvent())};
mxGraphHandler.prototype.updatePreview=function($a$$){this.livePreviewUsed&&!$a$$?null!=this.cells&&(this.setHandlesVisibleForCells(this.graph.selectionCellsHandler.getHandledSelectionCells(),!1),this.updateLivePreview(this.currentDx,this.currentDy)):this.updatePreviewShape()};
mxGraphHandler.prototype.updatePreviewShape=function(){null!=this.shape&&null!=this.pBounds&&(this.shape.bounds=new mxRectangle(Math.round(this.pBounds.x+this.currentDx),Math.round(this.pBounds.y+this.currentDy),this.pBounds.width,this.pBounds.height),this.shape.redraw())};
mxGraphHandler.prototype.updateLivePreview=function($a$$,$b$$){if(!this.suspended){var $c$$=[];null!=this.allCells&&this.allCells.visit(mxUtils.bind(this,function($n$$,$p$$){$n$$=this.graph.view.getState($p$$.cell);$n$$!=$p$$&&($p$$.destroy(),null!=$n$$?this.allCells.put($p$$.cell,$n$$):this.allCells.remove($p$$.cell),$p$$=$n$$);if(null!=$p$$&&($n$$=$p$$.clone(),$c$$.push([$p$$,$n$$]),null!=$p$$.shape&&(null==$p$$.shape.originalPointerEvents&&($p$$.shape.originalPointerEvents=$p$$.shape.pointerEvents),
$p$$.shape.pointerEvents=!1,null!=$p$$.text&&(null==$p$$.text.originalPointerEvents&&($p$$.text.originalPointerEvents=$p$$.text.pointerEvents),$p$$.text.pointerEvents=!1)),this.graph.model.isVertex($p$$.cell))){if(!this.cloning||this.graph.isCellCloneable($p$$.cell))$p$$.x+=$a$$,$p$$.y+=$b$$;this.cloning?null!=$p$$.text&&($p$$.text.updateBoundingBox(),null!=$p$$.text.boundingBox&&($p$$.text.boundingBox.x+=$a$$,$p$$.text.boundingBox.y+=$b$$),null!=$p$$.text.unrotatedBoundingBox&&($p$$.text.unrotatedBoundingBox.x+=
$a$$,$p$$.text.unrotatedBoundingBox.y+=$b$$)):($p$$.view.graph.cellRenderer.redraw($p$$,!0),$p$$.view.invalidate($p$$.cell),$p$$.invalid=!1,null!=$p$$.control&&null!=$p$$.control.node&&($p$$.control.node.style.visibility="hidden"))}}));if(0==$c$$.length)this.reset();else{for(var $d$$=this.graph.view.scale,$e$$=0;$e$$<$c$$.length;$e$$++){var $f$$=$c$$[$e$$][0];if(this.graph.model.isEdge($f$$.cell)&&(!this.cloning||this.graph.isCellCloneable($f$$.cell))){var $g$$=this.graph.getCellGeometry($f$$.cell),
$k$$=[];if(null!=$g$$&&null!=$g$$.points)for(var $l$$=0;$l$$<$g$$.points.length;$l$$++)null!=$g$$.points[$l$$]&&$k$$.push(new mxPoint($g$$.points[$l$$].x+$a$$/$d$$,$g$$.points[$l$$].y+$b$$/$d$$));$g$$=$f$$.visibleSourceState;$l$$=$f$$.visibleTargetState;var $m$$=$c$$[$e$$][1].absolutePoints;null!=$g$$&&this.isCellMoving($g$$.cell)?$f$$.view.updateFixedTerminalPoint($f$$,$g$$,!0,this.graph.getConnectionConstraint($f$$,$g$$,!0)):($g$$=$m$$[0],$f$$.setAbsoluteTerminalPoint(new mxPoint($g$$.x+$a$$,$g$$.y+
$b$$),!0),$g$$=null);null!=$l$$&&this.isCellMoving($l$$.cell)?$f$$.view.updateFixedTerminalPoint($f$$,$l$$,!1,this.graph.getConnectionConstraint($f$$,$l$$,!1)):($l$$=$m$$[$m$$.length-1],$f$$.setAbsoluteTerminalPoint(new mxPoint($l$$.x+$a$$,$l$$.y+$b$$),!1),$l$$=null);$f$$.view.updatePoints($f$$,$k$$,$g$$,$l$$);$f$$.view.updateFloatingTerminalPoints($f$$,$g$$,$l$$);$f$$.view.updateEdgeLabelOffset($f$$);$f$$.invalid=!1;this.cloning||$f$$.view.graph.cellRenderer.redraw($f$$,!0)}}this.graph.view.validate();
this.redrawHandles($c$$);this.resetPreviewStates($c$$)}}};mxGraphHandler.prototype.redrawHandles=function($a$$){for(var $b$$=0;$b$$<$a$$.length;$b$$++){var $c$$=this.graph.selectionCellsHandler.getHandler($a$$[$b$$][0].cell);null!=$c$$&&$c$$.redraw(!0)}};mxGraphHandler.prototype.resetPreviewStates=function($a$$){for(var $b$$=0;$b$$<$a$$.length;$b$$++)$a$$[$b$$][0].setState($a$$[$b$$][1])};
mxGraphHandler.prototype.suspend=function(){this.suspended||(this.livePreviewUsed&&this.updateLivePreview(0,0),null!=this.shape&&(this.shape.node.style.visibility="hidden"),null!=this.guide&&this.guide.setVisible(!1),this.suspended=!0)};mxGraphHandler.prototype.resume=function(){this.suspended&&(this.suspended=null,this.livePreviewUsed&&(this.livePreviewActive=!0),null!=this.shape&&(this.shape.node.style.visibility="visible"),null!=this.guide&&this.guide.setVisible(!0))};
mxGraphHandler.prototype.resetLivePreview=function(){null!=this.allCells&&(this.allCells.visit(mxUtils.bind(this,function($a$$,$b$$){null!=$b$$.shape&&null!=$b$$.shape.originalPointerEvents&&($b$$.shape.pointerEvents=$b$$.shape.originalPointerEvents,$b$$.shape.originalPointerEvents=null,$b$$.shape.bounds=null,null!=$b$$.text&&($b$$.text.pointerEvents=$b$$.text.originalPointerEvents,$b$$.text.originalPointerEvents=null));null!=$b$$.control&&null!=$b$$.control.node&&"hidden"==$b$$.control.node.style.visibility&&
($b$$.control.node.style.visibility="");this.cloning||null!=$b$$.text&&$b$$.text.updateBoundingBox();$b$$.view.invalidate($b$$.cell)})),this.graph.view.validate())};mxGraphHandler.prototype.setHandlesVisibleForCells=function($a$$,$b$$,$c$$){if($c$$||this.handlesVisible!=$b$$)for(this.handlesVisible=$b$$,$c$$=0;$c$$<$a$$.length;$c$$++){var $d$$=this.graph.selectionCellsHandler.getHandler($a$$[$c$$]);null!=$d$$&&($d$$.setHandlesVisible($b$$),$b$$&&$d$$.redraw())}};
mxGraphHandler.prototype.setHighlightColor=function($a$$){null!=this.highlight&&this.highlight.setHighlightColor($a$$)};
mxGraphHandler.prototype.mouseUp=function($a$$,$b$$){if(!$b$$.isConsumed())if(this.livePreviewUsed&&this.resetLivePreview(),null!=this.cell&&null!=this.first&&null!=this.currentDx&&null!=this.currentDy&&(null!=this.shape||this.livePreviewUsed||this.cloning)){$a$$=this.graph;var $c$$=$b$$.getCell();if(this.connectOnDrop&&null==this.target&&null!=$c$$&&$a$$.getModel().isVertex($c$$)&&$a$$.isCellConnectable($c$$)&&$a$$.isEdgeValid(null,this.cell,$c$$))$a$$.connectionHandler.connect(this.cell,$c$$,$b$$.getEvent());
else{var $d$$=$a$$.getView().scale;$c$$=this.roundLength(this.currentDx/$d$$);$d$$=this.roundLength(this.currentDy/$d$$);var $e$$=this.target;$a$$.isSplitEnabled()&&$a$$.isSplitTarget($e$$,this.cells,$b$$.getEvent())?$a$$.splitEdge($e$$,this.cells,null,$c$$,$d$$,$b$$.getGraphX(),$b$$.getGraphY()):this.moveCells(this.cells,$c$$,$d$$,this.cloning,this.target,$b$$.getEvent())}}else this.isSelectEnabled()&&this.delayedSelection&&!this.blockDelayedSelection&&null!=this.cell&&this.selectDelayed($b$$);this.cellWasClicked&&
this.consumeMouseEvent(mxEvent.MOUSE_UP,$b$$);this.reset()};
mxGraphHandler.prototype.reset=function(){this.livePreviewUsed&&(this.resetLivePreview(),this.setHandlesVisibleForCells(this.graph.selectionCellsHandler.getHandledSelectionCells(),!0));this.destroyShapes();this.removeHint();this.delayedSelection=this.blockDelayedSelection=!1;this.livePreviewUsed=this.livePreviewActive=null;this.cellWasClicked=!1;this.cellCount=this.currentDy=this.currentDx=this.suspended=null;this.cloning=!1;this.cell=this.cells=this.first=this.target=this.guides=this.pBounds=this.allCells=
null};
mxGraphHandler.prototype.shouldRemoveCellsFromParent=function($a$$,$b$$,$c$$){if(this.graph.getModel().isVertex($a$$)&&($a$$=this.graph.getView().getState($a$$),null!=$a$$)){$c$$=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX($c$$),mxEvent.getClientY($c$$));var $d$$=mxUtils.toRadians(mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION)||0);if(0!=$d$$){$b$$=Math.cos(-$d$$);$d$$=Math.sin(-$d$$);var $e$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY());$c$$=mxUtils.getRotatedPoint($c$$,$b$$,
$d$$,$e$$)}return!mxUtils.contains($a$$,$c$$.x,$c$$.y)}return!1};
mxGraphHandler.prototype.moveCells=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$d$$&&($a$$=this.graph.getCloneableCells($a$$));var $g$$=this.graph.getModel().getParent(this.cell);!this.graph.isCellSelected(this.cell)&&this.graph.isCellSelected($g$$)&&($g$$=this.graph.getModel().getParent($g$$));null==$e$$&&null!=$f$$&&this.isRemoveCellsFromParent()&&this.shouldRemoveCellsFromParent($g$$,$a$$,$f$$)&&($e$$=this.graph.getDefaultParent());$d$$=$d$$&&!this.graph.isCellLocked($e$$||this.graph.getDefaultParent());
this.graph.getModel().beginUpdate();try{$g$$=[];if(!$d$$&&null!=$e$$&&this.removeEmptyParents){for(var $k$$=new mxDictionary,$l$$=0;$l$$<$a$$.length;$l$$++)$k$$.put($a$$[$l$$],!0);for($l$$=0;$l$$<$a$$.length;$l$$++){var $m$$=this.graph.model.getParent($a$$[$l$$]);null==$m$$||$k$$.get($m$$)||($k$$.put($m$$,!0),$g$$.push($m$$))}}$a$$=this.graph.moveCells($a$$,$b$$,$c$$,$d$$,$e$$,$f$$);$b$$=[];for($l$$=0;$l$$<$g$$.length;$l$$++)this.shouldRemoveParent($g$$[$l$$])&&$b$$.push($g$$[$l$$]);this.graph.removeCells($b$$,
!1)}finally{this.graph.getModel().endUpdate()}$d$$&&this.graph.setSelectionCells($a$$);this.isSelectEnabled()&&this.scrollOnMove&&this.graph.scrollCellToVisible($a$$[0])};mxGraphHandler.prototype.shouldRemoveParent=function($a$$){$a$$=this.graph.view.getState($a$$);return null!=$a$$&&(this.graph.model.isEdge($a$$.cell)||this.graph.model.isVertex($a$$.cell))&&this.graph.isCellDeletable($a$$.cell)&&0==this.graph.model.getChildCount($a$$.cell)&&this.graph.isTransparentState($a$$)};
mxGraphHandler.prototype.destroyShapes=function(){null!=this.shape&&(this.shape.destroy(),this.shape=null);null!=this.guide&&(this.guide.destroy(),this.guide=null);null!=this.highlight&&(this.highlight.destroy(),this.highlight=null)};
mxGraphHandler.prototype.destroy=function(){this.graph.removeMouseListener(this);this.graph.removeListener(this.panHandler);null!=this.escapeHandler&&(this.graph.removeListener(this.escapeHandler),this.escapeHandler=null);null!=this.refreshHandler&&(this.graph.getModel().removeListener(this.refreshHandler),this.graph.removeListener(this.refreshHandler),this.refreshHandler=null);mxEvent.removeListener(document,"keydown",this.keyHandler);mxEvent.removeListener(document,"keyup",this.keyHandler);this.destroyShapes();
this.removeHint()};
function mxPanningHandler($a$$){null!=$a$$&&(this.graph=$a$$,this.graph.addMouseListener(this),this.forcePanningHandler=mxUtils.bind(this,function($b$$,$c$$){$b$$=$c$$.getProperty("eventName");$c$$=$c$$.getProperty("event");$b$$==mxEvent.MOUSE_DOWN&&this.isForcePanningEvent($c$$)&&(this.start($c$$),this.active=!0,this.fireEvent(new mxEventObject(mxEvent.PAN_START,"event",$c$$)),$c$$.consume())}),this.graph.addListener(mxEvent.FIRE_MOUSE_EVENT,this.forcePanningHandler),this.gestureHandler=mxUtils.bind(this,
function($b$$,$c$$){this.isPinchEnabled()&&($b$$=$c$$.getProperty("event"),mxEvent.isConsumed($b$$)||"gesturestart"!=$b$$.type?"gestureend"==$b$$.type&&null!=this.initialScale&&(this.initialScale=null):(this.initialScale=this.graph.view.scale,this.active||null==this.mouseDownEvent||(this.start(this.mouseDownEvent),this.mouseDownEvent=null)),null!=this.initialScale&&this.zoomGraph($b$$))}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler),this.mouseUpListener=mxUtils.bind(this,function(){this.active&&
this.reset()}),mxEvent.addGestureListeners(document,null,null,this.mouseUpListener),mxEvent.addListener(document,"mouseleave",this.mouseUpListener))}mxPanningHandler.prototype=new mxEventSource;mxPanningHandler.prototype.constructor=mxPanningHandler;mxPanningHandler.prototype.graph=null;mxPanningHandler.prototype.useLeftButtonForPanning=!1;mxPanningHandler.prototype.usePopupTrigger=!0;mxPanningHandler.prototype.ignoreCell=!1;mxPanningHandler.prototype.previewEnabled=!0;
mxPanningHandler.prototype.useGrid=!1;mxPanningHandler.prototype.panningEnabled=!0;mxPanningHandler.prototype.pinchEnabled=!0;mxPanningHandler.prototype.maxScale=8;mxPanningHandler.prototype.minScale=.01;mxPanningHandler.prototype.dx=null;mxPanningHandler.prototype.dy=null;mxPanningHandler.prototype.startX=0;mxPanningHandler.prototype.startY=0;mxPanningHandler.prototype.isActive=function(){return this.active||null!=this.initialScale};mxPanningHandler.prototype.isPanningEnabled=function(){return this.panningEnabled};
mxPanningHandler.prototype.setPanningEnabled=function($a$$){this.panningEnabled=$a$$};mxPanningHandler.prototype.isPinchEnabled=function(){return this.pinchEnabled};mxPanningHandler.prototype.setPinchEnabled=function($a$$){this.pinchEnabled=$a$$};
mxPanningHandler.prototype.isPanningTrigger=function($a$$){var $b$$=$a$$.getEvent();return this.useLeftButtonForPanning&&null==$a$$.getState()&&mxEvent.isLeftMouseButton($b$$)||mxEvent.isControlDown($b$$)&&mxEvent.isShiftDown($b$$)||this.usePopupTrigger&&mxEvent.isPopupTrigger($b$$)};mxPanningHandler.prototype.isForcePanningEvent=function($a$$){return this.ignoreCell||mxEvent.isMultiTouchEvent($a$$.getEvent())};
mxPanningHandler.prototype.mouseDown=function($a$$,$b$$){this.mouseDownEvent=$b$$;!$b$$.isConsumed()&&this.isPanningEnabled()&&!this.active&&this.isPanningTrigger($b$$)&&(this.start($b$$),this.consumePanningTrigger($b$$))};mxPanningHandler.prototype.start=function($a$$){this.dx0=-this.graph.container.scrollLeft;this.dy0=-this.graph.container.scrollTop;this.startX=$a$$.getX();this.startY=$a$$.getY();this.dy=this.dx=null;this.panningTrigger=!0};mxPanningHandler.prototype.consumePanningTrigger=function($a$$){$a$$.consume()};
mxPanningHandler.prototype.mouseMove=function($a$$,$b$$){this.dx=$b$$.getX()-this.startX;this.dy=$b$$.getY()-this.startY;this.active?(this.previewEnabled&&(this.useGrid&&(this.dx=this.graph.snap(this.dx),this.dy=this.graph.snap(this.dy)),this.graph.panGraph(this.dx+this.dx0,this.dy+this.dy0)),this.fireEvent(new mxEventObject(mxEvent.PAN,"event",$b$$))):this.panningTrigger&&($a$$=this.active,this.active=Math.abs(this.dx)>this.graph.tolerance||Math.abs(this.dy)>this.graph.tolerance,!$a$$&&this.active&&
this.fireEvent(new mxEventObject(mxEvent.PAN_START,"event",$b$$)));(this.active||this.panningTrigger)&&$b$$.consume()};
mxPanningHandler.prototype.mouseUp=function($a$$,$b$$){if(this.active){if(null!=this.dx&&null!=this.dy){if(!this.graph.useScrollbarsForPanning||!mxUtils.hasScrollbars(this.graph.container)){$a$$=this.graph.getView().scale;var $c$$=this.graph.getView().translate;this.graph.panGraph(0,0);this.panGraph($c$$.x+this.dx/$a$$,$c$$.y+this.dy/$a$$)}$b$$.consume()}this.fireEvent(new mxEventObject(mxEvent.PAN_END,"event",$b$$))}this.reset()};
mxPanningHandler.prototype.zoomGraph=function($a$$){var $b$$=Math.round(this.initialScale*$a$$.scale*100)/100;null!=this.minScale&&($b$$=Math.max(this.minScale,$b$$));null!=this.maxScale&&($b$$=Math.min(this.maxScale,$b$$));this.graph.view.scale!=$b$$&&(this.graph.zoomTo($b$$),mxEvent.consume($a$$))};mxPanningHandler.prototype.reset=function(){this.panningTrigger=this.graph.isMouseDown=!1;this.mouseDownEvent=null;this.active=!1;this.dy=this.dx=null};
mxPanningHandler.prototype.panGraph=function($a$$,$b$$){this.graph.getView().setTranslate($a$$,$b$$)};mxPanningHandler.prototype.destroy=function(){this.graph.removeMouseListener(this);this.graph.removeListener(this.forcePanningHandler);this.graph.removeListener(this.gestureHandler);mxEvent.removeGestureListeners(document,null,null,this.mouseUpListener);mxEvent.removeListener(document,"mouseleave",this.mouseUpListener)};
function mxPopupMenuHandler($a$$,$b$$){null!=$a$$&&(this.graph=$a$$,this.factoryMethod=$b$$,this.graph.addMouseListener(this),this.gestureHandler=mxUtils.bind(this,function($c$$,$d$$){this.inTolerance=!1}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler),this.init())}mxPopupMenuHandler.prototype=new mxPopupMenu;mxPopupMenuHandler.prototype.constructor=mxPopupMenuHandler;mxPopupMenuHandler.prototype.graph=null;mxPopupMenuHandler.prototype.selectOnPopup=!0;
mxPopupMenuHandler.prototype.clearSelectionOnBackground=!0;mxPopupMenuHandler.prototype.triggerX=null;mxPopupMenuHandler.prototype.triggerY=null;mxPopupMenuHandler.prototype.screenX=null;mxPopupMenuHandler.prototype.screenY=null;mxPopupMenuHandler.prototype.init=function(){mxPopupMenu.prototype.init.apply(this);mxEvent.addGestureListeners(this.div,mxUtils.bind(this,function($a$$){this.graph.tooltipHandler.hide()}))};mxPopupMenuHandler.prototype.isSelectOnPopup=function($a$$){return this.selectOnPopup};
mxPopupMenuHandler.prototype.mouseDown=function($a$$,$b$$){this.isEnabled()&&!mxEvent.isMultiTouchEvent($b$$.getEvent())&&(this.hideMenu(),this.triggerX=$b$$.getGraphX(),this.triggerY=$b$$.getGraphY(),this.screenX=mxEvent.getMainEvent($b$$.getEvent()).screenX,this.screenY=mxEvent.getMainEvent($b$$.getEvent()).screenY,this.popupTrigger=this.isPopupTrigger($b$$),this.inTolerance=!0)};
mxPopupMenuHandler.prototype.mouseMove=function($a$$,$b$$){this.inTolerance&&null!=this.screenX&&null!=this.screenY&&(Math.abs(mxEvent.getMainEvent($b$$.getEvent()).screenX-this.screenX)>this.graph.tolerance||Math.abs(mxEvent.getMainEvent($b$$.getEvent()).screenY-this.screenY)>this.graph.tolerance)&&(this.inTolerance=!1)};
mxPopupMenuHandler.prototype.mouseUp=function($a$$,$b$$,$c$$){$a$$=null==$c$$;$c$$=null!=$c$$?$c$$:mxUtils.bind(this,function($e$$){var $f$$=mxUtils.getScrollOrigin();this.popup($b$$.getX()+$f$$.x+1,$b$$.getY()+$f$$.y+1,$e$$,$b$$.getEvent())});if(this.popupTrigger&&this.inTolerance&&null!=this.triggerX&&null!=this.triggerY){var $d$$=this.getCellForPopupEvent($b$$);this.graph.isEnabled()&&this.isSelectOnPopup($b$$)&&null!=$d$$&&!this.graph.isCellSelected($d$$)?this.graph.setSelectionCell($d$$):this.clearSelectionOnBackground&&
null==$d$$&&this.graph.clearSelection();this.graph.tooltipHandler.hide();$c$$($d$$);$a$$&&$b$$.consume()}this.inTolerance=this.popupTrigger=!1};mxPopupMenuHandler.prototype.getCellForPopupEvent=function($a$$){return $a$$.getCell()};mxPopupMenuHandler.prototype.destroy=function(){this.graph.removeMouseListener(this);this.graph.removeListener(this.gestureHandler);mxPopupMenu.prototype.destroy.apply(this)};
function mxCellMarker($a$$,$b$$,$c$$,$d$$){mxEventSource.call(this);null!=$a$$&&(this.graph=$a$$,this.validColor=null!=$b$$?$b$$:mxConstants.DEFAULT_VALID_COLOR,this.invalidColor=null!=$c$$?$c$$:mxConstants.DEFAULT_INVALID_COLOR,this.hotspot=null!=$d$$?$d$$:mxConstants.DEFAULT_HOTSPOT,this.highlight=new mxCellHighlight($a$$))}mxUtils.extend(mxCellMarker,mxEventSource);mxCellMarker.prototype.graph=null;mxCellMarker.prototype.enabled=!0;mxCellMarker.prototype.hotspot=mxConstants.DEFAULT_HOTSPOT;
mxCellMarker.prototype.hotspotEnabled=!1;mxCellMarker.prototype.validColor=null;mxCellMarker.prototype.invalidColor=null;mxCellMarker.prototype.currentColor=null;mxCellMarker.prototype.validState=null;mxCellMarker.prototype.markedState=null;mxCellMarker.prototype.setEnabled=function($a$$){this.enabled=$a$$};mxCellMarker.prototype.isEnabled=function(){return this.enabled};mxCellMarker.prototype.setHotspot=function($a$$){this.hotspot=$a$$};mxCellMarker.prototype.getHotspot=function(){return this.hotspot};
mxCellMarker.prototype.setHotspotEnabled=function($a$$){this.hotspotEnabled=$a$$};mxCellMarker.prototype.isHotspotEnabled=function(){return this.hotspotEnabled};mxCellMarker.prototype.hasValidState=function(){return null!=this.validState};mxCellMarker.prototype.getValidState=function(){return this.validState};mxCellMarker.prototype.getMarkedState=function(){return this.markedState};mxCellMarker.prototype.reset=function(){this.validState=null;null!=this.markedState&&(this.markedState=null,this.unmark())};
mxCellMarker.prototype.process=function($a$$){var $b$$=null;this.isEnabled()&&($b$$=this.getState($a$$),this.setCurrentState($b$$,$a$$));return $b$$};
mxCellMarker.prototype.setCurrentState=function($a$$,$b$$,$c$$){var $d$$=null!=$a$$?this.isValidState($a$$):!1;$c$$=null!=$c$$?$c$$:this.getMarkerColor($b$$.getEvent(),$a$$,$d$$);this.validState=$d$$?$a$$:null;if($a$$!=this.markedState||$c$$!=this.currentColor)this.currentColor=$c$$,null!=$a$$&&null!=this.currentColor?(this.markedState=$a$$,this.mark()):null!=this.markedState&&(this.markedState=null,this.unmark())};
mxCellMarker.prototype.markCell=function($a$$,$b$$){$a$$=this.graph.getView().getState($a$$);null!=$a$$&&(this.currentColor=null!=$b$$?$b$$:this.validColor,this.markedState=$a$$,this.mark())};mxCellMarker.prototype.mark=function(){this.highlight.setHighlightColor(this.currentColor);this.highlight.highlight(this.markedState);this.fireEvent(new mxEventObject(mxEvent.MARK,"state",this.markedState))};mxCellMarker.prototype.unmark=function(){this.mark()};mxCellMarker.prototype.isValidState=function($a$$){return!0};
mxCellMarker.prototype.getMarkerColor=function($a$$,$b$$,$c$$){return $c$$?this.validColor:this.invalidColor};mxCellMarker.prototype.getState=function($a$$){var $b$$=this.graph.getView(),$c$$=this.getCell($a$$);$b$$=this.getStateToMark($b$$.getState($c$$));return null!=$b$$&&this.intersects($b$$,$a$$)?$b$$:null};mxCellMarker.prototype.getCell=function($a$$){return $a$$.getCell()};mxCellMarker.prototype.getStateToMark=function($a$$){return $a$$};
mxCellMarker.prototype.intersects=function($a$$,$b$$){return this.hotspotEnabled?mxUtils.intersectsHotspot($a$$,$b$$.getGraphX(),$b$$.getGraphY(),this.hotspot,mxConstants.MIN_HOTSPOT_SIZE,mxConstants.MAX_HOTSPOT_SIZE):!0};mxCellMarker.prototype.destroy=function(){this.highlight.destroy()};
function mxSelectionCellsHandler($a$$){mxEventSource.call(this);this.graph=$a$$;this.handlers=new mxDictionary;this.graph.addMouseListener(this);this.redrawHandler=mxUtils.bind(this,function($b$$,$c$$){this.isEnabled()&&this.refresh(!1)});this.refreshHandler=mxUtils.bind(this,function($b$$,$c$$){this.isEnabled()&&this.refresh(!0)});this.graph.addListener(mxEvent.EDITING_STOPPED,this.redrawHandler);this.graph.addListener(mxEvent.EDITING_STARTED,this.redrawHandler);this.graph.getSelectionModel().addListener(mxEvent.CHANGE,
this.redrawHandler);this.graph.getModel().addListener(mxEvent.CHANGE,this.refreshHandler);this.graph.getView().addListener(mxEvent.SCALE,this.refreshHandler);this.graph.getView().addListener(mxEvent.TRANSLATE,this.refreshHandler);this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.refreshHandler);this.graph.getView().addListener(mxEvent.DOWN,this.refreshHandler);this.graph.getView().addListener(mxEvent.UP,this.refreshHandler)}mxUtils.extend(mxSelectionCellsHandler,mxEventSource);
mxSelectionCellsHandler.prototype.graph=null;mxSelectionCellsHandler.prototype.enabled=!0;mxSelectionCellsHandler.prototype.refreshHandler=null;mxSelectionCellsHandler.prototype.maxHandlers=100;mxSelectionCellsHandler.prototype.handlers=null;mxSelectionCellsHandler.prototype.isEnabled=function(){return this.enabled};mxSelectionCellsHandler.prototype.setEnabled=function($a$$){this.enabled=$a$$};mxSelectionCellsHandler.prototype.getHandler=function($a$$){return this.handlers.get($a$$)};
mxSelectionCellsHandler.prototype.isHandled=function($a$$){return null!=this.getHandler($a$$)};mxSelectionCellsHandler.prototype.reset=function(){this.handlers.visit(function($a$$,$b$$){$b$$.reset.apply($b$$)})};mxSelectionCellsHandler.prototype.getHandledSelectionCells=function(){return this.graph.getSelectionCells()};
mxSelectionCellsHandler.prototype.refresh=function($a$$){var $b$$=this.handlers;this.handlers=new mxDictionary;var $c$$=mxUtils.sortCells(this.getHandledSelectionCells(),!1);if(!$a$$&&0<this.graph.graphHandler.maxCells&&0<this.graph.getSelectionCount()){var $d$$=$b$$.getCount();0<$d$$&&($a$$=$d$$<=this.graph.graphHandler.maxCells!=this.graph.getSelectionCount()<=this.graph.graphHandler.maxCells)}for($d$$=0;$d$$<$c$$.length;$d$$++){var $e$$=this.graph.view.getState($c$$[$d$$]);if(null!=$e$$){var $f$$=
$b$$.remove($c$$[$d$$]);null!=$f$$&&($f$$.state!=$e$$?($f$$.destroy(),$f$$=null):this.isHandlerActive($f$$)||($a$$&&$f$$.refresh(),$f$$.redraw()));null!=$f$$&&this.handlers.put($c$$[$d$$],$f$$)}}$b$$.visit(mxUtils.bind(this,function($g$$,$k$$){this.fireEvent(new mxEventObject(mxEvent.REMOVE,"state",$k$$.state));$k$$.destroy()}));for($d$$=0;$d$$<$c$$.length;$d$$++)$e$$=this.graph.view.getState($c$$[$d$$]),null!=$e$$&&($f$$=this.handlers.get($c$$[$d$$]),null==$f$$?($f$$=this.graph.createHandler($e$$),
this.fireEvent(new mxEventObject(mxEvent.ADD,"state",$e$$)),this.handlers.put($c$$[$d$$],$f$$)):$f$$.updateParentHighlight())};mxSelectionCellsHandler.prototype.isHandlerActive=function($a$$){return null!=$a$$.index};
mxSelectionCellsHandler.prototype.updateHandler=function($a$$){var $b$$=this.handlers.remove($a$$.cell);if(null!=$b$$){var $c$$=$b$$.index,$d$$=$b$$.startX,$e$$=$b$$.startY;$b$$.destroy();$b$$=this.graph.createHandler($a$$);null!=$b$$&&(this.handlers.put($a$$.cell,$b$$),null!=$c$$&&null!=$d$$&&null!=$e$$&&$b$$.start($d$$,$e$$,$c$$))}};
mxSelectionCellsHandler.prototype.mouseDown=function($a$$,$b$$){if(this.graph.isEnabled()&&this.isEnabled()){var $c$$=[$a$$,$b$$];this.handlers.visit(function($d$$,$e$$){$e$$.mouseDown.apply($e$$,$c$$)})}};mxSelectionCellsHandler.prototype.mouseMove=function($a$$,$b$$){if(this.graph.isEnabled()&&this.isEnabled()){var $c$$=[$a$$,$b$$];this.handlers.visit(function($d$$,$e$$){$e$$.mouseMove.apply($e$$,$c$$)})}};
mxSelectionCellsHandler.prototype.mouseUp=function($a$$,$b$$){if(this.graph.isEnabled()&&this.isEnabled()){var $c$$=[$a$$,$b$$];this.handlers.visit(function($d$$,$e$$){$e$$.mouseUp.apply($e$$,$c$$)})}};
mxSelectionCellsHandler.prototype.destroy=function(){this.graph.removeMouseListener(this);null!=this.refreshHandler&&(this.graph.getSelectionModel().removeListener(this.redrawHandler),this.graph.getModel().removeListener(this.refreshHandler),this.graph.getView().removeListener(this.refreshHandler),this.graph.removeListener(this.redrawHandler),this.refreshHandler=this.redrawHandler=null)};
function mxConnectionHandler($a$$,$b$$){mxEventSource.call(this);null!=$a$$&&(this.graph=$a$$,this.factoryMethod=$b$$,this.init(),this.escapeHandler=mxUtils.bind(this,function($c$$,$d$$){this.reset()}),this.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}mxUtils.extend(mxConnectionHandler,mxEventSource);mxConnectionHandler.prototype.graph=null;mxConnectionHandler.prototype.factoryMethod=!0;mxConnectionHandler.prototype.moveIconFront=!1;mxConnectionHandler.prototype.moveIconBack=!1;
mxConnectionHandler.prototype.connectImage=null;mxConnectionHandler.prototype.targetConnectImage=!1;mxConnectionHandler.prototype.enabled=!0;mxConnectionHandler.prototype.select=!0;mxConnectionHandler.prototype.createTarget=!1;mxConnectionHandler.prototype.marker=null;mxConnectionHandler.prototype.constraintHandler=null;mxConnectionHandler.prototype.error=null;mxConnectionHandler.prototype.waypointsEnabled=!1;mxConnectionHandler.prototype.ignoreMouseDown=!1;mxConnectionHandler.prototype.first=null;
mxConnectionHandler.prototype.connectIconOffset=new mxPoint(0,mxConstants.TOOLTIP_VERTICAL_OFFSET);mxConnectionHandler.prototype.edgeState=null;mxConnectionHandler.prototype.changeHandler=null;mxConnectionHandler.prototype.drillHandler=null;mxConnectionHandler.prototype.mouseDownCounter=0;mxConnectionHandler.prototype.movePreviewAway=!1;mxConnectionHandler.prototype.outlineConnect=!1;mxConnectionHandler.prototype.livePreview=!1;mxConnectionHandler.prototype.cursor=null;
mxConnectionHandler.prototype.insertBeforeSource=!1;mxConnectionHandler.prototype.isEnabled=function(){return this.enabled};mxConnectionHandler.prototype.setEnabled=function($a$$){this.enabled=$a$$};mxConnectionHandler.prototype.isInsertBefore=function($a$$,$b$$,$c$$,$d$$,$e$$){return this.insertBeforeSource&&$b$$!=$c$$&&this.graph.model.getParent($a$$)==this.graph.model.getParent($b$$)};mxConnectionHandler.prototype.isCreateTarget=function($a$$){return this.createTarget};
mxConnectionHandler.prototype.setCreateTarget=function($a$$){this.createTarget=$a$$};
mxConnectionHandler.prototype.createShape=function(){var $a$$=this.livePreview&&null!=this.edgeState?this.graph.cellRenderer.createShape(this.edgeState):new mxPolyline([],mxConstants.INVALID_COLOR);$a$$.dialect=mxConstants.DIALECT_SVG;$a$$.scale=this.graph.view.scale;$a$$.svgStrokeTolerance=0;$a$$.pointerEvents=!1;$a$$.isDashed=!0;$a$$.init(this.graph.getView().getOverlayPane());mxEvent.redirectMouseEvents($a$$.node,this.graph,null);return $a$$};
mxConnectionHandler.prototype.init=function(){this.graph.addMouseListener(this);this.marker=this.createMarker();this.constraintHandler=new mxConstraintHandler(this.graph);this.changeHandler=mxUtils.bind(this,function($a$$){null!=this.iconState&&(this.iconState=this.graph.getView().getState(this.iconState.cell));null!=this.iconState?(this.redrawIcons(this.icons,this.iconState),this.constraintHandler.reset()):null!=this.previous&&null==this.graph.view.getState(this.previous.cell)&&this.reset()});this.graph.getModel().addListener(mxEvent.CHANGE,
this.changeHandler);this.graph.getView().addListener(mxEvent.SCALE,this.changeHandler);this.graph.getView().addListener(mxEvent.TRANSLATE,this.changeHandler);this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.changeHandler);this.drillHandler=mxUtils.bind(this,function($a$$){this.reset()});this.graph.addListener(mxEvent.START_EDITING,this.drillHandler);this.graph.getView().addListener(mxEvent.DOWN,this.drillHandler);this.graph.getView().addListener(mxEvent.UP,this.drillHandler)};
mxConnectionHandler.prototype.isConnectableCell=function($a$$){return!0};
mxConnectionHandler.prototype.createMarker=function(){var $a$$=new mxCellMarker(this.graph);$a$$.hotspotEnabled=!0;$a$$.getCell=mxUtils.bind(this,function($b$$){var $c$$=mxCellMarker.prototype.getCell.apply($a$$,arguments);this.error=null;null==$c$$&&null!=this.currentPoint&&($c$$=this.graph.getCellAt(this.currentPoint.x,this.currentPoint.y));if(null!=$c$$&&!this.graph.isCellConnectable($c$$)){var $d$$=this.graph.getModel().getParent($c$$);this.graph.getModel().isVertex($d$$)&&this.graph.isCellConnectable($d$$)&&
($c$$=$d$$)}if(this.graph.isSwimlane($c$$)&&null!=this.currentPoint&&this.graph.hitsSwimlaneContent($c$$,this.currentPoint.x,this.currentPoint.y)||!this.isConnectableCell($c$$))$c$$=null;null!=$c$$?this.isConnecting()?null!=this.previous&&(this.error=this.validateConnection(this.previous.cell,$c$$),null!=this.error&&0==this.error.length&&($c$$=null,this.isCreateTarget($b$$.getEvent())&&(this.error=null))):this.isValidSource($c$$,$b$$)||($c$$=null):!this.isConnecting()||this.isCreateTarget($b$$.getEvent())||
this.graph.allowDanglingEdges||(this.error="");return $c$$});$a$$.isValidState=mxUtils.bind(this,function($b$$){return this.isConnecting()?null==this.error:mxCellMarker.prototype.isValidState.apply($a$$,arguments)});$a$$.getMarkerColor=mxUtils.bind(this,function($b$$,$c$$,$d$$){return null==this.connectImage||this.isConnecting()?mxCellMarker.prototype.getMarkerColor.apply($a$$,arguments):null});$a$$.intersects=mxUtils.bind(this,function($b$$,$c$$){return null!=this.connectImage||this.isConnecting()?
!0:mxCellMarker.prototype.intersects.apply($a$$,arguments)});return $a$$};mxConnectionHandler.prototype.start=function($a$$,$b$$,$c$$,$d$$){this.previous=$a$$;this.first=new mxPoint($b$$,$c$$);this.edgeState=null!=$d$$?$d$$:this.createEdgeState(null);this.marker.currentColor=this.marker.validColor;this.marker.markedState=$a$$;this.marker.mark();this.fireEvent(new mxEventObject(mxEvent.START,"state",this.previous))};
mxConnectionHandler.prototype.isConnecting=function(){return null!=this.first&&null!=this.shape};mxConnectionHandler.prototype.isValidSource=function($a$$,$b$$){return this.graph.isValidSource($a$$)};mxConnectionHandler.prototype.isValidTarget=function($a$$){return!0};mxConnectionHandler.prototype.validateConnection=function($a$$,$b$$){return this.isValidTarget($b$$)?this.graph.getEdgeValidationError(null,$a$$,$b$$):""};mxConnectionHandler.prototype.getConnectImage=function($a$$){return this.connectImage};
mxConnectionHandler.prototype.isMoveIconToFrontForState=function($a$$){return null!=$a$$.text&&$a$$.text.node.parentNode==this.graph.container?!0:this.moveIconFront};
mxConnectionHandler.prototype.createIcons=function($a$$){var $b$$=this.getConnectImage($a$$);if(null!=$b$$&&null!=$a$$){this.iconState=$a$$;var $c$$=[],$d$$=new mxRectangle(0,0,$b$$.width,$b$$.height),$e$$=new mxImageShape($d$$,$b$$.src,null,null,0);$e$$.preserveImageAspect=!1;this.isMoveIconToFrontForState($a$$)?($e$$.dialect=mxConstants.DIALECT_STRICTHTML,$e$$.init(this.graph.container)):($e$$.dialect=mxConstants.DIALECT_SVG,$e$$.init(this.graph.getView().getOverlayPane()),this.moveIconBack&&null!=
$e$$.node.previousSibling&&$e$$.node.parentNode.insertBefore($e$$.node,$e$$.node.parentNode.firstChild));$e$$.node.style.cursor=mxConstants.CURSOR_CONNECT;var $f$$=mxUtils.bind(this,function(){return null!=this.currentState?this.currentState:$a$$});$b$$=mxUtils.bind(this,function($g$$){mxEvent.isConsumed($g$$)||(this.icon=$e$$,this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($g$$,$f$$())))});mxEvent.redirectMouseEvents($e$$.node,this.graph,$f$$,$b$$);$c$$.push($e$$);this.redrawIcons($c$$,
this.iconState);return $c$$}return null};mxConnectionHandler.prototype.redrawIcons=function($a$$,$b$$){null!=$a$$&&null!=$a$$[0]&&null!=$b$$&&($b$$=this.getIconPosition($a$$[0],$b$$),$a$$[0].bounds.x=$b$$.x,$a$$[0].bounds.y=$b$$.y,$a$$[0].redraw())};
mxConnectionHandler.prototype.getIconPosition=function($a$$,$b$$){var $c$$=this.graph.getView().scale,$d$$=$b$$.getCenterX(),$e$$=$b$$.getCenterY();if(this.graph.isSwimlane($b$$.cell)){var $f$$=this.graph.getStartSize($b$$.cell);$d$$=0!=$f$$.width?$b$$.x+$f$$.width*$c$$/2:$d$$;$e$$=0!=$f$$.height?$b$$.y+$f$$.height*$c$$/2:$e$$;$f$$=mxUtils.toRadians(mxUtils.getValue($b$$.style,mxConstants.STYLE_ROTATION)||0);0!=$f$$&&($c$$=Math.cos($f$$),$f$$=Math.sin($f$$),$b$$=new mxPoint($b$$.getCenterX(),$b$$.getCenterY()),
$e$$=mxUtils.getRotatedPoint(new mxPoint($d$$,$e$$),$c$$,$f$$,$b$$),$d$$=$e$$.x,$e$$=$e$$.y)}return new mxPoint($d$$-$a$$.bounds.width/2,$e$$-$a$$.bounds.height/2)};mxConnectionHandler.prototype.destroyIcons=function(){if(null!=this.icons){for(var $a$$=0;$a$$<this.icons.length;$a$$++)this.icons[$a$$].destroy();this.iconState=this.selectedIcon=this.icon=this.icons=null}};
mxConnectionHandler.prototype.isStartEvent=function($a$$){return null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint||null!=this.previous&&null==this.error&&(null==this.icons||null!=this.icons&&null!=this.icon)};
mxConnectionHandler.prototype.mouseDown=function($a$$,$b$$){this.mouseDownCounter++;this.isEnabled()&&this.graph.isEnabled()&&!$b$$.isConsumed()&&!this.isConnecting()&&this.isStartEvent($b$$)&&(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint?(this.sourceConstraint=this.constraintHandler.currentConstraint,this.previous=this.constraintHandler.currentFocus,this.first=this.constraintHandler.currentPoint.clone()):this.first=
new mxPoint($b$$.getGraphX(),$b$$.getGraphY()),this.edgeState=this.createEdgeState($b$$),this.mouseDownCounter=1,this.waypointsEnabled&&null==this.shape&&(this.waypoints=null,this.shape=this.createShape(),null!=this.edgeState&&this.shape.apply(this.edgeState)),null==this.previous&&null!=this.edgeState&&($a$$=this.graph.getPointForEvent($b$$.getEvent()),this.edgeState.cell.geometry.setTerminalPoint($a$$,!0)),this.fireEvent(new mxEventObject(mxEvent.START,"state",this.previous)),$b$$.consume());this.selectedIcon=
this.icon;this.icon=null};mxConnectionHandler.prototype.isImmediateConnectSource=function($a$$){return!this.graph.isCellMovable($a$$.cell)};mxConnectionHandler.prototype.createEdgeState=function($a$$){return null};
mxConnectionHandler.prototype.isOutlineConnectEvent=function($a$$){if(mxEvent.isShiftDown($a$$.getEvent())&&mxEvent.isAltDown($a$$.getEvent()))return!1;var $b$$=mxUtils.getOffset(this.graph.container),$c$$=$a$$.getEvent(),$d$$=mxEvent.getClientX($c$$);$c$$=mxEvent.getClientY($c$$);var $e$$=document.documentElement,$f$$=this.currentPoint.x-this.graph.container.scrollLeft+$b$$.x-((window.pageXOffset||$e$$.scrollLeft)-($e$$.clientLeft||0));$b$$=this.currentPoint.y-this.graph.container.scrollTop+$b$$.y-
((window.pageYOffset||$e$$.scrollTop)-($e$$.clientTop||0));return this.outlineConnect&&(mxEvent.isShiftDown($a$$.getEvent())&&!mxEvent.isAltDown($a$$.getEvent())||$a$$.isSource(this.marker.highlight.shape)||!mxEvent.isShiftDown($a$$.getEvent())&&mxEvent.isAltDown($a$$.getEvent())&&null!=$a$$.getState()||this.marker.highlight.isHighlightAt($d$$,$c$$)||($f$$!=$d$$||$b$$!=$c$$)&&null==$a$$.getState()&&this.marker.highlight.isHighlightAt($f$$,$b$$))};
mxConnectionHandler.prototype.updateCurrentState=function($a$$,$b$$){this.constraintHandler.update($a$$,null==this.first,!1,null==this.first||$a$$.isSource(this.marker.highlight.shape)?null:$b$$);if(null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint)null!=this.marker.highlight&&null!=this.marker.highlight.state&&this.marker.highlight.state.cell==this.constraintHandler.currentFocus.cell?"transparent"!=this.marker.highlight.shape.stroke&&(this.marker.highlight.shape.stroke=
"transparent",this.marker.highlight.repaint()):this.marker.markCell(this.constraintHandler.currentFocus.cell,"transparent"),null!=this.previous&&(this.error=this.validateConnection(this.previous.cell,this.constraintHandler.currentFocus.cell),null==this.error&&(this.currentState=this.constraintHandler.currentFocus),(null!=this.error||null!=this.currentState&&!this.isCellEnabled(this.currentState.cell))&&this.constraintHandler.reset());else{this.graph.isIgnoreTerminalEvent($a$$.getEvent())?(this.marker.reset(),
this.currentState=null):(this.marker.process($a$$),this.currentState=this.marker.getValidState());null==this.currentState||this.isCellEnabled(this.currentState.cell)||(this.constraintHandler.reset(),this.marker.reset(),this.currentState=null);var $c$$=this.isOutlineConnectEvent($a$$);null!=this.currentState&&$c$$&&($a$$.isSource(this.marker.highlight.shape)&&($b$$=new mxPoint($a$$.getGraphX(),$a$$.getGraphY())),$c$$=this.graph.getOutlineConstraint($b$$,this.currentState,$a$$),this.constraintHandler.setFocus($a$$,
this.currentState,!1),this.constraintHandler.currentConstraint=$c$$,this.constraintHandler.currentPoint=$b$$);this.outlineConnect&&null!=this.marker.highlight&&null!=this.marker.highlight.shape&&($b$$=this.graph.view.scale,null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus?(this.marker.highlight.shape.stroke=mxConstants.OUTLINE_HIGHLIGHT_COLOR,this.marker.highlight.shape.strokewidth=mxConstants.OUTLINE_HIGHLIGHT_STROKEWIDTH/$b$$/$b$$,this.marker.highlight.repaint()):
this.marker.hasValidState()&&(this.graph.isCellConnectable($a$$.getCell())&&this.marker.getValidState()!=$a$$.getState()?(this.marker.highlight.shape.stroke="transparent",this.currentState=null):this.marker.highlight.shape.stroke=mxConstants.DEFAULT_VALID_COLOR,this.marker.highlight.shape.strokewidth=mxConstants.HIGHLIGHT_STROKEWIDTH/$b$$/$b$$,this.marker.highlight.repaint()))}};mxConnectionHandler.prototype.isCellEnabled=function($a$$){return!0};
mxConnectionHandler.prototype.convertWaypoint=function($a$$){var $b$$=this.graph.getView().getScale(),$c$$=this.graph.getView().getTranslate();$a$$.x=$a$$.x/$b$$-$c$$.x;$a$$.y=$a$$.y/$b$$-$c$$.y};
mxConnectionHandler.prototype.snapToPreview=function($a$$,$b$$){if(!mxEvent.isAltDown($a$$.getEvent())&&null!=this.previous){var $c$$=this.graph.gridSize*this.graph.view.scale/2,$d$$=null!=this.sourceConstraint?this.first:new mxPoint(this.previous.getCenterX(),this.previous.getCenterY());Math.abs($d$$.x-$a$$.getGraphX())<$c$$&&($b$$.x=$d$$.x);Math.abs($d$$.y-$a$$.getGraphY())<$c$$&&($b$$.y=$d$$.y)}};
mxConnectionHandler.prototype.mouseMove=function($a$$,$b$$){if($b$$.isConsumed()||!this.ignoreMouseDown&&null==this.first&&this.graph.isMouseDown)this.constraintHandler.reset();else{this.isEnabled()||null==this.currentState||(this.destroyIcons(),this.currentState=null);$a$$=this.graph.getView();var $c$$=$a$$.scale,$d$$=$a$$.translate;$a$$=new mxPoint($b$$.getGraphX(),$b$$.getGraphY());this.error=null;this.graph.isGridEnabledEvent($b$$.getEvent())&&($a$$=new mxPoint((this.graph.snap($a$$.x/$c$$-$d$$.x)+
$d$$.x)*$c$$,(this.graph.snap($a$$.y/$c$$-$d$$.y)+$d$$.y)*$c$$));this.snapToPreview($b$$,$a$$);this.currentPoint=$a$$;(null!=this.first||this.isEnabled()&&this.graph.isEnabled())&&(null!=this.shape||null==this.first||Math.abs($b$$.getGraphX()-this.first.x)>this.graph.tolerance||Math.abs($b$$.getGraphY()-this.first.y)>this.graph.tolerance)&&this.updateCurrentState($b$$,$a$$);if(null!=this.first){var $e$$=null;$c$$=$a$$;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&
null!=this.constraintHandler.currentPoint?($e$$=this.constraintHandler.currentConstraint,$c$$=this.constraintHandler.currentPoint.clone()):null!=this.previous&&mxEvent.isShiftDown($b$$.getEvent())&&!this.graph.isIgnoreTerminalEvent($b$$.getEvent())&&(Math.abs(this.previous.getCenterX()-$a$$.x)<Math.abs(this.previous.getCenterY()-$a$$.y)?$a$$.x=this.previous.getCenterX():$a$$.y=this.previous.getCenterY());$d$$=this.first;if(null!=this.selectedIcon){var $f$$=this.selectedIcon.bounds.width,$g$$=this.selectedIcon.bounds.height;
null!=this.currentState&&this.targetConnectImage?($f$$=this.getIconPosition(this.selectedIcon,this.currentState),this.selectedIcon.bounds.x=$f$$.x,this.selectedIcon.bounds.y=$f$$.y):($f$$=new mxRectangle($b$$.getGraphX()+this.connectIconOffset.x,$b$$.getGraphY()+this.connectIconOffset.y,$f$$,$g$$),this.selectedIcon.bounds=$f$$);this.selectedIcon.redraw()}null!=this.edgeState?(this.updateEdgeState($c$$,$e$$),$c$$=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-1],$d$$=this.edgeState.absolutePoints[0]):
(null!=this.currentState&&null==this.constraintHandler.currentConstraint&&($f$$=this.getTargetPerimeterPoint(this.currentState,$b$$),null!=$f$$&&($c$$=$f$$)),null==this.sourceConstraint&&null!=this.previous&&($f$$=this.getSourcePerimeterPoint(this.previous,null!=this.waypoints&&0<this.waypoints.length?this.waypoints[0]:$c$$,$b$$),null!=$f$$&&($d$$=$f$$)));if(null==this.currentState&&this.movePreviewAway){$f$$=$d$$;null!=this.edgeState&&2<=this.edgeState.absolutePoints.length&&($e$$=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-
2],null!=$e$$&&($f$$=$e$$));$e$$=$c$$.x-$f$$.x;$f$$=$c$$.y-$f$$.y;$g$$=Math.sqrt($e$$*$e$$+$f$$*$f$$);if(0==$g$$)return;this.originalPoint=$c$$.clone();$c$$.x-=4*$e$$/$g$$;$c$$.y-=4*$f$$/$g$$}else this.originalPoint=null;null==this.shape&&($e$$=Math.abs($b$$.getGraphX()-this.first.x),$f$$=Math.abs($b$$.getGraphY()-this.first.y),$e$$>this.graph.tolerance||$f$$>this.graph.tolerance)&&(this.shape=this.createShape(),null!=this.edgeState&&this.shape.apply(this.edgeState),this.updateCurrentState($b$$,$a$$));
null!=this.shape&&(null!=this.edgeState?this.shape.points=this.edgeState.absolutePoints:($a$$=[$d$$],null!=this.waypoints&&($a$$=$a$$.concat(this.waypoints)),$a$$.push($c$$),this.shape.points=$a$$),this.drawPreview());null!=this.cursor&&(this.graph.container.style.cursor=this.cursor);mxEvent.consume($b$$.getEvent());$b$$.consume()}else this.isEnabled()&&this.graph.isEnabled()?this.previous!=this.currentState&&null==this.edgeState?(this.destroyIcons(),null!=this.currentState&&null==this.error&&null==
this.constraintHandler.currentConstraint&&(this.icons=this.createIcons(this.currentState),null==this.icons&&(this.currentState.setCursor(mxConstants.CURSOR_CONNECT),$b$$.consume())),this.previous=this.currentState):this.previous!=this.currentState||null==this.currentState||null!=this.icons||this.graph.isMouseDown||$b$$.consume():this.constraintHandler.reset();if(!this.graph.isMouseDown&&null!=this.currentState&&null!=this.icons){$a$$=!1;$c$$=$b$$.getSource();for($d$$=0;$d$$<this.icons.length&&!$a$$;$d$$++)$a$$=
$c$$==this.icons[$d$$].node||$c$$.parentNode==this.icons[$d$$].node;$a$$||this.updateIcons(this.currentState,this.icons,$b$$)}}};
mxConnectionHandler.prototype.updateEdgeState=function($a$$,$b$$){null!=this.sourceConstraint&&null!=this.sourceConstraint.point&&(this.edgeState.style[mxConstants.STYLE_EXIT_X]=this.sourceConstraint.point.x,this.edgeState.style[mxConstants.STYLE_EXIT_Y]=this.sourceConstraint.point.y);null!=$b$$&&null!=$b$$.point?(this.edgeState.style[mxConstants.STYLE_ENTRY_X]=$b$$.point.x,this.edgeState.style[mxConstants.STYLE_ENTRY_Y]=$b$$.point.y):(delete this.edgeState.style[mxConstants.STYLE_ENTRY_X],delete this.edgeState.style[mxConstants.STYLE_ENTRY_Y]);
this.edgeState.absolutePoints=[null,null!=this.currentState?null:$a$$];this.graph.view.updateFixedTerminalPoint(this.edgeState,this.previous,!0,this.sourceConstraint);null!=this.currentState&&(null==$b$$&&($b$$=this.graph.getConnectionConstraint(this.edgeState,this.previous,!1)),this.edgeState.setAbsoluteTerminalPoint(null,!1),this.graph.view.updateFixedTerminalPoint(this.edgeState,this.currentState,!1,$b$$));$a$$=null;if(null!=this.waypoints)for($a$$=[],$b$$=0;$b$$<this.waypoints.length;$b$$++){var $c$$=
this.waypoints[$b$$].clone();this.convertWaypoint($c$$);$a$$[$b$$]=$c$$}this.graph.view.updatePoints(this.edgeState,$a$$,this.previous,this.currentState);this.graph.view.updateFloatingTerminalPoints(this.edgeState,this.previous,this.currentState)};
mxConnectionHandler.prototype.getTargetPerimeterPoint=function($a$$,$b$$){$b$$=null;var $c$$=$a$$.view,$d$$=$c$$.getPerimeterFunction($a$$);if(null!=$d$$){var $e$$=null!=this.waypoints&&0<this.waypoints.length?this.waypoints[this.waypoints.length-1]:new mxPoint(this.previous.getCenterX(),this.previous.getCenterY());$a$$=$d$$($c$$.getPerimeterBounds($a$$),this.edgeState,$e$$,!1);null!=$a$$&&($b$$=$a$$)}else $b$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY());return $b$$};
mxConnectionHandler.prototype.getSourcePerimeterPoint=function($a$$,$b$$,$c$$){$c$$=null;var $d$$=$a$$.view,$e$$=$d$$.getPerimeterFunction($a$$),$f$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY());if(null!=$e$$){var $g$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION,0),$k$$=Math.PI/180*-$g$$;0!=$g$$&&($b$$=mxUtils.getRotatedPoint(new mxPoint($b$$.x,$b$$.y),Math.cos($k$$),Math.sin($k$$),$f$$));$a$$=$e$$($d$$.getPerimeterBounds($a$$),$a$$,$b$$,!1);null!=$a$$&&(0!=$g$$&&($a$$=mxUtils.getRotatedPoint(new mxPoint($a$$.x,
$a$$.y),Math.cos(-$k$$),Math.sin(-$k$$),$f$$)),$c$$=$a$$)}else $c$$=$f$$;return $c$$};mxConnectionHandler.prototype.updateIcons=function($a$$,$b$$,$c$$){};mxConnectionHandler.prototype.isStopEvent=function($a$$){return null!=$a$$.getState()};
mxConnectionHandler.prototype.addWaypointForEvent=function($a$$){var $b$$=mxUtils.convertPoint(this.graph.container,$a$$.getX(),$a$$.getY()),$c$$=Math.abs($b$$.x-this.first.x);$b$$=Math.abs($b$$.y-this.first.y);if(null!=this.waypoints||1<this.mouseDownCounter&&($c$$>this.graph.tolerance||$b$$>this.graph.tolerance))null==this.waypoints&&(this.waypoints=[]),$c$$=this.graph.view.scale,$b$$=new mxPoint(this.graph.snap($a$$.getGraphX()/$c$$)*$c$$,this.graph.snap($a$$.getGraphY()/$c$$)*$c$$),this.waypoints.push($b$$)};
mxConnectionHandler.prototype.checkConstraints=function($a$$,$b$$){return null==$a$$||null==$b$$||null==$a$$.point||null==$b$$.point||!$a$$.point.equals($b$$.point)||$a$$.dx!=$b$$.dx||$a$$.dy!=$b$$.dy||$a$$.perimeter!=$b$$.perimeter};
mxConnectionHandler.prototype.mouseUp=function($a$$,$b$$){if(!$b$$.isConsumed()&&this.isConnecting()){if(this.waypointsEnabled&&!this.isStopEvent($b$$)){this.addWaypointForEvent($b$$);$b$$.consume();return}$a$$=this.sourceConstraint;var $c$$=this.constraintHandler.currentConstraint,$d$$=null!=this.previous?this.previous.cell:null,$e$$=null;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&($e$$=this.constraintHandler.currentFocus.cell);null==$e$$&&null!=this.currentState&&
($e$$=this.currentState.cell);null!=this.error||null!=$d$$&&null!=$e$$&&$d$$==$e$$&&!this.checkConstraints($a$$,$c$$)?(null!=this.previous&&null!=this.marker.validState&&this.previous.cell==this.marker.validState.cell&&this.graph.selectCellForEvent(this.marker.source,$b$$.getEvent()),null!=this.error&&0<this.error.length&&this.graph.validationAlert(this.error)):this.connect($d$$,$e$$,$b$$.getEvent(),$b$$.getCell());this.destroyIcons();$b$$.consume()}null!=this.first&&this.reset()};
mxConnectionHandler.prototype.reset=function(){null!=this.shape&&(this.shape.destroy(),this.shape=null);null!=this.cursor&&null!=this.graph.container&&(this.graph.container.style.cursor="");this.destroyIcons();this.marker.reset();this.constraintHandler.reset();this.sourceConstraint=this.error=this.previous=this.edgeState=this.currentPoint=this.originalPoint=null;this.mouseDownCounter=0;this.first=null;this.fireEvent(new mxEventObject(mxEvent.RESET))};
mxConnectionHandler.prototype.drawPreview=function(){this.updatePreview(null==this.error);null!=this.edgeState&&(this.edgeState.shape=this.shape,this.graph.cellRenderer.postConfigureShape(this.edgeState),this.edgeState.shape=null);this.shape.redraw()};mxConnectionHandler.prototype.updatePreview=function($a$$){this.shape.strokewidth=this.getEdgeWidth($a$$);this.shape.stroke=this.getEdgeColor($a$$)};mxConnectionHandler.prototype.getEdgeColor=function($a$$){return $a$$?mxConstants.VALID_COLOR:mxConstants.INVALID_COLOR};
mxConnectionHandler.prototype.getEdgeWidth=function($a$$){return $a$$?3:1};
mxConnectionHandler.prototype.connect=function($a$$,$b$$,$c$$,$d$$){if(null!=$b$$||this.isCreateTarget($c$$)||this.graph.allowDanglingEdges){var $e$$=this.graph.getModel(),$f$$=!1,$g$$=null;$e$$.beginUpdate();try{if(null!=$a$$&&null==$b$$&&!this.graph.isIgnoreTerminalEvent($c$$)&&this.isCreateTarget($c$$)&&($b$$=this.createTargetVertex($c$$,$a$$),null!=$b$$)){$d$$=this.graph.getDropTarget([$b$$],$c$$,$d$$);$f$$=!0;if(null!=$d$$&&this.graph.getModel().isEdge($d$$))$d$$=this.graph.getDefaultParent();
else{var $k$$=this.graph.getView().getState($d$$);if(null!=$k$$){var $l$$=$e$$.getGeometry($b$$);$l$$.x-=$k$$.origin.x;$l$$.y-=$k$$.origin.y}}this.graph.addCell($b$$,$d$$)}var $m$$=this.graph.getDefaultParent(),$n$$=this.graph.getReferenceTerminal($a$$),$p$$=this.graph.getReferenceTerminal($b$$),$q$$=$m$$;null!=$n$$&&null!=$p$$?$q$$=$e$$.getNearestCommonAncestor($n$$,$p$$):null!=$n$$&&($q$$=$e$$.getParent($n$$));null==$q$$||$e$$.isEdge($q$$)||$q$$==$e$$.getRoot()||($m$$=$q$$);$p$$=$n$$=null;null!=
this.edgeState&&($n$$=this.edgeState.cell.value,$p$$=this.edgeState.cell.style);$g$$=this.insertEdge($m$$,null,$n$$,$a$$,$b$$,$p$$);if(null!=$g$$){this.graph.setConnectionConstraint($g$$,$a$$,!0,this.sourceConstraint);this.graph.setConnectionConstraint($g$$,$b$$,!1,this.constraintHandler.currentConstraint);null!=this.edgeState&&$e$$.setGeometry($g$$,this.edgeState.cell.geometry);if(this.isInsertBefore($g$$,$a$$,$b$$,$c$$,$d$$)&&(null==this.constraintHandler.currentConstraint||this.constraintHandler.currentConstraint.perimeter)){for($l$$=
$a$$;null!=$l$$.parent&&null!=$l$$.geometry&&$l$$.geometry.relative&&$l$$.parent!=$g$$.parent;)$l$$=this.graph.model.getParent($l$$);null!=$l$$&&null!=$l$$.parent&&$l$$.parent==$g$$.parent&&$e$$.add($m$$,$g$$,$l$$.parent.getIndex($l$$))}var $r$$=$e$$.getGeometry($g$$);null==$r$$&&($r$$=new mxGeometry,$r$$.relative=!0,$e$$.setGeometry($g$$,$r$$));if(null!=this.waypoints&&0<this.waypoints.length){var $t$$=this.graph.view.scale,$u$$=this.graph.view.translate;$r$$.points=[];for($a$$=0;$a$$<this.waypoints.length;$a$$++){var $x$$=
this.waypoints[$a$$];$r$$.points.push(new mxPoint($x$$.x/$t$$-$u$$.x,$x$$.y/$t$$-$u$$.y))}}if(null==$b$$){var $y$$=this.graph.view.translate;$t$$=this.graph.view.scale;$x$$=null!=this.originalPoint?new mxPoint(this.originalPoint.x/$t$$-$y$$.x,this.originalPoint.y/$t$$-$y$$.y):new mxPoint(this.currentPoint.x/$t$$-$y$$.x,this.currentPoint.y/$t$$-$y$$.y);$x$$.x-=this.graph.panDx/this.graph.view.scale;$x$$.y-=this.graph.panDy/this.graph.view.scale;$k$$=this.graph.getView().getState($e$$.getParent($g$$));
null!=$k$$&&($x$$.x-=$k$$.origin.x,$x$$.y-=$k$$.origin.y);$r$$.setTerminalPoint($x$$,!1)}this.fireEvent(new mxEventObject(mxEvent.CONNECT,"cell",$g$$,"terminal",$b$$,"event",$c$$,"target",$d$$,"terminalInserted",$f$$))}}catch($C$$){mxLog.show(),mxLog.debug($C$$.message)}finally{$e$$.endUpdate()}this.select&&this.selectCells($g$$,$f$$?$b$$:null)}};mxConnectionHandler.prototype.selectCells=function($a$$,$b$$){this.graph.setSelectionCell($a$$)};
mxConnectionHandler.prototype.insertEdge=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if(null==this.factoryMethod)return this.graph.insertEdge($a$$,$b$$,$c$$,$d$$,$e$$,$f$$);$b$$=this.createEdge($c$$,$d$$,$e$$,$f$$);return this.graph.addEdge($b$$,$a$$,$d$$,$e$$)};
mxConnectionHandler.prototype.createTargetVertex=function($a$$,$b$$){for($a$$=this.graph.getCellGeometry($b$$);null!=$a$$&&$a$$.relative;)$b$$=this.graph.getModel().getParent($b$$),$a$$=this.graph.getCellGeometry($b$$);var $c$$=this.graph.cloneCell($b$$);$a$$=this.graph.getModel().getGeometry($c$$);if(null!=$a$$){var $d$$=this.graph.view.translate,$e$$=this.graph.view.scale,$f$$=new mxPoint(this.currentPoint.x/$e$$-$d$$.x,this.currentPoint.y/$e$$-$d$$.y);$a$$.x=Math.round($f$$.x-$a$$.width/2-this.graph.panDx/
$e$$);$a$$.y=Math.round($f$$.y-$a$$.height/2-this.graph.panDy/$e$$);$f$$=this.getAlignmentTolerance();if(0<$f$$){var $g$$=this.graph.view.getState($b$$);null!=$g$$&&($b$$=$g$$.x/$e$$-$d$$.x,$d$$=$g$$.y/$e$$-$d$$.y,Math.abs($b$$-$a$$.x)<=$f$$&&($a$$.x=Math.round($b$$)),Math.abs($d$$-$a$$.y)<=$f$$&&($a$$.y=Math.round($d$$)))}}return $c$$};mxConnectionHandler.prototype.getAlignmentTolerance=function($a$$){return this.graph.isGridEnabled()?this.graph.gridSize/2:this.graph.tolerance};
mxConnectionHandler.prototype.createEdge=function($a$$,$b$$,$c$$,$d$$){var $e$$=null;null!=this.factoryMethod&&($e$$=this.factoryMethod($b$$,$c$$,$d$$));null==$e$$&&($e$$=new mxCell($a$$||""),$e$$.setEdge(!0),$e$$.setStyle($d$$),$a$$=new mxGeometry,$a$$.relative=!0,$e$$.setGeometry($a$$));return $e$$};
mxConnectionHandler.prototype.destroy=function(){this.graph.removeMouseListener(this);null!=this.shape&&(this.shape.destroy(),this.shape=null);null!=this.marker&&(this.marker.destroy(),this.marker=null);null!=this.constraintHandler&&(this.constraintHandler.destroy(),this.constraintHandler=null);null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.graph.getView().removeListener(this.changeHandler),this.changeHandler=null);null!=this.drillHandler&&(this.graph.removeListener(this.drillHandler),
this.graph.getView().removeListener(this.drillHandler),this.drillHandler=null);null!=this.escapeHandler&&(this.graph.removeListener(this.escapeHandler),this.escapeHandler=null)};
function mxConstraintHandler($a$$){this.graph=$a$$;this.resetHandler=mxUtils.bind(this,function($b$$,$c$$){null!=this.currentFocus&&null==this.graph.view.getState(this.currentFocus.cell)?this.reset():this.redraw()});this.graph.model.addListener(mxEvent.CHANGE,this.resetHandler);this.graph.view.addListener(mxEvent.SCALE_AND_TRANSLATE,this.resetHandler);this.graph.view.addListener(mxEvent.TRANSLATE,this.resetHandler);this.graph.view.addListener(mxEvent.SCALE,this.resetHandler);this.graph.addListener(mxEvent.ROOT,
this.resetHandler)}mxConstraintHandler.prototype.pointImage=new mxImage(mxClient.imageBasePath+"/point.gif",5,5);mxConstraintHandler.prototype.graph=null;mxConstraintHandler.prototype.enabled=!0;mxConstraintHandler.prototype.highlightColor=mxConstants.DEFAULT_VALID_COLOR;mxConstraintHandler.prototype.isEnabled=function(){return this.enabled};mxConstraintHandler.prototype.setEnabled=function($a$$){this.enabled=$a$$};
mxConstraintHandler.prototype.reset=function(){if(null!=this.focusIcons){for(var $a$$=0;$a$$<this.focusIcons.length;$a$$++)this.focusIcons[$a$$].destroy();this.focusIcons=null}null!=this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null);this.focusPoints=this.currentFocus=this.currentPoint=this.currentFocusArea=this.currentConstraint=null};mxConstraintHandler.prototype.getTolerance=function($a$$){return this.graph.getTolerance()};
mxConstraintHandler.prototype.getImageForConstraint=function($a$$,$b$$,$c$$){return this.pointImage};mxConstraintHandler.prototype.isEventIgnored=function($a$$,$b$$){return!1};mxConstraintHandler.prototype.isStateIgnored=function($a$$,$b$$){return!1};mxConstraintHandler.prototype.destroyIcons=function(){if(null!=this.focusIcons){for(var $a$$=0;$a$$<this.focusIcons.length;$a$$++)this.focusIcons[$a$$].destroy();this.focusPoints=this.focusIcons=null}};
mxConstraintHandler.prototype.destroyFocusHighlight=function(){null!=this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null)};mxConstraintHandler.prototype.isKeepFocusEvent=function($a$$){return mxEvent.isShiftDown($a$$.getEvent())&&!mxEvent.isAltDown($a$$.getEvent())};
mxConstraintHandler.prototype.getCellForEvent=function($a$$,$b$$){var $c$$=$a$$.getCell();null!=$c$$||null==$b$$||$a$$.getGraphX()==$b$$.x&&$a$$.getGraphY()==$b$$.y||($c$$=this.graph.getCellAt($b$$.x,$b$$.y));null==$c$$||this.graph.isCellConnectable($c$$)||($a$$=this.graph.getModel().getParent($c$$),this.graph.getModel().isVertex($a$$)&&this.graph.isCellConnectable($a$$)&&($c$$=$a$$));return this.graph.isCellLocked($c$$)?null:$c$$};
mxConstraintHandler.prototype.update=function($a$$,$b$$,$c$$,$d$$){if(this.isEnabled()&&!this.isEventIgnored($a$$)){null==this.mouseleaveHandler&&null!=this.graph.container&&(this.mouseleaveHandler=mxUtils.bind(this,function(){this.reset()}),mxEvent.addListener(this.graph.container,"mouseleave",this.resetHandler));var $e$$=this.getTolerance($a$$),$f$$=null!=$d$$?$d$$.x:$a$$.getGraphX(),$g$$=null!=$d$$?$d$$.y:$a$$.getGraphY();$f$$=new mxRectangle($f$$-$e$$,$g$$-$e$$,2*$e$$,2*$e$$);$e$$=new mxRectangle($a$$.getGraphX()-
$e$$,$a$$.getGraphY()-$e$$,2*$e$$,2*$e$$);var $k$$=this.graph.view.getState(this.getCellForEvent($a$$,$d$$));this.isKeepFocusEvent($a$$)||null!=this.currentFocusArea&&null!=this.currentFocus&&null==$k$$&&this.graph.getModel().isVertex(this.currentFocus.cell)&&mxUtils.intersects(this.currentFocusArea,$e$$)||$k$$==this.currentFocus||(this.currentFocus=this.currentFocusArea=null,this.setFocus($a$$,$k$$,$b$$));$a$$=this.currentPoint=this.currentConstraint=null;if(null!=this.focusIcons&&null!=this.constraints&&
(null==$k$$||this.currentFocus==$k$$)){$g$$=$e$$.getCenterX();for(var $l$$=$e$$.getCenterY(),$m$$=0;$m$$<this.focusIcons.length;$m$$++){var $n$$=$g$$-this.focusIcons[$m$$].bounds.getCenterX(),$p$$=$l$$-this.focusIcons[$m$$].bounds.getCenterY();$n$$=$n$$*$n$$+$p$$*$p$$;if((this.intersects(this.focusIcons[$m$$],$e$$,$b$$,$c$$)||null!=$d$$&&this.intersects(this.focusIcons[$m$$],$f$$,$b$$,$c$$))&&(null==$a$$||$n$$<$a$$)){this.currentConstraint=this.constraints[$m$$];this.currentPoint=this.focusPoints[$m$$];
$a$$=$n$$;$n$$=this.focusIcons[$m$$].bounds.clone();$n$$.grow(mxConstants.HIGHLIGHT_SIZE+1);--$n$$.width;--$n$$.height;if(null==this.focusHighlight){$p$$=this.createHighlightShape();$p$$.dialect=mxConstants.DIALECT_SVG;$p$$.pointerEvents=!1;$p$$.init(this.graph.getView().getOverlayPane());this.focusHighlight=$p$$;var $q$$=mxUtils.bind(this,function(){return null!=this.currentFocus?this.currentFocus:$k$$});mxEvent.redirectMouseEvents($p$$.node,this.graph,$q$$)}this.focusHighlight.bounds=$n$$;this.focusHighlight.redraw()}}}null==
this.currentConstraint&&this.destroyFocusHighlight()}else this.currentPoint=this.currentFocus=this.currentConstraint=null};
mxConstraintHandler.prototype.redraw=function(){if(null!=this.currentFocus&&null!=this.constraints&&null!=this.focusIcons){var $a$$=this.graph.view.getState(this.currentFocus.cell);this.currentFocus=$a$$;this.currentFocusArea=new mxRectangle($a$$.x,$a$$.y,$a$$.width,$a$$.height);for(var $b$$=0;$b$$<this.constraints.length;$b$$++){var $c$$=this.graph.getConnectionPoint($a$$,this.constraints[$b$$]),$d$$=this.getImageForConstraint($a$$,this.constraints[$b$$],$c$$);$d$$=new mxRectangle(Math.round($c$$.x-
$d$$.width/2),Math.round($c$$.y-$d$$.height/2),$d$$.width,$d$$.height);this.focusIcons[$b$$].bounds=$d$$;this.focusIcons[$b$$].redraw();this.currentFocusArea.add(this.focusIcons[$b$$].bounds);this.focusPoints[$b$$]=$c$$}}};
mxConstraintHandler.prototype.setFocus=function($a$$,$b$$,$c$$){this.constraints=null!=$b$$&&!this.isStateIgnored($b$$,$c$$)&&this.graph.isCellConnectable($b$$.cell)?this.isEnabled()?this.graph.getAllConnectionConstraints($b$$,$c$$)||[]:[]:null;if(null!=this.constraints){this.currentFocus=$b$$;this.currentFocusArea=new mxRectangle($b$$.x,$b$$.y,$b$$.width,$b$$.height);if(null!=this.focusIcons){for($c$$=0;$c$$<this.focusIcons.length;$c$$++)this.focusIcons[$c$$].destroy();this.focusPoints=this.focusIcons=
null}this.focusPoints=[];this.focusIcons=[];for($c$$=0;$c$$<this.constraints.length;$c$$++){var $d$$=this.graph.getConnectionPoint($b$$,this.constraints[$c$$]),$e$$=this.getImageForConstraint($b$$,this.constraints[$c$$],$d$$),$f$$=$e$$.src;$e$$=new mxRectangle(Math.round($d$$.x-$e$$.width/2),Math.round($d$$.y-$e$$.height/2),$e$$.width,$e$$.height);$f$$=new mxImageShape($e$$,$f$$);$f$$.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG;$f$$.preserveImageAspect=
!1;$f$$.init(this.graph.getView().getDecoratorPane());null!=$f$$.node.previousSibling&&$f$$.node.parentNode.insertBefore($f$$.node,$f$$.node.parentNode.firstChild);$e$$=mxUtils.bind(this,function(){return null!=this.currentFocus?this.currentFocus:$b$$});$f$$.redraw();mxEvent.redirectMouseEvents($f$$.node,this.graph,$e$$);this.currentFocusArea.add($f$$.bounds);this.focusIcons.push($f$$);this.focusPoints.push($d$$)}this.currentFocusArea.grow(this.getTolerance($a$$))}else this.destroyIcons(),this.destroyFocusHighlight()};
mxConstraintHandler.prototype.createHighlightShape=function(){var $a$$=new mxRectangleShape(null,this.highlightColor,this.highlightColor,mxConstants.HIGHLIGHT_STROKEWIDTH);$a$$.opacity=mxConstants.HIGHLIGHT_OPACITY;return $a$$};mxConstraintHandler.prototype.intersects=function($a$$,$b$$,$c$$,$d$$){return mxUtils.intersects($a$$.bounds,$b$$)};
mxConstraintHandler.prototype.destroy=function(){this.reset();null!=this.resetHandler&&(this.graph.model.removeListener(this.resetHandler),this.graph.view.removeListener(this.resetHandler),this.graph.removeListener(this.resetHandler),this.resetHandler=null);null!=this.mouseleaveHandler&&null!=this.graph.container&&(mxEvent.removeListener(this.graph.container,"mouseleave",this.mouseleaveHandler),this.mouseleaveHandler=null)};
function mxRubberband($a$$){null!=$a$$&&(this.graph=$a$$,this.graph.addMouseListener(this),this.forceRubberbandHandler=mxUtils.bind(this,function($b$$,$c$$){$b$$=$c$$.getProperty("eventName");$c$$=$c$$.getProperty("event");if($b$$==mxEvent.MOUSE_DOWN&&this.isForceRubberbandEvent($c$$)){$b$$=mxUtils.getOffset(this.graph.container);var $d$$=mxUtils.getScrollOrigin(this.graph.container);$d$$.x-=$b$$.x;$d$$.y-=$b$$.y;this.start($c$$.getX()+$d$$.x,$c$$.getY()+$d$$.y);$c$$.consume(!1)}}),this.graph.addListener(mxEvent.FIRE_MOUSE_EVENT,
this.forceRubberbandHandler),this.panHandler=mxUtils.bind(this,function(){this.repaint()}),this.graph.addListener(mxEvent.PAN,this.panHandler),this.gestureHandler=mxUtils.bind(this,function($b$$,$c$$){null!=this.first&&this.reset()}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})))}mxRubberband.prototype.defaultOpacity=20;mxRubberband.prototype.enabled=!0;mxRubberband.prototype.div=null;
mxRubberband.prototype.sharedDiv=null;mxRubberband.prototype.currentX=0;mxRubberband.prototype.currentY=0;mxRubberband.prototype.fadeOut=!1;mxRubberband.prototype.isEnabled=function(){return this.enabled};mxRubberband.prototype.setEnabled=function($a$$){this.enabled=$a$$};mxRubberband.prototype.isForceRubberbandEvent=function($a$$){return mxEvent.isAltDown($a$$.getEvent())&&!mxEvent.isShiftDown($a$$.getEvent())};
mxRubberband.prototype.mouseDown=function($a$$,$b$$){if(!$b$$.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&null==$b$$.getState()&&!mxEvent.isMultiTouchEvent($b$$.getEvent())){$a$$=mxUtils.getOffset(this.graph.container);var $c$$=mxUtils.getScrollOrigin(this.graph.container);$c$$.x-=$a$$.x;$c$$.y-=$a$$.y;this.start($b$$.getX()+$c$$.x,$b$$.getY()+$c$$.y);$b$$.consume(!1)}};
mxRubberband.prototype.start=function($a$$,$b$$){function $c$$($e$$){$e$$=new mxMouseEvent($e$$);var $f$$=mxUtils.convertPoint($d$$,$e$$.getX(),$e$$.getY());$e$$.graphX=$f$$.x;$e$$.graphY=$f$$.y;return $e$$}this.first=new mxPoint($a$$,$b$$);var $d$$=this.graph.container;this.dragHandler=mxUtils.bind(this,function($e$$){this.mouseMove(this.graph,$c$$($e$$))});this.dropHandler=mxUtils.bind(this,function($e$$){this.mouseUp(this.graph,$c$$($e$$))});mxClient.IS_FF&&mxEvent.addGestureListeners(document,
null,this.dragHandler,this.dropHandler)};
mxRubberband.prototype.mouseMove=function($a$$,$b$$){if(!$b$$.isConsumed()&&null!=this.first){var $c$$=mxUtils.getScrollOrigin(this.graph.container);$a$$=mxUtils.getOffset(this.graph.container);$c$$.x-=$a$$.x;$c$$.y-=$a$$.y;$a$$=$b$$.getX()+$c$$.x;$c$$=$b$$.getY()+$c$$.y;var $d$$=this.first.x-$a$$,$e$$=this.first.y-$c$$,$f$$=this.graph.tolerance;if(null!=this.div||Math.abs($d$$)>$f$$||Math.abs($e$$)>$f$$)null==this.div&&(this.div=this.createShape()),mxUtils.clearSelection(),this.update($a$$,$c$$),
$b$$.consume()}};mxRubberband.prototype.createShape=function(){null==this.sharedDiv&&(this.sharedDiv=document.createElement("div"),this.sharedDiv.className="mxRubberband",mxUtils.setOpacity(this.sharedDiv,this.defaultOpacity));this.graph.container.appendChild(this.sharedDiv);var $a$$=this.sharedDiv;mxClient.IS_SVG&&(!mxClient.IS_IE||10<=document.documentMode)&&this.fadeOut&&(this.sharedDiv=null);return $a$$};mxRubberband.prototype.isActive=function($a$$,$b$$){return null!=this.div&&"none"!=this.div.style.display};
mxRubberband.prototype.mouseUp=function($a$$,$b$$){$a$$=this.isActive();this.reset();$a$$&&(this.execute($b$$.getEvent()),$b$$.consume())};mxRubberband.prototype.execute=function($a$$){var $b$$=new mxRectangle(this.x,this.y,this.width,this.height);this.graph.selectRegion($b$$,$a$$)};
mxRubberband.prototype.reset=function(){if(null!=this.div)if(mxClient.IS_SVG&&(!mxClient.IS_IE||10<=document.documentMode)&&this.fadeOut){var $a$$=this.div;mxUtils.setPrefixedStyle($a$$.style,"transition","all 0.2s linear");$a$$.style.pointerEvents="none";$a$$.style.opacity=0;window.setTimeout(function(){$a$$.parentNode.removeChild($a$$)},200)}else this.div.parentNode.removeChild(this.div);mxEvent.removeGestureListeners(document,null,this.dragHandler,this.dropHandler);this.dropHandler=this.dragHandler=
null;this.currentY=this.currentX=0;this.div=this.first=null};mxRubberband.prototype.update=function($a$$,$b$$){this.currentX=$a$$;this.currentY=$b$$;this.repaint()};
mxRubberband.prototype.repaint=function(){if(null!=this.div){var $a$$=this.currentX-this.graph.panDx,$b$$=this.currentY-this.graph.panDy;this.x=Math.min(this.first.x,$a$$);this.y=Math.min(this.first.y,$b$$);this.width=Math.max(this.first.x,$a$$)-this.x;this.height=Math.max(this.first.y,$b$$)-this.y;this.div.style.left=this.x+0+"px";this.div.style.top=this.y+0+"px";this.div.style.width=Math.max(1,this.width)+"px";this.div.style.height=Math.max(1,this.height)+"px"}};
mxRubberband.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.graph.removeMouseListener(this),this.graph.removeListener(this.forceRubberbandHandler),this.graph.removeListener(this.panHandler),this.reset(),null!=this.sharedDiv&&(this.sharedDiv=null))};function mxHandle($a$$,$b$$,$c$$,$d$$){this.graph=$a$$.view.graph;this.state=$a$$;this.cursor=null!=$b$$?$b$$:this.cursor;this.image=null!=$c$$?$c$$:this.image;this.shape=null!=$d$$?$d$$:null;this.init()}
mxHandle.prototype.cursor="default";mxHandle.prototype.image=null;mxHandle.prototype.ignoreGrid=!1;mxHandle.prototype.getPosition=function($a$$){};mxHandle.prototype.setPosition=function($a$$,$b$$,$c$$){};mxHandle.prototype.execute=function($a$$){};mxHandle.prototype.copyStyle=function($a$$){this.graph.setCellStyles($a$$,this.state.style[$a$$],[this.state.cell])};
mxHandle.prototype.processEvent=function($a$$){var $b$$=this.graph.view.scale,$c$$=this.graph.view.translate;$c$$=new mxPoint($a$$.getGraphX()/$b$$-$c$$.x,$a$$.getGraphY()/$b$$-$c$$.y);null!=this.shape&&null!=this.shape.bounds&&($c$$.x-=this.shape.bounds.width/$b$$/4,$c$$.y-=this.shape.bounds.height/$b$$/4);$b$$=-mxUtils.toRadians(this.getRotation());var $d$$=-mxUtils.toRadians(this.getTotalRotation())-$b$$;$c$$=this.flipPoint(this.rotatePoint(this.snapPoint(this.rotatePoint($c$$,$b$$),this.ignoreGrid||
!this.graph.isGridEnabledEvent($a$$.getEvent())),$d$$));this.setPosition(this.state.getPaintBounds(),$c$$,$a$$);this.redraw()};mxHandle.prototype.positionChanged=function(){null!=this.state.text&&this.state.text.apply(this.state);null!=this.state.shape&&this.graph.cellRenderer.configureShape(this.state);this.graph.cellRenderer.redraw(this.state,!0)};mxHandle.prototype.getRotation=function(){return null!=this.state.shape?this.state.shape.getRotation():0};
mxHandle.prototype.getTotalRotation=function(){return null!=this.state.shape?this.state.shape.getShapeRotation():0};mxHandle.prototype.init=function(){var $a$$=this.isHtmlRequired();null!=this.image?(this.shape=new mxImageShape(new mxRectangle(0,0,this.image.width,this.image.height),this.image.src),this.shape.preserveImageAspect=!1):null==this.shape&&(this.shape=this.createShape($a$$));this.initShape($a$$)};
mxHandle.prototype.createShape=function($a$$){$a$$=new mxRectangle(0,0,mxConstants.HANDLE_SIZE,mxConstants.HANDLE_SIZE);return new mxRectangleShape($a$$,mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)};
mxHandle.prototype.initShape=function($a$$){$a$$&&this.shape.isHtmlAllowed()?(this.shape.dialect=mxConstants.DIALECT_STRICTHTML,this.shape.init(this.graph.container)):(this.shape.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,null!=this.cursor&&this.shape.init(this.graph.getView().getOverlayPane()));mxEvent.redirectMouseEvents(this.shape.node,this.graph,this.state);this.shape.node.style.cursor=this.cursor};
mxHandle.prototype.redraw=function(){if(null!=this.shape&&null!=this.state.shape){var $a$$=this.getPosition(this.state.getPaintBounds());if(null!=$a$$){var $b$$=mxUtils.toRadians(this.getTotalRotation());$a$$=this.rotatePoint(this.flipPoint($a$$),$b$$);$b$$=this.graph.view.scale;var $c$$=this.graph.view.translate;this.shape.bounds.x=Math.floor(($a$$.x+$c$$.x)*$b$$-this.shape.bounds.width/2);this.shape.bounds.y=Math.floor(($a$$.y+$c$$.y)*$b$$-this.shape.bounds.height/2);this.shape.redraw()}}};
mxHandle.prototype.isHtmlRequired=function(){return null!=this.state.text&&this.state.text.node.parentNode==this.graph.container};mxHandle.prototype.rotatePoint=function($a$$,$b$$){var $c$$=this.state.getCellBounds();$c$$=new mxPoint($c$$.getCenterX(),$c$$.getCenterY());return mxUtils.getRotatedPoint($a$$,Math.cos($b$$),Math.sin($b$$),$c$$)};
mxHandle.prototype.flipPoint=function($a$$){if(null!=this.state.shape){var $b$$=this.state.getCellBounds();this.state.shape.flipH&&($a$$.x=2*$b$$.x+$b$$.width-$a$$.x);this.state.shape.flipV&&($a$$.y=2*$b$$.y+$b$$.height-$a$$.y)}return $a$$};mxHandle.prototype.snapPoint=function($a$$,$b$$){$b$$||($a$$.x=this.graph.snap($a$$.x),$a$$.y=this.graph.snap($a$$.y));return $a$$};mxHandle.prototype.setVisible=function($a$$){null!=this.shape&&null!=this.shape.node&&(this.shape.node.style.display=$a$$?"":"none")};
mxHandle.prototype.reset=function(){this.setVisible(!0);this.state.style=this.graph.getCellStyle(this.state.cell);this.positionChanged()};mxHandle.prototype.destroy=function(){null!=this.shape&&(this.shape.destroy(),this.shape=null)};
function mxVertexHandler($a$$){null!=$a$$&&(this.state=$a$$,this.init(),this.escapeHandler=mxUtils.bind(this,function($b$$,$c$$){this.livePreview&&null!=this.index&&(this.state.view.graph.cellRenderer.redraw(this.state,!0),this.state.view.invalidate(this.state.cell),this.state.invalid=!1,this.state.view.validate());this.reset()}),this.state.view.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}mxVertexHandler.prototype.graph=null;mxVertexHandler.prototype.state=null;
mxVertexHandler.prototype.singleSizer=!1;mxVertexHandler.prototype.index=null;mxVertexHandler.prototype.allowHandleBoundsCheck=!0;mxVertexHandler.prototype.handleImage=null;mxVertexHandler.prototype.handlesVisible=!0;mxVertexHandler.prototype.tolerance=0;mxVertexHandler.prototype.rotationEnabled=!1;mxVertexHandler.prototype.parentHighlightEnabled=!1;mxVertexHandler.prototype.rotationRaster=!0;mxVertexHandler.prototype.rotationCursor="crosshair";mxVertexHandler.prototype.livePreview=!1;
mxVertexHandler.prototype.movePreviewToFront=!1;mxVertexHandler.prototype.manageSizers=!1;mxVertexHandler.prototype.constrainGroupByChildren=!1;mxVertexHandler.prototype.rotationHandleVSpacing=-16;mxVertexHandler.prototype.horizontalOffset=0;mxVertexHandler.prototype.verticalOffset=0;
mxVertexHandler.prototype.init=function(){this.graph=this.state.view.graph;this.selectionBounds=this.getSelectionBounds(this.state);this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height);this.selectionBorder=this.createSelectionShape(this.bounds);this.selectionBorder.dialect=mxConstants.DIALECT_SVG;this.selectionBorder.svgStrokeTolerance=0;this.selectionBorder.pointerEvents=!1;this.selectionBorder.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||
"0");this.selectionBorder.init(this.graph.getView().getOverlayPane());mxEvent.redirectMouseEvents(this.selectionBorder.node,this.graph,this.state);this.graph.isCellMovable(this.state.cell)&&!this.graph.isCellLocked(this.state.cell)&&this.selectionBorder.setCursor(mxConstants.CURSOR_MOVABLE_VERTEX);this.refresh();this.redraw();this.constrainGroupByChildren&&this.updateMinBounds()};
mxVertexHandler.prototype.isHandlesVisible=function(){return!this.graph.isCellLocked(this.state.cell)&&(0>=mxGraphHandler.prototype.maxCells||this.graph.getSelectionCount()<=mxGraphHandler.prototype.maxCells)};
mxVertexHandler.prototype.refresh=function(){null!=this.selectionBorder&&(this.selectionBorder.strokewidth=this.getSelectionStrokeWidth(),this.selectionBorder.isDashed=this.isSelectionDashed(),this.selectionBorder.stroke=this.getSelectionColor(),this.selectionBorder.redraw());null!=this.sizers&&this.destroySizers();this.isHandlesVisible()&&(this.sizers=this.createSizers());null!=this.customHandles&&this.destroyCustomHandles();this.isHandlesVisible()&&(this.customHandles=this.createCustomHandles())};
mxVertexHandler.prototype.isRotationHandleVisible=function(){return this.graph.isEnabled()&&this.rotationEnabled&&this.graph.isCellRotatable(this.state.cell)};mxVertexHandler.prototype.isConstrainedEvent=function($a$$){return mxEvent.isShiftDown($a$$.getEvent())||"fixed"==this.state.style[mxConstants.STYLE_ASPECT]};mxVertexHandler.prototype.isCenteredEvent=function($a$$,$b$$){return!1};mxVertexHandler.prototype.createCustomHandles=function(){return null};
mxVertexHandler.prototype.updateMinBounds=function(){var $a$$=this.graph.getChildCells(this.state.cell);if(0<$a$$.length&&(this.minBounds=this.graph.view.getBounds($a$$),null!=this.minBounds)){$a$$=this.state.view.scale;var $b$$=this.state.view.translate;this.minBounds.x-=this.state.x;this.minBounds.y-=this.state.y;this.minBounds.x/=$a$$;this.minBounds.y/=$a$$;this.minBounds.width/=$a$$;this.minBounds.height/=$a$$;this.x0=this.state.x/$a$$-$b$$.x;this.y0=this.state.y/$a$$-$b$$.y}};
mxVertexHandler.prototype.getSelectionBounds=function($a$$){return new mxRectangle(Math.round($a$$.x),Math.round($a$$.y),Math.round($a$$.width),Math.round($a$$.height))};mxVertexHandler.prototype.createParentHighlightShape=function($a$$){return this.createSelectionShape($a$$)};
mxVertexHandler.prototype.createSelectionShape=function($a$$){$a$$=new mxRectangleShape(mxRectangle.fromRectangle($a$$),null,this.getSelectionColor());$a$$.strokewidth=this.getSelectionStrokeWidth();$a$$.isDashed=this.isSelectionDashed();return $a$$};mxVertexHandler.prototype.getSelectionColor=function(){return this.graph.isCellEditable(this.state.cell)?mxConstants.VERTEX_SELECTION_COLOR:mxConstants.LOCKED_HANDLE_FILLCOLOR};mxVertexHandler.prototype.getSelectionStrokeWidth=function(){return mxConstants.VERTEX_SELECTION_STROKEWIDTH};
mxVertexHandler.prototype.isSelectionDashed=function(){return mxConstants.VERTEX_SELECTION_DASHED};
mxVertexHandler.prototype.createSizer=function($a$$,$b$$,$c$$,$d$$){$c$$=$c$$||mxConstants.HANDLE_SIZE;$c$$=new mxRectangle(0,0,$c$$,$c$$);$d$$=this.createSizerShape($c$$,$b$$,$d$$,this.handleImage);$d$$.isHtmlAllowed()&&null!=this.state.text&&this.state.text.node.parentNode==this.graph.container?(--$d$$.bounds.height,--$d$$.bounds.width,$d$$.dialect=mxConstants.DIALECT_STRICTHTML,$d$$.init(this.graph.container)):($d$$.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:
mxConstants.DIALECT_SVG,$d$$.init(this.graph.getView().getOverlayPane()));mxEvent.redirectMouseEvents($d$$.node,this.graph,this.state);this.graph.isEnabled()&&$d$$.setCursor($a$$);this.isSizerVisible($b$$)||($d$$.visible=!1);return $d$$};mxVertexHandler.prototype.isSizerVisible=function($a$$){return!0};
mxVertexHandler.prototype.createSizerShape=function($a$$,$b$$,$c$$,$d$$){return null!=$d$$?($a$$=new mxRectangle($a$$.x,$a$$.y,$d$$.width,$d$$.height),$a$$=new mxImageShape($a$$,$d$$.src),$a$$.preserveImageAspect=!1,$a$$):$b$$==mxEvent.ROTATION_HANDLE?new mxEllipse($a$$,$c$$||mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR):new mxRectangleShape($a$$,$c$$||mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)};
mxVertexHandler.prototype.moveSizerTo=function($a$$,$b$$,$c$$){null!=$a$$&&($a$$.bounds.x=Math.floor($b$$-$a$$.bounds.width/2),$a$$.bounds.y=Math.floor($c$$-$a$$.bounds.height/2),null!=$a$$.node&&"none"!=$a$$.node.style.display&&$a$$.redraw())};
mxVertexHandler.prototype.getHandleForEvent=function($a$$){var $b$$=mxEvent.isMouseEvent($a$$.getEvent())?1:this.tolerance,$c$$=this.allowHandleBoundsCheck&&(mxClient.IS_IE||0<$b$$)?new mxRectangle($a$$.getGraphX()-$b$$,$a$$.getGraphY()-$b$$,2*$b$$,2*$b$$):null;$b$$=mxUtils.bind(this,function($e$$){var $f$$=null!=$e$$&&$e$$.constructor!=mxImageShape&&this.allowHandleBoundsCheck?$e$$.strokewidth+$e$$.svgStrokeTolerance:null;$f$$=null!=$f$$?new mxRectangle($a$$.getGraphX()-Math.floor($f$$/2),$a$$.getGraphY()-
Math.floor($f$$/2),$f$$,$f$$):$c$$;return null!=$e$$&&($a$$.isSource($e$$)||$e$$.intersectsRectangle($f$$))});if($b$$(this.rotationShape))return mxEvent.ROTATION_HANDLE;if($b$$(this.labelShape))return mxEvent.LABEL_HANDLE;if(null!=this.sizers)for(var $d$$=0;$d$$<this.sizers.length;$d$$++)if($b$$(this.sizers[$d$$]))return $d$$;if(null!=this.customHandles&&this.isCustomHandleEvent($a$$))for($d$$=this.customHandles.length-1;0<=$d$$;$d$$--)if(null!=this.customHandles[$d$$]&&$b$$(this.customHandles[$d$$].shape))return mxEvent.CUSTOM_HANDLE-
$d$$;return null};mxVertexHandler.prototype.isCustomHandleEvent=function($a$$){return!0};mxVertexHandler.prototype.mouseDown=function($a$$,$b$$){$b$$.isConsumed()||!this.graph.isEnabled()||mxEvent.isAltDown($b$$.getEvent())&&mxEvent.isShiftDown($b$$.getEvent())||($a$$=this.getHandleForEvent($b$$),null!=$a$$&&(this.start($b$$.getGraphX(),$b$$.getGraphY(),$a$$),$b$$.consume()))};
mxVertexHandler.prototype.isLivePreviewBorder=function(){return null!=this.state.shape&&null==this.state.shape.fill&&null==this.state.shape.stroke};
mxVertexHandler.prototype.start=function($a$$,$b$$,$c$$){if(null!=this.selectionBorder)if(this.livePreviewActive=this.livePreview&&0==this.graph.model.getChildCount(this.state.cell),this.inTolerance=!0,this.childOffsetY=this.childOffsetX=0,this.index=$c$$,this.startX=$a$$,this.startY=$b$$,this.index<=mxEvent.CUSTOM_HANDLE&&this.isGhostPreview())this.ghostPreview=this.createGhostPreview();else{$a$$=this.state.view.graph.model;$b$$=$a$$.getParent(this.state.cell);this.state.view.currentRoot!=$b$$&&
($a$$.isVertex($b$$)||$a$$.isEdge($b$$))&&(this.parentState=this.state.view.graph.view.getState($b$$));this.selectionBorder.node.style.display=$c$$==mxEvent.ROTATION_HANDLE?"inline":"none";if(!this.livePreviewActive||this.isLivePreviewBorder())this.preview=this.createSelectionShape(this.bounds),mxClient.IS_SVG&&0!=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0")||null==this.state.text||this.state.text.node.parentNode!=this.graph.container?(this.preview.dialect=mxConstants.DIALECT_SVG,this.preview.init(this.graph.view.getOverlayPane())):
(this.preview.dialect=mxConstants.DIALECT_STRICTHTML,this.preview.init(this.graph.container));$c$$==mxEvent.ROTATION_HANDLE&&($b$$=this.getRotationHandlePosition(),$a$$=$b$$.x-this.state.getCenterX(),$b$$=$b$$.y-this.state.getCenterY(),this.startAngle=0!=$a$$?180*Math.atan($b$$/$a$$)/Math.PI+90:0,this.startDist=Math.sqrt($a$$*$a$$+$b$$*$b$$));if(this.livePreviewActive)for(this.hideSizers(),$c$$==mxEvent.ROTATION_HANDLE?this.rotationShape.node.style.display="":$c$$==mxEvent.LABEL_HANDLE?this.labelShape.node.style.display=
"":null!=this.sizers&&null!=this.sizers[$c$$]?this.sizers[$c$$].node.style.display="":$c$$<=mxEvent.CUSTOM_HANDLE&&null!=this.customHandles&&null!=this.customHandles[mxEvent.CUSTOM_HANDLE-$c$$]&&this.customHandles[mxEvent.CUSTOM_HANDLE-$c$$].setVisible(!0),$c$$=this.graph.getEdges(this.state.cell),this.edgeHandlers=[],$a$$=0;$a$$<$c$$.length;$a$$++)$b$$=this.graph.selectionCellsHandler.getHandler($c$$[$a$$]),null!=$b$$&&this.edgeHandlers.push($b$$)}};
mxVertexHandler.prototype.createGhostPreview=function(){var $a$$=this.graph.cellRenderer.createShape(this.state);$a$$.init(this.graph.view.getOverlayPane());$a$$.scale=this.state.view.scale;$a$$.bounds=this.bounds;$a$$.outline=!0;return $a$$};
mxVertexHandler.prototype.setHandlesVisible=function($a$$){this.handlesVisible=$a$$;if(null!=this.sizers)for(var $b$$=0;$b$$<this.sizers.length;$b$$++)this.sizers[$b$$].node.style.display=$a$$?"":"none";if(null!=this.customHandles)for($b$$=0;$b$$<this.customHandles.length;$b$$++)null!=this.customHandles[$b$$]&&this.customHandles[$b$$].setVisible($a$$)};mxVertexHandler.prototype.hideSizers=function(){this.setHandlesVisible(!1)};
mxVertexHandler.prototype.checkTolerance=function($a$$){this.inTolerance&&null!=this.startX&&null!=this.startY&&(mxEvent.isMouseEvent($a$$.getEvent())||Math.abs($a$$.getGraphX()-this.startX)>this.graph.tolerance||Math.abs($a$$.getGraphY()-this.startY)>this.graph.tolerance)&&(this.inTolerance=!1)};mxVertexHandler.prototype.updateHint=function($a$$){};mxVertexHandler.prototype.removeHint=function(){};mxVertexHandler.prototype.roundAngle=function($a$$){return Math.round(10*$a$$)/10};
mxVertexHandler.prototype.roundLength=function($a$$){return Math.round(100*$a$$)/100};
mxVertexHandler.prototype.mouseMove=function($a$$,$b$$){$b$$.isConsumed()||null==this.index?this.graph.isMouseDown||null==this.getHandleForEvent($b$$)||$b$$.consume(!1):(this.checkTolerance($b$$),this.inTolerance||(this.index<=mxEvent.CUSTOM_HANDLE?null!=this.customHandles&&null!=this.customHandles[mxEvent.CUSTOM_HANDLE-this.index]&&(this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].processEvent($b$$),this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].active=!0,null!=this.ghostPreview?(this.ghostPreview.apply(this.state),
this.ghostPreview.strokewidth=this.getSelectionStrokeWidth()/this.ghostPreview.scale/this.ghostPreview.scale,this.ghostPreview.isDashed=this.isSelectionDashed(),this.ghostPreview.stroke=this.getSelectionColor(),this.ghostPreview.redraw(),null!=this.selectionBounds&&(this.selectionBorder.node.style.display="none")):(this.movePreviewToFront&&this.moveToFront(),this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].positionChanged())):this.index==mxEvent.LABEL_HANDLE?this.moveLabel($b$$):(this.index==
mxEvent.ROTATION_HANDLE?this.rotateVertex($b$$):this.resizeVertex($b$$),this.updateHint($b$$))),$b$$.consume())};mxVertexHandler.prototype.isGhostPreview=function(){return 0<this.state.view.graph.model.getChildCount(this.state.cell)};
mxVertexHandler.prototype.moveLabel=function($a$$){var $b$$=new mxPoint($a$$.getGraphX(),$a$$.getGraphY()),$c$$=this.graph.view.translate,$d$$=this.graph.view.scale;this.graph.isGridEnabledEvent($a$$.getEvent())&&($b$$.x=(this.graph.snap($b$$.x/$d$$-$c$$.x)+$c$$.x)*$d$$,$b$$.y=(this.graph.snap($b$$.y/$d$$-$c$$.y)+$c$$.y)*$d$$);this.moveSizerTo(this.sizers[null!=this.rotationShape?this.sizers.length-2:this.sizers.length-1],$b$$.x,$b$$.y)};
mxVertexHandler.prototype.rotateVertex=function($a$$){var $b$$=new mxPoint($a$$.getGraphX(),$a$$.getGraphY()),$c$$=this.state.x+this.state.width/2-$b$$.x,$d$$=this.state.y+this.state.height/2-$b$$.y;this.currentAlpha=0!=$c$$?180*Math.atan($d$$/$c$$)/Math.PI+90:0>$d$$?180:0;0<$c$$&&(this.currentAlpha-=180);this.currentAlpha-=this.startAngle;this.rotationRaster&&this.graph.isGridEnabledEvent($a$$.getEvent())?($c$$=$b$$.x-this.state.getCenterX(),$d$$=$b$$.y-this.state.getCenterY(),$a$$=Math.sqrt($c$$*
$c$$+$d$$*$d$$),raster=2>$a$$-this.startDist?15:25>$a$$-this.startDist?5:1,this.currentAlpha=Math.round(this.currentAlpha/raster)*raster):this.currentAlpha=this.roundAngle(this.currentAlpha);this.selectionBorder.rotation=this.currentAlpha;this.selectionBorder.redraw();this.livePreviewActive&&this.redrawHandles()};
mxVertexHandler.prototype.resizeVertex=function($a$$){var $b$$=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),$c$$=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),$d$$=new mxPoint($a$$.getGraphX(),$a$$.getGraphY()),$e$$=this.graph.view.translate,$f$$=this.graph.view.scale,$g$$=Math.cos(-$c$$),$k$$=Math.sin(-$c$$),$l$$=$d$$.x-this.startX,$m$$=$d$$.y-this.startY;$d$$=$k$$*$l$$+$g$$*$m$$;$l$$=$g$$*$l$$-$k$$*$m$$;$m$$=$d$$;$g$$=this.graph.getCellGeometry(this.state.cell);
this.unscaledBounds=this.union($g$$,$l$$/$f$$,$m$$/$f$$,this.index,this.graph.isGridEnabledEvent($a$$.getEvent()),1,new mxPoint(0,0),this.isConstrainedEvent($a$$),this.isCenteredEvent(this.state,$a$$));$g$$.relative||($k$$=this.graph.getMaximumGraphBounds(),null!=$k$$&&null!=this.parentState&&($k$$=mxRectangle.fromRectangle($k$$),$k$$.x-=(this.parentState.x-$e$$.x*$f$$)/$f$$,$k$$.y-=(this.parentState.y-$e$$.y*$f$$)/$f$$),this.graph.isConstrainChild(this.state.cell)&&($d$$=this.graph.getCellContainmentArea(this.state.cell),
null!=$d$$&&($l$$=this.graph.getOverlap(this.state.cell),0<$l$$&&($d$$=mxRectangle.fromRectangle($d$$),$d$$.x-=$d$$.width*$l$$,$d$$.y-=$d$$.height*$l$$,$d$$.width+=2*$d$$.width*$l$$,$d$$.height+=2*$d$$.height*$l$$),null==$k$$?$k$$=$d$$:($k$$=mxRectangle.fromRectangle($k$$),$k$$.intersect($d$$)))),null!=$k$$&&(this.unscaledBounds.x<$k$$.x&&(this.unscaledBounds.width-=$k$$.x-this.unscaledBounds.x,this.unscaledBounds.x=$k$$.x),this.unscaledBounds.y<$k$$.y&&(this.unscaledBounds.height-=$k$$.y-this.unscaledBounds.y,
this.unscaledBounds.y=$k$$.y),this.unscaledBounds.x+this.unscaledBounds.width>$k$$.x+$k$$.width&&(this.unscaledBounds.width-=this.unscaledBounds.x+this.unscaledBounds.width-$k$$.x-$k$$.width),this.unscaledBounds.y+this.unscaledBounds.height>$k$$.y+$k$$.height&&(this.unscaledBounds.height-=this.unscaledBounds.y+this.unscaledBounds.height-$k$$.y-$k$$.height)));$d$$=this.bounds;this.bounds=new mxRectangle((null!=this.parentState?this.parentState.x:$e$$.x*$f$$)+this.unscaledBounds.x*$f$$,(null!=this.parentState?
this.parentState.y:$e$$.y*$f$$)+this.unscaledBounds.y*$f$$,this.unscaledBounds.width*$f$$,this.unscaledBounds.height*$f$$);$g$$.relative&&null!=this.parentState&&(this.bounds.x+=this.state.x-this.parentState.x,this.bounds.y+=this.state.y-this.parentState.y);$g$$=Math.cos($c$$);$k$$=Math.sin($c$$);$c$$=new mxPoint(this.bounds.getCenterX(),this.bounds.getCenterY());$l$$=$c$$.x-$b$$.x;$m$$=$c$$.y-$b$$.y;$b$$=$g$$*$l$$-$k$$*$m$$-$l$$;$c$$=$k$$*$l$$+$g$$*$m$$-$m$$;$l$$=this.bounds.x-this.state.x;$m$$=
this.bounds.y-this.state.y;$e$$=$g$$*$l$$-$k$$*$m$$;$g$$=$k$$*$l$$+$g$$*$m$$;this.bounds.x+=$b$$;this.bounds.y+=$c$$;this.unscaledBounds.x=this.roundLength(this.unscaledBounds.x+$b$$/$f$$);this.unscaledBounds.y=this.roundLength(this.unscaledBounds.y+$c$$/$f$$);this.unscaledBounds.width=this.roundLength(this.unscaledBounds.width);this.unscaledBounds.height=this.roundLength(this.unscaledBounds.height);this.graph.isCellCollapsed(this.state.cell)||0==$b$$&&0==$c$$?this.childOffsetY=this.childOffsetX=
0:(this.childOffsetX=this.state.x-this.bounds.x+$e$$,this.childOffsetY=this.state.y-this.bounds.y+$g$$);$d$$.equals(this.bounds)||(this.livePreviewActive&&this.updateLivePreview($a$$),null!=this.preview?this.drawPreview():this.updateParentHighlight())};
mxVertexHandler.prototype.updateLivePreview=function($a$$){var $b$$=this.graph.view.scale,$c$$=this.graph.view.translate;$a$$=this.state.clone();this.state.x=this.bounds.x;this.state.y=this.bounds.y;this.state.origin=new mxPoint(this.state.x/$b$$-$c$$.x,this.state.y/$b$$-$c$$.y);this.state.width=this.bounds.width;this.state.height=this.bounds.height;$b$$=this.state.absoluteOffset;new mxPoint($b$$.x,$b$$.y);this.state.absoluteOffset.x=0;this.state.absoluteOffset.y=0;$b$$=this.graph.getCellGeometry(this.state.cell);
null!=$b$$&&($c$$=$b$$.offset||this.EMPTY_POINT,null==$c$$||$b$$.relative||(this.state.absoluteOffset.x=this.state.view.scale*$c$$.x,this.state.absoluteOffset.y=this.state.view.scale*$c$$.y),this.state.view.updateVertexLabelOffset(this.state));this.state.view.graph.cellRenderer.redraw(this.state,!0);this.state.view.invalidate(this.state.cell);this.state.invalid=!1;this.state.view.validate();this.redrawHandles();this.movePreviewToFront&&this.moveToFront();null!=this.state.control&&null!=this.state.control.node&&
(this.state.control.node.style.visibility="hidden");this.state.setState($a$$)};
mxVertexHandler.prototype.moveToFront=function(){if(null!=this.state.text&&null!=this.state.text.node&&null!=this.state.text.node.nextSibling||null!=this.state.shape&&null!=this.state.shape.node&&null!=this.state.shape.node.nextSibling&&(null==this.state.text||this.state.shape.node.nextSibling!=this.state.text.node))null!=this.state.shape&&null!=this.state.shape.node&&this.state.shape.node.parentNode.appendChild(this.state.shape.node),null!=this.state.text&&null!=this.state.text.node&&this.state.text.node.parentNode.appendChild(this.state.text.node)};
mxVertexHandler.prototype.mouseUp=function($a$$,$b$$){if(null!=this.index&&null!=this.state){var $c$$=new mxPoint($b$$.getGraphX(),$b$$.getGraphY());$a$$=this.index;this.index=null;null==this.ghostPreview&&this.state.view.invalidate(this.state.cell,!1,!1);this.graph.getModel().beginUpdate();try{if($a$$<=mxEvent.CUSTOM_HANDLE){if(null!=this.customHandles&&null!=this.customHandles[mxEvent.CUSTOM_HANDLE-$a$$]){var $d$$=this.state.view.graph.getCellStyle(this.state.cell);this.customHandles[mxEvent.CUSTOM_HANDLE-
$a$$].active=!1;this.customHandles[mxEvent.CUSTOM_HANDLE-$a$$].execute($b$$);null!=this.customHandles&&null!=this.customHandles[mxEvent.CUSTOM_HANDLE-$a$$]&&(this.state.style=$d$$,this.customHandles[mxEvent.CUSTOM_HANDLE-$a$$].positionChanged())}}else if($a$$==mxEvent.ROTATION_HANDLE)if(null!=this.currentAlpha){var $e$$=this.currentAlpha-(this.state.style[mxConstants.STYLE_ROTATION]||0);0!=$e$$&&this.rotateCell(this.state.cell,$e$$)}else this.rotateClick();else{var $f$$=this.graph.isGridEnabledEvent($b$$.getEvent()),
$g$$=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),$k$$=Math.cos(-$g$$),$l$$=Math.sin(-$g$$),$m$$=$c$$.x-this.startX,$n$$=$c$$.y-this.startY;$d$$=$l$$*$m$$+$k$$*$n$$;$m$$=$k$$*$m$$-$l$$*$n$$;$n$$=$d$$;var $p$$=this.graph.view.scale,$q$$=this.isRecursiveResize(this.state,$b$$);this.resizeCell(this.state.cell,this.roundLength($m$$/$p$$),this.roundLength($n$$/$p$$),$a$$,$f$$,this.isConstrainedEvent($b$$),$q$$)}}finally{this.graph.getModel().endUpdate()}this.state.invalid&&this.state.view.validate();
$b$$.consume();this.reset();this.redrawHandles()}};mxVertexHandler.prototype.isRecursiveResize=function($a$$,$b$$){return this.graph.isRecursiveResize(this.state)};mxVertexHandler.prototype.rotateClick=function(){};
mxVertexHandler.prototype.rotateCell=function($a$$,$b$$,$c$$){if(0!=$b$$){var $d$$=this.graph.getModel();if($d$$.isVertex($a$$)||$d$$.isEdge($a$$)){if(!$d$$.isEdge($a$$)){var $e$$=(this.graph.getCurrentCellStyle($a$$)[mxConstants.STYLE_ROTATION]||0)+$b$$;this.graph.setCellStyles(mxConstants.STYLE_ROTATION,$e$$,[$a$$])}$e$$=this.graph.getCellGeometry($a$$);if(null!=$e$$){var $f$$=this.graph.getCellGeometry($c$$);null==$f$$||$d$$.isEdge($c$$)||($e$$=$e$$.clone(),$e$$.rotate($b$$,new mxPoint($f$$.width/
2,$f$$.height/2)),$d$$.setGeometry($a$$,$e$$));if($d$$.isVertex($a$$)&&!$e$$.relative||$d$$.isEdge($a$$))for($c$$=$d$$.getChildCount($a$$),$e$$=0;$e$$<$c$$;$e$$++)this.rotateCell($d$$.getChildAt($a$$,$e$$),$b$$,$a$$)}}}};
mxVertexHandler.prototype.reset=function(){null!=this.sizers&&null!=this.index&&null!=this.sizers[this.index]&&"none"==this.sizers[this.index].node.style.display&&(this.sizers[this.index].node.style.display="");this.index=this.inTolerance=this.currentAlpha=null;null!=this.preview&&(this.preview.destroy(),this.preview=null);null!=this.ghostPreview&&(this.ghostPreview.destroy(),this.ghostPreview=null);if(this.livePreviewActive&&null!=this.sizers){for(var $a$$=0;$a$$<this.sizers.length;$a$$++)null!=
this.sizers[$a$$]&&(this.sizers[$a$$].node.style.display="");null!=this.state.control&&null!=this.state.control.node&&(this.state.control.node.style.visibility="")}if(null!=this.customHandles)for($a$$=0;$a$$<this.customHandles.length;$a$$++)null!=this.customHandles[$a$$]&&(this.customHandles[$a$$].active?(this.customHandles[$a$$].active=!1,this.customHandles[$a$$].reset()):this.customHandles[$a$$].setVisible(!0));null!=this.selectionBorder&&(this.selectionBorder.node.style.display="inline",this.selectionBounds=
this.getSelectionBounds(this.state),this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.drawPreview());this.removeHint();this.redrawHandles();this.edgeHandlers=null;this.handlesVisible=!0;this.livePreviewActive=this.unscaledBounds=null};
mxVertexHandler.prototype.resizeCell=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$b$$=this.graph.model.getGeometry($a$$);null!=$b$$&&($d$$==mxEvent.LABEL_HANDLE?($c$$=-mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),$g$$=1==mxUtils.getValue(this.state.style,mxConstants.STYLE_HORIZONTAL,!0),$d$$=Math.cos($c$$),$e$$=Math.sin($c$$),$c$$=this.graph.view.scale,$d$$=mxUtils.getRotatedPoint(new mxPoint(Math.round((this.labelShape.bounds.getCenterX()-this.startX)/$c$$),Math.round((this.labelShape.bounds.getCenterY()-
this.startY)/$c$$)),$d$$,$e$$),$g$$||($d$$.y=-$d$$.y),$b$$=$b$$.clone(),null==$b$$.offset?$b$$.offset=$d$$:($b$$.offset.x+=$d$$.x,$b$$.offset.y+=$d$$.y),this.graph.model.setGeometry($a$$,$b$$)):null!=this.unscaledBounds&&($c$$=this.graph.view.scale,0==this.childOffsetX&&0==this.childOffsetY||this.moveChildren($a$$,Math.round(this.childOffsetX/$c$$),Math.round(this.childOffsetY/$c$$)),this.graph.resizeCell($a$$,this.unscaledBounds,$g$$)))};
mxVertexHandler.prototype.moveChildren=function($a$$,$b$$,$c$$){for(var $d$$=this.graph.getModel(),$e$$=$d$$.getChildCount($a$$),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=$d$$.getChildAt($a$$,$f$$),$k$$=this.graph.getCellGeometry($g$$);null!=$k$$&&($k$$=$k$$.clone(),$k$$.translate($b$$,$c$$),$d$$.setGeometry($g$$,$k$$))}};
mxVertexHandler.prototype.union=function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){$e$$=null!=$e$$?$e$$&&this.graph.gridEnabled:this.graph.gridEnabled;if(this.singleSizer)return $d$$=$a$$.x+$a$$.width+$b$$,$g$$=$a$$.y+$a$$.height+$c$$,$e$$&&($d$$=this.graph.snap($d$$/$f$$)*$f$$,$g$$=this.graph.snap($g$$/$f$$)*$f$$),$f$$=new mxRectangle($a$$.x,$a$$.y,0,0),$f$$.add(new mxRectangle($d$$,$g$$,0,0)),$f$$;var $m$$=$a$$.width,$n$$=$a$$.height,$p$$=$a$$.x-$g$$.x*$f$$,$q$$=$p$$+$m$$;$a$$=$a$$.y-$g$$.y*
$f$$;var $r$$=$a$$+$n$$,$t$$=$p$$+$m$$/2,$u$$=$a$$+$n$$/2;4<$d$$?($r$$+=$c$$,$r$$=$e$$?this.graph.snap($r$$/$f$$)*$f$$:Math.round($r$$/$f$$)*$f$$):3>$d$$&&($a$$+=$c$$,$a$$=$e$$?this.graph.snap($a$$/$f$$)*$f$$:Math.round($a$$/$f$$)*$f$$);if(0==$d$$||3==$d$$||5==$d$$)$p$$+=$b$$,$p$$=$e$$?this.graph.snap($p$$/$f$$)*$f$$:Math.round($p$$/$f$$)*$f$$;else if(2==$d$$||4==$d$$||7==$d$$)$q$$+=$b$$,$q$$=$e$$?this.graph.snap($q$$/$f$$)*$f$$:Math.round($q$$/$f$$)*$f$$;$e$$=$q$$-$p$$;$c$$=$r$$-$a$$;$k$$&&($k$$=
this.graph.getCellGeometry(this.state.cell),null!=$k$$&&($k$$=$k$$.width/$k$$.height,1==$d$$||2==$d$$||7==$d$$||6==$d$$?$e$$=$c$$*$k$$:$c$$=$e$$/$k$$,0==$d$$&&($p$$=$q$$-$e$$,$a$$=$r$$-$c$$)));$l$$&&($e$$+=$e$$-$m$$,$c$$+=$c$$-$n$$,$p$$+=$t$$-($p$$+$e$$/2),$a$$+=$u$$-($a$$+$c$$/2));0>$e$$&&($p$$+=$e$$,$e$$=Math.abs($e$$));0>$c$$&&($a$$+=$c$$,$c$$=Math.abs($c$$));$d$$=new mxRectangle($p$$+$g$$.x*$f$$,$a$$+$g$$.y*$f$$,$e$$,$c$$);null!=this.minBounds&&($d$$.width=Math.max($d$$.width,this.minBounds.x*
$f$$+this.minBounds.width*$f$$+Math.max(0,this.x0*$f$$-$d$$.x)),$d$$.height=Math.max($d$$.height,this.minBounds.y*$f$$+this.minBounds.height*$f$$+Math.max(0,this.y0*$f$$-$d$$.y)));return $d$$};mxVertexHandler.prototype.redraw=function($a$$){this.selectionBounds=this.getSelectionBounds(this.state);this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height);this.drawPreview();$a$$||this.redrawHandles()};
mxVertexHandler.prototype.getHandlePadding=function(){var $a$$=new mxPoint(0,0),$b$$=this.tolerance;null!=this.sizers&&0<this.sizers.length&&null!=this.sizers[0]&&(this.bounds.width<2*this.sizers[0].bounds.width+2*$b$$||this.bounds.height<2*this.sizers[0].bounds.height+2*$b$$)&&($b$$/=2,$a$$.x=this.sizers[0].bounds.width+$b$$,$a$$.y=this.sizers[0].bounds.height+$b$$);return $a$$};mxVertexHandler.prototype.getSizerBounds=function(){return this.bounds};
mxVertexHandler.prototype.redrawHandles=function(){var $a$$=this.getSizerBounds(),$b$$=this.tolerance;this.verticalOffset=this.horizontalOffset=0;if(null!=this.customHandles)for(var $c$$=0;$c$$<this.customHandles.length;$c$$++)if(null!=this.customHandles[$c$$]){var $d$$=this.customHandles[$c$$].shape.node.style.display;this.customHandles[$c$$].redraw();this.customHandles[$c$$].shape.node.style.display=$d$$;this.customHandles[$c$$].shape.node.style.visibility=this.handlesVisible&&this.isHandlesVisible()&&
this.isCustomHandleVisible(this.customHandles[$c$$])&&!this.graph.isEditing()?"":"hidden"}if(null!=this.sizers&&0<this.sizers.length&&null!=this.sizers[0]){if(null==this.index&&this.manageSizers&&8<=this.sizers.length){$c$$=this.getHandlePadding();this.horizontalOffset=$c$$.x;this.verticalOffset=$c$$.y;if(0!=this.horizontalOffset||0!=this.verticalOffset)$a$$=new mxRectangle($a$$.x,$a$$.y,$a$$.width,$a$$.height),$a$$.x-=this.horizontalOffset/2,$a$$.width+=this.horizontalOffset,$a$$.y-=this.verticalOffset/
2,$a$$.height+=this.verticalOffset;8<=this.sizers.length&&($a$$.width<2*this.sizers[0].bounds.width+2*$b$$||$a$$.height<2*this.sizers[0].bounds.height+2*$b$$?(this.sizers[0].node.style.display="none",this.sizers[2].node.style.display="none",this.sizers[5].node.style.display="none",this.sizers[7].node.style.display="none"):this.handlesVisible&&(this.sizers[0].node.style.display="",this.sizers[2].node.style.display="",this.sizers[5].node.style.display="",this.sizers[7].node.style.display=""))}var $e$$=
$a$$.x+$a$$.width,$f$$=$a$$.y+$a$$.height;if(this.singleSizer)this.moveSizerTo(this.sizers[0],$e$$,$f$$);else if($b$$=$a$$.x+$a$$.width/2,$c$$=$a$$.y+$a$$.height/2,8<=this.sizers.length){var $g$$="nw-resize n-resize ne-resize e-resize se-resize s-resize sw-resize w-resize".split(" "),$k$$=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0");$d$$=Math.cos($k$$);var $l$$=Math.sin($k$$),$m$$=Math.round(4*$k$$/Math.PI);$k$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY());var $n$$=mxUtils.getRotatedPoint(new mxPoint($a$$.x,
$a$$.y),$d$$,$l$$,$k$$);this.moveSizerTo(this.sizers[0],$n$$.x,$n$$.y);this.sizers[0].setCursor($g$$[mxUtils.mod(0+$m$$,$g$$.length)]);$n$$.x=$b$$;$n$$.y=$a$$.y;$n$$=mxUtils.getRotatedPoint($n$$,$d$$,$l$$,$k$$);this.moveSizerTo(this.sizers[1],$n$$.x,$n$$.y);this.sizers[1].setCursor($g$$[mxUtils.mod(1+$m$$,$g$$.length)]);$n$$.x=$e$$;$n$$.y=$a$$.y;$n$$=mxUtils.getRotatedPoint($n$$,$d$$,$l$$,$k$$);this.moveSizerTo(this.sizers[2],$n$$.x,$n$$.y);this.sizers[2].setCursor($g$$[mxUtils.mod(2+$m$$,$g$$.length)]);
$n$$.x=$a$$.x;$n$$.y=$c$$;$n$$=mxUtils.getRotatedPoint($n$$,$d$$,$l$$,$k$$);this.moveSizerTo(this.sizers[3],$n$$.x,$n$$.y);this.sizers[3].setCursor($g$$[mxUtils.mod(7+$m$$,$g$$.length)]);$n$$.x=$e$$;$n$$.y=$c$$;$n$$=mxUtils.getRotatedPoint($n$$,$d$$,$l$$,$k$$);this.moveSizerTo(this.sizers[4],$n$$.x,$n$$.y);this.sizers[4].setCursor($g$$[mxUtils.mod(3+$m$$,$g$$.length)]);$n$$.x=$a$$.x;$n$$.y=$f$$;$n$$=mxUtils.getRotatedPoint($n$$,$d$$,$l$$,$k$$);this.moveSizerTo(this.sizers[5],$n$$.x,$n$$.y);this.sizers[5].setCursor($g$$[mxUtils.mod(6+
$m$$,$g$$.length)]);$n$$.x=$b$$;$n$$.y=$f$$;$n$$=mxUtils.getRotatedPoint($n$$,$d$$,$l$$,$k$$);this.moveSizerTo(this.sizers[6],$n$$.x,$n$$.y);this.sizers[6].setCursor($g$$[mxUtils.mod(5+$m$$,$g$$.length)]);$n$$.x=$e$$;$n$$.y=$f$$;$n$$=mxUtils.getRotatedPoint($n$$,$d$$,$l$$,$k$$);this.moveSizerTo(this.sizers[7],$n$$.x,$n$$.y);this.sizers[7].setCursor($g$$[mxUtils.mod(4+$m$$,$g$$.length)]);$a$$=1==mxUtils.getValue(this.state.style,mxConstants.STYLE_HORIZONTAL,!0);$n$$.x=$b$$+this.state.absoluteOffset.x;
$n$$.y=$c$$+($a$$?1:-1)*this.state.absoluteOffset.y;$n$$=mxUtils.getRotatedPoint($n$$,$d$$,$l$$,$k$$);this.moveSizerTo(this.sizers[8],$n$$.x,$n$$.y)}else 2<=this.state.width&&2<=this.state.height?this.moveSizerTo(this.sizers[0],$b$$+this.state.absoluteOffset.x,$c$$+this.state.absoluteOffset.y):this.moveSizerTo(this.sizers[0],this.state.x,this.state.y)}if(null!=this.sizers)for($c$$=0;$c$$<this.sizers.length;$c$$++)this.sizers[$c$$].node.style.visibility=this.isHandlesVisible()?"":"hidden";null!=this.rotationShape&&
($k$$=mxUtils.toRadians(null!=this.currentAlpha?this.currentAlpha:this.state.style[mxConstants.STYLE_ROTATION]||"0"),$d$$=Math.cos($k$$),$l$$=Math.sin($k$$),$k$$=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),$n$$=mxUtils.getRotatedPoint(this.getRotationHandlePosition(),$d$$,$l$$,$k$$),null!=this.rotationShape.node&&(this.moveSizerTo(this.rotationShape,$n$$.x,$n$$.y),this.rotationShape.node.style.visibility=!this.state.view.graph.isEditing()&&this.handlesVisible&&this.isHandlesVisible()&&
this.isRotationHandleVisible()?"":"hidden"));null!=this.selectionBorder&&(this.selectionBorder.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0"));if(null!=this.edgeHandlers)for($c$$=0;$c$$<this.edgeHandlers.length;$c$$++)this.edgeHandlers[$c$$].redraw()};mxVertexHandler.prototype.isCustomHandleVisible=function($a$$){return 1==this.state.view.graph.getSelectionCount()};
mxVertexHandler.prototype.getRotationHandlePosition=function(){return new mxPoint(this.bounds.x+this.bounds.width/2,this.bounds.y+this.rotationHandleVSpacing)};mxVertexHandler.prototype.isParentHighlightVisible=function(){return!this.graph.isCellSelected(this.graph.model.getParent(this.state.cell))};
mxVertexHandler.prototype.destroyParentHighlight=function(){null!=this.parentHighlight.state&&(delete this.parentHighlight.state.parentHighlight,delete this.parentHighlight.state);this.parentHighlight.destroy();this.parentHighlight=null};
mxVertexHandler.prototype.updateParentHighlight=function(){if(!this.isDestroyed()){var $a$$=this.isParentHighlightVisible(),$b$$=this.graph.model.getParent(this.state.cell),$c$$=this.graph.view.getState($b$$);null!=this.parentHighlight?this.graph.model.isVertex($b$$)&&$a$$?($a$$=this.parentHighlight.bounds,null==$c$$||$a$$.x==$c$$.x&&$a$$.y==$c$$.y&&$a$$.width==$c$$.width&&$a$$.height==$c$$.height||(this.parentHighlight.bounds=mxRectangle.fromRectangle($c$$),this.parentHighlight.redraw())):this.destroyParentHighlight():
this.parentHighlightEnabled&&$a$$&&this.graph.model.isVertex($b$$)&&null!=$c$$&&null==$c$$.parentHighlight&&(this.parentHighlight=this.createParentHighlightShape($c$$),this.parentHighlight.dialect=mxConstants.DIALECT_SVG,this.parentHighlight.svgStrokeTolerance=0,this.parentHighlight.pointerEvents=!1,this.parentHighlight.rotation=Number($c$$.style[mxConstants.STYLE_ROTATION]||"0"),this.parentHighlight.init(this.graph.getView().getOverlayPane()),this.parentHighlight.redraw(),$c$$.parentHighlight=this.parentHighlight,
this.parentHighlight.state=$c$$)}};
mxVertexHandler.prototype.drawPreview=function(){null!=this.preview&&(this.preview.bounds=this.bounds,this.preview.node.parentNode==this.graph.container&&(this.preview.bounds.width=Math.max(0,this.preview.bounds.width-1),this.preview.bounds.height=Math.max(0,this.preview.bounds.height-1)),this.preview.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0"),this.preview.redraw());this.selectionBorder.bounds=this.getSelectionBorderBounds();this.selectionBorder.redraw();this.updateParentHighlight()};
mxVertexHandler.prototype.getSelectionBorderBounds=function(){return this.bounds};
mxVertexHandler.prototype.createSizers=function(){var $a$$=this.graph.isCellResizable(this.state.cell)&&!this.graph.isCellLocked(this.state.cell),$b$$=[];if($a$$||this.graph.isLabelMovable(this.state.cell)&&2<=this.state.width&&2<=this.state.height){var $c$$=0;$a$$&&(this.singleSizer||($b$$.push(this.createSizer("nw-resize",$c$$++)),$b$$.push(this.createSizer("n-resize",$c$$++)),$b$$.push(this.createSizer("ne-resize",$c$$++)),$b$$.push(this.createSizer("w-resize",$c$$++)),$b$$.push(this.createSizer("e-resize",
$c$$++)),$b$$.push(this.createSizer("sw-resize",$c$$++)),$b$$.push(this.createSizer("s-resize",$c$$++))),$b$$.push(this.createSizer("se-resize",$c$$++)));$a$$=this.graph.model.getGeometry(this.state.cell);null==$a$$||$a$$.relative||this.graph.isSwimlane(this.state.cell)||!this.graph.isLabelMovable(this.state.cell)||(this.labelShape=this.createSizer(mxConstants.CURSOR_LABEL_HANDLE,mxEvent.LABEL_HANDLE,mxConstants.LABEL_HANDLE_SIZE,mxConstants.LABEL_HANDLE_FILLCOLOR),$b$$.push(this.labelShape))}else this.graph.isCellMovable(this.state.cell)&&
!$a$$&&2>this.state.width&&2>this.state.height&&(this.labelShape=this.createSizer(mxConstants.CURSOR_MOVABLE_VERTEX,mxEvent.LABEL_HANDLE,null,mxConstants.LABEL_HANDLE_FILLCOLOR),$b$$.push(this.labelShape));null==this.rotationShape&&(this.rotationShape=this.createSizer(this.rotationCursor,mxEvent.ROTATION_HANDLE,mxConstants.HANDLE_SIZE+3,mxConstants.HANDLE_FILLCOLOR),$b$$.push(this.rotationShape));return $b$$};
mxVertexHandler.prototype.destroyCustomHandles=function(){if(null!=this.customHandles){for(var $a$$=0;$a$$<this.customHandles.length;$a$$++)null!=this.customHandles[$a$$]&&this.customHandles[$a$$].destroy();this.customHandles=null}};mxVertexHandler.prototype.destroySizers=function(){if(null!=this.sizers){for(var $a$$=0;$a$$<this.sizers.length;$a$$++)this.sizers[$a$$].destroy();this.rotationShape=this.sizers=null}};mxVertexHandler.prototype.isDestroyed=function(){return null==this.selectionBorder};
mxVertexHandler.prototype.destroy=function(){null!=this.escapeHandler&&(this.state.view.graph.removeListener(this.escapeHandler),this.escapeHandler=null);null!=this.preview&&(this.preview.destroy(),this.preview=null);null!=this.ghostPreview&&(this.ghostPreview.destroy(),this.ghostPreview=null);null!=this.selectionBorder&&(this.selectionBorder.destroy(),this.selectionBorder=null);null!=this.parentHighlight&&this.destroyParentHighlight();this.labelShape=null;this.removeHint();this.destroySizers();this.destroyCustomHandles()};
function mxEdgeHandler($a$$){null!=$a$$&&null!=$a$$.shape&&(this.state=$a$$,this.init(),this.escapeHandler=mxUtils.bind(this,function($b$$,$c$$){$b$$=null!=this.index;this.reset();$b$$&&this.graph.cellRenderer.redraw(this.state,!1,$a$$.view.isRendering())}),this.state.view.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}mxEdgeHandler.prototype.graph=null;mxEdgeHandler.prototype.state=null;mxEdgeHandler.prototype.marker=null;mxEdgeHandler.prototype.constraintHandler=null;
mxEdgeHandler.prototype.error=null;mxEdgeHandler.prototype.shape=null;mxEdgeHandler.prototype.bends=null;mxEdgeHandler.prototype.labelShape=null;mxEdgeHandler.prototype.cloneEnabled=!0;mxEdgeHandler.prototype.addEnabled=!1;mxEdgeHandler.prototype.removeEnabled=!1;mxEdgeHandler.prototype.dblClickRemoveEnabled=!1;mxEdgeHandler.prototype.mergeRemoveEnabled=!1;mxEdgeHandler.prototype.straightRemoveEnabled=!1;mxEdgeHandler.prototype.virtualBendsEnabled=!1;mxEdgeHandler.prototype.virtualBendOpacity=40;
mxEdgeHandler.prototype.parentHighlightEnabled=!1;mxEdgeHandler.prototype.preferHtml=!1;mxEdgeHandler.prototype.allowHandleBoundsCheck=!0;mxEdgeHandler.prototype.snapToTerminals=!1;mxEdgeHandler.prototype.handleImage=null;mxEdgeHandler.prototype.tolerance=0;mxEdgeHandler.prototype.outlineConnect=!1;mxEdgeHandler.prototype.manageLabelHandle=!1;
mxEdgeHandler.prototype.init=function(){this.graph=this.state.view.graph;this.marker=this.createMarker();this.points=[];this.abspoints=this.getSelectionPoints(this.state);this.shape=this.createSelectionShape(this.abspoints);this.shape.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG;this.shape.init(this.graph.getView().getOverlayPane());this.shape.svgStrokeTolerance=0;this.shape.pointerEvents=!1;mxEvent.redirectMouseEvents(this.shape.node,this.graph,
this.state);this.graph.isCellMovable(this.state.cell)&&this.shape.setCursor(mxConstants.CURSOR_MOVABLE_EDGE);this.preferHtml=null!=this.state.text&&this.state.text.node.parentNode==this.graph.container;if(!this.preferHtml){var $a$$=this.state.getVisibleTerminalState(!0);null!=$a$$&&(this.preferHtml=null!=$a$$.text&&$a$$.text.node.parentNode==this.graph.container);this.preferHtml||($a$$=this.state.getVisibleTerminalState(!1),null!=$a$$&&(this.preferHtml=null!=$a$$.text&&$a$$.text.node.parentNode==
this.graph.container))}this.updateParentHighlight();this.refresh();this.redraw()};mxEdgeHandler.prototype.createLabelShape=function(){var $a$$=this.createLabelHandleShape();this.initBend($a$$);return $a$$};mxEdgeHandler.prototype.getConstraintHandler=function(){null==this.constraintHandler&&(this.constraintHandler=this.createConstraintHandler());return this.constraintHandler};mxEdgeHandler.prototype.createConstraintHandler=function(){return new mxConstraintHandler(this.graph)};
mxEdgeHandler.prototype.isParentHighlightVisible=mxVertexHandler.prototype.isParentHighlightVisible;mxEdgeHandler.prototype.destroyParentHighlight=mxVertexHandler.prototype.destroyParentHighlight;mxEdgeHandler.prototype.updateParentHighlight=mxVertexHandler.prototype.updateParentHighlight;mxEdgeHandler.prototype.createCustomHandles=function(){return null};
mxEdgeHandler.prototype.isVirtualBendsEnabled=function($a$$){return this.virtualBendsEnabled&&(null==this.state.style[mxConstants.STYLE_EDGE]||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.NONE||1==this.state.style[mxConstants.STYLE_NOEDGESTYLE])&&"arrow"!=mxUtils.getValue(this.state.style,mxConstants.STYLE_SHAPE,null)};mxEdgeHandler.prototype.isCellEnabled=function($a$$){return!0};mxEdgeHandler.prototype.isAddPointEvent=function($a$$){return mxEvent.isShiftDown($a$$)};
mxEdgeHandler.prototype.isRemovePointEvent=function($a$$){return mxEvent.isShiftDown($a$$)};mxEdgeHandler.prototype.getSelectionPoints=function($a$$){return $a$$.absolutePoints};mxEdgeHandler.prototype.createParentHighlightShape=function($a$$){$a$$=new mxRectangleShape(mxRectangle.fromRectangle($a$$),null,this.getSelectionColor());$a$$.strokewidth=this.getSelectionStrokeWidth();$a$$.isDashed=this.isSelectionDashed();return $a$$};
mxEdgeHandler.prototype.createSelectionShape=function($a$$){$a$$=new this.state.shape.constructor;$a$$.outline=!0;$a$$.apply(this.state);$a$$.isDashed=this.isSelectionDashed();$a$$.stroke=this.getSelectionColor();$a$$.isShadow=!1;return $a$$};mxEdgeHandler.prototype.getSelectionColor=function(){return this.graph.isCellEditable(this.state.cell)?mxConstants.EDGE_SELECTION_COLOR:mxConstants.LOCKED_HANDLE_FILLCOLOR};mxEdgeHandler.prototype.getSelectionStrokeWidth=function(){return mxConstants.EDGE_SELECTION_STROKEWIDTH};
mxEdgeHandler.prototype.isSelectionDashed=function(){return mxConstants.EDGE_SELECTION_DASHED};mxEdgeHandler.prototype.isConnectableCell=function($a$$){return!0};mxEdgeHandler.prototype.getCellAt=function($a$$,$b$$){return this.outlineConnect?null:this.graph.getCellAt($a$$,$b$$)};
mxEdgeHandler.prototype.createMarker=function(){var $a$$=new mxCellMarker(this.graph),$b$$=this;$a$$.getCell=function($c$$){var $d$$=mxCellMarker.prototype.getCell.apply(this,arguments);$d$$!=$b$$.state.cell&&null!=$d$$||null==$b$$.currentPoint||($d$$=$b$$.graph.getCellAt($b$$.currentPoint.x,$b$$.currentPoint.y));if(null!=$d$$&&!this.graph.isCellConnectable($d$$)){var $e$$=this.graph.getModel().getParent($d$$);this.graph.getModel().isVertex($e$$)&&this.graph.isCellConnectable($e$$)&&($d$$=$e$$)}$e$$=
$b$$.graph.getModel();if(this.graph.isSwimlane($d$$)&&null!=$b$$.currentPoint&&this.graph.hitsSwimlaneContent($d$$,$b$$.currentPoint.x,$b$$.currentPoint.y)||!$b$$.isConnectableCell($d$$)||$d$$==$b$$.state.cell||null!=$d$$&&!$b$$.graph.connectableEdges&&$e$$.isEdge($d$$)||$e$$.isAncestor($b$$.state.cell,$d$$))$d$$=null;this.graph.isCellConnectable($d$$)||($d$$=null);return $d$$};$a$$.isValidState=function($c$$){var $d$$=$b$$.graph.getModel();$d$$=$b$$.graph.view.getTerminalPort($c$$,$b$$.graph.view.getState($d$$.getTerminal($b$$.state.cell,
!$b$$.isSource)),!$b$$.isSource);$d$$=null!=$d$$?$d$$.cell:null;$b$$.error=$b$$.validateConnection($b$$.isSource?$c$$.cell:$d$$,$b$$.isSource?$d$$:$c$$.cell);return null==$b$$.error};return $a$$};mxEdgeHandler.prototype.validateConnection=function($a$$,$b$$){return this.graph.getEdgeValidationError(this.state.cell,$a$$,$b$$)};
mxEdgeHandler.prototype.createBends=function(){var $a$$=this.state.cell,$b$$=[];if(null!=this.abspoints)for(var $c$$=0;$c$$<this.abspoints.length;$c$$++)if(this.isHandleVisible($c$$)){var $d$$=$c$$==this.abspoints.length-1,$e$$=0==$c$$||$d$$;($e$$||this.graph.isCellBendable($a$$))&&mxUtils.bind(this,function($f$$){var $g$$=this.createHandleShape($f$$,null,$f$$==this.abspoints.length-1);this.initBend($g$$,mxUtils.bind(this,mxUtils.bind(this,function(){this.dblClickRemoveEnabled&&this.removePoint(this.state,
$f$$)})));this.isHandleEnabled($c$$)&&$g$$.setCursor($e$$?mxConstants.CURSOR_TERMINAL_HANDLE:mxConstants.CURSOR_BEND_HANDLE);$b$$.push($g$$);$e$$||(this.points.push(new mxPoint(0,0)),$g$$.node.style.visibility="hidden")})($c$$)}return $b$$};
mxEdgeHandler.prototype.createVirtualBends=function(){var $a$$=[];if(null!=this.abspoints&&0<this.abspoints.length&&this.graph.isCellBendable(this.state.cell))for(var $b$$=1;$b$$<this.abspoints.length;$b$$++)mxUtils.bind(this,function($c$$){this.initBend($c$$);$c$$.setCursor(mxConstants.CURSOR_VIRTUAL_BEND_HANDLE);$a$$.push($c$$)})(this.createHandleShape());return $a$$};mxEdgeHandler.prototype.isHandleEnabled=function($a$$){return!0};
mxEdgeHandler.prototype.isHandleVisible=function($a$$){var $b$$=this.state.getVisibleTerminalState(!0),$c$$=this.state.getVisibleTerminalState(!1),$d$$=this.graph.getCellGeometry(this.state.cell);return(null!=$d$$?this.graph.view.getEdgeStyle(this.state,$d$$.points,$b$$,$c$$):null)!=mxEdgeStyle.EntityRelation||0==$a$$||$a$$==this.abspoints.length-1};
mxEdgeHandler.prototype.createHandleShape=function($a$$){if(null!=this.handleImage)return $a$$=new mxImageShape(new mxRectangle(0,0,this.handleImage.width,this.handleImage.height),this.handleImage.src),$a$$.preserveImageAspect=!1,$a$$;$a$$=mxConstants.HANDLE_SIZE;this.preferHtml&&--$a$$;return new mxRectangleShape(new mxRectangle(0,0,$a$$,$a$$),mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)};
mxEdgeHandler.prototype.createLabelHandleShape=function(){if(null!=this.labelHandleImage){var $a$$=new mxImageShape(new mxRectangle(0,0,this.labelHandleImage.width,this.labelHandleImage.height),this.labelHandleImage.src);$a$$.preserveImageAspect=!1;return $a$$}$a$$=mxConstants.LABEL_HANDLE_SIZE;return new mxRectangleShape(new mxRectangle(0,0,$a$$,$a$$),mxConstants.LABEL_HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)};
mxEdgeHandler.prototype.initBend=function($a$$,$b$$){this.preferHtml?($a$$.dialect=mxConstants.DIALECT_STRICTHTML,$a$$.init(this.graph.container)):($a$$.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,$a$$.init(this.graph.getView().getOverlayPane()));mxEvent.redirectMouseEvents($a$$.node,this.graph,this.state,null,null,null,$b$$);mxClient.IS_TOUCH&&$a$$.node.setAttribute("pointer-events","none")};
mxEdgeHandler.prototype.getHandleForEvent=function($a$$){var $b$$=null;if(null!=this.state){var $c$$=function($g$$){if(null!=$g$$&&($a$$.isSource($g$$)||$g$$.intersectsRectangle($e$$))){var $k$$=$a$$.getGraphX()-$g$$.bounds.getCenterX();$g$$=$a$$.getGraphY()-$g$$.bounds.getCenterY();$k$$=$k$$*$k$$+$g$$*$g$$;if(null==$f$$||$k$$<=$f$$)return $f$$=$k$$,!0}return!1},$d$$=mxEvent.isMouseEvent($a$$.getEvent())?0:2*this.tolerance,$e$$=this.allowHandleBoundsCheck?new mxRectangle($a$$.getGraphX()-$d$$,$a$$.getGraphY()-
$d$$,$d$$,$d$$):null,$f$$=null;if(null!=this.customHandles&&this.isCustomHandleEvent($a$$))for($d$$=this.customHandles.length-1;0<=$d$$;$d$$--)if($c$$(this.customHandles[$d$$].shape))return mxEvent.CUSTOM_HANDLE-$d$$;null!=this.state.text&&($a$$.isSource(this.state.text)||$c$$(this.labelShape))&&($b$$=mxEvent.LABEL_HANDLE);if(null!=this.bends)for($d$$=0;$d$$<this.bends.length;$d$$++)$c$$(this.bends[$d$$])&&($b$$=$d$$);if(null!=this.virtualBends&&this.isAddVirtualBendEvent($a$$))for($d$$=0;$d$$<this.virtualBends.length;$d$$++)$c$$(this.virtualBends[$d$$])&&
($b$$=mxEvent.VIRTUAL_HANDLE-$d$$)}return $b$$};mxEdgeHandler.prototype.isAddVirtualBendEvent=function($a$$){return!0};mxEdgeHandler.prototype.isCustomHandleEvent=function($a$$){return!0};
mxEdgeHandler.prototype.mouseDown=function($a$$,$b$$){if(this.graph.isCellEditable(this.state.cell)){$a$$=this.getHandleForEvent($b$$);if(null!=this.bends&&null!=this.bends[$a$$]){var $c$$=this.bends[$a$$].bounds;this.snapPoint=new mxPoint($c$$.getCenterX(),$c$$.getCenterY())}if(this.addEnabled&&null==$a$$&&this.isAddPointEvent($b$$.getEvent()))this.addPoint(this.state,$b$$.getEvent()),$b$$.consume();else if(null!=$a$$&&!$b$$.isConsumed()&&this.graph.isEnabled()){if(this.removeEnabled&&this.isRemovePointEvent($b$$.getEvent()))this.removePoint(this.state,
$a$$);else if($a$$!=mxEvent.LABEL_HANDLE||this.graph.isLabelMovable($b$$.getCell()))$a$$<=mxEvent.VIRTUAL_HANDLE&&mxUtils.setOpacity(this.virtualBends[mxEvent.VIRTUAL_HANDLE-$a$$].node,100),this.mouseDownX=$b$$.getX(),this.mouseDownY=$b$$.getY(),this.handle=$a$$;mxEvent.isControlDown($b$$.getEvent())||mxEvent.isShiftDown($b$$.getEvent())||$b$$.consume()}}};
mxEdgeHandler.prototype.start=function($a$$,$b$$,$c$$){this.startX=$a$$;this.startY=$b$$;this.isSource=null==this.bends?!1:0==$c$$;this.isTarget=null==this.bends?!1:$c$$==this.bends.length-1;this.isLabel=$c$$==mxEvent.LABEL_HANDLE;if(this.isSource||this.isTarget){if($a$$=this.state.cell,$b$$=this.graph.model.getTerminal($a$$,this.isSource),null==$b$$&&this.graph.isTerminalPointMovable($a$$,this.isSource)||null!=$b$$&&this.graph.isCellDisconnectable($a$$,$b$$,this.isSource))this.index=$c$$}else this.index=
$c$$;if(this.index<=mxEvent.CUSTOM_HANDLE&&this.index>mxEvent.VIRTUAL_HANDLE&&null!=this.customHandles)for($c$$=0;$c$$<this.customHandles.length;$c$$++)$c$$!=mxEvent.CUSTOM_HANDLE-this.index&&this.customHandles[$c$$].setVisible(!1)};mxEdgeHandler.prototype.clonePreviewState=function($a$$,$b$$){return this.state.clone()};mxEdgeHandler.prototype.getSnapToTerminalTolerance=function(){return 2};mxEdgeHandler.prototype.updateHint=function($a$$,$b$$){};mxEdgeHandler.prototype.removeHint=function(){};
mxEdgeHandler.prototype.roundLength=function($a$$){return Math.round($a$$)};mxEdgeHandler.prototype.isSnapToTerminalsEvent=function($a$$){return this.snapToTerminals&&!mxEvent.isAltDown($a$$.getEvent())};
mxEdgeHandler.prototype.getPointForEvent=function($a$$){var $b$$=this.graph.getView(),$c$$=$b$$.scale,$d$$=new mxPoint(this.roundLength($a$$.getGraphX()/$c$$)*$c$$,this.roundLength($a$$.getGraphY()/$c$$)*$c$$),$e$$=this.getSnapToTerminalTolerance(),$f$$=!1,$g$$=!1;if(0<$e$$&&this.isSnapToTerminalsEvent($a$$)){var $k$$=function($n$$){null!=$n$$&&$l$$.call(this,new mxPoint($b$$.getRoutingCenterX($n$$),$b$$.getRoutingCenterY($n$$)))},$l$$=function($n$$){if(null!=$n$$){var $p$$=$n$$.x;Math.abs($d$$.x-
$p$$)<$e$$&&($d$$.x=$p$$,$f$$=!0);$n$$=$n$$.y;Math.abs($d$$.y-$n$$)<$e$$&&($d$$.y=$n$$,$g$$=!0)}};$k$$.call(this,this.state.getVisibleTerminalState(!0));$k$$.call(this,this.state.getVisibleTerminalState(!1));$k$$=this.state.absolutePoints;if(null!=$k$$)for(var $m$$=0;$m$$<$k$$.length;$m$$++)(0<$m$$||!this.state.isFloatingTerminalPoint(!0))&&($m$$<$k$$.length-1||!this.state.isFloatingTerminalPoint(!1))&&$l$$.call(this,this.state.absolutePoints[$m$$])}this.graph.isGridEnabledEvent($a$$.getEvent())&&
($a$$=$b$$.translate,$f$$||($d$$.x=(this.graph.snap($d$$.x/$c$$-$a$$.x)+$a$$.x)*$c$$),$g$$||($d$$.y=(this.graph.snap($d$$.y/$c$$-$a$$.y)+$a$$.y)*$c$$));return $d$$};
mxEdgeHandler.prototype.getPreviewTerminalState=function($a$$){var $b$$=this.getConstraintHandler();$b$$.update($a$$,this.isSource,!0,$a$$.isSource(this.marker.highlight.shape)?null:this.currentPoint);if(null!=$b$$.currentFocus&&null!=$b$$.currentConstraint)return null!=this.marker.highlight&&null!=this.marker.highlight.state&&this.marker.highlight.state.cell==$b$$.currentFocus.cell?"transparent"!=this.marker.highlight.shape.stroke&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint()):
this.marker.markCell($b$$.currentFocus.cell,"transparent"),$a$$=this.graph.getModel(),$a$$=this.graph.view.getTerminalPort(this.state,this.graph.view.getState($a$$.getTerminal(this.state.cell,!this.isSource)),!this.isSource),$a$$=null!=$a$$?$a$$.cell:null,this.error=this.validateConnection(this.isSource?$b$$.currentFocus.cell:$a$$,this.isSource?$a$$:$b$$.currentFocus.cell),$a$$=null,null==this.error&&($a$$=$b$$.currentFocus),(null!=this.error||null!=$a$$&&!this.isCellEnabled($a$$.cell))&&$b$$.reset(),
$a$$;if(this.graph.isIgnoreTerminalEvent($a$$.getEvent()))return this.marker.reset(),null;this.marker.process($a$$);$a$$=this.marker.getValidState();null==$a$$||this.isCellEnabled($a$$.cell)||($b$$.reset(),this.marker.reset());return this.marker.getValidState()};
mxEdgeHandler.prototype.getPreviewPoints=function($a$$,$b$$){var $c$$=this.graph.getCellGeometry(this.state.cell);$c$$=null!=$c$$.points?$c$$.points.slice():null;var $d$$=new mxPoint($a$$.x,$a$$.y),$e$$=null;if(this.isSource||this.isTarget)this.graph.resetEdgesOnConnect&&($c$$=null);else if(this.convertPoint($d$$,!1),null==$c$$)$c$$=[$d$$];else{this.index<=mxEvent.VIRTUAL_HANDLE&&$c$$.splice(mxEvent.VIRTUAL_HANDLE-this.index,0,$d$$);if(!this.isSource&&!this.isTarget){for(var $f$$=0;$f$$<this.bends.length;$f$$++)if($f$$!=
this.index){var $g$$=this.bends[$f$$];null!=$g$$&&mxUtils.contains($g$$.bounds,$a$$.x,$a$$.y)&&(this.index<=mxEvent.VIRTUAL_HANDLE?$c$$.splice(mxEvent.VIRTUAL_HANDLE-this.index,1):$c$$.splice(this.index-1,1),$e$$=$c$$)}if(null==$e$$&&this.straightRemoveEnabled&&(null==$b$$||!mxEvent.isAltDown($b$$.getEvent()))){$b$$=this.graph.tolerance*this.graph.tolerance;$f$$=this.state.absolutePoints.slice();$f$$[this.index]=$a$$;var $k$$=this.state.getVisibleTerminalState(!0);null!=$k$$&&($g$$=this.graph.getConnectionConstraint(this.state,
$k$$,!0),null==$g$$||null==this.graph.getConnectionPoint($k$$,$g$$))&&($f$$[0]=new mxPoint($k$$.view.getRoutingCenterX($k$$),$k$$.view.getRoutingCenterY($k$$)));$k$$=this.state.getVisibleTerminalState(!1);null!=$k$$&&($g$$=this.graph.getConnectionConstraint(this.state,$k$$,!1),null==$g$$||null==this.graph.getConnectionPoint($k$$,$g$$))&&($f$$[$f$$.length-1]=new mxPoint($k$$.view.getRoutingCenterX($k$$),$k$$.view.getRoutingCenterY($k$$)));$g$$=this.index;0<$g$$&&$g$$<$f$$.length-1&&mxUtils.ptSegDistSq($f$$[$g$$-
1].x,$f$$[$g$$-1].y,$f$$[$g$$+1].x,$f$$[$g$$+1].y,$a$$.x,$a$$.y)<$b$$&&($c$$.splice($g$$-1,1),$e$$=$c$$)}}null==$e$$&&this.index>mxEvent.VIRTUAL_HANDLE&&($c$$[this.index-1]=$d$$)}return null!=$e$$?$e$$:$c$$};
mxEdgeHandler.prototype.isOutlineConnectEvent=function($a$$){if(mxEvent.isShiftDown($a$$.getEvent())&&mxEvent.isAltDown($a$$.getEvent()))return!1;var $b$$=mxUtils.getOffset(this.graph.container),$c$$=$a$$.getEvent(),$d$$=mxEvent.getClientX($c$$);$c$$=mxEvent.getClientY($c$$);var $e$$=document.documentElement,$f$$=this.currentPoint.x-this.graph.container.scrollLeft+$b$$.x-((window.pageXOffset||$e$$.scrollLeft)-($e$$.clientLeft||0));$b$$=this.currentPoint.y-this.graph.container.scrollTop+$b$$.y-((window.pageYOffset||
$e$$.scrollTop)-($e$$.clientTop||0));return this.outlineConnect&&(mxEvent.isShiftDown($a$$.getEvent())&&!mxEvent.isAltDown($a$$.getEvent())||$a$$.isSource(this.marker.highlight.shape)||!mxEvent.isShiftDown($a$$.getEvent())&&mxEvent.isAltDown($a$$.getEvent())&&null!=$a$$.getState()||this.marker.highlight.isHighlightAt($d$$,$c$$)||($f$$!=$d$$||$b$$!=$c$$)&&null==$a$$.getState()&&this.marker.highlight.isHighlightAt($f$$,$b$$))};
mxEdgeHandler.prototype.updatePreviewState=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.isSource?$c$$:this.state.getVisibleTerminalState(!0),$g$$=this.isTarget?$c$$:this.state.getVisibleTerminalState(!1),$k$$=this.graph.getConnectionConstraint($a$$,$f$$,!0),$l$$=this.graph.getConnectionConstraint($a$$,$g$$,!1),$m$$=this.getConstraintHandler(),$n$$=$m$$.currentConstraint;null==$n$$&&$e$$&&(null!=$c$$?($d$$.isSource(this.marker.highlight.shape)&&($b$$=new mxPoint($d$$.getGraphX(),$d$$.getGraphY())),
$n$$=this.graph.getOutlineConstraint($b$$,$c$$,$d$$),$m$$.setFocus($d$$,$c$$,this.isSource),$m$$.currentConstraint=$n$$,$m$$.currentPoint=$b$$):$n$$=new mxConnectionConstraint);if(this.outlineConnect&&null!=this.marker.highlight&&null!=this.marker.highlight.shape){var $p$$=this.graph.view.scale;null!=$m$$.currentConstraint&&null!=$m$$.currentFocus?(this.marker.highlight.shape.stroke=$e$$?mxConstants.OUTLINE_HIGHLIGHT_COLOR:"transparent",this.marker.highlight.shape.strokewidth=mxConstants.OUTLINE_HIGHLIGHT_STROKEWIDTH/
$p$$/$p$$,this.marker.highlight.repaint()):this.marker.hasValidState()&&(this.marker.highlight.shape.stroke=this.graph.isCellConnectable($d$$.getCell())&&this.marker.getValidState()!=$d$$.getState()?"transparent":mxConstants.DEFAULT_VALID_COLOR,this.marker.highlight.shape.strokewidth=mxConstants.HIGHLIGHT_STROKEWIDTH/$p$$/$p$$,this.marker.highlight.repaint())}this.isSource?$k$$=$n$$:this.isTarget&&($l$$=$n$$);if(this.isSource||this.isTarget)null!=$n$$&&null!=$n$$.point?($a$$.style[this.isSource?mxConstants.STYLE_EXIT_X:
mxConstants.STYLE_ENTRY_X]=$n$$.point.x,$a$$.style[this.isSource?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y]=$n$$.point.y):(delete $a$$.style[this.isSource?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X],delete $a$$.style[this.isSource?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y]);$a$$.setVisibleTerminalState($f$$,!0);$a$$.setVisibleTerminalState($g$$,!1);this.isSource&&null==$f$$||$a$$.view.updateFixedTerminalPoint($a$$,$f$$,!0,$k$$);this.isTarget&&null==$g$$||$a$$.view.updateFixedTerminalPoint($a$$,
$g$$,!1,$l$$);(this.isSource||this.isTarget)&&null==$c$$&&($a$$.setAbsoluteTerminalPoint($b$$,this.isSource),null==this.marker.getMarkedState()&&(this.error=this.graph.allowDanglingEdges?null:""));$a$$.view.updatePoints($a$$,this.points,$f$$,$g$$);$a$$.view.updateFloatingTerminalPoints($a$$,$f$$,$g$$)};
mxEdgeHandler.prototype.mouseMove=function($a$$,$b$$){if(null!=this.index&&null!=this.marker){var $c$$=this.getConstraintHandler();this.currentPoint=this.getPointForEvent($b$$);this.error=null;null!=this.snapPoint&&mxEvent.isShiftDown($b$$.getEvent())&&!this.graph.isIgnoreTerminalEvent($b$$.getEvent())&&null==$c$$.currentFocus&&$c$$.currentFocus!=this.state&&(Math.abs(this.snapPoint.x-this.currentPoint.x)<Math.abs(this.snapPoint.y-this.currentPoint.y)?this.currentPoint.x=this.snapPoint.x:this.currentPoint.y=
this.snapPoint.y);if(this.index<=mxEvent.CUSTOM_HANDLE&&this.index>mxEvent.VIRTUAL_HANDLE)null!=this.customHandles&&(this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].processEvent($b$$),this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].positionChanged(),null!=this.shape&&null!=this.shape.node&&(this.shape.node.style.display="none"));else if(this.isLabel)this.label.x=this.currentPoint.x,this.label.y=this.currentPoint.y;else{this.points=this.getPreviewPoints(this.currentPoint,$b$$);$a$$=this.isSource||
this.isTarget?this.getPreviewTerminalState($b$$):null;if(null!=$c$$.currentConstraint&&null!=$c$$.currentFocus&&null!=$c$$.currentPoint)this.currentPoint=$c$$.currentPoint.clone();else if(this.outlineConnect){var $d$$=this.isSource||this.isTarget?this.isOutlineConnectEvent($b$$):!1;$d$$?$a$$=this.marker.highlight.state:null!=$a$$&&$a$$!=$b$$.getState()&&this.graph.isCellConnectable($b$$.getCell())&&null!=this.marker.highlight.shape&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint(),
$a$$=null)}null==$a$$||this.isCellEnabled($a$$.cell)||($a$$=null,this.marker.reset());$c$$=this.clonePreviewState(this.currentPoint,null!=$a$$?$a$$.cell:null);this.updatePreviewState($c$$,this.currentPoint,$a$$,$b$$,$d$$);this.setPreviewColor(null==this.error?this.marker.validColor:this.marker.invalidColor);this.abspoints=$c$$.absolutePoints;this.active=!0;this.updateHint($b$$,this.currentPoint,$c$$)}this.drawPreview();mxEvent.consume($b$$.getEvent());$b$$.consume()}else mxEvent.isControlDown($b$$.getEvent())||
mxEvent.isShiftDown($b$$.getEvent())||null==this.mouseDownX||null==this.mouseDownY||null==this.handle||($d$$=this.graph.tolerance,(Math.abs(this.mouseDownX-$b$$.getX())>$d$$||Math.abs(this.mouseDownY-$b$$.getY())>$d$$)&&this.start(this.mouseDownX,this.mouseDownY,this.handle))};
mxEdgeHandler.prototype.mouseUp=function($a$$,$b$$){if(null!=this.index&&null!=this.marker){null!=this.shape&&null!=this.shape.node&&(this.shape.node.style.display="");$a$$=this.state.cell;var $c$$=this.index;this.index=null;if($b$$.getX()!=this.startX||$b$$.getY()!=this.startY){var $d$$=!this.graph.isIgnoreTerminalEvent($b$$.getEvent())&&this.graph.isCloneEvent($b$$.getEvent())&&this.cloneEnabled&&this.graph.isCellsCloneable();if(null!=this.error)0<this.error.length&&this.graph.validationAlert(this.error);
else if($c$$<=mxEvent.CUSTOM_HANDLE&&$c$$>mxEvent.VIRTUAL_HANDLE){if(null!=this.customHandles){var $e$$=this.graph.getModel();$e$$.beginUpdate();try{this.customHandles[mxEvent.CUSTOM_HANDLE-$c$$].execute($b$$),null!=this.shape&&null!=this.shape.node&&(this.shape.apply(this.state),this.shape.redraw())}finally{$e$$.endUpdate()}}}else if(this.isLabel)this.moveLabel(this.state,this.label.x,this.label.y);else if(this.isSource||this.isTarget)if($c$$=null,null!=this.constraintHandler&&null!=this.constraintHandler.currentConstraint&&
null!=this.constraintHandler.currentFocus&&($c$$=this.constraintHandler.currentFocus.cell),null==$c$$&&this.marker.hasValidState()&&null!=this.marker.highlight&&null!=this.marker.highlight.shape&&"transparent"!=this.marker.highlight.shape.stroke&&"white"!=this.marker.highlight.shape.stroke&&($c$$=this.marker.validState.cell),null!=$c$$){$e$$=this.graph.getModel();var $f$$=$e$$.getParent($a$$);$e$$.beginUpdate();try{if($d$$){var $g$$=$e$$.getGeometry($a$$);$d$$=this.graph.cloneCell($a$$);$e$$.add($f$$,
$d$$,$e$$.getChildCount($f$$));null!=$g$$&&($g$$=$g$$.clone(),$e$$.setGeometry($d$$,$g$$));var $k$$=$e$$.getTerminal($a$$,!this.isSource);this.graph.connectCell($d$$,$k$$,!this.isSource);$a$$=$d$$}$a$$=this.connect($a$$,$c$$,this.isSource,$d$$,$b$$)}finally{$e$$.endUpdate()}}else this.graph.isAllowDanglingEdges()&&($g$$=this.abspoints[this.isSource?0:this.abspoints.length-1],$g$$.x=this.roundLength($g$$.x/this.graph.view.scale-this.graph.view.translate.x),$g$$.y=this.roundLength($g$$.y/this.graph.view.scale-
this.graph.view.translate.y),$k$$=this.graph.getView().getState(this.graph.getModel().getParent($a$$)),null!=$k$$&&($g$$.x-=$k$$.origin.x,$g$$.y-=$k$$.origin.y),$g$$.x-=this.graph.panDx/this.graph.view.scale,$g$$.y-=this.graph.panDy/this.graph.view.scale,$a$$=this.changeTerminalPoint($a$$,$g$$,this.isSource,$d$$));else this.active?$a$$=this.changePoints($a$$,this.points,$d$$):(this.graph.getView().invalidate(this.state.cell),this.graph.getView().validate(this.state.cell))}else this.graph.isToggleEvent($b$$.getEvent())&&
this.graph.selectCellForEvent(this.state.cell,$b$$.getEvent());null!=this.marker&&(this.reset(),$a$$!=this.state.cell&&this.graph.setSelectionCell($a$$));$b$$.consume()}else null==this.handle||null==this.bends||mxEvent.isAltDown($b$$.getEvent())||0!=this.handle&&this.handle!=this.bends.length-1||($c$$=this.state.getVisibleTerminal(0==this.handle),null!=$c$$&&(this.graph.selectCellForEvent($c$$,$b$$.getEvent()),$b$$.consume()));this.mouseDownY=this.mouseDownX=this.handle=null};
mxEdgeHandler.prototype.reset=function(){this.active&&this.refresh();this.snapPoint=this.mouseDownY=this.mouseDownX=this.startY=this.startX=this.handle=this.points=this.label=this.index=this.error=null;this.active=this.isTarget=this.isSource=this.isLabel=!1;if(this.livePreview&&null!=this.sizers)for(var $a$$=0;$a$$<this.sizers.length;$a$$++)null!=this.sizers[$a$$]&&(this.sizers[$a$$].node.style.display="");null!=this.marker&&this.marker.reset();null!=this.constraintHandler&&this.constraintHandler.reset();
if(null!=this.customHandles)for($a$$=0;$a$$<this.customHandles.length;$a$$++)this.customHandles[$a$$].reset();this.setPreviewColor(mxConstants.EDGE_SELECTION_COLOR);this.removeHint();this.redraw()};mxEdgeHandler.prototype.setPreviewColor=function($a$$){null!=this.shape&&(this.shape.stroke=$a$$)};
mxEdgeHandler.prototype.convertPoint=function($a$$,$b$$){var $c$$=this.graph.getView().getScale(),$d$$=this.graph.getView().getTranslate();$b$$&&($a$$.x=this.graph.snap($a$$.x),$a$$.y=this.graph.snap($a$$.y));$a$$.x=Math.round($a$$.x/$c$$-$d$$.x);$a$$.y=Math.round($a$$.y/$c$$-$d$$.y);$b$$=this.graph.getView().getState(this.graph.getModel().getParent(this.state.cell));null!=$b$$&&($a$$.x-=$b$$.origin.x,$a$$.y-=$b$$.origin.y);return $a$$};
mxEdgeHandler.prototype.moveLabel=function($a$$,$b$$,$c$$){var $d$$=this.graph.getModel(),$e$$=$d$$.getGeometry($a$$.cell);if(null!=$e$$){var $f$$=this.graph.getView().scale;$e$$=$e$$.clone();if($e$$.relative){var $g$$=this.graph.getView().getRelativePoint($a$$,$b$$,$c$$);$e$$.x=Math.round(1E4*$g$$.x)/1E4;$e$$.y=Math.round($g$$.y);$e$$.offset=new mxPoint(0,0);$g$$=this.graph.view.getPoint($a$$,$e$$);$e$$.offset=new mxPoint(Math.round(($b$$-$g$$.x)/$f$$),Math.round(($c$$-$g$$.y)/$f$$))}else{var $k$$=
$a$$.absolutePoints;$g$$=$k$$[0];$k$$=$k$$[$k$$.length-1];null!=$g$$&&null!=$k$$&&($e$$.offset=new mxPoint(Math.round(($b$$-($g$$.x+($k$$.x-$g$$.x)/2))/$f$$),Math.round(($c$$-($g$$.y+($k$$.y-$g$$.y)/2))/$f$$)),$e$$.x=0,$e$$.y=0)}$d$$.setGeometry($a$$.cell,$e$$)}};
mxEdgeHandler.prototype.connect=function($a$$,$b$$,$c$$,$d$$,$e$$){$d$$=this.graph.getModel();$d$$.beginUpdate();try{var $f$$=null!=this.constraintHandler?this.constraintHandler.currentConstraint:null;null==$f$$&&($f$$=new mxConnectionConstraint);this.graph.connectCell($a$$,$b$$,$c$$,$f$$)}finally{$d$$.endUpdate()}return $a$$};
mxEdgeHandler.prototype.changeTerminalPoint=function($a$$,$b$$,$c$$,$d$$){var $e$$=this.graph.getModel();$e$$.beginUpdate();try{if($d$$){var $f$$=$e$$.getParent($a$$),$g$$=$e$$.getTerminal($a$$,!$c$$);$a$$=this.graph.cloneCell($a$$);$e$$.add($f$$,$a$$,$e$$.getChildCount($f$$));$e$$.setTerminal($a$$,$g$$,!$c$$)}var $k$$=$e$$.getGeometry($a$$);null!=$k$$&&($k$$=$k$$.clone(),$k$$.setTerminalPoint($b$$,$c$$),$e$$.setGeometry($a$$,$k$$),this.graph.connectCell($a$$,null,$c$$,new mxConnectionConstraint))}finally{$e$$.endUpdate()}return $a$$};
mxEdgeHandler.prototype.changePoints=function($a$$,$b$$,$c$$){var $d$$=this.graph.getModel();$d$$.beginUpdate();try{if($c$$){var $e$$=$d$$.getParent($a$$),$f$$=$d$$.getTerminal($a$$,!0),$g$$=$d$$.getTerminal($a$$,!1);$a$$=this.graph.cloneCell($a$$);$d$$.add($e$$,$a$$,$d$$.getChildCount($e$$));$d$$.setTerminal($a$$,$f$$,!0);$d$$.setTerminal($a$$,$g$$,!1)}var $k$$=$d$$.getGeometry($a$$);null!=$k$$&&($k$$=$k$$.clone(),$k$$.points=$b$$,$d$$.setGeometry($a$$,$k$$))}finally{$d$$.endUpdate()}return $a$$};
mxEdgeHandler.prototype.addPoint=function($a$$,$b$$){var $c$$=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX($b$$),mxEvent.getClientY($b$$)),$d$$=this.graph.isGridEnabledEvent($b$$);this.convertPoint($c$$,$d$$);this.addPointAt($a$$,$c$$.x,$c$$.y);mxEvent.consume($b$$)};
mxEdgeHandler.prototype.addPointAt=function($a$$,$b$$,$c$$){var $d$$=this.graph.getCellGeometry($a$$.cell);$b$$=new mxPoint($b$$,$c$$);if(null!=$d$$){$d$$=$d$$.clone();var $e$$=this.graph.view.translate;$c$$=this.graph.view.scale;$e$$=new mxPoint($e$$.x*$c$$,$e$$.y*$c$$);var $f$$=this.graph.model.getParent(this.state.cell);this.graph.model.isVertex($f$$)&&($e$$=this.graph.view.getState($f$$),$e$$=new mxPoint($e$$.x,$e$$.y));$c$$=mxUtils.findNearestSegment($a$$,$b$$.x*$c$$+$e$$.x,$b$$.y*$c$$+$e$$.y);
null==$d$$.points?$d$$.points=[$b$$]:$d$$.points.splice($c$$,0,$b$$);this.graph.getModel().setGeometry($a$$.cell,$d$$);this.refresh();this.redraw()}};mxEdgeHandler.prototype.removePoint=function($a$$,$b$$){if(0<$b$$&&$b$$<this.abspoints.length-1){var $c$$=this.graph.getCellGeometry(this.state.cell);null!=$c$$&&null!=$c$$.points&&($c$$=$c$$.clone(),$c$$.points.splice($b$$-1,1),this.graph.getModel().setGeometry($a$$.cell,$c$$),this.refresh(),this.redraw())}};
mxEdgeHandler.prototype.getHandleFillColor=function($a$$){$a$$=0==$a$$;var $b$$=this.state.cell,$c$$=this.graph.getModel().getTerminal($b$$,$a$$),$d$$=mxConstants.HANDLE_FILLCOLOR;null!=$c$$&&!this.graph.isCellDisconnectable($b$$,$c$$,$a$$)||null==$c$$&&!this.graph.isTerminalPointMovable($b$$,$a$$)?$d$$=mxConstants.LOCKED_HANDLE_FILLCOLOR:null!=$c$$&&this.graph.isCellDisconnectable($b$$,$c$$,$a$$)&&($d$$=mxConstants.CONNECT_HANDLE_FILLCOLOR);return $d$$};
mxEdgeHandler.prototype.redraw=function($a$$){if(null!=this.state&&null!=this.state.absolutePoints){this.abspoints=this.state.absolutePoints.slice();var $b$$=this.graph.getModel().getGeometry(this.state.cell);if(null!=$b$$&&($b$$=$b$$.points,null!=this.bends&&0<this.bends.length&&null!=$b$$)){null==this.points&&(this.points=[]);for(var $c$$=1;$c$$<this.bends.length-1;$c$$++)null!=this.bends[$c$$]&&null!=this.abspoints[$c$$]&&(this.points[$c$$-1]=$b$$[$c$$-1])}this.drawPreview();$a$$||this.redrawHandles()}};
mxEdgeHandler.prototype.isTerminalHandleVisible=function($a$$){return!0};
mxEdgeHandler.prototype.redrawHandles=function(){var $a$$=this.state.cell;if(null!=this.labelShape){var $b$$=this.labelShape.bounds;this.label=new mxPoint(this.state.absoluteOffset.x,this.state.absoluteOffset.y);this.labelShape.bounds=new mxRectangle(Math.round(this.label.x-$b$$.width/2),Math.round(this.label.y-$b$$.height/2),$b$$.width,$b$$.height);$b$$=this.graph.getLabel($a$$);this.labelShape.visible=null!=$b$$&&0<$b$$.length&&this.graph.isCellEditable(this.state.cell)&&this.graph.isLabelMovable($a$$)&&
this.isHandlesVisible()}if(null!=this.bends&&0<this.bends.length){var $c$$=this.abspoints.length-1;$a$$=this.abspoints[0];var $d$$=$a$$.x,$e$$=$a$$.y;$b$$=this.bends[0].bounds;this.bends[0].bounds=new mxRectangle(Math.floor($d$$-$b$$.width/2),Math.floor($e$$-$b$$.height/2),$b$$.width,$b$$.height);this.bends[0].fill=this.getHandleFillColor(0);this.bends[0].redraw();this.manageLabelHandle&&this.checkLabelHandle(this.bends[0].bounds);this.bends[0].node.style.visibility=this.isHandlesVisible()&&this.isTerminalHandleVisible(!0)?
"":"hidden";$c$$=this.abspoints[$c$$];$d$$=$c$$.x;$e$$=$c$$.y;var $f$$=this.bends.length-1;$b$$=this.bends[$f$$].bounds;this.bends[$f$$].bounds=new mxRectangle(Math.floor($d$$-$b$$.width/2),Math.floor($e$$-$b$$.height/2),$b$$.width,$b$$.height);this.bends[$f$$].fill=this.getHandleFillColor($f$$);this.bends[$f$$].redraw();this.manageLabelHandle&&this.checkLabelHandle(this.bends[$f$$].bounds);this.bends[$f$$].node.style.visibility=this.isHandlesVisible()&&this.isTerminalHandleVisible(!1)?"":"hidden";
this.redrawInnerBends($a$$,$c$$)}if(null!=this.abspoints&&null!=this.virtualBends&&0<this.virtualBends.length)for($c$$=this.abspoints[0],$a$$=0;$a$$<this.virtualBends.length;$a$$++)null!=this.virtualBends[$a$$]&&null!=this.abspoints[$a$$+1]&&($d$$=this.abspoints[$a$$+1],$b$$=this.virtualBends[$a$$],$b$$.bounds=new mxRectangle(Math.floor($c$$.x+($d$$.x-$c$$.x)/2-$b$$.bounds.width/2),Math.floor($c$$.y+($d$$.y-$c$$.y)/2-$b$$.bounds.height/2),$b$$.bounds.width,$b$$.bounds.height),$b$$.redraw(),mxUtils.setOpacity($b$$.node,
this.virtualBendOpacity),$c$$=$d$$,this.manageLabelHandle&&this.checkLabelHandle($b$$.bounds),$b$$.node.style.visibility=this.isHandlesVisible()?"":"hidden");null!=this.labelShape&&this.labelShape.redraw();if(null!=this.customHandles)for($a$$=0;$a$$<this.customHandles.length;$a$$++)$b$$=this.customHandles[$a$$].shape.node.style.display,this.customHandles[$a$$].redraw(),this.customHandles[$a$$].shape.node.style.display=$b$$,this.customHandles[$a$$].shape.node.style.visibility=!this.graph.isEditing()&&
this.isHandlesVisible()&&this.isCustomHandleVisible(this.customHandles[$a$$])?"":"hidden"};mxEdgeHandler.prototype.isCustomHandleVisible=function($a$$){return 1==this.state.view.graph.getSelectionCount()};
mxEdgeHandler.prototype.setHandlesVisible=function($a$$){if(null!=this.bends)for(var $b$$=0;$b$$<this.bends.length;$b$$++)null!=this.bends[$b$$]&&(this.bends[$b$$].node.style.display=$a$$?"":"none");if(null!=this.virtualBends)for($b$$=0;$b$$<this.virtualBends.length;$b$$++)null!=this.virtualBends[$b$$]&&(this.virtualBends[$b$$].node.style.display=$a$$?"":"none");null!=this.labelShape&&(this.labelShape.node.style.display=$a$$?"":"none");if(null!=this.customHandles)for($b$$=0;$b$$<this.customHandles.length;$b$$++)this.customHandles[$b$$].setVisible($a$$)};
mxEdgeHandler.prototype.redrawInnerBends=function($a$$,$b$$){for($a$$=1;$a$$<this.bends.length-1;$a$$++)if(null!=this.bends[$a$$])if(null!=this.abspoints[$a$$]){$b$$=this.abspoints[$a$$].x;var $c$$=this.abspoints[$a$$].y,$d$$=this.bends[$a$$].bounds;this.bends[$a$$].bounds=new mxRectangle(Math.round($b$$-$d$$.width/2),Math.round($c$$-$d$$.height/2),$d$$.width,$d$$.height);this.manageLabelHandle?this.checkLabelHandle(this.bends[$a$$].bounds):null==this.handleImage&&this.labelShape.visible&&mxUtils.intersects(this.bends[$a$$].bounds,
this.labelShape.bounds)&&(w=mxConstants.HANDLE_SIZE+3,h=mxConstants.HANDLE_SIZE+3,this.bends[$a$$].bounds=new mxRectangle(Math.round($b$$-w/2),Math.round($c$$-h/2),w,h));this.bends[$a$$].redraw();this.bends[$a$$].node.style.visibility=this.isHandlesVisible()?"":"hidden"}else this.bends[$a$$].destroy(),this.bends[$a$$]=null};
mxEdgeHandler.prototype.checkLabelHandle=function($a$$){if(null!=this.labelShape){var $b$$=this.labelShape.bounds;mxUtils.intersects($a$$,$b$$)&&($a$$.getCenterY()<$b$$.getCenterY()?$b$$.y=$a$$.y+$a$$.height:$b$$.y=$a$$.y-$b$$.height)}};
mxEdgeHandler.prototype.drawPreview=function(){try{if(this.isLabel){var $a$$=this.labelShape.bounds,$b$$=new mxRectangle(Math.round(this.label.x-$a$$.width/2),Math.round(this.label.y-$a$$.height/2),$a$$.width,$a$$.height);this.labelShape.bounds.equals($b$$)||(this.labelShape.bounds=$b$$,this.labelShape.redraw())}null==this.shape||mxUtils.equalPoints(this.shape.points,this.abspoints)||(this.shape.apply(this.state),this.shape.points=this.abspoints.slice(),this.shape.scale=this.state.view.scale,this.shape.isDashed=
this.isSelectionDashed(),this.shape.stroke=this.getSelectionColor(),this.shape.strokewidth=this.getSelectionStrokeWidth()/this.shape.scale/this.shape.scale,this.shape.isShadow=!1,this.shape.redraw());this.updateParentHighlight()}catch($c$$){}};mxEdgeHandler.prototype.isHandlesVisible=function(){return!this.graph.isCellLocked(this.state.cell)&&(0>=mxGraphHandler.prototype.maxCells||this.graph.getSelectionCount()<=mxGraphHandler.prototype.maxCells)};
mxEdgeHandler.prototype.refresh=function(){null!=this.state&&(this.abspoints=this.getSelectionPoints(this.state),this.points=[],null!=this.shape&&(this.shape.isDashed=this.isSelectionDashed(),this.shape.stroke=this.getSelectionColor(),this.shape.isShadow=!1,this.shape.redraw()),null!=this.bends&&(this.destroyBends(this.bends),this.bends=null),this.isHandlesVisible()&&(this.bends=this.createBends()),null!=this.virtualBends&&(this.destroyBends(this.virtualBends),this.virtualBends=null),this.isHandlesVisible()&&
(this.virtualBends=this.createVirtualBends()),null!=this.customHandles&&(this.destroyBends(this.customHandles),this.customHandles=null),this.isHandlesVisible()&&(this.customHandles=this.createCustomHandles()),null!=this.labelShape&&(this.labelShape.destroy(),this.labelShape=null),this.isHandlesVisible()&&(this.labelShape=this.createLabelShape(),null!=this.labelShape&&null!=this.labelShape.node&&null!=this.labelShape.node.parentNode&&this.labelShape.node.parentNode.appendChild(this.labelShape.node)))};
mxEdgeHandler.prototype.isDestroyed=function(){return null==this.shape};mxEdgeHandler.prototype.destroyBends=function($a$$){if(null!=$a$$)for(var $b$$=0;$b$$<$a$$.length;$b$$++)null!=$a$$[$b$$]&&$a$$[$b$$].destroy()};
mxEdgeHandler.prototype.destroy=function(){null!=this.escapeHandler&&(this.state.view.graph.removeListener(this.escapeHandler),this.escapeHandler=null);null!=this.marker&&(this.marker.destroy(),this.marker=null);null!=this.shape&&(this.shape.destroy(),this.shape=null);null!=this.labelShape&&(this.labelShape.destroy(),this.labelShape=null);null!=this.constraintHandler&&(this.constraintHandler.destroy(),this.constraintHandler=null);null!=this.parentHighlight&&this.destroyParentHighlight();this.destroyBends(this.virtualBends);
this.virtualBends=null;this.destroyBends(this.customHandles);this.customHandles=null;this.destroyBends(this.bends);this.bends=null;this.removeHint()};function mxElbowEdgeHandler($a$$){mxEdgeHandler.call(this,$a$$)}mxUtils.extend(mxElbowEdgeHandler,mxEdgeHandler);mxElbowEdgeHandler.prototype.flipEnabled=!0;mxElbowEdgeHandler.prototype.doubleClickOrientationResource="none"!=mxClient.language?"doubleClickOrientation":"";
mxElbowEdgeHandler.prototype.createBends=function(){var $a$$=[],$b$$=this.createHandleShape(0);this.initBend($b$$);$b$$.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE);$a$$.push($b$$);$a$$.push(this.createVirtualBend(mxUtils.bind(this,function($c$$){!mxEvent.isConsumed($c$$)&&this.flipEnabled&&(this.graph.flipEdge(this.state.cell,$c$$),mxEvent.consume($c$$))})));this.points.push(new mxPoint(0,0));$b$$=this.createHandleShape(2,null,!0);this.initBend($b$$);$b$$.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE);
$a$$.push($b$$);return $a$$};mxElbowEdgeHandler.prototype.createVirtualBends=function(){return null};mxElbowEdgeHandler.prototype.createVirtualBend=function($a$$){var $b$$=this.createHandleShape();this.initBend($b$$,$a$$);$b$$.setCursor(this.getCursorForBend());this.graph.isCellBendable(this.state.cell)||($b$$.node.style.display="none");return $b$$};
mxElbowEdgeHandler.prototype.getCursorForBend=function(){return this.state.style[mxConstants.STYLE_EDGE]==mxEdgeStyle.TopToBottom||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.EDGESTYLE_TOPTOBOTTOM||(this.state.style[mxConstants.STYLE_EDGE]==mxEdgeStyle.ElbowConnector||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.EDGESTYLE_ELBOW)&&this.state.style[mxConstants.STYLE_ELBOW]==mxConstants.ELBOW_VERTICAL?"row-resize":"col-resize"};
mxElbowEdgeHandler.prototype.getTooltipForNode=function($a$$){var $b$$=null;null==this.bends||null==this.bends[1]||$a$$!=this.bends[1].node&&$a$$.parentNode!=this.bends[1].node||($b$$=this.doubleClickOrientationResource,$b$$=mxResources.get($b$$)||$b$$);return $b$$};
mxElbowEdgeHandler.prototype.convertPoint=function($a$$,$b$$){var $c$$=this.graph.getView().getScale(),$d$$=this.graph.getView().getTranslate(),$e$$=this.state.origin;$b$$&&($a$$.x=this.graph.snap($a$$.x),$a$$.y=this.graph.snap($a$$.y));$a$$.x=Math.round($a$$.x/$c$$-$d$$.x-$e$$.x);$a$$.y=Math.round($a$$.y/$c$$-$d$$.y-$e$$.y);return $a$$};
mxElbowEdgeHandler.prototype.redrawInnerBends=function($a$$,$b$$){var $c$$=this.graph.getModel().getGeometry(this.state.cell),$d$$=this.state.absolutePoints,$e$$=null;1<$d$$.length?($a$$=$d$$[1],$b$$=$d$$[$d$$.length-2]):null!=$c$$.points&&0<$c$$.points.length&&($e$$=$d$$[0]);$e$$=null==$e$$?new mxPoint($a$$.x+($b$$.x-$a$$.x)/2,$a$$.y+($b$$.y-$a$$.y)/2):new mxPoint(this.graph.getView().scale*($e$$.x+this.graph.getView().translate.x+this.state.origin.x),this.graph.getView().scale*($e$$.y+this.graph.getView().translate.y+
this.state.origin.y));$b$$=this.bends[1].bounds;$a$$=$b$$.width;$b$$=$b$$.height;$a$$=new mxRectangle(Math.round($e$$.x-$a$$/2),Math.round($e$$.y-$b$$/2),$a$$,$b$$);this.manageLabelHandle?this.checkLabelHandle($a$$):null==this.handleImage&&this.labelShape.visible&&mxUtils.intersects($a$$,this.labelShape.bounds)&&($a$$=mxConstants.HANDLE_SIZE+3,$b$$=mxConstants.HANDLE_SIZE+3,$a$$=new mxRectangle(Math.floor($e$$.x-$a$$/2),Math.floor($e$$.y-$b$$/2),$a$$,$b$$));this.bends[1].bounds=$a$$;this.bends[1].redraw();
this.manageLabelHandle&&this.checkLabelHandle(this.bends[1].bounds)};function mxEdgeSegmentHandler($a$$){mxEdgeHandler.call(this,$a$$)}mxUtils.extend(mxEdgeSegmentHandler,mxElbowEdgeHandler);
mxEdgeSegmentHandler.prototype.getCurrentPoints=function(){var $a$$=this.state.absolutePoints;if(null!=$a$$){var $b$$=Math.max(1,this.graph.view.scale);if(2==$a$$.length||3==$a$$.length&&(Math.abs($a$$[0].x-$a$$[1].x)<$b$$&&Math.abs($a$$[1].x-$a$$[2].x)<$b$$||Math.abs($a$$[0].y-$a$$[1].y)<$b$$&&Math.abs($a$$[1].y-$a$$[2].y)<$b$$)){$b$$=$a$$[0].x+($a$$[$a$$.length-1].x-$a$$[0].x)/2;var $c$$=$a$$[0].y+($a$$[$a$$.length-1].y-$a$$[0].y)/2;$a$$=[$a$$[0],new mxPoint($b$$,$c$$),new mxPoint($b$$,$c$$),$a$$[$a$$.length-
1]]}}return $a$$};
mxEdgeSegmentHandler.prototype.getPreviewPoints=function($a$$){if(this.isSource||this.isTarget)return mxElbowEdgeHandler.prototype.getPreviewPoints.apply(this,arguments);var $b$$=this.getCurrentPoints(),$c$$=this.convertPoint($b$$[0].clone(),!1);$a$$=this.convertPoint($a$$.clone(),!1);for(var $d$$=[],$e$$=1;$e$$<$b$$.length;$e$$++){var $f$$=this.convertPoint($b$$[$e$$].clone(),!1);$e$$==this.index&&(0==Math.round($c$$.x-$f$$.x)&&($c$$.x=$a$$.x,$f$$.x=$a$$.x),0==Math.round($c$$.y-$f$$.y)&&($c$$.y=
$a$$.y,$f$$.y=$a$$.y));$e$$<$b$$.length-1&&$d$$.push($f$$);$c$$=$f$$}if(1==$d$$.length){$b$$=this.state.getVisibleTerminalState(!0);$c$$=this.state.getVisibleTerminalState(!1);$f$$=this.state.view.getScale();var $g$$=this.state.view.getTranslate();$e$$=$d$$[0].x*$f$$+$g$$.x;$f$$=$d$$[0].y*$f$$+$g$$.y;if(null!=$b$$&&mxUtils.contains($b$$,$e$$,$f$$)||null!=$c$$&&mxUtils.contains($c$$,$e$$,$f$$))$d$$=[$a$$,$a$$]}return $d$$};
mxEdgeSegmentHandler.prototype.updatePreviewState=function($a$$,$b$$,$c$$,$d$$){mxEdgeHandler.prototype.updatePreviewState.apply(this,arguments);if(!this.isSource&&!this.isTarget){$b$$=this.convertPoint($b$$.clone(),!1);for(var $e$$=$a$$.absolutePoints,$f$$=$e$$[0],$g$$=$e$$[1],$k$$=[],$l$$=2;$l$$<$e$$.length;$l$$++){var $m$$=$e$$[$l$$];0==Math.round($f$$.x-$g$$.x)&&0==Math.round($g$$.x-$m$$.x)||0==Math.round($f$$.y-$g$$.y)&&0==Math.round($g$$.y-$m$$.y)||$k$$.push(this.convertPoint($g$$.clone(),!1));
$f$$=$g$$;$g$$=$m$$}$f$$=this.state.getVisibleTerminalState(!0);$g$$=this.state.getVisibleTerminalState(!1);$l$$=this.state.absolutePoints;if(0==$k$$.length&&(0==Math.round($e$$[0].x-$e$$[$e$$.length-1].x)||0==Math.round($e$$[0].y-$e$$[$e$$.length-1].y)))$k$$=[$b$$,$b$$];else if(5==$e$$.length&&2==$k$$.length&&null!=$f$$&&null!=$g$$&&null!=$l$$&&0==Math.round($l$$[0].x-$l$$[$l$$.length-1].x)){$k$$=this.graph.getView();$l$$=$k$$.getScale();$m$$=$k$$.getTranslate();$e$$=$k$$.getRoutingCenterY($f$$)/
$l$$-$m$$.y;var $n$$=this.graph.getConnectionConstraint($a$$,$f$$,!0);null!=$n$$&&($n$$=this.graph.getConnectionPoint($f$$,$n$$),null!=$n$$&&(this.convertPoint($n$$,!1),$e$$=$n$$.y));$k$$=$k$$.getRoutingCenterY($g$$)/$l$$-$m$$.y;if($l$$=this.graph.getConnectionConstraint($a$$,$g$$,!1))$n$$=this.graph.getConnectionPoint($g$$,$l$$),null!=$n$$&&(this.convertPoint($n$$,!1),$k$$=$n$$.y);$k$$=[new mxPoint($b$$.x,$e$$),new mxPoint($b$$.x,$k$$)]}this.points=$k$$;$a$$.view.updateFixedTerminalPoints($a$$,$f$$,
$g$$);$a$$.view.updatePoints($a$$,this.points,$f$$,$g$$);$a$$.view.updateFloatingTerminalPoints($a$$,$f$$,$g$$)}};
mxEdgeSegmentHandler.prototype.connect=function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.graph.getModel(),$g$$=$f$$.getGeometry($a$$),$k$$=null;if(null!=$g$$&&null!=$g$$.points&&0<$g$$.points.length){var $l$$=this.abspoints,$m$$=$l$$[0],$n$$=$l$$[1];$k$$=[];for(var $p$$=2;$p$$<$l$$.length;$p$$++){var $q$$=$l$$[$p$$];0==Math.round($m$$.x-$n$$.x)&&0==Math.round($n$$.x-$q$$.x)||0==Math.round($m$$.y-$n$$.y)&&0==Math.round($n$$.y-$q$$.y)||$k$$.push(this.convertPoint($n$$.clone(),!1));$m$$=$n$$;$n$$=$q$$}}$f$$.beginUpdate();
try{null!=$k$$&&($g$$=$f$$.getGeometry($a$$),null!=$g$$&&($g$$=$g$$.clone(),$g$$.points=$k$$,$f$$.setGeometry($a$$,$g$$))),$a$$=mxEdgeHandler.prototype.connect.apply(this,arguments)}finally{$f$$.endUpdate()}return $a$$};mxEdgeSegmentHandler.prototype.getTooltipForNode=function($a$$){return null};
mxEdgeSegmentHandler.prototype.start=function($a$$,$b$$,$c$$){mxEdgeHandler.prototype.start.apply(this,arguments);null==this.bends||null==this.bends[$c$$]||this.isSource||this.isTarget||mxUtils.setOpacity(this.bends[$c$$].node,100)};
mxEdgeSegmentHandler.prototype.createBends=function(){var $a$$=[],$b$$=this.getCurrentPoints();if(null!=$b$$){var $c$$=this.createHandleShape(0);this.initBend($c$$);$c$$.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE);$a$$.push($c$$);if(this.graph.isCellBendable(this.state.cell)){null==this.points&&(this.points=[]);for(var $d$$=0;$d$$<$b$$.length-1;$d$$++){$c$$=this.createVirtualBend();$a$$.push($c$$);var $e$$=0==Math.round($b$$[$d$$].x-$b$$[$d$$+1].x);0==Math.round($b$$[$d$$].y-$b$$[$d$$+1].y)&&$d$$<
$b$$.length-2&&($e$$=0==Math.round($b$$[$d$$].x-$b$$[$d$$+2].x));$c$$.setCursor($e$$?"col-resize":"row-resize");this.points.push(new mxPoint(0,0))}}$c$$=this.createHandleShape($b$$.length,null,!0);this.initBend($c$$);$c$$.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE);$a$$.push($c$$)}return $a$$};mxEdgeSegmentHandler.prototype.createVirtualBends=function(){return null};
mxEdgeSegmentHandler.prototype.redrawInnerBends=function($a$$,$b$$){if(this.graph.isCellBendable(this.state.cell)){var $c$$=this.getCurrentPoints();if(null!=$c$$&&1<$c$$.length){var $d$$=!1;if(4==$c$$.length&&0==Math.round($c$$[1].x-$c$$[2].x)&&0==Math.round($c$$[1].y-$c$$[2].y))if($d$$=!0,0==Math.round($c$$[0].y-$c$$[$c$$.length-1].y)){var $e$$=$c$$[0].x+($c$$[$c$$.length-1].x-$c$$[0].x)/2;$c$$[1]=new mxPoint($e$$,$c$$[1].y);$c$$[2]=new mxPoint($e$$,$c$$[2].y)}else $e$$=$c$$[0].y+($c$$[$c$$.length-
1].y-$c$$[0].y)/2,$c$$[1]=new mxPoint($c$$[1].x,$e$$),$c$$[2]=new mxPoint($c$$[2].x,$e$$);for($e$$=0;$e$$<$c$$.length-1;$e$$++)null!=this.bends[$e$$+1]&&($a$$=$c$$[$e$$],$b$$=$c$$[$e$$+1],$a$$=new mxPoint($a$$.x+($b$$.x-$a$$.x)/2,$a$$.y+($b$$.y-$a$$.y)/2),$b$$=this.bends[$e$$+1].bounds,this.bends[$e$$+1].bounds=new mxRectangle(Math.floor($a$$.x-$b$$.width/2),Math.floor($a$$.y-$b$$.height/2),$b$$.width,$b$$.height),this.bends[$e$$+1].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[$e$$+
1].bounds));$d$$&&(mxUtils.setOpacity(this.bends[1].node,this.virtualBendOpacity),mxUtils.setOpacity(this.bends[3].node,this.virtualBendOpacity))}}};
function mxKeyHandler($a$$,$b$$){null!=$a$$&&(this.graph=$a$$,this.target=$b$$||document.documentElement,this.normalKeys=[],this.shiftKeys=[],this.controlKeys=[],this.controlShiftKeys=[],this.keydownHandler=mxUtils.bind(this,function($c$$){this.keyDown($c$$)}),mxEvent.addListener(this.target,"keydown",this.keydownHandler),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})))}mxKeyHandler.prototype.graph=null;mxKeyHandler.prototype.target=null;
mxKeyHandler.prototype.normalKeys=null;mxKeyHandler.prototype.shiftKeys=null;mxKeyHandler.prototype.controlKeys=null;mxKeyHandler.prototype.controlShiftKeys=null;mxKeyHandler.prototype.enabled=!0;mxKeyHandler.prototype.isEnabled=function(){return this.enabled};mxKeyHandler.prototype.setEnabled=function($a$$){this.enabled=$a$$};mxKeyHandler.prototype.bindKey=function($a$$,$b$$){this.normalKeys[$a$$]=$b$$};mxKeyHandler.prototype.bindShiftKey=function($a$$,$b$$){this.shiftKeys[$a$$]=$b$$};
mxKeyHandler.prototype.bindControlKey=function($a$$,$b$$){this.controlKeys[$a$$]=$b$$};mxKeyHandler.prototype.bindControlShiftKey=function($a$$,$b$$){this.controlShiftKeys[$a$$]=$b$$};mxKeyHandler.prototype.isControlDown=function($a$$){return mxEvent.isControlDown($a$$)};
mxKeyHandler.prototype.getFunction=function($a$$){return null==$a$$||mxEvent.isAltDown($a$$)?null:this.isControlDown($a$$)?mxEvent.isShiftDown($a$$)?this.controlShiftKeys[$a$$.keyCode]:this.controlKeys[$a$$.keyCode]:mxEvent.isShiftDown($a$$)?this.shiftKeys[$a$$.keyCode]:this.normalKeys[$a$$.keyCode]};
mxKeyHandler.prototype.isGraphEvent=function($a$$){var $b$$=mxEvent.getSource($a$$);return $b$$==this.target||$b$$.parentNode==this.target||null!=this.graph.cellEditor&&this.graph.cellEditor.isEventSource($a$$)?!0:mxUtils.isAncestorNode(this.graph.container,$b$$)};mxKeyHandler.prototype.keyDown=function($a$$){if(this.isEnabledForEvent($a$$))if(27==$a$$.keyCode)this.escape($a$$);else if(!this.isEventIgnored($a$$)){var $b$$=this.getFunction($a$$);null!=$b$$&&($b$$($a$$),mxEvent.consume($a$$))}};
mxKeyHandler.prototype.isEnabledForEvent=function($a$$){return this.graph.isEnabled()&&!mxEvent.isConsumed($a$$)&&this.isGraphEvent($a$$)&&this.isEnabled()};mxKeyHandler.prototype.isEventIgnored=function($a$$){return this.graph.isEditing()};mxKeyHandler.prototype.escape=function($a$$){this.graph.isEscapeEnabled()&&this.graph.escape($a$$)};
mxKeyHandler.prototype.destroy=function(){null!=this.target&&null!=this.keydownHandler&&(mxEvent.removeListener(this.target,"keydown",this.keydownHandler),this.keydownHandler=null);this.target=null};function mxTooltipHandler($a$$,$b$$){null!=$a$$&&(this.graph=$a$$,this.delay=$b$$||500,this.graph.addMouseListener(this))}mxTooltipHandler.prototype.zIndex=10005;mxTooltipHandler.prototype.graph=null;mxTooltipHandler.prototype.delay=null;mxTooltipHandler.prototype.ignoreTouchEvents=!0;
mxTooltipHandler.prototype.hideOnHover=!1;mxTooltipHandler.prototype.destroyed=!1;mxTooltipHandler.prototype.enabled=!0;mxTooltipHandler.prototype.isEnabled=function(){return this.enabled};mxTooltipHandler.prototype.setEnabled=function($a$$){this.enabled=$a$$};mxTooltipHandler.prototype.isHideOnHover=function(){return this.hideOnHover};mxTooltipHandler.prototype.setHideOnHover=function($a$$){this.hideOnHover=$a$$};
mxTooltipHandler.prototype.init=function(){null!=document.body&&(this.div=document.createElement("div"),this.div.className="mxTooltip",this.div.style.visibility="hidden",document.body.appendChild(this.div),mxEvent.addGestureListeners(this.div,mxUtils.bind(this,function($a$$){"A"!=mxEvent.getSource($a$$).nodeName&&this.hideTooltip()})))};mxTooltipHandler.prototype.getStateForEvent=function($a$$){return $a$$.getState()};mxTooltipHandler.prototype.mouseDown=function($a$$,$b$$){this.reset($b$$,!1);this.hideTooltip()};
mxTooltipHandler.prototype.mouseMove=function($a$$,$b$$){if($b$$.getX()!=this.lastX||$b$$.getY()!=this.lastY)this.reset($b$$,!0),$a$$=this.getStateForEvent($b$$),(this.isHideOnHover()||$a$$!=this.state||$b$$.getSource()!=this.node&&(!this.stateSource||null!=$a$$&&this.stateSource==($b$$.isSource($a$$.shape)||!$b$$.isSource($a$$.text))))&&this.hideTooltip();this.lastX=$b$$.getX();this.lastY=$b$$.getY()};mxTooltipHandler.prototype.mouseUp=function($a$$,$b$$){this.reset($b$$,!0);this.hideTooltip()};
mxTooltipHandler.prototype.resetTimer=function(){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null)};
mxTooltipHandler.prototype.reset=function($a$$,$b$$,$c$$){if(!this.ignoreTouchEvents||mxEvent.isMouseEvent($a$$.getEvent()))if(this.resetTimer(),$c$$=null!=$c$$?$c$$:this.getStateForEvent($a$$),$b$$&&this.isEnabled()&&null!=$c$$&&(null==this.div||"hidden"==this.div.style.visibility)){var $d$$=$a$$.getSource(),$e$$=$a$$.getX(),$f$$=$a$$.getY(),$g$$=$a$$.isSource($c$$.shape)||$a$$.isSource($c$$.text);this.thread=window.setTimeout(mxUtils.bind(this,function(){if(!this.graph.isEditing()&&!this.graph.popupMenuHandler.isMenuShowing()&&
!this.graph.isMouseDown){var $k$$=this.graph.getTooltip($c$$,$d$$,$e$$,$f$$);this.show($k$$,$e$$,$f$$);this.state=$c$$;this.node=$d$$;this.stateSource=$g$$}}),this.delay)}};mxTooltipHandler.prototype.hide=function(){this.resetTimer();this.hideTooltip()};mxTooltipHandler.prototype.hideTooltip=function(){null!=this.div&&(this.div.style.visibility="hidden",this.div.innerText="")};
mxTooltipHandler.prototype.show=function($a$$,$b$$,$c$$){if(!this.destroyed&&null!=$a$$&&0<$a$$.length){null==this.div&&this.init();var $d$$=mxUtils.getScrollOrigin();this.div.style.zIndex=this.zIndex;this.div.style.left=$b$$+$d$$.x+"px";this.div.style.top=$c$$+mxConstants.TOOLTIP_VERTICAL_OFFSET+$d$$.y+"px";mxUtils.isNode($a$$)?(this.div.style.whiteSpace="",this.div.innerText="",this.div.appendChild($a$$)):(this.div.style.whiteSpace="pre-line",this.div.innerHTML=$a$$);this.div.style.visibility="";
mxUtils.fit(this.div)}};mxTooltipHandler.prototype.destroy=function(){this.destroyed||(this.graph.removeMouseListener(this),mxEvent.release(this.div),null!=this.div&&null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.destroyed=!0,this.div=null)};
function mxCellTracker($a$$,$b$$,$c$$){mxCellMarker.call(this,$a$$,$b$$);this.graph.addMouseListener(this);null!=$c$$&&(this.getCell=$c$$);mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()}))}mxUtils.extend(mxCellTracker,mxCellMarker);mxCellTracker.prototype.mouseDown=function($a$$,$b$$){};mxCellTracker.prototype.mouseMove=function($a$$,$b$$){this.isEnabled()&&this.process($b$$)};mxCellTracker.prototype.mouseUp=function($a$$,$b$$){};
mxCellTracker.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.graph.removeMouseListener(this),mxCellMarker.prototype.destroy.apply(this))};
function mxCellHighlight($a$$,$b$$,$c$$,$d$$){null!=$a$$&&(this.graph=$a$$,this.highlightColor=null!=$b$$?$b$$:mxConstants.DEFAULT_VALID_COLOR,this.strokeWidth=null!=$c$$?$c$$:mxConstants.HIGHLIGHT_STROKEWIDTH,this.dashed=null!=$d$$?$d$$:!1,this.opacity=mxConstants.HIGHLIGHT_OPACITY,this.repaintHandler=mxUtils.bind(this,function(){if(null!=this.state){var $e$$=this.graph.view.getState(this.state.cell);null==$e$$?this.hide():(this.state=$e$$,this.repaint())}}),this.graph.getView().addListener(mxEvent.SCALE,
this.repaintHandler),this.graph.getView().addListener(mxEvent.TRANSLATE,this.repaintHandler),this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.repaintHandler),this.graph.getModel().addListener(mxEvent.CHANGE,this.repaintHandler),this.resetHandler=mxUtils.bind(this,function(){this.hide()}),this.graph.getView().addListener(mxEvent.DOWN,this.resetHandler),this.graph.getView().addListener(mxEvent.UP,this.resetHandler))}mxCellHighlight.prototype.keepOnTop=!1;
mxCellHighlight.prototype.graph=null;mxCellHighlight.prototype.state=null;mxCellHighlight.prototype.spacing=2;mxCellHighlight.prototype.resetHandler=null;mxCellHighlight.prototype.setHighlightColor=function($a$$){this.highlightColor=$a$$;null!=this.shape&&(this.shape.stroke=$a$$)};
mxCellHighlight.prototype.drawHighlight=function(){this.shape=this.createShape();this.repaint();this.keepOnTop||this.shape.node.parentNode.firstChild==this.shape.node||this.shape.node.parentNode.insertBefore(this.shape.node,this.shape.node.parentNode.firstChild)};
mxCellHighlight.prototype.createShape=function(){var $a$$=this.graph.cellRenderer.createShape(this.state);$a$$.svgStrokeTolerance=this.graph.tolerance;$a$$.points=this.state.absolutePoints;$a$$.apply(this.state);$a$$.stroke=this.highlightColor;$a$$.opacity=this.opacity;$a$$.isDashed=this.dashed;$a$$.isShadow=!1;$a$$.dialect=mxConstants.DIALECT_SVG;$a$$.init(this.graph.getView().getOverlayPane());mxEvent.redirectMouseEvents($a$$.node,this.graph,this.state);this.graph.dialect!=mxConstants.DIALECT_SVG?
$a$$.pointerEvents=!1:$a$$.svgPointerEvents="stroke";return $a$$};mxCellHighlight.prototype.getStrokeWidth=function($a$$){return this.strokeWidth};
mxCellHighlight.prototype.repaint=function(){null!=this.state&&null!=this.shape&&(this.shape.scale=this.state.view.scale,this.graph.model.isEdge(this.state.cell)?(this.shape.strokewidth=this.getStrokeWidth(),this.shape.points=this.state.absolutePoints,this.shape.outline=!1):(this.shape.bounds=new mxRectangle(this.state.x-this.spacing,this.state.y-this.spacing,this.state.width+2*this.spacing,this.state.height+2*this.spacing),this.shape.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||
"0"),this.shape.strokewidth=this.getStrokeWidth()/this.state.view.scale,this.shape.outline=!0),null!=this.state.shape&&this.shape.setCursor(this.state.shape.getCursor()),this.shape.redraw())};mxCellHighlight.prototype.hide=function(){this.highlight(null)};mxCellHighlight.prototype.highlight=function($a$$){this.state!=$a$$&&(null!=this.shape&&(this.shape.destroy(),this.shape=null),this.state=$a$$,null!=this.state&&this.drawHighlight())};
mxCellHighlight.prototype.isHighlightAt=function($a$$,$b$$){var $c$$=!1;if(null!=this.shape&&null!=document.elementFromPoint)for($a$$=document.elementFromPoint($a$$,$b$$);null!=$a$$;){if($a$$==this.shape.node){$c$$=!0;break}$a$$=$a$$.parentNode}return $c$$};
mxCellHighlight.prototype.destroy=function(){this.graph.getView().removeListener(this.resetHandler);this.graph.getView().removeListener(this.repaintHandler);this.graph.getModel().removeListener(this.repaintHandler);null!=this.shape&&(this.shape.destroy(),this.shape=null)};
var mxCodecRegistry={codecs:[],aliases:[],register:function($a$$){if(null!=$a$$){var $b$$=$a$$.getName();mxCodecRegistry.codecs[$b$$]=$a$$;var $c$$=mxUtils.getFunctionName($a$$.template.constructor);$c$$!=$b$$&&mxCodecRegistry.addAlias($c$$,$b$$)}return $a$$},addAlias:function($a$$,$b$$){mxCodecRegistry.aliases[$a$$]=$b$$},getCodec:function($a$$){var $b$$=null;if(null!=$a$$){$b$$=mxUtils.getFunctionName($a$$);var $c$$=mxCodecRegistry.aliases[$b$$];null!=$c$$&&($b$$=$c$$);$b$$=mxCodecRegistry.codecs[$b$$];
if(null==$b$$)try{$b$$=new mxObjectCodec(new $a$$),mxCodecRegistry.register($b$$)}catch($d$$){}}return $b$$}};function mxCodec($a$$){this.document=$a$$||mxUtils.createXmlDocument();this.objects=[]}mxCodec.allowlist=null;mxCodec.prototype.document=null;mxCodec.prototype.objects=null;mxCodec.prototype.elements=null;mxCodec.prototype.encodeDefaults=!1;mxCodec.prototype.putObject=function($a$$,$b$$){return this.objects[$a$$]=$b$$};
mxCodec.prototype.getObject=function($a$$){var $b$$=null;null!=$a$$&&($b$$=this.objects[$a$$],null==$b$$&&($b$$=this.lookup($a$$),null==$b$$&&($a$$=this.getElementById($a$$),null!=$a$$&&($b$$=this.decode($a$$)))));return $b$$};mxCodec.prototype.lookup=function($a$$){return null};mxCodec.prototype.getElementById=function($a$$){this.updateElements();return this.elements[$a$$]};mxCodec.prototype.updateElements=function(){null==this.elements&&(this.elements={},null!=this.document.documentElement&&this.addElement(this.document.documentElement))};
mxCodec.prototype.addElement=function($a$$){if($a$$.nodeType==mxConstants.NODETYPE_ELEMENT){var $b$$=$a$$.getAttribute("id");if(null!=$b$$)if(null==this.elements[$b$$])this.elements[$b$$]=$a$$;else if(this.elements[$b$$]!=$a$$)throw Error($b$$+": Duplicate ID");}for($a$$=$a$$.firstChild;null!=$a$$;)this.addElement($a$$),$a$$=$a$$.nextSibling};mxCodec.prototype.isObjectIgnored=function($a$$){return!1};
mxCodec.prototype.getId=function($a$$){var $b$$=null;null==$a$$||this.isObjectIgnored($a$$)||($b$$=this.reference($a$$),null==$b$$&&$a$$ instanceof mxCell&&($b$$=$a$$.getId(),null==$b$$&&($b$$=mxCellPath.create($a$$),0==$b$$.length&&($b$$="root"))));return $b$$};mxCodec.prototype.reference=function($a$$){return null};
mxCodec.prototype.encode=function($a$$){var $b$$=null;if(null!=$a$$&&null!=$a$$.constructor&&!this.isObjectIgnored($a$$)){var $c$$=mxCodecRegistry.getCodec($a$$.constructor);null!=$c$$?$b$$=$c$$.encode(this,$a$$):mxUtils.isNode($a$$)?$b$$=mxUtils.importNode(this.document,$a$$,!0):mxLog.warn("mxCodec.encode: No codec for "+mxUtils.getFunctionName($a$$.constructor))}return $b$$};
mxCodec.prototype.decode=function($a$$,$b$$){this.updateElements();var $c$$=null;null!=$a$$&&$a$$.nodeType==mxConstants.NODETYPE_ELEMENT&&($c$$=this.getConstructor($a$$.nodeName),$c$$=mxCodecRegistry.getCodec($c$$),null!=$c$$?$c$$=$c$$.decode(this,$a$$,$b$$):($c$$=$a$$.cloneNode(!0),$c$$.removeAttribute("as")));return $c$$};
mxCodec.prototype.getConstructor=function($a$$){var $b$$=null;try{null==mxCodec.allowlist||0<=mxUtils.indexOf(mxCodec.allowlist,$a$$)?$b$$=window[$a$$]:null!=window.console&&console.error("mxCodec.getConstructor: "+$a$$+" not allowed in mxCodec.allowlist")}catch($c$$){}return $b$$};
mxCodec.prototype.encodeCell=function($a$$,$b$$,$c$$){if(!this.isObjectIgnored($a$$)&&($b$$.appendChild(this.encode($a$$)),null==$c$$||$c$$)){$c$$=$a$$.getChildCount();for(var $d$$=0;$d$$<$c$$;$d$$++)this.encodeCell($a$$.getChildAt($d$$),$b$$)}};mxCodec.prototype.isCellCodec=function($a$$){return null!=$a$$&&"function"==typeof $a$$.isCellCodec?$a$$.isCellCodec():!1};
mxCodec.prototype.decodeCell=function($a$$,$b$$){$b$$=null!=$b$$?$b$$:!0;var $c$$=null;if(null!=$a$$&&$a$$.nodeType==mxConstants.NODETYPE_ELEMENT){$c$$=mxCodecRegistry.getCodec($a$$.nodeName);if(!this.isCellCodec($c$$))for(var $d$$=$a$$.firstChild;null!=$d$$&&!this.isCellCodec($c$$);)$c$$=mxCodecRegistry.getCodec($d$$.nodeName),$d$$=$d$$.nextSibling;this.isCellCodec($c$$)||($c$$=mxCodecRegistry.getCodec(mxCell));$c$$=$c$$.decode(this,$a$$);$b$$&&this.insertIntoGraph($c$$)}return $c$$};
mxCodec.prototype.insertIntoGraph=function($a$$){var $b$$=$a$$.parent,$c$$=$a$$.getTerminal(!0),$d$$=$a$$.getTerminal(!1);$a$$.setTerminal(null,!1);$a$$.setTerminal(null,!0);$a$$.parent=null;if(null!=$b$$){if($b$$==$a$$)throw Error($b$$.id+": Self Reference");$b$$.insert($a$$)}null!=$c$$&&$c$$.insertEdge($a$$,!0);null!=$d$$&&$d$$.insertEdge($a$$,!1)};mxCodec.prototype.setAttribute=function($a$$,$b$$,$c$$){null!=$b$$&&null!=$c$$&&$a$$.setAttribute($b$$,$c$$)};
function mxObjectCodec($a$$,$b$$,$c$$,$d$$){this.template=$a$$;this.exclude=null!=$b$$?$b$$:[];this.idrefs=null!=$c$$?$c$$:[];this.mapping=null!=$d$$?$d$$:[];this.reverse={};for(var $e$$ in this.mapping)this.reverse[this.mapping[$e$$]]=$e$$}mxObjectCodec.allowEval=!1;mxObjectCodec.prototype.template=null;mxObjectCodec.prototype.exclude=null;mxObjectCodec.prototype.idrefs=null;mxObjectCodec.prototype.mapping=null;mxObjectCodec.prototype.reverse=null;mxObjectCodec.prototype.getName=function(){return mxUtils.getFunctionName(this.template.constructor)};
mxObjectCodec.prototype.cloneTemplate=function(){return new this.template.constructor};mxObjectCodec.prototype.getFieldName=function($a$$){if(null!=$a$$){var $b$$=this.reverse[$a$$];null!=$b$$&&($a$$=$b$$)}return $a$$};mxObjectCodec.prototype.getAttributeName=function($a$$){if(null!=$a$$){var $b$$=this.mapping[$a$$];null!=$b$$&&($a$$=$b$$)}return $a$$};mxObjectCodec.prototype.isExcluded=function($a$$,$b$$,$c$$,$d$$){return $b$$==mxObjectIdentity.FIELD_NAME||0<=mxUtils.indexOf(this.exclude,$b$$)};
mxObjectCodec.prototype.isReference=function($a$$,$b$$,$c$$,$d$$){return 0<=mxUtils.indexOf(this.idrefs,$b$$)};mxObjectCodec.prototype.encode=function($a$$,$b$$){var $c$$=$a$$.document.createElement(this.getName());$b$$=this.beforeEncode($a$$,$b$$,$c$$);this.encodeObject($a$$,$b$$,$c$$);return this.afterEncode($a$$,$b$$,$c$$)};
mxObjectCodec.prototype.encodeObject=function($a$$,$b$$,$c$$){$a$$.setAttribute($c$$,"id",$a$$.getId($b$$));for(var $d$$ in $b$$){var $e$$=$d$$,$f$$=$b$$[$e$$];null==$f$$||this.isExcluded($b$$,$e$$,$f$$,!0)||(mxUtils.isInteger($e$$)&&($e$$=null),this.encodeValue($a$$,$b$$,$e$$,$f$$,$c$$))}};
mxObjectCodec.prototype.encodeValue=function($a$$,$b$$,$c$$,$d$$,$e$$){if(null!=$d$$){if(this.isReference($b$$,$c$$,$d$$,!0)){var $f$$=$a$$.getId($d$$);if(null==$f$$){mxLog.warn("mxObjectCodec.encode: No ID for "+this.getName()+"."+$c$$+"="+$d$$);return}$d$$=$f$$}$f$$=this.template[$c$$];if(null==$c$$||$a$$.encodeDefaults||$f$$!=$d$$)$c$$=this.getAttributeName($c$$),this.writeAttribute($a$$,$b$$,$c$$,$d$$,$e$$)}};
mxObjectCodec.prototype.writeAttribute=function($a$$,$b$$,$c$$,$d$$,$e$$){"object"!=typeof $d$$?this.writePrimitiveAttribute($a$$,$b$$,$c$$,$d$$,$e$$):this.writeComplexAttribute($a$$,$b$$,$c$$,$d$$,$e$$)};
mxObjectCodec.prototype.writePrimitiveAttribute=function($a$$,$b$$,$c$$,$d$$,$e$$){$d$$=this.convertAttributeToXml($a$$,$b$$,$c$$,$d$$,$e$$);null==$c$$?($b$$=$a$$.document.createElement("add"),"function"==typeof $d$$?$b$$.appendChild($a$$.document.createTextNode($d$$)):$a$$.setAttribute($b$$,"value",$d$$),$e$$.appendChild($b$$)):"function"!=typeof $d$$&&$a$$.setAttribute($e$$,$c$$,$d$$)};
mxObjectCodec.prototype.writeComplexAttribute=function($a$$,$b$$,$c$$,$d$$,$e$$){$a$$=$a$$.encode($d$$);null!=$a$$?(null!=$c$$&&$a$$.setAttribute("as",$c$$),$e$$.appendChild($a$$)):mxLog.warn("mxObjectCodec.encode: No node for "+this.getName()+"."+$c$$+": "+$d$$)};mxObjectCodec.prototype.convertAttributeToXml=function($a$$,$b$$,$c$$,$d$$){this.isBooleanAttribute($a$$,$b$$,$c$$,$d$$)&&($d$$=1==$d$$?"1":"0");return $d$$};
mxObjectCodec.prototype.isBooleanAttribute=function($a$$,$b$$,$c$$,$d$$){return"undefined"==typeof $d$$.length&&(1==$d$$||0==$d$$)};mxObjectCodec.prototype.convertAttributeFromXml=function($a$$,$b$$,$c$$){var $d$$=$b$$.value;this.isNumericAttribute($a$$,$b$$,$c$$)&&($d$$=parseFloat($d$$),isNaN($d$$)||!isFinite($d$$))&&($d$$=0);return $d$$};
mxObjectCodec.prototype.isNumericAttribute=function($a$$,$b$$,$c$$){return $c$$.constructor==mxGeometry&&("x"==$b$$.name||"y"==$b$$.name||"width"==$b$$.name||"height"==$b$$.name)||$c$$.constructor==mxPoint&&("x"==$b$$.name||"y"==$b$$.name)||mxUtils.isNumeric($b$$.value)};mxObjectCodec.prototype.beforeEncode=function($a$$,$b$$,$c$$){return $b$$};mxObjectCodec.prototype.afterEncode=function($a$$,$b$$,$c$$){return $c$$};
mxObjectCodec.prototype.decode=function($a$$,$b$$,$c$$){var $d$$=$b$$.getAttribute("id"),$e$$=$a$$.objects[$d$$];null==$e$$&&($e$$=$c$$||this.cloneTemplate(),null!=$d$$&&$a$$.putObject($d$$,$e$$));$b$$=this.beforeDecode($a$$,$b$$,$e$$);this.decodeNode($a$$,$b$$,$e$$);return this.afterDecode($a$$,$b$$,$e$$)};mxObjectCodec.prototype.decodeNode=function($a$$,$b$$,$c$$){null!=$b$$&&(this.decodeAttributes($a$$,$b$$,$c$$),this.decodeChildren($a$$,$b$$,$c$$))};
mxObjectCodec.prototype.decodeAttributes=function($a$$,$b$$,$c$$){$b$$=$b$$.attributes;if(null!=$b$$)for(var $d$$=0;$d$$<$b$$.length;$d$$++)this.decodeAttribute($a$$,$b$$[$d$$],$c$$)};mxObjectCodec.prototype.isIgnoredAttribute=function($a$$,$b$$,$c$$){return"as"==$b$$.nodeName||"id"==$b$$.nodeName||"function"===typeof $c$$[$b$$.nodeName]};
mxObjectCodec.prototype.decodeAttribute=function($a$$,$b$$,$c$$){if(!this.isIgnoredAttribute($a$$,$b$$,$c$$)){var $d$$=$b$$.nodeName;$b$$=this.convertAttributeFromXml($a$$,$b$$,$c$$);var $e$$=this.getFieldName($d$$);if(this.isReference($c$$,$e$$,$b$$,!1)){$a$$=$a$$.getObject($b$$);if(null==$a$$){mxLog.warn("mxObjectCodec.decode: No object for "+this.getName()+"."+$d$$+"="+$b$$);return}$b$$=$a$$}this.isExcluded($c$$,$d$$,$b$$,!1)||($c$$[$d$$]=$b$$)}};
mxObjectCodec.prototype.decodeChildren=function($a$$,$b$$,$c$$){for($b$$=$b$$.firstChild;null!=$b$$;){var $d$$=$b$$.nextSibling;$b$$.nodeType!=mxConstants.NODETYPE_ELEMENT||this.processInclude($a$$,$b$$,$c$$)||this.decodeChild($a$$,$b$$,$c$$);$b$$=$d$$}};
mxObjectCodec.prototype.decodeChild=function($a$$,$b$$,$c$$){var $d$$=this.getFieldName($b$$.getAttribute("as"));if(null==$d$$||!this.isExcluded($c$$,$d$$,$b$$,!1)){var $e$$=this.getFieldTemplate($c$$,$d$$,$b$$);"add"==$b$$.nodeName?($a$$=$b$$.getAttribute("value"),null==$a$$&&mxObjectCodec.allowEval&&($a$$=mxUtils.eval(mxUtils.getTextContent($b$$)))):$a$$=$a$$.decode($b$$,$e$$);try{this.addObjectValue($c$$,$d$$,$a$$,$e$$)}catch($f$$){throw Error($f$$.message+" for "+$b$$.nodeName);}}};
mxObjectCodec.prototype.getFieldTemplate=function($a$$,$b$$,$c$$){$a$$=$a$$[$b$$];$a$$ instanceof Array&&0<$a$$.length&&($a$$=null);return $a$$};mxObjectCodec.prototype.addObjectValue=function($a$$,$b$$,$c$$,$d$$){null!=$c$$&&$c$$!=$d$$&&(null!=$b$$&&0<$b$$.length?$a$$[$b$$]=$c$$:$a$$.push($c$$))};
mxObjectCodec.prototype.processInclude=function($a$$,$b$$,$c$$){if("include"==$b$$.nodeName){$b$$=$b$$.getAttribute("name");if(null!=$b$$)try{var $d$$=mxUtils.load($b$$).getDocumentElement();null!=$d$$&&$a$$.decode($d$$,$c$$)}catch($e$$){}return!0}return!1};mxObjectCodec.prototype.beforeDecode=function($a$$,$b$$,$c$$){return $b$$};mxObjectCodec.prototype.afterDecode=function($a$$,$b$$,$c$$){return $c$$};
mxCodecRegistry.register(function(){var $a$$=new mxObjectCodec(new mxCell,["children","edges","overlays","mxTransient"],["parent","source","target"]);$a$$.isCellCodec=function(){return!0};$a$$.isNumericAttribute=function($b$$,$c$$,$d$$){return"value"!==$c$$.nodeName&&mxObjectCodec.prototype.isNumericAttribute.apply(this,arguments)};$a$$.isExcluded=function($b$$,$c$$,$d$$,$e$$){return mxObjectCodec.prototype.isExcluded.apply(this,arguments)||$e$$&&"value"==$c$$&&mxUtils.isNode($d$$)};$a$$.afterEncode=
function($b$$,$c$$,$d$$){if(null!=$c$$.value&&mxUtils.isNode($c$$.value)){var $e$$=$d$$;$d$$=mxUtils.importNode($b$$.document,$c$$.value,!0);$d$$.appendChild($e$$);$b$$=$e$$.getAttribute("id");$d$$.setAttribute("id",$b$$);$e$$.removeAttribute("id")}return $d$$};$a$$.beforeDecode=function($b$$,$c$$,$d$$){var $e$$=$c$$.cloneNode(!0),$f$$=this.getName();$c$$.nodeName!=$f$$?($e$$=$c$$.getElementsByTagName($f$$)[0],null!=$e$$&&$e$$.parentNode==$c$$?(mxUtils.removeWhitespace($e$$,!0),mxUtils.removeWhitespace($e$$,
!1),$e$$.parentNode.removeChild($e$$)):$e$$=null,$d$$.value=$c$$.cloneNode(!0),$c$$=$d$$.value.getAttribute("id"),null!=$c$$&&($d$$.setId($c$$),$d$$.value.removeAttribute("id"))):$d$$.setId($c$$.getAttribute("id"));if(null!=$e$$)for($c$$=0;$c$$<this.idrefs.length;$c$$++){$f$$=this.idrefs[$c$$];var $g$$=$e$$.getAttribute($f$$);if(null!=$g$$){$e$$.removeAttribute($f$$);var $k$$=$b$$.objects[$g$$]||$b$$.lookup($g$$);if(null==$k$$){var $l$$=$b$$.getElementById($g$$);null!=$l$$?$k$$=(mxCodecRegistry.codecs[$l$$.nodeName]||
this).decode($b$$,$l$$):null!=window.console&&console.error("mxCellCodec.beforeDecode: "+this.idrefs[$c$$]+" "+$g$$+" not found for cell "+$d$$.getId())}$d$$[$f$$]=$k$$}}return $e$$};return $a$$}());
mxCodecRegistry.register(function(){var $a$$=new mxObjectCodec(new mxGraphModel);$a$$.encodeObject=function($b$$,$c$$,$d$$){var $e$$=$b$$.document.createElement("root");$b$$.encodeCell($c$$.getRoot(),$e$$);$d$$.appendChild($e$$)};$a$$.decodeChild=function($b$$,$c$$,$d$$){"root"==$c$$.nodeName?this.decodeRoot($b$$,$c$$,$d$$):mxObjectCodec.prototype.decodeChild.apply(this,arguments)};$a$$.decodeRoot=function($b$$,$c$$,$d$$){var $e$$=null;for($c$$=$c$$.firstChild;null!=$c$$;){var $f$$=$b$$.decodeCell($c$$);
null!=$f$$&&null==$f$$.getParent()&&($e$$=$f$$);$c$$=$c$$.nextSibling}null!=$e$$&&$d$$.setRoot($e$$)};return $a$$}());
mxCodecRegistry.register(function(){var $a$$=new mxObjectCodec(new mxRootChange,["model","previous","root"]);$a$$.afterEncode=function($b$$,$c$$,$d$$){$b$$.encodeCell($c$$.root,$d$$);return $d$$};$a$$.beforeDecode=function($b$$,$c$$,$d$$){if(null!=$c$$.firstChild&&$c$$.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT){$c$$=$c$$.cloneNode(!0);var $e$$=$c$$.firstChild;$d$$.root=$b$$.decodeCell($e$$,!1);$d$$=$e$$.nextSibling;$e$$.parentNode.removeChild($e$$);for($e$$=$d$$;null!=$e$$;)$d$$=$e$$.nextSibling,
$b$$.decodeCell($e$$),$e$$.parentNode.removeChild($e$$),$e$$=$d$$}return $c$$};$a$$.afterDecode=function($b$$,$c$$,$d$$){$d$$.previous=$d$$.root;return $d$$};return $a$$}());
mxCodecRegistry.register(function(){var $a$$=new mxObjectCodec(new mxChildChange,["model","child","previousIndex"],["parent","previous"]);$a$$.isReference=function($b$$,$c$$,$d$$,$e$$){return"child"!=$c$$||$e$$&&!$b$$.model.contains($b$$.previous)?0<=mxUtils.indexOf(this.idrefs,$c$$):!0};$a$$.isExcluded=function($b$$,$c$$,$d$$,$e$$){return mxObjectCodec.prototype.isExcluded.apply(this,arguments)||$e$$&&null!=$d$$&&("previous"==$c$$||"parent"==$c$$)&&!$b$$.model.contains($d$$)};$a$$.afterEncode=function($b$$,
$c$$,$d$$){this.isReference($c$$,"child",$c$$.child,!0)?$d$$.setAttribute("child",$b$$.getId($c$$.child)):$b$$.encodeCell($c$$.child,$d$$);return $d$$};$a$$.beforeDecode=function($b$$,$c$$,$d$$){if(null!=$c$$.firstChild&&$c$$.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT){$c$$=$c$$.cloneNode(!0);var $e$$=$c$$.firstChild;$d$$.child=$b$$.decodeCell($e$$,!1);$d$$=$e$$.nextSibling;$e$$.parentNode.removeChild($e$$);for($e$$=$d$$;null!=$e$$;){$d$$=$e$$.nextSibling;if($e$$.nodeType==mxConstants.NODETYPE_ELEMENT){var $f$$=
$e$$.getAttribute("id");null==$b$$.lookup($f$$)&&$b$$.decodeCell($e$$)}$e$$.parentNode.removeChild($e$$);$e$$=$d$$}}else $e$$=$c$$.getAttribute("child"),$d$$.child=$b$$.getObject($e$$);return $c$$};$a$$.afterDecode=function($b$$,$c$$,$d$$){null!=$d$$.child&&(null!=$d$$.child.parent&&null!=$d$$.previous&&$d$$.child.parent!=$d$$.previous&&($d$$.previous=$d$$.child.parent),$d$$.child.parent=$d$$.previous,$d$$.previous=$d$$.parent,$d$$.previousIndex=$d$$.index);return $d$$};return $a$$}());
mxCodecRegistry.register(function(){var $a$$=new mxObjectCodec(new mxTerminalChange,["model","previous"],["cell","terminal"]);$a$$.afterDecode=function($b$$,$c$$,$d$$){$d$$.previous=$d$$.terminal;return $d$$};return $a$$}());var mxGenericChangeCodec=function($a$$,$b$$){$a$$=new mxObjectCodec($a$$,["model","previous"],["cell"]);$a$$.afterDecode=function($c$$,$d$$,$e$$){mxUtils.isNode($e$$.cell)&&($e$$.cell=$c$$.decodeCell($e$$.cell,!1));$e$$.previous=$e$$[$b$$];return $e$$};return $a$$};
mxCodecRegistry.register(mxGenericChangeCodec(new mxValueChange,"value"));mxCodecRegistry.register(mxGenericChangeCodec(new mxStyleChange,"style"));mxCodecRegistry.register(mxGenericChangeCodec(new mxGeometryChange,"geometry"));mxCodecRegistry.register(mxGenericChangeCodec(new mxCollapseChange,"collapsed"));mxCodecRegistry.register(mxGenericChangeCodec(new mxVisibleChange,"visible"));mxCodecRegistry.register(mxGenericChangeCodec(new mxCellAttributeChange,"value"));
mxCodecRegistry.register(function(){return new mxObjectCodec(new mxGraph,"graphListeners eventListeners view container cellRenderer editor selection".split(" "))}());
mxCodecRegistry.register(function(){var $a$$=new mxObjectCodec(new mxGraphView);$a$$.encode=function($b$$,$c$$){return this.encodeCell($b$$,$c$$,$c$$.graph.getModel().getRoot())};$a$$.encodeCell=function($b$$,$c$$,$d$$){var $e$$=$c$$.graph.getModel(),$f$$=$c$$.getState($d$$),$g$$=$e$$.getParent($d$$);if(null==$g$$||null!=$f$$){var $k$$=$e$$.getChildCount($d$$),$l$$=$c$$.graph.getCellGeometry($d$$),$m$$=null;$g$$==$e$$.getRoot()?$m$$="layer":null==$g$$?$m$$="graph":$e$$.isEdge($d$$)?$m$$="edge":0<
$k$$&&null!=$l$$?$m$$="group":$e$$.isVertex($d$$)&&($m$$="vertex");if(null!=$m$$){var $n$$=$b$$.document.createElement($m$$);null!=$c$$.graph.getLabel($d$$)&&($n$$.setAttribute("label",$c$$.graph.getLabel($d$$)),$c$$.graph.isHtmlLabel($d$$)&&$n$$.setAttribute("html",!0));if(null==$g$$){var $p$$=$c$$.getGraphBounds();null!=$p$$&&($n$$.setAttribute("x",Math.round($p$$.x)),$n$$.setAttribute("y",Math.round($p$$.y)),$n$$.setAttribute("width",Math.round($p$$.width)),$n$$.setAttribute("height",Math.round($p$$.height)));
$n$$.setAttribute("scale",$c$$.scale)}else if(null!=$f$$&&null!=$l$$){for($p$$ in $f$$.style)$g$$=$f$$.style[$p$$],"function"==typeof $g$$&&"object"==typeof $g$$&&($g$$=mxStyleRegistry.getName($g$$)),null!=$g$$&&"function"!=typeof $g$$&&"object"!=typeof $g$$&&$n$$.setAttribute($p$$,$g$$);$g$$=$f$$.absolutePoints;if(null!=$g$$&&0<$g$$.length){$l$$=Math.round($g$$[0].x)+","+Math.round($g$$[0].y);for($p$$=1;$p$$<$g$$.length;$p$$++)$l$$+=" "+Math.round($g$$[$p$$].x)+","+Math.round($g$$[$p$$].y);$n$$.setAttribute("points",
$l$$)}else $n$$.setAttribute("x",Math.round($f$$.x)),$n$$.setAttribute("y",Math.round($f$$.y)),$n$$.setAttribute("width",Math.round($f$$.width)),$n$$.setAttribute("height",Math.round($f$$.height));$p$$=$f$$.absoluteOffset;null!=$p$$&&(0!=$p$$.x&&$n$$.setAttribute("dx",Math.round($p$$.x)),0!=$p$$.y&&$n$$.setAttribute("dy",Math.round($p$$.y)))}for($p$$=0;$p$$<$k$$;$p$$++)$f$$=this.encodeCell($b$$,$c$$,$e$$.getChildAt($d$$,$p$$)),null!=$f$$&&$n$$.appendChild($f$$)}}return $n$$};return $a$$}());
var mxStylesheetCodec=mxCodecRegistry.register(function(){var $a$$=new mxObjectCodec(new mxStylesheet);$a$$.encode=function($b$$,$c$$){var $d$$=$b$$.document.createElement(this.getName()),$e$$;for($e$$ in $c$$.styles){var $f$$=$c$$.styles[$e$$],$g$$=$b$$.document.createElement("add");if(null!=$e$$){$g$$.setAttribute("as",$e$$);for(var $k$$ in $f$$){var $l$$=this.getStringValue($k$$,$f$$[$k$$]);if(null!=$l$$){var $m$$=$b$$.document.createElement("add");$m$$.setAttribute("value",$l$$);$m$$.setAttribute("as",
$k$$);$g$$.appendChild($m$$)}}0<$g$$.childNodes.length&&$d$$.appendChild($g$$)}}return $d$$};$a$$.getStringValue=function($b$$,$c$$){$b$$=typeof $c$$;"function"==$b$$?$c$$=mxStyleRegistry.getName($c$$):"object"==$b$$&&($c$$=null);return $c$$};$a$$.decode=function($b$$,$c$$,$d$$){$d$$=$d$$||new this.template.constructor;var $e$$=$c$$.getAttribute("id");null!=$e$$&&($b$$.objects[$e$$]=$d$$);for($c$$=$c$$.firstChild;null!=$c$$;){if(!this.processInclude($b$$,$c$$,$d$$)&&"add"==$c$$.nodeName&&($e$$=$c$$.getAttribute("as"),
null!=$e$$)){var $f$$=$c$$.getAttribute("extend"),$g$$=null!=$f$$?mxUtils.clone($d$$.styles[$f$$]):null;null==$g$$&&(null!=$f$$&&mxLog.warn("mxStylesheetCodec.decode: stylesheet "+$f$$+" not found to extend"),$g$$={});for($f$$=$c$$.firstChild;null!=$f$$;){if($f$$.nodeType==mxConstants.NODETYPE_ELEMENT){var $k$$=$f$$.getAttribute("as");if("add"==$f$$.nodeName){var $l$$=mxUtils.getTextContent($f$$);null!=$l$$&&0<$l$$.length&&mxStylesheetCodec.allowEval?$l$$=mxUtils.eval($l$$):($l$$=$f$$.getAttribute("value"),
mxUtils.isNumeric($l$$)&&($l$$=parseFloat($l$$)));null!=$l$$&&($g$$[$k$$]=$l$$)}else"remove"==$f$$.nodeName&&delete $g$$[$k$$]}$f$$=$f$$.nextSibling}$d$$.putCellStyle($e$$,$g$$)}$c$$=$c$$.nextSibling}return $d$$};return $a$$}());mxStylesheetCodec.allowEval=!1;/*
 GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html
 @author  Jan Odvarko, http://odvarko.cz
 @created 2008-06-15
 @updated 2012-01-19
 @link    http://jscolor.com
*/
var mxJSColor={bindClass:"color",binding:!0,preloading:!0,install:function(){},init:function(){mxJSColor.preloading&&mxJSColor.preload()},getDir:function(){return IMAGE_PATH+"/"},detectDir:function(){for(var $base$$=location.href,$e$$=document.getElementsByTagName("base"),$i$$=0;$i$$<$e$$.length;$i$$+=1)$e$$[$i$$].href&&($base$$=$e$$[$i$$].href);$e$$=document.getElementsByTagName("script");for($i$$=0;$i$$<$e$$.length;$i$$+=1)if($e$$[$i$$].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test($e$$[$i$$].src))return $base$$=
(new mxJSColor.URI($e$$[$i$$].src)).toAbsolute($base$$),$base$$.path=$base$$.path.replace(/[^\/]+$/,""),$base$$.query=null,$base$$.fragment=null,$base$$.toString();return!1},preload:function(){for(var $fn$$ in mxJSColor.imgRequire)mxJSColor.imgRequire.hasOwnProperty($fn$$)&&mxJSColor.loadImage($fn$$)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function($filename$$){mxJSColor.imgRequire[$filename$$]=!0},loadImage:function($filename$$){mxJSColor.imgLoaded[$filename$$]||
(mxJSColor.imgLoaded[$filename$$]=new Image,mxJSColor.imgLoaded[$filename$$].src=mxJSColor.getDir()+$filename$$)},fetchElement:function($mixed$$){return"string"===typeof $mixed$$?document.getElementById($mixed$$):$mixed$$},addEvent:function($el$$,$evnt$$,$func$$){$el$$.addEventListener?$el$$.addEventListener($evnt$$,$func$$,!1):$el$$.attachEvent&&$el$$.attachEvent("on"+$evnt$$,$func$$)},fireEvent:function($el$$,$evnt$$){if($el$$)if(document.createEvent){var $ev$$=document.createEvent("HTMLEvents");
$ev$$.initEvent($evnt$$,!0,!0);$el$$.dispatchEvent($ev$$)}else if(document.createEventObject)$ev$$=document.createEventObject(),$el$$.fireEvent("on"+$evnt$$,$ev$$);else if($el$$["on"+$evnt$$])$el$$["on"+$evnt$$]()},getElementPos:function($e$$){var $e1$$=$e$$,$x$$=0,$y$$=0;if($e1$$.offsetParent){do $x$$+=$e1$$.offsetLeft,$y$$+=$e1$$.offsetTop;while($e1$$=$e1$$.offsetParent)}for(;($e$$=$e$$.parentNode)&&"BODY"!==$e$$.nodeName.toUpperCase();)$x$$-=$e$$.scrollLeft,$y$$-=$e$$.scrollTop;return[$x$$,$y$$]},
getElementSize:function($e$$){return[$e$$.offsetWidth,$e$$.offsetHeight]},getRelMousePos:function($e$$){var $x$$=0,$y$$=0;$e$$||($e$$=window.event);"number"===typeof $e$$.offsetX?($x$$=$e$$.offsetX,$y$$=$e$$.offsetY):"number"===typeof $e$$.layerX&&($x$$=$e$$.layerX,$y$$=$e$$.layerY);return{x:$x$$,y:$y$$}},getViewPos:function(){return"number"===typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,
document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"===typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?
[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function($uri$$){function $removeDotSegments$$($path$$){for(var $out$$="";$path$$;)if("../"===$path$$.substr(0,3)||"./"===$path$$.substr(0,2))$path$$=$path$$.replace(/^\.+/,"").substr(1);else if("/./"===$path$$.substr(0,3)||"/."===$path$$)$path$$="/"+$path$$.substr(3);else if("/../"===$path$$.substr(0,4)||"/.."===$path$$)$path$$="/"+$path$$.substr(4),$out$$=$out$$.replace(/\/?[^\/]*$/,"");else if("."===$path$$||
".."===$path$$)$path$$="";else{var $rm$$=$path$$.match(/^\/?[^\/]*/)[0];$path$$=$path$$.substr($rm$$.length);$out$$+=$rm$$}return $out$$}this.authority=this.scheme=null;this.path="";this.fragment=this.query=null;this.parse=function($m$jscomp$140_uri$$){$m$jscomp$140_uri$$=$m$jscomp$140_uri$$.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);this.scheme=$m$jscomp$140_uri$$[3]?$m$jscomp$140_uri$$[2]:null;this.authority=$m$jscomp$140_uri$$[5]?$m$jscomp$140_uri$$[6]:
null;this.path=$m$jscomp$140_uri$$[7];this.query=$m$jscomp$140_uri$$[9]?$m$jscomp$140_uri$$[10]:null;this.fragment=$m$jscomp$140_uri$$[12]?$m$jscomp$140_uri$$[13]:null;return this};this.toString=function(){var $result$$="";null!==this.scheme&&($result$$=$result$$+this.scheme+":");null!==this.authority&&($result$$=$result$$+"//"+this.authority);null!==this.path&&($result$$+=this.path);null!==this.query&&($result$$=$result$$+"?"+this.query);null!==this.fragment&&($result$$=$result$$+"#"+this.fragment);
return $result$$};this.toAbsolute=function($base$$){$base$$=new mxJSColor.URI($base$$);var $t$$=new mxJSColor.URI;if(null===$base$$.scheme)return!1;null!==this.scheme&&this.scheme.toLowerCase()===$base$$.scheme.toLowerCase()&&(this.scheme=null);null!==this.scheme?($t$$.scheme=this.scheme,$t$$.authority=this.authority,$t$$.path=$removeDotSegments$$(this.path),$t$$.query=this.query):(null!==this.authority?($t$$.authority=this.authority,$t$$.path=$removeDotSegments$$(this.path),$t$$.query=this.query):
(""===this.path?($t$$.path=$base$$.path,$t$$.query=null!==this.query?this.query:$base$$.query):("/"===this.path.substr(0,1)?$t$$.path=$removeDotSegments$$(this.path):($t$$.path=null!==$base$$.authority&&""===$base$$.path?"/"+this.path:$base$$.path.replace(/[^\/]+$/,"")+this.path,$t$$.path=$removeDotSegments$$($t$$.path)),$t$$.query=this.query),$t$$.authority=$base$$.authority),$t$$.scheme=$base$$.scheme);$t$$.fragment=this.fragment;return $t$$};$uri$$&&this.parse($uri$$)},color:function($target$$,
$prop$$){function $HSV_RGB$$($h$jscomp$9_n$$,$s$$,$v$$){if(null===$h$jscomp$9_n$$)return[$v$$,$v$$,$v$$];var $i$$=Math.floor($h$jscomp$9_n$$),$m$$=$v$$*(1-$s$$);$h$jscomp$9_n$$=$v$$*(1-$s$$*($i$$%2?$h$jscomp$9_n$$-$i$$:1-($h$jscomp$9_n$$-$i$$)));switch($i$$){case 6:case 0:return[$v$$,$h$jscomp$9_n$$,$m$$];case 1:return[$h$jscomp$9_n$$,$v$$,$m$$];case 2:return[$m$$,$v$$,$h$jscomp$9_n$$];case 3:return[$m$$,$h$jscomp$9_n$$,$v$$];case 4:return[$h$jscomp$9_n$$,$m$$,$v$$];case 5:return[$v$$,$m$$,$h$jscomp$9_n$$]}}
function $drawPicker$$($x$$,$y$$){if(!mxJSColor.picker){mxJSColor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode($THIS$$.pickerCloseText)};for(var $dims_i$$=0;$dims_i$$<
mxJSColor.images.sld[1];$dims_i$$+=4){var $seg$$=document.createElement("div");$seg$$.style.height="4px";$seg$$.style.fontSize="1px";$seg$$.style.lineHeight="0";mxJSColor.picker.sld.appendChild($seg$$)}mxJSColor.picker.sldB.appendChild(mxJSColor.picker.sld);mxJSColor.picker.box.appendChild(mxJSColor.picker.sldB);mxJSColor.picker.box.appendChild(mxJSColor.picker.sldM);mxJSColor.picker.padB.appendChild(mxJSColor.picker.pad);mxJSColor.picker.box.appendChild(mxJSColor.picker.padB);mxJSColor.picker.box.appendChild(mxJSColor.picker.padM);
mxJSColor.picker.btnS.appendChild(mxJSColor.picker.btnT);mxJSColor.picker.btn.appendChild(mxJSColor.picker.btnS);mxJSColor.picker.box.appendChild(mxJSColor.picker.btn);mxJSColor.picker.boxB.appendChild(mxJSColor.picker.box)}var $p$$=mxJSColor.picker;$p$$.box.onmouseup=$p$$.box.onmouseout=function(){mxClient.IS_TOUCH||$target$$.focus()};$p$$.box.onmousedown=function(){};$p$$.box.onmousemove=function($e$$){if($holdPad$$||$holdSld$$)$holdPad$$&&$setPad$$($e$$),$holdSld$$&&$setSld$$($e$$),document.selection?
document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),$dispatchImmediateChange$$()};$p$$.padM.onmouseup=$p$$.padM.onmouseout=function(){$holdPad$$&&($holdPad$$=!1,mxJSColor.fireEvent($valueElement$$,"change"))};$p$$.padM.onmousedown=function($e$$){switch($modeID$$){case 0:0===$THIS$$.hsv[2]&&$THIS$$.fromHSV(null,null,1);break;case 1:0===$THIS$$.hsv[1]&&$THIS$$.fromHSV(null,1,null)}$holdPad$$=!0;$setPad$$($e$$);$dispatchImmediateChange$$()};$p$$.sldM.onmouseup=$p$$.sldM.onmouseout=
function(){$holdSld$$&&($holdSld$$=!1,mxJSColor.fireEvent($valueElement$$,"change"))};$p$$.sldM.onmousedown=function($e$$){$holdSld$$=!0;$setSld$$($e$$);$dispatchImmediateChange$$()};$dims_i$$=$getPickerDims$$($THIS$$);$p$$.box.style.width=$dims_i$$[0]+"px";$p$$.box.style.height=$dims_i$$[1]+"px";$p$$.boxB.style.position="absolute";$p$$.boxB.style.clear="both";$p$$.boxB.style.left=$x$$+"px";$p$$.boxB.style.top=$y$$+"px";$p$$.boxB.style.zIndex=$THIS$$.pickerZIndex;$p$$.boxB.style.border=$THIS$$.pickerBorder+
"px solid";$p$$.boxB.style.borderColor=$THIS$$.pickerBorderColor;$p$$.boxB.style.background=$THIS$$.pickerFaceColor;$p$$.pad.style.width=mxJSColor.images.pad[0]+"px";$p$$.pad.style.height=mxJSColor.images.pad[1]+"px";$p$$.padB.style.position="absolute";$p$$.padB.style.left=$THIS$$.pickerFace+"px";$p$$.padB.style.top=$THIS$$.pickerFace+"px";$p$$.padB.style.border=$THIS$$.pickerInset+"px solid";$p$$.padB.style.borderColor=$THIS$$.pickerInsetColor;$p$$.padM.style.position="absolute";$p$$.padM.style.left=
"0";$p$$.padM.style.top="0";$p$$.padM.style.width=$THIS$$.pickerFace+2*$THIS$$.pickerInset+mxJSColor.images.pad[0]+mxJSColor.images.arrow[0]+"px";$p$$.padM.style.height=$p$$.box.style.height;$p$$.padM.style.cursor="crosshair";$p$$.sld.style.overflow="hidden";$p$$.sld.style.width=mxJSColor.images.sld[0]+"px";$p$$.sld.style.height=mxJSColor.images.sld[1]+"px";$p$$.sldB.style.display=$THIS$$.slider?"block":"none";$p$$.sldB.style.position="absolute";$p$$.sldB.style.right=$THIS$$.pickerFace+"px";$p$$.sldB.style.top=
$THIS$$.pickerFace+"px";$p$$.sldB.style.border=$THIS$$.pickerInset+"px solid";$p$$.sldB.style.borderColor=$THIS$$.pickerInsetColor;$p$$.sldM.style.display=$THIS$$.slider?"block":"none";$p$$.sldM.style.position="absolute";$p$$.sldM.style.right="0";$p$$.sldM.style.top="0";$p$$.sldM.style.width=mxJSColor.images.sld[0]+mxJSColor.images.arrow[0]+$THIS$$.pickerFace+2*$THIS$$.pickerInset+"px";$p$$.sldM.style.height=$p$$.box.style.height;try{$p$$.sldM.style.cursor="pointer"}catch($eOldIE$$){$p$$.sldM.style.cursor=
"hand"}$p$$.btn.style.display=$THIS$$.pickerClosable?"block":"none";$p$$.btn.style.position="absolute";$p$$.btn.style.left=$THIS$$.pickerFace+"px";$p$$.btn.style.bottom=$THIS$$.pickerFace+"px";$p$$.btn.style.padding="0 15px";$p$$.btn.style.height="18px";$p$$.btn.style.border=$THIS$$.pickerInset+"px solid";(function(){var $insetColors$$=$THIS$$.pickerInsetColor.split(/\s+/);$p$$.btn.style.borderColor=2>$insetColors$$.length?$insetColors$$[0]:$insetColors$$[1]+" "+$insetColors$$[0]+" "+$insetColors$$[0]+
" "+$insetColors$$[1]})();$p$$.btn.style.color=$THIS$$.pickerButtonColor;$p$$.btn.style.font="12px sans-serif";$p$$.btn.style.textAlign="center";try{$p$$.btn.style.cursor="pointer"}catch($eOldIE$2$$){$p$$.btn.style.cursor="hand"}$p$$.btn.onmousedown=function(){$THIS$$.hidePicker()};$p$$.btnS.style.lineHeight=$p$$.btn.style.height;switch($modeID$$){case 0:var $padImg$$="hs.png";break;case 1:$padImg$$="hv.png"}$p$$.padM.style.backgroundImage="url(data:image/gif;base64,R0lGODlhDwAPAKEBAAAAAP///////////yH5BAEKAAIALAAAAAAPAA8AAAIklB8Qx53b4otSUWcvyiz4/4AeQJbmKY4p1HHapBlwPL/uVRsFADs=)";
$p$$.padM.style.backgroundRepeat="no-repeat";$p$$.sldM.style.backgroundImage="url(data:image/gif;base64,R0lGODlhBwALAKECAAAAAP///6g8eKg8eCH5BAEKAAIALAAAAAAHAAsAAAITTIQYcLnsgGxvijrxqdQq6DRJAQA7)";$p$$.sldM.style.backgroundRepeat="no-repeat";$p$$.pad.style.backgroundImage="url('"+mxJSColor.getDir()+$padImg$$+"')";$p$$.pad.style.backgroundRepeat="no-repeat";$p$$.pad.style.backgroundPosition="0 0";$redrawPad$$();$redrawSld$$();mxJSColor.picker.owner=$THIS$$;document.getElementsByTagName("body")[0].appendChild($p$$.boxB)}
function $getPickerDims$$($o$$){return[2*$o$$.pickerInset+2*$o$$.pickerFace+mxJSColor.images.pad[0]+($o$$.slider?2*$o$$.pickerInset+2*mxJSColor.images.arrow[0]+mxJSColor.images.sld[0]:0),$o$$.pickerClosable?4*$o$$.pickerInset+3*$o$$.pickerFace+mxJSColor.images.pad[1]+$o$$.pickerButtonHeight:2*$o$$.pickerInset+2*$o$$.pickerFace+mxJSColor.images.pad[1]]}function $redrawPad$$(){switch($modeID$$){case 0:var $seg$$=1;break;case 1:$seg$$=2}mxJSColor.picker.padM.style.backgroundPosition=$THIS$$.pickerFace+
$THIS$$.pickerInset+Math.round($THIS$$.hsv[0]/6*(mxJSColor.images.pad[0]-1))-Math.floor(mxJSColor.images.cross[0]/2)+"px "+($THIS$$.pickerFace+$THIS$$.pickerInset+Math.round((1-$THIS$$.hsv[$seg$$])*(mxJSColor.images.pad[1]-1))-Math.floor(mxJSColor.images.cross[1]/2))+"px";$seg$$=mxJSColor.picker.sld.childNodes;switch($modeID$$){case 0:for(var $rgb$$=$HSV_RGB$$($THIS$$.hsv[0],$THIS$$.hsv[1],1),$i$$=0;$i$$<$seg$$.length;$i$$+=1)$seg$$[$i$$].style.backgroundColor="rgb("+$rgb$$[0]*(1-$i$$/$seg$$.length)*
100+"%,"+$rgb$$[1]*(1-$i$$/$seg$$.length)*100+"%,"+$rgb$$[2]*(1-$i$$/$seg$$.length)*100+"%)";break;case 1:var $c$$=[$THIS$$.hsv[2],0,0];$i$$=Math.floor($THIS$$.hsv[0]);var $f$$=$i$$%2?$THIS$$.hsv[0]-$i$$:1-($THIS$$.hsv[0]-$i$$);switch($i$$){case 6:case 0:$rgb$$=[0,1,2];break;case 1:$rgb$$=[1,0,2];break;case 2:$rgb$$=[2,0,1];break;case 3:$rgb$$=[2,1,0];break;case 4:$rgb$$=[1,2,0];break;case 5:$rgb$$=[0,2,1]}for($i$$=0;$i$$<$seg$$.length;$i$$+=1){var $s$$=1-1/($seg$$.length-1)*$i$$;$c$$[1]=$c$$[0]*
(1-$s$$*$f$$);$c$$[2]=$c$$[0]*(1-$s$$);$seg$$[$i$$].style.backgroundColor="rgb("+100*$c$$[$rgb$$[0]]+"%,"+100*$c$$[$rgb$$[1]]+"%,"+100*$c$$[$rgb$$[2]]+"%)"}}}function $redrawSld$$(){switch($modeID$$){case 0:var $yComponent$$=2;break;case 1:$yComponent$$=1}mxJSColor.picker.sldM.style.backgroundPosition="0 "+($THIS$$.pickerFace+$THIS$$.pickerInset+Math.round((1-$THIS$$.hsv[$yComponent$$])*(mxJSColor.images.sld[1]-1))-Math.floor(mxJSColor.images.arrow[1]/2))+"px"}function $isPickerOwner$$(){return mxJSColor.picker&&
mxJSColor.picker.owner===$THIS$$}function $blurValue$$(){$valueElement$$!==$target$$&&$THIS$$.importColor()}function $setPad$$($e$jscomp$564_x$$){var $mpos_y$$=mxJSColor.getRelMousePos($e$jscomp$564_x$$);$e$jscomp$564_x$$=$mpos_y$$.x-$THIS$$.pickerFace-$THIS$$.pickerInset;$mpos_y$$=$mpos_y$$.y-$THIS$$.pickerFace-$THIS$$.pickerInset;switch($modeID$$){case 0:$THIS$$.fromHSV(6/(mxJSColor.images.pad[0]-1)*$e$jscomp$564_x$$,1-$mpos_y$$/(mxJSColor.images.pad[1]-1),null,$leaveSld$$);break;case 1:$THIS$$.fromHSV(6/
(mxJSColor.images.pad[0]-1)*$e$jscomp$564_x$$,null,1-$mpos_y$$/(mxJSColor.images.pad[1]-1),$leaveSld$$)}}function $setSld$$($e$jscomp$565_y$$){$e$jscomp$565_y$$=mxJSColor.getRelMousePos($e$jscomp$565_y$$).y-$THIS$$.pickerFace-$THIS$$.pickerInset;switch($modeID$$){case 0:$THIS$$.fromHSV(null,null,1-$e$jscomp$565_y$$/(mxJSColor.images.sld[1]-1),$leavePad$$);break;case 1:$THIS$$.fromHSV(null,1-$e$jscomp$565_y$$/(mxJSColor.images.sld[1]-1),null,$leavePad$$)}}function $dispatchImmediateChange$$(){if($THIS$$.onImmediateChange&&
"string"!==typeof $THIS$$.onImmediateChange)$THIS$$.onImmediateChange($THIS$$)}this.adjust=this.required=!0;this.hash=!1;this.slider=this.caps=!0;this.styleElement=this.valueElement=$target$$;this.onImmediateChange=null;this.hsv=[0,0,1];this.rgb=[1,1,1];this.pickerOnfocus=!0;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerSmartPosition=!0;this.pickerButtonHeight=20;this.pickerClosable=!1;this.pickerCloseText="Close";this.pickerButtonColor="ButtonText";this.pickerFace=0;this.pickerFaceColor=
"ThreeDFace";this.pickerBorder=1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=1E4;for(var $p$jscomp$0$$ in $prop$$)$prop$$.hasOwnProperty($p$jscomp$0$$)&&(this[$p$jscomp$0$$]=$prop$$[$p$jscomp$0$$]);this.hidePicker=function(){$isPickerOwner$$()&&(delete mxJSColor.picker.owner,document.getElementsByTagName("body")[0].removeChild(mxJSColor.picker.boxB))};
this.showPicker=function(){$isPickerOwner$$()||(mxJSColor.getElementPos($target$$),mxJSColor.getElementSize($target$$),mxJSColor.getViewPos(),mxJSColor.getViewSize(),$getPickerDims$$(this),this.pickerPosition.toLowerCase(),$drawPicker$$(0,0))};this.importColor=function(){$valueElement$$?this.adjust?!this.required&&/^\s*$/.test($valueElement$$.value)?($valueElement$$.value="",$styleElement$$.style.backgroundImage=$styleElement$$.jscStyle.backgroundImage,$styleElement$$.style.backgroundColor=$styleElement$$.jscStyle.backgroundColor,
$styleElement$$.style.color=$styleElement$$.jscStyle.color,this.exportColor($leaveValue$$|$leaveStyle$$)):this.fromString($valueElement$$.value)||this.exportColor():this.fromString($valueElement$$.value,$leaveValue$$)||($styleElement$$.style.backgroundImage=$styleElement$$.jscStyle.backgroundImage,$styleElement$$.style.backgroundColor=$styleElement$$.jscStyle.backgroundColor,$styleElement$$.style.color=$styleElement$$.jscStyle.color,this.exportColor($leaveValue$$|$leaveStyle$$)):this.exportColor()};
this.exportColor=function($flags$$){if(!($flags$$&$leaveValue$$)&&$valueElement$$){var $value$$=this.toString();this.caps&&($value$$=$value$$.toUpperCase());this.hash&&($value$$="#"+$value$$);$valueElement$$.value=$value$$}$flags$$&$leaveStyle$$||!$styleElement$$||($styleElement$$.style.backgroundImage="none",$styleElement$$.style.backgroundColor="#"+this.toString(),$styleElement$$.style.color=.5>.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]?"#FFF":"#000");$flags$$&$leavePad$$||!$isPickerOwner$$()||
$redrawPad$$();$flags$$&$leaveSld$$||!$isPickerOwner$$()||$redrawSld$$()};this.fromHSV=function($h$$,$s$$,$v$$,$flags$$){0>$h$$&&($h$$=0);6<$h$$&&($h$$=6);0>$s$$&&($s$$=0);1<$s$$&&($s$$=1);0>$v$$&&($v$$=0);1<$v$$&&($v$$=1);this.rgb=$HSV_RGB$$(null===$h$$?this.hsv[0]:this.hsv[0]=$h$$,null===$s$$?this.hsv[1]:this.hsv[1]=$s$$,null===$v$$?this.hsv[2]:this.hsv[2]=$v$$);this.exportColor($flags$$)};this.fromRGB=function($h$jscomp$inline_10_hsv_r$jscomp$49_r$$,$g$jscomp$321_g$$,$b$jscomp$1299_v$$,$flags$$){0>
$h$jscomp$inline_10_hsv_r$jscomp$49_r$$&&($h$jscomp$inline_10_hsv_r$jscomp$49_r$$=0);1<$h$jscomp$inline_10_hsv_r$jscomp$49_r$$&&($h$jscomp$inline_10_hsv_r$jscomp$49_r$$=1);0>$g$jscomp$321_g$$&&($g$jscomp$321_g$$=0);1<$g$jscomp$321_g$$&&($g$jscomp$321_g$$=1);0>$b$jscomp$1299_v$$&&($b$jscomp$1299_v$$=0);1<$b$jscomp$1299_v$$&&($b$jscomp$1299_v$$=1);$h$jscomp$inline_10_hsv_r$jscomp$49_r$$=null===$h$jscomp$inline_10_hsv_r$jscomp$49_r$$?this.rgb[0]:this.rgb[0]=$h$jscomp$inline_10_hsv_r$jscomp$49_r$$;$g$jscomp$321_g$$=
null===$g$jscomp$321_g$$?this.rgb[1]:this.rgb[1]=$g$jscomp$321_g$$;var $b$$=null===$b$jscomp$1299_v$$?this.rgb[2]:this.rgb[2]=$b$jscomp$1299_v$$,$n$$=Math.min(Math.min($h$jscomp$inline_10_hsv_r$jscomp$49_r$$,$g$jscomp$321_g$$),$b$$);$b$jscomp$1299_v$$=Math.max(Math.max($h$jscomp$inline_10_hsv_r$jscomp$49_r$$,$g$jscomp$321_g$$),$b$$);var $m$$=$b$jscomp$1299_v$$-$n$$;0===$m$$?$h$jscomp$inline_10_hsv_r$jscomp$49_r$$=[null,0,$b$jscomp$1299_v$$]:($h$jscomp$inline_10_hsv_r$jscomp$49_r$$=$h$jscomp$inline_10_hsv_r$jscomp$49_r$$===
$n$$?3+($b$$-$g$jscomp$321_g$$)/$m$$:$g$jscomp$321_g$$===$n$$?5+($h$jscomp$inline_10_hsv_r$jscomp$49_r$$-$b$$)/$m$$:1+($g$jscomp$321_g$$-$h$jscomp$inline_10_hsv_r$jscomp$49_r$$)/$m$$,$h$jscomp$inline_10_hsv_r$jscomp$49_r$$=[6===$h$jscomp$inline_10_hsv_r$jscomp$49_r$$?0:$h$jscomp$inline_10_hsv_r$jscomp$49_r$$,$m$$/$b$jscomp$1299_v$$,$b$jscomp$1299_v$$]);null!==$h$jscomp$inline_10_hsv_r$jscomp$49_r$$[0]&&(this.hsv[0]=$h$jscomp$inline_10_hsv_r$jscomp$49_r$$[0]);0!==$h$jscomp$inline_10_hsv_r$jscomp$49_r$$[2]&&
(this.hsv[1]=$h$jscomp$inline_10_hsv_r$jscomp$49_r$$[1]);this.hsv[2]=$h$jscomp$inline_10_hsv_r$jscomp$49_r$$[2];this.exportColor($flags$$)};this.fromString=function($hex_m$$,$flags$$){return($hex_m$$=$hex_m$$.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i))?(6===$hex_m$$[1].length?this.fromRGB(parseInt($hex_m$$[1].substr(0,2),16)/255,parseInt($hex_m$$[1].substr(2,2),16)/255,parseInt($hex_m$$[1].substr(4,2),16)/255,$flags$$):this.fromRGB(parseInt($hex_m$$[1].charAt(0)+$hex_m$$[1].charAt(0),16)/255,parseInt($hex_m$$[1].charAt(1)+
$hex_m$$[1].charAt(1),16)/255,parseInt($hex_m$$[1].charAt(2)+$hex_m$$[1].charAt(2),16)/255,$flags$$),!0):!1};this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var $THIS$$=this,$modeID$$="hvs"===this.pickerMode.toLowerCase()?1:0,$valueElement$$=mxJSColor.fetchElement(this.valueElement),$styleElement$$=mxJSColor.fetchElement(this.styleElement),$holdPad$$=
!1,$holdSld$$=!1,$leaveValue$$=1,$leaveStyle$$=2,$leavePad$$=4,$leaveSld$$=8;$valueElement$$&&($prop$$=function(){$THIS$$.fromString($valueElement$$.value,$leaveValue$$);$dispatchImmediateChange$$()},mxJSColor.addEvent($valueElement$$,"keyup",$prop$$),mxJSColor.addEvent($valueElement$$,"input",$prop$$),mxJSColor.addEvent($valueElement$$,"blur",$blurValue$$),$valueElement$$.setAttribute("autocomplete","off"));$styleElement$$&&($styleElement$$.jscStyle={backgroundImage:$styleElement$$.style.backgroundImage,
backgroundColor:$styleElement$$.style.backgroundColor,color:$styleElement$$.style.color});switch($modeID$$){case 0:mxJSColor.requireImage("hs.png");break;case 1:mxJSColor.requireImage("hv.png")}this.importColor()}};mxJSColor.install();
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function($arrayStrings$$){return $arrayStrings$$.raw=$arrayStrings$$};$jscomp.createTemplateTagFirstArgWithRaw=function($arrayStrings$$,$rawArrayStrings$$){$arrayStrings$$.raw=$rawArrayStrings$$;return $arrayStrings$$};$jscomp.arrayIteratorImpl=function($array$$){var $index$$=0;return function(){return $index$$<$array$$.length?{done:!1,value:$array$$[$index$$++]}:{done:!0}}};$jscomp.arrayIterator=function($array$$){return{next:$jscomp.arrayIteratorImpl($array$$)}};
$jscomp.makeIterator=function($iterable$$){var $iteratorFunction$$="undefined"!=typeof Symbol&&Symbol.iterator&&$iterable$$[Symbol.iterator];return $iteratorFunction$$?$iteratorFunction$$.call($iterable$$):$jscomp.arrayIterator($iterable$$)};
Editor=function($chromeless$$,$themes$$,$model$$,$graph$$,$editable$$){mxEventSource.call(this);this.chromeless=null!=$chromeless$$?$chromeless$$:this.chromeless;this.initStencilRegistry();this.graph=$graph$$||this.createGraph($themes$$,$model$$);this.editable=null!=$editable$$?$editable$$:!$chromeless$$;this.undoManager=this.createUndoManager();this.status="";this.getOrCreateFilename=function(){return this.filename||mxResources.get("drawing",[Editor.pageCounter])+".xml"};this.getFilename=function(){return this.filename};
this.setStatus=function($value$$,$fn$$){this.status=$value$$;this.statusFunction=$fn$$;this.fireEvent(new mxEventObject("statusChanged"))};this.getStatus=function(){return this.status};this.graphChangeListener=function($edit_sender$$,$eventObject$$){$edit_sender$$=null!=$eventObject$$?$eventObject$$.getProperty("edit"):null;null!=$edit_sender$$&&$edit_sender$$.ignoreEdit||this.setModified(!0)};this.graph.getModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){this.graphChangeListener.apply(this,
arguments)}));this.graph.resetViewOnRootChange=!1;this.init()};Editor.pageCounter=0;(function(){try{for(var $op$$=window;null!=$op$$.opener&&"undefined"!==typeof $op$$.opener.Editor&&!isNaN($op$$.opener.Editor.pageCounter)&&$op$$.opener!=$op$$;)$op$$=$op$$.opener;null!=$op$$&&($op$$.Editor.pageCounter++,Editor.pageCounter=$op$$.Editor.pageCounter)}catch($e$$){}})();Editor.defaultHtmlFont='-apple-system, BlinkMacSystemFont, "Segoe UI Variable", "Segoe UI", system-ui, ui-sans-serif, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji"';
Editor.useLocalStorage="undefined"!=typeof Storage&&mxClient.IS_IOS;Editor.smallScreenWidth=1024;Editor.lightCheckmarkImage="data:image/gif;base64,R0lGODlhFQAVAMQfAGxsbHx8fIqKioaGhvb29nJycvr6+sDAwJqamltbW5OTk+np6YGBgeTk5Ly8vJiYmP39/fLy8qWlpa6ursjIyOLi4vj4+N/f3+3t7fT09LCwsHZ2dubm5r6+vmZmZv///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEY4NTZERTQ5QUFBMTFFMUE5MTVDOTM5MUZGMTE3M0QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEY4NTZERTU5QUFBMTFFMUE5MTVDOTM5MUZGMTE3M0QiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Rjg1NkRFMjlBQUExMUUxQTkxNUM5MzkxRkYxMTczRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Rjg1NkRFMzlBQUExMUUxQTkxNUM5MzkxRkYxMTczRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAB8ALAAAAAAVABUAAAVI4CeOZGmeaKqubKtylktSgCOLRyLd3+QJEJnh4VHcMoOfYQXQLBcBD4PA6ngGlIInEHEhPOANRkaIFhq8SuHCE1Hb8Lh8LgsBADs=";
Editor.darkCheckmarkImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAMAAACeyVWkAAAARVBMVEUAAACZmZkICAgEBASNjY2Dg4MYGBiTk5N5eXl1dXVmZmZQUFBCQkI3NzceHh4MDAykpKSJiYl+fn5sbGxaWlo/Pz8SEhK96uPlAAAAAXRSTlMAQObYZgAAAE5JREFUGNPFzTcSgDAQQ1HJGUfy/Y9K7V1qeOUfzQifCQZai1XHaz11LFysbDbzgDSSWMZiETz3+b8yNUc/MMsktxuC8XQBSncdLwz+8gCCggGXzBcozAAAAABJRU5ErkJggg==";Editor.helpImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDB6Ii8+PHBhdGggZD0iTTExIDE4aDJ2LTJoLTJ2MnptMS0xNkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MSAwLTgtMy41OS04LThzMy41OS04IDgtOCA4IDMuNTkgOCA4LTMuNTkgOC04IDh6bTAtMTRjLTIuMjEgMC00IDEuNzktNCA0aDJjMC0xLjEuOS0yIDItMnMyIC45IDIgMmMwIDItMyAxLjc1LTMgNWgyYzAtMi4yNSAzLTIuNSAzLTUgMC0yLjIxLTEuNzktNC00LTR6Ii8+PC9zdmc+";
Editor.menuImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTMgMThoMTh2LTJIM3Yyem0wLTVoMTh2LTJIM3Yyem0wLTd2MmgxOFY2SDN6Ii8+PC9zdmc+";Editor.moveImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI4cHgiIGhlaWdodD0iMjhweCI+PGc+PC9nPjxnPjxnPjxnPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIuNCwyLjQpc2NhbGUoMC44KXJvdGF0ZSg0NSwxMiwxMikiIHN0cm9rZT0iIzI5YjZmMiIgZmlsbD0iIzI5YjZmMiIgZD0iTTE1LDNsMi4zLDIuM2wtMi44OSwyLjg3bDEuNDIsMS40MkwxOC43LDYuN0wyMSw5VjNIMTV6IE0zLDlsMi4zLTIuM2wyLjg3LDIuODlsMS40Mi0xLjQyTDYuNyw1LjNMOSwzSDNWOXogTTksMjEgbC0yLjMtMi4zbDIuODktMi44N2wtMS40Mi0xLjQyTDUuMywxNy4zTDMsMTV2Nkg5eiBNMjEsMTVsLTIuMywyLjNsLTIuODctMi44OWwtMS40MiwxLjQybDIuODksMi44N0wxNSwyMWg2VjE1eiIvPjwvZz48L2c+PC9nPjwvc3ZnPgo=";
Editor.zoomInImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHptMi41LTRoLTJ2Mkg5di0ySDdWOWgyVjdoMXYyaDJ2MXoiLz48L3N2Zz4=";
Editor.zoomOutImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHpNNyA5aDV2MUg3eiIvPjwvc3ZnPg==";
Editor.fullscreenImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMyA1djRoMlY1aDRWM0g1Yy0xLjEgMC0yIC45LTIgMnptMiAxMEgzdjRjMCAxLjEuOSAyIDIgMmg0di0ySDV2LTR6bTE0IDRoLTR2Mmg0YzEuMSAwIDItLjkgMi0ydi00aC0ydjR6bTAtMTZoLTR2Mmg0djRoMlY1YzAtMS4xLS45LTItMi0yeiIvPjwvc3ZnPg==";Editor.fullscreenExitImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTUgMTZoM3YzaDJ2LTVINXYyem0zLThINXYyaDVWNUg4djN6bTYgMTFoMnYtM2gzdi0yaC01djV6bTItMTFWNWgtMnY1aDVWOGgtM3oiLz48L3N2Zz4=";
Editor.zoomFitImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTUgMTVIM3Y0YzAgMS4xLjkgMiAyIDJoNHYtMkg1di00ek01IDVoNFYzSDVjLTEuMSAwLTIgLjktMiAydjRoMlY1em03IDNjLTIuMjEgMC00IDEuNzktNCA0czEuNzkgNCA0IDQgNC0xLjc5IDQtNC0xLjc5LTQtNC00em0wIDZjLTEuMSAwLTItLjktMi0ycy45LTIgMi0yIDIgLjkgMiAyLS45IDItMiAyem03LTExaC00djJoNHY0aDJWNWMwLTEuMS0uOS0yLTItMnptMCAxNmgtNHYyaDRjMS4xIDAgMi0uOSAyLTJ2LTRoLTJ2NHoiLz48L3N2Zz4=";
Editor.layersImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTExLjk5IDE4LjU0bC03LjM3LTUuNzNMMyAxNC4wN2w5IDcgOS03LTEuNjMtMS4yN3pNMTIgMTZsNy4zNi01LjczTDIxIDlsLTktNy05IDcgMS42MyAxLjI3TDEyIDE2em0wLTExLjQ3TDE3Ljc0IDkgMTIgMTMuNDcgNi4yNiA5IDEyIDQuNTN6Ii8+PC9zdmc+";Editor.previousImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE1LjQxIDcuNDFMMTQgNmwtNiA2IDYgNiAxLjQxLTEuNDFMMTAuODMgMTJsNC41OC00LjU5eiIvPjwvc3ZnPg==";
Editor.nextImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEwIDZMOC41OSA3LjQxIDEzLjE3IDEybC00LjU4IDQuNTlMMTAgMThsNi02LTYtNnoiLz48L3N2Zz4=";Editor.editImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE0LjA2IDkuMDJsLjkyLjkyTDUuOTIgMTlINXYtLjkybDkuMDYtOS4wNk0xNy42NiAzYy0uMjUgMC0uNTEuMS0uNy4yOWwtMS44MyAxLjgzIDMuNzUgMy43NSAxLjgzLTEuODNjLjM5LS4zOS4zOS0xLjAyIDAtMS40MWwtMi4zNC0yLjM0Yy0uMi0uMi0uNDUtLjI5LS43MS0uMjl6bS0zLjYgMy4xOUwzIDE3LjI1VjIxaDMuNzVMMTcuODEgOS45NGwtMy43NS0zLjc1eiIvPjwvc3ZnPg==";
Editor.duplicateImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE2IDFINGMtMS4xIDAtMiAuOS0yIDJ2MTRoMlYzaDEyVjF6bTMgNEg4Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDExYzEuMSAwIDItLjkgMi0yVjdjMC0xLjEtLjktMi0yLTJ6bTAgMTZIOFY3aDExdjE0eiIvPjwvc3ZnPg==";Editor.addImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE5IDEzaC02djZoLTJ2LTZINXYtMmg2VjVoMnY2aDZ2MnoiLz48L3N2Zz4=";
Editor.crossImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMiAxOSA2LjQxeiIvPjwvc3ZnPg==";Editor.verticalDotsImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyIDhjMS4xIDAgMi0uOSAyLTJzLS45LTItMi0yLTIgLjktMiAyIC45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0wIDZjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yeiIvPjwvc3ZnPg==";
Editor.trashImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE2IDl2MTBIOFY5aDhtLTEuNS02aC01bC0xIDFINXYyaDE0VjRoLTMuNWwtMS0xek0xOCA3SDZ2MTJjMCAxLjEuOSAyIDIgMmg4YzEuMSAwIDItLjkgMi0yVjd6Ii8+PC9zdmc+";Editor.hiddenImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6bTAgMGgyNHYyNEgwVjB6bTAgMGgyNHYyNEgwVjB6bTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyIDZjMy43OSAwIDcuMTcgMi4xMyA4LjgyIDUuNS0uNTkgMS4yMi0xLjQyIDIuMjctMi40MSAzLjEybDEuNDEgMS40MWMxLjM5LTEuMjMgMi40OS0yLjc3IDMuMTgtNC41M0MyMS4yNyA3LjExIDE3IDQgMTIgNGMtMS4yNyAwLTIuNDkuMi0zLjY0LjU3bDEuNjUgMS42NUMxMC42NiA2LjA5IDExLjMyIDYgMTIgNnptLTEuMDcgMS4xNEwxMyA5LjIxYy41Ny4yNSAxLjAzLjcxIDEuMjggMS4yOGwyLjA3IDIuMDdjLjA4LS4zNC4xNC0uNy4xNC0xLjA3QzE2LjUgOS4wMSAxNC40OCA3IDEyIDdjLS4zNyAwLS43Mi4wNS0xLjA3LjE0ek0yLjAxIDMuODdsMi42OCAyLjY4QzMuMDYgNy44MyAxLjc3IDkuNTMgMSAxMS41IDIuNzMgMTUuODkgNyAxOSAxMiAxOWMxLjUyIDAgMi45OC0uMjkgNC4zMi0uODJsMy40MiAzLjQyIDEuNDEtMS40MUwzLjQyIDIuNDUgMi4wMSAzLjg3em03LjUgNy41bDIuNjEgMi42MWMtLjA0LjAxLS4wOC4wMi0uMTIuMDItMS4zOCAwLTIuNS0xLjEyLTIuNS0yLjUgMC0uMDUuMDEtLjA4LjAxLS4xM3ptLTMuNC0zLjRsMS43NSAxLjc1Yy0uMjMuNTUtLjM2IDEuMTUtLjM2IDEuNzggMCAyLjQ4IDIuMDIgNC41IDQuNSA0LjUuNjMgMCAxLjIzLS4xMyAxLjc3LS4zNmwuOTguOThjLS44OC4yNC0xLjguMzgtMi43NS4zOC0zLjc5IDAtNy4xNy0yLjEzLTguODItNS41LjctMS40MyAxLjcyLTIuNjEgMi45My0zLjUzeiIvPjwvc3ZnPg==";
Editor.visibleImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyIDZjMy43OSAwIDcuMTcgMi4xMyA4LjgyIDUuNUMxOS4xNyAxNC44NyAxNS43OSAxNyAxMiAxN3MtNy4xNy0yLjEzLTguODItNS41QzQuODMgOC4xMyA4LjIxIDYgMTIgNm0wLTJDNyA0IDIuNzMgNy4xMSAxIDExLjUgMi43MyAxNS44OSA3IDE5IDEyIDE5czkuMjctMy4xMSAxMS03LjVDMjEuMjcgNy4xMSAxNyA0IDEyIDR6bTAgNWMxLjM4IDAgMi41IDEuMTIgMi41IDIuNVMxMy4zOCAxNCAxMiAxNHMtMi41LTEuMTItMi41LTIuNVMxMC42MiA5IDEyIDltMC0yYy0yLjQ4IDAtNC41IDIuMDItNC41IDQuNVM5LjUyIDE2IDEyIDE2czQuNS0yLjAyIDQuNS00LjVTMTQuNDggNyAxMiA3eiIvPjwvc3ZnPg==";
Editor.lockedImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PGcgZmlsbD0ibm9uZSI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6Ii8+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBvcGFjaXR5PSIuODciLz48L2c+PHBhdGggZD0iTTE4IDhoLTFWNmMwLTIuNzYtMi4yNC01LTUtNVM3IDMuMjQgNyA2djJINmMtMS4xIDAtMiAuOS0yIDJ2MTBjMCAxLjEuOSAyIDIgMmgxMmMxLjEgMCAyLS45IDItMlYxMGMwLTEuMS0uOS0yLTItMnpNOSA2YzAtMS42NiAxLjM0LTMgMy0zczMgMS4zNCAzIDN2Mkg5VjZ6bTkgMTRINlYxMGgxMnYxMHptLTYtM2MxLjEgMCAyLS45IDItMnMtLjktMi0yLTItMiAuOS0yIDIgLjkgMiAyIDJ6Ii8+PC9zdmc+";
Editor.unlockedImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE4IDhoLTFWNmMwLTIuNzYtMi4yNC01LTUtNVM3IDMuMjQgNyA2aDJjMC0xLjY2IDEuMzQtMyAzLTNzMyAxLjM0IDMgM3YySDZjLTEuMSAwLTIgLjktMiAydjEwYzAgMS4xLjkgMiAyIDJoMTJjMS4xIDAgMi0uOSAyLTJWMTBjMC0xLjEtLjktMi0yLTJ6bTAgMTJINlYxMGgxMnYxMHptLTYtM2MxLjEgMCAyLS45IDItMnMtLjktMi0yLTItMiAuOS0yIDIgLjkgMiAyIDJ6Ii8+PC9zdmc+";
Editor.printImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE5IDhoLTFWM0g2djVINWMtMS42NiAwLTMgMS4zNC0zIDN2Nmg0djRoMTJ2LTRoNHYtNmMwLTEuNjYtMS4zNC0zLTMtM3pNOCA1aDh2M0g4VjV6bTggMTJ2Mkg4di00aDh2MnptMi0ydi0ySDZ2Mkg0di00YzAtLjU1LjQ1LTEgMS0xaDE0Yy41NSAwIDEgLjQ1IDEgMXY0aC0yeiIvPjxjaXJjbGUgY3g9IjE4IiBjeT0iMTEuNSIgcj0iMSIvPjwvc3ZnPg==";
Editor.refreshImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE3LjY1IDYuMzVDMTYuMiA0LjkgMTQuMjEgNCAxMiA0Yy00LjQyIDAtNy45OSAzLjU4LTcuOTkgOHMzLjU3IDggNy45OSA4YzMuNzMgMCA2Ljg0LTIuNTUgNy43My02aC0yLjA4Yy0uODIgMi4zMy0zLjA0IDQtNS42NSA0LTMuMzEgMC02LTIuNjktNi02czIuNjktNiA2LTZjMS42NiAwIDMuMTQuNjkgNC4yMiAxLjc4TDEzIDExaDdWNGwtMi4zNSAyLjM1eiIvPjwvc3ZnPg==";
Editor.backImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIiBvcGFjaXR5PSIuODciLz48cGF0aCBkPSJNMTcuNTEgMy44N0wxNS43MyAyLjEgNS44NCAxMmw5LjkgOS45IDEuNzctMS43N0w5LjM4IDEybDguMTMtOC4xM3oiLz48L3N2Zz4=";Editor.closeImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIiBvcGFjaXR5PSIuODciLz48cGF0aCBkPSJNMTIgMkM2LjQ3IDIgMiA2LjQ3IDIgMTJzNC40NyAxMCAxMCAxMCAxMC00LjQ3IDEwLTEwUzE3LjUzIDIgMTIgMnptMCAxOGMtNC40MSAwLTgtMy41OS04LThzMy41OS04IDgtOCA4IDMuNTkgOCA4LTMuNTkgOC04IDh6bTMuNTktMTNMMTIgMTAuNTkgOC40MSA3IDcgOC40MSAxMC41OSAxMiA3IDE1LjU5IDguNDEgMTcgMTIgMTMuNDEgMTUuNTkgMTcgMTcgMTUuNTkgMTMuNDEgMTIgMTcgOC40MXoiLz48L3N2Zz4=";
Editor.closeBlackImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjZweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjZweCI+PGVsbGlwc2UgY3g9IjEyIiBjeT0iMTIiIHJ4PSI5IiByeT0iOSIgc3Ryb2tlPSJub25lIiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE0LjU5IDhMMTIgMTAuNTkgOS40MSA4IDggOS40MSAxMC41OSAxMiA4IDE0LjU5IDkuNDEgMTYgMTIgMTMuNDEgMTQuNTkgMTYgMTYgMTQuNTkgMTMuNDEgMTIgMTYgOS40MSAxNC41OSA4ek0xMiAyQzYuNDcgMiAyIDYuNDcgMiAxMnM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTBTMTcuNTMgMiAxMiAyem0wIDE4Yy00LjQxIDAtOC0zLjU5LTgtOHMzLjU5LTggOC04IDggMy41OSA4IDgtMy41OSA4LTggOHoiLz48L3N2Zz4=";
Editor.minusImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTEwIDI1LjV2LTNoMjh2M1oiLz48L3N2Zz4=";Editor.plusImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==";Editor.addBoxImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHdpZHRoPSIyNCI+PHBhdGggZD0iTTExIDE3aDJ2LTRoNHYtMmgtNFY3aC0ydjRIN3YyaDRabS02IDRxLS44MjUgMC0xLjQxMy0uNTg3UTMgMTkuODI1IDMgMTlWNXEwLS44MjUuNTg3LTEuNDEzUTQuMTc1IDMgNSAzaDE0cS44MjUgMCAxLjQxMy41ODdRMjEgNC4xNzUgMjEgNXYxNHEwIC44MjUtLjU4NyAxLjQxM1ExOS44MjUgMjEgMTkgMjFabTAtMmgxNFY1SDV2MTRaTTUgNXYxNFY1WiIvPjwvc3ZnPg==";
Editor.shapesImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHdpZHRoPSIyNCI+PHBhdGggZD0iTTE1IDE1Wm0tNyAyLjk1cS4yNS4wMjUuNDg4LjAzOFE4LjcyNSAxOCA5IDE4dC41MTItLjAxMnEuMjM4LS4wMTMuNDg4LS4wMzhWMjBoMTBWMTBoLTIuMDVxLjAyNS0uMjUuMDM4LS40ODhRMTggOS4yNzUgMTggOXQtLjAxMi0uNTEyUTE3Ljk3NSA4LjI1IDE3Ljk1IDhIMjBxLjgyNSAwIDEuNDEzLjU4N1EyMiA5LjE3NSAyMiAxMHYxMHEwIC44MjUtLjU4NyAxLjQxM1EyMC44MjUgMjIgMjAgMjJIMTBxLS44MjUgMC0xLjQxMi0uNTg3UTggMjAuODI1IDggMjBaTTkgMTZxLTIuOTI1IDAtNC45NjMtMi4wMzhRMiAxMS45MjUgMiA5dDIuMDM3LTQuOTYzUTYuMDc1IDIgOSAycTIuOTI1IDAgNC45NjMgMi4wMzdRMTYgNi4wNzUgMTYgOXEwIDIuOTI1LTIuMDM3IDQuOTYyUTExLjkyNSAxNiA5IDE2Wm0wLTJxMi4wNzUgMCAzLjUzOC0xLjQ2M1ExNCAxMS4wNzUgMTQgOXQtMS40NjItMy41MzdRMTEuMDc1IDQgOSA0IDYuOTI1IDQgNS40NjMgNS40NjMgNCA2LjkyNSA0IDl0MS40NjMgMy41MzdRNi45MjUgMTQgOSAxNFptMC01WiIvPjwvc3ZnPg==";
Editor.formatImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHdpZHRoPSIyNCI+PHBhdGggZD0iTTExIDIycS0uODI1IDAtMS40MTItLjU4N1E5IDIwLjgyNSA5IDIwdi00SDZxLS44MjUgMC0xLjQxMi0uNTg4UTQgMTQuODI1IDQgMTRWN3EwLTEuNjUgMS4xNzUtMi44MjVRNi4zNSAzIDggM2gxMnYxMXEwIC44MjUtLjU4NyAxLjQxMlExOC44MjUgMTYgMTggMTZoLTN2NHEwIC44MjUtLjU4NyAxLjQxM1ExMy44MjUgMjIgMTMgMjJaTTYgMTBoMTJWNWgtMXY0aC0yVjVoLTF2MmgtMlY1SDhxLS44MjUgMC0xLjQxMi41ODhRNiA2LjE3NSA2IDdabTAgNGgxMnYtMkg2djJabTAtMnYyWiIvPjwvc3ZnPg==";
Editor.freehandImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyNCIgd2lkdGg9IjI0Ii8+PHBhdGggZD0iTTQuNSw4YzEuMDQsMCwyLjM0LTEuNSw0LjI1LTEuNWMxLjUyLDAsMi43NSwxLjIzLDIuNzUsMi43NWMwLDIuMDQtMS45OSwzLjE1LTMuOTEsNC4yMkM1LjQyLDE0LjY3LDQsMTUuNTcsNCwxNyBjMCwxLjEsMC45LDIsMiwydjJjLTIuMjEsMC00LTEuNzktNC00YzAtMi43MSwyLjU2LTQuMTQsNC42Mi01LjI4YzEuNDItMC43OSwyLjg4LTEuNiwyLjg4LTIuNDdjMC0wLjQxLTAuMzQtMC43NS0wLjc1LTAuNzUgQzcuNSw4LjUsNi4yNSwxMCw0LjUsMTBDMy4xMiwxMCwyLDguODgsMiw3LjVDMiw1LjQ1LDQuMTcsMi44Myw1LDJsMS40MSwxLjQxQzUuNDEsNC40Miw0LDYuNDMsNCw3LjVDNCw3Ljc4LDQuMjIsOCw0LjUsOHogTTgsMjEgbDMuNzUsMGw4LjA2LTguMDZsLTMuNzUtMy43NUw4LDE3LjI1TDgsMjF6IE0xMCwxOC4wOGw2LjA2LTYuMDZsMC45MiwwLjkyTDEwLjkyLDE5TDEwLDE5TDEwLDE4LjA4eiBNMjAuMzcsNi4yOSBjLTAuMzktMC4zOS0xLjAyLTAuMzktMS40MSwwbC0xLjgzLDEuODNsMy43NSwzLjc1bDEuODMtMS44M2MwLjM5LTAuMzksMC4zOS0xLjAyLDAtMS40MUwyMC4zNyw2LjI5eiIvPjwvc3ZnPg==";
Editor.undoImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIuNSA4Yy0yLjY1IDAtNS4wNS45OS02LjkgMi42TDIgN3Y5aDlsLTMuNjItMy42MmMxLjM5LTEuMTYgMy4xNi0xLjg4IDUuMTItMS44OCAzLjU0IDAgNi41NSAyLjMxIDcuNiA1LjVsMi4zNy0uNzhDMjEuMDggMTEuMDMgMTcuMTUgOCAxMi41IDh6Ii8+PC9zdmc+";Editor.redoImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguNCAxMC42QzE2LjU1IDguOTkgMTQuMTUgOCAxMS41IDhjLTQuNjUgMC04LjU4IDMuMDMtOS45NiA3LjIyTDMuOSAxNmMxLjA1LTMuMTkgNC4wNS01LjUgNy42LTUuNSAxLjk1IDAgMy43My43MiA1LjEyIDEuODhMMTMgMTZoOVY3bC0zLjYgMy42eiIvPjwvc3ZnPg==";
Editor.outlineImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHdpZHRoPSIyNCI+PHBhdGggZD0ibTE1IDIxLTYtMi4xLTQuNjUgMS44cS0uNS4yLS45MjUtLjExM1EzIDIwLjI3NSAzIDE5Ljc1di0xNHEwLS4zMjUuMTg4LS41NzUuMTg3LS4yNS41MTItLjM3NUw5IDNsNiAyLjEgNC42NS0xLjhxLjUtLjIuOTI1LjExMi40MjUuMzEzLjQyNS44Mzh2MTRxMCAuMzI1LS4xODguNTc1LS4xODcuMjUtLjUxMi4zNzVabS0xLTIuNDVWNi44NWwtNC0xLjR2MTEuN1ptMiAwIDMtMVY1LjdsLTMgMS4xNVpNNSAxOC4zbDMtMS4xNVY1LjQ1bC0zIDFaTTE2IDYuODV2MTEuN1ptLTgtMS40djExLjdaIi8+PC9zdmc+";
Editor.saveImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE5IDEydjdINXYtN0gzdjdjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnYtN2gtMnptLTYgLjY3bDIuNTktMi41OEwxNyAxMS41bC01IDUtNS01IDEuNDEtMS40MUwxMSAxMi42N1YzaDJ2OS42N3oiLz48L3N2Zz4=";Editor.compareImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0ibTE1Ljg1IDQwLTIuMS0yLjEgNi4wNS02LjA1SDR2LTNoMTUuOGwtNi4wNS02LjA1IDIuMS0yLjEgOS42NSA5LjY1Wm0xNi4zLTEyLjctOS42NS05LjY1TDMyLjE1IDhsMi4xIDIuMS02LjA1IDYuMDVINDR2M0gyOC4ybDYuMDUgNi4wNVoiLz48L3N2Zz4=";
Editor.expandMoreImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHdpZHRoPSIyNCI+PHBhdGggZD0ibTEyIDE1LjM3NS02LTYgMS40LTEuNCA0LjYgNC42IDQuNi00LjYgMS40IDEuNFoiLz48L3N2Zz4=";Editor.expandLessImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHdpZHRoPSIyNCI+PHBhdGggZD0ibTcuNCAxNS4zNzUtMS40LTEuNCA2LTYgNiA2LTEuNCAxLjQtNC42LTQuNloiLz48L3N2Zz4=";Editor.gearImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHdpZHRoPSIyNCI+PHBhdGggZD0ibTkuMjUgMjItLjQtMy4ycS0uMzI1LS4xMjUtLjYxMi0uMy0uMjg4LS4xNzUtLjU2My0uMzc1TDQuNyAxOS4zNzVsLTIuNzUtNC43NSAyLjU3NS0xLjk1UTQuNSAxMi41IDQuNSAxMi4zMzd2LS42NzVxMC0uMTYyLjAyNS0uMzM3TDEuOTUgOS4zNzVsMi43NS00Ljc1IDIuOTc1IDEuMjVxLjI3NS0uMi41NzUtLjM3NS4zLS4xNzUuNi0uM2wuNC0zLjJoNS41bC40IDMuMnEuMzI1LjEyNS42MTMuMy4yODcuMTc1LjU2Mi4zNzVsMi45NzUtMS4yNSAyLjc1IDQuNzUtMi41NzUgMS45NXEuMDI1LjE3NS4wMjUuMzM3di42NzVxMCAuMTYzLS4wNS4zMzhsMi41NzUgMS45NS0yLjc1IDQuNzUtMi45NS0xLjI1cS0uMjc1LjItLjU3NS4zNzUtLjMuMTc1LS42LjNsLS40IDMuMlptMi44LTYuNXExLjQ1IDAgMi40NzUtMS4wMjVRMTUuNTUgMTMuNDUgMTUuNTUgMTJxMC0xLjQ1LTEuMDI1LTIuNDc1UTEzLjUgOC41IDEyLjA1IDguNXEtMS40NzUgMC0yLjQ4OCAxLjAyNVE4LjU1IDEwLjU1IDguNTUgMTJxMCAxLjQ1IDEuMDEyIDIuNDc1UTEwLjU3NSAxNS41IDEyLjA1IDE1LjVabTAtMnEtLjYyNSAwLTEuMDYyLS40MzgtLjQzOC0uNDM3LS40MzgtMS4wNjJ0LjQzOC0xLjA2MnEuNDM3LS40MzggMS4wNjItLjQzOHQxLjA2My40MzhxLjQzNy40MzcuNDM3IDEuMDYydC0uNDM3IDEuMDYycS0uNDM4LjQzOC0xLjA2My40MzhaTTEyIDEyWm0tMSA4aDEuOTc1bC4zNS0yLjY1cS43NzUtLjIgMS40MzgtLjU4OC42NjItLjM4NyAxLjIxMi0uOTM3bDIuNDc1IDEuMDI1Ljk3NS0xLjctMi4xNS0xLjYyNXEuMTI1LS4zNS4xNzUtLjczOC4wNS0uMzg3LjA1LS43ODd0LS4wNS0uNzg4cS0uMDUtLjM4Ny0uMTc1LS43MzdsMi4xNS0xLjYyNS0uOTc1LTEuNy0yLjQ3NSAxLjA1cS0uNTUtLjU3NS0xLjIxMi0uOTYzLS42NjMtLjM4Ny0xLjQzOC0uNTg3TDEzIDRoLTEuOTc1bC0uMzUgMi42NXEtLjc3NS4yLTEuNDM3LjU4Ny0uNjYzLjM4OC0xLjIxMy45MzhMNS41NSA3LjE1bC0uOTc1IDEuNyAyLjE1IDEuNnEtLjEyNS4zNzUtLjE3NS43NS0uMDUuMzc1LS4wNS44IDAgLjQuMDUuNzc1dC4xNzUuNzVsLTIuMTUgMS42MjUuOTc1IDEuNyAyLjQ3NS0xLjA1cS41NS41NzUgMS4yMTMuOTYyLjY2Mi4zODggMS40MzcuNTg4WiIvPjwvc3ZnPg==";
Editor.extensionImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHdpZHRoPSIyNCI+PHBhdGggZD0iTTguOCAyMUg1cS0uODI1IDAtMS40MTMtLjU4N1EzIDE5LjgyNSAzIDE5di0zLjhxMS4yIDAgMi4xLS43NjIuOS0uNzYzLjktMS45MzggMC0xLjE3NS0uOS0xLjkzOFE0LjIgOS44IDMgOS44VjZxMC0uODI1LjU4Ny0xLjQxMlE0LjE3NSA0IDUgNGg0cTAtMS4wNS43MjUtMS43NzVRMTAuNDUgMS41IDExLjUgMS41cTEuMDUgMCAxLjc3NS43MjVRMTQgMi45NSAxNCA0aDRxLjgyNSAwIDEuNDEzLjU4OFEyMCA1LjE3NSAyMCA2djRxMS4wNSAwIDEuNzc1LjcyNS43MjUuNzI1LjcyNSAxLjc3NSAwIDEuMDUtLjcyNSAxLjc3NVEyMS4wNSAxNSAyMCAxNXY0cTAgLjgyNS0uNTg3IDEuNDEzUTE4LjgyNSAyMSAxOCAyMWgtMy44cTAtMS4yNS0uNzg3LTIuMTI1UTEyLjYyNSAxOCAxMS41IDE4dC0xLjkxMi44NzVROC44IDE5Ljc1IDguOCAyMVpNNSAxOWgyLjEyNXEuNi0xLjY1IDEuOTI1LTIuMzI1UTEwLjM3NSAxNiAxMS41IDE2cTEuMTI1IDAgMi40NS42NzUgMS4zMjUuNjc1IDEuOTI1IDIuMzI1SDE4di02aDJxLjIgMCAuMzUtLjE1LjE1LS4xNS4xNS0uMzUgMC0uMi0uMTUtLjM1UTIwLjIgMTIgMjAgMTJoLTJWNmgtNlY0cTAtLjItLjE1LS4zNS0uMTUtLjE1LS4zNS0uMTUtLjIgMC0uMzUuMTVRMTEgMy44IDExIDR2Mkg1djIuMnExLjM1LjUgMi4xNzUgMS42NzVROCAxMS4wNSA4IDEyLjVxMCAxLjQyNS0uODI1IDIuNlQ1IDE2LjhabTcuNzUtNy43NVoiLz48L3N2Zz4=";
Editor.colorDropperImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTYgNDJ2LTguNGwxOC44NS0xOC44NS0zLjYtMy42TDIzLjMgOS4xbDQuNiA0LjZMMzUgNi42cS41NS0uNTUgMS4xNzUtLjU1dDEuMTc1LjU1bDQuMDUgNC4wNXEuNTUuNTUuNTUgMS4xNzVUNDEuNCAxM2wtNy4xIDcuMSA0LjYgNC42LTIuMDUgMi4wNS0zLjYtMy42TDE0LjQgNDJabTMtM2g0LjM1TDMxLjEgMjEuMjVsLTQuMzUtNC4zNUw5IDM0LjY1Wm0yMy4xNS0yMSA2LjItNi4yLTIuMTUtMi4xNS02LjIgNi4yWm0wIDBMMzAgMTUuODUgMzIuMTUgMThaIi8+PC9zdmc+";
Editor.magnifyImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjQiPjxwYXRoIGQ9Ik03ODQtMTIwIDUzMi0zNzJxLTMwIDI0LTY5IDM4dC04MyAxNHEtMTA5IDAtMTg0LjUtNzUuNVQxMjAtNTgwcTAtMTA5IDc1LjUtMTg0LjVUMzgwLTg0MHExMDkgMCAxODQuNSA3NS41VDY0MC01ODBxMCA0NC0xNCA4M3QtMzggNjlsMjUyIDI1Mi01NiA1NlpNMzgwLTQwMHE3NSAwIDEyNy41LTUyLjVUNTYwLTU4MHEwLTc1LTUyLjUtMTI3LjVUMzgwLTc2MHEtNzUgMC0xMjcuNSA1Mi41VDIwMC01ODBxMCA3NSA1Mi41IDEyNy41VDM4MC00MDBaIi8+PC9zdmc+";
Editor.sendImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjQiPjxwYXRoIGQ9Ik0xMjAtMTYwdi02NDBsNzYwIDMyMC03NjAgMzIwWm04MC0xMjAgNDc0LTIwMC00NzQtMjAwdjE0MGwyNDAgNjAtMjQwIDYwdjE0MFptMCAwdi00MDAgNDAwWiIvPjwvc3ZnPg==";Editor.checkmarkImage=Editor.lightCheckmarkImage;
Editor.roughFillStyles=[{val:"auto",dispName:"Auto"},{val:"hachure",dispName:"Hachure"},{val:"solid",dispName:"Solid"},{val:"zigzag",dispName:"ZigZag"},{val:"cross-hatch",dispName:"Cross Hatch"},{val:"dashed",dispName:"Dashed"},{val:"zigzag-line",dispName:"ZigZag Line"}];
Editor.fillStyles=[{val:"auto",dispName:"Auto"},{val:"hatch",dispName:"Hatch"},{val:"solid",dispName:"Solid"},{val:"dots",dispName:"Dots"},{val:"cross-hatch",dispName:"Cross Hatch"},{val:"dashed",dispName:"Dashed"},{val:"zigzag-line",dispName:"ZigZag Line"}];Editor.themes=[];Editor.ctrlKey=mxClient.IS_MAC?"Cmd":"Ctrl";Editor.hintOffset=20;Editor.shapePickerHoverDelay=300;Editor.fitWindowBorders=null;Editor.popupsAllowed=null!=window.urlParams?"1"!=urlParams.noDevice:!0;Editor.simpleLabels=!1;
Editor.enableNativeCipboard=window==window.top&&!mxClient.IS_FF&&null!=navigator.clipboard;Editor.sketchMode=!1;Editor.enableCssDarkMode=window.mxIsElectron?!1:!0;Editor.cssDarkMode=!1;Editor.darkMode=!1;Editor.currentTheme=uiTheme;Editor.darkColor=Editor.enableCssDarkMode?"#121212":"#18141D";Editor.lightColor="#f0f0f0";Editor.isDarkMode=function($value$$){return Editor.darkMode};Editor.isPngDataUrl=function($url$$){return null!=$url$$&&"data:image/png;"==$url$$.substring(0,15)};
Editor.isPngData=function($data$$){return 8<$data$$.length&&137==$data$$.charCodeAt(0)&&80==$data$$.charCodeAt(1)&&78==$data$$.charCodeAt(2)&&71==$data$$.charCodeAt(3)&&13==$data$$.charCodeAt(4)&&10==$data$$.charCodeAt(5)&&26==$data$$.charCodeAt(6)&&10==$data$$.charCodeAt(7)};Editor.convertHtmlToText=function($label$$){if(null!=$label$$){var $temp$$=document.createElement("div");$temp$$.innerHTML=Graph.sanitizeHtml($label$$);return mxUtils.extractTextWithWhitespace($temp$$.childNodes)}return null};
Editor.extractGraphModelFromPng=function($data$$){var $result$$=null;try{var $base64$$=$data$$.substring($data$$.indexOf(",")+1),$binary$$=window.atob&&!mxClient.IS_SF?atob($base64$$):Base64.decode($base64$$,!0);EditorUi.parsePng($binary$$,mxUtils.bind(this,function($pos_vals_value$$,$type$$,$idx_length$$){$pos_vals_value$$=$binary$$.substring($pos_vals_value$$+8,$pos_vals_value$$+8+$idx_length$$);"zTXt"==$type$$?($idx_length$$=$pos_vals_value$$.indexOf(String.fromCharCode(0)),"mxGraphModel"==$pos_vals_value$$.substring(0,
$idx_length$$)&&($pos_vals_value$$=pako.inflateRaw(Graph.stringToArrayBuffer($pos_vals_value$$.substring($idx_length$$+2)),{to:"string"}).replace(/\+/g," "),null!=$pos_vals_value$$&&0<$pos_vals_value$$.length&&($result$$=$pos_vals_value$$))):"tEXt"==$type$$&&($pos_vals_value$$=$pos_vals_value$$.split(String.fromCharCode(0)),1<$pos_vals_value$$.length&&("mxGraphModel"==$pos_vals_value$$[0]||"mxfile"==$pos_vals_value$$[0])&&($result$$=$pos_vals_value$$[1]));if(null!=$result$$||"IDAT"==$type$$)return!0}))}catch($e$$){}null!=
$result$$&&"%"==$result$$.charAt(0)&&($result$$=decodeURIComponent($result$$));null!=$result$$&&"%"==$result$$.charAt(0)&&($result$$=decodeURIComponent($result$$));return $result$$};
Editor.soundex=function($name$$){if(null==$name$$||0==$name$$.length)return"";var $s$$=[],$si$$=1;$s$$[0]=$name$$[0].toUpperCase();for(var $i$$=1,$l$$=$name$$.length;$i$$<$l$$;$i$$++){var $c$$=$name$$[$i$$].toUpperCase().charCodeAt(0)-65;if(0<=$c$$&&25>=$c$$&&"0"!="01230120022455012603010202"[$c$$]&&("01230120022455012603010202"[$c$$]!=$s$$[$si$$-1]&&($s$$[$si$$]="01230120022455012603010202"[$c$$],$si$$++),3<$si$$))break}if(3>=$si$$)for(;3>=$si$$;)$s$$[$si$$]="0",$si$$++;return $s$$.join("")};
Editor.selectFilename=function($input$$){var $end$$=$input$$.value.lastIndexOf(".");if(0<$end$$){var $ext_temp$$=$input$$.value.substring($end$$+1);"drawio"!=$ext_temp$$&&0<=mxUtils.indexOf(["png","svg","html","xml","pdf"],$ext_temp$$)&&($ext_temp$$=$input$$.value.lastIndexOf(".drawio.",$end$$),0<$ext_temp$$&&($end$$=$ext_temp$$))}$end$$=0<$end$$?$end$$:$input$$.value.length;Editor.selectSubstring($input$$,0,$end$$)};
Editor.selectSubstring=function($input$jscomp$10_range$$,$startPos$$,$endPos$$){$input$jscomp$10_range$$.focus();"undefined"!=typeof $input$jscomp$10_range$$.selectionStart?($input$jscomp$10_range$$.selectionStart=$startPos$$,$input$jscomp$10_range$$.selectionEnd=$endPos$$):document.selection&&document.selection.createRange&&($input$jscomp$10_range$$.select(),$input$jscomp$10_range$$=document.selection.createRange(),$input$jscomp$10_range$$.collapse(!0),$input$jscomp$10_range$$.moveEnd("character",
$endPos$$),$input$jscomp$10_range$$.moveStart("character",$startPos$$),$input$jscomp$10_range$$.select())};mxUtils.extend(Editor,mxEventSource);Editor.prototype.originalNoForeignObject=mxClient.NO_FO;Editor.prototype.transparentImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhMAAwAIAAAP///wAAACH5BAEAAAAALAAAAAAwADAAAAIxhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8egpAAA7":IMAGE_PATH+"/transparent.gif";Editor.prototype.extendCanvas=!0;Editor.prototype.chromeless=!1;
Editor.prototype.cancelFirst=!0;Editor.prototype.enabled=!0;Editor.prototype.filename=null;Editor.prototype.modified=!1;Editor.prototype.autosave=!0;Editor.prototype.initialTopSpacing=0;Editor.prototype.appName=document.title;Editor.prototype.editBlankUrl=window.location.origin+window.location.pathname;Editor.prototype.defaultGraphOverflow="hidden";Editor.prototype.init=function(){};Editor.prototype.isChromelessView=function(){return this.chromeless};
Editor.prototype.setAutosave=function($value$$){this.autosave=$value$$;this.fireEvent(new mxEventObject("autosaveChanged"))};Editor.prototype.getEditBlankUrl=function($params$$){return this.editBlankUrl+$params$$};
Editor.prototype.editAsNew=function($xml$$,$p_title$$){$p_title$$=null!=$p_title$$?"?title="+encodeURIComponent($p_title$$):"";null!=urlParams.ui&&($p_title$$+=(0<$p_title$$.length?"&":"?")+"ui="+urlParams.ui);if("undefined"!==typeof window.postMessage&&(null==document.documentMode||10<=document.documentMode)){var $wnd$$=null,$l$$=mxUtils.bind(this,function($evt$$){"ready"==$evt$$.data&&$evt$$.source==$wnd$$&&(mxEvent.removeListener(window,"message",$l$$),$wnd$$.postMessage($xml$$,"*"))});mxEvent.addListener(window,
"message",$l$$);$wnd$$=this.graph.openLink(this.getEditBlankUrl($p_title$$+(0<$p_title$$.length?"&":"?")+"client=1"),null,!0)}else this.graph.openLink(this.getEditBlankUrl($p_title$$)+"#R"+encodeURIComponent($xml$$))};
Editor.prototype.createGraph=function($graph$jscomp$1_themes$$,$model$$){$graph$jscomp$1_themes$$=new Graph(null,$model$$,null,null,$graph$jscomp$1_themes$$);$graph$jscomp$1_themes$$.transparentBackground=!1;var $graphIsCssTransformsSupported$$=$graph$jscomp$1_themes$$.isCssTransformsSupported,$self$$=this;$graph$jscomp$1_themes$$.isCssTransformsSupported=function(){return $graphIsCssTransformsSupported$$.apply(this,arguments)&&(!$self$$.chromeless||!mxClient.IS_SF)};this.chromeless||($graph$jscomp$1_themes$$.isBlankLink=
function($href$$){return!this.isExternalProtocol($href$$)});return $graph$jscomp$1_themes$$};
Editor.prototype.resetGraph=function(){this.graph.gridEnabled=this.graph.defaultGridEnabled&&(!this.isChromelessView()||"1"==urlParams.grid);this.graph.graphHandler.guidesEnabled=!0;this.graph.setTooltips(!0);this.graph.setConnectable(!0);this.graph.foldingEnabled=!0;this.graph.scrollbars=this.graph.defaultScrollbars;this.graph.pageVisible=this.graph.defaultPageVisible;this.graph.pageBreaksVisible=this.graph.pageVisible;this.graph.preferPageSize=this.graph.pageBreaksVisible;this.graph.background=
null;this.graph.pageScale=mxGraph.prototype.pageScale;this.graph.pageFormat=mxGraph.prototype.pageFormat;this.graph.currentScale=1;this.graph.currentTranslate.x=0;this.graph.currentTranslate.y=0;this.updateGraphComponents();this.graph.view.setScale(1)};
Editor.prototype.readGraphState=function($bg_node$$){var $grid_ps_pv_pw$$=$bg_node$$.getAttribute("grid");if(null==$grid_ps_pv_pw$$||""==$grid_ps_pv_pw$$)$grid_ps_pv_pw$$=this.graph.defaultGridEnabled?"1":"0";this.graph.gridEnabled="0"!=$grid_ps_pv_pw$$&&(!this.isChromelessView()||"1"==urlParams.grid);this.graph.gridSize=parseFloat($bg_node$$.getAttribute("gridSize"))||mxGraph.prototype.gridSize;this.graph.graphHandler.guidesEnabled="0"!=$bg_node$$.getAttribute("guides");this.graph.setTooltips("0"!=
$bg_node$$.getAttribute("tooltips"));this.graph.setConnectable("0"!=$bg_node$$.getAttribute("connect"));this.graph.connectionArrowsEnabled="0"!=$bg_node$$.getAttribute("arrows");this.graph.foldingEnabled="0"!=$bg_node$$.getAttribute("fold");this.isChromelessView()&&this.graph.foldingEnabled&&(this.graph.foldingEnabled="1"==urlParams.nav,this.graph.cellRenderer.forceControlClickHandler=this.graph.foldingEnabled);$grid_ps_pv_pw$$=parseFloat($bg_node$$.getAttribute("pageScale"));!isNaN($grid_ps_pv_pw$$)&&
0<$grid_ps_pv_pw$$?this.graph.pageScale=$grid_ps_pv_pw$$:this.graph.pageScale=mxGraph.prototype.pageScale;this.graph.isLightboxView()||this.graph.isViewer()?this.graph.pageVisible=!1:($grid_ps_pv_pw$$=$bg_node$$.getAttribute("page"),this.graph.pageVisible=null!=$grid_ps_pv_pw$$?"0"!=$grid_ps_pv_pw$$:this.graph.defaultPageVisible);this.graph.pageBreaksVisible=this.graph.pageVisible;this.graph.preferPageSize=this.graph.pageBreaksVisible;$grid_ps_pv_pw$$=parseFloat($bg_node$$.getAttribute("pageWidth"));
var $ph$$=parseFloat($bg_node$$.getAttribute("pageHeight"));isNaN($grid_ps_pv_pw$$)||isNaN($ph$$)||(this.graph.pageFormat=new mxRectangle(0,0,$grid_ps_pv_pw$$,$ph$$));$bg_node$$=$bg_node$$.getAttribute("background");this.graph.background=null!=$bg_node$$&&0<$bg_node$$.length?$bg_node$$:null};
Editor.prototype.setGraphXml=function($node$$){if(null!=$node$$){var $dec$$=new mxCodec($node$$.ownerDocument);if("mxGraphModel"==$node$$.nodeName){this.graph.model.beginUpdate();try{this.graph.model.clear(),this.graph.view.scale=1,this.readGraphState($node$$),this.updateGraphComponents(),$dec$$.decode($node$$,this.graph.getModel())}finally{this.graph.model.endUpdate()}this.fireEvent(new mxEventObject("resetGraphView"))}else if("root"==$node$$.nodeName){this.resetGraph();var $wrapper$$=$dec$$.document.createElement("mxGraphModel");
$wrapper$$.appendChild($node$$);$dec$$.decode($wrapper$$,this.graph.getModel());this.updateGraphComponents();this.fireEvent(new mxEventObject("resetGraphView"))}else throw{message:mxResources.get("cannotOpenFile"),node:$node$$,toString:function(){return this.message}};}else this.resetGraph(),this.graph.model.clear(),this.fireEvent(new mxEventObject("resetGraphView"))};
Editor.prototype.getGraphXml=function($ignoreSelection_node$$){if(null!=$ignoreSelection_node$$?$ignoreSelection_node$$:1){var $enc$$=new mxCodec(mxUtils.createXmlDocument());$ignoreSelection_node$$=$enc$$.encode(this.graph.getModel());$enc$$.document.appendChild($ignoreSelection_node$$)}else $ignoreSelection_node$$=this.graph.encodeCells(mxUtils.sortCells(this.graph.model.getTopmostCells(this.graph.getSelectionCells())));if(0!=this.graph.view.translate.x||0!=this.graph.view.translate.y)$ignoreSelection_node$$.setAttribute("dx",
Math.round(100*this.graph.view.translate.x)/100),$ignoreSelection_node$$.setAttribute("dy",Math.round(100*this.graph.view.translate.y)/100);$ignoreSelection_node$$.setAttribute("grid",this.graph.isGridEnabled()?"1":"0");$ignoreSelection_node$$.setAttribute("gridSize",this.graph.gridSize);$ignoreSelection_node$$.setAttribute("guides",this.graph.graphHandler.guidesEnabled?"1":"0");$ignoreSelection_node$$.setAttribute("tooltips",this.graph.tooltipHandler.isEnabled()?"1":"0");$ignoreSelection_node$$.setAttribute("connect",
this.graph.connectionHandler.isEnabled()?"1":"0");$ignoreSelection_node$$.setAttribute("arrows",this.graph.connectionArrowsEnabled?"1":"0");$ignoreSelection_node$$.setAttribute("fold",this.graph.foldingEnabled?"1":"0");$ignoreSelection_node$$.setAttribute("page",this.graph.pageVisible?"1":"0");$ignoreSelection_node$$.setAttribute("pageScale",this.graph.pageScale);$ignoreSelection_node$$.setAttribute("pageWidth",this.graph.pageFormat.width);$ignoreSelection_node$$.setAttribute("pageHeight",this.graph.pageFormat.height);
null!=this.graph.background&&$ignoreSelection_node$$.setAttribute("background",this.graph.background);return $ignoreSelection_node$$};Editor.prototype.updateGraphComponents=function(){var $graph$$=this.graph;null!=$graph$$.container&&($graph$$.view.validateBackground(),$graph$$.container.style.overflow=$graph$$.scrollbars?"auto":this.defaultGraphOverflow,this.fireEvent(new mxEventObject("updateGraphComponents")))};Editor.prototype.setModified=function($value$$){this.modified=$value$$};
Editor.prototype.setFilename=function($value$$){this.filename=$value$$};
Editor.prototype.createUndoManager=function(){var $graph$$=this.graph,$undoMgr$$=new mxUndoManager;this.undoListener=function($sender$$,$evt$$){$undoMgr$$.undoableEditHappened($evt$$.getProperty("edit"))};var $listener$$=mxUtils.bind(this,function($sender$$,$evt$$){this.undoListener.apply(this,arguments)});$graph$$.getModel().addListener(mxEvent.UNDO,$listener$$);$graph$$.getView().addListener(mxEvent.UNDO,$listener$$);$listener$$=function($cand_sender$$,$cells_evt$$){$cand_sender$$=$graph$$.getSelectionCellsForChanges($cells_evt$$.getProperty("edit").changes,
function($change$$){return!($change$$ instanceof mxChildChange)});if(0<$cand_sender$$.length){$graph$$.getModel();$cells_evt$$=[];for(var $i$$=0;$i$$<$cand_sender$$.length;$i$$++)null!=$graph$$.view.getState($cand_sender$$[$i$$])&&$cells_evt$$.push($cand_sender$$[$i$$]);$graph$$.setSelectionCells($cells_evt$$)}};$undoMgr$$.addListener(mxEvent.UNDO,$listener$$);$undoMgr$$.addListener(mxEvent.REDO,$listener$$);return $undoMgr$$};Editor.prototype.initStencilRegistry=function(){};
Editor.prototype.destroy=function(){null!=this.graph&&(this.graph.destroy(),this.graph=null)};OpenFile=function($done$$){this.consumer=this.producer=null;this.done=$done$$;this.args=null};OpenFile.prototype.setConsumer=function($value$$){this.consumer=$value$$;this.execute()};OpenFile.prototype.setData=function(){this.args=arguments;this.execute()};OpenFile.prototype.error=function($msg$$){this.cancel(!0);mxUtils.alert($msg$$)};
OpenFile.prototype.execute=function(){null!=this.consumer&&null!=this.args&&(this.cancel(!1),this.consumer.apply(this,this.args))};OpenFile.prototype.cancel=function($cancel$$){null!=this.done&&this.done(null!=$cancel$$?$cancel$$:!0)};
function Dialog($editorUi$$,$elt$$,$w$$,$h$$,$modal_pos$$,$closable_img$$,$onClose$$,$noScroll$$,$transparent$$,$onResize$$,$ignoreBgClick$$){this.editorUi=$editorUi$$;var $dx$$=$transparent$$?57:0,$w0$$=$w$$,$h0$$=$h$$,$padding$$=$transparent$$?0:64,$ds_left$$=Editor.inlineFullscreen||null==$editorUi$$.embedViewport?this.getDocumentSize():mxUtils.clone($editorUi$$.embedViewport);null==$editorUi$$.embedViewport&&null!=window.innerHeight&&($ds_left$$.height=window.innerHeight);var $dh$$=$ds_left$$.height;
$ds_left$$=Math.max(1,Math.round(($ds_left$$.width-$w$$-$padding$$)/2));var $top$$=Math.max(1,Math.round(($dh$$-$h$$-$editorUi$$.footerHeight)/3));$elt$$.style.maxHeight="100%";$w$$=null!=document.body?Math.min($w$$,document.body.scrollWidth-$padding$$):$w$$;$h$$=Math.min($h$$,$dh$$-$padding$$);0<$editorUi$$.dialogs.length&&(this.zIndex+=2*$editorUi$$.dialogs.length);null==this.bg&&(this.bg=$editorUi$$.createDiv("geBackground"),this.bg.style.position="absolute",this.bg.style.height=$dh$$+"px",this.bg.style.right=
"0px",this.bg.style.zIndex=this.zIndex-2,mxUtils.setOpacity(this.bg,this.bgOpacity));var $origin$jscomp$0$$=mxUtils.getDocumentScrollOrigin(document);this.bg.style.left=$origin$jscomp$0$$.x+"px";this.bg.style.top=$origin$jscomp$0$$.y+"px";$ds_left$$+=$origin$jscomp$0$$.x;$top$$+=$origin$jscomp$0$$.y;Editor.inlineFullscreen||null==$editorUi$$.embedViewport||(this.bg.style.height=this.getDocumentSize().height+"px",$top$$+=$editorUi$$.embedViewport.y,$ds_left$$+=$editorUi$$.embedViewport.x);$modal_pos$$&&
document.body.appendChild(this.bg);var $div$$=$editorUi$$.createDiv($transparent$$?"geTransDialog":"geDialog");$modal_pos$$=this.getPosition($ds_left$$,$top$$,$w$$,$h$$);$ds_left$$=$modal_pos$$.x;$top$$=$modal_pos$$.y;$div$$.style.width=$w$$+"px";$div$$.style.height=$h$$+"px";$div$$.style.left=$ds_left$$+"px";$div$$.style.top=$top$$+"px";$div$$.style.zIndex=this.zIndex;$div$$.appendChild($elt$$);document.body.appendChild($div$$);!$noScroll$$&&$elt$$.clientHeight>$div$$.clientHeight-$padding$$&&($elt$$.style.overflowY=
"auto");$elt$$.style.overflowX="hidden";if($closable_img$$&&($closable_img$$=document.createElement("img"),$closable_img$$.setAttribute("src",Dialog.prototype.closeImage),$closable_img$$.setAttribute("title",mxResources.get("close")),$closable_img$$.className="geDialogClose",$closable_img$$.style.top=$top$$+14+"px",$closable_img$$.style.left=$ds_left$$+$w$$+38-$dx$$+"px",$closable_img$$.style.zIndex=this.zIndex,mxEvent.addListener($closable_img$$,"click",mxUtils.bind(this,function(){$editorUi$$.hideDialog(!0)})),
document.body.appendChild($closable_img$$),this.dialogImg=$closable_img$$,!$ignoreBgClick$$)){var $mouseDownSeen$$=!1;mxEvent.addGestureListeners(this.bg,mxUtils.bind(this,function($evt$$){$mouseDownSeen$$=!0}),null,mxUtils.bind(this,function($evt$$){$mouseDownSeen$$&&($editorUi$$.hideDialog(!0),$mouseDownSeen$$=!1)}))}this.resizeListener=mxUtils.bind(this,function(){if(null!=$onResize$$){var $ds$jscomp$1_left$$=$onResize$$();null!=$ds$jscomp$1_left$$&&($w0$$=$w$$=$ds$jscomp$1_left$$.w,$h0$$=$h$$=
$ds$jscomp$1_left$$.h)}$ds$jscomp$1_left$$=Editor.inlineFullscreen||null==$editorUi$$.embedViewport?this.getDocumentSize():mxUtils.clone($editorUi$$.embedViewport);$dh$$=$ds$jscomp$1_left$$.height;this.bg.style.height=$dh$$+"px";Editor.inlineFullscreen||null==$editorUi$$.embedViewport||(this.bg.style.height=this.getDocumentSize().height+"px");$w$$=null!=document.body?Math.min($w0$$,document.body.scrollWidth-$padding$$):$w0$$;$h$$=Math.min($h0$$,$dh$$-$padding$$);$ds$jscomp$1_left$$=Math.max(1,Math.round(($ds$jscomp$1_left$$.width-
$w$$-$padding$$)/2));var $pos$jscomp$2_top$$=Math.max(1,Math.round(($dh$$-$h$$-$editorUi$$.footerHeight)/3));$pos$jscomp$2_top$$=this.getPosition($ds$jscomp$1_left$$,$pos$jscomp$2_top$$,$w$$,$h$$);$ds$jscomp$1_left$$=$pos$jscomp$2_top$$.x;$pos$jscomp$2_top$$=$pos$jscomp$2_top$$.y;var $origin$$=mxUtils.getDocumentScrollOrigin(document);$ds$jscomp$1_left$$+=$origin$$.x;$pos$jscomp$2_top$$+=$origin$$.y;Editor.inlineFullscreen||null==$editorUi$$.embedViewport||($pos$jscomp$2_top$$+=$editorUi$$.embedViewport.y,
$ds$jscomp$1_left$$+=$editorUi$$.embedViewport.x);$div$$.style.left=$ds$jscomp$1_left$$+"px";$div$$.style.top=$pos$jscomp$2_top$$+"px";$div$$.style.width=$w$$+"px";$div$$.style.height=$h$$+"px";!$noScroll$$&&$elt$$.clientHeight>$div$$.clientHeight-$padding$$&&($elt$$.style.overflowY="auto");null!=this.dialogImg&&(this.dialogImg.style.top=$pos$jscomp$2_top$$+14+"px",this.dialogImg.style.left=$ds$jscomp$1_left$$+$w$$+38-$dx$$+"px")});null!=$editorUi$$.embedViewport?$editorUi$$.addListener("embedViewportChanged",
this.resizeListener):mxEvent.addListener(window,"resize",this.resizeListener);this.onDialogClose=$onClose$$;this.container=$div$$;$editorUi$$.editor.fireEvent(new mxEventObject("showDialog"))}Dialog.prototype.zIndex=mxPopupMenu.prototype.zIndex-2;
Dialog.prototype.noColorImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEzRDlBMUUwODYxMTExRTFCMzA4RDdDMjJBMEMxRDM3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEzRDlBMUUxODYxMTExRTFCMzA4RDdDMjJBMEMxRDM3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTNEOUExREU4NjExMTFFMUIzMDhEN0MyMkEwQzFEMzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTNEOUExREY4NjExMTFFMUIzMDhEN0MyMkEwQzFEMzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5xh3fmAAAABlBMVEX////MzMw46qqDAAAAGElEQVR42mJggAJGKGAYIIGBth8KAAIMAEUQAIElnLuQAAAAAElFTkSuQmCC":IMAGE_PATH+
"/nocolor.png";Dialog.prototype.defaultColorImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEUAAAD///+l2Z/dAAAAKUlEQVQI1wXBMREAIAwEsHAMjJVQKZVW6U8CDpdH0QxLnLjxoqJjYvMBewMJ51TWcscAAAAASUVORK5CYII=":IMAGE_PATH+"/defaultcolor.png";
Dialog.prototype.closeImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJAQMAAADaX5RTAAAABlBMVEV7mr3///+wksspAAAAAnRSTlP/AOW3MEoAAAAdSURBVAgdY9jXwCDDwNDRwHCwgeExmASygSL7GgB12QiqNHZZIwAAAABJRU5ErkJggg==":IMAGE_PATH+"/close.png";
Dialog.prototype.clearImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDQAKAIABAMDAwP///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUIzOEM1NzI4NjEyMTFFMUEzMkNDMUE3NjZERDE2QjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUIzOEM1NzM4NjEyMTFFMUEzMkNDMUE3NjZERDE2QjIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QjM4QzU3MDg2MTIxMUUxQTMyQ0MxQTc2NkREMTZCMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QjM4QzU3MTg2MTIxMUUxQTMyQ0MxQTc2NkREMTZCMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAEALAAAAAANAAoAAAIXTGCJebD9jEOTqRlttXdrB32PJ2ncyRQAOw==":IMAGE_PATH+
"/clear.gif";Dialog.prototype.bgOpacity=80;Dialog.prototype.getDocumentSize=function(){return mxUtils.getDocumentSize()};Dialog.prototype.getPosition=function($left$$,$top$$){return new mxPoint($left$$,$top$$)};
Dialog.prototype.close=function($cancel$$,$isEsc$$){if(null!=this.onDialogClose){if(0==this.onDialogClose($cancel$$,$isEsc$$))return!1;this.onDialogClose=null}null!=this.dialogImg&&null!=this.dialogImg.parentNode&&(this.dialogImg.parentNode.removeChild(this.dialogImg),this.dialogImg=null);null!=this.bg&&null!=this.bg.parentNode&&this.bg.parentNode.removeChild(this.bg);null!=this.editorUi.embedViewport?this.editorUi.removeListener(this.resizeListener):mxEvent.removeListener(window,"resize",this.resizeListener);
null!=this.container.parentNode&&this.container.parentNode.removeChild(this.container)};
var ErrorDialog=function($editorUi$$,$p2_retryBtn_title$$,$btns_message$$,$buttonText_mainBtn$$,$fn$$,$retry$$,$buttonText2$$,$fn2$$,$hide$$,$btn3_buttonText3$$,$fn3$$){$hide$$=null!=$hide$$?$hide$$:!0;var $div$$=document.createElement("div");$div$$.style.textAlign="center";if(null!=$p2_retryBtn_title$$){var $hd$$=document.createElement("div");$hd$$.style.padding="0px";$hd$$.style.margin="0px";$hd$$.style.fontSize="18px";$hd$$.style.paddingBottom="16px";$hd$$.style.marginBottom="10px";$hd$$.style.borderBottom=
"1px solid #c0c0c0";$hd$$.style.color="gray";$hd$$.style.whiteSpace="nowrap";$hd$$.style.textOverflow="ellipsis";$hd$$.style.overflow="hidden";mxUtils.write($hd$$,$p2_retryBtn_title$$);$hd$$.setAttribute("title",$p2_retryBtn_title$$);$div$$.appendChild($hd$$)}$p2_retryBtn_title$$=document.createElement("div");$p2_retryBtn_title$$.style.lineHeight="1.2em";$p2_retryBtn_title$$.style.padding="6px";"string"===typeof $btns_message$$&&($btns_message$$=$btns_message$$.replace(/\n/g,"<br/>"));$p2_retryBtn_title$$.innerHTML=
Graph.sanitizeHtml($btns_message$$);$div$$.appendChild($p2_retryBtn_title$$);$btns_message$$=document.createElement("div");$btns_message$$.style.marginTop="12px";$btns_message$$.style.textAlign="center";null!=$retry$$&&($p2_retryBtn_title$$=mxUtils.button(mxResources.get("tryAgain"),function(){$editorUi$$.hideDialog();$retry$$()}),$p2_retryBtn_title$$.className="geBtn",$btns_message$$.appendChild($p2_retryBtn_title$$),$btns_message$$.style.textAlign="center");null!=$btn3_buttonText3$$&&($btn3_buttonText3$$=
mxUtils.button($btn3_buttonText3$$,function(){null!=$fn3$$&&$fn3$$()}),$btn3_buttonText3$$.className="geBtn",$btns_message$$.appendChild($btn3_buttonText3$$));var $btn$$=mxUtils.button($buttonText_mainBtn$$,function(){$hide$$&&$editorUi$$.hideDialog();null!=$fn$$&&$fn$$()});$btn$$.className="geBtn";$btns_message$$.appendChild($btn$$);null!=$buttonText2$$&&($buttonText_mainBtn$$=mxUtils.button($buttonText2$$,function(){$hide$$&&$editorUi$$.hideDialog();null!=$fn2$$&&$fn2$$()}),$buttonText_mainBtn$$.className=
"geBtn gePrimaryBtn",$btns_message$$.appendChild($buttonText_mainBtn$$));this.init=function(){$btn$$.focus()};$div$$.appendChild($btns_message$$);this.container=$div$$},PrintDialog=function($editorUi$$,$title$$){this.create($editorUi$$,$title$$)};
PrintDialog.prototype.create=function($editorUi$$){function $preview$$($print$$){var $autoOrigin_preview$$=$onePageCheckBox$$.checked||$pageCountCheckBox$$.checked,$layout_printScale$$=parseInt($pageScaleInput$$.value)/100;isNaN($layout_printScale$$)&&($layout_printScale$$=1,$pageScaleInput$$.value="100%");mxClient.IS_SF&&($layout_printScale$$*=.75);var $pf$$=$graph$$.pageFormat||mxConstants.PAGE_FORMAT_A4_PORTRAIT,$scale$$=1/$graph$$.pageScale;if($autoOrigin_preview$$){var $pageCount_x0$$=$onePageCheckBox$$.checked?
1:parseInt($pageCountInput$$.value);isNaN($pageCount_x0$$)||($scale$$=mxUtils.getScaleForPageCount($pageCount_x0$$,$graph$$,$pf$$))}var $y0$$=$pageCount_x0$$=0;$pf$$=mxRectangle.fromRectangle($pf$$);$pf$$.width=Math.ceil($pf$$.width*$layout_printScale$$);$pf$$.height=Math.ceil($pf$$.height*$layout_printScale$$);$scale$$*=$layout_printScale$$;!$autoOrigin_preview$$&&$graph$$.pageVisible?($layout_printScale$$=$graph$$.getPageLayout(),$pageCount_x0$$-=$layout_printScale$$.x*$pf$$.width,$y0$$-=$layout_printScale$$.y*
$pf$$.height):$autoOrigin_preview$$=!0;$autoOrigin_preview$$=PrintDialog.createPrintPreview($graph$$,$scale$$,$pf$$,0,$pageCount_x0$$,$y0$$,$autoOrigin_preview$$);$autoOrigin_preview$$.open();$print$$&&PrintDialog.printPreview($autoOrigin_preview$$)}var $graph$$=$editorUi$$.editor.graph,$table$$=document.createElement("table");$table$$.style.width="100%";$table$$.style.height="100%";var $tbody$$=document.createElement("tbody");var $row$$=document.createElement("tr");var $onePageCheckBox$$=document.createElement("input");
$onePageCheckBox$$.setAttribute("type","checkbox");var $td$$=document.createElement("td");$td$$.setAttribute("colspan","2");$td$$.style.fontSize="10pt";$td$$.appendChild($onePageCheckBox$$);var $cancelBtn_span$$=document.createElement("span");mxUtils.write($cancelBtn_span$$," "+mxResources.get("fitPage"));$td$$.appendChild($cancelBtn_span$$);mxEvent.addListener($cancelBtn_span$$,"click",function($evt$$){$onePageCheckBox$$.checked=!$onePageCheckBox$$.checked;$pageCountCheckBox$$.checked=!$onePageCheckBox$$.checked;
mxEvent.consume($evt$$)});mxEvent.addListener($onePageCheckBox$$,"change",function(){$pageCountCheckBox$$.checked=!$onePageCheckBox$$.checked});$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$row$$=$row$$.cloneNode(!1);var $pageCountCheckBox$$=document.createElement("input");$pageCountCheckBox$$.setAttribute("type","checkbox");$td$$=document.createElement("td");$td$$.style.fontSize="10pt";$td$$.appendChild($pageCountCheckBox$$);$cancelBtn_span$$=document.createElement("span");mxUtils.write($cancelBtn_span$$,
" "+mxResources.get("posterPrint")+":");$td$$.appendChild($cancelBtn_span$$);mxEvent.addListener($cancelBtn_span$$,"click",function($evt$$){$pageCountCheckBox$$.checked=!$pageCountCheckBox$$.checked;$onePageCheckBox$$.checked=!$pageCountCheckBox$$.checked;mxEvent.consume($evt$$)});$row$$.appendChild($td$$);var $pageCountInput$$=document.createElement("input");$pageCountInput$$.setAttribute("value","1");$pageCountInput$$.setAttribute("type","number");$pageCountInput$$.setAttribute("min","1");$pageCountInput$$.setAttribute("size",
"4");$pageCountInput$$.setAttribute("disabled","disabled");$pageCountInput$$.style.width="50px";$td$$=document.createElement("td");$td$$.style.fontSize="10pt";$td$$.appendChild($pageCountInput$$);mxUtils.write($td$$," "+mxResources.get("pages")+" (max)");$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);mxEvent.addListener($pageCountCheckBox$$,"change",function(){$pageCountCheckBox$$.checked?$pageCountInput$$.removeAttribute("disabled"):$pageCountInput$$.setAttribute("disabled","disabled");$onePageCheckBox$$.checked=
!$pageCountCheckBox$$.checked});$row$$=$row$$.cloneNode(!1);$td$$=document.createElement("td");mxUtils.write($td$$,mxResources.get("pageScale")+":");$row$$.appendChild($td$$);$td$$=document.createElement("td");var $pageScaleInput$$=document.createElement("input");$pageScaleInput$$.setAttribute("value","100 %");$pageScaleInput$$.setAttribute("size","5");$pageScaleInput$$.style.width="50px";$td$$.appendChild($pageScaleInput$$);$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$row$$=document.createElement("tr");
$td$$=document.createElement("td");$td$$.colSpan=2;$td$$.style.paddingTop="20px";$td$$.setAttribute("align","right");$cancelBtn_span$$=mxUtils.button(mxResources.get("cancel"),function(){$editorUi$$.hideDialog()});$cancelBtn_span$$.className="geBtn";$editorUi$$.editor.cancelFirst&&$td$$.appendChild($cancelBtn_span$$);if(PrintDialog.previewEnabled){var $previewBtn_printBtn$$=mxUtils.button(mxResources.get("preview"),function(){$editorUi$$.hideDialog();$preview$$(!1)});$previewBtn_printBtn$$.className=
"geBtn";$td$$.appendChild($previewBtn_printBtn$$)}$previewBtn_printBtn$$=mxUtils.button(mxResources.get(PrintDialog.previewEnabled?"print":"ok"),function(){$editorUi$$.hideDialog();$preview$$(!0)});$previewBtn_printBtn$$.className="geBtn gePrimaryBtn";$td$$.appendChild($previewBtn_printBtn$$);$editorUi$$.editor.cancelFirst||$td$$.appendChild($cancelBtn_span$$);$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$table$$.appendChild($tbody$$);this.container=$table$$};
PrintDialog.printPreview=function($preview$$){try{null!=$preview$$.wnd&&window.setTimeout(function(){$preview$$.wnd.focus();$preview$$.wnd.print();$preview$$.wnd.close()},500)}catch($e$$){}};
PrintDialog.createPrintPreview=function($graph$$,$preview$jscomp$3_scale$$,$pf$$,$border$$,$x0$$,$y0$$,$autoOrigin$jscomp$1_bg$$){$preview$jscomp$3_scale$$=new mxPrintPreview($graph$$,$preview$jscomp$3_scale$$,$pf$$,$border$$,$x0$$,$y0$$);$preview$jscomp$3_scale$$.title=mxResources.get("preview");$preview$jscomp$3_scale$$.addPageCss=!mxClient.IS_SF;$preview$jscomp$3_scale$$.printBackgroundImage=!0;$preview$jscomp$3_scale$$.autoOrigin=$autoOrigin$jscomp$1_bg$$;$autoOrigin$jscomp$1_bg$$=$graph$$.background;
if(null==$autoOrigin$jscomp$1_bg$$||""==$autoOrigin$jscomp$1_bg$$||$autoOrigin$jscomp$1_bg$$==mxConstants.NONE)$autoOrigin$jscomp$1_bg$$="#ffffff";$preview$jscomp$3_scale$$.backgroundColor=$autoOrigin$jscomp$1_bg$$;var $isTextLabel$$=$preview$jscomp$3_scale$$.isTextLabel;$preview$jscomp$3_scale$$.isTextLabel=function($node$$){return"geHint"==!$node$$.className&&$isTextLabel$$.apply(this,arguments)};var $getLinkForCellState$$=$preview$jscomp$3_scale$$.getLinkForCellState;$preview$jscomp$3_scale$$.getLinkForCellState=
function($state$$){return $graph$$.getAbsoluteUrl($getLinkForCellState$$.apply(this,arguments))};var $writeHead$$=$preview$jscomp$3_scale$$.writeHead;$preview$jscomp$3_scale$$.writeHead=function($doc$$){$writeHead$$.apply(this,arguments);$doc$$.writeln('<style type="text/css">');$doc$$.writeln("@media screen {");$doc$$.writeln("  body > div { padding:30px;box-sizing:content-box; }");$doc$$.writeln("}");$doc$$.writeln("</style>")};return $preview$jscomp$3_scale$$};PrintDialog.previewEnabled=!0;
var PageSetupDialog=function($editorUi$$){function $updateBackgroundImage$$(){var $img$$=$newBackgroundImage$$;null!=$img$$&&null!=$img$$.originalSrc&&($img$$=$editorUi$$.createImageForPageLink($img$$.originalSrc,null));null!=$img$$&&null!=$img$$.src?($imgPreview$$.style.backgroundImage="url("+$img$$.src+")",$imgPreview$$.style.display="inline-block"):($imgPreview$$.style.backgroundImage="",$imgPreview$$.style.display="none");$imgPreview$$.style.backgroundColor="";null!=$newBackgroundColor$$&&$newBackgroundColor$$!=
mxConstants.NONE&&($imgPreview$$.style.backgroundColor=$newBackgroundColor$$,$imgPreview$$.style.display="inline-block")}var $graph$$=$editorUi$$.editor.graph,$table$$=document.createElement("table");$table$$.style.width="100%";$table$$.style.height="100%";var $tbody$$=document.createElement("tbody");var $row$$=document.createElement("tr");var $td$$=document.createElement("td");$td$$.style.verticalAlign="top";$td$$.style.fontSize="10pt";mxUtils.write($td$$,mxResources.get("paperSize")+":");$row$$.appendChild($td$$);
$td$$=document.createElement("td");$td$$.style.verticalAlign="top";$td$$.style.fontSize="10pt";var $accessor$$=PageSetupDialog.addPageFormatPanel($td$$,"pagesetupdialog",$graph$$.pageFormat);$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$row$$=document.createElement("tr");$td$$=document.createElement("td");mxUtils.write($td$$,mxResources.get("gridSize")+":");$row$$.appendChild($td$$);$td$$=document.createElement("td");$td$$.style.whiteSpace="nowrap";var $gridSizeInput$$=document.createElement("input");
$gridSizeInput$$.setAttribute("type","number");$gridSizeInput$$.setAttribute("min","0");$gridSizeInput$$.style.width="40px";$gridSizeInput$$.style.marginLeft="6px";$gridSizeInput$$.value=$graph$$.getGridSize();$td$$.appendChild($gridSizeInput$$);mxEvent.addListener($gridSizeInput$$,"change",function(){var $value$$=parseInt($gridSizeInput$$.value);$gridSizeInput$$.value=Math.max(1,isNaN($value$$)?$graph$$.getGridSize():$value$$)});$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$row$$=document.createElement("tr");
$td$$=document.createElement("td");mxUtils.write($td$$,mxResources.get("background")+":");$row$$.appendChild($td$$);$td$$=document.createElement("td");var $cancelBtn$$=document.createElement("button");$cancelBtn$$.className="geBtn";$cancelBtn$$.style.margin="0px";mxUtils.write($cancelBtn$$,mxResources.get("change")+"...");var $imgPreview$$=document.createElement("div");$imgPreview$$.style.display="inline-block";$imgPreview$$.style.verticalAlign="middle";$imgPreview$$.style.backgroundPosition="center center";
$imgPreview$$.style.backgroundRepeat="no-repeat";$imgPreview$$.style.backgroundSize="contain";$imgPreview$$.style.border="1px solid lightGray";$imgPreview$$.style.borderRadius="4px";$imgPreview$$.style.marginRight="14px";$imgPreview$$.style.height="32px";$imgPreview$$.style.width="64px";$imgPreview$$.style.cursor="pointer";$imgPreview$$.style.padding="4px";var $newBackgroundImage$$=$graph$$.backgroundImage,$newBackgroundColor$$=$graph$$.background,$newShadowVisible$$=$graph$$.shadowVisible,$applyBtn_changeImage$$=
function($evt$$){$editorUi$$.showBackgroundImageDialog(function($image$$,$failed$$,$color$$,$shadowVisible$$){$failed$$||(null!=$image$$&&null!=$image$$.src&&Graph.isPageLink($image$$.src)&&($image$$={originalSrc:$image$$.src}),$newBackgroundImage$$=$image$$,$newShadowVisible$$=$shadowVisible$$);$newBackgroundColor$$=$color$$;$updateBackgroundImage$$()},$newBackgroundImage$$,$newBackgroundColor$$,!0);mxEvent.consume($evt$$)};mxEvent.addListener($cancelBtn$$,"click",$applyBtn_changeImage$$);mxEvent.addListener($imgPreview$$,
"click",$applyBtn_changeImage$$);$updateBackgroundImage$$();$td$$.appendChild($imgPreview$$);$td$$.appendChild($cancelBtn$$);$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$row$$=document.createElement("tr");$td$$=document.createElement("td");$td$$.colSpan=2;$td$$.style.paddingTop="16px";$td$$.setAttribute("align","right");$cancelBtn$$=mxUtils.button(mxResources.get("cancel"),function(){$editorUi$$.hideDialog()});$cancelBtn$$.className="geBtn";$editorUi$$.editor.cancelFirst&&$td$$.appendChild($cancelBtn$$);
$applyBtn_changeImage$$=mxUtils.button(mxResources.get("apply"),function(){$editorUi$$.hideDialog();var $change$$=parseInt($gridSizeInput$$.value);isNaN($change$$)||$graph$$.gridSize===$change$$||$graph$$.setGridSize($change$$);$change$$=new ChangePageSetup($editorUi$$,$newBackgroundColor$$,$newBackgroundImage$$,$accessor$$.get());$change$$.ignoreColor=$graph$$.background==$newBackgroundColor$$;$change$$.ignoreImage=(null!=$graph$$.backgroundImage?$graph$$.backgroundImage.src:null)===(null!=$newBackgroundImage$$?
$newBackgroundImage$$.src:null);null!=$newShadowVisible$$&&($change$$.shadowVisible=$newShadowVisible$$);$graph$$.pageFormat.width==$change$$.previousFormat.width&&$graph$$.pageFormat.height==$change$$.previousFormat.height&&$change$$.ignoreColor&&$change$$.ignoreImage&&$change$$.shadowVisible==$graph$$.shadowVisible||$graph$$.model.execute($change$$)});$applyBtn_changeImage$$.className="geBtn gePrimaryBtn";$td$$.appendChild($applyBtn_changeImage$$);$editorUi$$.editor.cancelFirst||$td$$.appendChild($cancelBtn$$);
$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$table$$.appendChild($tbody$$);this.container=$table$$};
PageSetupDialog.addPageFormatPanel=function($div$$,$formatName_namePostfix_portraitSpan$$,$pageFormat$$,$pageFormatListener$$){function $listener$$($detected_sender$$,$evt$jscomp$41_i$$,$f$jscomp$2_force$$){if($f$jscomp$2_force$$||$widthInput$$!=document.activeElement&&$heightInput$$!=document.activeElement){$detected_sender$$=!1;for($evt$jscomp$41_i$$=0;$evt$jscomp$41_i$$<$formats$$.length;$evt$jscomp$41_i$$++)$f$jscomp$2_force$$=$formats$$[$evt$jscomp$41_i$$],$customSize$$?"custom"==$f$jscomp$2_force$$.key&&
($paperSizeSelect$$.value=$f$jscomp$2_force$$.key,$customSize$$=!1):null!=$f$jscomp$2_force$$.format&&("a4"==$f$jscomp$2_force$$.key?826==$pageFormat$$.width?($pageFormat$$=mxRectangle.fromRectangle($pageFormat$$),$pageFormat$$.width=827):826==$pageFormat$$.height&&($pageFormat$$=mxRectangle.fromRectangle($pageFormat$$),$pageFormat$$.height=827):"a5"==$f$jscomp$2_force$$.key&&(584==$pageFormat$$.width?($pageFormat$$=mxRectangle.fromRectangle($pageFormat$$),$pageFormat$$.width=583):584==$pageFormat$$.height&&
($pageFormat$$=mxRectangle.fromRectangle($pageFormat$$),$pageFormat$$.height=583)),$pageFormat$$.width==$f$jscomp$2_force$$.format.width&&$pageFormat$$.height==$f$jscomp$2_force$$.format.height?($paperSizeSelect$$.value=$f$jscomp$2_force$$.key,$portraitCheckBox$$.setAttribute("checked","checked"),$portraitCheckBox$$.defaultChecked=!0,$portraitCheckBox$$.checked=!0,$landscapeCheckBox$$.removeAttribute("checked"),$landscapeCheckBox$$.defaultChecked=!1,$landscapeCheckBox$$.checked=!1,$detected_sender$$=
!0):$pageFormat$$.width==$f$jscomp$2_force$$.format.height&&$pageFormat$$.height==$f$jscomp$2_force$$.format.width&&($paperSizeSelect$$.value=$f$jscomp$2_force$$.key,$portraitCheckBox$$.removeAttribute("checked"),$portraitCheckBox$$.defaultChecked=!1,$portraitCheckBox$$.checked=!1,$landscapeCheckBox$$.setAttribute("checked","checked"),$landscapeCheckBox$$.defaultChecked=!0,$detected_sender$$=$landscapeCheckBox$$.checked=!0));$detected_sender$$?($formatDiv$$.style.display="",$customDiv$$.style.display=
"none"):($widthInput$$.value=$pageFormat$$.width/100,$heightInput$$.value=$pageFormat$$.height/100,$portraitCheckBox$$.setAttribute("checked","checked"),$paperSizeSelect$$.value="custom",$formatDiv$$.style.display="none",$customDiv$$.style.display="")}}$formatName_namePostfix_portraitSpan$$="format-"+$formatName_namePostfix_portraitSpan$$;var $portraitCheckBox$$=document.createElement("input");$portraitCheckBox$$.setAttribute("name",$formatName_namePostfix_portraitSpan$$);$portraitCheckBox$$.setAttribute("type",
"radio");$portraitCheckBox$$.setAttribute("value","portrait");var $landscapeCheckBox$$=document.createElement("input");$landscapeCheckBox$$.setAttribute("name",$formatName_namePostfix_portraitSpan$$);$landscapeCheckBox$$.setAttribute("type","radio");$landscapeCheckBox$$.setAttribute("value","landscape");var $paperSizeSelect$$=document.createElement("select");$paperSizeSelect$$.style.marginBottom="8px";$paperSizeSelect$$.style.borderRadius="4px";$paperSizeSelect$$.style.borderWidth="1px";$paperSizeSelect$$.style.borderStyle=
"solid";$paperSizeSelect$$.style.width="206px";var $formatDiv$$=document.createElement("div");$formatDiv$$.style.marginLeft="4px";$formatDiv$$.style.width="210px";$formatDiv$$.style.height="24px";$portraitCheckBox$$.style.marginRight="6px";$formatDiv$$.appendChild($portraitCheckBox$$);$formatName_namePostfix_portraitSpan$$=document.createElement("span");$formatName_namePostfix_portraitSpan$$.style.maxWidth="100px";mxUtils.write($formatName_namePostfix_portraitSpan$$,mxResources.get("portrait"));$formatDiv$$.appendChild($formatName_namePostfix_portraitSpan$$);
$landscapeCheckBox$$.style.marginLeft="10px";$landscapeCheckBox$$.style.marginRight="6px";$formatDiv$$.appendChild($landscapeCheckBox$$);var $landscapeSpan$$=document.createElement("span");$landscapeSpan$$.style.width="100px";mxUtils.write($landscapeSpan$$,mxResources.get("landscape"));$formatDiv$$.appendChild($landscapeSpan$$);var $customDiv$$=document.createElement("div");$customDiv$$.style.marginLeft="4px";$customDiv$$.style.width="210px";$customDiv$$.style.height="24px";var $widthInput$$=document.createElement("input");
$widthInput$$.setAttribute("size","7");$widthInput$$.style.textAlign="right";$customDiv$$.appendChild($widthInput$$);mxUtils.write($customDiv$$," in x ");var $heightInput$$=document.createElement("input");$heightInput$$.setAttribute("size","7");$heightInput$$.style.textAlign="right";$customDiv$$.appendChild($heightInput$$);mxUtils.write($customDiv$$," in");$formatDiv$$.style.display="none";$customDiv$$.style.display="none";for(var $pf$$={},$formats$$=PageSetupDialog.getFormats(),$i$$=0;$i$$<$formats$$.length;$i$$++){var $f$$=
$formats$$[$i$$];$pf$$[$f$$.key]=$f$$;var $paperSizeOption$$=document.createElement("option");$paperSizeOption$$.setAttribute("value",$f$$.key);mxUtils.write($paperSizeOption$$,$f$$.title);$paperSizeSelect$$.appendChild($paperSizeOption$$)}var $customSize$$=!1;$listener$$();$div$$.appendChild($paperSizeSelect$$);mxUtils.br($div$$);$div$$.appendChild($formatDiv$$);$div$$.appendChild($customDiv$$);var $currentPageFormat$$=$pageFormat$$,$update$$=function($evt$jscomp$42_f$$,$selectChanged$$){$evt$jscomp$42_f$$=
$pf$$[$paperSizeSelect$$.value];null!=$evt$jscomp$42_f$$.format?($widthInput$$.value=$evt$jscomp$42_f$$.format.width/100,$heightInput$$.value=$evt$jscomp$42_f$$.format.height/100,$customDiv$$.style.display="none",$formatDiv$$.style.display=""):($formatDiv$$.style.display="none",$customDiv$$.style.display="");$evt$jscomp$42_f$$=parseFloat($widthInput$$.value);if(isNaN($evt$jscomp$42_f$$)||0>=$evt$jscomp$42_f$$)$widthInput$$.value=$pageFormat$$.width/100;$evt$jscomp$42_f$$=parseFloat($heightInput$$.value);
if(isNaN($evt$jscomp$42_f$$)||0>=$evt$jscomp$42_f$$)$heightInput$$.value=$pageFormat$$.height/100;$evt$jscomp$42_f$$=new mxRectangle(0,0,Math.floor(100*parseFloat($widthInput$$.value)),Math.floor(100*parseFloat($heightInput$$.value)));"custom"!=$paperSizeSelect$$.value&&$landscapeCheckBox$$.checked&&($evt$jscomp$42_f$$=new mxRectangle(0,0,$evt$jscomp$42_f$$.height,$evt$jscomp$42_f$$.width));$selectChanged$$&&$customSize$$||$evt$jscomp$42_f$$.width==$currentPageFormat$$.width&&$evt$jscomp$42_f$$.height==
$currentPageFormat$$.height||($currentPageFormat$$=$evt$jscomp$42_f$$,null!=$pageFormatListener$$&&$pageFormatListener$$($currentPageFormat$$))};mxEvent.addListener($formatName_namePostfix_portraitSpan$$,"click",function($evt$$){$portraitCheckBox$$.checked=!0;$update$$($evt$$);mxEvent.consume($evt$$)});mxEvent.addListener($landscapeSpan$$,"click",function($evt$$){$landscapeCheckBox$$.checked=!0;$update$$($evt$$);mxEvent.consume($evt$$)});mxEvent.addListener($widthInput$$,"blur",$update$$);mxEvent.addListener($widthInput$$,
"click",$update$$);mxEvent.addListener($heightInput$$,"blur",$update$$);mxEvent.addListener($heightInput$$,"click",$update$$);mxEvent.addListener($landscapeCheckBox$$,"change",$update$$);mxEvent.addListener($portraitCheckBox$$,"change",$update$$);mxEvent.addListener($paperSizeSelect$$,"change",function($evt$$){$customSize$$="custom"==$paperSizeSelect$$.value;$update$$($evt$$,!0)});$update$$();return{set:function($value$$){$pageFormat$$=$value$$;$listener$$(null,null,!0)},get:function(){return $currentPageFormat$$},
widthInput:$widthInput$$,heightInput:$heightInput$$}};
PageSetupDialog.getFormats=function(){return[{key:"letter",title:'US-Letter (8,5" x 11")',format:mxConstants.PAGE_FORMAT_LETTER_PORTRAIT},{key:"legal",title:'US-Legal (8,5" x 14")',format:new mxRectangle(0,0,850,1400)},{key:"tabloid",title:'US-Tabloid (11" x 17")',format:new mxRectangle(0,0,1100,1700)},{key:"executive",title:'US-Executive (7" x 10")',format:new mxRectangle(0,0,700,1E3)},{key:"a0",title:"A0 (841 mm x 1189 mm)",format:new mxRectangle(0,0,3300,4681)},{key:"a1",title:"A1 (594 mm x 841 mm)",
format:new mxRectangle(0,0,2339,3300)},{key:"a2",title:"A2 (420 mm x 594 mm)",format:new mxRectangle(0,0,1654,2336)},{key:"a3",title:"A3 (297 mm x 420 mm)",format:new mxRectangle(0,0,1169,1654)},{key:"a4",title:"A4 (210 mm x 297 mm)",format:mxConstants.PAGE_FORMAT_A4_PORTRAIT},{key:"a5",title:"A5 (148 mm x 210 mm)",format:new mxRectangle(0,0,583,827)},{key:"a6",title:"A6 (105 mm x 148 mm)",format:new mxRectangle(0,0,413,583)},{key:"a7",title:"A7 (74 mm x 105 mm)",format:new mxRectangle(0,0,291,413)},
{key:"b4",title:"B4 (250 mm x 353 mm)",format:new mxRectangle(0,0,980,1390)},{key:"b5",title:"B5 (176 mm x 250 mm)",format:new mxRectangle(0,0,690,980)},{key:"16-9",title:"16:9 (1600 x 900)",format:new mxRectangle(0,0,900,1600)},{key:"16-10",title:"16:10 (1920 x 1200)",format:new mxRectangle(0,0,1200,1920)},{key:"4-3",title:"4:3 (1600 x 1200)",format:new mxRectangle(0,0,1200,1600)},{key:"custom",title:mxResources.get("custom"),format:null}]};
var FilenameDialog=function($editorUi$$,$filename$$,$buttonText$$,$fn$$,$label$$,$validateFn$$,$content$$,$helpLink$$,$closeOnBtn$$,$cancelFn$$,$hints$$){$closeOnBtn$$=null!=$closeOnBtn$$?$closeOnBtn$$:!0;var $container$$=document.createElement("div"),$table$$=document.createElement("div");$table$$.style.width="100%";$table$$.style.display="grid";$table$$.style.gap="5px 8px";$table$$.style.gridAutoColumns="auto 1fr";$table$$.style.boxSizing="border-box";$table$$.style.padding="3px";var $cancelBtn$jscomp$2_td$$=
document.createElement("div");$cancelBtn$jscomp$2_td$$.style.display="inline-flex";$cancelBtn$jscomp$2_td$$.style.alignItems="center";$cancelBtn$jscomp$2_td$$.style.justifyContent="flex-end";$cancelBtn$jscomp$2_td$$.style.minWidth="0";var $wrapper$$=document.createElement("div");$wrapper$$.style.display="inline-block";$wrapper$$.style.textOverflow="ellipsis";$wrapper$$.style.whiteSpace="nowrap";$wrapper$$.style.overflow="hidden";$wrapper$$.style.fontSize="10pt";$wrapper$$.style.padding="2px 0";$wrapper$$.setAttribute("title",
$label$$||mxResources.get("filename"));mxUtils.write($wrapper$$,($label$$||mxResources.get("filename"))+":");$cancelBtn$jscomp$2_td$$.appendChild($wrapper$$);$table$$.appendChild($cancelBtn$jscomp$2_td$$);var $nameInput$$=document.createElement("input");$nameInput$$.setAttribute("value",$filename$$||"");$nameInput$$.style.flexGrow="1";var $genericBtn$$=mxUtils.button($buttonText$$,function(){if(null==$validateFn$$||$validateFn$$($nameInput$$.value))$closeOnBtn$$&&$editorUi$$.hideDialog(),$fn$$($nameInput$$.value)});
$genericBtn$$.className="geBtn gePrimaryBtn";this.init=function(){if(null!=$label$$||null==$content$$)if(null!=$hints$$?Editor.selectFilename($nameInput$$):($nameInput$$.focus(),mxClient.IS_GC||mxClient.IS_FF||5<=document.documentMode?$nameInput$$.select():document.execCommand("selectAll",!1,null)),Graph.fileSupport){var $dlg$$=$table$$.parentNode;if(null!=$dlg$$){var $dropElt$$=null;mxEvent.addListener($dlg$$,"dragleave",function($evt$$){null!=$dropElt$$&&($dropElt$$.style.backgroundColor="",$dropElt$$=
null);$evt$$.stopPropagation();$evt$$.preventDefault()});mxEvent.addListener($dlg$$,"dragover",mxUtils.bind(this,function($evt$$){null==$dropElt$$&&(!mxClient.IS_IE||10<document.documentMode)&&($dropElt$$=$nameInput$$,$dropElt$$.style.backgroundColor="#ebf2f9");$evt$$.stopPropagation();$evt$$.preventDefault()}));mxEvent.addListener($dlg$$,"drop",mxUtils.bind(this,function($evt$$){null!=$dropElt$$&&($dropElt$$.style.backgroundColor="",$dropElt$$=null);0<=mxUtils.indexOf($evt$$.dataTransfer.types,"text/uri-list")&&
($nameInput$$.value=decodeURIComponent($evt$$.dataTransfer.getData("text/uri-list")),$genericBtn$$.click());$evt$$.stopPropagation();$evt$$.preventDefault()}))}}};$cancelBtn$jscomp$2_td$$=document.createElement("div");$cancelBtn$jscomp$2_td$$.style.display="inline-flex";$cancelBtn$jscomp$2_td$$.style.alignItems="center";$cancelBtn$jscomp$2_td$$.style.gap="4px";$cancelBtn$jscomp$2_td$$.style.whiteSpace="nowrap";$cancelBtn$jscomp$2_td$$.appendChild($nameInput$$);$table$$.appendChild($cancelBtn$jscomp$2_td$$);
null==$label$$&&null!=$content$$||null==$hints$$||null==$editorUi$$.editor.diagramFileTypes||($cancelBtn$jscomp$2_td$$=document.createElement("div"),$cancelBtn$jscomp$2_td$$.style.display="inline-flex",$cancelBtn$jscomp$2_td$$.style.alignItems="center",$cancelBtn$jscomp$2_td$$.style.textOverflow="ellipsis",$cancelBtn$jscomp$2_td$$.style.justifyContent="flex-end",$cancelBtn$jscomp$2_td$$.style.fontSize="10pt",mxUtils.write($cancelBtn$jscomp$2_td$$,mxResources.get("type")+":"),$table$$.appendChild($cancelBtn$jscomp$2_td$$),
$cancelBtn$jscomp$2_td$$=document.createElement("div"),$cancelBtn$jscomp$2_td$$.style.display="inline-flex",$cancelBtn$jscomp$2_td$$.style.alignItems="center",$cancelBtn$jscomp$2_td$$.style.whiteSpace="nowrap",$table$$.appendChild($cancelBtn$jscomp$2_td$$),$filename$$=FilenameDialog.createFileTypes($editorUi$$,$nameInput$$,$editorUi$$.editor.diagramFileTypes),$filename$$.style.width="100%",$cancelBtn$jscomp$2_td$$.appendChild($filename$$));null!=$content$$&&$table$$.appendChild($content$$);row=document.createElement("div");
row.style.gridColumn="1 / span 2";row.style.paddingTop=null!=$hints$$?"6px":"14px";row.style.whiteSpace="nowrap";row.style.display="inline-flex";row.style.alignItems="center";row.style.justifyContent="flex-end";row.setAttribute("align","right");$cancelBtn$jscomp$2_td$$=mxUtils.button(mxResources.get("cancel"),function(){$editorUi$$.hideDialog();null!=$cancelFn$$&&$cancelFn$$()});$cancelBtn$jscomp$2_td$$.className="geBtn";null==$helpLink$$||$editorUi$$.isOffline()||row.appendChild($editorUi$$.createHelpIcon($helpLink$$));
$editorUi$$.editor.cancelFirst&&row.appendChild($cancelBtn$jscomp$2_td$$);mxEvent.addListener($nameInput$$,"keypress",function($e$$){13==$e$$.keyCode&&$genericBtn$$.click()});row.appendChild($genericBtn$$);$editorUi$$.editor.cancelFirst||row.appendChild($cancelBtn$jscomp$2_td$$);$table$$.appendChild(row);$container$$.appendChild($table$$);this.container=$container$$};FilenameDialog.filenameHelpLink=null;
FilenameDialog.createFileTypes=function($editorUi$jscomp$6_i$$,$nameInput$$,$types$$){var $typeSelect$$=document.createElement("select");for($editorUi$jscomp$6_i$$=0;$editorUi$jscomp$6_i$$<$types$$.length;$editorUi$jscomp$6_i$$++){var $typeOption$$=document.createElement("option");$typeOption$$.setAttribute("value",$editorUi$jscomp$6_i$$);mxUtils.write($typeOption$$,mxResources.get($types$$[$editorUi$jscomp$6_i$$].description)+" (."+$types$$[$editorUi$jscomp$6_i$$].extension+")");$typeSelect$$.appendChild($typeOption$$)}mxEvent.addListener($typeSelect$$,
"change",function($changeEvent_evt$jscomp$49_ext$$){$changeEvent_evt$jscomp$49_ext$$=$types$$[$typeSelect$$.value].extension;var $idx$$=$nameInput$$.value.lastIndexOf(".drawio.");$idx$$=0<$idx$$?$idx$$:$nameInput$$.value.lastIndexOf(".");"drawio"!=$changeEvent_evt$jscomp$49_ext$$&&($changeEvent_evt$jscomp$49_ext$$="drawio."+$changeEvent_evt$jscomp$49_ext$$);$nameInput$$.value=0<$idx$$?$nameInput$$.value.substring(0,$idx$$+1)+$changeEvent_evt$jscomp$49_ext$$:$nameInput$$.value+"."+$changeEvent_evt$jscomp$49_ext$$;
"createEvent"in document?($changeEvent_evt$jscomp$49_ext$$=document.createEvent("HTMLEvents"),$changeEvent_evt$jscomp$49_ext$$.initEvent("change",!1,!0),$nameInput$$.dispatchEvent($changeEvent_evt$jscomp$49_ext$$)):$nameInput$$.fireEvent("onchange")});$editorUi$jscomp$6_i$$=function($evt$jscomp$50_name$$){$evt$jscomp$50_name$$=$nameInput$$.value.toLowerCase();for(var $active$$=0,$i$$=0;$i$$<$types$$.length;$i$$++){var $ext$$=$types$$[$i$$].extension,$subExt$$=null;"drawio"!=$ext$$&&($subExt$$=$ext$$,
$ext$$=".drawio."+$ext$$);if($evt$jscomp$50_name$$.substring($evt$jscomp$50_name$$.length-$ext$$.length-1)=="."+$ext$$||null!=$subExt$$&&$evt$jscomp$50_name$$.substring($evt$jscomp$50_name$$.length-$subExt$$.length-1)=="."+$subExt$$){$active$$=$i$$;break}}$typeSelect$$.value=$active$$};mxEvent.addListener($nameInput$$,"change",$editorUi$jscomp$6_i$$);mxEvent.addListener($nameInput$$,"keyup",$editorUi$jscomp$6_i$$);$editorUi$jscomp$6_i$$();return $typeSelect$$};
var WrapperWindow=function($editorUi$$,$title$$,$x$$,$y$$,$w$$,$h$$,$fn$$){var $div$$=$editorUi$$.createSidebarContainer();$fn$$($div$$);this.window=new mxWindow($title$$,$div$$,$x$$,$y$$,$w$$,$h$$,!0,!0);this.window.destroyOnClose=!1;this.window.setMaximizable(!1);this.window.setResizable(!0);this.window.setClosable(!0);this.window.setVisible(!0);$editorUi$$.installResizeHandler(this,!0);mxClient.IS_SF&&(this.window.div.onselectstart=mxUtils.bind(this,function($evt$$){null==$evt$$&&($evt$$=window.event);
return null!=$evt$$&&$editorUi$$.isSelectionAllowed($evt$$)}))};
(function(){mxGraphView.prototype.validateBackgroundPage=function(){var $graph$$=this.graph;if(null!=$graph$$.container&&!$graph$$.transparentBackground){if($graph$$.pageVisible){var $bounds$$=this.getBackgroundPageBounds();if(null==this.backgroundPageShape){for(var $firstChild$$=$graph$$.container.firstChild;null!=$firstChild$$&&$firstChild$$.nodeType!=mxConstants.NODETYPE_ELEMENT;)$firstChild$$=$firstChild$$.nextSibling;null!=$firstChild$$&&(this.backgroundPageShape=this.createBackgroundPageShape($bounds$$),
this.backgroundPageShape.scale=1,this.backgroundPageShape.isShadow=!0,this.backgroundPageShape.dialect=mxConstants.DIALECT_STRICTHTML,this.backgroundPageShape.init($graph$$.container),$firstChild$$.style.position="absolute",$graph$$.container.insertBefore(this.backgroundPageShape.node,$firstChild$$),this.backgroundPageShape.redraw(),this.backgroundPageShape.node.className="geBackgroundPage",mxEvent.addListener(this.backgroundPageShape.node,"dblclick",mxUtils.bind(this,function($evt$$){$graph$$.dblClick($evt$$)})),
mxEvent.addGestureListeners(this.backgroundPageShape.node,mxUtils.bind(this,function($evt$$){$graph$$.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($evt$$))}),mxUtils.bind(this,function($evt$$){null!=$graph$$.tooltipHandler&&$graph$$.tooltipHandler.isHideOnHover()&&$graph$$.tooltipHandler.hide();$graph$$.isMouseDown&&!mxEvent.isConsumed($evt$$)&&$graph$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($evt$$))}),mxUtils.bind(this,function($evt$$){$graph$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($evt$$))})))}else this.backgroundPageShape.scale=
1,this.backgroundPageShape.bounds=$bounds$$,this.backgroundPageShape.redraw()}else null!=this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null);this.validateBackgroundStyles()}};mxGraphView.prototype.validateBackgroundStyles=function($canvas_factor$$,$cx$jscomp$1_dx$$,$cy$jscomp$1_dy$$){var $graph$$=this.graph;$canvas_factor$$=null!=$canvas_factor$$?$canvas_factor$$:1;var $color$$=null==$graph$$.background||$graph$$.background==mxConstants.NONE?$graph$$.defaultPageBackgroundColor:
$graph$$.background,$gridColor_useDiagramBackground_x0$$=null!=$color$$&&this.gridColor!=$color$$.toLowerCase()?this.gridColor:"#ffffff",$image$$="none",$phase_position$$="";if($graph$$.isGridEnabled()||$graph$$.gridVisible){$phase_position$$=10;mxClient.IS_SVG?($image$$=unescape(encodeURIComponent(this.createSvgGrid($gridColor_useDiagramBackground_x0$$,$canvas_factor$$))),$image$$=window.btoa?btoa($image$$):Base64.encode($image$$,!0),$image$$="url(data:image/svg+xml;base64,"+$image$$+")",$phase_position$$=
$graph$$.gridSize*this.scale*this.gridSteps*$canvas_factor$$):$image$$="url("+this.gridImage+")";var $bds_y0$$=$gridColor_useDiagramBackground_x0$$=0;$cx$jscomp$1_dx$$=null!=$cx$jscomp$1_dx$$?$cx$jscomp$1_dx$$-this.translate.x*this.scale:0;$cy$jscomp$1_dy$$=null!=$cy$jscomp$1_dy$$?$cy$jscomp$1_dy$$-this.translate.y*this.scale:0;var $ddy_p$$=$graph$$.gridSize*this.scale*this.gridSteps,$ddx$$=$cx$jscomp$1_dx$$%$ddy_p$$;$ddy_p$$=$cy$jscomp$1_dy$$%$ddy_p$$;null!=$graph$$.view.backgroundPageShape&&($bds_y0$$=
this.getBackgroundPageBounds(),$gridColor_useDiagramBackground_x0$$=1+$bds_y0$$.x,$bds_y0$$=1+$bds_y0$$.y);$phase_position$$=-Math.round($phase_position$$-mxUtils.mod(this.translate.x*this.scale-$gridColor_useDiagramBackground_x0$$+$cx$jscomp$1_dx$$,$phase_position$$)+$ddx$$*$canvas_factor$$)+"px "+-Math.round($phase_position$$-mxUtils.mod(this.translate.y*this.scale-$bds_y0$$+$cy$jscomp$1_dy$$,$phase_position$$)+$ddy_p$$*$canvas_factor$$)+"px"}$canvas_factor$$=$graph$$.view.canvas;null!=$canvas_factor$$.ownerSVGElement&&
($canvas_factor$$=$canvas_factor$$.ownerSVGElement);$gridColor_useDiagramBackground_x0$$=!Editor.isDarkMode()&&$graph$$.enableDiagramBackground;null!=$graph$$.view.backgroundPageShape?($graph$$.view.backgroundPageShape.node.style.backgroundPosition=$phase_position$$,$graph$$.view.backgroundPageShape.node.style.backgroundImage=$image$$,$graph$$.view.backgroundPageShape.node.style.backgroundColor=$color$$,$graph$$.view.backgroundPageShape.node.style.borderColor=$graph$$.defaultPageBorderColor,$graph$$.container.classList.add("geDiagramBackdrop"),
$canvas_factor$$.style.backgroundImage="none",$canvas_factor$$.style.backgroundColor="",$graph$$.container.style.backgroundColor=$gridColor_useDiagramBackground_x0$$?$graph$$.diagramBackgroundColor:""):($graph$$.container.classList.remove("geDiagramBackdrop"),$canvas_factor$$.style.backgroundPosition=$phase_position$$,$canvas_factor$$.style.backgroundImage=$image$$,!$gridColor_useDiagramBackground_x0$$||null!=$graph$$.background&&$graph$$.background!=mxConstants.NONE?$canvas_factor$$.style.backgroundColor=
$color$$:($canvas_factor$$.style.backgroundColor=$graph$$.diagramBackgroundColor,$graph$$.container.style.backgroundColor=""))};mxGraphView.prototype.createSvgGrid=function($color$$,$factor$$){for($factor$$=this.graph.gridSize*this.scale*(null!=$factor$$?$factor$$:1);$factor$$<this.minGridSize;)$factor$$*=2;for(var $tmp2$$=this.gridSteps*$factor$$,$d$$=[],$i$$=1;$i$$<this.gridSteps;$i$$++){var $tmp3$$=$i$$*$factor$$;$d$$.push("M 0 "+$tmp3$$+" L "+$tmp2$$+" "+$tmp3$$+" M "+$tmp3$$+" 0 L "+$tmp3$$+
" "+$tmp2$$)}return'<svg width="'+$tmp2$$+'" height="'+$tmp2$$+'" xmlns="'+mxConstants.NS_SVG+'"><defs><pattern id="grid" width="'+$tmp2$$+'" height="'+$tmp2$$+'" patternUnits="userSpaceOnUse"><path d="'+$d$$.join(" ")+'" fill="none" stroke="'+$color$$+'" opacity="0.2" stroke-width="1"/><path d="M '+$tmp2$$+" 0 L 0 0 0 "+$tmp2$$+'" fill="none" stroke="'+$color$$+'" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(#grid)"/></svg>'};var $mxGraphPanGraph$$=mxGraph.prototype.panGraph;
mxGraph.prototype.panGraph=function($dx$$,$dy$$){$mxGraphPanGraph$$.apply(this,arguments);if(null!=this.shiftPreview1){var $canvas$$=this.view.canvas;null!=$canvas$$.ownerSVGElement&&($canvas$$=$canvas$$.ownerSVGElement);var $phase$jscomp$1_position$$=this.gridSize*this.view.scale*this.view.gridSteps;$phase$jscomp$1_position$$=-Math.round($phase$jscomp$1_position$$-mxUtils.mod(this.view.translate.x*this.view.scale+$dx$$,$phase$jscomp$1_position$$))+"px "+-Math.round($phase$jscomp$1_position$$-mxUtils.mod(this.view.translate.y*
this.view.scale+$dy$$,$phase$jscomp$1_position$$))+"px";$canvas$$.style.backgroundPosition=$phase$jscomp$1_position$$}};mxGraph.prototype.updatePageBreaks=function($drawPageBreaks_visible$$,$width$$,$height$$){var $scale$$=this.view.scale,$tr$$=this.view.translate,$fmt$$=this.pageFormat,$ps$$=$scale$$*this.pageScale,$bounds2$$=this.view.getBackgroundPageBounds();$width$$=$bounds2$$.width;$height$$=$bounds2$$.height;var $bounds$$=new mxRectangle($scale$$*$tr$$.x,$scale$$*$tr$$.y,$fmt$$.width*$ps$$,
$fmt$$.height*$ps$$),$horizontalCount$$=($drawPageBreaks_visible$$=$drawPageBreaks_visible$$&&Math.min($bounds$$.width,$bounds$$.height)>this.minPageBreakDist)?Math.ceil($height$$/$bounds$$.height)-1:0,$verticalCount$$=$drawPageBreaks_visible$$?Math.ceil($width$$/$bounds$$.width)-1:0,$right$$=$bounds2$$.x+$width$$,$bottom$$=$bounds2$$.y+$height$$;null==this.horizontalPageBreaks&&0<$horizontalCount$$&&(this.horizontalPageBreaks=[]);null==this.verticalPageBreaks&&0<$verticalCount$$&&(this.verticalPageBreaks=
[]);$drawPageBreaks_visible$$=mxUtils.bind(this,function($breaks$$){if(null!=$breaks$$){for(var $count$$=$breaks$$==this.horizontalPageBreaks?$horizontalCount$$:$verticalCount$$,$i$$=0;$i$$<=$count$$;$i$$++){var $pageBreak_pts$$=$breaks$$==this.horizontalPageBreaks?[new mxPoint(Math.round($bounds2$$.x),Math.round($bounds2$$.y+($i$$+1)*$bounds$$.height)),new mxPoint(Math.round($right$$),Math.round($bounds2$$.y+($i$$+1)*$bounds$$.height))]:[new mxPoint(Math.round($bounds2$$.x+($i$$+1)*$bounds$$.width),
Math.round($bounds2$$.y)),new mxPoint(Math.round($bounds2$$.x+($i$$+1)*$bounds$$.width),Math.round($bottom$$))];null!=$breaks$$[$i$$]?($breaks$$[$i$$].points=$pageBreak_pts$$,$breaks$$[$i$$].redraw()):($pageBreak_pts$$=new mxPolyline($pageBreak_pts$$,this.pageBreakColor),$pageBreak_pts$$.dialect=this.dialect,$pageBreak_pts$$.isDashed=this.pageBreakDashed,$pageBreak_pts$$.pointerEvents=!1,$pageBreak_pts$$.init(this.view.backgroundPane),$pageBreak_pts$$.redraw(),$breaks$$[$i$$]=$pageBreak_pts$$)}for($i$$=
$count$$;$i$$<$breaks$$.length;$i$$++)null!=$breaks$$[$i$$]&&$breaks$$[$i$$].destroy();$breaks$$.splice($count$$,$breaks$$.length-$count$$)}});$drawPageBreaks_visible$$(this.horizontalPageBreaks);$drawPageBreaks_visible$$(this.verticalPageBreaks)};var $mxGraphHandlerShouldRemoveCellsFromParent$$=mxGraphHandler.prototype.shouldRemoveCellsFromParent;mxGraphHandler.prototype.shouldRemoveCellsFromParent=function($parent$$,$cells$$,$evt$$){for(var $i$$=0;$i$$<$cells$$.length;$i$$++){if(this.graph.isTableCell($cells$$[$i$$])||
this.graph.isTableRow($cells$$[$i$$]))return!1;if(this.graph.getModel().isVertex($cells$$[$i$$])){var $geo$$=this.graph.getCellGeometry($cells$$[$i$$]);if(null!=$geo$$&&$geo$$.relative)return!1}}return $mxGraphHandlerShouldRemoveCellsFromParent$$.apply(this,arguments)};var $mxConnectionHandlerCreateMarker$$=mxConnectionHandler.prototype.createMarker;mxConnectionHandler.prototype.createMarker=function(){var $marker$$=$mxConnectionHandlerCreateMarker$$.apply(this,arguments);$marker$$.intersects=mxUtils.bind(this,
function($state$$,$evt$$){return this.isConnecting()?!0:mxCellMarker.prototype.intersects.apply($marker$$,arguments)});return $marker$$};mxGraphView.prototype.createBackgroundPageShape=function($bounds$$){return new mxRectangleShape($bounds$$,"#ffffff",this.graph.defaultPageBorderColor)};mxGraphView.prototype.getBackgroundPageBounds=function(){var $gb$$=this.getGraphBounds(),$x$$=0<$gb$$.width?$gb$$.x/this.scale-this.translate.x:0,$y$$=0<$gb$$.height?$gb$$.y/this.scale-this.translate.y:0,$fmt$jscomp$1_ph$$=
this.graph.pageFormat,$ps$jscomp$2_x0$$=this.graph.pageScale,$pw$$=$fmt$jscomp$1_ph$$.width*$ps$jscomp$2_x0$$;$fmt$jscomp$1_ph$$=$fmt$jscomp$1_ph$$.height*$ps$jscomp$2_x0$$;$ps$jscomp$2_x0$$=Math.floor(Math.min(0,$x$$)/$pw$$);var $y0$$=Math.floor(Math.min(0,$y$$)/$fmt$jscomp$1_ph$$);return new mxRectangle(this.scale*(this.translate.x+$ps$jscomp$2_x0$$*$pw$$),this.scale*(this.translate.y+$y0$$*$fmt$jscomp$1_ph$$),this.scale*(Math.ceil(Math.max(1,$x$$+$gb$$.width/this.scale)/$pw$$)-$ps$jscomp$2_x0$$)*
$pw$$,this.scale*(Math.ceil(Math.max(1,$y$$+$gb$$.height/this.scale)/$fmt$jscomp$1_ph$$)-$y0$$)*$fmt$jscomp$1_ph$$)};var $graphPanGraph$$=mxGraph.prototype.panGraph;mxGraph.prototype.panGraph=function($dx$$,$dy$$){$graphPanGraph$$.apply(this,arguments);this.dialect==mxConstants.DIALECT_SVG||null==this.view.backgroundPageShape||this.useScrollbarsForPanning&&mxUtils.hasScrollbars(this.container)||(this.view.backgroundPageShape.node.style.marginLeft=$dx$$+"px",this.view.backgroundPageShape.node.style.marginTop=
$dy$$+"px")};var $mxPopupMenuAddItem$$=mxPopupMenu.prototype.addItem;mxPopupMenu.prototype.addItem=function($title$$,$image$$,$funct$$,$parent$$,$iconCls$$,$enabled$$){var $result$$=$mxPopupMenuAddItem$$.apply(this,arguments);null==$enabled$$||$enabled$$||mxEvent.addListener($result$$,"mousedown",function($evt$$){mxEvent.consume($evt$$)});return $result$$};var $mxGraphHandlerIsPropagateSelectionCell$$=mxGraphHandler.prototype.isPropagateSelectionCell;mxGraphHandler.prototype.isPropagateSelectionCell=
function($cell$$,$immediate$$,$me$$){var $parent$$=this.graph.model.getParent($cell$$);if($immediate$$){var $geo$jscomp$1_result$jscomp$3_table$$=this.graph.model.isEdge($cell$$)?null:this.graph.getCellGeometry($cell$$);$geo$jscomp$1_result$jscomp$3_table$$=!this.graph.model.isEdge($parent$$)&&!this.graph.isSiblingSelected($cell$$)&&(null!=$geo$jscomp$1_result$jscomp$3_table$$&&$geo$jscomp$1_result$jscomp$3_table$$.relative||!this.graph.isContainer($parent$$)||this.graph.isPart($cell$$))}else if($geo$jscomp$1_result$jscomp$3_table$$=
$mxGraphHandlerIsPropagateSelectionCell$$.apply(this,arguments),this.graph.isTableCell($cell$$)||this.graph.isTableRow($cell$$))$geo$jscomp$1_result$jscomp$3_table$$=$parent$$,this.graph.isTable($geo$jscomp$1_result$jscomp$3_table$$)||($geo$jscomp$1_result$jscomp$3_table$$=this.graph.model.getParent($geo$jscomp$1_result$jscomp$3_table$$)),$geo$jscomp$1_result$jscomp$3_table$$=!this.graph.selectionCellsHandler.isHandled($geo$jscomp$1_result$jscomp$3_table$$)||this.graph.isCellSelected($geo$jscomp$1_result$jscomp$3_table$$)&&
this.graph.isToggleEvent($me$$.getEvent())||this.graph.isCellSelected($cell$$)&&!this.graph.isToggleEvent($me$$.getEvent())||this.graph.isTableCell($cell$$)&&this.graph.isCellSelected($parent$$);return $geo$jscomp$1_result$jscomp$3_table$$};mxPopupMenuHandler.prototype.getCellForPopupEvent=function($cell$jscomp$2_me$$){$cell$jscomp$2_me$$=$cell$jscomp$2_me$$.getCell();for(var $model$$=this.graph.getModel(),$parent$$=$model$$.getParent($cell$jscomp$2_me$$),$state$$=this.graph.view.getState($parent$$),
$selected$$=this.graph.isCellSelected($cell$jscomp$2_me$$);null!=$state$$&&($model$$.isVertex($parent$$)||$model$$.isEdge($parent$$));){var $temp$$=this.graph.isCellSelected($parent$$);$selected$$=$selected$$||$temp$$;if($temp$$||!$selected$$&&(this.graph.isTableCell($cell$jscomp$2_me$$)||this.graph.isTableRow($cell$jscomp$2_me$$)))$cell$jscomp$2_me$$=$parent$$;$parent$$=$model$$.getParent($parent$$)}return $cell$jscomp$2_me$$}})();EditorUi=function($editor_update$$,$container$jscomp$1_linkHandler_root$$,$lightbox$$){mxEventSource.call(this);this.destroyFunctions=[];this.editor=$editor_update$$||new Editor;this.container=$container$jscomp$1_linkHandler_root$$||document.body;var $ui$$=this,$graph$$=this.editor.graph;$graph$$.lightbox=$lightbox$$;var $graphGetGraphBounds$$=$graph$$.getGraphBounds;$graph$$.getGraphBounds=function(){var $bounds$$=$graphGetGraphBounds$$.apply(this,arguments),$img$$=this.backgroundImage;if(null!=
$img$$&&null!=$img$$.width&&null!=$img$$.height){var $t$$=this.view.translate,$s$$=this.view.scale;$bounds$$=mxRectangle.fromRectangle($bounds$$);$bounds$$.add(new mxRectangle(($t$$.x+$img$$.x)*$s$$,($t$$.y+$img$$.y)*$s$$,$img$$.width*$s$$,$img$$.height*$s$$))}return $bounds$$};$graph$$.useCssTransforms&&(this.lazyZoomDelay=0);mxClient.IS_SVG?mxPopupMenu.prototype.submenuImage="data:image/gif;base64,R0lGODlhCQAJAIAAAP///zMzMyH5BAEAAAAALAAAAAAJAAkAAAIPhI8WebHsHopSOVgb26AAADs=":(new Image).src=mxPopupMenu.prototype.submenuImage;
mxClient.IS_SVG||null==mxConnectionHandler.prototype.connectImage||((new Image).src=mxConnectionHandler.prototype.connectImage.src);this.selectionStateListener=mxUtils.bind(this,function($sender$$,$evt$$){this.clearSelectionState()});$graph$$.getSelectionModel().addListener(mxEvent.CHANGE,this.selectionStateListener);$graph$$.getModel().addListener(mxEvent.CHANGE,this.selectionStateListener);$graph$$.addListener(mxEvent.EDITING_STARTED,this.selectionStateListener);$graph$$.addListener(mxEvent.EDITING_STOPPED,
this.selectionStateListener);$graph$$.getView().addListener("unitChanged",this.selectionStateListener);if(this.editor.chromeless&&!this.editor.editable){this.footerHeight=0;$graph$$.isEnabled=function(){return!1};$graph$$.panningHandler.isForcePanningEvent=function($me$$){for(var $source$$=$me$$.getSource();null!=$source$$&&$source$$!=$graph$$.container;){if("foreignObject"===$source$$.nodeName||"text"===$source$$.nodeName)return!1;$source$$=$source$$.parentNode}return!mxEvent.isPopupTrigger($me$$.getEvent())};
var $panningHandlerStart$$=$graph$$.panningHandler.start;$graph$$.panningHandler.start=function(){$panningHandlerStart$$.apply(this,arguments);mxUtils.clearSelection()}}this.actions=new Actions(this);this.menus=this.createMenus();if(!$graph$$.standalone){var $vertexStyleIgnored$$=!1,$edgeStyleIgnored$$=!1;this.setDefaultStyle=function($cell$$){try{$graph$$.getModel().isEdge($cell$$)?$edgeStyleIgnored$$=$graph$$.pasteEdgeStyle=!1:$vertexStyleIgnored$$=!1;var $style$$=$graph$$.getCellStyle($cell$$,
!1),$values$$=[],$keys$$=[],$key$$;for($key$$ in $style$$)$values$$.push($style$$[$key$$]),$keys$$.push($key$$);$graph$$.getModel().isEdge($cell$$)?$graph$$.currentEdgeStyle={}:$graph$$.currentVertexStyle={};this.fireEvent(new mxEventObject("styleChanged","keys",$keys$$,"values",$values$$,"cells",[$cell$$],"force",!0));$graph$$.getModel().isEdge($cell$$)?$edgeStyleIgnored$$=$graph$$.pasteEdgeStyle=!0:$vertexStyleIgnored$$=!0}catch($e$$){this.handleError($e$$)}};this.clearDefaultStyle=function(){$graph$$.currentEdgeStyle=
mxUtils.clone($graph$$.defaultEdgeStyle);$graph$$.currentVertexStyle=mxUtils.clone($graph$$.defaultVertexStyle);$vertexStyleIgnored$$=$edgeStyleIgnored$$=$graph$$.pasteEdgeStyle=!1;this.fireEvent(new mxEventObject("styleChanged","keys",[],"values",[],"cells",[]))};$graph$$.addListener("cellsInserted",function($sender$$,$evt$$){$graph$$.pasteCellStyles($graph$$.includeDescendants($evt$$.getProperty("cells")))});$graph$$.addListener("textInserted",function($sender$$,$evt$$){$graph$$.pasteCellStyles($evt$$.getProperty("cells"))});
this.createDivs();this.createUi();this.refresh();var $textEditing$$=mxUtils.bind(this,function($evt$$){null==$evt$$&&($evt$$=window.event);return $graph$$.isEditing()||null!=$evt$$&&this.isSelectionAllowed($evt$$)});this.container!=document.body||this.editor.chromeless&&!this.editor.editable||(this.menubarContainer.onselectstart=$textEditing$$,this.menubarContainer.onmousedown=$textEditing$$,this.toolbarContainer.onselectstart=$textEditing$$,this.toolbarContainer.onmousedown=$textEditing$$,this.diagramContainer.onselectstart=
$textEditing$$,this.diagramContainer.onmousedown=$textEditing$$,this.sidebarContainer.onselectstart=$textEditing$$,this.sidebarContainer.onmousedown=$textEditing$$,this.formatContainer.onselectstart=$textEditing$$,this.formatContainer.onmousedown=$textEditing$$,this.footerContainer.onselectstart=$textEditing$$,this.footerContainer.onmousedown=$textEditing$$,null!=this.tabContainer&&(this.tabContainer.onselectstart=$textEditing$$),mxClient.IS_IOS&&($container$jscomp$1_linkHandler_root$$=function(){var $result$$=
null;if(/iP(hone|od|ad)/.test(navigator.platform)){var $v$$=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);try{$result$$=[parseInt($v$$[1],10),parseInt($v$$[2],10),parseInt($v$$[3]||0,10)]}catch($e$$){}}return $result$$}(),null!=$container$jscomp$1_linkHandler_root$$&&16<=$container$jscomp$1_linkHandler_root$$[0]&&(mxUtils.setPrefixedStyle(this.menubarContainer.style,"userSelect","none"),mxUtils.setPrefixedStyle(this.diagramContainer.style,"userSelect","none"),mxUtils.setPrefixedStyle(this.sidebarContainer.style,
"userSelect","none"),mxUtils.setPrefixedStyle(this.formatContainer.style,"userSelect","none"),mxUtils.setPrefixedStyle(this.footerContainer.style,"userSelect","none"),null!=this.tabContainer&&mxUtils.setPrefixedStyle(this.tabContainer.style,"userSelect","none"))));!this.editor.chromeless||this.editor.editable?($container$jscomp$1_linkHandler_root$$=function($evt$$){if(null!=$evt$$){var $source$$=mxEvent.getSource($evt$$);if("A"==$source$$.nodeName)for(;null!=$source$$;){if("geHint"==$source$$.className)return!0;
$source$$=$source$$.parentNode}}return $textEditing$$($evt$$)},mxClient.IS_IE&&("undefined"===typeof document.documentMode||9>document.documentMode)?mxEvent.addListener(this.diagramContainer,"contextmenu",$container$jscomp$1_linkHandler_root$$):this.diagramContainer.oncontextmenu=$container$jscomp$1_linkHandler_root$$):$graph$$.panningHandler.usePopupTrigger=!1;$graph$$.init(this.diagramContainer);mxClient.IS_SVG&&null!=$graph$$.view.getDrawPane()&&($container$jscomp$1_linkHandler_root$$=$graph$$.view.getDrawPane().ownerSVGElement,
null!=$container$jscomp$1_linkHandler_root$$&&($container$jscomp$1_linkHandler_root$$.style.position="absolute"));this.hoverIcons=this.createHoverIcons();if(null!=$graph$$.graphHandler){var $graphHandlerStart$$=$graph$$.graphHandler.start;$graph$$.graphHandler.start=function(){null!=$ui$$.hoverIcons&&$ui$$.hoverIcons.reset();$graphHandlerStart$$.apply(this,arguments)}}mxEvent.addListener(this.diagramContainer,"mousemove",mxUtils.bind(this,function($evt$$){var $off$$=mxUtils.getOffset(this.diagramContainer);
0<mxEvent.getClientX($evt$$)-$off$$.x-this.diagramContainer.clientWidth||0<mxEvent.getClientY($evt$$)-$off$$.y-this.diagramContainer.clientHeight?this.diagramContainer.setAttribute("title",mxResources.get("panTooltip")):this.diagramContainer.removeAttribute("title")}));var $hoverIconsIsResetEvent$$=this.hoverIcons.isResetEvent;this.hoverIcons.isResetEvent=function($evt$$,$allowShift$$){return $ui$$.isSpaceDown()||$hoverIconsIsResetEvent$$.apply(this,arguments)};this.keydownHandler=mxUtils.bind(this,
function($evt$$){16==$evt$$.which?this.shiftDown=!0:32!=$evt$$.which||$graph$$.isEditing()?mxEvent.isConsumed($evt$$)||27!=$evt$$.keyCode||this.hideDialog(null,!0):(this.spaceDown=!0,this.hoverIcons.reset(),$graph$$.container.style.cursor="move",$graph$$.isEditing()||mxEvent.getSource($evt$$)!=$graph$$.container||mxEvent.consume($evt$$))});mxEvent.addListener(document,"keydown",this.keydownHandler);this.keyupHandler=mxUtils.bind(this,function($evt$$){$graph$$.container.style.cursor="";this.shiftDown=
this.spaceDown=!1});mxEvent.addListener(document,"keyup",this.keyupHandler);var $panningHandlerIsForcePanningEvent$$=$graph$$.panningHandler.isForcePanningEvent;$graph$$.panningHandler.isForcePanningEvent=function($me$$){return $panningHandlerIsForcePanningEvent$$.apply(this,arguments)||$ui$$.isSpaceDown()||mxEvent.isMouseEvent($me$$.getEvent())&&(this.usePopupTrigger||!mxEvent.isPopupTrigger($me$$.getEvent()))&&(!mxEvent.isControlDown($me$$.getEvent())&&mxEvent.isRightMouseButton($me$$.getEvent())||
mxEvent.isMiddleMouseButton($me$$.getEvent()))};var $cellEditorIsStopEditingEvent$$=$graph$$.cellEditor.isStopEditingEvent;$graph$$.cellEditor.isStopEditingEvent=function($evt$$){return $cellEditorIsStopEditingEvent$$.apply(this,arguments)||13==$evt$$.keyCode&&(!mxClient.IS_SF&&mxEvent.isControlDown($evt$$)||mxClient.IS_MAC&&mxEvent.isMetaDown($evt$$)||mxClient.IS_SF&&mxEvent.isShiftDown($evt$$))};var $graphIsZoomWheelEvent$$=$graph$$.isZoomWheelEvent;$graph$$.isZoomWheelEvent=function(){return $ui$$.isSpaceDown()||
$graphIsZoomWheelEvent$$.apply(this,arguments)};var $textMode$$=!1,$fontMenu$$=null,$sizeMenu$$=null,$nodes$$=null,$updateToolbar$$=mxUtils.bind(this,function(){if(null!=this.toolbar&&$textMode$$!=$graph$$.cellEditor.isContentEditing()){for(var $node$$=this.toolbar.container.firstChild,$newNodes$$=[];null!=$node$$;){var $tmp$jscomp$1_tmp2$$=$node$$.nextSibling;0>mxUtils.indexOf(this.toolbar.staticElements,$node$$)&&($node$$.parentNode.removeChild($node$$),$newNodes$$.push($node$$));$node$$=$tmp$jscomp$1_tmp2$$}$node$$=
this.toolbar.fontMenu;$tmp$jscomp$1_tmp2$$=this.toolbar.sizeMenu;if(null==$nodes$$)this.toolbar.createTextToolbar();else{for(var $i$$=0;$i$$<$nodes$$.length;$i$$++)this.toolbar.container.appendChild($nodes$$[$i$$]);this.toolbar.fontMenu=$fontMenu$$;this.toolbar.sizeMenu=$sizeMenu$$}$textMode$$=$graph$$.cellEditor.isContentEditing();$fontMenu$$=$node$$;$sizeMenu$$=$tmp$jscomp$1_tmp2$$;$nodes$$=$newNodes$$}}),$cellEditorStartEditing$$=$graph$$.cellEditor.startEditing;$graph$$.cellEditor.startEditing=
function(){$cellEditorStartEditing$$.apply(this,arguments);$updateToolbar$$();if($graph$$.cellEditor.isContentEditing()){var $updating$$=!1,$updateCssHandler$$=function(){$updating$$||($updating$$=!0,window.setTimeout(function(){var $css_node$$=$graph$$.getSelectedEditingElement();null!=$css_node$$&&($css_node$$=mxUtils.getCurrentStyle($css_node$$),null!=$css_node$$&&null!=$ui$$.toolbar&&($ui$$.toolbar.setFontName(Graph.stripQuotes($css_node$$.fontFamily)),$ui$$.toolbar.setFontSize(parseInt($css_node$$.fontSize))));
$updating$$=!1},0))};mxEvent.addListener($graph$$.cellEditor.textarea,"input",$updateCssHandler$$);mxEvent.addListener($graph$$.cellEditor.textarea,"touchend",$updateCssHandler$$);mxEvent.addListener($graph$$.cellEditor.textarea,"mouseup",$updateCssHandler$$);mxEvent.addListener($graph$$.cellEditor.textarea,"keyup",$updateCssHandler$$);$updateCssHandler$$()}};var $cellEditorStopEditing$$=$graph$$.cellEditor.stopEditing;$graph$$.cellEditor.stopEditing=function($cell$$,$trigger$$){try{$cellEditorStopEditing$$.apply(this,
arguments),$updateToolbar$$()}catch($e$$){$ui$$.handleError($e$$)}};$graph$$.container.setAttribute("tabindex","0");$graph$$.container.style.cursor="default";if(window.self===window.top&&null!=$graph$$.container.parentNode)try{$graph$$.container.focus()}catch($e$$){}var $graphFireMouseEvent$$=$graph$$.fireMouseEvent;$graph$$.fireMouseEvent=function($evtName$$,$me$$,$sender$$){try{$evtName$$==mxEvent.MOUSE_DOWN&&this.container.focus(),$graphFireMouseEvent$$.apply(this,arguments)}catch($e$1$$){$ui$$.handleError($e$1$$)}};
var $graphFoldCells$$=$graph$$.foldCells;$graph$$.foldCells=function($collapse$$,$recurse$$,$cells$$,$checkFoldable$$,$evt$$){try{$graphFoldCells$$.apply(this,arguments)}catch($e$2$$){$ui$$.handleError($e$2$$)}};$graph$$.popupMenuHandler.autoExpand=!0;null!=this.menus&&($graph$$.popupMenuHandler.factoryMethod=mxUtils.bind(this,function($menu$$,$cell$$,$evt$$){this.menus.createPopupMenu($menu$$,$cell$$,$evt$$)}));mxEvent.addGestureListeners(document,mxUtils.bind(this,function($evt$$){$graph$$.popupMenuHandler.hideMenu()}));
this.keyHandler=this.createKeyHandler($editor_update$$);this.getKeyHandler=function(){return keyHandler};$graph$$.connectionHandler.addListener(mxEvent.CONNECT,function($sender$$,$evt$$){var $cells$$=[$evt$$.getProperty("cell")];$evt$$.getProperty("terminalInserted")&&($cells$$.push($evt$$.getProperty("terminal")),window.setTimeout(function(){null!=$ui$$.hoverIcons&&$ui$$.hoverIcons.update($graph$$.view.getState($cells$$[$cells$$.length-1]))},0));$graph$$.pasteCellStyles($cells$$)});this.addListener("styleChanged",
mxUtils.bind(this,function($force$jscomp$2_sender$$,$evt$$){$force$jscomp$2_sender$$=$evt$$.getProperty("force");(this.updateDefaultStyle||$force$jscomp$2_sender$$)&&$graph$$.copyCellStyles($evt$$.getProperty("cells"),$evt$$.getProperty("keys"),$evt$$.getProperty("values"),$graph$$.currentVertexStyle,$graph$$.currentEdgeStyle,$vertexStyleIgnored$$,$edgeStyleIgnored$$);null!=this.toolbar&&(this.toolbar.setFontName($graph$$.currentVertexStyle.fontFamily||Menus.prototype.defaultFont),this.toolbar.setFontSize($graph$$.currentVertexStyle.fontSize||
Menus.prototype.defaultFontSize),null!=this.toolbar.edgeStyleMenu&&(this.toolbar.edgeStyleMenu.getElementsByTagName("div")[0].className="orthogonalEdgeStyle"==$graph$$.currentEdgeStyle.edgeStyle&&"1"==$graph$$.currentEdgeStyle.curved?"geSprite geSprite-curved":"straight"==$graph$$.currentEdgeStyle.edgeStyle||"none"==$graph$$.currentEdgeStyle.edgeStyle||null==$graph$$.currentEdgeStyle.edgeStyle?"geSprite geSprite-straight":"entityRelationEdgeStyle"==$graph$$.currentEdgeStyle.edgeStyle?"geSprite geSprite-entity":
"elbowEdgeStyle"==$graph$$.currentEdgeStyle.edgeStyle?"geSprite geSprite-"+("vertical"==$graph$$.currentEdgeStyle.elbow?"verticalelbow":"horizontalelbow"):"isometricEdgeStyle"==$graph$$.currentEdgeStyle.edgeStyle?"geSprite geSprite-"+("vertical"==$graph$$.currentEdgeStyle.elbow?"verticalisometric":"horizontalisometric"):"geSprite geSprite-orthogonal"),null!=this.toolbar.edgeShapeMenu&&(this.toolbar.edgeShapeMenu.getElementsByTagName("div")[0].className="link"==$graph$$.currentEdgeStyle.shape?"geSprite geSprite-linkedge":
"flexArrow"==$graph$$.currentEdgeStyle.shape?"geSprite geSprite-arrow":"arrow"==$graph$$.currentEdgeStyle.shape?"geSprite geSprite-simplearrow":"geSprite geSprite-connection"))}));null!=this.toolbar&&($editor_update$$=mxUtils.bind(this,function(){var $ff$$=$graph$$.currentVertexStyle.fontFamily||"Helvetica",$fs$$=String($graph$$.currentVertexStyle.fontSize||"12"),$state$$=$graph$$.getView().getState($graph$$.getSelectionCell());null!=$state$$&&($ff$$=$state$$.style[mxConstants.STYLE_FONTFAMILY]||
$ff$$,$fs$$=$state$$.style[mxConstants.STYLE_FONTSIZE]||$fs$$,10<$ff$$.length&&($ff$$=$ff$$.substring(0,8)+"..."));this.toolbar.setFontName($ff$$);this.toolbar.setFontSize($fs$$)}),$graph$$.getSelectionModel().addListener(mxEvent.CHANGE,$editor_update$$),$graph$$.getModel().addListener(mxEvent.CHANGE,$editor_update$$));$graph$$.addListener(mxEvent.CELLS_ADDED,function($cells$jscomp$4_sender$$,$evt$jscomp$74_parent$$){$cells$jscomp$4_sender$$=$evt$jscomp$74_parent$$.getProperty("cells");$evt$jscomp$74_parent$$=
$evt$jscomp$74_parent$$.getProperty("parent");null!=$evt$jscomp$74_parent$$&&$graph$$.getModel().isLayer($evt$jscomp$74_parent$$)&&!$graph$$.isCellVisible($evt$jscomp$74_parent$$)&&null!=$cells$jscomp$4_sender$$&&0<$cells$jscomp$4_sender$$.length&&$graph$$.getModel().setVisible($evt$jscomp$74_parent$$,!0)});Graph.selectParentLayer&&$graph$$.selectionModel.addListener(mxEvent.CHANGE,function(){if($graph$$.isEnabled()&&!$graph$$.isSelectionEmpty()){var $layer$$=$graph$$.getLayerForCells($graph$$.getSelectionCells());
null!=$layer$$&&$graph$$.setDefaultParent($layer$$)}});this.gestureHandler=mxUtils.bind(this,function($evt$$){null!=this.currentMenu&&mxEvent.getSource($evt$$)!=this.currentMenu.div&&this.hideCurrentMenu()});mxEvent.addGestureListeners(document,this.gestureHandler);var $resizeThread$$=null;this.resizeHandler=mxUtils.bind(this,function(){null!=$resizeThread$$&&window.clearTimeout($resizeThread$$);$resizeThread$$=window.setTimeout(mxUtils.bind(this,function(){$resizeThread$$=null;this.windowResized()}),
100)});mxEvent.addListener(window,"resize",this.resizeHandler);this.orientationChangeHandler=mxUtils.bind(this,function(){this.refresh()});mxEvent.addListener(window,"orientationchange",this.orientationChangeHandler);mxClient.IS_IOS&&!window.navigator.standalone&&"undefined"!==typeof Menus&&(this.scrollHandler=mxUtils.bind(this,function(){window.scrollTo(0,0)}),mxEvent.addListener(window,"scroll",this.scrollHandler));this.editor.addListener("resetGraphView",mxUtils.bind(this,function(){this.resetScrollbars()}));
this.addListener("gridEnabledChanged",mxUtils.bind(this,function(){$graph$$.view.validateBackground()}));this.addListener("backgroundColorChanged",mxUtils.bind(this,function(){$graph$$.view.validateBackground()}));$graph$$.addListener("gridSizeChanged",mxUtils.bind(this,function(){$graph$$.isGridEnabled()&&$graph$$.view.validateBackground()}));this.editor.resetGraph()}this.init();$graph$$.standalone||this.open()};EditorUi.compactUi=!0;
EditorUi.parsePng=function($f$$,$fn$$,$error$jscomp$2_n$$){function $fread$$($d$$,$count$$){var $start$$=$pos$$;$pos$$+=$count$$;return $d$$.substring($start$$,$pos$$)}function $_freadint$$($bytes$jscomp$3_d$$){$bytes$jscomp$3_d$$=$fread$$($bytes$jscomp$3_d$$,4);return $bytes$jscomp$3_d$$.charCodeAt(3)+($bytes$jscomp$3_d$$.charCodeAt(2)<<8)+($bytes$jscomp$3_d$$.charCodeAt(1)<<16)+($bytes$jscomp$3_d$$.charCodeAt(0)<<24)}var $pos$$=0;if($fread$$($f$$,8)!=String.fromCharCode(137)+"PNG"+String.fromCharCode(13,
10,26,10))null!=$error$jscomp$2_n$$&&$error$jscomp$2_n$$();else if($fread$$($f$$,4),"IHDR"!=$fread$$($f$$,4))null!=$error$jscomp$2_n$$&&$error$jscomp$2_n$$();else{$fread$$($f$$,17);do{$error$jscomp$2_n$$=$_freadint$$($f$$);var $type$$=$fread$$($f$$,4);if(null!=$fn$$&&$fn$$($pos$$-8,$type$$,$error$jscomp$2_n$$))break;value=$fread$$($f$$,$error$jscomp$2_n$$);$fread$$($f$$,4);if("IEND"==$type$$)break}while($error$jscomp$2_n$$)}};mxUtils.extend(EditorUi,mxEventSource);
EditorUi.prototype.splitSize=mxClient.IS_TOUCH||mxClient.IS_POINTER?12:8;EditorUi.prototype.menubarHeight=30;EditorUi.prototype.formatEnabled=!0;EditorUi.prototype.formatWidth=240;EditorUi.prototype.toolbarHeight=38;EditorUi.prototype.footerHeight=28;EditorUi.prototype.defaultSidebarWidth=Math.min(screen.width/2,"large"!=urlParams["sidebar-entries"]?212:240);EditorUi.prototype.hsplitPosition=screen.width<=Editor.smallScreenWidth?0:EditorUi.prototype.defaultSidebarWidth;
EditorUi.prototype.allowAnimation=!0;EditorUi.prototype.lightboxMaxFitScale=2;EditorUi.prototype.lightboxVerticalDivider=4;EditorUi.prototype.hsplitClickEnabled=!1;EditorUi.prototype.updateDefaultStyle=!1;EditorUi.prototype.spaceDown=!1;EditorUi.prototype.shiftDown=!1;
EditorUi.prototype.init=function(){var $graph$$=this.editor.graph;if(!$graph$$.standalone){"0"!=urlParams["shape-picker"]&&this.installShapePicker();mxEvent.addListener($graph$$.container,"scroll",mxUtils.bind(this,function(){$graph$$.tooltipHandler.hide();null!=$graph$$.connectionHandler&&null!=$graph$$.connectionHandler.constraintHandler&&$graph$$.connectionHandler.constraintHandler.reset()}));$graph$$.addListener(mxEvent.ESCAPE,mxUtils.bind(this,function(){$graph$$.tooltipHandler.hide();var $rb$$=
$graph$$.getRubberband();null!=$rb$$&&$rb$$.cancel()}));mxEvent.addListener($graph$$.container,"keydown",mxUtils.bind(this,function($evt$$){this.onKeyDown($evt$$)}));mxEvent.addListener($graph$$.container,"keypress",mxUtils.bind(this,function($evt$$){this.onKeyPress($evt$$)}));this.addUndoListener();this.addBeforeUnloadListener();$graph$$.getSelectionModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){this.updateActionStates()}));$graph$$.getModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,
function(){this.updateActionStates()}));var $graphSetDefaultParent$$=$graph$$.setDefaultParent,$ui$$=this;this.editor.graph.setDefaultParent=function(){$graphSetDefaultParent$$.apply(this,arguments);$ui$$.updateActionStates()};$graph$$.showLinkDialog=mxUtils.bind($ui$$,$ui$$.showLinkDialog);$graph$$.editLink=$ui$$.actions.get("editLink").funct;this.updateActionStates();this.initClipboard();this.initCanvas();null!=this.format&&this.format.init()}};
EditorUi.prototype.clearSelectionState=function(){this.selectionState=null};EditorUi.prototype.getSelectionState=function(){null==this.selectionState&&(this.selectionState=this.createSelectionState());return this.selectionState};
EditorUi.prototype.createSelectionState=function(){for(var $graph$$=this.editor.graph,$cells$$=$graph$$.getSelectionCells(),$result$$=this.initSelectionState(),$initial$$=!0,$i$$=0;$i$$<$cells$$.length;$i$$++){var $style$$=$graph$$.getCurrentCellStyle($cells$$[$i$$]);"0"!=mxUtils.getValue($style$$,mxConstants.STYLE_EDITABLE,"1")&&(this.updateSelectionStateForCell($result$$,$cells$$[$i$$],$cells$$,$initial$$),$initial$$=!1)}this.updateSelectionStateForTableCells($result$$);return $result$$};
EditorUi.prototype.initSelectionState=function(){return{vertices:[],edges:[],cells:[],x:null,y:null,width:null,height:null,style:{},containsImage:!1,containsLabel:!1,fill:!0,glass:!0,html:!0,rounded:!0,autoSize:!1,image:!1,shadow:!0,lineJumps:!0,resizable:!0,table:!1,cell:!1,row:!1,movable:!0,rotatable:!0,stroke:!0,swimlane:!1,unlocked:this.editor.graph.isEnabled(),connections:!1}};
EditorUi.prototype.updateSelectionStateForTableCells=function($result$$){if(1<$result$$.cells.length&&$result$$.cell){var $cells$$=mxUtils.sortCells($result$$.cells),$model$$=this.editor.graph.model,$parent$$=$model$$.getParent($cells$$[0]),$table$$=$model$$.getParent($parent$$);if(null!=$parent$$&&null!=$table$$){for(var $col$$=$parent$$.getIndex($cells$$[0]),$row$$=$table$$.getIndex($parent$$),$lastspan$$=null,$colspan$$=1,$rowspan$$=1,$index$$=0,$nextRowCell$$=$row$$<$table$$.getChildCount()-1?
$model$$.getChildAt($model$$.getChildAt($table$$,$row$$+1),$col$$):null;$index$$<$cells$$.length-1;){var $next$$=$cells$$[++$index$$];null==$nextRowCell$$||$nextRowCell$$!=$next$$||null!=$lastspan$$&&$colspan$$!=$lastspan$$||($lastspan$$=$colspan$$,$colspan$$=0,$rowspan$$++,$parent$$=$model$$.getParent($nextRowCell$$),$nextRowCell$$=$row$$+$rowspan$$<$table$$.getChildCount()?$model$$.getChildAt($model$$.getChildAt($table$$,$row$$+$rowspan$$),$col$$):null);var $state$$=this.editor.graph.view.getState($next$$);
if($next$$==$model$$.getChildAt($parent$$,$col$$+$colspan$$)&&null!=$state$$&&1==mxUtils.getValue($state$$.style,"colspan",1)&&1==mxUtils.getValue($state$$.style,"rowspan",1))$colspan$$++;else break}$index$$==$rowspan$$*$colspan$$-1&&($result$$.mergeCell=$cells$$[0],$result$$.colspan=$colspan$$,$result$$.rowspan=$rowspan$$)}}};EditorUi.prototype.windowResized=function(){window.setTimeout(mxUtils.bind(this,function(){null!=this.editor.graph&&this.refresh()}),0)};
EditorUi.prototype.createTimeout=function($timeout$$,$fn$$,$error$$){var $acceptResponse$$=!0,$result$$=null,$handleError$$=mxUtils.bind(this,function($e$$){$result$$.clear()&&($acceptResponse$$=!1,$e$$=null!=$e$$?$e$$:{code:App.ERROR_TIMEOUT,message:mxResources.get("timeout"),retry:mxUtils.bind(this,function(){this.createTimeout($timeout$$,$fn$$,$error$$)})},null!=$error$$?$error$$($e$$):this.handleError($e$$))}),$timeoutThread$$=window.setTimeout($handleError$$,null!=$timeout$$?$timeout$$:this.timeout);
$result$$={clear:function(){window.clearTimeout($timeoutThread$$);return $acceptResponse$$},isAlive:function(){return $acceptResponse$$}};null!=$fn$$&&this.tryAndHandle(mxUtils.bind(this,function(){$fn$$($result$$)}),$handleError$$);return $result$$};EditorUi.prototype.tryAndHandle=function($fn$$,$error$$){try{$fn$$()}catch($e$$){null!=$error$$?$error$$($e$$):this.handleError($e$$)}};
EditorUi.prototype.convertDarkModeColors=function($cells$$,$keys$$){var $graph$$=this.editor.graph;$cells$$=null!=$cells$$?$cells$$:$graph$$.getSelectionCells();$keys$$=null!=$keys$$?$keys$$:[mxConstants.STYLE_FONTCOLOR,mxConstants.STYLE_FILLCOLOR,mxConstants.STYLE_GRADIENTCOLOR,mxConstants.STYLE_STROKECOLOR,mxConstants.STYLE_IMAGE_BORDER,mxConstants.STYLE_IMAGE_BACKGROUND,mxConstants.STYLE_LABEL_BORDERCOLOR,mxConstants.STYLE_SWIMLANE_FILLCOLOR,mxConstants.STYLE_LABEL_BACKGROUNDCOLOR];var $colorCache$$=
{},$canvas$$=document.createElement("canvas");$canvas$$.width=1;$canvas$$.height=1;$canvas$$=$canvas$$.getContext("2d",{willReadFrequently:!0});$canvas$$.filter="invert(100%) hue-rotate(180deg)";$graph$$.model.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++)if($graph$$.model.isEdge($cells$$[$i$$])||$graph$$.model.isVertex($cells$$[$i$$])){var $style$$=$graph$$.getCurrentCellStyle($cells$$[$i$$]);if(null!=$style$$)for(var $j$$=0;$j$$<$keys$$.length;$j$$++)try{var $value$$=$style$$[$keys$$[$j$$]];
if(null!=$value$$&&"#"==$value$$.charAt(0)){var $result$$=$colorCache$$[$value$$];null==$result$$&&($result$$=Graph.invertColor($value$$,$canvas$$),$colorCache$$[$value$$]=$result$$);$graph$$.setCellStyles($keys$$[$j$$],$result$$,[$cells$$[$i$$]])}}catch($e$$){}}}finally{$graph$$.model.endUpdate()}};
EditorUi.prototype.updateSelectionStateForCell=function($result$$,$cell$$,$cells$jscomp$8_graph$$,$initial$$){$cells$jscomp$8_graph$$=this.editor.graph;$result$$.cells.push($cell$$);if($cells$jscomp$8_graph$$.getModel().isVertex($cell$$)){$result$$.connections=0<$cells$jscomp$8_graph$$.model.getEdgeCount($cell$$);$result$$.unlocked=$result$$.unlocked&&!$cells$jscomp$8_graph$$.isCellLocked($cell$$);$result$$.resizable=$result$$.resizable&&$cells$jscomp$8_graph$$.isCellResizable($cell$$);$result$$.rotatable=
$result$$.rotatable&&$cells$jscomp$8_graph$$.isCellRotatable($cell$$);$result$$.movable=$result$$.movable&&$cells$jscomp$8_graph$$.isCellMovable($cell$$)&&!$cells$jscomp$8_graph$$.isTableRow($cell$$)&&!$cells$jscomp$8_graph$$.isTableCell($cell$$);$result$$.swimlane=$result$$.swimlane||$cells$jscomp$8_graph$$.isSwimlane($cell$$);$result$$.table=$result$$.table||$cells$jscomp$8_graph$$.isTable($cell$$);$result$$.cell=$result$$.cell||$cells$jscomp$8_graph$$.isTableCell($cell$$);$result$$.row=$result$$.row||
$cells$jscomp$8_graph$$.isTableRow($cell$$);$result$$.vertices.push($cell$$);var $geo$jscomp$2_y$$=$cells$jscomp$8_graph$$.getCellGeometry($cell$$);if(null!=$geo$jscomp$2_y$$&&(0<$geo$jscomp$2_y$$.width?null==$result$$.width?$result$$.width=$geo$jscomp$2_y$$.width:$result$$.width!=$geo$jscomp$2_y$$.width&&($result$$.width=""):$result$$.containsLabel=!0,0<$geo$jscomp$2_y$$.height?null==$result$$.height?$result$$.height=$geo$jscomp$2_y$$.height:$result$$.height!=$geo$jscomp$2_y$$.height&&($result$$.height=
""):$result$$.containsLabel=!0,!$geo$jscomp$2_y$$.relative||null!=$geo$jscomp$2_y$$.offset)){var $state$jscomp$6_x$$=$geo$jscomp$2_y$$.relative?$geo$jscomp$2_y$$.offset.x:$geo$jscomp$2_y$$.x;$geo$jscomp$2_y$$=$geo$jscomp$2_y$$.relative?$geo$jscomp$2_y$$.offset.y:$geo$jscomp$2_y$$.y;null==$result$$.x?$result$$.x=$state$jscomp$6_x$$:$result$$.x!=$state$jscomp$6_x$$&&($result$$.x="");null==$result$$.y?$result$$.y=$geo$jscomp$2_y$$:$result$$.y!=$geo$jscomp$2_y$$&&($result$$.y="")}}else $cells$jscomp$8_graph$$.getModel().isEdge($cell$$)&&
($result$$.edges.push($cell$$),$result$$.connections=!0,$result$$.resizable=!1,$result$$.rotatable=!1,$result$$.movable=!1);$state$jscomp$6_x$$=$cells$jscomp$8_graph$$.view.getState($cell$$);null!=$state$jscomp$6_x$$&&($result$$.html=$result$$.html&&$cells$jscomp$8_graph$$.isHtmlLabel($cell$$),$result$$.autoSize=$result$$.autoSize||$cells$jscomp$8_graph$$.isAutoSizeState($state$jscomp$6_x$$),$result$$.glass=$result$$.glass&&$cells$jscomp$8_graph$$.isGlassState($state$jscomp$6_x$$),$result$$.rounded=
$result$$.rounded&&$cells$jscomp$8_graph$$.isRoundedState($state$jscomp$6_x$$),$result$$.lineJumps=$result$$.lineJumps&&$cells$jscomp$8_graph$$.isLineJumpState($state$jscomp$6_x$$),$result$$.image=$result$$.image||$cells$jscomp$8_graph$$.isImageState($state$jscomp$6_x$$),$result$$.shadow=$result$$.shadow&&$cells$jscomp$8_graph$$.isShadowState($state$jscomp$6_x$$),$result$$.fill=$result$$.fill&&$cells$jscomp$8_graph$$.isFillState($state$jscomp$6_x$$),$result$$.gradient=$result$$.fill&&$cells$jscomp$8_graph$$.isGradientState($state$jscomp$6_x$$),
$result$$.stroke=$result$$.stroke&&$cells$jscomp$8_graph$$.isStrokeState($state$jscomp$6_x$$),$cell$$=mxUtils.getValue($state$jscomp$6_x$$.style,mxConstants.STYLE_SHAPE,null),$result$$.containsImage=$result$$.containsImage||"image"==$cell$$,$cells$jscomp$8_graph$$.mergeStyle($state$jscomp$6_x$$.style,$result$$.style,$initial$$))};
EditorUi.prototype.installShapePicker=function(){var $graph$$=this.editor.graph,$ui$$=this;$graph$$.addListener(mxEvent.FIRE_MOUSE_EVENT,mxUtils.bind(this,function($sender$$,$evt$$){"mouseDown"==$evt$$.getProperty("eventName")&&$ui$$.hideShapePicker()}));var $hidePicker$$=mxUtils.bind(this,function(){$ui$$.hideShapePicker(!0)});$graph$$.addListener("wheel",$hidePicker$$);$graph$$.addListener(mxEvent.ESCAPE,$hidePicker$$);$graph$$.view.addListener(mxEvent.SCALE,$hidePicker$$);$graph$$.view.addListener(mxEvent.SCALE_AND_TRANSLATE,
$hidePicker$$);$graph$$.getSelectionModel().addListener(mxEvent.CHANGE,$hidePicker$$);var $popupMenuHandlerIsMenuShowing$$=$graph$$.popupMenuHandler.isMenuShowing;$graph$$.popupMenuHandler.isMenuShowing=function(){return $popupMenuHandlerIsMenuShowing$$.apply(this,arguments)||null!=$ui$$.shapePicker||null!=$ui$$.currentMenu};var $graphDblClick$$=$graph$$.dblClick;$graph$$.dblClick=function($evt$$,$cell$$){if(this.isEnabled())if(null!=$cell$$||null==$ui$$.sidebar||mxEvent.isShiftDown($evt$$)||$graph$$.isCellLocked($graph$$.getDefaultParent()))$graphDblClick$$.apply(this,
arguments);else{var $pt$$=mxUtils.convertPoint(this.container,mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$));mxEvent.consume($evt$$);window.setTimeout(mxUtils.bind(this,function(){$ui$$.showShapePicker($pt$$.x,$pt$$.y)}),30)}};if(null!=this.hoverIcons){this.hoverIcons.addListener("reset",$hidePicker$$);var $hoverIconsDrag$$=this.hoverIcons.drag;this.hoverIcons.drag=function(){$ui$$.hideShapePicker();$hoverIconsDrag$$.apply(this,arguments)};var $hoverIconsExecute$$=this.hoverIcons.execute;
this.hoverIcons.execute=function($state$$,$dir$$,$me$$){var $evt$$=$me$$.getEvent();this.graph.isCloneEvent($evt$$)||mxEvent.isShiftDown($evt$$)?$hoverIconsExecute$$.apply(this,arguments):this.graph.connectVertex($state$$.cell,$dir$$,this.graph.defaultEdgeLength,$evt$$,null,null,mxUtils.bind(this,function($geo$jscomp$3_x$$,$y$$,$execute$$){var $temp$$=$graph$$.getCompositeParent($state$$.cell);$geo$jscomp$3_x$$=$graph$$.getCellGeometry($temp$$);for($me$$.consume();null!=$temp$$&&$graph$$.model.isVertex($temp$$)&&
null!=$geo$jscomp$3_x$$&&$geo$jscomp$3_x$$.relative;)cell=$temp$$,$temp$$=$graph$$.model.getParent(cell),$geo$jscomp$3_x$$=$graph$$.getCellGeometry($temp$$);window.setTimeout(mxUtils.bind(this,function(){$ui$$.showShapePicker($me$$.getGraphX(),$me$$.getGraphY(),$temp$$,mxUtils.bind(this,function($cell$$){$execute$$($cell$$);null!=$ui$$.hoverIcons&&$ui$$.hoverIcons.update($graph$$.view.getState($cell$$))}),$dir$$)}),30)}),mxUtils.bind(this,function($result$$){this.graph.selectCellsForConnectVertex($result$$,
$evt$$,this)}))};var $thread$$=null;this.hoverIcons.addListener("focus",mxUtils.bind(this,function($sender$$,$evt$$){null!=$thread$$&&window.clearTimeout($thread$$);$thread$$=window.setTimeout(mxUtils.bind(this,function(){var $arrow_rect$$=$evt$$.getProperty("arrow"),$dir$$=$evt$$.getProperty("direction"),$mouseEvent$$=$evt$$.getProperty("event");$arrow_rect$$=$arrow_rect$$.getBoundingClientRect();var $offset$jscomp$26_y$$=mxUtils.getOffset($graph$$.container),$x$jscomp$0$$=$graph$$.container.scrollLeft+
$arrow_rect$$.x-$offset$jscomp$26_y$$.x;$offset$jscomp$26_y$$=$graph$$.container.scrollTop+$arrow_rect$$.y-$offset$jscomp$26_y$$.y;var $temp$$=$graph$$.getCompositeParent(null!=this.hoverIcons.currentState?this.hoverIcons.currentState.cell:null),$div$$=$ui$$.showShapePicker($x$jscomp$0$$,$offset$jscomp$26_y$$,$temp$$,mxUtils.bind(this,function($cell$$){null!=$cell$$&&$graph$$.connectVertex($temp$$,$dir$$,$graph$$.defaultEdgeLength,$mouseEvent$$,!0,!1,function($x$$,$y$$,$execute$$){$execute$$($cell$$);
null!=$ui$$.hoverIcons&&$ui$$.hoverIcons.update($graph$$.view.getState($cell$$))},function($cells$$){$graph$$.selectCellsForConnectVertex($cells$$)},$mouseEvent$$,this.hoverIcons)}),$dir$$,!0);this.centerShapePicker($div$$,$arrow_rect$$,$x$jscomp$0$$,$offset$jscomp$26_y$$,$dir$$);mxUtils.setOpacity($div$$,30);mxEvent.addListener($div$$,"mouseenter",function(){mxUtils.setOpacity($div$$,100)});mxEvent.addListener($div$$,"mouseleave",function(){$ui$$.hideShapePicker()})}),Editor.shapePickerHoverDelay)}));
this.hoverIcons.addListener("blur",mxUtils.bind(this,function($sender$$,$evt$$){null!=$thread$$&&window.clearTimeout($thread$$)}))}};
EditorUi.prototype.centerShapePicker=function($div$$,$rect$$,$x$$,$y$$,$dir$$){if($dir$$==mxConstants.DIRECTION_EAST||$dir$$==mxConstants.DIRECTION_WEST)$div$$.style.width="40px";var $r2$$=$div$$.getBoundingClientRect();$dir$$==mxConstants.DIRECTION_NORTH?($x$$-=$r2$$.width/2-10,$y$$-=$r2$$.height+6):$dir$$==mxConstants.DIRECTION_SOUTH?($x$$-=$r2$$.width/2-10,$y$$+=$rect$$.height+6):$dir$$==mxConstants.DIRECTION_WEST?($x$$-=$r2$$.width+6,$y$$-=$r2$$.height/2-10):$dir$$==mxConstants.DIRECTION_EAST&&
($x$$+=$rect$$.width+6,$y$$-=$r2$$.height/2-10);$div$$.style.left=$x$$+"px";$div$$.style.top=$y$$+"px"};
EditorUi.prototype.showShapePicker=function($div$jscomp$6_x$$,$y$$,$source$$,$callback$$,$direction$$,$graph$$,$getInsertLocationFn$$,$showEdges$$,$startEditing$$){$showEdges$$=$showEdges$$||null==$source$$;$div$jscomp$6_x$$=this.createShapePicker($div$jscomp$6_x$$,$y$$,$source$$,$callback$$,$direction$$,mxUtils.bind(this,function(){this.hideShapePicker()}),this.getCellsForShapePicker($source$$,$graph$$,$showEdges$$),$graph$$,$getInsertLocationFn$$,$showEdges$$,$startEditing$$);null!=$div$jscomp$6_x$$&&
(null==this.hoverIcons||$graph$$||this.hoverIcons.reset(),$graph$$=this.editor.graph,$graph$$.popupMenuHandler.hideMenu(),$graph$$.tooltipHandler.hideTooltip(),this.hideCurrentMenu(),this.hideShapePicker(),this.shapePickerCallback=$callback$$,this.shapePicker=$div$jscomp$6_x$$);return $div$jscomp$6_x$$};
EditorUi.prototype.createShapePicker=function($x$$,$y$$,$source$$,$callback$$,$addCell_direction$jscomp$8_sourceState_w$$,$afterClick$$,$cells$jscomp$10_dx$jscomp$8_dy$$,$hovering$$,$getInsertLocationFn$$,$i$jscomp$16_showEdges$$,$startEditing$$){$startEditing$$=null!=$startEditing$$?$startEditing$$:!0;var $graph$$=this.editor.graph,$div$$=null;$getInsertLocationFn$$=null!=$getInsertLocationFn$$?$getInsertLocationFn$$:function($cell$jscomp$10_cells$jscomp$11_pt$$){$cell$jscomp$10_cells$jscomp$11_pt$$=
$cell$jscomp$10_cells$jscomp$11_pt$$[0];var $w$$=0,$h$$=0,$geo$$=$cell$jscomp$10_cells$jscomp$11_pt$$.geometry;null!=$geo$$&&($graph$$.model.isEdge($cell$jscomp$10_cells$jscomp$11_pt$$)&&($cell$jscomp$10_cells$jscomp$11_pt$$=$geo$$.getTerminalPoint(!1),$geo$$=new mxRectangle(0,0,$cell$jscomp$10_cells$jscomp$11_pt$$.x,$cell$jscomp$10_cells$jscomp$11_pt$$.y)),$w$$=$geo$$.width/2,$h$$=$geo$$.height/2);return new mxPoint($graph$$.snap(Math.round($x$$/$graph$$.view.scale)-$graph$$.view.translate.x-$w$$),
$graph$$.snap(Math.round($y$$/$graph$$.view.scale)-$graph$$.view.translate.y-$h$$))};if(null!=$cells$jscomp$10_dx$jscomp$8_dy$$&&0<$cells$jscomp$10_dx$jscomp$8_dy$$.length){var $ui$$=this;$graph$$=this.editor.graph;$div$$=document.createElement("div");$addCell_direction$jscomp$8_sourceState_w$$=$graph$$.view.getState($source$$);var $style$$=null==$source$$||null!=$addCell_direction$jscomp$8_sourceState_w$$&&$graph$$.isTransparentState($addCell_direction$jscomp$8_sourceState_w$$)?null:$graph$$.copyStyle($source$$);
$addCell_direction$jscomp$8_sourceState_w$$=6>$cells$jscomp$10_dx$jscomp$8_dy$$.length?35*$cells$jscomp$10_dx$jscomp$8_dy$$.length:140;$div$$.className="geToolbarContainer geSidebarContainer geShapePicker";$div$$.setAttribute("title",mxResources.get("sidebarTooltip"));$div$$.style.left=$x$$+"px";$div$$.style.top=$y$$+"px";$div$$.style.width=$addCell_direction$jscomp$8_sourceState_w$$+"px";mxClient.IS_POINTER&&($div$$.style.touchAction="none");$hovering$$||mxUtils.setPrefixedStyle($div$$.style,"transform",
"translate(-22px,-22px)");null!=$graph$$.background&&$graph$$.background!=mxConstants.NONE&&($div$$.style.backgroundColor=$graph$$.background);$graph$$.container.appendChild($div$$);$addCell_direction$jscomp$8_sourceState_w$$=mxUtils.bind(this,function($cell$$){var $node$$=document.createElement("a");$node$$.className="geItem";$node$$.style.cssText="position:relative;display:inline-block;position:relative;width:30px;height:30px;cursor:pointer;overflow:hidden;padding:1px";$div$$.appendChild($node$$);
null!=$style$$&&"1"!=urlParams.sketch?this.sidebar.graph.pasteStyle($style$$,[$cell$$]):this.sidebar.graph.pasteCellStyles([$cell$$],$graph$$.currentVertexStyle,$graph$$.currentEdgeStyle);var $geo$jscomp$5_pt$$=$cell$$.geometry;$graph$$.model.isEdge($cell$$)&&($geo$jscomp$5_pt$$=$geo$jscomp$5_pt$$.getTerminalPoint(!1),$geo$jscomp$5_pt$$=new mxRectangle(0,0,$geo$jscomp$5_pt$$.x,$geo$jscomp$5_pt$$.y));null!=$geo$jscomp$5_pt$$&&$node$$.appendChild(this.sidebar.createVertexTemplateFromCells([$cell$$],
$geo$jscomp$5_pt$$.width,$geo$jscomp$5_pt$$.height,"",!0,!1,null,!1,mxUtils.bind(this,function($evt$$){if(!mxEvent.isShiftDown($evt$$)||null==$source$$&&$graph$$.isSelectionEmpty()){var $clone_temp$$=$graph$$.cloneCell($cell$$);if(null!=$callback$$)$callback$$($clone_temp$$);else{var $pt$$=$getInsertLocationFn$$([$clone_temp$$]);$graph$$.model.isEdge($clone_temp$$)?$clone_temp$$.geometry.translate($pt$$.x,$pt$$.y):($clone_temp$$.geometry.x=$pt$$.x,$clone_temp$$.geometry.y=$pt$$.y);$graph$$.model.beginUpdate();
try{$graph$$.addCell($clone_temp$$),$graph$$.model.isVertex($clone_temp$$)&&$graph$$.isAutoSizeCell($clone_temp$$)&&$graph$$.updateCellSize($clone_temp$$)}finally{$graph$$.model.endUpdate()}$graph$$.setSelectionCell($clone_temp$$);$graph$$.scrollCellToVisible($clone_temp$$);$startEditing$$&&$graph$$.startEditing($clone_temp$$);null!=$ui$$.hoverIcons&&$ui$$.hoverIcons.update($graph$$.view.getState($clone_temp$$))}}else $clone_temp$$=$graph$$.getEditableCells(null!=$source$$?[$source$$]:$graph$$.getSelectionCells()),
$graph$$.updateShapes($cell$$,$clone_temp$$);null!=$afterClick$$&&$afterClick$$($evt$$);mxEvent.consume($evt$$)}),25,25,null,null,$source$$))});for($i$jscomp$16_showEdges$$=0;$i$jscomp$16_showEdges$$<($hovering$$?Math.min($cells$jscomp$10_dx$jscomp$8_dy$$.length,4):$cells$jscomp$10_dx$jscomp$8_dy$$.length);$i$jscomp$16_showEdges$$++)$addCell_direction$jscomp$8_sourceState_w$$($cells$jscomp$10_dx$jscomp$8_dy$$[$i$jscomp$16_showEdges$$]);$cells$jscomp$10_dx$jscomp$8_dy$$=$div$$.offsetTop+$div$$.clientHeight-
($graph$$.container.scrollTop+$graph$$.container.offsetHeight);0<$cells$jscomp$10_dx$jscomp$8_dy$$&&($div$$.style.top=Math.max($graph$$.container.scrollTop+22,$y$$-$cells$jscomp$10_dx$jscomp$8_dy$$)+"px");$cells$jscomp$10_dx$jscomp$8_dy$$=$div$$.offsetLeft+$div$$.clientWidth-($graph$$.container.scrollLeft+$graph$$.container.offsetWidth);0<$cells$jscomp$10_dx$jscomp$8_dy$$&&($div$$.style.left=Math.max($graph$$.container.scrollLeft+22,$x$$-$cells$jscomp$10_dx$jscomp$8_dy$$)+"px")}return $div$$};
EditorUi.prototype.getCellsForShapePicker=function($cell$jscomp$12_cells$$,$createEdge_hovering$$,$showEdges$$){var $graph$$=this.editor.graph,$createVertex$$=mxUtils.bind(this,function($style$$,$w$$,$h$$,$value$$){return $graph$$.createVertex(null,null,$value$$||"",0,0,$w$$||120,$h$$||60,$style$$,!1)});$createEdge_hovering$$=mxUtils.bind(this,function($cell$jscomp$13_style$$,$y$$,$value$$){$cell$jscomp$13_style$$=new mxCell($value$$||"",new mxGeometry(0,0,$graph$$.defaultEdgeLength+20,0),$cell$jscomp$13_style$$);
$cell$jscomp$13_style$$.geometry.setTerminalPoint(new mxPoint(0,0),!0);$cell$jscomp$13_style$$.geometry.setTerminalPoint(new mxPoint($cell$jscomp$13_style$$.geometry.width,null!=$y$$?$y$$:0),!1);$cell$jscomp$13_style$$.geometry.points=null!=$y$$?[new mxPoint($cell$jscomp$13_style$$.geometry.width/2,$y$$)]:[];$cell$jscomp$13_style$$.geometry.relative=!0;$cell$jscomp$13_style$$.edge=!0;return $cell$jscomp$13_style$$});if(null!=$cell$jscomp$12_cells$$)try{$cell$jscomp$12_cells$$=$graph$$.cloneCell($cell$jscomp$12_cells$$),
$graph$$.model.isVertex($cell$jscomp$12_cells$$)&&null!=$cell$jscomp$12_cells$$.geometry&&($cell$jscomp$12_cells$$.geometry.x=0,$cell$jscomp$12_cells$$.geometry.y=0)}catch($e$$){$cell$jscomp$12_cells$$=null}null==$cell$jscomp$12_cells$$&&($cell$jscomp$12_cells$$=$createVertex$$($graph$$.appendFontSize("text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;",$graph$$.vertexFontSize),40,20,"Text"),$graph$$.model.isVertex($cell$jscomp$12_cells$$)&&
$graph$$.isAutoSizeCell($cell$jscomp$12_cells$$)&&Graph.createOffscreenGraph($graph$$.getStylesheet()).updateCellSize($cell$jscomp$12_cells$$));$cell$jscomp$12_cells$$=[$cell$jscomp$12_cells$$,$createVertex$$("whiteSpace=wrap;html=1;"),$createVertex$$("ellipse;whiteSpace=wrap;html=1;",80,80),$createVertex$$("rhombus;whiteSpace=wrap;html=1;",80,80),$createVertex$$("rounded=1;whiteSpace=wrap;html=1;"),$createVertex$$("shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"),
$createVertex$$("shape=trapezoid;perimeter=trapezoidPerimeter;whiteSpace=wrap;html=1;fixedSize=1;",120,60),$createVertex$$("shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;",120,80),$createVertex$$("shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;",120,80),$createVertex$$("shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;"),$createVertex$$("triangle;whiteSpace=wrap;html=1;",60,80),$createVertex$$("shape=document;whiteSpace=wrap;html=1;boundedLbl=1;",
120,80),$createVertex$$("shape=tape;whiteSpace=wrap;html=1;",120,100),$createVertex$$("ellipse;shape=cloud;whiteSpace=wrap;html=1;",120,80),$createVertex$$("shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;",80,60),$createVertex$$("shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;",20,20)];$showEdges$$&&($cell$jscomp$12_cells$$=$cell$jscomp$12_cells$$.concat([$createEdge_hovering$$("edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;"),
$createEdge_hovering$$("edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startArrow=classic;endSize=8;startSize=8;"),$createEdge_hovering$$("edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;rounded=1;startSize=8;endSize=8;"),$createEdge_hovering$$("edgeStyle=segmentEdgeStyle;endArrow=classic;html=1;curved=0;rounded=0;endSize=8;startSize=8;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;",this.editor.graph.defaultEdgeLength/2)]));return $cell$jscomp$12_cells$$};
EditorUi.prototype.isShapePickerVisible=function($cancel$$){return null!=this.shapePicker};EditorUi.prototype.hideShapePicker=function($cancel$$){null!=this.shapePicker&&(this.shapePicker.parentNode.removeChild(this.shapePicker),this.shapePicker=null,$cancel$$||null==this.shapePickerCallback||this.shapePickerCallback(),this.shapePickerCallback=null)};EditorUi.prototype.isSpaceDown=function(){return this.spaceDown};EditorUi.prototype.isShiftDown=function(){return this.shiftDown};
EditorUi.prototype.onKeyDown=function($evt$$){var $graph$$=this.editor.graph;if(9==$evt$$.which&&$graph$$.isEnabled()&&!mxEvent.isControlDown($evt$$)){if($graph$$.isEditing())if(mxEvent.isAltDown($evt$$))$graph$$.stopEditing(!1);else try{var $nesting$$=$graph$$.cellEditor.isContentEditing()&&$graph$$.cellEditor.isTextSelected();if(window.getSelection&&$graph$$.cellEditor.isContentEditing()&&!$nesting$$&&!mxClient.IS_IE&&!mxClient.IS_IE11){var $selection$$=window.getSelection(),$container$$=0<$selection$$.rangeCount?
$selection$$.getRangeAt(0).commonAncestorContainer:null;$nesting$$=null!=$container$$&&("LI"==$container$$.nodeName||null!=$container$$.parentNode&&"LI"==$container$$.parentNode.nodeName)}$nesting$$?document.execCommand(mxEvent.isShiftDown($evt$$)?"outdent":"indent",!1,null):mxEvent.isShiftDown($evt$$)?$graph$$.stopEditing(!1):$graph$$.cellEditor.insertTab($graph$$.cellEditor.isContentEditing()?null:4)}catch($e$$){}else mxEvent.isAltDown($evt$$)?$graph$$.selectParentCell():$graph$$.selectCell(!mxEvent.isShiftDown($evt$$));
mxEvent.consume($evt$$)}};EditorUi.prototype.onKeyPress=function($evt$$){var $graph$$=this.editor.graph;!this.isImmediateEditingEvent($evt$$)||$graph$$.isEditing()||$graph$$.isSelectionEmpty()||0===$evt$$.which||27===$evt$$.which||mxEvent.isAltDown($evt$$)||mxEvent.isControlDown($evt$$)||mxEvent.isMetaDown($evt$$)||($graph$$.escape(),$graph$$.startEditing(null,String.fromCharCode($evt$$.which)))};EditorUi.prototype.isImmediateEditingEvent=function($evt$$){return!0};
EditorUi.prototype.updateCssForMarker=function($markerDiv$$,$prefix$$,$shape$jscomp$1_src$$,$img$jscomp$5_marker$$,$fill$$){$markerDiv$$.style.display="inline-flex";$markerDiv$$.style.alignItems="center";$markerDiv$$.style.justifyContent="center";$markerDiv$$.innerText="";"flexArrow"==$shape$jscomp$1_src$$?$markerDiv$$.className=null!=$img$jscomp$5_marker$$&&$img$jscomp$5_marker$$!=mxConstants.NONE?"geSprite geSprite-"+$prefix$$+"blocktrans":"geSprite geSprite-noarrow":($shape$jscomp$1_src$$=this.getImageForMarker($img$jscomp$5_marker$$,
$fill$$),null!=$shape$jscomp$1_src$$?($img$jscomp$5_marker$$=document.createElement("img"),$img$jscomp$5_marker$$.className="geAdaptiveAsset",$img$jscomp$5_marker$$.setAttribute("src",$shape$jscomp$1_src$$),$markerDiv$$.className="","end"==$prefix$$&&mxUtils.setPrefixedStyle($img$jscomp$5_marker$$.style,"transform","scaleX(-1)"),$markerDiv$$.appendChild($img$jscomp$5_marker$$)):($markerDiv$$.className="geSprite geSprite-noarrow",$markerDiv$$.innerHTML=mxUtils.htmlEntities(mxResources.get("none")),
$markerDiv$$.style.backgroundImage="none",$markerDiv$$.style.fontSize="11px",$markerDiv$$.style.filter="none"))};
EditorUi.prototype.getImageForMarker=function($marker$$,$fill$$){var $result$$=null;$marker$$==mxConstants.ARROW_CLASSIC?$result$$="1"!=$fill$$?Format.classicMarkerImage.src:Format.classicFilledMarkerImage.src:$marker$$==mxConstants.ARROW_CLASSIC_THIN?$result$$="1"!=$fill$$?Format.classicThinMarkerImage.src:Format.openThinFilledMarkerImage.src:$marker$$==mxConstants.ARROW_OPEN?$result$$=Format.openFilledMarkerImage.src:$marker$$==mxConstants.ARROW_OPEN_THIN?$result$$=Format.openThinFilledMarkerImage.src:
$marker$$==mxConstants.ARROW_BLOCK?$result$$="1"!=$fill$$?Format.blockMarkerImage.src:Format.blockFilledMarkerImage.src:$marker$$==mxConstants.ARROW_BLOCK_THIN?$result$$="1"!=$fill$$?Format.blockThinMarkerImage.src:Format.blockThinFilledMarkerImage.src:$marker$$==mxConstants.ARROW_OVAL?$result$$="1"!=$fill$$?Format.ovalMarkerImage.src:Format.ovalFilledMarkerImage.src:$marker$$==mxConstants.ARROW_DIAMOND?$result$$="1"!=$fill$$?Format.diamondMarkerImage.src:Format.diamondFilledMarkerImage.src:$marker$$==
mxConstants.ARROW_DIAMOND_THIN?$result$$="1"!=$fill$$?Format.diamondThinMarkerImage.src:Format.diamondThinFilledMarkerImage.src:"doubleBlock"==$marker$$?$result$$="1"!=$fill$$?Format.doubleBlockMarkerImage.src:Format.doubleBlockFilledMarkerImage.src:"box"==$marker$$?$result$$=Format.boxMarkerImage.src:"halfCircle"==$marker$$?$result$$=Format.halfCircleMarkerImage.src:"openAsync"==$marker$$?$result$$=Format.openAsyncFilledMarkerImage.src:"async"==$marker$$?$result$$="1"!=$fill$$?Format.asyncMarkerImage.src:
Format.asyncFilledMarkerImage.src:"dash"==$marker$$?$result$$=Format.dashMarkerImage.src:"baseDash"==$marker$$?$result$$=Format.baseDashMarkerImage.src:"cross"==$marker$$?$result$$=Format.crossMarkerImage.src:"circle"==$marker$$?$result$$=Format.circleMarkerImage.src:"circlePlus"==$marker$$?$result$$=Format.circlePlusMarkerImage.src:"ERone"==$marker$$?$result$$=Format.EROneMarkerImage.src:"ERmandOne"==$marker$$?$result$$=Format.ERmandOneMarkerImage.src:"ERmany"==$marker$$?$result$$=Format.ERmanyMarkerImage.src:
"ERoneToMany"==$marker$$?$result$$=Format.ERoneToManyMarkerImage.src:"ERzeroToOne"==$marker$$?$result$$=Format.ERzeroToOneMarkerImage.src:"ERzeroToMany"==$marker$$&&($result$$=Format.ERzeroToManyMarkerImage.src);return $result$$};EditorUi.prototype.createMenus=function(){return null};
EditorUi.prototype.updatePasteActionStates=function(){var $graph$$=this.editor.graph,$paste$$=this.actions.get("paste"),$pasteHere$$=this.actions.get("pasteHere");$paste$$.setEnabled(this.editor.graph.cellEditor.isContentEditing()||(!mxClient.IS_FF&&null!=navigator.clipboard||!mxClipboard.isEmpty())&&$graph$$.isEnabled()&&!$graph$$.isCellLocked($graph$$.getDefaultParent()));$pasteHere$$.setEnabled($paste$$.isEnabled())};
EditorUi.prototype.initClipboard=function(){var $ui$$=this,$mxClipboardCut$$=mxClipboard.cut;mxClipboard.cut=function($graph$$){$graph$$.cellEditor.isContentEditing()?document.execCommand("cut",!1,null):$mxClipboardCut$$.apply(this,arguments);$ui$$.updatePasteActionStates()};mxClipboard.copy=function($graph$$){var $result$$=null;if($graph$$.cellEditor.isContentEditing())document.execCommand("copy",!1,null);else{$result$$=$result$$||$graph$$.getSelectionCells();$result$$=$graph$$.getExportableCells($graph$$.model.getTopmostCells($result$$));
for(var $cloneMap$$={},$lookup$$=$graph$$.createCellLookup($result$$),$clones$$=$graph$$.cloneCells($result$$,null,$cloneMap$$),$model$$=new mxGraphModel,$parent$$=$model$$.getChildAt($model$$.getRoot(),0),$i$$=0;$i$$<$clones$$.length;$i$$++){$model$$.add($parent$$,$clones$$[$i$$]);var $state$$=$graph$$.view.getState($result$$[$i$$]);if(null!=$state$$){var $geo$$=$graph$$.getCellGeometry($clones$$[$i$$]);null!=$geo$$&&$geo$$.relative&&!$model$$.isEdge($result$$[$i$$])&&null==$lookup$$[mxObjectIdentity.get($model$$.getParent($result$$[$i$$]))]&&
($geo$$.offset=null,$geo$$.relative=!1,$geo$$.x=$state$$.x/$state$$.view.scale-$state$$.view.translate.x,$geo$$.y=$state$$.y/$state$$.view.scale-$state$$.view.translate.y)}}$graph$$.updateCustomLinks($graph$$.createCellMapping($cloneMap$$,$lookup$$),$clones$$);mxClipboard.insertCount=1;mxClipboard.setCells($clones$$)}$ui$$.updatePasteActionStates();return $result$$};var $mxClipboardPaste$$=mxClipboard.paste;mxClipboard.paste=function($graph$$){var $result$$=null;$graph$$.cellEditor.isContentEditing()?
document.execCommand("paste",!1,null):$result$$=$mxClipboardPaste$$.apply(this,arguments);$ui$$.updatePasteActionStates();return $result$$};var $cellEditorStartEditing$$=this.editor.graph.cellEditor.startEditing;this.editor.graph.cellEditor.startEditing=function(){$cellEditorStartEditing$$.apply(this,arguments);$ui$$.updatePasteActionStates()};var $cellEditorStopEditing$$=this.editor.graph.cellEditor.stopEditing;this.editor.graph.cellEditor.stopEditing=function($cell$$,$trigger$$){$cellEditorStopEditing$$.apply(this,
arguments);$ui$$.updatePasteActionStates()};this.updatePasteActionStates()};EditorUi.prototype.lazyZoomDelay=20;EditorUi.prototype.wheelZoomDelay=500;EditorUi.prototype.buttonZoomDelay=600;
EditorUi.prototype.initCanvas=function(){var $graph$$=this.editor.graph;$graph$$.timerAutoScroll=!0;$graph$$.getPagePadding=function(){return new mxPoint(Math.max(0,Math.round(($graph$$.container.offsetWidth-34)/$graph$$.view.scale)),Math.max(0,Math.round(($graph$$.container.offsetHeight-34)/$graph$$.view.scale)))};$graph$$.view.getBackgroundPageBounds=function(){var $layout$$=this.graph.getPageLayout(),$page$$=this.graph.getPageSize();return new mxRectangle(this.scale*(this.translate.x+$layout$$.x*
$page$$.width),this.scale*(this.translate.y+$layout$$.y*$page$$.height),this.scale*$layout$$.width*$page$$.width,this.scale*$layout$$.height*$page$$.height)};$graph$$.getPreferredPageSize=function($bounds$$,$size$jscomp$22_width$$,$height$$){$bounds$$=this.getPageLayout();$size$jscomp$22_width$$=this.getPageSize();return new mxRectangle(0,0,$bounds$$.width*$size$jscomp$22_width$$.width,$bounds$$.height*$size$jscomp$22_width$$.height)};var $resize$$=null,$ui$$=this;if(this.editor.isChromelessView()){this.chromelessResize=
$resize$$=mxUtils.bind(this,function($autoscale_ns$$,$dx$$,$cx$$,$cy$$){if(null!=$graph$$.container&&!$graph$$.isViewer()){$cx$$=null!=$cx$$?$cx$$:0;$cy$$=null!=$cy$$?$cy$$:0;var $bds$jscomp$1_t$$=$graph$$.pageVisible?$graph$$.view.getBackgroundPageBounds():$graph$$.getGraphBounds(),$scroll$$=mxUtils.hasScrollbars($graph$$.container),$st_tr$$=$graph$$.view.translate,$s$$=$graph$$.view.scale,$b$$=mxRectangle.fromRectangle($bds$jscomp$1_t$$);$b$$.x=$b$$.x/$s$$-$st_tr$$.x;$b$$.y=$b$$.y/$s$$-$st_tr$$.y;
$b$$.width/=$s$$;$b$$.height/=$s$$;$st_tr$$=$graph$$.container.scrollTop;var $sl$$=$graph$$.container.scrollLeft,$ch_sb$$=8<=document.documentMode?20:14;if(8==document.documentMode||9==document.documentMode)$ch_sb$$+=3;var $cw$$=$graph$$.container.offsetWidth-$ch_sb$$;$ch_sb$$=$graph$$.container.offsetHeight-$ch_sb$$;$autoscale_ns$$=$autoscale_ns$$?Math.max(.3,Math.min($dx$$||1,$cw$$/$b$$.width)):$s$$;$dx$$=($cw$$-$autoscale_ns$$*$b$$.width)/2/$autoscale_ns$$;var $dy$$=0==this.lightboxVerticalDivider?
0:($ch_sb$$-$autoscale_ns$$*$b$$.height)/this.lightboxVerticalDivider/$autoscale_ns$$;$scroll$$&&($dx$$=Math.max($dx$$,0),$dy$$=Math.max($dy$$,0));if($scroll$$||$bds$jscomp$1_t$$.width<$cw$$||$bds$jscomp$1_t$$.height<$ch_sb$$)$graph$$.view.scaleAndTranslate($autoscale_ns$$,Math.floor($dx$$-$b$$.x),Math.floor($dy$$-$b$$.y)),$graph$$.container.scrollTop=$st_tr$$*$autoscale_ns$$/$s$$,$graph$$.container.scrollLeft=$sl$$*$autoscale_ns$$/$s$$;else if(0!=$cx$$||0!=$cy$$)$bds$jscomp$1_t$$=$graph$$.view.translate,
$graph$$.view.setTranslate(Math.floor($bds$jscomp$1_t$$.x+$cx$$/$s$$),Math.floor($bds$jscomp$1_t$$.y+$cy$$/$s$$))}});this.chromelessWindowResize=mxUtils.bind(this,function(){this.chromelessResize(!1)});var $autoscaleResize$$=mxUtils.bind(this,function(){this.chromelessWindowResize(!1)});mxEvent.addListener(window,"resize",$autoscaleResize$$);this.destroyFunctions.push(function(){mxEvent.removeListener(window,"resize",$autoscaleResize$$)});this.editor.addListener("resetGraphView",mxUtils.bind(this,
function(){this.chromelessResize(!0)}));this.actions.get("zoomIn").funct=mxUtils.bind(this,function($evt$$){$graph$$.zoomIn();this.chromelessResize(!1)});this.actions.get("zoomOut").funct=mxUtils.bind(this,function($evt$$){$graph$$.zoomOut();this.chromelessResize(!1)});if("0"!=urlParams.toolbar){var $toolbarConfig$$=JSON.parse(decodeURIComponent(urlParams["toolbar-config"]||"{}"));this.chromelessToolbar=document.createElement("div");this.chromelessToolbar.style.position="fixed";this.chromelessToolbar.style.overflow=
"hidden";this.chromelessToolbar.style.boxSizing="border-box";this.chromelessToolbar.style.whiteSpace="nowrap";this.chromelessToolbar.style.padding="10px 10px 8px 10px";this.chromelessToolbar.style.left=$graph$$.isViewer()?"0":"50%";mxClient.IS_IE||mxClient.IS_IE11?(this.chromelessToolbar.style.backgroundColor="#ffffff",this.chromelessToolbar.style.border="3px solid black"):this.chromelessToolbar.style.backgroundColor="#000000";mxUtils.setPrefixedStyle(this.chromelessToolbar.style,"borderRadius","16px");
mxUtils.setPrefixedStyle(this.chromelessToolbar.style,"transition","opacity 600ms ease-in-out");var $addButton_updateChromelessToolbarPosition$$=mxUtils.bind(this,function(){var $css$$=mxUtils.getCurrentStyle($graph$$.container);$graph$$.isViewer()?this.chromelessToolbar.style.top="0":this.chromelessToolbar.style.bottom=(null!=$css$$?parseInt($css$$["margin-bottom"]||0):0)+(null!=this.tabContainer?20+parseInt(this.tabContainer.style.height):20)+"px"});this.editor.addListener("resetGraphView",$addButton_updateChromelessToolbarPosition$$);
$addButton_updateChromelessToolbarPosition$$();var $btnCount$$=0;$addButton_updateChromelessToolbarPosition$$=mxUtils.bind(this,function($fn$jscomp$7_img$$,$imgSrc$$,$tip$$){$btnCount$$++;var $a$$=document.createElement("span");$a$$.style.paddingLeft="8px";$a$$.style.paddingRight="8px";$a$$.style.cursor="pointer";mxEvent.addListener($a$$,"click",$fn$jscomp$7_img$$);null!=$tip$$&&$a$$.setAttribute("title",$tip$$);$fn$jscomp$7_img$$=document.createElement("img");$fn$jscomp$7_img$$.setAttribute("border",
"0");$fn$jscomp$7_img$$.setAttribute("src",$imgSrc$$);$fn$jscomp$7_img$$.style.width="36px";$fn$jscomp$7_img$$.style.filter="invert(100%)";$a$$.appendChild($fn$jscomp$7_img$$);this.chromelessToolbar.appendChild($a$$);return $a$$});if(null!=$toolbarConfig$$.backBtn){var $backUrl$$=Graph.sanitizeLink($toolbarConfig$$.backBtn.url);null!=$backUrl$$&&$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){window.location.href=$backUrl$$;mxEvent.consume($evt$$)}),Editor.backImage,
mxResources.get("back",null,"Back"))}if(this.isPagesEnabled()){var $prevButton$$=$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){this.actions.get("previousPage").funct();mxEvent.consume($evt$$)}),Editor.previousImage,mxResources.get("previousPage")),$pageInfo$$=document.createElement("div");$pageInfo$$.style.fontFamily=Editor.defaultHtmlFont;$pageInfo$$.style.display="inline-block";$pageInfo$$.style.verticalAlign="top";$pageInfo$$.style.fontWeight="bold";$pageInfo$$.style.marginTop=
"8px";$pageInfo$$.style.fontSize="14px";$pageInfo$$.style.cursor="default";$pageInfo$$.style.color=mxClient.IS_IE||mxClient.IS_IE11?"#000000":"#ffffff";this.chromelessToolbar.appendChild($pageInfo$$);var $nextButton$$=$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){this.actions.get("nextPage").funct();mxEvent.consume($evt$$)}),Editor.nextImage,mxResources.get("nextPage")),$updatePageInfo$$=mxUtils.bind(this,function(){if(null!=this.pages&&1<this.pages.length&&null!=
this.currentPage){$pageInfo$$.innerText="";var $index$$=mxUtils.indexOf(this.pages,this.currentPage);mxUtils.write($pageInfo$$,$index$$+1+" / "+this.pages.length);$pageInfo$$.setAttribute("title",mxResources.get("currentPage")+": "+this.currentPage.getName());$prevButton$$.setAttribute("title",mxResources.get("previousPage")+": "+this.pages[mxUtils.mod($index$$-1,this.pages.length)].getName());$nextButton$$.setAttribute("title",mxResources.get("nextPage")+": "+this.pages[mxUtils.mod($index$$+1,this.pages.length)].getName())}});
$prevButton$$.style.paddingLeft="0px";$prevButton$$.style.paddingRight="4px";$nextButton$$.style.paddingLeft="4px";$nextButton$$.style.paddingRight="0px";var $i$$=mxUtils.bind(this,function(){null!=this.pages&&1<this.pages.length&&null!=this.currentPage?($nextButton$$.style.display="",$prevButton$$.style.display="",$pageInfo$$.style.display="inline-block"):($nextButton$$.style.display="none",$prevButton$$.style.display="none",$pageInfo$$.style.display="none");$updatePageInfo$$()});if(null!=this.menus){var $pagesMenu$$=
this.menus.get("pages");null!=$pagesMenu$$&&mxEvent.addListener($pageInfo$$,"click",mxUtils.bind(this,function($evt$$){var $menu$$=new mxPopupMenu($pagesMenu$$.funct);$menu$$.div.className+=" geMenubarMenu";$menu$$.smartSeparators=!0;$menu$$.showDisabled=!0;$menu$$.autoExpand=!0;$menu$$.hideMenu=mxUtils.bind(this,function(){mxPopupMenu.prototype.hideMenu.apply($menu$$,arguments);$menu$$.destroy()});var $offset$$=mxUtils.getOffset($pageInfo$$);$menu$$.popup($offset$$.x,$offset$$.y+$pageInfo$$.offsetHeight,
null,$evt$$);mxEvent.addListener($menu$$.div,"mouseleave",mxUtils.bind(this,function(){$menu$$.hideMenu()}))}))}this.editor.addListener("resetGraphView",$i$$);this.editor.addListener("pageSelected",$updatePageInfo$$)}$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){this.actions.get("zoomOut").funct();mxEvent.consume($evt$$)}),Editor.zoomOutImage,mxResources.get("zoomOut")+" (Alt+Mousewheel)");$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){this.actions.get("zoomIn").funct();
mxEvent.consume($evt$$)}),Editor.zoomInImage,mxResources.get("zoomIn")+" (Alt+Mousewheel)");$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){$graph$$.isLightboxView()?(1==$graph$$.view.scale?this.lightboxFit():$graph$$.zoomTo(1),this.chromelessResize(!1)):this.chromelessResize(!0);mxEvent.consume($evt$$)}),Editor.zoomFitImage,mxResources.get("fit"));var $fadeThread$$=null,$fadeThread2$$=null,$fadeOut$$=mxUtils.bind(this,function($delay$$){null!=$fadeThread$$&&(window.clearTimeout($fadeThread$$),
$fadeThread$$=null);null!=$fadeThread2$$&&(window.clearTimeout($fadeThread2$$),$fadeThread2$$=null);$fadeThread$$=window.setTimeout(mxUtils.bind(this,function(){mxUtils.setOpacity(this.chromelessToolbar,0);$fadeThread$$=null;$fadeThread2$$=window.setTimeout(mxUtils.bind(this,function(){this.chromelessToolbar.style.display="none";$fadeThread2$$=null}),600)}),$delay$$||200)}),$fadeIn$$=mxUtils.bind(this,function($opacity$$){null!=$fadeThread$$&&(window.clearTimeout($fadeThread$$),$fadeThread$$=null);
null!=$fadeThread2$$&&(window.clearTimeout($fadeThread2$$),$fadeThread2$$=null);this.chromelessToolbar.style.display="";mxUtils.setOpacity(this.chromelessToolbar,$opacity$$||30)});if("1"==urlParams.layers){this.layersDialog=null;var $layersButton$$=$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){if(null!=this.layersDialog)this.layersDialog.parentNode.removeChild(this.layersDialog),this.layersDialog=null;else{this.layersDialog=$graph$$.createLayersDialog(mxUtils.bind(this,
function(){this.chromelessResize&&this.chromelessResize()}),!0);mxEvent.addListener(this.layersDialog,"mouseleave",mxUtils.bind(this,function(){this.layersDialog.parentNode.removeChild(this.layersDialog);this.layersDialog=null}));var $r$jscomp$3_style$$=$layersButton$$.getBoundingClientRect();mxUtils.setPrefixedStyle(this.layersDialog.style,"borderRadius","5px");this.layersDialog.style.position="fixed";this.layersDialog.style.fontFamily=Editor.defaultHtmlFont;this.layersDialog.style.width="160px";
this.layersDialog.style.padding="4px 2px 4px 2px";this.layersDialog.style.left=$r$jscomp$3_style$$.left+"px";this.layersDialog.style.bottom=parseInt(this.chromelessToolbar.style.bottom)+this.chromelessToolbar.offsetHeight+4+"px";mxClient.IS_IE||mxClient.IS_IE11?(this.layersDialog.style.backgroundColor="#ffffff",this.layersDialog.style.border="2px solid black",this.layersDialog.style.color="#000000"):(this.layersDialog.style.backgroundColor="#000000",this.layersDialog.style.color="#ffffff",mxUtils.setOpacity(this.layersDialog,
80));$r$jscomp$3_style$$=mxUtils.getCurrentStyle(this.editor.graph.container);this.layersDialog.style.zIndex=$r$jscomp$3_style$$.zIndex;document.body.appendChild(this.layersDialog);this.editor.fireEvent(new mxEventObject("layersDialogShown"))}mxEvent.consume($evt$$)}),Editor.layersImage,mxResources.get("layers")),$model$$=$graph$$.getModel();$model$$.addListener(mxEvent.CHANGE,function(){$layersButton$$.style.display=1<$model$$.getChildCount($model$$.root)?"":"none"})}("1"!=urlParams.openInSameWin||
navigator.standalone)&&this.addChromelessToolbarItems($addButton_updateChromelessToolbarPosition$$);null==this.editor.editButtonLink&&null==this.editor.editButtonFunc||$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){null!=this.editor.editButtonFunc?this.editor.editButtonFunc():"_blank"==this.editor.editButtonLink?this.editor.editAsNew(this.getEditBlankXml()):$graph$$.openLink(this.editor.editButtonLink,"editWindow");mxEvent.consume($evt$$)}),Editor.editImage,mxResources.get("edit"));
if(null!=this.lightboxToolbarActions)for($i$$=0;$i$$<this.lightboxToolbarActions.length;$i$$++){var $lbAction$$=this.lightboxToolbarActions[$i$$];$lbAction$$.elem=$addButton_updateChromelessToolbarPosition$$($lbAction$$.fn,$lbAction$$.icon,$lbAction$$.tooltip)}if(null!=$toolbarConfig$$.refreshBtn){var $refreshUrl$$=null==$toolbarConfig$$.refreshBtn.url?null:Graph.sanitizeLink($toolbarConfig$$.refreshBtn.url);$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){null!=$refreshUrl$$?
window.location.href=$refreshUrl$$:window.location.reload();mxEvent.consume($evt$$)}),Editor.refreshImage,mxResources.get("refresh",null,"Refresh"))}null!=$toolbarConfig$$.fullscreenBtn&&window.self!==window.top&&$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){$toolbarConfig$$.fullscreenBtn.url?$graph$$.openLink($toolbarConfig$$.fullscreenBtn.url):$graph$$.openLink(window.location.href);mxEvent.consume($evt$$)}),Editor.fullscreenImage,mxResources.get("openInNewWindow",
null,"Open in New Window"));!$toolbarConfig$$.noCloseBtn&&($toolbarConfig$$.closeBtn&&window.self===window.top||$graph$$.lightbox&&("1"==urlParams.close||this.container!=document.body))&&$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){"1"==urlParams.close||$toolbarConfig$$.closeBtn?window.close():(this.destroy(),mxEvent.consume($evt$$))}),Editor.closeImage,mxResources.get("close")+" (Escape)");this.chromelessToolbar.style.display="none";$graph$$.isViewer()||mxUtils.setPrefixedStyle(this.chromelessToolbar.style,
"transform","translate(-50%,0)");$graph$$.container.appendChild(this.chromelessToolbar);mxEvent.addListener($graph$$.container,mxClient.IS_POINTER?"pointermove":"mousemove",mxUtils.bind(this,function($evt$$){mxEvent.isTouchEvent($evt$$)||(mxEvent.isShiftDown($evt$$)||$fadeIn$$(30),$fadeOut$$())}));mxEvent.addListener(this.chromelessToolbar,mxClient.IS_POINTER?"pointermove":"mousemove",function($evt$$){mxEvent.consume($evt$$)});mxEvent.addListener(this.chromelessToolbar,"mouseenter",mxUtils.bind(this,
function($evt$$){$graph$$.tooltipHandler.resetTimer();$graph$$.tooltipHandler.hideTooltip();mxEvent.isShiftDown($evt$$)?$fadeOut$$():$fadeIn$$(100)}));mxEvent.addListener(this.chromelessToolbar,"mousemove",mxUtils.bind(this,function($evt$$){mxEvent.isShiftDown($evt$$)?$fadeOut$$():$fadeIn$$(100);mxEvent.consume($evt$$)}));mxEvent.addListener(this.chromelessToolbar,"mouseleave",mxUtils.bind(this,function($evt$$){mxEvent.isTouchEvent($evt$$)||$fadeIn$$(30)}));var $tol$$=$graph$$.getTolerance();$graph$$.addMouseListener({startX:0,
startY:0,scrollLeft:0,scrollTop:0,mouseDown:function($sender$$,$me$$){this.startX=$me$$.getGraphX();this.startY=$me$$.getGraphY();this.scrollLeft=$graph$$.container.scrollLeft;this.scrollTop=$graph$$.container.scrollTop},mouseMove:function($sender$$,$me$$){},mouseUp:function($sender$$,$me$$){mxEvent.isTouchEvent($me$$.getEvent())&&Math.abs(this.scrollLeft-$graph$$.container.scrollLeft)<$tol$$&&Math.abs(this.scrollTop-$graph$$.container.scrollTop)<$tol$$&&Math.abs(this.startX-$me$$.getGraphX())<$tol$$&&
Math.abs(this.startY-$me$$.getGraphY())<$tol$$&&(0<parseFloat($ui$$.chromelessToolbar.style.opacity||0)?$fadeOut$$():$fadeIn$$(30))}})}this.editor.editable||this.addChromelessClickHandler()}else if(this.editor.extendCanvas){var $graphViewValidate$$=$graph$$.view.validate,$zero$$=new mxPoint,$pageChanged$$=!1,$lastPage$$=null;$graph$$.view.validate=function(){if(null!=$graph$$.container&&mxUtils.hasScrollbars($graph$$.container)){if(null!=$ui$$.currentPage&&$lastPage$$!=$ui$$.currentPage){$lastPage$$=
$ui$$.currentPage;$pageChanged$$=!0;var $bbox_pageLayout_tx$$=$graph$$.getBoundingBoxFromGeometry($graph$$.model.getCells(),!0,null,!0);null==$bbox_pageLayout_tx$$&&($bbox_pageLayout_tx$$=new mxRectangle($graph$$.view.translate.x*$graph$$.view.scale,$graph$$.view.translate.y*$graph$$.view.scale));$bbox_pageLayout_tx$$=$graph$$.getPageLayout($bbox_pageLayout_tx$$,$zero$$,1);var $pad_tr$jscomp$2_ty$$=$graph$$.getDefaultTranslate($bbox_pageLayout_tx$$);this.x0=$bbox_pageLayout_tx$$.x;this.y0=$bbox_pageLayout_tx$$.y;
if($pad_tr$jscomp$2_ty$$.x!=this.translate.x||$pad_tr$jscomp$2_ty$$.y!=this.translate.y)this.invalidate(),this.translate.x=$pad_tr$jscomp$2_ty$$.x,this.translate.y=$pad_tr$jscomp$2_ty$$.y}$pad_tr$jscomp$2_ty$$=$graph$$.getPagePadding();var $size$$=$graph$$.getPageSize();$bbox_pageLayout_tx$$=$pad_tr$jscomp$2_ty$$.x-(this.x0||0)*$size$$.width;$pad_tr$jscomp$2_ty$$=$pad_tr$jscomp$2_ty$$.y-(this.y0||0)*$size$$.height;if(this.translate.x!=$bbox_pageLayout_tx$$||this.translate.y!=$pad_tr$jscomp$2_ty$$)this.invalidate(),
this.translate.x=$bbox_pageLayout_tx$$,this.translate.y=$pad_tr$jscomp$2_ty$$}$graphViewValidate$$.apply(this,arguments)};if(!$graph$$.isViewer()){var $graphSizeDidChange$$=$graph$$.sizeDidChange;$graph$$.sizeDidChange=function(){var $skipScroll$$=$pageChanged$$;$pageChanged$$=!1;if(null!=this.container&&mxUtils.hasScrollbars(this.container)){this.updateMinimumSize();if(!this.autoTranslate){var $pageLayout$$=this.getPageLayout(),$tr$$=this.getDefaultTranslate($pageLayout$$),$tx$$=this.view.translate.x,
$ty$$=this.view.translate.y;if($tr$$.x!=$tx$$||$tr$$.y!=$ty$$){this.view.x0=$pageLayout$$.x;this.view.y0=$pageLayout$$.y;this.autoTranslate=!0;this.view.setTranslate($tr$$.x,$tr$$.y);this.autoTranslate=!1;$skipScroll$$||(this.container.scrollLeft+=Math.round(($tr$$.x-$tx$$)*this.view.scale),this.container.scrollTop+=Math.round(($tr$$.y-$ty$$)*this.view.scale));return}}$graphSizeDidChange$$.apply(this,arguments)}else this.fireEvent(new mxEventObject(mxEvent.SIZE,"bounds",this.getGraphBounds()))}}}var $bgGroup$$=
$graph$$.view.getBackgroundPane(),$mainGroup$$=$graph$$.view.getDrawPane();$graph$$.cumulativeZoomFactor=1;var $updateZoomTimeout$$=null,$cursorPosition$$=null,$scrollPosition$$=null,$forcedZoom$$=null,$filter$$=null,$scheduleZoom$$=function($delay$$){null!=$updateZoomTimeout$$&&window.clearTimeout($updateZoomTimeout$$);0<=$delay$$&&window.setTimeout(function(){if(!$graph$$.isMouseDown||$forcedZoom$$)$updateZoomTimeout$$=window.setTimeout(mxUtils.bind(this,function(){$graph$$.isFastZoomEnabled()&&
(null!=$graph$$.view.backgroundPageShape&&null!=$graph$$.view.backgroundPageShape.node&&(mxUtils.setPrefixedStyle($graph$$.view.backgroundPageShape.node.style,"transform-origin",null),mxUtils.setPrefixedStyle($graph$$.view.backgroundPageShape.node.style,"transform",null)),$mainGroup$$.style.transformOrigin="",$bgGroup$$.style.transformOrigin="",mxClient.IS_SF?($mainGroup$$.style.transform="scale(1)",$bgGroup$$.style.transform="scale(1)",window.setTimeout(function(){$mainGroup$$.style.transform="";
$bgGroup$$.style.transform=""},0)):($mainGroup$$.style.transform="",$bgGroup$$.style.transform=""),$graph$$.view.getDecoratorPane().style.opacity="",$graph$$.view.getOverlayPane().style.opacity="");var $sp$$=new mxPoint($graph$$.container.scrollLeft,$graph$$.container.scrollTop),$offset$$=mxUtils.getOffset($graph$$.container),$prev$$=$graph$$.view.scale,$dx$$=0,$dy$$=0;null!=$cursorPosition$$&&($dx$$=$graph$$.container.offsetWidth/2-$cursorPosition$$.x+$offset$$.x,$dy$$=$graph$$.container.offsetHeight/
2-$cursorPosition$$.y+$offset$$.y);$graph$$.zoom($graph$$.cumulativeZoomFactor,null,$graph$$.isFastZoomEnabled()?20:null);$graph$$.view.scale!=$prev$$&&(null!=$scrollPosition$$&&($dx$$+=$sp$$.x-$scrollPosition$$.x,$dy$$+=$sp$$.y-$scrollPosition$$.y),null!=$resize$$&&$ui$$.chromelessResize(!1,null,$dx$$*($graph$$.cumulativeZoomFactor-1),$dy$$*($graph$$.cumulativeZoomFactor-1)),!mxUtils.hasScrollbars($graph$$.container)||0==$dx$$&&0==$dy$$||($graph$$.container.scrollLeft-=$dx$$*($graph$$.cumulativeZoomFactor-
1),$graph$$.container.scrollTop-=$dy$$*($graph$$.cumulativeZoomFactor-1)));null!=$filter$$&&$mainGroup$$.setAttribute("filter",$filter$$);$graph$$.cumulativeZoomFactor=1;$filter$$=$forcedZoom$$=$cursorPosition$$=$scrollPosition$$=$updateZoomTimeout$$=null}),null!=$delay$$?$delay$$:$graph$$.isFastZoomEnabled()?$ui$$.wheelZoomDelay:$ui$$.lazyZoomDelay)},0)};$graph$$.lazyZoom=function($f$$,$ignoreCursorPosition$$,$delay$$,$cx$jscomp$3_factor$jscomp$3_page$$){$cx$jscomp$3_factor$jscomp$3_page$$=null!=
$cx$jscomp$3_factor$jscomp$3_page$$?$cx$jscomp$3_factor$jscomp$3_page$$:this.zoomFactor;($ignoreCursorPosition$$=$ignoreCursorPosition$$||!$graph$$.scrollbars)&&($cursorPosition$$=new mxPoint($graph$$.container.offsetLeft+$graph$$.container.clientWidth/2,$graph$$.container.offsetTop+$graph$$.container.clientHeight/2));$f$$?.15>=this.view.scale*this.cumulativeZoomFactor?this.cumulativeZoomFactor*=(this.view.scale+.05)/this.view.scale:(this.cumulativeZoomFactor*=$cx$jscomp$3_factor$jscomp$3_page$$,
this.cumulativeZoomFactor=Math.round(this.view.scale*this.cumulativeZoomFactor*100)/100/this.view.scale):.15>=this.view.scale*this.cumulativeZoomFactor?this.cumulativeZoomFactor*=(this.view.scale-.05)/this.view.scale:(this.cumulativeZoomFactor/=$cx$jscomp$3_factor$jscomp$3_page$$,this.cumulativeZoomFactor=Math.round(this.view.scale*this.cumulativeZoomFactor*100)/100/this.view.scale);this.cumulativeZoomFactor=Math.max(.05,Math.min(this.view.scale*this.cumulativeZoomFactor,160))/this.view.scale;if($graph$$.isFastZoomEnabled()){null==
$filter$$&&""!=$mainGroup$$.getAttribute("filter")&&($filter$$=$mainGroup$$.getAttribute("filter"),$mainGroup$$.removeAttribute("filter"));$scrollPosition$$=new mxPoint($graph$$.container.scrollLeft,$graph$$.container.scrollTop);$f$$=Math.round(Math.round(this.view.scale*this.cumulativeZoomFactor*100)/100*20)/(20*this.view.scale);$cx$jscomp$3_factor$jscomp$3_page$$=$ignoreCursorPosition$$||null==$cursorPosition$$?$graph$$.container.scrollLeft+$graph$$.container.clientWidth/2:$cursorPosition$$.x+$graph$$.container.scrollLeft-
$graph$$.container.offsetLeft;var $cy$$=$ignoreCursorPosition$$||null==$cursorPosition$$?$graph$$.container.scrollTop+$graph$$.container.clientHeight/2:$cursorPosition$$.y+$graph$$.container.scrollTop-$graph$$.container.offsetTop;$mainGroup$$.style.transformOrigin=$cx$jscomp$3_factor$jscomp$3_page$$+"px "+$cy$$+"px";$mainGroup$$.style.transform="scale("+$f$$+")";$bgGroup$$.style.transformOrigin=$cx$jscomp$3_factor$jscomp$3_page$$+"px "+$cy$$+"px";$bgGroup$$.style.transform="scale("+$f$$+")";null!=
$graph$$.view.backgroundPageShape&&null!=$graph$$.view.backgroundPageShape.node?($cx$jscomp$3_factor$jscomp$3_page$$=$graph$$.view.backgroundPageShape.node,mxUtils.setPrefixedStyle($cx$jscomp$3_factor$jscomp$3_page$$.style,"transform-origin",($ignoreCursorPosition$$||null==$cursorPosition$$?$graph$$.container.clientWidth/2+$graph$$.container.scrollLeft-$cx$jscomp$3_factor$jscomp$3_page$$.offsetLeft+"px":$cursorPosition$$.x+$graph$$.container.scrollLeft-$cx$jscomp$3_factor$jscomp$3_page$$.offsetLeft-
$graph$$.container.offsetLeft+"px")+" "+($ignoreCursorPosition$$||null==$cursorPosition$$?$graph$$.container.clientHeight/2+$graph$$.container.scrollTop-$cx$jscomp$3_factor$jscomp$3_page$$.offsetTop+"px":$cursorPosition$$.y+$graph$$.container.scrollTop-$cx$jscomp$3_factor$jscomp$3_page$$.offsetTop-$graph$$.container.offsetTop+"px")),mxUtils.setPrefixedStyle($cx$jscomp$3_factor$jscomp$3_page$$.style,"transform","scale("+$f$$+")")):$graph$$.view.validateBackgroundStyles($f$$,$cx$jscomp$3_factor$jscomp$3_page$$,
$cy$$);$graph$$.view.getDecoratorPane().style.opacity="0";$graph$$.view.getOverlayPane().style.opacity="0";null!=$ui$$.hoverIcons&&$ui$$.hoverIcons.reset();$graph$$.fireEvent(new mxEventObject("zoomPreview","factor",$f$$))}$scheduleZoom$$($graph$$.isFastZoomEnabled()?$delay$$:0)};mxEvent.addGestureListeners($graph$$.container,function($evt$$){null!=$updateZoomTimeout$$&&window.clearTimeout($updateZoomTimeout$$)},null,function($evt$$){1!=$graph$$.cumulativeZoomFactor&&$scheduleZoom$$(0)});mxEvent.addListener($graph$$.container,
"scroll",function($evt$$){null==$updateZoomTimeout$$||$graph$$.isMouseDown||1==$graph$$.cumulativeZoomFactor||$scheduleZoom$$(0)});mxEvent.addMouseWheelListener(mxUtils.bind(this,function($evt$$,$up$$,$factor$jscomp$4_force$jscomp$3_t$$,$cx$jscomp$4_delay$$,$cy$$){$graph$$.fireEvent(new mxEventObject("wheel"));if(null==this.dialogs||0==this.dialogs.length)if(!$graph$$.scrollbars&&!$factor$jscomp$4_force$jscomp$3_t$$&&$graph$$.isScrollWheelEvent($evt$$))$factor$jscomp$4_force$jscomp$3_t$$=$graph$$.view.getTranslate(),
$cx$jscomp$4_delay$$=40/$graph$$.view.scale,mxEvent.isShiftDown($evt$$)?$graph$$.view.setTranslate($factor$jscomp$4_force$jscomp$3_t$$.x+($up$$?-$cx$jscomp$4_delay$$:$cx$jscomp$4_delay$$),$factor$jscomp$4_force$jscomp$3_t$$.y):$graph$$.view.setTranslate($factor$jscomp$4_force$jscomp$3_t$$.x,$factor$jscomp$4_force$jscomp$3_t$$.y+($up$$?$cx$jscomp$4_delay$$:-$cx$jscomp$4_delay$$));else if($factor$jscomp$4_force$jscomp$3_t$$||$graph$$.isZoomWheelEvent($evt$$))for(var $source$$=mxEvent.getSource($evt$$);null!=
$source$$;){if($source$$==$graph$$.container)return $graph$$.tooltipHandler.hideTooltip(),$cursorPosition$$=null!=$cx$jscomp$4_delay$$&&null!=$cy$$?new mxPoint($cx$jscomp$4_delay$$,$cy$$):new mxPoint(mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$)),$forcedZoom$$=$factor$jscomp$4_force$jscomp$3_t$$,$factor$jscomp$4_force$jscomp$3_t$$=$graph$$.zoomFactor,$cx$jscomp$4_delay$$=null,$evt$$.ctrlKey&&null!=$evt$$.deltaY&&40>Math.abs($evt$$.deltaY)&&Math.round($evt$$.deltaY)!=$evt$$.deltaY?$factor$jscomp$4_force$jscomp$3_t$$=
1+Math.abs($evt$$.deltaY)/20*($factor$jscomp$4_force$jscomp$3_t$$-1):null!=$evt$$.movementY&&"pointermove"==$evt$$.type&&($factor$jscomp$4_force$jscomp$3_t$$=1+Math.max(1,Math.abs($evt$$.movementY))/20*($factor$jscomp$4_force$jscomp$3_t$$-1),$cx$jscomp$4_delay$$=-1),$graph$$.lazyZoom($up$$,null,$cx$jscomp$4_delay$$,$factor$jscomp$4_force$jscomp$3_t$$),mxEvent.consume($evt$$),!1;$source$$=$source$$.parentNode}}),$graph$$.container);$graph$$.panningHandler.zoomGraph=function($evt$$){$graph$$.cumulativeZoomFactor=
$evt$$.scale;$graph$$.lazyZoom(0<$evt$$.scale,!0);mxEvent.consume($evt$$)}};EditorUi.prototype.addChromelessToolbarItems=function($addButton$$){$addButton$$(mxUtils.bind(this,function($evt$$){this.actions.get("print").funct();mxEvent.consume($evt$$)}),Editor.printImage,mxResources.get("print"))};EditorUi.prototype.isPagesEnabled=function(){return this.editor.editable||"1"!=urlParams["hide-pages"]};EditorUi.prototype.createTemporaryGraph=function($stylesheet$$){return Graph.createOffscreenGraph($stylesheet$$)};
EditorUi.prototype.addChromelessClickHandler=function(){var $hl$$=urlParams.highlight;null!=$hl$$&&0<$hl$$.length&&($hl$$="#"+$hl$$);this.editor.graph.addClickHandler($hl$$)};EditorUi.prototype.toggleFormatPanel=function($visible$$){$visible$$=null!=$visible$$?$visible$$:0==this.formatWidth;null!=this.format&&(this.formatWidth=$visible$$?240:0,this.formatContainer.style.width=this.formatWidth+"px",this.refresh(),this.format.refresh(),this.fireEvent(new mxEventObject("formatWidthChanged")))};
EditorUi.prototype.isFormatPanelVisible=function(){return 0<this.formatWidth};EditorUi.prototype.lightboxFit=function($maxHeight$$){if(this.isDiagramEmpty())this.editor.graph.view.setScale(1);else{var $p$$=urlParams.border,$border$$=60;null!=$p$$&&($border$$=parseInt($p$$));this.editor.graph.maxFitScale=this.lightboxMaxFitScale;this.editor.graph.fit($border$$,null,null,null,null,null,$maxHeight$$);this.editor.graph.maxFitScale=null}};
EditorUi.prototype.isDiagramEmpty=function(){var $model$$=this.editor.graph.getModel();return 1==$model$$.getChildCount($model$$.root)&&0==$model$$.getChildCount($model$$.getChildAt($model$$.root,0))};EditorUi.prototype.isSelectionAllowed=function($evt$$){return"SELECT"==mxEvent.getSource($evt$$).nodeName||"INPUT"==mxEvent.getSource($evt$$).nodeName&&mxUtils.isAncestorNode(this.formatContainer,mxEvent.getSource($evt$$))};
EditorUi.prototype.addBeforeUnloadListener=function(){window.onbeforeunload=mxUtils.bind(this,function(){if(!this.editor.isChromelessView())return this.onBeforeUnload()})};EditorUi.prototype.onBeforeUnload=function(){if(this.editor.modified)return mxResources.get("allChangesLost")};
EditorUi.prototype.open=function(){try{null!=window.opener&&null!=window.opener.openFile&&window.opener.openFile.setConsumer(mxUtils.bind(this,function($xml$$,$filename$$){try{var $doc$$=mxUtils.parseXml($xml$$);this.editor.setGraphXml($doc$$.documentElement);this.editor.setModified(!1);this.editor.undoManager.clear();null!=$filename$$&&(this.editor.setFilename($filename$$),this.updateDocumentTitle())}catch($e$$){mxUtils.alert(mxResources.get("invalidOrMissingFile")+": "+$e$$.message)}}))}catch($e$$){}this.editor.graph.view.validate();
this.editor.graph.sizeDidChange();this.editor.fireEvent(new mxEventObject("resetGraphView"))};
EditorUi.prototype.showPopupMenu=function($fn$$,$x$$,$y$$,$evt$$){this.editor.graph.popupMenuHandler.hideMenu();var $menu$$=new mxPopupMenu($fn$$);$menu$$.div.className+=" geMenubarMenu";$menu$$.smartSeparators=!0;$menu$$.showDisabled=!0;$menu$$.autoExpand=!0;$menu$$.hideMenu=mxUtils.bind(this,function(){mxPopupMenu.prototype.hideMenu.apply($menu$$,arguments);$menu$$.destroy()});$menu$$.popup($x$$,$y$$,null,$evt$$);this.setCurrentMenu($menu$$)};
EditorUi.prototype.setCurrentMenu=function($menu$$,$elt$$){this.currentMenuElt=$elt$$;this.currentMenu=$menu$$;this.hideShapePicker()};EditorUi.prototype.resetCurrentMenu=function(){this.currentMenu=this.currentMenuElt=null};EditorUi.prototype.hideCurrentMenu=function(){null!=this.currentMenu&&(this.currentMenu.hideMenu(),this.resetCurrentMenu())};
EditorUi.prototype.updateDocumentTitle=function(){var $title$$=this.editor.getOrCreateFilename();null!=this.editor.appName&&($title$$+=" - "+this.editor.appName);document.title=$title$$};EditorUi.prototype.createHoverIcons=function(){return new HoverIcons(this.editor.graph)};EditorUi.prototype.redo=function(){try{this.editor.graph.isEditing()?document.execCommand("redo",!1,null):this.editor.undoManager.redo()}catch($e$$){}};
EditorUi.prototype.undo=function(){try{var $graph$$=this.editor.graph;if($graph$$.isEditing()){var $value$$=$graph$$.cellEditor.textarea.innerHTML;document.execCommand("undo",!1,null);$value$$==$graph$$.cellEditor.textarea.innerHTML&&($graph$$.stopEditing(!0),this.editor.undoManager.undo())}else this.editor.undoManager.undo()}catch($e$$){}};EditorUi.prototype.canRedo=function(){return this.editor.graph.isEditing()||this.editor.undoManager.canRedo()};
EditorUi.prototype.canUndo=function(){return this.editor.graph.isEditing()||this.editor.undoManager.canUndo()};EditorUi.prototype.getDiagramSnapshot=function(){return{node:this.editor.getGraphXml()}};EditorUi.prototype.updateDiagramData=function($snapshot$$,$node$$){this.replaceDiagramData(xUtils.getXml($node$$))};EditorUi.prototype.replaceDiagramData=function($data$$){this.editor.graph.model.beginUpdate();try{this.editor.setGraphXml(mxUtils.parseXml($data$$).documentElement)}finally{this.editor.graph.model.endUpdate()}};
EditorUi.prototype.getEditBlankXml=function(){return mxUtils.getXml(this.editor.getGraphXml())};EditorUi.prototype.getUrl=function($href$$){$href$$=null!=$href$$?$href$$:window.location.pathname;var $parms$$=0<$href$$.indexOf("?")?1:0,$key$$;for($key$$ in urlParams)$href$$=0==$parms$$?$href$$+"?":$href$$+"&",$href$$+=$key$$+"="+urlParams[$key$$],$parms$$++;return $href$$};
EditorUi.prototype.setScrollbars=function($value$$){var $graph$$=this.editor.graph,$prev$$=$graph$$.container.style.overflow;$graph$$.scrollbars=$value$$;this.editor.updateGraphComponents();$prev$$!=$graph$$.container.style.overflow&&($graph$$.container.scrollTop=0,$graph$$.container.scrollLeft=0,$graph$$.view.scaleAndTranslate(1,0,0),this.resetScrollbars());this.fireEvent(new mxEventObject("scrollbarsChanged"))};
EditorUi.prototype.fitDiagramToWindow=function(){var $graph$$=this.editor.graph,$bounds$$=$graph$$.isSelectionEmpty()?mxRectangle.fromRectangle($graph$$.getGraphBounds()):$graph$$.getBoundingBox($graph$$.getSelectionCells()),$b$jscomp$3_t$$=$graph$$.view.translate,$s$$=$graph$$.view.scale;$bounds$$.x=$bounds$$.x/$s$$-$b$jscomp$3_t$$.x;$bounds$$.y=$bounds$$.y/$s$$-$b$jscomp$3_t$$.y;$bounds$$.width/=$s$$;$bounds$$.height/=$s$$;null!=$graph$$.backgroundImage&&$bounds$$.add(new mxRectangle(0,0,$graph$$.backgroundImage.width,
$graph$$.backgroundImage.height));0==$bounds$$.width||0==$bounds$$.height?($graph$$.zoomTo(1),this.resetScrollbars()):($b$jscomp$3_t$$=Editor.fitWindowBorders,null!=$b$jscomp$3_t$$&&($bounds$$.x-=$b$jscomp$3_t$$.x,$bounds$$.y-=$b$jscomp$3_t$$.y,$bounds$$.width+=$b$jscomp$3_t$$.width+$b$jscomp$3_t$$.x,$bounds$$.height+=$b$jscomp$3_t$$.height+$b$jscomp$3_t$$.y),$graph$$.fitWindow($bounds$$))};EditorUi.prototype.hasScrollbars=function(){return this.editor.graph.scrollbars};
EditorUi.prototype.resetScrollbars=function(){var $graph$$=this.editor.graph,$c$$=$graph$$.container;if(!this.editor.extendCanvas)$c$$.scrollTop=0,$c$$.scrollLeft=0,mxUtils.hasScrollbars($c$$)||$graph$$.view.setTranslate(0,0);else if(!this.editor.isChromelessView())if(mxUtils.hasScrollbars($c$$))if($graph$$.pageVisible){var $b$jscomp$4_bounds$jscomp$7_pad$$=$graph$$.getPagePadding();$c$$.scrollTop=Math.floor($b$jscomp$4_bounds$jscomp$7_pad$$.y-this.editor.initialTopSpacing)-1;$c$$.scrollLeft=Math.floor(Math.min($b$jscomp$4_bounds$jscomp$7_pad$$.x,
($c$$.scrollWidth-$c$$.clientWidth)/2))-1;$b$jscomp$4_bounds$jscomp$7_pad$$=$graph$$.getGraphBounds();0<$b$jscomp$4_bounds$jscomp$7_pad$$.width&&0<$b$jscomp$4_bounds$jscomp$7_pad$$.height&&($b$jscomp$4_bounds$jscomp$7_pad$$.x>$c$$.scrollLeft+.9*$c$$.clientWidth&&($c$$.scrollLeft=Math.min($b$jscomp$4_bounds$jscomp$7_pad$$.x+$b$jscomp$4_bounds$jscomp$7_pad$$.width-$c$$.clientWidth,$b$jscomp$4_bounds$jscomp$7_pad$$.x-10)),$b$jscomp$4_bounds$jscomp$7_pad$$.y>$c$$.scrollTop+.9*$c$$.clientHeight&&($c$$.scrollTop=
Math.min($b$jscomp$4_bounds$jscomp$7_pad$$.y+$b$jscomp$4_bounds$jscomp$7_pad$$.height-$c$$.clientHeight,$b$jscomp$4_bounds$jscomp$7_pad$$.y-10)))}else if($b$jscomp$4_bounds$jscomp$7_pad$$=$graph$$.getGraphBounds(),0==$b$jscomp$4_bounds$jscomp$7_pad$$.width&&0==$b$jscomp$4_bounds$jscomp$7_pad$$.height)$c$$.scrollLeft=($c$$.scrollWidth-$c$$.clientWidth)/2,$c$$.scrollTop=($c$$.scrollHeight-$c$$.clientHeight)/2;else{var $height$jscomp$27_tr$$=Math.max($b$jscomp$4_bounds$jscomp$7_pad$$.height,$graph$$.scrollTileSize.height*
$graph$$.view.scale);$c$$.scrollLeft=Math.floor(Math.max(0,$b$jscomp$4_bounds$jscomp$7_pad$$.x-Math.max(0,($c$$.clientWidth-Math.max($b$jscomp$4_bounds$jscomp$7_pad$$.width,$graph$$.scrollTileSize.width*$graph$$.view.scale))/2)));$c$$.scrollTop=Math.floor(Math.max(0,$b$jscomp$4_bounds$jscomp$7_pad$$.y-Math.max(20,($c$$.clientHeight-$height$jscomp$27_tr$$)/4)))}else{$b$jscomp$4_bounds$jscomp$7_pad$$=mxRectangle.fromRectangle($graph$$.pageVisible?$graph$$.view.getBackgroundPageBounds():$graph$$.getGraphBounds());
$height$jscomp$27_tr$$=$graph$$.view.translate;var $s$$=$graph$$.view.scale;$b$jscomp$4_bounds$jscomp$7_pad$$.x=$b$jscomp$4_bounds$jscomp$7_pad$$.x/$s$$-$height$jscomp$27_tr$$.x;$b$jscomp$4_bounds$jscomp$7_pad$$.y=$b$jscomp$4_bounds$jscomp$7_pad$$.y/$s$$-$height$jscomp$27_tr$$.y;$b$jscomp$4_bounds$jscomp$7_pad$$.width/=$s$$;$b$jscomp$4_bounds$jscomp$7_pad$$.height/=$s$$;$graph$$.view.setTranslate(Math.floor(Math.max(0,($c$$.clientWidth-$b$jscomp$4_bounds$jscomp$7_pad$$.width)/2)-$b$jscomp$4_bounds$jscomp$7_pad$$.x+
2),Math.floor(($graph$$.pageVisible?0:Math.max(0,($c$$.clientHeight-$b$jscomp$4_bounds$jscomp$7_pad$$.height)/4))-$b$jscomp$4_bounds$jscomp$7_pad$$.y+1))}};
EditorUi.prototype.setPageVisible=function($value$$){var $graph$$=this.editor.graph,$hasScrollbars$$=mxUtils.hasScrollbars($graph$$.container),$tx$$=0,$ty$$=0;$hasScrollbars$$&&($tx$$=$graph$$.view.translate.x*$graph$$.view.scale-$graph$$.container.scrollLeft,$ty$$=$graph$$.view.translate.y*$graph$$.view.scale-$graph$$.container.scrollTop);$graph$$.pageVisible=$value$$;$graph$$.pageBreaksVisible=$value$$;$graph$$.preferPageSize=$value$$;$graph$$.view.validateBackground();if($hasScrollbars$$){var $cells$$=
$graph$$.getSelectionCells();$graph$$.clearSelection();$graph$$.setSelectionCells($cells$$)}$graph$$.sizeDidChange();$hasScrollbars$$&&($graph$$.container.scrollLeft=$graph$$.view.translate.x*$graph$$.view.scale-$tx$$,$graph$$.container.scrollTop=$graph$$.view.translate.y*$graph$$.view.scale-$ty$$);$graph$$.defaultPageVisible=$value$$;this.fireEvent(new mxEventObject("pageViewChanged"))};
EditorUi.prototype.installResizeHandler=function($dialog$$,$resizable$$,$destroy$$){$resizable$$&&($dialog$$.window.setSize=function($w$$,$h$$){if(!this.minimized){var $ih$$=window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight;$w$$=Math.min($w$$,(window.innerWidth||document.body.clientWidth||document.documentElement.clientWidth)-this.getX());$h$$=Math.min($h$$,$ih$$-this.getY())}mxWindow.prototype.setSize.apply(this,arguments)});$dialog$$.window.setLocation=function($x$$,
$y$$){var $iw$$=window.innerWidth||document.body.clientWidth||document.documentElement.clientWidth,$ih$$=window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight,$w$$=parseInt(this.div.style.width),$h$$=parseInt(this.div.style.height);$x$$=Math.max(0,Math.min($x$$,$iw$$-$w$$));$y$$=Math.max(0,Math.min($y$$,$ih$$-$h$$));this.getX()==$x$$&&this.getY()==$y$$||mxWindow.prototype.setLocation.apply(this,arguments);$resizable$$&&!this.minimized&&this.setSize($w$$,$h$$)};var $resizeListener$$=
mxUtils.bind(this,function(){var $x$$=$dialog$$.window.getX(),$y$$=$dialog$$.window.getY();$dialog$$.window.setLocation($x$$,$y$$)});mxEvent.addListener(window,"resize",$resizeListener$$);$dialog$$.destroy=function(){mxEvent.removeListener(window,"resize",$resizeListener$$);$dialog$$.window.destroy();null!=$destroy$$&&$destroy$$()}};function ChangeGridColor($ui$$,$color$$){this.ui=$ui$$;this.color=$color$$}
ChangeGridColor.prototype.execute=function(){var $temp$$=this.ui.editor.graph.view.gridColor;this.ui.setGridColor(this.color);this.color=$temp$$};(function(){var $codec$$=new mxObjectCodec(new ChangeGridColor,["ui"]);mxCodecRegistry.register($codec$$)})();
function ChangePageSetup($ui$$,$color$$,$image$$,$format$$,$pageScale$$){this.ui=$ui$$;this.previousColor=this.color=$color$$;this.previousImage=this.image=$image$$;this.previousFormat=this.format=$format$$;this.previousPageScale=this.pageScale=$pageScale$$;this.ignoreImage=this.ignoreColor=!1}
ChangePageSetup.prototype.execute=function(){var $currentPageScale_graph$$=this.ui.editor.graph;if(!this.ignoreColor){this.color=this.previousColor;var $tmp$$=$currentPageScale_graph$$.background;this.ui.setBackgroundColor(this.previousColor);this.previousColor=$tmp$$}if(!this.ignoreImage){this.image=this.previousImage;$tmp$$=$currentPageScale_graph$$.backgroundImage;var $img$$=this.previousImage;null!=$img$$&&Graph.isPageLink($img$$.src)&&($img$$=this.ui.createImageForPageLink($img$$.src,this.ui.currentPage));
this.ui.setBackgroundImage($img$$);this.previousImage=$tmp$$}null!=this.previousFormat&&(this.format=this.previousFormat,$tmp$$=$currentPageScale_graph$$.pageFormat,this.previousFormat.width!=$tmp$$.width||this.previousFormat.height!=$tmp$$.height)&&(this.ui.setPageFormat(this.previousFormat),this.previousFormat=$tmp$$);null!=this.foldingEnabled&&this.foldingEnabled!=this.ui.editor.graph.foldingEnabled&&(this.ui.setFoldingEnabled(this.foldingEnabled),this.foldingEnabled=!this.foldingEnabled);null!=
this.previousPageScale&&($currentPageScale_graph$$=this.ui.editor.graph.pageScale,this.previousPageScale!=$currentPageScale_graph$$&&(this.ui.setPageScale(this.previousPageScale),this.previousPageScale=$currentPageScale_graph$$))};
(function(){var $codec$$=new mxObjectCodec(new ChangePageSetup,["ui","previousColor","previousImage","previousFormat","previousPageScale"]);$codec$$.afterDecode=function($dec$$,$node$$,$obj$$){$obj$$.previousColor=$obj$$.color;$obj$$.previousImage=$obj$$.image;$obj$$.previousFormat=$obj$$.format;$obj$$.previousPageScale=$obj$$.pageScale;null!=$obj$$.foldingEnabled&&($obj$$.foldingEnabled=!$obj$$.foldingEnabled);return $obj$$};mxCodecRegistry.register($codec$$)})();
EditorUi.prototype.setBackgroundColor=function($value$$){this.editor.graph.background=$value$$;this.editor.graph.view.validateBackground();this.fireEvent(new mxEventObject("backgroundColorChanged"))};EditorUi.prototype.setFoldingEnabled=function($value$$){this.editor.graph.foldingEnabled=$value$$;this.editor.graph.view.revalidate();this.fireEvent(new mxEventObject("foldingEnabledChanged"))};
EditorUi.prototype.setPageFormat=function($value$$,$ignorePageVisible$$){$ignorePageVisible$$=null!=$ignorePageVisible$$?$ignorePageVisible$$:"1"==urlParams.sketch;this.editor.graph.pageFormat=$value$$;$ignorePageVisible$$||(this.editor.graph.pageVisible?(this.editor.graph.view.validateBackground(),this.editor.graph.sizeDidChange()):this.actions.get("pageView").funct());this.fireEvent(new mxEventObject("pageFormatChanged"))};
EditorUi.prototype.setPageScale=function($value$$){this.editor.graph.pageScale=$value$$;this.editor.graph.pageVisible?(this.editor.graph.view.validateBackground(),this.editor.graph.sizeDidChange()):this.actions.get("pageView").funct();this.fireEvent(new mxEventObject("pageScaleChanged"))};EditorUi.prototype.setGridColor=function($value$$){this.editor.graph.view.gridColor=$value$$;this.editor.graph.view.validateBackground();this.fireEvent(new mxEventObject("gridColorChanged"))};
EditorUi.prototype.addUndoListener=function(){var $undoMgr$$=this.editor.undoManager,$undoListener$$=mxUtils.bind(this,function(){this.updateActionStates()});$undoMgr$$.addListener(mxEvent.ADD,$undoListener$$);$undoMgr$$.addListener(mxEvent.UNDO,$undoListener$$);$undoMgr$$.addListener(mxEvent.REDO,$undoListener$$);$undoMgr$$.addListener(mxEvent.CLEAR,$undoListener$$);var $cellEditorStartEditing$$=this.editor.graph.cellEditor.startEditing;this.editor.graph.cellEditor.startEditing=function(){$cellEditorStartEditing$$.apply(this,
arguments);$undoListener$$()};var $cellEditorStopEditing$$=this.editor.graph.cellEditor.stopEditing;this.editor.graph.cellEditor.stopEditing=function($cell$$,$trigger$$){$cellEditorStopEditing$$.apply(this,arguments);$undoListener$$()};$undoListener$$()};
EditorUi.prototype.updateActionStates=function(){for(var $graph$$=this.editor.graph,$ss$$=this.getSelectionState(),$unlocked$$=$graph$$.isEnabled()&&!$graph$$.isCellLocked($graph$$.getDefaultParent()),$editable$$=!this.editor.chromeless||this.editor.editable,$actions$$="cut copy bold italic underline delete duplicate editStyle editTooltip editLink backgroundColor borderColor edit toFront toBack solid dashed pasteSize dotted fillColor gradientColor shadow fontColor formattedText rounded toggleRounded strokeColor sharp snapToGrid".split(" "),
$i$$=0;$i$$<$actions$$.length;$i$$++)this.actions.get($actions$$[$i$$]).setEnabled(0<$ss$$.cells.length);this.actions.get("grid").setEnabled($editable$$);this.actions.get("undo").setEnabled(this.canUndo()&&$editable$$);this.actions.get("redo").setEnabled(this.canRedo()&&$editable$$);this.actions.get("swap").setEnabled(2==$ss$$.cells.length&&2==$ss$$.vertices.length);this.actions.get("pasteSize").setEnabled(null!=this.copiedSize&&0<$ss$$.vertices.length);this.actions.get("pasteData").setEnabled(null!=
this.copiedValue&&0<$ss$$.cells.length);this.actions.get("setAsDefaultStyle").setEnabled(1==$graph$$.getSelectionCount());this.actions.get("lockUnlock").setEnabled(!$graph$$.isSelectionEmpty());this.actions.get("bringForward").setEnabled(1==$ss$$.cells.length);this.actions.get("sendBackward").setEnabled(1==$ss$$.cells.length);this.actions.get("rotation").setEnabled(1==$ss$$.vertices.length);this.actions.get("wordWrap").setEnabled(1==$ss$$.vertices.length);this.actions.get("autosize").setEnabled(0<
$ss$$.vertices.length);this.actions.get("copySize").setEnabled(1==$ss$$.vertices.length);this.actions.get("clearWaypoints").setEnabled($ss$$.connections);this.actions.get("clearAnchors").setEnabled($ss$$.connections);this.actions.get("curved").setEnabled(0<$ss$$.edges.length);this.actions.get("turn").setEnabled(0<$ss$$.cells.length);this.actions.get("group").setEnabled(1<$ss$$.cells.length||1==$ss$$.vertices.length&&0==$graph$$.model.getChildCount($ss$$.cells[0])&&!$graph$$.isContainer($ss$$.vertices[0]));
this.actions.get("ungroup").setEnabled(!$ss$$.row&&!$ss$$.cell&&!$ss$$.table&&0<$ss$$.vertices.length&&($graph$$.isContainer($ss$$.vertices[0])||0<$graph$$.getModel().getChildCount($ss$$.vertices[0])));this.actions.get("removeFromGroup").setEnabled(1==$ss$$.cells.length&&$graph$$.getModel().isVertex($graph$$.getModel().getParent($ss$$.cells[0])));this.actions.get("collapsible").setEnabled(1==$ss$$.vertices.length&&(0<$graph$$.model.getChildCount($ss$$.vertices[0])||$graph$$.isContainer($ss$$.vertices[0])));
this.actions.get("exitGroup").setEnabled(null!=$graph$$.view.currentRoot);this.actions.get("home").setEnabled(null!=$graph$$.view.currentRoot);this.actions.get("enterGroup").setEnabled(1==$ss$$.cells.length&&$graph$$.isValidRoot($ss$$.cells[0]));this.actions.get("copyData").setEnabled(1==$ss$$.cells.length);this.actions.get("copyAsText").setEnabled(1==$ss$$.cells.length);this.actions.get("editLink").setEnabled(1==$ss$$.cells.length);this.actions.get("editStyle").setEnabled(1==$ss$$.cells.length);
this.actions.get("editTooltip").setEnabled(1==$ss$$.cells.length);this.actions.get("openLink").setEnabled(1==$ss$$.cells.length&&null!=$graph$$.getLinkForCell($ss$$.cells[0]));this.actions.get("guides").setEnabled($graph$$.isEnabled());this.actions.get("selectVertices").setEnabled($unlocked$$);this.actions.get("selectEdges").setEnabled($unlocked$$);this.actions.get("selectAll").setEnabled($unlocked$$);this.actions.get("selectNone").setEnabled($unlocked$$);$editable$$=1==$ss$$.vertices.length&&$graph$$.isCellFoldable($ss$$.vertices[0]);
this.actions.get("expand").setEnabled($editable$$);this.actions.get("collapse").setEnabled($editable$$);this.menus.get("navigation").setEnabled(0<$ss$$.cells.length||null!=$graph$$.view.currentRoot);this.menus.get("layout").setEnabled($unlocked$$);this.menus.get("insert").setEnabled($unlocked$$);this.menus.get("direction").setEnabled($ss$$.unlocked&&1==$ss$$.vertices.length);this.menus.get("distribute").setEnabled($ss$$.unlocked&&1<$ss$$.vertices.length);this.menus.get("align").setEnabled($ss$$.unlocked&&
0<$ss$$.cells.length);this.updatePasteActionStates()};EditorUi.prototype.zeroOffset=new mxPoint(0,0);EditorUi.prototype.getDiagramContainerOffset=function(){return this.zeroOffset};
EditorUi.prototype.refresh=function($sizeDidChange$$){$sizeDidChange$$=null!=$sizeDidChange$$?$sizeDidChange$$:!0;var $tmp$jscomp$3_w$$=this.container.clientWidth;this.container==document.body&&($tmp$jscomp$3_w$$=document.body.clientWidth||document.documentElement.clientWidth);var $off$$=0;mxClient.IS_IOS&&!window.navigator.standalone&&"undefined"!==typeof Menus&&window.innerHeight!=document.documentElement.clientHeight&&($off$$=document.documentElement.clientHeight-window.innerHeight,window.scrollTo(0,
0));var $effHsplitPosition_th$$=Math.max(0,Math.min(this.hsplitPosition,$tmp$jscomp$3_w$$-this.splitSize-40));$tmp$jscomp$3_w$$=0;null!=this.menubar&&(this.menubarContainer.style.height=this.menubarHeight+"px",$tmp$jscomp$3_w$$+=this.menubarHeight);null!=this.toolbar&&(this.toolbarContainer.style.top=this.menubarHeight+"px",this.toolbarContainer.style.height=this.toolbarHeight+"px",$tmp$jscomp$3_w$$+=this.toolbarHeight);0<$tmp$jscomp$3_w$$&&($tmp$jscomp$3_w$$+=1);var $fw$$=null!=this.format?this.formatWidth:
0;this.sidebarContainer.style.top=$tmp$jscomp$3_w$$+"px";this.sidebarContainer.style.width=$effHsplitPosition_th$$+"px";this.formatContainer.style.top=$tmp$jscomp$3_w$$+"px";this.formatContainer.style.width=$fw$$+"px";this.formatContainer.style.display=null!=this.format?"":"none";var $diagContOffset$$=this.getDiagramContainerOffset(),$contLeft$$=null!=this.hsplit.parentNode?$effHsplitPosition_th$$:0;this.footerContainer.style.height=this.footerHeight+"px";this.hsplit.style.top=this.sidebarContainer.style.top;
this.hsplit.style.left=$effHsplitPosition_th$$+"px";this.footerContainer.style.display=0==this.footerHeight?"none":"";null!=this.tabContainer?(this.tabContainer.style.left=$contLeft$$+"px",this.hsplit.style.bottom=this.tabContainer.offsetHeight+"px"):this.hsplit.style.bottom=this.footerHeight+$off$$+"px";0<this.footerHeight&&(this.footerContainer.style.bottom=$off$$+"px");$effHsplitPosition_th$$=0;null!=this.tabContainer&&(this.tabContainer.style.bottom=this.footerHeight+$off$$+"px",this.tabContainer.style.right=
$fw$$+"px",$effHsplitPosition_th$$=this.tabContainer.clientHeight,this.checkTabScrollerOverflow());this.sidebarContainer.style.bottom=this.footerHeight+$off$$+"px";this.formatContainer.style.bottom=this.footerHeight+$off$$+"px";this.diagramContainer.style.left=$contLeft$$+$diagContOffset$$.x+"px";this.diagramContainer.style.top=$tmp$jscomp$3_w$$+$diagContOffset$$.y+"px";this.diagramContainer.style.right=$fw$$+"px";this.diagramContainer.style.bottom=this.footerHeight+$off$$+$effHsplitPosition_th$$+
"px";$sizeDidChange$$&&this.editor.graph.sizeDidChange()};EditorUi.prototype.createTabContainer=function(){return null};
EditorUi.prototype.createDivs=function(){this.menubarContainer=this.createDiv("geMenubarContainer");this.toolbarContainer=this.createDiv("geToolbarContainer");this.sidebarContainer=this.createDiv("geSidebarContainer");this.formatContainer=this.createDiv("geSidebarContainer geFormatContainer");this.diagramContainer=this.createDiv("geDiagramContainer");this.footerContainer=this.createDiv("geFooterContainer");this.hsplit=this.createDiv("geHsplit");this.menubarContainer.style.top="0px";this.menubarContainer.style.left=
"0px";this.menubarContainer.style.right="0px";this.toolbarContainer.style.left="0px";this.toolbarContainer.style.right="0px";this.sidebarContainer.style.left="0px";this.sidebarContainer.style.zIndex="1";this.formatContainer.style.right="0px";this.formatContainer.style.zIndex="1";this.diagramContainer.style.right=(null!=this.format?this.formatWidth:0)+"px";this.footerContainer.style.left="0px";this.footerContainer.style.right="0px";this.footerContainer.style.bottom="0px";this.footerContainer.style.zIndex=
mxPopupMenu.prototype.zIndex-3;this.hsplit.style.width=this.splitSize+"px";this.hsplit.style.zIndex="1";this.editor.chromeless?this.diagramContainer.style.border="none":this.tabContainer=this.createTabContainer()};EditorUi.prototype.createSidebarContainer=function(){var $div$$=document.createElement("div");$div$$.className="geSidebarContainer";return $div$$};
EditorUi.prototype.createUi=function(){this.menubar=this.editor.chromeless?null:this.menus.createMenubar(this.createDiv("geMenubar"));null!=this.menubar&&this.menubarContainer.appendChild(this.menubar.container);null!=this.menubar&&(this.statusContainer=this.createStatusContainer(),this.editor.addListener("statusChanged",mxUtils.bind(this,function(){this.setStatusText(this.editor.getStatus())})),this.setStatusText(this.editor.getStatus()),this.menubar.container.appendChild(this.statusContainer),this.container.appendChild(this.menubarContainer));
this.sidebar=this.editor.chromeless?null:this.createSidebar(this.sidebarContainer);null!=this.sidebar&&this.container.appendChild(this.sidebarContainer);this.format=this.editor.chromeless||!this.formatEnabled?null:this.createFormat(this.formatContainer);null!=this.format&&this.container.appendChild(this.formatContainer);var $footer$$=this.editor.chromeless?null:this.createFooter();null!=$footer$$&&(this.footerContainer.appendChild($footer$$),this.container.appendChild(this.footerContainer));this.container.appendChild(this.diagramContainer);
null!=this.container&&null!=this.tabContainer&&this.container.appendChild(this.tabContainer);this.toolbar=this.editor.chromeless?null:this.createToolbar(this.createDiv("geToolbar"));null!=this.toolbar&&(this.toolbarContainer.appendChild(this.toolbar.container),this.container.appendChild(this.toolbarContainer));null!=this.sidebar&&(this.container.appendChild(this.hsplit),this.addSplitHandler(this.hsplit,!0,0,mxUtils.bind(this,function($value$$){this.hsplitPosition=$value$$;this.refresh()})))};
EditorUi.prototype.createStatusContainer=function(){var $container$$=document.createElement("a");$container$$.className="geItem geStatus";mxEvent.addListener($container$$,"click",mxUtils.bind(this,function($evt$$){var $action_elt$$=mxEvent.getSource($evt$$);if($action_elt$$!=$container$$)for(;$action_elt$$.parentNode!=$container$$;)$action_elt$$=$action_elt$$.parentNode;if("A"!=$action_elt$$.nodeName){var $name$jscomp$75_title$$=$action_elt$$.getAttribute("data-action");if("statusFunction"==$name$jscomp$75_title$$&&
null!=this.editor.statusFunction)this.editor.statusFunction();else if(null!=$name$jscomp$75_title$$)$action_elt$$=this.actions.get($name$jscomp$75_title$$),null!=$action_elt$$&&$action_elt$$.funct();else{$name$jscomp$75_title$$=$action_elt$$.getAttribute("data-title");var $msg$$=$action_elt$$.getAttribute("data-message");null!=$name$jscomp$75_title$$&&null!=$msg$$?this.showError($name$jscomp$75_title$$,$msg$$):($action_elt$$=$action_elt$$.getAttribute("data-link"),null!=$action_elt$$&&this.editor.graph.openLink($action_elt$$))}mxEvent.consume($evt$$)}}));
return $container$$};
EditorUi.prototype.setStatusText=function($div$jscomp$9_spans_value$$){this.statusContainer.innerHTML=Graph.sanitizeHtml($div$jscomp$9_spans_value$$);0==this.statusContainer.getElementsByTagName("div").length&&null!=$div$jscomp$9_spans_value$$&&0<$div$jscomp$9_spans_value$$.length&&(this.statusContainer.innerText="",$div$jscomp$9_spans_value$$=this.createStatusDiv($div$jscomp$9_spans_value$$),this.statusContainer.appendChild($div$jscomp$9_spans_value$$));$div$jscomp$9_spans_value$$=this.statusContainer.querySelectorAll('[data-effect="fade"]');
if(null!=$div$jscomp$9_spans_value$$)for(var $i$$=0;$i$$<$div$jscomp$9_spans_value$$.length;$i$$++)(function($temp$$){mxUtils.setOpacity($temp$$,0);mxUtils.setPrefixedStyle($temp$$.style,"transform","scaleX(0)");mxUtils.setPrefixedStyle($temp$$.style,"transition","all 0.2s ease");window.setTimeout(mxUtils.bind(this,function(){mxUtils.setOpacity($temp$$,100);mxUtils.setPrefixedStyle($temp$$.style,"transform","scaleX(1)");mxUtils.setPrefixedStyle($temp$$.style,"transition","all 1s ease");window.setTimeout(mxUtils.bind(this,
function(){mxUtils.setPrefixedStyle($temp$$.style,"transform","scaleX(0)");mxUtils.setOpacity($temp$$,0);window.setTimeout(mxUtils.bind(this,function(){null!=$temp$$.parentNode&&$temp$$.parentNode.removeChild($temp$$)}),1E3)}),Editor.updateStatusInterval/2)}),0)})($div$jscomp$9_spans_value$$[$i$$])};
EditorUi.prototype.createStatusDiv=function($value$$){var $div$$=document.createElement("div");$div$$.style.textOverflow="ellipsis";$div$$.style.display="inline-block";$div$$.style.whiteSpace="nowrap";$div$$.style.overflow="hidden";$div$$.style.minWidth="0";$div$$.setAttribute("title",$value$$);$div$$.innerHTML=Graph.sanitizeHtml($value$$);return $div$$};EditorUi.prototype.createToolbar=function($container$$){return new Toolbar(this,$container$$)};
EditorUi.prototype.createSidebar=function($container$$){return new Sidebar(this,$container$$)};EditorUi.prototype.createFormat=function($container$$){return new Format(this,$container$$)};EditorUi.prototype.createFooter=function(){return this.createDiv("geFooter")};EditorUi.prototype.createDiv=function($classname$$){var $elt$$=document.createElement("div");$elt$$.className=$classname$$;return $elt$$};
EditorUi.prototype.addSplitHandler=function($elt$$,$horizontal$$,$dx$$,$onChange$$){function $moveHandler$$($evt$$){if(null!=$start$$){var $pt$$=new mxPoint(mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$));$onChange$$(Math.max(0,$initial$$+($horizontal$$?$pt$$.x-$start$$.x:$start$$.y-$pt$$.y)-$dx$$));mxEvent.consume($evt$$);$initial$$!=$getValue$$()&&($ignoreClick$$=!0,$last$$=null)}}function $dropHandler$$($evt$$){$moveHandler$$($evt$$);$start$$=$initial$$=null}var $start$$=null,$initial$$=
null,$ignoreClick$$=!0,$last$$=null;mxClient.IS_POINTER&&($elt$$.style.touchAction="none");var $getValue$$=mxUtils.bind(this,function(){var $result$$=parseInt($horizontal$$?$elt$$.style.left:$elt$$.style.bottom);$horizontal$$||($result$$=$result$$+$dx$$-this.footerHeight);return $result$$});mxEvent.addGestureListeners($elt$$,function($evt$$){$start$$=new mxPoint(mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$));$initial$$=$getValue$$();$ignoreClick$$=!1;mxEvent.consume($evt$$)});mxEvent.addListener($elt$$,
"click",mxUtils.bind(this,function($evt$$){if(!$ignoreClick$$&&this.hsplitClickEnabled){var $next$$=null!=$last$$?$last$$-$dx$$:0;$last$$=$getValue$$();$onChange$$($next$$);mxEvent.consume($evt$$)}}));mxEvent.addGestureListeners(document,null,$moveHandler$$,$dropHandler$$);this.destroyFunctions.push(function(){mxEvent.removeGestureListeners(document,null,$moveHandler$$,$dropHandler$$)})};
EditorUi.prototype.prompt=function($dlg$jscomp$1_title$$,$defaultValue$$,$fn$$){$dlg$jscomp$1_title$$=new FilenameDialog(this,$defaultValue$$,mxResources.get("apply"),function($newValue$$){$fn$$(parseFloat($newValue$$))},$dlg$jscomp$1_title$$);this.showDialog($dlg$jscomp$1_title$$.container,300,80,!0,!0);$dlg$jscomp$1_title$$.init()};
EditorUi.prototype.handleError=function($e$$,$title$$,$fn$$,$invokeFnOnClose$$,$msg$$){$e$$=null!=$e$$&&null!=$e$$.error?$e$$.error:$e$$;if(null!=$e$$||null!=$title$$){$msg$$=mxUtils.htmlEntities(mxResources.get("unknownError"));var $btn$$=mxResources.get("ok");$title$$=null!=$title$$?$title$$:mxResources.get("error");null!=$e$$&&null!=$e$$.message&&($msg$$=mxUtils.htmlEntities($e$$.message));this.showError($title$$,$msg$$,$btn$$,$fn$$,null,null,null,null,null,null,null,null,$invokeFnOnClose$$?$fn$$:
null)}else null!=$fn$$&&$fn$$()};
EditorUi.prototype.showError=function($dlg$jscomp$2_title$$,$lines_msg$$,$btn$$,$fn$$,$retry$$,$btn2$$,$fn2$$,$btn3$$,$fn3$$,$w$$,$h$$,$hide$$,$onClose$$){$dlg$jscomp$2_title$$=new ErrorDialog(this,$dlg$jscomp$2_title$$,$lines_msg$$,$btn$$||mxResources.get("ok"),$fn$$,$retry$$,$btn2$$,$fn2$$,$hide$$,$btn3$$,$fn3$$);$lines_msg$$=Math.ceil(null!=$lines_msg$$?$lines_msg$$.length/50:1);this.showDialog($dlg$jscomp$2_title$$.container,$w$$||340,$h$$||100+20*$lines_msg$$,!0,!1,$onClose$$);$dlg$jscomp$2_title$$.init()};
EditorUi.prototype.showDialog=function($elt$$,$w$$,$h$$,$modal$$,$closable$$,$onClose$$,$noScroll$$,$transparent$$,$onResize$$,$ignoreBgClick$$){this.editor.graph.tooltipHandler.resetTimer();this.editor.graph.tooltipHandler.hideTooltip();null==this.dialogs&&(this.dialogs=[]);this.dialog=new Dialog(this,$elt$$,$w$$,$h$$,$modal$$,$closable$$,$onClose$$,$noScroll$$,$transparent$$,$onResize$$,$ignoreBgClick$$);this.dialogs.push(this.dialog)};
EditorUi.prototype.hideDialog=function($cancel$jscomp$4_index$$,$isEsc$$,$matchContainer$$){var $dlg$$=null;if(null!=this.dialogs&&0<this.dialogs.length)for(var $i$$=this.dialogs.length-1;0<=$i$$;$i$$--)if(!this.dialogs[$i$$].closing){$dlg$$=this.dialogs[$i$$];break}null==$dlg$$||null!=$matchContainer$$&&$matchContainer$$!=this.dialog.container.firstChild||($dlg$$.closing=!0,0==$dlg$$.close($cancel$jscomp$4_index$$,$isEsc$$)?delete $dlg$$.closing:(delete $dlg$$.closing,$cancel$jscomp$4_index$$=mxUtils.lastIndexOf(this.dialogs,
$dlg$$),0<=$cancel$jscomp$4_index$$&&this.dialogs.splice($cancel$jscomp$4_index$$,1),this.dialog=0<this.dialogs.length?this.dialogs[this.dialogs.length-1]:null,this.editor.fireEvent(new mxEventObject("hideDialog")),null==this.dialog&&null!=this.editor.graph.container&&"hidden"!=this.editor.graph.container.style.visibility&&window.setTimeout(mxUtils.bind(this,function(){null==this.editor||null!=this.dialogs&&0!=this.dialogs.length||(this.editor.graph.isEditing()&&null!=this.editor.graph.cellEditor.textarea?
this.editor.graph.cellEditor.textarea.focus():(mxUtils.clearSelection(),this.editor.graph.container.focus()))}),0)))};
EditorUi.prototype.ctrlEnter=function(){var $graph$$=this.editor.graph;if($graph$$.isEnabled())try{for(var $cells$$=$graph$$.getSelectionCells(),$lookup$$=new mxDictionary,$newCells$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=$graph$$.isTableCell($cells$$[$i$$])?$graph$$.model.getParent($cells$$[$i$$]):$cells$$[$i$$];null==$cell$$||$lookup$$.get($cell$$)||($lookup$$.put($cell$$,!0),$newCells$$.push($cell$$))}$graph$$.setSelectionCells($graph$$.duplicateCells($newCells$$,!1))}catch($e$$){this.handleError($e$$)}};
EditorUi.prototype.pickColor=function($color$jscomp$7_dlg$$,$apply$$,$defaultColor$$,$defaultColorValue$$){var $graph$$=this.editor.graph,$selState$$=$graph$$.cellEditor.saveSelection(),$h$$=230+17*(Math.ceil(ColorDialog.prototype.presetColors.length/12)+Math.ceil(ColorDialog.prototype.defaultColors.length/12));$color$jscomp$7_dlg$$=new ColorDialog(this,"default"!=$color$jscomp$7_dlg$$?mxUtils.rgba2hex($color$jscomp$7_dlg$$)||"none":$color$jscomp$7_dlg$$,function($color$$){$graph$$.cellEditor.restoreSelection($selState$$);
$apply$$($color$$)},function(){$graph$$.cellEditor.restoreSelection($selState$$)},$defaultColor$$,$defaultColorValue$$);this.showDialog($color$jscomp$7_dlg$$.container,230,$h$$,!0,!1);$color$jscomp$7_dlg$$.init()};EditorUi.prototype.openFile=function(){window.openFile=new OpenFile(mxUtils.bind(this,function($cancel$$){this.hideDialog($cancel$$)}));this.showDialog((new OpenDialog(this)).container,Editor.useLocalStorage?640:320,Editor.useLocalStorage?480:220,!0,!0,function(){window.openFile=null})};
EditorUi.prototype.base64ToBlob=function($base64Data_byteCharacters$$,$contentType$$){$contentType$$=$contentType$$||"";$base64Data_byteCharacters$$=atob($base64Data_byteCharacters$$);for(var $bytesLength$$=$base64Data_byteCharacters$$.length,$slicesCount$$=Math.ceil($bytesLength$$/1024),$byteArrays$$=Array($slicesCount$$),$sliceIndex$$=0;$sliceIndex$$<$slicesCount$$;++$sliceIndex$$){for(var $begin$jscomp$6_offset$$=1024*$sliceIndex$$,$end$$=Math.min($begin$jscomp$6_offset$$+1024,$bytesLength$$),
$bytes$$=Array($end$$-$begin$jscomp$6_offset$$),$i$$=0;$begin$jscomp$6_offset$$<$end$$;++$i$$,++$begin$jscomp$6_offset$$)$bytes$$[$i$$]=$base64Data_byteCharacters$$[$begin$jscomp$6_offset$$].charCodeAt(0);$byteArrays$$[$sliceIndex$$]=new Uint8Array($bytes$$)}return new Blob($byteArrays$$,{type:$contentType$$})};
EditorUi.prototype.writeImageToClipboard=function($cbi_dataUrl$$,$w$$,$h$$,$error$$){var $blob$$=this.base64ToBlob($cbi_dataUrl$$.substring($cbi_dataUrl$$.indexOf(",")+1),"image/png");$cbi_dataUrl$$=new ClipboardItem({"image/png":$blob$$,"text/html":new Blob(['<img src="'+$cbi_dataUrl$$+'" width="'+$w$$+'" height="'+$h$$+'">'],{type:"text/html"})});navigator.clipboard.write([$cbi_dataUrl$$])["catch"]($error$$)};
EditorUi.prototype.writeHtmlToClipboard=function($cbi$jscomp$1_html$$,$error$$){$cbi$jscomp$1_html$$=new ClipboardItem({"text/plain":new Blob([Editor.convertHtmlToText($cbi$jscomp$1_html$$)],{type:"text/plain"}),"text/html":new Blob([$cbi$jscomp$1_html$$],{type:"text/html"})});navigator.clipboard.write([$cbi$jscomp$1_html$$])["catch"]($error$$)};EditorUi.prototype.writeTextToClipboard=function($text$$,$error$$){navigator.clipboard.writeText($text$$)["catch"]($error$$)};
EditorUi.prototype.extractGraphModelFromHtml=function($data$$){var $result$$=null;try{var $idx$$=$data$$.indexOf("&lt;mxGraphModel ");if(0<=$idx$$){var $idx2$$=$data$$.lastIndexOf("&lt;/mxGraphModel&gt;");$idx2$$>$idx$$&&($result$$=$data$$.substring($idx$$,$idx2$$+21).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\\&quot;/g,'"').replace(/\n/g,""))}}catch($e$$){}return $result$$};
EditorUi.prototype.readGraphModelFromClipboard=function($fn$$){this.readGraphModelFromClipboardWithType(mxUtils.bind(this,function($xml$jscomp$0$$){null!=$xml$jscomp$0$$?$fn$$($xml$jscomp$0$$):this.readGraphModelFromClipboardWithType(mxUtils.bind(this,function($xml$$){if(null!=$xml$$){var $tmp$$=decodeURIComponent($xml$$);this.isCompatibleString($tmp$$)&&($xml$$=$tmp$$)}$fn$$($xml$$)}),"text")}),"html")};
EditorUi.prototype.readGraphModelFromClipboardWithType=function($fn$$,$type$$){navigator.clipboard.read().then(mxUtils.bind(this,function($data$jscomp$0$$){if(null!=$data$jscomp$0$$&&0<$data$jscomp$0$$.length&&"html"==$type$$&&0<=mxUtils.indexOf($data$jscomp$0$$[0].types,"text/html"))$data$jscomp$0$$[0].getType("text/html").then(mxUtils.bind(this,function($blob$$){$blob$$.text().then(mxUtils.bind(this,function($value$$){try{var $elt$$=this.parseHtmlData($value$$),$xml$$="text/plain"!=$elt$$.getAttribute("data-type")?
$elt$$.innerHTML:mxUtils.trim(null==$elt$$.innerText?mxUtils.getTextContent($elt$$):$elt$$.innerText);try{var $idx$$=$xml$$.lastIndexOf("%3E");0<=$idx$$&&$idx$$<$xml$$.length-3&&($xml$$=$xml$$.substring(0,$idx$$+3))}catch($e$$){}try{var $spans$$=$elt$$.getElementsByTagName("span"),$tmp$$=null!=$spans$$&&0<$spans$$.length?mxUtils.trim(decodeURIComponent($spans$$[0].textContent)):decodeURIComponent($xml$$);this.isCompatibleString($tmp$$)&&($xml$$=$tmp$$)}catch($e$3$$){}}catch($e$4$$){}$fn$$(this.isCompatibleString($xml$$)?
$xml$$:null)}))["catch"](function($data$$){$fn$$(null)})}))["catch"](function($data$$){$fn$$(null)});else if(null!=$data$jscomp$0$$&&0<$data$jscomp$0$$.length&&"text"==$type$$&&0<=mxUtils.indexOf($data$jscomp$0$$[0].types,"text/plain"))$data$jscomp$0$$[0].getType("text/plain").then(function($blob$$){$blob$$.text().then(function($value$$){$fn$$($value$$)})["catch"](function(){$fn$$(null)})})["catch"](function(){$fn$$(null)});else $fn$$(null)}))["catch"](function($data$$){$fn$$(null)})};
EditorUi.prototype.parseHtmlData=function($data$jscomp$88_styles_temp$$){var $elt$$=null;if(null!=$data$jscomp$88_styles_temp$$&&0<$data$jscomp$88_styles_temp$$.length){var $hasMeta_images_img$jscomp$8_xml$$="<meta "==$data$jscomp$88_styles_temp$$.substring(0,6);$elt$$=document.createElement("div");$elt$$.innerHTML=($hasMeta_images_img$jscomp$8_xml$$?'<meta charset="utf-8">':"")+Graph.sanitizeHtml($data$jscomp$88_styles_temp$$);asHtml=!0;$data$jscomp$88_styles_temp$$=$elt$$.getElementsByTagName("style");
if(null!=$data$jscomp$88_styles_temp$$)for(;0<$data$jscomp$88_styles_temp$$.length;)$data$jscomp$88_styles_temp$$[0].parentNode.removeChild($data$jscomp$88_styles_temp$$[0]);null!=$elt$$.firstChild&&$elt$$.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT&&null!=$elt$$.firstChild.nextSibling&&$elt$$.firstChild.nextSibling.nodeType==mxConstants.NODETYPE_ELEMENT&&"META"==$elt$$.firstChild.nodeName&&"A"==$elt$$.firstChild.nextSibling.nodeName&&null==$elt$$.firstChild.nextSibling.nextSibling&&($data$jscomp$88_styles_temp$$=
null==$elt$$.firstChild.nextSibling.innerText?mxUtils.getTextContent($elt$$.firstChild.nextSibling):$elt$$.firstChild.nextSibling.innerText,$data$jscomp$88_styles_temp$$==$elt$$.firstChild.nextSibling.getAttribute("href")&&(mxUtils.setTextContent($elt$$,$data$jscomp$88_styles_temp$$),asHtml=!1));$hasMeta_images_img$jscomp$8_xml$$=$hasMeta_images_img$jscomp$8_xml$$&&null!=$elt$$.firstChild?$elt$$.firstChild.nextSibling:$elt$$.firstChild;null!=$hasMeta_images_img$jscomp$8_xml$$&&null==$hasMeta_images_img$jscomp$8_xml$$.nextSibling&&
$hasMeta_images_img$jscomp$8_xml$$.nodeType==mxConstants.NODETYPE_ELEMENT&&"IMG"==$hasMeta_images_img$jscomp$8_xml$$.nodeName?($data$jscomp$88_styles_temp$$=$hasMeta_images_img$jscomp$8_xml$$.getAttribute("src"),null!=$data$jscomp$88_styles_temp$$&&(Editor.isPngDataUrl($data$jscomp$88_styles_temp$$)&&($hasMeta_images_img$jscomp$8_xml$$=Editor.extractGraphModelFromPng($data$jscomp$88_styles_temp$$),null!=$hasMeta_images_img$jscomp$8_xml$$&&0<$hasMeta_images_img$jscomp$8_xml$$.length&&($data$jscomp$88_styles_temp$$=
$hasMeta_images_img$jscomp$8_xml$$)),mxUtils.setTextContent($elt$$,$data$jscomp$88_styles_temp$$),asHtml=!1)):($hasMeta_images_img$jscomp$8_xml$$=$elt$$.getElementsByTagName("img"),1==$hasMeta_images_img$jscomp$8_xml$$.length&&($hasMeta_images_img$jscomp$8_xml$$=$hasMeta_images_img$jscomp$8_xml$$[0],$data$jscomp$88_styles_temp$$=$hasMeta_images_img$jscomp$8_xml$$.getAttribute("src"),null!=$data$jscomp$88_styles_temp$$&&$hasMeta_images_img$jscomp$8_xml$$.parentNode==$elt$$&&1==$elt$$.children.length&&
(Editor.isPngDataUrl($data$jscomp$88_styles_temp$$)&&($hasMeta_images_img$jscomp$8_xml$$=Editor.extractGraphModelFromPng($data$jscomp$88_styles_temp$$),null!=$hasMeta_images_img$jscomp$8_xml$$&&0<$hasMeta_images_img$jscomp$8_xml$$.length&&($data$jscomp$88_styles_temp$$=$hasMeta_images_img$jscomp$8_xml$$)),mxUtils.setTextContent($elt$$,$data$jscomp$88_styles_temp$$),asHtml=!1)));asHtml&&Graph.removePasteFormatting($elt$$)}asHtml||$elt$$.setAttribute("data-type","text/plain");return $elt$$};
EditorUi.prototype.extractGraphModelFromEvent=function($evt$jscomp$119_provider_xml$$){var $result$$=null,$data$$=null;null!=$evt$jscomp$119_provider_xml$$&&($evt$jscomp$119_provider_xml$$=null!=$evt$jscomp$119_provider_xml$$.dataTransfer?$evt$jscomp$119_provider_xml$$.dataTransfer:$evt$jscomp$119_provider_xml$$.clipboardData,null!=$evt$jscomp$119_provider_xml$$&&(10==document.documentMode||11==document.documentMode?$data$$=$evt$jscomp$119_provider_xml$$.getData("Text"):($data$$=0<=mxUtils.indexOf($evt$jscomp$119_provider_xml$$.types,
"text/html")?$evt$jscomp$119_provider_xml$$.getData("text/html"):null,0<=mxUtils.indexOf($evt$jscomp$119_provider_xml$$.types,"text/plain")&&(null==$data$$||0==$data$$.length)&&($data$$=$evt$jscomp$119_provider_xml$$.getData("text/plain"))),null!=$data$$&&($data$$=Graph.zapGremlins(mxUtils.trim($data$$)),$evt$jscomp$119_provider_xml$$=this.extractGraphModelFromHtml($data$$),null!=$evt$jscomp$119_provider_xml$$&&($data$$=$evt$jscomp$119_provider_xml$$))));null!=$data$$&&this.isCompatibleString($data$$)&&
($result$$=$data$$);return $result$$};EditorUi.prototype.isCompatibleString=function($data$$){return!1};
EditorUi.prototype.saveFile=function($dlg$$){$dlg$$||null==this.editor.filename?($dlg$$=new FilenameDialog(this,this.editor.getOrCreateFilename(),mxResources.get("save"),mxUtils.bind(this,function($name$$){this.save($name$$)}),null,mxUtils.bind(this,function($name$$){if(null!=$name$$&&0<$name$$.length)return!0;mxUtils.confirm(mxResources.get("invalidName"));return!1})),this.showDialog($dlg$$.container,340,96,!0,!0),$dlg$$.init()):this.save(this.editor.getOrCreateFilename())};
EditorUi.prototype.save=function($name$$){if(null!=$name$$){this.editor.graph.isEditing()&&this.editor.graph.stopEditing();var $xml$$=mxUtils.getXml(this.editor.getGraphXml());try{if(Editor.useLocalStorage){if(null!=localStorage.getItem($name$$)&&!mxUtils.confirm(mxResources.get("replaceIt",[$name$$])))return;localStorage.setItem($name$$,$xml$$);this.editor.setStatus(mxUtils.htmlEntities(mxResources.get("saved"))+" "+new Date)}else if($xml$$.length<MAX_REQUEST_SIZE)(new mxXmlRequest(SAVE_URL,"filename="+
encodeURIComponent($name$$)+"&xml="+encodeURIComponent($xml$$))).simulate(document,"_blank");else{mxUtils.alert(mxResources.get("drawingTooLarge"));mxUtils.popup($xml$$);return}this.editor.setModified(!1);this.editor.setFilename($name$$);this.updateDocumentTitle()}catch($e$$){this.editor.setStatus(mxUtils.htmlEntities(mxResources.get("errorSavingFile")))}}};
EditorUi.prototype.executeLayouts=function($layouts$$,$post$$){this.executeLayout(mxUtils.bind(this,function(){var $layout$$=new mxCompositeLayout(this.editor.graph,$layouts$$),$cells$$=this.editor.graph.getSelectionCells();$layout$$.execute(this.editor.graph.getDefaultParent(),0==$cells$$.length?null:$cells$$)}),!0,$post$$)};
EditorUi.prototype.executeLayout=function($exec_morph$$,$animate$$,$post$$){var $graph$$=this.editor.graph;$graph$$.getModel().beginUpdate();try{$exec_morph$$()}catch($e$$){throw $e$$;}finally{this.allowAnimation&&$animate$$&&$graph$$.isEnabled()?($exec_morph$$=new mxMorphing($graph$$),$exec_morph$$.addListener(mxEvent.DONE,mxUtils.bind(this,function(){$graph$$.getModel().endUpdate();null!=$post$$&&$post$$()})),$exec_morph$$.startAnimation()):($graph$$.getModel().endUpdate(),null!=$post$$&&$post$$())}};
EditorUi.prototype.showImageDialog=function($title$$,$value$$,$fn$$,$cellEditor_ignoreExisting$$){$cellEditor_ignoreExisting$$=this.editor.graph.cellEditor;var $selState$$=$cellEditor_ignoreExisting$$.saveSelection(),$newValue$$=mxUtils.prompt($title$$,$value$$);$cellEditor_ignoreExisting$$.restoreSelection($selState$$);if(null!=$newValue$$&&0<$newValue$$.length){var $img$$=new Image;$img$$.onload=function(){$fn$$($newValue$$,$img$$.width,$img$$.height)};$img$$.onerror=function(){$fn$$(null);mxUtils.alert(mxResources.get("fileNotFound"))};
$img$$.src=$newValue$$}else $fn$$(null)};EditorUi.prototype.showLinkDialog=function($dlg$jscomp$6_value$$,$btnLabel$$,$fn$$){$dlg$jscomp$6_value$$=new LinkDialog(this,$dlg$jscomp$6_value$$,$btnLabel$$,$fn$$);this.showDialog($dlg$jscomp$6_value$$.container,420,90,!0,!0);$dlg$jscomp$6_value$$.init()};
EditorUi.prototype.showDataDialog=function($cell$jscomp$17_dlg$$){null!=$cell$jscomp$17_dlg$$&&"undefined"!==typeof window.EditDataDialog&&($cell$jscomp$17_dlg$$=new EditDataDialog(this,$cell$jscomp$17_dlg$$),this.showDialog($cell$jscomp$17_dlg$$.container,480,420,!0,!1,null,!1),$cell$jscomp$17_dlg$$.init())};
EditorUi.prototype.showBackgroundImageDialog=function($apply$$,$img$$){$apply$$=null!=$apply$$?$apply$$:mxUtils.bind(this,function($change$jscomp$2_image$$){$change$jscomp$2_image$$=new ChangePageSetup(this,null,$change$jscomp$2_image$$);$change$jscomp$2_image$$.ignoreColor=!0;this.editor.graph.model.execute($change$jscomp$2_image$$)});var $newValue$$=mxUtils.prompt(mxResources.get("backgroundImage"),null!=$img$$?$img$$.src:"");null!=$newValue$$&&0<$newValue$$.length?($img$$=new Image,$img$$.onload=
function(){$apply$$(new mxImage($newValue$$,$img$$.width,$img$$.height),!1)},$img$$.onerror=function(){$apply$$(null,!0);mxUtils.alert(mxResources.get("fileNotFound"))},$img$$.src=$newValue$$):$apply$$(null)};EditorUi.prototype.setBackgroundImage=function($image$$){this.editor.graph.setBackgroundImage($image$$);this.editor.graph.view.validateBackgroundImage();this.fireEvent(new mxEventObject("backgroundImageChanged"))};
EditorUi.prototype.confirm=function($msg$$,$okFn$$,$cancelFn$$){mxUtils.confirm($msg$$)?null!=$okFn$$&&$okFn$$():null!=$cancelFn$$&&$cancelFn$$()};EditorUi.prototype.createOutline=function($wnd$$){var $outline$$=new mxOutline(this.editor.graph);mxEvent.addListener(window,"resize",function(){$outline$$.update(!1)});return $outline$$};
EditorUi.prototype.altShiftActions={65:"connectionArrows",82:"clearWaypoints",76:"editLink",79:"connectionPoints",81:"editConnectionPoints",84:"editTooltip",86:"pasteSize",70:"copySize",66:"copyData",69:"pasteData"};EditorUi.prototype.ctrlAltActions={88:"copyAsImage"};
EditorUi.prototype.createKeyHandler=function($editor$$){function $nudge$$($keyCode$$,$index$$,$layout$jscomp$3_resize$$){if(!$graph$$.isSelectionEmpty()&&$graph$$.isEnabled()){$index$$=null!=$index$$?$index$$:1;var $cells$jscomp$16_dx$$=$graph$$.getCompositeParents($graph$$.getSelectionCells()),$cell$jscomp$18_dy$jscomp$11_i$$=0<$cells$jscomp$16_dx$$.length?$cells$jscomp$16_dx$$[0]:null;if(null!=$cell$jscomp$18_dy$jscomp$11_i$$)if($layout$jscomp$3_resize$$){$graph$$.getModel().beginUpdate();try{for($cell$jscomp$18_dy$jscomp$11_i$$=
0;$cell$jscomp$18_dy$jscomp$11_i$$<$cells$jscomp$16_dx$$.length;$cell$jscomp$18_dy$jscomp$11_i$$++)if($graph$$.getModel().isVertex($cells$jscomp$16_dx$$[$cell$jscomp$18_dy$jscomp$11_i$$])&&$graph$$.isCellResizable($cells$jscomp$16_dx$$[$cell$jscomp$18_dy$jscomp$11_i$$])){var $geo$jscomp$7_parent$$=$graph$$.getCellGeometry($cells$jscomp$16_dx$$[$cell$jscomp$18_dy$jscomp$11_i$$]);null!=$geo$jscomp$7_parent$$&&($geo$jscomp$7_parent$$=$geo$jscomp$7_parent$$.clone(),37==$keyCode$$?$geo$jscomp$7_parent$$.width=
Math.max(0,$geo$jscomp$7_parent$$.width-$index$$):38==$keyCode$$?$geo$jscomp$7_parent$$.height=Math.max(0,$geo$jscomp$7_parent$$.height-$index$$):39==$keyCode$$?$geo$jscomp$7_parent$$.width+=$index$$:40==$keyCode$$&&($geo$jscomp$7_parent$$.height+=$index$$),$graph$$.getModel().setGeometry($cells$jscomp$16_dx$$[$cell$jscomp$18_dy$jscomp$11_i$$],$geo$jscomp$7_parent$$))}}finally{$graph$$.getModel().endUpdate()}}else{$geo$jscomp$7_parent$$=$graph$$.model.getParent($cell$jscomp$18_dy$jscomp$11_i$$);var $scale$$=
$graph$$.getView().scale;$layout$jscomp$3_resize$$=null;1==$graph$$.getSelectionCount()&&$graph$$.model.isVertex($cell$jscomp$18_dy$jscomp$11_i$$)&&null!=$graph$$.layoutManager&&!$graph$$.isCellLocked($cell$jscomp$18_dy$jscomp$11_i$$)&&($layout$jscomp$3_resize$$=$graph$$.layoutManager.getLayout($geo$jscomp$7_parent$$));if(null!=$layout$jscomp$3_resize$$&&$layout$jscomp$3_resize$$.constructor==mxStackLayout)$index$$=$geo$jscomp$7_parent$$.getIndex($cell$jscomp$18_dy$jscomp$11_i$$),37==$keyCode$$||
38==$keyCode$$?$graph$$.model.add($geo$jscomp$7_parent$$,$cell$jscomp$18_dy$jscomp$11_i$$,Math.max(0,$index$$-1)):(39==$keyCode$$||40==$keyCode$$)&&$graph$$.model.add($geo$jscomp$7_parent$$,$cell$jscomp$18_dy$jscomp$11_i$$,Math.min($graph$$.model.getChildCount($geo$jscomp$7_parent$$),$index$$+1));else{var $handler$$=$graph$$.graphHandler;null!=$handler$$&&(null==$handler$$.first&&$handler$$.start($cell$jscomp$18_dy$jscomp$11_i$$,0,0,$graph$$.getMovableCells($cells$jscomp$16_dx$$)),null!=$handler$$.first&&
($cell$jscomp$18_dy$jscomp$11_i$$=$cells$jscomp$16_dx$$=0,37==$keyCode$$?$cells$jscomp$16_dx$$=-$index$$:38==$keyCode$$?$cell$jscomp$18_dy$jscomp$11_i$$=-$index$$:39==$keyCode$$?$cells$jscomp$16_dx$$=$index$$:40==$keyCode$$&&($cell$jscomp$18_dy$jscomp$11_i$$=$index$$),$handler$$.currentDx+=$cells$jscomp$16_dx$$*$scale$$,$handler$$.currentDy+=$cell$jscomp$18_dy$jscomp$11_i$$*$scale$$,$handler$$.checkPreview(),$handler$$.updatePreview()),null!=$thread$$&&window.clearTimeout($thread$$),$thread$$=window.setTimeout(function(){if(null!=
$handler$$.first){var $dx$$=$handler$$.roundLength($handler$$.currentDx/$scale$$),$dy$$=$handler$$.roundLength($handler$$.currentDy/$scale$$);$handler$$.moveCells($handler$$.cells,$dx$$,$dy$$);$handler$$.reset()}},400))}}}}var $editorUi$$=this,$graph$$=this.editor.graph,$keyHandler$$=new mxKeyHandler($graph$$),$isEventIgnored$$=$keyHandler$$.isEventIgnored;$keyHandler$$.isEventIgnored=function($evt$$){return!(mxEvent.isShiftDown($evt$$)&&9==$evt$$.keyCode)&&(!this.isControlDown($evt$$)||mxEvent.isShiftDown($evt$$)||
90!=$evt$$.keyCode&&89!=$evt$$.keyCode&&188!=$evt$$.keyCode&&190!=$evt$$.keyCode&&85!=$evt$$.keyCode)&&(66!=$evt$$.keyCode&&73!=$evt$$.keyCode||!this.isControlDown($evt$$)||this.graph.cellEditor.isContentEditing()&&!mxClient.IS_FF&&!mxClient.IS_SF)&&(109!=$evt$$.keyCode&&107!=$evt$$.keyCode||!this.isControlDown($evt$$)&&!mxEvent.isShiftDown($evt$$)||!this.graph.cellEditor.isContentEditing()&&!mxClient.IS_FF&&!mxClient.IS_SF)&&$isEventIgnored$$.apply(this,arguments)};$keyHandler$$.isEnabledForEvent=
function($evt$$){return!mxEvent.isConsumed($evt$$)&&this.isGraphEvent($evt$$)&&this.isEnabled()&&(null==$editorUi$$.dialogs||0==$editorUi$$.dialogs.length)};$keyHandler$$.isControlDown=function($evt$$){return mxEvent.isControlDown($evt$$)||mxClient.IS_MAC&&$evt$$.metaKey};var $thread$$=null,$directions$$={37:mxConstants.DIRECTION_WEST,38:mxConstants.DIRECTION_NORTH,39:mxConstants.DIRECTION_EAST,40:mxConstants.DIRECTION_SOUTH},$keyHandlerGetFunction$$=$keyHandler$$.getFunction;mxKeyHandler.prototype.getFunction=
function($evt$$){if($graph$$.isEnabled()){var $action$$=null;mxEvent.isShiftDown($evt$$)&&mxEvent.isAltDown($evt$$)?$action$$=$editorUi$$.actions.get($editorUi$$.altShiftActions[$evt$$.keyCode]):this.isControlDown($evt$$)&&mxEvent.isAltDown($evt$$)&&($action$$=$editorUi$$.actions.get($editorUi$$.ctrlAltActions[$evt$$.keyCode]));if(null!=$action$$)return $action$$.funct;if(null!=$directions$$[$evt$$.keyCode]&&!$graph$$.isSelectionEmpty())if(!this.isControlDown($evt$$)&&mxEvent.isShiftDown($evt$$)&&
mxEvent.isAltDown($evt$$)){if($graph$$.model.isVertex($graph$$.getSelectionCell()))return function(){var $cells$$=$graph$$.connectVertex($graph$$.getSelectionCell(),$directions$$[$evt$$.keyCode],$graph$$.defaultEdgeLength,$evt$$,!0);null!=$cells$$&&0<$cells$$.length&&(1==$cells$$.length&&$graph$$.model.isEdge($cells$$[0])?$graph$$.setSelectionCell($graph$$.model.getTerminal($cells$$[0],!1)):$graph$$.setSelectionCell($cells$$[$cells$$.length-1]),$graph$$.scrollCellToVisible($graph$$.getSelectionCell()),
null!=$editorUi$$.hoverIcons&&$editorUi$$.hoverIcons.update($graph$$.view.getState($graph$$.getSelectionCell())))}}else return this.isControlDown($evt$$)?function(){$nudge$$($evt$$.keyCode,mxEvent.isShiftDown($evt$$)?$graph$$.gridSize:null,!0)}:function(){$nudge$$($evt$$.keyCode,mxEvent.isShiftDown($evt$$)?$graph$$.gridSize:null)}}return $keyHandlerGetFunction$$.apply(this,arguments)};$keyHandler$$.bindAction=mxUtils.bind(this,function($code$$,$control$$,$f$jscomp$6_key$$,$shift$$){var $action$$=
this.actions.get($f$jscomp$6_key$$);null!=$action$$&&($f$jscomp$6_key$$=function(){$action$$.isEnabled()&&$action$$.funct.apply(this,arguments)},$control$$?$shift$$?$keyHandler$$.bindControlShiftKey($code$$,$f$jscomp$6_key$$):$keyHandler$$.bindControlKey($code$$,$f$jscomp$6_key$$):$shift$$?$keyHandler$$.bindShiftKey($code$$,$f$jscomp$6_key$$):$keyHandler$$.bindKey($code$$,$f$jscomp$6_key$$))});var $ui$$=this,$keyHandlerEscape$$=$keyHandler$$.escape;$keyHandler$$.escape=function($evt$$){$keyHandlerEscape$$.apply(this,
arguments)};$keyHandler$$.enter=function(){};$keyHandler$$.bindControlShiftKey(36,function(){$graph$$.exitGroup()});$keyHandler$$.bindControlShiftKey(35,function(){$graph$$.enterGroup()});$keyHandler$$.bindShiftKey(36,function(){$graph$$.home()});$keyHandler$$.bindKey(35,function(){$graph$$.refresh()});$keyHandler$$.bindAction(107,!0,"zoomIn");$keyHandler$$.bindAction(109,!0,"zoomOut");$keyHandler$$.bindAction(80,!0,"print");if(!this.editor.chromeless||this.editor.editable)$keyHandler$$.bindAction(79,
!0,"outline",!0),$keyHandler$$.bindControlKey(36,function(){$graph$$.isEnabled()&&$graph$$.foldCells(!0)}),$keyHandler$$.bindControlKey(35,function(){$graph$$.isEnabled()&&$graph$$.foldCells(!1)}),$keyHandler$$.bindControlKey(13,function(){$ui$$.ctrlEnter()}),$keyHandler$$.bindAction(8,!1,"delete"),$keyHandler$$.bindAction(8,!0,"deleteAll"),$keyHandler$$.bindAction(8,!1,"deleteLabels",!0),$keyHandler$$.bindAction(46,!1,"delete"),$keyHandler$$.bindAction(46,!0,"deleteAll"),$keyHandler$$.bindAction(46,
!1,"deleteLabels",!0),$keyHandler$$.bindAction(36,!1,"resetView"),$keyHandler$$.bindAction(72,!0,"fitWindow",!0),$keyHandler$$.bindAction(74,!0,"fitPage"),$keyHandler$$.bindAction(74,!0,"fitTwoPages",!0),$keyHandler$$.bindAction(48,!0,"customZoom"),$keyHandler$$.bindAction(82,!0,"turn"),$keyHandler$$.bindAction(82,!0,"clearDefaultStyle",!0),$keyHandler$$.bindAction(83,!0,"save"),$keyHandler$$.bindAction(83,!0,"saveAs",!0),$keyHandler$$.bindAction(65,!0,"selectAll"),$keyHandler$$.bindAction(65,!0,
"selectNone",!0),$keyHandler$$.bindAction(73,!0,"selectVertices",!0),$keyHandler$$.bindAction(69,!0,"selectEdges",!0),$keyHandler$$.bindAction(69,!0,"editStyle"),$keyHandler$$.bindAction(66,!0,"bold"),$keyHandler$$.bindAction(66,!0,"toBack",!0),$keyHandler$$.bindAction(70,!0,"toFront",!0),$keyHandler$$.bindAction(68,!0,"duplicate"),$keyHandler$$.bindAction(68,!0,"setAsDefaultStyle",!0),$keyHandler$$.bindAction(90,!0,"undo"),$keyHandler$$.bindAction(90,!0,"redo",!0),$keyHandler$$.bindAction(89,!0,
"redo"),$keyHandler$$.bindAction(89,!0,"autosize",!0),$keyHandler$$.bindAction(88,!0,"cut"),$keyHandler$$.bindAction(67,!0,"copy"),$keyHandler$$.bindAction(86,!0,"paste"),$keyHandler$$.bindAction(71,!0,"group"),$keyHandler$$.bindAction(77,!0,"editData"),$keyHandler$$.bindAction(71,!0,"grid",!0),$keyHandler$$.bindAction(73,!0,"italic"),$keyHandler$$.bindAction(76,!0,"lockUnlock"),$keyHandler$$.bindAction(76,!0,"layers",!0),$keyHandler$$.bindAction(80,!0,"format",!0),$keyHandler$$.bindAction(85,!0,
"underline"),$keyHandler$$.bindAction(85,!0,"ungroup",!0),$keyHandler$$.bindAction(109,!0,"decreaseFontSize",!0),$keyHandler$$.bindAction(107,!0,"increaseFontSize",!0),$keyHandler$$.bindAction(219,!0,"decreaseFontSize",!0),$keyHandler$$.bindAction(221,!0,"increaseFontSize",!0),$keyHandler$$.bindAction(190,!0,"superscript"),$keyHandler$$.bindAction(188,!0,"subscript"),$keyHandler$$.bindAction(13,!1,"keyPressEnter"),$keyHandler$$.bindKey(113,function(){$graph$$.isEnabled()&&$graph$$.startEditingAtCell()});
return $keyHandler$$};
EditorUi.prototype.createHelpIcon=function($href$$){var $link$$=document.createElement("div");$link$$.setAttribute("title",mxResources.get("help"));$link$$.style.display="inline";$link$$.style.marginLeft="8px";$link$$.style.cursor="help";var $icon$$=document.createElement("img");$icon$$.setAttribute("src",Editor.helpImage);$icon$$.setAttribute("valign","middle");$icon$$.setAttribute("border","0");$icon$$.className="geAdaptiveAsset";mxUtils.setOpacity($icon$$,60);$icon$$.style.marginTop="-4px";$icon$$.style.height=
"16px";$icon$$.style.width="16px";$link$$.appendChild($icon$$);mxEvent.addListener($link$$,"click",mxUtils.bind(this,function($evt$$){this.hideCurrentMenu();this.openLink($href$$);mxEvent.consume($evt$$)}));return $link$$};
EditorUi.prototype.destroy=function(){var $graph$jscomp$37_i$$=this.editor.graph;null!=$graph$jscomp$37_i$$&&null!=this.selectionStateListener&&($graph$jscomp$37_i$$.getSelectionModel().removeListener(mxEvent.CHANGE,this.selectionStateListener),$graph$jscomp$37_i$$.getModel().removeListener(mxEvent.CHANGE,this.selectionStateListener),$graph$jscomp$37_i$$.removeListener(mxEvent.EDITING_STARTED,this.selectionStateListener),$graph$jscomp$37_i$$.removeListener(mxEvent.EDITING_STOPPED,this.selectionStateListener),
$graph$jscomp$37_i$$.getView().removeListener("unitChanged",this.selectionStateListener),this.selectionStateListener=null);null!=this.editor&&(this.editor.destroy(),this.editor=null);null!=this.menubar&&(this.menubar.destroy(),this.menubar=null);null!=this.toolbar&&(this.toolbar.destroy(),this.toolbar=null);null!=this.sidebar&&(this.sidebar.destroy(),this.sidebar=null);null!=this.keyHandler&&(this.keyHandler.destroy(),this.keyHandler=null);null!=this.keydownHandler&&(mxEvent.removeListener(document,
"keydown",this.keydownHandler),this.keydownHandler=null);null!=this.keyupHandler&&(mxEvent.removeListener(document,"keyup",this.keyupHandler),this.keyupHandler=null);null!=this.resizeHandler&&(mxEvent.removeListener(window,"resize",this.resizeHandler),this.resizeHandler=null);null!=this.gestureHandler&&(mxEvent.removeGestureListeners(document,this.gestureHandler),this.gestureHandler=null);null!=this.orientationChangeHandler&&(mxEvent.removeListener(window,"orientationchange",this.orientationChangeHandler),
this.orientationChangeHandler=null);null!=this.scrollHandler&&(mxEvent.removeListener(window,"scroll",this.scrollHandler),this.scrollHandler=null);if(null!=this.destroyFunctions){for($graph$jscomp$37_i$$=0;$graph$jscomp$37_i$$<this.destroyFunctions.length;$graph$jscomp$37_i$$++)this.destroyFunctions[$graph$jscomp$37_i$$]();this.destroyFunctions=null}var $c$$=[this.menubarContainer,this.toolbarContainer,this.sidebarContainer,this.formatContainer,this.diagramContainer,this.footerContainer,this.chromelessToolbar,
this.hsplit,this.layersDialog];for($graph$jscomp$37_i$$=0;$graph$jscomp$37_i$$<$c$$.length;$graph$jscomp$37_i$$++)null!=$c$$[$graph$jscomp$37_i$$]&&null!=$c$$[$graph$jscomp$37_i$$].parentNode&&$c$$[$graph$jscomp$37_i$$].parentNode.removeChild($c$$[$graph$jscomp$37_i$$])};(function(){var $entities$$=[["nbsp","160"],["shy","173"]],$parseXml$$=mxUtils.parseXml;mxUtils.parseXml=function($text$$){for(var $i$$=0;$i$$<$entities$$.length;$i$$++)$text$$=$text$$.replace(new RegExp("&"+$entities$$[$i$$][0]+";","g"),"&#"+$entities$$[$i$$][1]+";");return $parseXml$$($text$$)};var $getSizeForString$$=mxUtils.getSizeForString;mxUtils.getSizeForString=function($text$$,$fontSize$$,$fontFamily$$,$textWidth$$){return $getSizeForString$$(Graph.sanitizeHtml($text$$),$fontSize$$,$fontFamily$$,
$textWidth$$)}})();
Date.prototype.toISOString||function(){function $pad$$($number$jscomp$1_r$$){$number$jscomp$1_r$$=String($number$jscomp$1_r$$);1===$number$jscomp$1_r$$.length&&($number$jscomp$1_r$$="0"+$number$jscomp$1_r$$);return $number$jscomp$1_r$$}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+$pad$$(this.getUTCMonth()+1)+"-"+$pad$$(this.getUTCDate())+"T"+$pad$$(this.getUTCHours())+":"+$pad$$(this.getUTCMinutes())+":"+$pad$$(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,
5)+"Z"}}();Date.now||(Date.now=function(){return(new Date).getTime()});
Uint8Array.from||(Uint8Array.from=function(){var $toStr$$=Object.prototype.toString,$isCallable$$=function($fn$$){return"function"===typeof $fn$$||"[object Function]"===$toStr$$.call($fn$$)},$maxSafeInteger$$=Math.pow(2,53)-1;return function($arrayLike$$){var $items$$=Object($arrayLike$$);if(null==$arrayLike$$)throw new TypeError("Array.from requires an array-like object - not null or undefined");var $mapFn$$=1<arguments.length?arguments[1]:void 0,$T$$;if("undefined"!==typeof $mapFn$$){if(!$isCallable$$($mapFn$$))throw new TypeError("Array.from: when provided, the second argument must be a function");
2<arguments.length&&($T$$=arguments[2])}var $len$jscomp$1_len$jscomp$inline_57_number$$=Number($items$$.length);$len$jscomp$1_len$jscomp$inline_57_number$$=isNaN($len$jscomp$1_len$jscomp$inline_57_number$$)?0:0!==$len$jscomp$1_len$jscomp$inline_57_number$$&&isFinite($len$jscomp$1_len$jscomp$inline_57_number$$)?(0<$len$jscomp$1_len$jscomp$inline_57_number$$?1:-1)*Math.floor(Math.abs($len$jscomp$1_len$jscomp$inline_57_number$$)):$len$jscomp$1_len$jscomp$inline_57_number$$;$len$jscomp$1_len$jscomp$inline_57_number$$=
Math.min(Math.max($len$jscomp$1_len$jscomp$inline_57_number$$,0),$maxSafeInteger$$);for(var $A$$=$isCallable$$(this)?Object(new this($len$jscomp$1_len$jscomp$inline_57_number$$)):Array($len$jscomp$1_len$jscomp$inline_57_number$$),$k$$=0,$kValue$$;$k$$<$len$jscomp$1_len$jscomp$inline_57_number$$;)$kValue$$=$items$$[$k$$],$A$$[$k$$]=$mapFn$$?"undefined"===typeof $T$$?$mapFn$$($kValue$$,$k$$):$mapFn$$.call($T$$,$kValue$$,$k$$):$kValue$$,$k$$+=1;$A$$.length=$len$jscomp$1_len$jscomp$inline_57_number$$;
return $A$$}}());mxConstants.POINTS=1;mxConstants.MILLIMETERS=2;mxConstants.INCHES=3;mxConstants.METERS=4;mxConstants.PIXELS_PER_MM=3.937;mxConstants.PIXELS_PER_INCH=100;mxConstants.SHADOW_OPACITY=.25;mxConstants.SHADOWCOLOR="#000000";mxConstants.VML_SHADOWCOLOR="#d0d0d0";mxCodec.allowlist="mxStylesheet Array mxGraphModel mxCell mxGeometry mxRectangle mxPoint mxChildChange mxRootChange mxTerminalChange mxValueChange mxStyleChange mxGeometryChange mxCollapseChange mxVisibleChange mxCellAttributeChange".split(" ");
mxGraph.prototype.pageBreakColor="#c0c0c0";mxGraph.prototype.pageScale=1;(function(){try{if(null!=navigator&&null!=navigator.language){var $lang$$=navigator.language.toLowerCase();mxGraph.prototype.pageFormat="en-us"===$lang$$||"en-ca"===$lang$$||"es-mx"===$lang$$?mxConstants.PAGE_FORMAT_LETTER_PORTRAIT:mxConstants.PAGE_FORMAT_A4_PORTRAIT}}catch($e$$){}})();mxText.prototype.baseSpacingTop=5;mxText.prototype.baseSpacingBottom=1;mxGraphModel.prototype.ignoreRelativeEdgeParent=!1;
mxGraphView.prototype.gridImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhCgAKAJEAAAAAAP///8zMzP///yH5BAEAAAMALAAAAAAKAAoAAAIJ1I6py+0Po2wFADs=":IMAGE_PATH+"/grid.gif";mxGraphView.prototype.gridSteps=4;mxGraphView.prototype.minGridSize=4;mxGraphView.prototype.defaultGridColor="#d0d0d0";mxGraphView.prototype.defaultDarkGridColor="#424242";mxGraphView.prototype.gridColor=mxGraphView.prototype.defaultGridColor;mxGraphView.prototype.unit=mxConstants.POINTS;
mxGraphView.prototype.setUnit=function($unit$$){this.unit!=$unit$$&&(this.unit=$unit$$,this.fireEvent(new mxEventObject("unitChanged","unit",$unit$$)))};mxSvgCanvas2D.prototype.foAltText="[Not supported by viewer]";mxShape.prototype.getConstraints=function($style$$,$w$$,$h$$){return null};
mxImageShape.prototype.getImageDataUri=function(){var $src$$=this.image;if("data:image/svg+xml;base64,"==$src$$.substring(0,26)&&null!=this.style&&"1"==mxUtils.getValue(this.style,"clipSvg","0")){if(null==this.clippedSvg||this.clippedImage!=$src$$)this.clippedSvg=Graph.clipSvgDataUri($src$$,!0),this.clippedImage=$src$$;$src$$=this.clippedSvg}return $src$$};
(function(){var $mxResourcesGet$$=mxResources.get;mxResources.get=function($key$$,$params$$,$defaultValue$$){null==$defaultValue$$&&($defaultValue$$=$key$$);return $mxResourcesGet$$.apply(this,[$key$$,$params$$,$defaultValue$$])}})();
Graph=function($b$jscomp$5_container$$,$d$jscomp$3_model$jscomp$8_p$$,$renderHint$$,$stylesheet$$,$themes$$,$standalone$$){mxGraph.call(this,$b$jscomp$5_container$$,$d$jscomp$3_model$jscomp$8_p$$,$renderHint$$,$stylesheet$$);this.themes=$themes$$||this.defaultThemes;this.currentEdgeStyle=mxUtils.clone(this.defaultEdgeStyle);this.currentVertexStyle=mxUtils.clone(this.defaultVertexStyle);this.standalone=null!=$standalone$$?$standalone$$:!1;$b$jscomp$5_container$$=this.baseUrl;$d$jscomp$3_model$jscomp$8_p$$=
$b$jscomp$5_container$$.indexOf("//");this.domainPathUrl=this.domainUrl="";0<$d$jscomp$3_model$jscomp$8_p$$&&($d$jscomp$3_model$jscomp$8_p$$=$b$jscomp$5_container$$.indexOf("/",$d$jscomp$3_model$jscomp$8_p$$+2),0<$d$jscomp$3_model$jscomp$8_p$$&&(this.domainUrl=$b$jscomp$5_container$$.substring(0,$d$jscomp$3_model$jscomp$8_p$$)),$d$jscomp$3_model$jscomp$8_p$$=$b$jscomp$5_container$$.lastIndexOf("/"),0<$d$jscomp$3_model$jscomp$8_p$$&&(this.domainPathUrl=$b$jscomp$5_container$$.substring(0,$d$jscomp$3_model$jscomp$8_p$$+
1)));this.isHtmlLabel=function($cell$jscomp$19_style$$){$cell$jscomp$19_style$$=this.getCurrentCellStyle($cell$jscomp$19_style$$);return null!=$cell$jscomp$19_style$$?"1"==$cell$jscomp$19_style$$.html||"wrap"==$cell$jscomp$19_style$$[mxConstants.STYLE_WHITE_SPACE]:!1};if(this.immediateHandling){var $JSCompiler_object_inline_point_209$$=null,$JSCompiler_object_inline_event_210$$=null,$JSCompiler_object_inline_state_211$$=null,$JSCompiler_object_inline_handle_212$$=null,$JSCompiler_object_inline_selected_213$$=
!1,$initialSelected$$=!1;this.addListener(mxEvent.FIRE_MOUSE_EVENT,mxUtils.bind(this,function($me$jscomp$9_sender$$,$evt$jscomp$126_s$$){if("mouseDown"==$evt$jscomp$126_s$$.getProperty("eventName")&&this.isEnabled()){$me$jscomp$9_sender$$=$evt$jscomp$126_s$$.getProperty("event");var $current_state$$=$me$jscomp$9_sender$$.getState();$evt$jscomp$126_s$$=this.view.scale;if(!mxEvent.isAltDown($me$jscomp$9_sender$$.getEvent())&&null!=$current_state$$&&($initialSelected$$=this.isCellSelected($current_state$$.cell),
!this.panningHandler.isActive()&&!mxEvent.isControlDown($me$jscomp$9_sender$$.getEvent()))){var $handler$jscomp$4_offset$jscomp$30_t1_table$$=this.selectionCellsHandler.getHandler($current_state$$.cell);if(null==$handler$jscomp$4_offset$jscomp$30_t1_table$$||null==$handler$jscomp$4_offset$jscomp$30_t1_table$$.getHandleForEvent($me$jscomp$9_sender$$)){var $box$$=new mxRectangle($me$jscomp$9_sender$$.getGraphX()-1,$me$jscomp$9_sender$$.getGraphY()-1),$b$jscomp$6_handle$jscomp$12_tol$$=mxEvent.isTouchEvent($me$jscomp$9_sender$$.getEvent())?
mxShape.prototype.svgStrokeTolerance-1:(mxShape.prototype.svgStrokeTolerance+2)/2;$handler$jscomp$4_offset$jscomp$30_t1_table$$=$b$jscomp$6_handle$jscomp$12_tol$$+2;$box$$.grow($b$jscomp$6_handle$jscomp$12_tol$$);if(this.isTableCell($current_state$$.cell)&&this.isCellMovable($current_state$$.cell)&&!this.isCellSelected($current_state$$.cell)&&!(mxUtils.contains($current_state$$,$me$jscomp$9_sender$$.getGraphX()-$handler$jscomp$4_offset$jscomp$30_t1_table$$,$me$jscomp$9_sender$$.getGraphY()-$handler$jscomp$4_offset$jscomp$30_t1_table$$)&&
mxUtils.contains($current_state$$,$me$jscomp$9_sender$$.getGraphX()-$handler$jscomp$4_offset$jscomp$30_t1_table$$,$me$jscomp$9_sender$$.getGraphY()+$handler$jscomp$4_offset$jscomp$30_t1_table$$)&&mxUtils.contains($current_state$$,$me$jscomp$9_sender$$.getGraphX()+$handler$jscomp$4_offset$jscomp$30_t1_table$$,$me$jscomp$9_sender$$.getGraphY()+$handler$jscomp$4_offset$jscomp$30_t1_table$$)&&mxUtils.contains($current_state$$,$me$jscomp$9_sender$$.getGraphX()+$handler$jscomp$4_offset$jscomp$30_t1_table$$,
$me$jscomp$9_sender$$.getGraphY()-$handler$jscomp$4_offset$jscomp$30_t1_table$$))){var $row$$=this.model.getParent($current_state$$.cell);$handler$jscomp$4_offset$jscomp$30_t1_table$$=this.model.getParent($row$$);if(!this.isCellSelected($handler$jscomp$4_offset$jscomp$30_t1_table$$)){$b$jscomp$6_handle$jscomp$12_tol$$*=$evt$jscomp$126_s$$;var $b2$$=2*$b$jscomp$6_handle$jscomp$12_tol$$;if(this.model.getChildAt($handler$jscomp$4_offset$jscomp$30_t1_table$$,0)!=$row$$&&mxUtils.intersects($box$$,new mxRectangle($current_state$$.x,
$current_state$$.y-$b$jscomp$6_handle$jscomp$12_tol$$,$current_state$$.width,$b2$$))||this.model.getChildAt($row$$,0)!=$current_state$$.cell&&mxUtils.intersects($box$$,new mxRectangle($current_state$$.x-$b$jscomp$6_handle$jscomp$12_tol$$,$current_state$$.y,$b2$$,$current_state$$.height))||mxUtils.intersects($box$$,new mxRectangle($current_state$$.x,$current_state$$.y+$current_state$$.height-$b$jscomp$6_handle$jscomp$12_tol$$,$current_state$$.width,$b2$$))||mxUtils.intersects($box$$,new mxRectangle($current_state$$.x+
$current_state$$.width-$b$jscomp$6_handle$jscomp$12_tol$$,$current_state$$.y,$b2$$,$current_state$$.height)))$row$$=this.selectionCellsHandler.isHandled($handler$jscomp$4_offset$jscomp$30_t1_table$$),this.selectCellForEvent($handler$jscomp$4_offset$jscomp$30_t1_table$$,$me$jscomp$9_sender$$.getEvent()),$handler$jscomp$4_offset$jscomp$30_t1_table$$=this.selectionCellsHandler.getHandler($handler$jscomp$4_offset$jscomp$30_t1_table$$),null!=$handler$jscomp$4_offset$jscomp$30_t1_table$$&&($b$jscomp$6_handle$jscomp$12_tol$$=
$handler$jscomp$4_offset$jscomp$30_t1_table$$.getHandleForEvent($me$jscomp$9_sender$$),null!=$b$jscomp$6_handle$jscomp$12_tol$$&&($handler$jscomp$4_offset$jscomp$30_t1_table$$.start($me$jscomp$9_sender$$.getGraphX(),$me$jscomp$9_sender$$.getGraphY(),$b$jscomp$6_handle$jscomp$12_tol$$),$handler$jscomp$4_offset$jscomp$30_t1_table$$.blockDelayedSelection=!$row$$,$me$jscomp$9_sender$$.consume()))}}for(;!$me$jscomp$9_sender$$.isConsumed()&&null!=$current_state$$&&(this.isTableCell($current_state$$.cell)||
this.isTableRow($current_state$$.cell)||this.isTable($current_state$$.cell));)this.isSwimlane($current_state$$.cell)&&this.isCellMovable($current_state$$.cell)&&($handler$jscomp$4_offset$jscomp$30_t1_table$$=this.getActualStartSize($current_state$$.cell),(0<$handler$jscomp$4_offset$jscomp$30_t1_table$$.x||0<$handler$jscomp$4_offset$jscomp$30_t1_table$$.width)&&mxUtils.intersects($box$$,new mxRectangle($current_state$$.x+($handler$jscomp$4_offset$jscomp$30_t1_table$$.x-$handler$jscomp$4_offset$jscomp$30_t1_table$$.width-
1)*$evt$jscomp$126_s$$+(0==$handler$jscomp$4_offset$jscomp$30_t1_table$$.x?$current_state$$.width:0),$current_state$$.y,1,$current_state$$.height))||(0<$handler$jscomp$4_offset$jscomp$30_t1_table$$.y||0<$handler$jscomp$4_offset$jscomp$30_t1_table$$.height)&&mxUtils.intersects($box$$,new mxRectangle($current_state$$.x,$current_state$$.y+($handler$jscomp$4_offset$jscomp$30_t1_table$$.y-$handler$jscomp$4_offset$jscomp$30_t1_table$$.height-1)*$evt$jscomp$126_s$$+(0==$handler$jscomp$4_offset$jscomp$30_t1_table$$.y?
$current_state$$.height:0),$current_state$$.width,1)))&&(this.selectCellForEvent($current_state$$.cell,$me$jscomp$9_sender$$.getEvent()),$handler$jscomp$4_offset$jscomp$30_t1_table$$=this.selectionCellsHandler.getHandler($current_state$$.cell),null!=$handler$jscomp$4_offset$jscomp$30_t1_table$$&&null!=$handler$jscomp$4_offset$jscomp$30_t1_table$$.customHandles&&($b$jscomp$6_handle$jscomp$12_tol$$=mxEvent.CUSTOM_HANDLE-$handler$jscomp$4_offset$jscomp$30_t1_table$$.customHandles.length+1,$handler$jscomp$4_offset$jscomp$30_t1_table$$.start($me$jscomp$9_sender$$.getGraphX(),
$me$jscomp$9_sender$$.getGraphY(),$b$jscomp$6_handle$jscomp$12_tol$$),$me$jscomp$9_sender$$.consume())),$current_state$$=this.view.getState(this.model.getParent($current_state$$.cell))}}}}));this.addListener(mxEvent.CONSUME_MOUSE_EVENT,mxUtils.bind(this,function($me$jscomp$10_sender$$,$evt$jscomp$127_handler$$){if("mouseDown"==$evt$jscomp$127_handler$$.getProperty("eventName")&&this.isEnabled()){$me$jscomp$10_sender$$=$evt$jscomp$127_handler$$.getProperty("event");var $state$$=$me$jscomp$10_sender$$.getState();
mxEvent.isAltDown($me$jscomp$10_sender$$.getEvent())||mxEvent.isControlDown($evt$jscomp$127_handler$$)||mxEvent.isShiftDown($evt$jscomp$127_handler$$)||$initialSelected$$||null==$state$$||!this.model.isEdge($state$$.cell)||($JSCompiler_object_inline_point_209$$=new mxPoint($me$jscomp$10_sender$$.getGraphX(),$me$jscomp$10_sender$$.getGraphY()),$JSCompiler_object_inline_selected_213$$=this.isCellSelected($state$$.cell),$JSCompiler_object_inline_state_211$$=$state$$,$JSCompiler_object_inline_event_210$$=
$me$jscomp$10_sender$$,null!=$state$$.text&&null!=$state$$.text.boundingBox&&mxUtils.contains($state$$.text.boundingBox,$me$jscomp$10_sender$$.getGraphX(),$me$jscomp$10_sender$$.getGraphY())?$JSCompiler_object_inline_handle_212$$=mxEvent.LABEL_HANDLE:($evt$jscomp$127_handler$$=this.selectionCellsHandler.getHandler($state$$.cell),null!=$evt$jscomp$127_handler$$&&null!=$evt$jscomp$127_handler$$.bends&&0<$evt$jscomp$127_handler$$.bends.length&&($JSCompiler_object_inline_handle_212$$=$evt$jscomp$127_handler$$.getHandleForEvent($me$jscomp$10_sender$$))))}}));
this.addMouseListener({mouseDown:function($sender$$,$me$$){},mouseMove:mxUtils.bind(this,function($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$,$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$){$box$jscomp$1_handlerMap_parent$jscomp$12_sender$$=this.selectionCellsHandler.handlers.map;for(var $key$jscomp$42_state$$ in $box$jscomp$1_handlerMap_parent$jscomp$12_sender$$)if(null!=$box$jscomp$1_handlerMap_parent$jscomp$12_sender$$[$key$jscomp$42_state$$].index)return;if(this.isEnabled()&&!this.panningHandler.isActive()&&
!mxEvent.isAltDown($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getEvent())){var $offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$=this.tolerance;if(null!=$JSCompiler_object_inline_point_209$$&&null!=$JSCompiler_object_inline_state_211$$&&null!=$JSCompiler_object_inline_event_210$$){if($key$jscomp$42_state$$=$JSCompiler_object_inline_state_211$$,null!=$JSCompiler_object_inline_handle_212$$||Math.abs($JSCompiler_object_inline_point_209$$.x-$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphX())>
$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$||Math.abs($JSCompiler_object_inline_point_209$$.y-$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphY())>$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$){var $cursor_handler$$=null;mxEvent.isControlDown($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getEvent())||mxEvent.isShiftDown($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getEvent())||($cursor_handler$$=this.selectionCellsHandler.getHandler($key$jscomp$42_state$$.cell));if(null!=
$cursor_handler$$&&null!=$cursor_handler$$.bends&&0<$cursor_handler$$.bends.length){$cursor_handler$$.redrawHandles();var $handle$jscomp$13_s$$=null!=$JSCompiler_object_inline_handle_212$$?$JSCompiler_object_inline_handle_212$$:$cursor_handler$$.getHandleForEvent($JSCompiler_object_inline_event_210$$),$edgeStyle$$=this.view.getEdgeStyle($key$jscomp$42_state$$),$entity$$=$edgeStyle$$==mxEdgeStyle.EntityRelation;$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$=$key$jscomp$42_state$$.absolutePoints;
$JSCompiler_object_inline_selected_213$$||($handle$jscomp$13_s$$=$JSCompiler_object_inline_handle_212$$);$handle$jscomp$13_s$$!=mxEvent.LABEL_HANDLE&&null!=$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$&&($handle$jscomp$13_s$$=$JSCompiler_object_inline_handle_212$$,null==$handle$jscomp$13_s$$&&($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$=new mxRectangle($JSCompiler_object_inline_point_209$$.x,$JSCompiler_object_inline_point_209$$.y),$box$jscomp$1_handlerMap_parent$jscomp$12_sender$$.grow(mxEdgeHandler.prototype.handleImage.width/
2),mxUtils.contains($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$,$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[0].x,$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[0].y)?$handle$jscomp$13_s$$=0:mxUtils.contains($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$,$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.length-1].x,$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.length-
1].y)?$handle$jscomp$13_s$$=$cursor_handler$$.bends.length-1:null!=$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$&&(null==$edgeStyle$$&&null==$handle$jscomp$13_s$$||$edgeStyle$$==mxEdgeStyle.SegmentConnector||$edgeStyle$$==mxEdgeStyle.OrthConnector)&&(null!=$edgeStyle$$&&(2==$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.length||3==$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.length&&(0==Math.round($offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[0].x-$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[1].x)&&
0==Math.round($offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[1].x-$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[2].x)||0==Math.round($offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[0].y-$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[1].y)&&0==Math.round($offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[1].y-$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[2].y)))?$handle$jscomp$13_s$$=2:($handle$jscomp$13_s$$=mxUtils.findNearestSegment($key$jscomp$42_state$$,$JSCompiler_object_inline_point_209$$.x,
$JSCompiler_object_inline_point_209$$.y),$handle$jscomp$13_s$$=null==$edgeStyle$$?mxEvent.VIRTUAL_HANDLE-$handle$jscomp$13_s$$:$handle$jscomp$13_s$$+1))),null==$handle$jscomp$13_s$$&&($handle$jscomp$13_s$$=mxEvent.VIRTUAL_HANDLE));$box$jscomp$1_handlerMap_parent$jscomp$12_sender$$=$handle$jscomp$13_s$$==mxEvent.LABEL_HANDLE||0==$handle$jscomp$13_s$$||$handle$jscomp$13_s$$==$cursor_handler$$.bends.length-1;if(!$entity$$&&(null!=$key$jscomp$42_state$$.visibleSourceState||null!=$key$jscomp$42_state$$.visibleTargetState)||
$box$jscomp$1_handlerMap_parent$jscomp$12_sender$$)$cursor_handler$$.start($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphX(),$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphX(),$handle$jscomp$13_s$$),$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.consume(),this.graphHandler.reset()}null!=$cursor_handler$$&&(this.selectionCellsHandler.isHandlerActive($cursor_handler$$)?this.isCellSelected($key$jscomp$42_state$$.cell)||(this.selectionCellsHandler.handlers.put($key$jscomp$42_state$$.cell,
$cursor_handler$$),this.selectCellForEvent($key$jscomp$42_state$$.cell,$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getEvent())):this.isCellSelected($key$jscomp$42_state$$.cell)||$cursor_handler$$.destroy());$JSCompiler_object_inline_selected_213$$=!1;$JSCompiler_object_inline_point_209$$=$JSCompiler_object_inline_event_210$$=$JSCompiler_object_inline_state_211$$=$JSCompiler_object_inline_handle_212$$=null}}else if($key$jscomp$42_state$$=$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getState(),
null!=$key$jscomp$42_state$$&&this.isCellEditable($key$jscomp$42_state$$.cell)){$box$jscomp$1_handlerMap_parent$jscomp$12_sender$$=this.model.getParent($key$jscomp$42_state$$.cell);$cursor_handler$$=null;if(!(!this.model.isEdge($key$jscomp$42_state$$.cell)||this.isCellSelected($key$jscomp$42_state$$.cell)||mxEvent.isAltDown($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getEvent())||mxEvent.isControlDown($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getEvent())||mxEvent.isShiftDown($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getEvent())||
this.isAncestorSelected($key$jscomp$42_state$$.cell))&&(this.isSwimlane($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$)||this.model.isLayer($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$)||this.getCurrentRoot()==$box$jscomp$1_handlerMap_parent$jscomp$12_sender$$)){if($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$=new mxRectangle($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphX(),$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphY()),$box$jscomp$1_handlerMap_parent$jscomp$12_sender$$.grow(mxEdgeHandler.prototype.handleImage.width/
2),$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$=$key$jscomp$42_state$$.absolutePoints,null!=$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$)null!=$key$jscomp$42_state$$.text&&null!=$key$jscomp$42_state$$.text.boundingBox&&mxUtils.contains($key$jscomp$42_state$$.text.boundingBox,$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphX(),$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphY())?$cursor_handler$$="move":mxUtils.contains($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$,
$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[0].x,$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[0].y)||mxUtils.contains($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$,$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.length-1].x,$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.length-1].y)?$cursor_handler$$="pointer":($edgeStyle$$=this.view.getEdgeStyle($key$jscomp$42_state$$),
$edgeStyle$$==mxEdgeStyle.EntityRelation||null==$key$jscomp$42_state$$.visibleSourceState&&null==$key$jscomp$42_state$$.visibleTargetState||($cursor_handler$$="crosshair",$edgeStyle$$!=mxEdgeStyle.SegmentConnector&&$edgeStyle$$!=mxEdgeStyle.OrthConnector))||($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$=mxUtils.findNearestSegment($key$jscomp$42_state$$,$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphX(),$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphY()),$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$<
$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.length-1&&0<=$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$&&($cursor_handler$$=0==Math.round($offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$].x-$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$[$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$+1].x)?"col-resize":"row-resize"))}else if(!mxEvent.isControlDown($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getEvent())){$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$=
mxShape.prototype.svgStrokeTolerance/2;$box$jscomp$1_handlerMap_parent$jscomp$12_sender$$=new mxRectangle($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphX(),$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.getGraphY());$box$jscomp$1_handlerMap_parent$jscomp$12_sender$$.grow($offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$);if(this.isTableCell($key$jscomp$42_state$$.cell)&&this.isCellMovable($key$jscomp$42_state$$.cell)&&($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$=this.model.getParent($key$jscomp$42_state$$.cell),
$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$=this.model.getParent($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$),!this.isCellSelected($offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$)))if(mxUtils.intersects($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$,new mxRectangle($key$jscomp$42_state$$.x,$key$jscomp$42_state$$.y-2,$key$jscomp$42_state$$.width,4))&&this.model.getChildAt($offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$,0)!=$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$||
mxUtils.intersects($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$,new mxRectangle($key$jscomp$42_state$$.x,$key$jscomp$42_state$$.y+$key$jscomp$42_state$$.height-2,$key$jscomp$42_state$$.width,4)))$cursor_handler$$="row-resize";else if(mxUtils.intersects($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$,new mxRectangle($key$jscomp$42_state$$.x-2,$key$jscomp$42_state$$.y,4,$key$jscomp$42_state$$.height))&&this.model.getChildAt($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$,0)!=$key$jscomp$42_state$$.cell||
mxUtils.intersects($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$,new mxRectangle($key$jscomp$42_state$$.x+$key$jscomp$42_state$$.width-2,$key$jscomp$42_state$$.y,4,$key$jscomp$42_state$$.height)))$cursor_handler$$="col-resize";for($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$=$key$jscomp$42_state$$;null==$cursor_handler$$&&null!=$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$&&(this.isTableCell($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.cell)||this.isTableRow($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.cell)||
this.isTable($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.cell));)this.isSwimlane($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.cell)&&this.isCellMovable($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.cell)&&($offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$=this.getActualStartSize($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.cell),$handle$jscomp$13_s$$=this.view.scale,(0<$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.x||0<$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.width)&&
mxUtils.intersects($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$,new mxRectangle($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.x+($offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.x-$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.width-1)*$handle$jscomp$13_s$$+(0==$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.x?$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.width*$handle$jscomp$13_s$$:0),$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.y,1,$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.height))?
$cursor_handler$$="col-resize":(0<$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.y||0<$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.height)&&mxUtils.intersects($box$jscomp$1_handlerMap_parent$jscomp$12_sender$$,new mxRectangle($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.x,$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.y+($offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.y-$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.height-1)*$handle$jscomp$13_s$$+(0==$offset$jscomp$31_pts$jscomp$1_table$jscomp$6_tol$$.y?
$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.height:0),$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.width,1))&&($cursor_handler$$="row-resize")),$current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$=this.view.getState(this.model.getParent($current$jscomp$1_idx$jscomp$4_me$jscomp$12_row$$.cell))}null!=$cursor_handler$$&&$key$jscomp$42_state$$.setCursor($cursor_handler$$)}}}),mouseUp:mxUtils.bind(this,function($sender$$,$me$$){$JSCompiler_object_inline_handle_212$$=$JSCompiler_object_inline_point_209$$=
$JSCompiler_object_inline_event_210$$=$JSCompiler_object_inline_state_211$$=null})})}this.cellRenderer.minSvgStrokeWidth=.1;this.cellRenderer.getLabelValue=function($state$$){var $result$$=mxCellRenderer.prototype.getLabelValue.apply(this,arguments);$state$$.view.graph.isHtmlLabel($state$$.cell)&&(1!=$state$$.style.html?$result$$=mxUtils.htmlEntities($result$$,!1):($state$$.lastLabelValue!=$result$$&&($state$$.lastLabelValue=$result$$,$state$$.lastSanitizedLabelValue=Graph.sanitizeHtml($result$$)),
$result$$=$state$$.lastSanitizedLabelValue));return $result$$};if("undefined"!==typeof mxVertexHandler){this.setConnectable(!0);this.setDropEnabled(!0);this.setPanning(!0);this.setTooltips(!0);this.setAllowLoops(!0);this.allowAutoPanning=!0;this.constrainChildren=this.resetEdgesOnConnect=!1;this.constrainRelativeChildren=!0;this.graphHandler.scrollOnMove=!1;this.graphHandler.scaleGrid=!0;this.connectionHandler.setCreateTarget(!1);this.connectionHandler.insertBeforeSource=!0;this.connectionHandler.isValidSource=
function($cell$$,$me$$){return!1};this.alternateEdgeStyle="vertical";null==$stylesheet$$&&this.loadStylesheet();var $graphHandlerGetGuideStates$$=this.graphHandler.getGuideStates;this.graphHandler.getGuideStates=function(){var $result$$=$graphHandlerGetGuideStates$$.apply(this,arguments);if(this.graph.pageVisible){var $guides$$=[],$pf$jscomp$3_ph$$=this.graph.pageFormat,$ps$jscomp$3_t$$=this.graph.pageScale,$pw$$=$pf$jscomp$3_ph$$.width*$ps$jscomp$3_t$$;$pf$jscomp$3_ph$$=$pf$jscomp$3_ph$$.height*
$ps$jscomp$3_t$$;$ps$jscomp$3_t$$=this.graph.view.translate;for(var $s$$=this.graph.view.scale,$layout$$=this.graph.getPageLayout(),$i$jscomp$27_j$$=0;$i$jscomp$27_j$$<$layout$$.width;$i$jscomp$27_j$$++)$guides$$.push(new mxRectangle((($layout$$.x+$i$jscomp$27_j$$)*$pw$$+$ps$jscomp$3_t$$.x)*$s$$,($layout$$.y*$pf$jscomp$3_ph$$+$ps$jscomp$3_t$$.y)*$s$$,$pw$$*$s$$,$pf$jscomp$3_ph$$*$s$$));for($i$jscomp$27_j$$=1;$i$jscomp$27_j$$<$layout$$.height;$i$jscomp$27_j$$++)$guides$$.push(new mxRectangle(($layout$$.x*
$pw$$+$ps$jscomp$3_t$$.x)*$s$$,(($layout$$.y+$i$jscomp$27_j$$)*$pf$jscomp$3_ph$$+$ps$jscomp$3_t$$.y)*$s$$,$pw$$*$s$$,$pf$jscomp$3_ph$$*$s$$));$result$$=$guides$$.concat($result$$)}return $result$$};mxDragSource.prototype.dragElementZIndex=mxPopupMenu.prototype.zIndex;mxGuide.prototype.getGuideColor=function($state$$,$horizontal$$){return null==$state$$.cell?"#ffa500":mxConstants.GUIDE_COLOR};this.graphHandler.createPreviewShape=function($bounds$$){this.previewColor="#000000"==this.graph.background?
"#ffffff":mxGraphHandler.prototype.previewColor;return mxGraphHandler.prototype.createPreviewShape.apply(this,arguments)};var $graphHandlerGetCells$$=this.graphHandler.getCells;this.graphHandler.getCells=function($initialCell$$){for(var $cells$$=$graphHandlerGetCells$$.apply(this,arguments),$lookup$$=new mxDictionary,$newCells$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=this.graph.isTableCell($initialCell$$)&&this.graph.isTableCell($cells$$[$i$$])&&this.graph.isCellSelected($cells$$[$i$$])?
this.graph.model.getParent($cells$$[$i$$]):this.graph.isTableRow($initialCell$$)&&this.graph.isTableRow($cells$$[$i$$])&&this.graph.isCellSelected($cells$$[$i$$])?$cells$$[$i$$]:this.graph.getCompositeParent($cells$$[$i$$]);null==$cell$$||$lookup$$.get($cell$$)||($lookup$$.put($cell$$,!0),$newCells$$.push($cell$$))}return $newCells$$};var $graphHandlerStart$$=this.graphHandler.start;this.graphHandler.start=function($cell$$,$x$$,$y$$,$cells$$){var $ignoreParent$$=!1;this.graph.isTableCell($cell$$)&&
(this.graph.isCellSelected($cell$$)?$ignoreParent$$=!0:$cell$$=this.graph.model.getParent($cell$$));$ignoreParent$$||this.graph.isTableRow($cell$$)&&this.graph.isCellSelected($cell$$)||($cell$$=this.graph.getCompositeParent($cell$$));$graphHandlerStart$$.apply(this,arguments)};this.connectionHandler.createTargetVertex=function($evt$$,$source$$){$source$$=this.graph.getCompositeParent($source$$);return mxConnectionHandler.prototype.createTargetVertex.apply(this,arguments)};this.connectionHandler.insertEdge=
function($parent$$,$id$$,$value$$,$source$$,$target$$,$style$$){var $edge$$=mxConnectionHandler.prototype.insertEdge.apply(this,arguments);null!=$source$$&&this.graph.applyNewEdgeStyle($source$$,[$edge$$]);return $edge$$};var $rubberband$$=new mxRubberband(this);this.getRubberband=function(){return $rubberband$$};var $startTime$$=(new Date).getTime(),$timeOnTarget$$=0,$connectionHandlerMouseMove$$=this.connectionHandler.mouseMove;this.connectionHandler.mouseMove=function(){var $prev$$=this.currentState;
$connectionHandlerMouseMove$$.apply(this,arguments);$prev$$!=this.currentState?($startTime$$=(new Date).getTime(),$timeOnTarget$$=0):$timeOnTarget$$=(new Date).getTime()-$startTime$$};var $connectionHandleIsOutlineConnectEvent$$=this.connectionHandler.isOutlineConnectEvent;this.connectionHandler.isOutlineConnectEvent=function($me$$){return mxEvent.isShiftDown($me$$.getEvent())&&mxEvent.isAltDown($me$$.getEvent())?!1:null!=this.currentState&&$me$$.getState()==this.currentState&&2E3<$timeOnTarget$$||
(null==this.currentState||"0"!=mxUtils.getValue(this.currentState.style,"outlineConnect","1"))&&$connectionHandleIsOutlineConnectEvent$$.apply(this,arguments)};var $isToggleEvent$$=this.isToggleEvent;this.isToggleEvent=function($evt$$){return $isToggleEvent$$.apply(this,arguments)||!mxClient.IS_CHROMEOS&&mxEvent.isShiftDown($evt$$)};var $isForceRubberBandEvent$$=$rubberband$$.isForceRubberbandEvent;$rubberband$$.isForceRubberbandEvent=function($me$$){return $isForceRubberBandEvent$$.apply(this,arguments)||
mxClient.IS_CHROMEOS&&mxEvent.isShiftDown($me$$.getEvent())||mxUtils.hasScrollbars(this.graph.container)&&mxClient.IS_FF&&mxClient.IS_WIN&&null==$me$$.getState()&&mxEvent.isTouchEvent($me$$.getEvent())};var $prevCursor$$=null;this.panningHandler.addListener(mxEvent.PAN_START,mxUtils.bind(this,function(){this.isEnabled()&&($prevCursor$$=this.container.style.cursor,this.container.style.cursor="move")}));this.panningHandler.addListener(mxEvent.PAN_END,mxUtils.bind(this,function(){this.isEnabled()&&(this.container.style.cursor=
$prevCursor$$)}));this.popupMenuHandler.autoExpand=!0;this.popupMenuHandler.isSelectOnPopup=function($me$$){return mxEvent.isMouseEvent($me$$.getEvent())};var $click$$=this.click;this.click=function($me$$){var $locked$$=null==$me$$.state&&null!=$me$$.sourceState&&this.isCellLocked(this.getLayerForCell($me$$.sourceState.cell));if(this.isEnabled()&&!$locked$$||$me$$.isConsumed())return $click$$.apply(this,arguments);var $cell$$=$locked$$?$me$$.sourceState.cell:$me$$.getCell();if(null!=$cell$$){var $link$$=
this.getClickableLinkForCell($cell$$);null!=$link$$?this.isCustomLink($link$$)?this.customLinkClicked($link$$,$cell$$):this.openLink($link$$):$locked$$&&this.clearSelection()}};this.tooltipHandler.getStateForEvent=function($me$$){return $me$$.sourceState};var $tooltipHandlerShow$$=this.tooltipHandler.show;this.tooltipHandler.show=function(){$tooltipHandlerShow$$.apply(this,arguments);if(null!=this.div)for(var $links$$=this.div.getElementsByTagName("a"),$i$$=0;$i$$<$links$$.length;$i$$++)null!=$links$$[$i$$].getAttribute("href")&&
null==$links$$[$i$$].getAttribute("target")&&$links$$[$i$$].setAttribute("target","_blank")};this.tooltipHandler.getStateForEvent=function($me$$){return $me$$.sourceState};this.getCursorForMouseEvent=function($me$$){var $locked$$=null==$me$$.state&&null!=$me$$.sourceState&&this.isCellLocked($me$$.sourceState.cell);return this.getCursorForCell($locked$$?$me$$.sourceState.cell:$me$$.getCell())};var $getCursorForCell$$=this.getCursorForCell;this.getCursorForCell=function($cell$$){if(!this.isEnabled()||
this.isCellLocked($cell$$)){if(null!=this.getClickableLinkForCell($cell$$))return"pointer";if(this.isCellLocked($cell$$))return"default"}return $getCursorForCell$$.apply(this,arguments)};this.selectRegion=function($cells$jscomp$20_rect$$,$evt$$){var $i$$=mxEvent.isAltDown($evt$$)?$cells$jscomp$20_rect$$:null;$cells$jscomp$20_rect$$=this.getCells($cells$jscomp$20_rect$$.x,$cells$jscomp$20_rect$$.y,$cells$jscomp$20_rect$$.width,$cells$jscomp$20_rect$$.height,null,null,$i$$,null,!0);if(this.isToggleEvent($evt$$))for($i$$=
0;$i$$<$cells$jscomp$20_rect$$.length;$i$$++)this.selectCellForEvent($cells$jscomp$20_rect$$[$i$$],$evt$$);else this.selectCellsForEvent($cells$jscomp$20_rect$$,$evt$$);return $cells$jscomp$20_rect$$};var $graphHandlerShouldRemoveCellsFromParent$$=this.graphHandler.shouldRemoveCellsFromParent;this.graphHandler.shouldRemoveCellsFromParent=function($parent$$,$cells$$,$evt$$){return this.graph.isCellSelected($parent$$)?!1:$graphHandlerShouldRemoveCellsFromParent$$.apply(this,arguments)};var $graphUpdateMouseEvent$$=
this.updateMouseEvent;this.updateMouseEvent=function($me$$){$me$$=$graphUpdateMouseEvent$$.apply(this,arguments);null!=$me$$.state&&this.isCellLocked(this.getLayerForCell($me$$.getCell()))&&(null==this.getLinkForCell($me$$.getCell())?$me$$.state=this.view.getState(this.getCellAt($me$$.getGraphX(),$me$$.getGraphY(),null,null,null,mxUtils.bind(this,function($state$$,$x$$,$y$$){return $me$$.state==$state$$||this.isCellLocked(this.getLayerForCell($state$$.cell))&&null==this.getLinkForCell($state$$.cell)}))):
$me$$.state=null);return $me$$};var $graphIsCellSelectable$$=this.isCellSelectable;this.isCellSelectable=function($cell$$){return $graphIsCellSelectable$$.apply(this,arguments)&&!this.isCellLocked(this.getLayerForCell($cell$$))};this.isCellLocked=function($cell$$){for(;null!=$cell$$;){if("1"==mxUtils.getValue(this.getCurrentCellStyle($cell$$),"locked","0"))return!0;$cell$$=this.model.getParent($cell$$)}return!1};var $tapAndHoldSelection$$=null;this.addListener(mxEvent.FIRE_MOUSE_EVENT,mxUtils.bind(this,
function($sender$jscomp$24_state$$,$evt$$){"mouseDown"==$evt$$.getProperty("eventName")&&($sender$jscomp$24_state$$=$evt$$.getProperty("event").getState(),$tapAndHoldSelection$$=null==$sender$jscomp$24_state$$||this.isSelectionEmpty()||this.isCellSelected($sender$jscomp$24_state$$.cell)?null:this.getSelectionCells())}));this.addListener(mxEvent.TAP_AND_HOLD,mxUtils.bind(this,function($me$jscomp$24_pt$jscomp$5_sender$$,$evt$$){if(!mxEvent.isMultiTouchEvent($evt$$)){$me$jscomp$24_pt$jscomp$5_sender$$=
$evt$$.getProperty("event");var $cell$$=$evt$$.getProperty("cell");null==$cell$$?($me$jscomp$24_pt$jscomp$5_sender$$=mxUtils.convertPoint(this.container,mxEvent.getClientX($me$jscomp$24_pt$jscomp$5_sender$$),mxEvent.getClientY($me$jscomp$24_pt$jscomp$5_sender$$)),$rubberband$$.start($me$jscomp$24_pt$jscomp$5_sender$$.x,$me$jscomp$24_pt$jscomp$5_sender$$.y)):null!=$tapAndHoldSelection$$?this.addSelectionCells($tapAndHoldSelection$$):1<this.getSelectionCount()&&this.isCellSelected($cell$$)&&this.removeSelectionCell($cell$$);
$tapAndHoldSelection$$=null;$evt$$.consume()}}));this.connectionHandler.selectCells=function($edge$$,$target$$){this.graph.setSelectionCell($target$$||$edge$$)};this.connectionHandler.constraintHandler.isStateIgnored=function($state$$,$source$$){var $graph$$=$state$$.view.graph;return $source$$&&($graph$$.isCellSelected($state$$.cell)||$graph$$.isTableRow($state$$.cell)&&$graph$$.selectionCellsHandler.isHandled($graph$$.model.getParent($state$$.cell)))};this.selectionModel.addListener(mxEvent.CHANGE,
mxUtils.bind(this,function(){var $ch$$=this.connectionHandler.constraintHandler;null!=$ch$$.currentFocus&&$ch$$.isStateIgnored($ch$$.currentFocus,!0)&&($ch$$.currentFocus=null,$ch$$.constraints=null,$ch$$.destroyIcons());$ch$$.destroyFocusHighlight()}));Graph.touchStyle&&this.initTouch()}this.currentTranslate=new mxPoint(0,0)};Graph.touchStyle=mxClient.IS_TOUCH||mxClient.IS_FF&&mxClient.IS_WIN||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints||null==window.urlParams||"1"==urlParams.touch;
Graph.fileSupport=null!=window.File&&null!=window.FileReader&&null!=window.FileList&&(null==window.urlParams||"0"!=urlParams.filesupport);Graph.translateDiagram="1"==urlParams["translate-diagram"];Graph.diagramLanguage=null!=urlParams["diagram-language"]?urlParams["diagram-language"]:mxClient.language;Graph.lineJumpsEnabled=!0;Graph.defaultJumpSize=6;Graph.zoomWheel=!1;Graph.selectParentLayer=!1;Graph.minTableColumnWidth=20;Graph.minTableRowHeight=20;Graph.foreignObjectWarningText="Text is not SVG - cannot display";
Graph.foreignObjectWarningLink="https://www.drawio.com/doc/faq/svg-export-text-problems";Graph.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>';Graph.svgDoctype='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';Graph.svgFileComment="\x3c!-- Do not edit this file with editors other than draw.io --\x3e";Graph.textStyles="fontFamily fontSource fontSize fontColor fontStyle textOpacity labelBorderColor labelBackgroundColor".split(" ");
Graph.edgeStyles="edgeStyle elbow jumpStyle jumpSize startArrow startFill startSize endArrow endFill endSize flowAnimation sourcePerimeterSpacing targetPerimeterSpacing curved".split(" ");Graph.cellStyleGroups=[["startArrow","startFill","endArrow","endFill"],["startSize","endSize"],["sourcePerimeterSpacing","targetPerimeterSpacing"],["fillColor","gradientColor","gradientDirection"]];
Graph.cellStyles=mxUtils.addItems(mxUtils.addItems(mxUtils.addItems("rounded shadow glass dashed dashPattern comic sketch fillWeight hachureGap hachureAngle jiggle disableMultiStroke disableMultiStrokeFill fillStyle curveFitting simplification sketchStyle pointerEvents opacity strokeColor strokeWidth align verticalAlign spacingLeft spacingRight spacingTop spacingBottom spacing arcSize comicStyle swimlaneFillColor shadowOffsetX shadowOffsetY shadowBlur shadowColor shadowOpacity".split(" "),Graph.textStyles),
Graph.edgeStyles),Graph.cellStyleGroups);Graph.layoutNames="mxHierarchicalLayout mxCircleLayout mxCompactTreeLayout mxEdgeLabelLayout mxFastOrganicLayout mxParallelEdgeLayout mxPartitionLayout mxRadialTreeLayout mxStackLayout".split(" ");
Graph.createOffscreenGraph=function($stylesheet$$){var $graph$$=new Graph(document.createElement("div"));$graph$$.stylesheet.styles=mxUtils.clone($stylesheet$$.styles);$graph$$.resetViewOnRootChange=!1;$graph$$.setConnectable(!1);$graph$$.gridEnabled=!1;$graph$$.autoScroll=!1;$graph$$.setTooltips(!1);$graph$$.setEnabled(!1);$graph$$.container.style.visibility="hidden";$graph$$.container.style.position="absolute";$graph$$.container.style.overflow="hidden";$graph$$.container.style.height="1px";$graph$$.container.style.width=
"1px";return $graph$$};
Graph.createSvgImage=function($w$$,$h$$,$data$jscomp$91_tmp$$,$coordWidth$$,$coordHeight$$){$data$jscomp$91_tmp$$=unescape(encodeURIComponent(Graph.svgDoctype+'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+$w$$+'px" height="'+$h$$+'px" '+(null!=$coordWidth$$&&null!=$coordHeight$$?'viewBox="0 0 '+$coordWidth$$+" "+$coordHeight$$+'" ':"")+'version="1.1">'+$data$jscomp$91_tmp$$+"</svg>"));return new mxImage("data:image/svg+xml;base64,"+(window.btoa?btoa($data$jscomp$91_tmp$$):
Base64.encode($data$jscomp$91_tmp$$,!0)),$w$$,$h$$)};Graph.createSvgDarkModeCss=function($cssClass$$){$cssClass$$=null!=$cssClass$$?"."+$cssClass$$:"";return"svg"+$cssClass$$+" { filter: invert(100%) hue-rotate(180deg); }\nsvg"+$cssClass$$+" foreignObject img,\nsvg"+$cssClass$$+" image:not(svg"+$cssClass$$+" switch image),\nsvg"+$cssClass$$+" svg { filter: invert(100%) hue-rotate(180deg) }"};
Graph.createSvgDarkModeStyle=function($svgDoc$$,$theme$$,$cssClass$$,$bg$$){var $style$$=mxUtils.createElementNs($svgDoc$$,mxConstants.NS_SVG,"style");null!=$svgDoc$$.setAttributeNS?$style$$.setAttributeNS("type","text/css"):$style$$.setAttribute("type","text/css");var $css$$=Graph.createSvgDarkModeCss($cssClass$$);"auto"==$theme$$&&($css$$="@media (prefers-color-scheme: dark) {\n"+$css$$+"\n",null!=$bg$$&&($css$$+="svg"+(null!=$cssClass$$?"."+$cssClass$$:"")+" { background-color: "+Graph.invertColor($bg$$)+
" !important; }\n"),$css$$+="}");$style$$.appendChild($svgDoc$$.createTextNode($css$$));return $style$$};
Graph.invertColor=function($imgData_value$$,$canvas$jscomp$3_ctx$$){null==$canvas$jscomp$3_ctx$$&&($canvas$jscomp$3_ctx$$=document.createElement("canvas"),$canvas$jscomp$3_ctx$$.width=1,$canvas$jscomp$3_ctx$$.height=1,$canvas$jscomp$3_ctx$$=$canvas$jscomp$3_ctx$$.getContext("2d"),$canvas$jscomp$3_ctx$$.filter="invert(100%) hue-rotate(180deg)");$canvas$jscomp$3_ctx$$.fillStyle=$imgData_value$$;$canvas$jscomp$3_ctx$$.fillRect(0,0,1,1);$imgData_value$$=$canvas$jscomp$3_ctx$$.getImageData(0,0,1,1);return"#"+
(16777216|$imgData_value$$.data[2]|$imgData_value$$.data[1]<<8|$imgData_value$$.data[0]<<16).toString(16).substring(1)};Graph.getSvgFromDataUri=function($uri$$){return null!=$uri$$&&"data:image/svg"==$uri$$.substring(0,14)?Graph.xmlDeclaration+"\n"+Graph.svgDoctype+"\n"+decodeURIComponent(escape(atob($uri$$.substring($uri$$.indexOf(",")+1)))):null};
Graph.createSvgNode=function($x$$,$y$$,$w$$,$h$$,$background$$){var $svgDoc$$=mxUtils.createXmlDocument(),$root$$=null!=$svgDoc$$.createElementNS?$svgDoc$$.createElementNS(mxConstants.NS_SVG,"svg"):$svgDoc$$.createElement("svg");null!=$background$$&&(null!=$root$$.style?$root$$.style.backgroundColor=$background$$:$root$$.setAttribute("style","background-color:"+$background$$));null==$svgDoc$$.createElementNS?($root$$.setAttribute("xmlns",mxConstants.NS_SVG),$root$$.setAttribute("xmlns:xlink",mxConstants.NS_XLINK)):
$root$$.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",mxConstants.NS_XLINK);$root$$.setAttribute("version","1.1");$root$$.setAttribute("width",$w$$+"px");$root$$.setAttribute("height",$h$$+"px");$root$$.setAttribute("viewBox",$x$$+" "+$y$$+" "+$w$$+" "+$h$$);$svgDoc$$.appendChild($root$$);return $root$$};
Graph.htmlToPng=function($html$$,$w$$,$h$$,$fn$$,$css$$,$scale$$){$css$$=null!=$css$$?$css$$:"";$scale$$=null!=$scale$$?$scale$$:Editor.htmlRasterScale;var $canvas$$=document.createElement("canvas");$canvas$$.width=$w$$*$scale$$;$canvas$$.height=$h$$*$scale$$;var $img$$=document.createElement("img");$img$$.onload=mxUtils.bind(this,function(){try{var $ctx$$=$canvas$$.getContext("2d");$ctx$$.scale($scale$$,$scale$$);$ctx$$.drawImage($img$$,0,0);$fn$$($canvas$$.toDataURL())}catch($e$$){$fn$$(null)}});
var $root$jscomp$5_svgDoc$$=mxUtils.createXmlDocument();$root$jscomp$5_svgDoc$$=null!=$root$jscomp$5_svgDoc$$.createElementNS?$root$jscomp$5_svgDoc$$.createElementNS(mxConstants.NS_SVG,"svg"):$root$jscomp$5_svgDoc$$.createElement("svg");$html$$=(new mxSvgCanvas2D($root$jscomp$5_svgDoc$$)).convertHtml($html$$);$img$$.onerror=function($err$$){$fn$$(null)};$img$$.src="data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="'+$w$$+'" height="'+$h$$+'">'+(""!=$css$$?'<defs xmlns="http://www.w3.org/2000/svg"><style type="text/css">'+
$css$$+"</style></defs>":"")+'<foreignObject width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml">'+$html$$+"</div></foreignObject></svg>")};
Graph.zapGremlins=function($text$$){for(var $lastIndex$$=0,$checked$$=[],$i$$=0;$i$$<$text$$.length;$i$$++){var $code$$=$text$$.charCodeAt($i$$);(32<=$code$$||9==$code$$||10==$code$$||13==$code$$)&&65535!=$code$$&&65534!=$code$$||($checked$$.push($text$$.substring($lastIndex$$,$i$$)),$lastIndex$$=$i$$+1)}0<$lastIndex$$&&$lastIndex$$<$text$$.length&&$checked$$.push($text$$.substring($lastIndex$$));return 0==$checked$$.length?$text$$:$checked$$.join("")};
Graph.stringToBytes=function($str$$){for(var $arr$$=Array($str$$.length),$i$$=0;$i$$<$str$$.length;$i$$++)$arr$$[$i$$]=$str$$.charCodeAt($i$$);return $arr$$};Graph.bytesToString=function($arr$$){for(var $result$$=Array($arr$$.length),$i$$=0;$i$$<$arr$$.length;$i$$++)$result$$[$i$$]=String.fromCharCode($arr$$[$i$$]);return $result$$.join("")};
Graph.base64EncodeUnicode=function($str$$){return btoa(encodeURIComponent($str$$).replace(/%([0-9A-F]{2})/g,function($match$$,$p1$$){return String.fromCharCode(parseInt($p1$$,16))}))};Graph.base64DecodeUnicode=function($str$$){return decodeURIComponent(Array.prototype.map.call(atob($str$$),function($c$$){return"%"+("00"+$c$$.charCodeAt(0).toString(16)).slice(-2)}).join(""))};
Graph.compressNode=function($node$jscomp$14_xml$$,$checked$$){$node$jscomp$14_xml$$=mxUtils.getXml($node$jscomp$14_xml$$);return Graph.compress($checked$$?$node$jscomp$14_xml$$:Graph.zapGremlins($node$jscomp$14_xml$$))};
Graph.arrayBufferToString=function($buffer$jscomp$16_bytes$$){var $binary$$="";$buffer$jscomp$16_bytes$$=new Uint8Array($buffer$jscomp$16_bytes$$);for(var $len$$=$buffer$jscomp$16_bytes$$.byteLength,$i$$=0;$i$$<$len$$;$i$$++)$binary$$+=String.fromCharCode($buffer$jscomp$16_bytes$$[$i$$]);return $binary$$};Graph.stringToArrayBuffer=function($data$$){return Uint8Array.from($data$$,function($c$$){return $c$$.charCodeAt(0)})};
Graph.arrayBufferIndexOfString=function($uint8Array$$,$str$$,$i$jscomp$35_start$$){var $c0$$=$str$$.charCodeAt(0),$j$$=1,$p$$=-1;for($i$jscomp$35_start$$=$i$jscomp$35_start$$||0;$i$jscomp$35_start$$<$uint8Array$$.byteLength;$i$jscomp$35_start$$++)if($uint8Array$$[$i$jscomp$35_start$$]==$c0$$){$p$$=$i$jscomp$35_start$$;break}for($i$jscomp$35_start$$=$p$$+1;-1<$p$$&&$i$jscomp$35_start$$<$uint8Array$$.byteLength&&$i$jscomp$35_start$$<$p$$+$str$$.length-1;$i$jscomp$35_start$$++){if($uint8Array$$[$i$jscomp$35_start$$]!=
$str$$.charCodeAt($j$$))return Graph.arrayBufferIndexOfString($uint8Array$$,$str$$,$p$$+1);$j$$++}return $j$$==$str$$.length-1?$p$$:-1};Graph.compress=function($data$jscomp$93_tmp$$,$deflate$$){if(null==$data$jscomp$93_tmp$$||0==$data$jscomp$93_tmp$$.length||"undefined"===typeof pako)return $data$jscomp$93_tmp$$;$data$jscomp$93_tmp$$=$deflate$$?pako.deflate(encodeURIComponent($data$jscomp$93_tmp$$)):pako.deflateRaw(encodeURIComponent($data$jscomp$93_tmp$$));return btoa(Graph.arrayBufferToString(new Uint8Array($data$jscomp$93_tmp$$)))};
Graph.decompress=function($data$jscomp$94_tmp$$,$inflate_inflated$$,$checked$$){if(null==$data$jscomp$94_tmp$$||0==$data$jscomp$94_tmp$$.length||"undefined"===typeof pako)return $data$jscomp$94_tmp$$;$data$jscomp$94_tmp$$=Graph.stringToArrayBuffer(atob($data$jscomp$94_tmp$$));$inflate_inflated$$=decodeURIComponent($inflate_inflated$$?pako.inflate($data$jscomp$94_tmp$$,{to:"string"}):pako.inflateRaw($data$jscomp$94_tmp$$,{to:"string"}));return $checked$$?$inflate_inflated$$:Graph.zapGremlins($inflate_inflated$$)};
Graph.fadeNodes=function($nodes$$,$start$$,$end$$,$done$$,$delay$$){$delay$$=null!=$delay$$?$delay$$:1E3;Graph.setTransitionForNodes($nodes$$,null);Graph.setOpacityForNodes($nodes$$,$start$$);window.setTimeout(function(){Graph.setTransitionForNodes($nodes$$,"all "+$delay$$+"ms ease-in-out");Graph.setOpacityForNodes($nodes$$,$end$$);window.setTimeout(function(){Graph.setTransitionForNodes($nodes$$,null);null!=$done$$&&$done$$()},$delay$$)},0)};
Graph.exploreFromCell=function($sourceGraph$$,$selectionCell$$,$config$$){pageSize=null!=$config$$&&null!=$config$$.pageSize?$config$$.pageSize:8;minSize=null!=$config$$&&null!=$config$$.minSize?$config$$.minSize:180;(function($sourceGraph$$,$selectionCell$$){function $load$$($graph$$,$cell$$){if($graph$$.getModel().isVertex($cell$$)){var $cx$jscomp$6_i$$=$graph$$.container.scrollWidth/2,$cy$$=$graph$$.container.scrollHeight/2;$graph$$.rootCell=$cell$$.referenceCell||$cell$$;$graph$$.getModel().beginUpdate();
try{for(var $realCell$$=$cell$$.referenceCell||$cell$$,$sourceCell$$=$sourceGraph$$.model.getCell($realCell$$.sourceCellId),$edges$$=$sourceGraph$$.getEdges($sourceCell$$,null,!0,!0,!1,!0),$cells$jscomp$inline_66_validEdges$$=[],$i$$=0;$i$$<$edges$$.length;$i$$++)null!=$edges$$[$i$$].getTerminal(!0)&&null!=$edges$$[$i$$].getTerminal(!1)&&$cells$jscomp$inline_66_validEdges$$.push($edges$$[$i$$]);$cells$jscomp$inline_66_validEdges$$=$edges$$=$cells$jscomp$inline_66_validEdges$$;if(null!=$cell$$.startIndex||
0<pageSize&&$edges$$.length>pageSize){var $start$$=$cell$$.startIndex||0;$cells$jscomp$inline_66_validEdges$$=$edges$$.slice(Math.max(0,$start$$),Math.min($edges$$.length,$start$$+pageSize))}$cells$jscomp$inline_66_validEdges$$=$cells$jscomp$inline_66_validEdges$$.concat($sourceGraph$$.getOpposites($cells$jscomp$inline_66_validEdges$$,$sourceCell$$));var $clones$$=$graph$$.cloneCells($cells$jscomp$inline_66_validEdges$$);for($i$$=0;$i$$<$cells$jscomp$inline_66_validEdges$$.length;$i$$++)$clones$$[$i$$].sourceCellId=
$cells$jscomp$inline_66_validEdges$$[$i$$].id,$graph$$.model.isEdge($clones$$[$i$$])&&($clones$$[$i$$].geometry.x=0,$clones$$[$i$$].geometry.y=0,$clones$$[$i$$].geometry.points=null,$clones$$[$i$$].setStyle($clones$$[$i$$].getStyle()+";curved=1;noEdgeStyle=1;entryX=none;entryY=none;exitX=none;exitY=none;"),$clones$$[$i$$].setTerminal($realCell$$,null==$clones$$[$i$$].getTerminal(!0)));if(0<$cell$$.startIndex){var $backCell$$=$graph$$.createVertex(null,null,mxResources.get("previousPage")+"...",0,
0,100,30,"fillColor=green;fontColor=white;strokeColor=green;rounded=1;");$backCell$$.referenceCell=$realCell$$;$backCell$$.startIndex=Math.max(0,($cell$$.startIndex||0)-pageSize);$clones$$.splice(0,0,$backCell$$)}if($edges$$.length>($cell$$.startIndex||0)+pageSize){var $moreCell$$=$graph$$.createVertex(null,null,mxResources.get("nextPage")+"...",0,0,100,30,"fillColor=green;fontColor=white;strokeColor=green;rounded=1;");$moreCell$$.referenceCell=$realCell$$;$moreCell$$.startIndex=($cell$$.startIndex||
0)+pageSize;$clones$$.splice(0,0,$moreCell$$)}for(var $key$$ in $graph$$.getModel().cells){var $tmp$$=$graph$$.getModel().getCell($key$$);$tmp$$!=$graph$$.rootCell&&!$graph$$.getModel().isAncestor($graph$$.rootCell,$tmp$$)&&$graph$$.getModel().isVertex($tmp$$)&&$graph$$.removeCells([$tmp$$])}$graph$$.addCells($clones$$);var $geo$$=$graph$$.getModel().getGeometry($graph$$.rootCell);null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.x=$cx$jscomp$6_i$$-$geo$$.width/2,$geo$$.y=$cy$$-$geo$$.height/3,$graph$$.getModel().setGeometry($graph$$.rootCell,
$geo$$));$cell$$=[];for($key$$ in $graph$$.getModel().cells)$tmp$$=$graph$$.getModel().getCell($key$$),$tmp$$!=$graph$$.rootCell&&$graph$$.getModel().isVertex($tmp$$)&&$graph$$.getModel().getParent($tmp$$)==$graph$$.getDefaultParent()&&($cell$$.push($tmp$$),$geo$$=$graph$$.getModel().getGeometry($tmp$$),null!=$geo$$&&($geo$$.x=$cx$jscomp$6_i$$-$geo$$.width/2,$geo$$.y=$cy$$-$geo$$.height/2));var $cellCount$$=$cell$$.length,$phi$$=2*Math.PI/$cellCount$$,$r$$=Math.max(minSize,Math.min($graph$$.container.scrollWidth/
3-80,$graph$$.container.scrollHeight/3-80));for($cx$jscomp$6_i$$=0;$cx$jscomp$6_i$$<$cellCount$$;$cx$jscomp$6_i$$++)$geo$$=$graph$$.getModel().getGeometry($cell$$[$cx$jscomp$6_i$$]),null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.x+=$r$$*Math.sin($cx$jscomp$6_i$$*$phi$$),$geo$$.y+=$r$$*Math.cos($cx$jscomp$6_i$$*$phi$$),$graph$$.getModel().setGeometry($cell$$[$cx$jscomp$6_i$$],$geo$$));var $layout$$=new mxParallelEdgeLayout($graph$$);$layout$$.spacing=60;$layout$$.execute($graph$$.getDefaultParent())}finally{$graph$$.getModel().endUpdate()}}}
var $container$jscomp$0$$=document.createElement("div");$container$jscomp$0$$.style.position="absolute";$container$jscomp$0$$.style.display="block";$container$jscomp$0$$.style.background=Editor.isDarkMode()?Editor.darkColor:"#ffffff";$container$jscomp$0$$.style.width="100%";$container$jscomp$0$$.style.height="100%";$container$jscomp$0$$.style.left="0px";$container$jscomp$0$$.style.top="0px";$container$jscomp$0$$.style.zIndex=2;var $deleteImage$$=document.createElement("img");$deleteImage$$.setAttribute("src",
Editor.closeBlackImage);$deleteImage$$.style.position="absolute";$deleteImage$$.style.cursor="pointer";$deleteImage$$.style.right="10px";$deleteImage$$.style.top="10px";$container$jscomp$0$$.appendChild($deleteImage$$);var $closeLabel$$=document.createElement("div");$closeLabel$$.style.position="absolute";$closeLabel$$.style.cursor="pointer";$closeLabel$$.style.right="38px";$closeLabel$$.style.top="14px";$closeLabel$$.style.textAlign="right";$closeLabel$$.style.verticalAlign="top";mxUtils.write($closeLabel$$,
mxResources.get("close"));$container$jscomp$0$$.appendChild($closeLabel$$);document.body.appendChild($container$jscomp$0$$);var $keyHandler$$=function($evt$$){27==$evt$$.keyCode&&$deleteImage$$.click()};mxEvent.addListener(document,"keydown",$keyHandler$$);(function($container$$){if(mxClient.isBrowserSupported()){var $graph$$=new Graph($container$$);$graph$$.keepEdgesInBackground=!0;$graph$$.isCellResizable=function(){return!1};$graph$$.isCellRotatable=function(){return!1};$graph$$.getCursorForCell=
function($cell$$){return this.model.isVertex($cell$$)?"pointer":null};$graph$$.getFoldingImage=function(){return null};var $closeHandler_cx$$=function(){mxEvent.removeListener(document,"keydown",$keyHandler$$);$container$$.parentNode.removeChild($container$$);$sourceGraph$$.scrollCellToVisible($selectionCell$$)};mxEvent.addListener($deleteImage$$,"click",$closeHandler_cx$$);mxEvent.addListener($closeLabel$$,"click",$closeHandler_cx$$);$graph$$.setEnabled(!1);var $graphClick$$=$graph$$.click;$graph$$.click=
function($me$$){var $cell$$=$me$$.getCell(),$realCell$$=null!=$cell$$?null!=$cell$$.referenceCell?$cell$$.referenceCell:$cell$$:null;null!=$cell$$&&$graph$$.rootCell!=$cell$$&&0<$graph$$.getEdges($realCell$$).length?$load$$($graph$$,$cell$$):$graphClick$$.apply(this,arguments)};console.log("graph",$graph$$);$closeHandler_cx$$=$graph$$.container.scrollWidth/2;var $cy$$=$graph$$.container.scrollHeight/3;$graph$$.model.beginUpdate();var $cell$jscomp$0$$=$graph$$.importCells([$selectionCell$$])[0];$cell$jscomp$0$$.sourceCellId=
$selectionCell$$.id;$cell$jscomp$0$$.geometry.x=$closeHandler_cx$$-$cell$jscomp$0$$.geometry.width/2;$cell$jscomp$0$$.geometry.y=$cy$$-$cell$jscomp$0$$.geometry.height/2;$graph$$.model.endUpdate();$graph$$.getModel().addListener(mxEvent.CHANGE,function($changes_sender$$,$evt$$){$changes_sender$$=$evt$$.getProperty("edit").changes;mxText.prototype.enableBoundingBox=!1;$graph$$.labelsVisible=!1;mxEffects.animateChanges($graph$$,$changes_sender$$,function(){mxText.prototype.enableBoundingBox=!0;$graph$$.labelsVisible=
!0;$graph$$.tooltipHandler.hide();$graph$$.refresh()})});$load$$($graph$$,$cell$jscomp$0$$)}else mxUtils.error("Browser is not supported!",200,!1)})($container$jscomp$0$$)})($sourceGraph$$,$selectionCell$$)};Graph.removeKeys=function($map$$,$ignoreFn$$){for(var $key$$ in $map$$)$ignoreFn$$($key$$)&&delete $map$$[$key$$]};Graph.setTransitionForNodes=function($nodes$$,$transition$$){for(var $i$$=0;$i$$<$nodes$$.length;$i$$++)mxUtils.setPrefixedStyle($nodes$$[$i$$].style,"transition",$transition$$)};
Graph.setOpacityForNodes=function($nodes$$,$opacity$$){for(var $i$$=0;$i$$<$nodes$$.length;$i$$++)$nodes$$[$i$$].style.opacity=$opacity$$};
Graph.removePasteFormatting=function($elt$$,$ignoreTabs$$){for(;null!=$elt$$;){null!=$elt$$.firstChild&&Graph.removePasteFormatting($elt$$.firstChild,!0);var $next$$=$elt$$.nextSibling;if($elt$$.nodeType==mxConstants.NODETYPE_ELEMENT&&null!=$elt$$.style){"#000000"==$elt$$.style.color&&($elt$$.style.color="");if("SPAN"==$elt$$.nodeName&&"Apple-tab-span"==$elt$$.className){var $tabNode_temp$$=Graph.createTabNode(4);$elt$$.parentNode.replaceChild($tabNode_temp$$,$elt$$);$elt$$=$tabNode_temp$$}if("P"==
$elt$$.nodeName&&"p1"==$elt$$.className){for(;null!=$elt$$.firstChild;)$elt$$.parentNode.insertBefore($elt$$.firstChild,$elt$$);null!=$next$$&&"P"==$next$$.nodeName&&"p1"==$next$$.className&&$elt$$.parentNode.insertBefore($elt$$.ownerDocument.createElement("br"),$elt$$);$elt$$.parentNode.removeChild($elt$$)}!$ignoreTabs$$&&null!=$elt$$.innerHTML&&0<=$elt$$.innerHTML.indexOf("\t")&&($tabNode_temp$$=Graph.createTabNode(4),$elt$$.innerHTML=$elt$$.innerHTML.replace(/\t/g,$tabNode_temp$$.outerHTML))}$elt$$=
$next$$}};Graph.createTabNode=function($spaces_tabNode$$){var $str$$="\t";if(null!=$spaces_tabNode$$)for($str$$="";0<$spaces_tabNode$$;)$str$$+="",$spaces_tabNode$$--;$spaces_tabNode$$=document.createElement("span");$spaces_tabNode$$.style.whiteSpace="pre";$spaces_tabNode$$.appendChild(document.createTextNode($str$$));return $spaces_tabNode$$};Graph.sanitizeHtml=function($value$$,$editing$$){return Graph.domPurify($value$$,!1)};
Graph.sanitizeLink=function($href$$){if(null==$href$$)return null;var $a$$=document.createElement("a");$a$$.setAttribute("href",$href$$);Graph.sanitizeNode($a$$);return $a$$.getAttribute("href")};Graph.sanitizeNode=function($value$$){return Graph.domPurify($value$$,!0)};
DOMPurify.addHook("afterSanitizeAttributes",function($node$$){"use"==$node$$.nodeName&&(null!=$node$$.getAttribute("xlink:href")&&!$node$$.getAttribute("xlink:href").startsWith("#")||null!=$node$$.getAttribute("href")&&!$node$$.getAttribute("href").startsWith("#"))&&$node$$.remove()});DOMPurify.addHook("uponSanitizeAttribute",function($node$$,$evt$$){"svg"==$node$$.nodeName&&"content"==$evt$$.attrName&&($evt$$.forceKeepAttr=!0);return $node$$});
Graph.domPurify=function($value$$,$inPlace$$){window.DOM_PURIFY_CONFIG.IN_PLACE=$inPlace$$;return DOMPurify.sanitize($value$$,window.DOM_PURIFY_CONFIG)};
Graph.clipSvgDataUri=function($dataUri$$,$fx_ignorePreserveAspect$$){if(!mxClient.IS_IE&&!mxClient.IS_IE11&&null!=$dataUri$$&&"data:image/svg+xml;base64,"==$dataUri$$.substring(0,26))try{var $div$$=document.createElement("div");$div$$.style.position="absolute";$div$$.style.visibility="hidden";var $data$$=decodeURIComponent(escape(atob($dataUri$$.substring(26)))),$idx$$=$data$$.indexOf("<svg");if(0<=$idx$$){$div$$.innerHTML=Graph.sanitizeHtml($data$$.substring($idx$$));var $svgs$$=$div$$.getElementsByTagName("svg");
if(0<$svgs$$.length){if($fx_ignorePreserveAspect$$||null!=$svgs$$[0].getAttribute("preserveAspectRatio")){document.body.appendChild($div$$);try{$data$$=$fx_ignorePreserveAspect$$=1;var $w$$=$svgs$$[0].getAttribute("width"),$h$$=$svgs$$[0].getAttribute("height");$w$$=null!=$w$$&&"%"!=$w$$.charAt($w$$.length-1)?parseFloat($w$$):NaN;$h$$=null!=$h$$&&"%"!=$h$$.charAt($h$$.length-1)?parseFloat($h$$):NaN;var $vb$$=$svgs$$[0].getAttribute("viewBox");if(null!=$vb$$&&!isNaN($w$$)&&!isNaN($h$$)){var $tokens$$=
$vb$$.split(" ");4<=$vb$$.length&&($fx_ignorePreserveAspect$$=parseFloat($tokens$$[2])/$w$$,$data$$=parseFloat($tokens$$[3])/$h$$)}var $size$$=$svgs$$[0].getBBox();0<$size$$.width&&0<$size$$.height&&($div$$.getElementsByTagName("svg")[0].setAttribute("viewBox",$size$$.x+" "+$size$$.y+" "+$size$$.width+" "+$size$$.height),$div$$.getElementsByTagName("svg")[0].setAttribute("width",$size$$.width/$fx_ignorePreserveAspect$$),$div$$.getElementsByTagName("svg")[0].setAttribute("height",$size$$.height/$data$$))}catch($e$$){}finally{document.body.removeChild($div$$)}}$dataUri$$=
Editor.createSvgDataUri(mxUtils.getXml($svgs$$[0]))}}}catch($e$5$$){}return $dataUri$$};Graph.stripQuotes=function($text$$){null!=$text$$&&("'"==$text$$.charAt(0)&&($text$$=$text$$.substring(1)),"'"==$text$$.charAt($text$$.length-1)&&($text$$=$text$$.substring(0,$text$$.length-1)),'"'==$text$$.charAt(0)&&($text$$=$text$$.substring(1)),'"'==$text$$.charAt($text$$.length-1)&&($text$$=$text$$.substring(0,$text$$.length-1)));return $text$$};
Graph.createRemoveIcon=function($title$$,$onclick$$){var $removeLink$$=document.createElement("img");$removeLink$$.setAttribute("src",Dialog.prototype.clearImage);$removeLink$$.setAttribute("title",$title$$);$removeLink$$.setAttribute("width","13");$removeLink$$.setAttribute("height","10");$removeLink$$.style.marginLeft="4px";$removeLink$$.style.marginBottom="-1px";$removeLink$$.style.cursor="pointer";mxEvent.addListener($removeLink$$,"click",$onclick$$);return $removeLink$$};
Graph.isPageLink=function($text$$){return null!=$text$$&&"data:page/id,"==$text$$.substring(0,13)};
Graph.rewritePageLinks=function($doc$jscomp$2_links$$){function $rewriteLink$$($link$$,$attrib$$){var $href$$=$link$$.getAttribute($attrib$$);null!=$href$$&&Graph.isPageLink($href$$)&&$link$$.setAttribute($attrib$$,"#"+$href$$.substring($href$$.indexOf(":")+1))}$doc$jscomp$2_links$$=$doc$jscomp$2_links$$.getElementsByTagName("a");if(null!=$doc$jscomp$2_links$$)for(var $i$$=0;$i$$<$doc$jscomp$2_links$$.length;$i$$++)$rewriteLink$$($doc$jscomp$2_links$$[$i$$],"href"),$rewriteLink$$($doc$jscomp$2_links$$[$i$$],
"xlink:href")};Graph.isLink=function($text$$){return null!=$text$$&&Graph.linkPattern.test($text$$)};Graph.linkPattern=RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");mxUtils.extend(Graph,mxGraph);Graph.prototype.minFitScale=null;Graph.prototype.maxFitScale=null;Graph.prototype.linkPolicy="frame"==urlParams.target?"blank":urlParams.target||"auto";
Graph.prototype.linkTarget="frame"==urlParams.target?"_self":"_blank";Graph.prototype.linkRelation="nofollow noopener noreferrer";Graph.prototype.defaultScrollbars=!0;Graph.prototype.defaultPageVisible=!0;Graph.prototype.defaultGridEnabled="0"!=urlParams.grid;Graph.prototype.lightbox=!1;Graph.prototype.defaultPageBackgroundColor="#ffffff";Graph.prototype.diagramBackgroundColor="#f0f0f0";Graph.prototype.enableDiagramBackground=!1;Graph.prototype.defaultPageBorderColor="#ffffff";
Graph.prototype.shapeForegroundColor="#000000";Graph.prototype.shapeBackgroundColor="#ffffff";Graph.prototype.scrollTileSize=new mxRectangle(0,0,400,400);Graph.prototype.transparentBackground=!0;Graph.prototype.selectParentAfterDelete=!1;Graph.prototype.defaultEdgeLength=80;Graph.prototype.immediateHandling=!0;Graph.prototype.connectionArrowsEnabled=!0;Graph.prototype.placeholderPattern=RegExp("%(date{.*}|[^%^{^}^ ^\"^ '^=^;]+)%","g");Graph.prototype.absoluteUrlPattern=RegExp("^(?:[a-z]+:)?//","i");
Graph.prototype.defaultThemeName="default";Graph.prototype.defaultThemes={};Graph.prototype.baseUrl=null!=urlParams.base?mxUtils.removeJavascriptProtocol(decodeURIComponent(urlParams.base)):(window!=window.top?document.referrer:document.location.toString()).split("#")[0];Graph.prototype.editAfterInsert=!1;Graph.prototype.builtInProperties=["label","tooltip","placeholders","placeholder"];Graph.prototype.standalone=!1;Graph.prototype.enableFlowAnimation=!1;Graph.prototype.roundableShapes="label rectangle internalStorage corner parallelogram swimlane triangle trapezoid ext step tee process link rhombus offPageConnector loopLimit hexagon manualInput card curlyBracket singleArrow callout doubleArrow flexArrow umlLifeline".split(" ");
Graph.prototype.vertexFontSize=null;Graph.prototype.edgeFontSize=null;
Graph.prototype.init=function($container$$){mxGraph.prototype.init.apply(this,arguments);this.cellRenderer.initializeLabel=function($state$$,$shape$$){mxCellRenderer.prototype.initializeLabel.apply(this,arguments);var $tol$$=$state$$.view.graph.tolerance,$handleClick$$=!0,$first$$=null,$down$$=mxUtils.bind(this,function($evt$$){$handleClick$$=!0;$first$$=new mxPoint(mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$))}),$move$$=mxUtils.bind(this,function($evt$$){$handleClick$$=$handleClick$$&&null!=
$first$$&&Math.abs($first$$.x-mxEvent.getClientX($evt$$))<$tol$$&&Math.abs($first$$.y-mxEvent.getClientY($evt$$))<$tol$$}),$up$$=mxUtils.bind(this,function($evt$$){if($handleClick$$)for(var $elt$$=mxEvent.getSource($evt$$);null!=$elt$$&&$elt$$!=$shape$$.node;){if("a"==$elt$$.nodeName.toLowerCase()){$state$$.view.graph.labelLinkClicked($state$$,$elt$$,$evt$$);break}$elt$$=$elt$$.parentNode}});mxEvent.addGestureListeners($shape$$.node,$down$$,$move$$,$up$$);mxEvent.addListener($shape$$.node,"click",
function($evt$$){mxEvent.consume($evt$$)})};if(null!=this.tooltipHandler){var $tooltipHandlerInit$$=this.tooltipHandler.init;this.tooltipHandler.init=function(){$tooltipHandlerInit$$.apply(this,arguments);null!=this.div&&mxEvent.addListener(this.div,"click",mxUtils.bind(this,function($evt$$){var $href$jscomp$5_source$$=mxEvent.getSource($evt$$);"A"==$href$jscomp$5_source$$.nodeName&&($href$jscomp$5_source$$=$href$jscomp$5_source$$.getAttribute("href"),null!=$href$jscomp$5_source$$&&this.graph.isCustomLink($href$jscomp$5_source$$)&&
(mxEvent.isTouchEvent($evt$$)||!mxEvent.isPopupTrigger($evt$$))&&this.graph.customLinkClicked($href$jscomp$5_source$$)&&mxEvent.consume($evt$$))}))}}this.initLayoutManager()};
(function(){Graph.prototype.useCssTransforms=!1;Graph.prototype.currentScale=1;Graph.prototype.currentTranslate=new mxPoint(0,0);Graph.prototype.pasteEdgeStyle=!1;Graph.prototype.isFillState=function($state$$){return!this.isSpecialColor($state$$.style[mxConstants.STYLE_FILLCOLOR])&&"1"!=mxUtils.getValue($state$$.style,"lineShape",null)&&(this.model.isVertex($state$$.cell)||"arrow"==mxUtils.getValue($state$$.style,mxConstants.STYLE_SHAPE,null)||"wire"==mxUtils.getValue($state$$.style,mxConstants.STYLE_SHAPE,
null)||"filledEdge"==mxUtils.getValue($state$$.style,mxConstants.STYLE_SHAPE,null)||"flexArrow"==mxUtils.getValue($state$$.style,mxConstants.STYLE_SHAPE,null)||"mxgraph.arrows2.wedgeArrow"==mxUtils.getValue($state$$.style,mxConstants.STYLE_SHAPE,null))};Graph.prototype.isGradientState=function($state$$){return this.isFillState($state$$)&&"wire"!=mxUtils.getValue($state$$.style,mxConstants.STYLE_SHAPE,null)};Graph.prototype.isStrokeState=function($state$$){return!0};Graph.prototype.isSpecialColor=
function($color$$){return 0<=mxUtils.indexOf([mxConstants.STYLE_STROKECOLOR,mxConstants.STYLE_FILLCOLOR,"inherit","swimlane","indicated"],$color$$)};Graph.prototype.isGlassState=function($shape$jscomp$3_state$$){$shape$jscomp$3_state$$=mxUtils.getValue($shape$jscomp$3_state$$.style,mxConstants.STYLE_SHAPE,null);return"label"==$shape$jscomp$3_state$$||"rectangle"==$shape$jscomp$3_state$$||"internalStorage"==$shape$jscomp$3_state$$||"ext"==$shape$jscomp$3_state$$||"umlLifeline"==$shape$jscomp$3_state$$||
"swimlane"==$shape$jscomp$3_state$$||"process"==$shape$jscomp$3_state$$};Graph.prototype.isRoundedState=function($state$$){return null!=$state$$.shape?$state$$.shape.isRoundable():0<=mxUtils.indexOf(this.roundableShapes,mxUtils.getValue($state$$.style,mxConstants.STYLE_SHAPE,null))};Graph.prototype.isLineJumpState=function($state$$){var $shape$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_SHAPE,null);return!mxUtils.getValue($state$$.style,mxConstants.STYLE_CURVED,!1)&&("connector"==$shape$$||
"filledEdge"==$shape$$||"wire"==$shape$$)};Graph.prototype.isAutoSizeState=function($state$$){return"1"==mxUtils.getValue($state$$.style,mxConstants.STYLE_AUTOSIZE,null)};Graph.prototype.isImageState=function($state$$){return null!=mxUtils.getValue($state$$.style,mxConstants.STYLE_IMAGE,null)};Graph.prototype.isShadowState=function($state$$){return!0};Graph.prototype.getVerticesAndEdges=function($vertices$$,$edges$$){$vertices$$=null!=$vertices$$?$vertices$$:!0;$edges$$=null!=$edges$$?$edges$$:!0;
var $model$$=this.model;return $model$$.filterDescendants(function($cell$$){return $vertices$$&&$model$$.isVertex($cell$$)||$edges$$&&$model$$.isEdge($cell$$)},$model$$.getRoot())};Graph.prototype.applyNewEdgeStyle=function($source$jscomp$26_temp$$,$edges$$,$dir$$){$source$jscomp$26_temp$$=this.getCellStyle($source$jscomp$26_temp$$).newEdgeStyle;if(null!=$source$jscomp$26_temp$$){this.model.beginUpdate();try{var $styles$$=JSON.parse($source$jscomp$26_temp$$),$key$$;for($key$$ in $styles$$)this.setCellStyles($key$$,
$styles$$[$key$$],$edges$$),"edgeStyle"==$key$$&&"elbowEdgeStyle"==$styles$$[$key$$]&&null!=$dir$$&&this.setCellStyles("elbow",$dir$$==mxConstants.DIRECTION_SOUTH||$dir$$==mxConstants.DIRECTION_NOTH?"vertical":"horizontal",$edges$$)}finally{this.model.endUpdate()}}};Graph.prototype.getCommonStyle=function($cells$$){for(var $style$$={},$i$$=0;$i$$<$cells$$.length;$i$$++){var $state$$=this.view.getState($cells$$[$i$$]);null!=$state$$&&this.mergeStyle($state$$.style,$style$$,0==$i$$)}return $style$$};
Graph.prototype.mergeStyle=function($style$$,$into$$,$initial$$){if(null!=$style$$){var $keys$$={},$key$$;for($key$$ in $style$$){var $value$$=$style$$[$key$$];null!=$value$$&&($keys$$[$key$$]=!0,null==$into$$[$key$$]&&$initial$$?$into$$[$key$$]=$value$$:$into$$[$key$$]!=$value$$&&delete $into$$[$key$$])}for($key$$ in $into$$)$keys$$[$key$$]||delete $into$$[$key$$]}};Graph.prototype.getStartEditingCell=function($cell$$,$i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$){$i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$=
this.getCellStyle($cell$$);$i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$=parseInt(mxUtils.getValue($i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$,mxConstants.STYLE_STARTSIZE,0));this.isTable($cell$$)&&(!this.isSwimlane($cell$$)||0==$i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$)&&""==this.getLabel($cell$$)&&0<this.model.getChildCount($cell$$)&&($cell$$=this.model.getChildAt($cell$$,0),$i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$=this.getCellStyle($cell$$),$i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$=
parseInt(mxUtils.getValue($i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$,mxConstants.STYLE_STARTSIZE,0)));if(this.isTableRow($cell$$)&&(!this.isSwimlane($cell$$)||0==$i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$)&&""==this.getLabel($cell$$)&&0<this.model.getChildCount($cell$$))for($i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$=0;$i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$<this.model.getChildCount($cell$$);$i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$++){var $temp$$=
this.model.getChildAt($cell$$,$i$jscomp$42_size$jscomp$25_style$jscomp$14_trigger$$);if(this.isCellEditable($temp$$)){$cell$$=$temp$$;break}}return $cell$$};Graph.prototype.copyStyle=function($cell$$){return this.getCellStyle($cell$$,!1)};Graph.prototype.pasteStyle=function($style$$,$cells$$,$keys$$,$replaceAll$$){null!=$style$$&&($replaceAll$$||($keys$$=null!=$keys$$?$keys$$:Graph.cellStyles,Graph.removeKeys($style$$,function($key$$){return 0>mxUtils.indexOf($keys$$,$key$$)})),this.updateCellStyles($style$$,
$cells$$))};Graph.prototype.copyCellStyles=function($cells$$,$keys$$,$values$$,$vertexStyle$$,$edgeStyle$$,$vertexStyleIgnored$$,$edgeStyleIgnored$$){var $vertex$$=!1,$edge$$=!1;if(0<$cells$$.length)for(var $i$$=0;$i$$<$cells$$.length&&($vertex$$=this.getModel().isVertex($cells$$[$i$$])||$vertex$$,!($edge$$=this.getModel().isEdge($cells$$[$i$$])||$edge$$)||!$vertex$$);$i$$++);else $edge$$=$vertex$$=!0;$vertex$$=$vertex$$&&!$vertexStyleIgnored$$;$edge$$=$edge$$&&!$edgeStyleIgnored$$;for($i$$=0;$i$$<
$keys$$.length;$i$$++)if($cells$$=0<=mxUtils.indexOf(Graph.textStyles,$keys$$[$i$$]),("strokeColor"!=$keys$$[$i$$]||null!=$values$$[$i$$]&&"none"!=$values$$[$i$$])&&0<=mxUtils.indexOf(Graph.cellStyles,$keys$$[$i$$])){if($vertex$$||$cells$$)null==$values$$[$i$$]?delete $vertexStyle$$[$keys$$[$i$$]]:$vertexStyle$$[$keys$$[$i$$]]=$values$$[$i$$];if($edge$$||$cells$$)null==$values$$[$i$$]?delete $edgeStyle$$[$keys$$[$i$$]]:$edgeStyle$$[$keys$$[$i$$]]=$values$$[$i$$]}};Graph.prototype.includeDescendants=
function($cells$$){for(var $result$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++)$result$$=$result$$.concat(this.model.getDescendants($cells$$[$i$$]));return $result$$};Graph.prototype.pasteCellStyles=function($cells$$,$vertexStyle$$,$edgeStyle$$,$force$$,$pasteEdgeStyle$$){$vertexStyle$$=null!=$vertexStyle$$?$vertexStyle$$:this.currentVertexStyle;$edgeStyle$$=null!=$edgeStyle$$?$edgeStyle$$:this.currentEdgeStyle;$pasteEdgeStyle$$=null!=$pasteEdgeStyle$$?$pasteEdgeStyle$$:this.pasteEdgeStyle;this.model.beginUpdate();
try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=$cells$$[$i$$],$cellStyle$$=this.model.getStyle($cell$$),$current$jscomp$2_isText_k$$=!1;null!=$cell$$.style&&(pairs=$cell$$.style.split(";"),$current$jscomp$2_isText_k$$=$current$jscomp$2_isText_k$$||0<=mxUtils.indexOf(pairs,"text"));if($current$jscomp$2_isText_k$$)var $appliedStyles$$=Graph.textStyles;else if($appliedStyles$$=Graph.cellStyles.slice(),!$force$$)for(var $tokens$$=null!=$cellStyle$$?$cellStyle$$.split(";"):[],$j$$=0;$j$$<
$tokens$$.length;$j$$++){var $tmp$$=$tokens$$[$j$$],$pos$$=$tmp$$.indexOf("=");if(0<=$pos$$){var $key$$=$tmp$$.substring(0,$pos$$),$index$$=mxUtils.indexOf($appliedStyles$$,$key$$);0<=$index$$&&$appliedStyles$$.splice($index$$,1);for($current$jscomp$2_isText_k$$=0;$current$jscomp$2_isText_k$$<Graph.cellStyleGroups.length;$current$jscomp$2_isText_k$$++){var $group$$=Graph.cellStyleGroups[$current$jscomp$2_isText_k$$];if(0<=mxUtils.indexOf($group$$,$key$$))for(var $l$$=0;$l$$<$group$$.length;$l$$++){var $index2$$=
mxUtils.indexOf($appliedStyles$$,$group$$[$l$$]);0<=$index2$$&&$appliedStyles$$.splice($index2$$,1)}}}}var $edge$$=this.model.isEdge($cell$$);$current$jscomp$2_isText_k$$=$edge$$?$edgeStyle$$:$vertexStyle$$;for($j$$=0;$j$$<$appliedStyles$$.length;$j$$++){$key$$=$appliedStyles$$[$j$$];var $styleValue$$=$current$jscomp$2_isText_k$$[$key$$];null!=$styleValue$$&&("edgeStyle"!=$key$$||$pasteEdgeStyle$$)&&($edge$$||!$edge$$&&0>mxUtils.indexOf(Graph.edgeStyles,$key$$))&&($cellStyle$$=mxUtils.setStyle($cellStyle$$,
$key$$,$styleValue$$),"fontFamily"==$key$$&&null==$current$jscomp$2_isText_k$$.fontSource&&($cellStyle$$=mxUtils.setStyle($cellStyle$$,"fontSource",null)),$edge$$&&"rounded"==$key$$&&"1"==$styleValue$$&&null==$current$jscomp$2_isText_k$$.curved&&($cellStyle$$=mxUtils.setStyle($cellStyle$$,"curved",null)))}Editor.simpleLabels&&($cellStyle$$=mxUtils.setStyle(mxUtils.setStyle($cellStyle$$,"html",null),"whiteSpace",null));this.model.setStyle($cell$$,$cellStyle$$)}}finally{this.model.endUpdate()}return $cells$$};
Graph.prototype.updateCellStyles=function($style$$,$cells$$){this.model.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++)if(this.model.isVertex($cells$$[$i$$])||this.model.isEdge($cells$$[$i$$])){var $cellStyle$$=this.getCellStyle($cells$$[$i$$],!1),$perimeter$$=$cellStyle$$[mxConstants.STYLE_PERIMETER],$restorePerimeter$$=!1;for($key$$ in $style$$){var $value$$=$style$$[$key$$];if($cellStyle$$[$key$$]!=$value$$){if($key$$==mxConstants.STYLE_SHAPE&&"umlLifeline"==$cellStyle$$[$key$$]&&
"umlLifeline"!=$value$$){$restorePerimeter$$=!0;var $key$$="participant"}this.setCellStyles($key$$,$value$$,[$cells$$[$i$$]])}}$restorePerimeter$$&&this.setCellStyles(mxConstants.STYLE_PERIMETER,$perimeter$$,[$cells$$[$i$$]])}}finally{this.model.endUpdate()}};Graph.prototype.isFastZoomEnabled=function(){return"nocss"!=urlParams.zoom&&!mxClient.NO_FO&&!mxClient.IS_EDGE&&!this.useCssTransforms&&(this.isCssTransformsSupported()||mxClient.IS_IOS)};Graph.prototype.isCssTransformsSupported=function(){return this.dialect==
mxConstants.DIALECT_SVG&&!mxClient.NO_FO&&(!this.lightbox||!mxClient.IS_SF)};Graph.prototype.getCellAt=function($x$$,$y$$,$parent$$,$vertices$$,$edges$$,$ignoreFn$$){this.useCssTransforms&&($x$$=$x$$/this.currentScale-this.currentTranslate.x,$y$$=$y$$/this.currentScale-this.currentTranslate.y);return this.getScaledCellAt.apply(this,arguments)};Graph.prototype.getScaledCellAt=function($x$$,$y$$,$parent$$,$vertices$$,$edges$$,$ignoreFn$$){$vertices$$=null!=$vertices$$?$vertices$$:!0;$edges$$=null!=
$edges$$?$edges$$:!0;null==$parent$$&&($parent$$=this.getCurrentRoot(),null==$parent$$&&($parent$$=this.getModel().getRoot()));if(null!=$parent$$)for(var $i$$=this.model.getChildCount($parent$$)-1;0<=$i$$;$i$$--){var $cell$$=this.model.getChildAt($parent$$,$i$$),$result$jscomp$21_state$$=this.getScaledCellAt($x$$,$y$$,$cell$$,$vertices$$,$edges$$,$ignoreFn$$);if(null!=$result$jscomp$21_state$$)return $result$jscomp$21_state$$;if(this.isCellVisible($cell$$)&&($edges$$&&this.model.isEdge($cell$$)||
$vertices$$&&this.model.isVertex($cell$$))&&($result$jscomp$21_state$$=this.view.getState($cell$$),null!=$result$jscomp$21_state$$&&(null==$ignoreFn$$||!$ignoreFn$$($result$jscomp$21_state$$,$x$$,$y$$))&&this.intersects($result$jscomp$21_state$$,$x$$,$y$$)))return $cell$$}return null};Graph.prototype.isRecursiveVertexResize=function($state$$){return!this.isSwimlane($state$$.cell)&&0<this.model.getChildCount($state$$.cell)&&!this.isCellCollapsed($state$$.cell)&&"1"==mxUtils.getValue($state$$.style,
"recursiveResize","1")&&null==mxUtils.getValue($state$$.style,"childLayout",null)};Graph.prototype.getAbsoluteParent=function($cell$jscomp$38_result$$){for(var $geo$$=this.getCellGeometry($cell$jscomp$38_result$$);null!=$geo$$&&$geo$$.relative;)$cell$jscomp$38_result$$=this.getModel().getParent($cell$jscomp$38_result$$),$geo$$=this.getCellGeometry($cell$jscomp$38_result$$);return $cell$jscomp$38_result$$};Graph.prototype.isPart=function($cell$$){return"1"==mxUtils.getValue(this.getCurrentCellStyle($cell$$),
"part","0")||this.isTableCell($cell$$)||this.isTableRow($cell$$)};Graph.prototype.getCompositeParents=function($cells$$){for(var $lookup$$=new mxDictionary,$newCells$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=this.getCompositeParent($cells$$[$i$$]);this.isTableCell($cell$$)&&($cell$$=this.graph.model.getParent($cell$$));this.isTableRow($cell$$)&&($cell$$=this.graph.model.getParent($cell$$));null==$cell$$||$lookup$$.get($cell$$)||($lookup$$.put($cell$$,!0),$newCells$$.push($cell$$))}return $newCells$$};
Graph.prototype.getReferenceTerminal=function($terminal$$){if(null!=$terminal$$){var $geo$$=this.getCellGeometry($terminal$$);null!=$geo$$&&$geo$$.relative&&($terminal$$=this.model.getParent($terminal$$))}null!=$terminal$$&&this.model.isEdge($terminal$$)&&($terminal$$=this.model.getParent($terminal$$));null!=$terminal$$&&($terminal$$=this.getCompositeParent($terminal$$));return $terminal$$};Graph.prototype.getCompositeParent=function($cell$$){for(;this.isPart($cell$$);){var $temp$$=this.model.getParent($cell$$);
if(!this.model.isVertex($temp$$))break;$cell$$=$temp$$}return $cell$$};Graph.prototype.filterSelectionCells=function($ignoreFn$$){var $cells$$=this.getSelectionCells();if(null!=$ignoreFn$$){for(var $temp$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++)$ignoreFn$$($cells$$[$i$$])||$temp$$.push($cells$$[$i$$]);$cells$$=$temp$$}return $cells$$};var $graphScrollRectToVisible$$=mxGraph.prototype.scrollRectToVisible;Graph.prototype.scrollRectToVisible=function($r$$){if(this.useCssTransforms){var $s$$=this.currentScale,
$t$$=this.currentTranslate;$r$$=new mxRectangle(($r$$.x+2*$t$$.x)*$s$$-$t$$.x,($r$$.y+2*$t$$.y)*$s$$-$t$$.y,$r$$.width*$s$$,$r$$.height*$s$$)}$graphScrollRectToVisible$$.apply(this,arguments)};mxCellHighlight.prototype.getStrokeWidth=function($s$jscomp$16_state$$){$s$jscomp$16_state$$=this.strokeWidth;this.graph.useCssTransforms&&($s$jscomp$16_state$$/=this.graph.currentScale);return $s$jscomp$16_state$$};mxGraphView.prototype.getGraphBounds=function(){var $b$$=this.graphBounds;if(this.graph.useCssTransforms){var $t$$=
this.graph.currentTranslate,$s$$=this.graph.currentScale;$b$$=new mxRectangle(($b$$.x+$t$$.x)*$s$$,($b$$.y+$t$$.y)*$s$$,$b$$.width*$s$$,$b$$.height*$s$$)}return $b$$};mxGraphView.prototype.viewStateChanged=function(){this.graph.useCssTransforms?this.validate():this.revalidate();this.graph.sizeDidChange()};var $graphViewValidate$$=mxGraphView.prototype.validate;mxGraphView.prototype.validate=function($cell$$){this.graph.useCssTransforms&&(this.graph.currentScale=this.scale,this.graph.currentTranslate.x=
this.translate.x,this.graph.currentTranslate.y=this.translate.y,this.scale=1,this.translate.x=0,this.translate.y=0);$graphViewValidate$$.apply(this,arguments);this.graph.useCssTransforms&&(this.graph.updateCssTransform(),this.scale=this.graph.currentScale,this.translate.x=this.graph.currentTranslate.x,this.translate.y=this.graph.currentTranslate.y)};var $graphGetCellsForGroup$$=mxGraph.prototype.getCellsForGroup;Graph.prototype.getCellsForGroup=function($cells$$){$cells$$=$graphGetCellsForGroup$$.apply(this,
arguments);for(var $result$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++)this.isTableRow($cells$$[$i$$])||this.isTableCell($cells$$[$i$$])||$result$$.push($cells$$[$i$$]);return $result$$};var $graphGetCellsForUngroup$$=mxGraph.prototype.getCellsForUngroup;Graph.prototype.getCellsForUngroup=function($cells$$){$cells$$=$graphGetCellsForUngroup$$.apply(this,arguments);for(var $result$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++)this.isTable($cells$$[$i$$])||this.isTableRow($cells$$[$i$$])||this.isTableCell($cells$$[$i$$])||
$result$$.push($cells$$[$i$$]);return $result$$};Graph.prototype.updateCssTransform=function(){var $g$jscomp$1_temp$$=this.view.getDrawPane();if(null!=$g$jscomp$1_temp$$)if($g$jscomp$1_temp$$=$g$jscomp$1_temp$$.parentNode,this.useCssTransforms){var $prev$$=$g$jscomp$1_temp$$.getAttribute("transform");$g$jscomp$1_temp$$.setAttribute("transformOrigin","0 0");var $s$$=Math.round(100*this.currentScale)/100;$g$jscomp$1_temp$$.setAttribute("transform","scale("+$s$$+","+$s$$+")translate("+Math.round(100*
this.currentTranslate.x)/100+","+Math.round(100*this.currentTranslate.y)/100+")");$prev$$!=$g$jscomp$1_temp$$.getAttribute("transform")&&this.fireEvent(new mxEventObject("cssTransformChanged"),"transform",$g$jscomp$1_temp$$.getAttribute("transform"))}else $g$jscomp$1_temp$$.removeAttribute("transformOrigin"),$g$jscomp$1_temp$$.removeAttribute("transform")};var $graphViewValidateBackgroundPage$$=mxGraphView.prototype.validateBackgroundPage;mxGraphView.prototype.validateBackgroundPage=function(){var $useCssTranforms$$=
this.graph.useCssTransforms,$scale$$=this.scale,$translate$$=this.translate;$useCssTranforms$$&&(this.scale=this.graph.currentScale,this.translate=this.graph.currentTranslate);$graphViewValidateBackgroundPage$$.apply(this,arguments);$useCssTranforms$$&&(this.scale=$scale$$,this.translate=$translate$$)};var $graphUpdatePageBreaks$$=mxGraph.prototype.updatePageBreaks;mxGraph.prototype.updatePageBreaks=function($visible$$,$width$$,$height$$){var $useCssTranforms$$=this.useCssTransforms,$scale$$=this.view.scale,
$translate$$=this.view.translate;$useCssTranforms$$&&(this.view.scale=1,this.view.translate=new mxPoint(0,0),this.useCssTransforms=!1);$graphUpdatePageBreaks$$.apply(this,arguments);$useCssTranforms$$&&(this.view.scale=$scale$$,this.view.translate=$translate$$,this.useCssTransforms=!0)}})();Graph.prototype.isLightboxView=function(){return this.lightbox};Graph.prototype.isViewer=function(){return!1};
Graph.prototype.labelLinkClicked=function($state$jscomp$31_target$$,$elt$$,$evt$$){var $href$$=$elt$$.getAttribute("href");$href$$!=Graph.sanitizeLink($href$$)&&Graph.sanitizeNode($elt$$);if(null!=$href$$&&!this.isCustomLink($href$$)&&(mxEvent.isLeftMouseButton($evt$$)&&!mxEvent.isPopupTrigger($evt$$)||mxEvent.isTouchEvent($evt$$))){if(!this.isEnabled()||this.isCellLocked($state$jscomp$31_target$$.cell))$state$jscomp$31_target$$=this.isBlankLink($href$$)?this.linkTarget:"_top",this.openLink(this.getAbsoluteUrl($href$$),
$state$jscomp$31_target$$);mxEvent.consume($evt$$)}};
Graph.prototype.openLink=function($href$$,$target$$,$allowOpener$$){var $result$$=window;try{if($href$$=Graph.sanitizeLink($href$$),null!=$href$$)if("_self"==$target$$&&window!=window.top)window.location.href=$href$$;else if($href$$.substring(0,this.baseUrl.length)==this.baseUrl&&"#"==$href$$.charAt(this.baseUrl.length)&&"_top"==$target$$&&window==window.top){var $hash$$=$href$$.split("#")[1];window.location.hash=="#"+$hash$$&&(window.location.hash="");window.location.hash=$hash$$}else $result$$=
window.open($href$$,null!=$target$$?$target$$:"_blank",$allowOpener$$?null:"noopener,noreferrer"),null==$result$$||$allowOpener$$||($result$$.opener=null)}catch($e$$){}return $result$$};Graph.prototype.getLinkTitle=function($href$$){return $href$$.substring($href$$.lastIndexOf("/")+1)};Graph.prototype.isCustomLink=function($href$$){return"data:"==$href$$.substring(0,5)};Graph.prototype.customLinkClicked=function($link$$,$associatedCell$$){return!1};
Graph.prototype.isExternalProtocol=function($href$$){return"mailto:"===$href$$.substring(0,7)};Graph.prototype.isBlankLink=function($href$$){return!this.isExternalProtocol($href$$)&&("blank"===this.linkPolicy||"self"!==this.linkPolicy&&!this.isRelativeUrl($href$$)&&$href$$.substring(0,this.domainUrl.length)!==this.domainUrl)};Graph.prototype.isRelativeUrl=function($url$$){return null!=$url$$&&!this.absoluteUrlPattern.test($url$$)&&"data:"!==$url$$.substring(0,5)&&!this.isExternalProtocol($url$$)};
Graph.prototype.getAbsoluteUrl=function($url$$){null!=$url$$&&this.isRelativeUrl($url$$)&&($url$$="#"==$url$$.charAt(0)?this.baseUrl+$url$$:"/"==$url$$.charAt(0)?this.domainUrl+$url$$:this.domainPathUrl+$url$$);return $url$$};
Graph.prototype.initLayoutManager=function(){this.layoutManager=new mxLayoutManager(this);this.layoutManager.hasLayout=function($cell$$){return null!=this.graph.getCellStyle($cell$$).childLayout};this.layoutManager.getLayout=function($cell$jscomp$44_style$$,$eventName_flowLayout_stackLayout_treeLayout$$){var $parent$$=this.graph.model.getParent($cell$jscomp$44_style$$);if(!this.graph.isCellCollapsed($cell$jscomp$44_style$$)&&($eventName_flowLayout_stackLayout_treeLayout$$!=mxEvent.BEGIN_UPDATE||this.hasLayout($parent$$,
$eventName_flowLayout_stackLayout_treeLayout$$))){$cell$jscomp$44_style$$=this.graph.getCellStyle($cell$jscomp$44_style$$);if("stackLayout"==$cell$jscomp$44_style$$.childLayout)return $eventName_flowLayout_stackLayout_treeLayout$$=new mxStackLayout(this.graph,!0),$eventName_flowLayout_stackLayout_treeLayout$$.resizeParentMax="1"==mxUtils.getValue($cell$jscomp$44_style$$,"resizeParentMax","1"),$eventName_flowLayout_stackLayout_treeLayout$$.horizontal="1"==mxUtils.getValue($cell$jscomp$44_style$$,"horizontalStack",
"1"),$eventName_flowLayout_stackLayout_treeLayout$$.resizeParent="1"==mxUtils.getValue($cell$jscomp$44_style$$,"resizeParent","1"),$eventName_flowLayout_stackLayout_treeLayout$$.resizeLast="1"==mxUtils.getValue($cell$jscomp$44_style$$,"resizeLast","0"),$eventName_flowLayout_stackLayout_treeLayout$$.spacing=$cell$jscomp$44_style$$.stackSpacing||$eventName_flowLayout_stackLayout_treeLayout$$.spacing,$eventName_flowLayout_stackLayout_treeLayout$$.border=$cell$jscomp$44_style$$.stackBorder||$eventName_flowLayout_stackLayout_treeLayout$$.border,
$eventName_flowLayout_stackLayout_treeLayout$$.marginLeft=$cell$jscomp$44_style$$.marginLeft||0,$eventName_flowLayout_stackLayout_treeLayout$$.marginRight=$cell$jscomp$44_style$$.marginRight||0,$eventName_flowLayout_stackLayout_treeLayout$$.marginTop=$cell$jscomp$44_style$$.marginTop||0,$eventName_flowLayout_stackLayout_treeLayout$$.marginBottom=$cell$jscomp$44_style$$.marginBottom||0,$eventName_flowLayout_stackLayout_treeLayout$$.allowGaps=$cell$jscomp$44_style$$.allowGaps||0,$eventName_flowLayout_stackLayout_treeLayout$$.fill=
!0,$eventName_flowLayout_stackLayout_treeLayout$$.allowGaps&&($eventName_flowLayout_stackLayout_treeLayout$$.gridSize=parseFloat(mxUtils.getValue($cell$jscomp$44_style$$,"stackUnitSize",20))),$eventName_flowLayout_stackLayout_treeLayout$$;if("treeLayout"==$cell$jscomp$44_style$$.childLayout)return $eventName_flowLayout_stackLayout_treeLayout$$=new mxCompactTreeLayout(this.graph),$eventName_flowLayout_stackLayout_treeLayout$$.horizontal="1"==mxUtils.getValue($cell$jscomp$44_style$$,"horizontalTree",
"1"),$eventName_flowLayout_stackLayout_treeLayout$$.resizeParent="1"==mxUtils.getValue($cell$jscomp$44_style$$,"resizeParent","1"),$eventName_flowLayout_stackLayout_treeLayout$$.groupPadding=mxUtils.getValue($cell$jscomp$44_style$$,"parentPadding",20),$eventName_flowLayout_stackLayout_treeLayout$$.levelDistance=mxUtils.getValue($cell$jscomp$44_style$$,"treeLevelDistance",30),$eventName_flowLayout_stackLayout_treeLayout$$.maintainParentLocation=!0,$eventName_flowLayout_stackLayout_treeLayout$$.edgeRouting=
!1,$eventName_flowLayout_stackLayout_treeLayout$$.resetEdges=!1,$eventName_flowLayout_stackLayout_treeLayout$$;if("flowLayout"==$cell$jscomp$44_style$$.childLayout)return $eventName_flowLayout_stackLayout_treeLayout$$=new mxHierarchicalLayout(this.graph,mxUtils.getValue($cell$jscomp$44_style$$,"flowOrientation",mxConstants.DIRECTION_EAST)),$eventName_flowLayout_stackLayout_treeLayout$$.resizeParent="1"==mxUtils.getValue($cell$jscomp$44_style$$,"resizeParent","1"),$eventName_flowLayout_stackLayout_treeLayout$$.parentBorder=
mxUtils.getValue($cell$jscomp$44_style$$,"parentPadding",20),$eventName_flowLayout_stackLayout_treeLayout$$.maintainParentLocation=!0,$eventName_flowLayout_stackLayout_treeLayout$$.intraCellSpacing=mxUtils.getValue($cell$jscomp$44_style$$,"intraCellSpacing",mxHierarchicalLayout.prototype.intraCellSpacing),$eventName_flowLayout_stackLayout_treeLayout$$.interRankCellSpacing=mxUtils.getValue($cell$jscomp$44_style$$,"interRankCellSpacing",mxHierarchicalLayout.prototype.interRankCellSpacing),$eventName_flowLayout_stackLayout_treeLayout$$.interHierarchySpacing=
mxUtils.getValue($cell$jscomp$44_style$$,"interHierarchySpacing",mxHierarchicalLayout.prototype.interHierarchySpacing),$eventName_flowLayout_stackLayout_treeLayout$$.parallelEdgeSpacing=mxUtils.getValue($cell$jscomp$44_style$$,"parallelEdgeSpacing",mxHierarchicalLayout.prototype.parallelEdgeSpacing),$eventName_flowLayout_stackLayout_treeLayout$$;if("circleLayout"==$cell$jscomp$44_style$$.childLayout)return new mxCircleLayout(this.graph);if("organicLayout"==$cell$jscomp$44_style$$.childLayout)return new mxFastOrganicLayout(this.graph);
if("tableLayout"==$cell$jscomp$44_style$$.childLayout)return new TableLayout(this.graph);if(null!=$cell$jscomp$44_style$$.childLayout&&"["==$cell$jscomp$44_style$$.childLayout.charAt(0))try{return new mxCompositeLayout(this.graph,this.graph.createLayouts(JSON.parse($cell$jscomp$44_style$$.childLayout)))}catch($e$$){null!=window.console&&console.error($e$$)}}return null}};
Graph.prototype.createLayouts=function($list$$){for(var $layouts$$=[],$i$$=0;$i$$<$list$$.length;$i$$++)if(0<=mxUtils.indexOf(Graph.layoutNames,$list$$[$i$$].layout)){var $layout$$="mxOrgChartLayout"==$list$$[$i$$].layout&&null!=$list$$[$i$$].config?new window[$list$$[$i$$].layout](this,$list$$[$i$$].config.branchOptimizer):new window[$list$$[$i$$].layout](this);if(null!=$list$$[$i$$].config)for(var $key$$ in $list$$[$i$$].config)if("mxOrgChartLayout"!=$list$$[$i$$].layout||"branchOptimizer"!=$key$$)$layout$$[$key$$]=
$list$$[$i$$].config[$key$$];$layouts$$.push($layout$$)}else throw Error(mxResources.get("invalidCallFnNotFound",[$list$$[$i$$].layout]));return $layouts$$};
Graph.prototype.getDataForCells=function($cells$$,$includeValues$$){for(var $result$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $row$$={};$row$$.id=$cells$$[$i$$].id;var $attrs$$=null!=$cells$$[$i$$].value?$cells$$[$i$$].value.attributes:null;this.isReplacePlaceholders($cells$$[$i$$])&&$includeValues$$&&($row$$.value=this.getLabel($cells$$[$i$$]));if(null!=$attrs$$)for(var $j$$=0;$j$$<$attrs$$.length;$j$$++)$row$$[$attrs$$[$j$$].nodeName]=$attrs$$[$j$$].nodeValue;else $row$$.label=this.convertValueToString($cells$$[$i$$]);
$result$$.push($row$$)}return $result$$};Graph.prototype.getNodesForCells=function($cells$$){for(var $nodes$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $state$$=this.view.getState($cells$$[$i$$]);if(null!=$state$$){for(var $shapes$$=this.cellRenderer.getShapesForState($state$$),$j$$=0;$j$$<$shapes$$.length;$j$$++)null!=$shapes$$[$j$$]&&null!=$shapes$$[$j$$].node&&$nodes$$.push($shapes$$[$j$$].node);null!=$state$$.control&&null!=$state$$.control.node&&$nodes$$.push($state$$.control.node)}}return $nodes$$};
Graph.prototype.createWipeAnimations=function($cells$$,$wipeIn$$){for(var $animations$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $state$$=this.view.getState($cells$$[$i$$]);null!=$state$$&&null!=$state$$.shape&&(this.model.isEdge($state$$.cell)&&null!=$state$$.absolutePoints&&1<$state$$.absolutePoints.length?$animations$$.push(this.createEdgeWipeAnimation($state$$,$wipeIn$$)):this.model.isVertex($state$$.cell)&&null!=$state$$.shape.bounds&&$animations$$.push(this.createVertexWipeAnimation($state$$,
$wipeIn$$)))}return $animations$$};
Graph.prototype.createEdgeWipeAnimation=function($state$$,$wipeIn$$){var $pts$$=$state$$.absolutePoints.slice(),$segs$$=$state$$.segments,$total$$=$state$$.length,$n$$=$pts$$.length;return{execute:mxUtils.bind(this,function($step$$,$f$$){if(null!=$state$$.shape){var $pts2$$=[$pts$$[0]];$f$$=$step$$/$f$$;$wipeIn$$||($f$$=1-$f$$);for(var $dist$$=$total$$*$f$$,$i$$=1;$i$$<$n$$;$i$$++)if($dist$$<=$segs$$[$i$$-1]){$pts2$$.push(new mxPoint($pts$$[$i$$-1].x+($pts$$[$i$$].x-$pts$$[$i$$-1].x)*$dist$$/$segs$$[$i$$-
1],$pts$$[$i$$-1].y+($pts$$[$i$$].y-$pts$$[$i$$-1].y)*$dist$$/$segs$$[$i$$-1]));break}else $dist$$-=$segs$$[$i$$-1],$pts2$$.push($pts$$[$i$$]);$state$$.shape.points=$pts2$$;$state$$.shape.redraw();0==$step$$&&Graph.setOpacityForNodes(this.getNodesForCells([$state$$.cell]),1);null!=$state$$.text&&null!=$state$$.text.node&&($state$$.text.node.style.opacity=$f$$)}}),stop:mxUtils.bind(this,function(){null!=$state$$.shape&&($state$$.shape.points=$pts$$,$state$$.shape.redraw(),null!=$state$$.text&&null!=
$state$$.text.node&&($state$$.text.node.style.opacity=""),Graph.setOpacityForNodes(this.getNodesForCells([$state$$.cell]),$wipeIn$$?1:0))})}};
Graph.prototype.createVertexWipeAnimation=function($state$$,$wipeIn$$){var $bds$$=new mxRectangle.fromRectangle($state$$.shape.bounds);return{execute:mxUtils.bind(this,function($step$$,$f$jscomp$8_steps$$){null!=$state$$.shape&&($f$jscomp$8_steps$$=$step$$/$f$jscomp$8_steps$$,$wipeIn$$||($f$jscomp$8_steps$$=1-$f$jscomp$8_steps$$),$state$$.shape.bounds=new mxRectangle($bds$$.x,$bds$$.y,$bds$$.width*$f$jscomp$8_steps$$,$bds$$.height),$state$$.shape.redraw(),0==$step$$&&Graph.setOpacityForNodes(this.getNodesForCells([$state$$.cell]),
1),null!=$state$$.text&&null!=$state$$.text.node&&($state$$.text.node.style.opacity=$f$jscomp$8_steps$$))}),stop:mxUtils.bind(this,function(){null!=$state$$.shape&&($state$$.shape.bounds=$bds$$,$state$$.shape.redraw(),null!=$state$$.text&&null!=$state$$.text.node&&($state$$.text.node.style.opacity=""),Graph.setOpacityForNodes(this.getNodesForCells([$state$$.cell]),$wipeIn$$?1:0))})}};
Graph.prototype.executeAnimations=function($animations$$,$done$$,$steps$$,$delay$$){$steps$$=null!=$steps$$?$steps$$:30;$delay$$=null!=$delay$$?$delay$$:30;var $thread$$=null,$step$$=0,$animate$$=mxUtils.bind(this,function(){if($step$$==$steps$$||this.stoppingCustomActions){window.clearInterval($thread$$);for(var $i$$=0;$i$$<$animations$$.length;$i$$++)$animations$$[$i$$].stop();null!=$done$$&&$done$$()}else for($i$$=0;$i$$<$animations$$.length;$i$$++)$animations$$[$i$$].execute($step$$,$steps$$);
$step$$++});$thread$$=window.setInterval($animate$$,$delay$$);$animate$$()};Graph.prototype.getPageSize=function(){return this.pageVisible?new mxRectangle(0,0,this.pageFormat.width*this.pageScale,this.pageFormat.height*this.pageScale):this.scrollTileSize};
Graph.prototype.getPageLayout=function($bounds$$,$tr$$,$s$$){$bounds$$=null!=$bounds$$?$bounds$$:this.getGraphBounds();$tr$$=null!=$tr$$?$tr$$:this.view.translate;$s$$=null!=$s$$?$s$$:this.view.scale;var $size$$=this.getPageSize();if(0==$bounds$$.width||0==$bounds$$.height)return new mxRectangle(0,0,1,1);var $x0$$=Math.floor(Math.ceil($bounds$$.x/$s$$-$tr$$.x)/$size$$.width),$y0$$=Math.floor(Math.ceil($bounds$$.y/$s$$-$tr$$.y)/$size$$.height);return new mxRectangle($x0$$,$y0$$,Math.ceil((Math.floor(($bounds$$.x+
$bounds$$.width)/$s$$)-$tr$$.x)/$size$$.width)-$x0$$,Math.ceil((Math.floor(($bounds$$.y+$bounds$$.height)/$s$$)-$tr$$.y)/$size$$.height)-$y0$$)};Graph.prototype.getDefaultTranslate=function($pageLayout$$){var $pad$$=this.getPagePadding(),$size$$=this.getPageSize();return new mxPoint($pad$$.x-$pageLayout$$.x*$size$$.width,$pad$$.y-$pageLayout$$.y*$size$$.height)};
Graph.prototype.updateMinimumSize=function(){var $minh_pageLayout$$=this.getPageLayout(),$pad$$=this.getPagePadding(),$size$$=this.getPageSize(),$minw$$=Math.ceil(2*$pad$$.x+$minh_pageLayout$$.width*$size$$.width);$minh_pageLayout$$=Math.ceil(2*$pad$$.y+$minh_pageLayout$$.height*$size$$.height);if(null==this.minimumGraphSize||this.minimumGraphSize.width!=$minw$$||this.minimumGraphSize.height!=$minh_pageLayout$$)this.minimumGraphSize=new mxRectangle(0,0,$minw$$,$minh_pageLayout$$)};
Graph.prototype.sanitizeHtml=function($value$$,$editing$$){return Graph.sanitizeHtml($value$$,$editing$$)};Graph.prototype.updatePlaceholders=function(){var $validate$$=!1,$key$$;for($key$$ in this.model.cells){var $cell$$=this.model.cells[$key$$];this.isReplacePlaceholders($cell$$)&&(this.view.invalidate($cell$$,!1,!1),$validate$$=!0)}$validate$$&&this.view.validate()};Graph.prototype.isReplacePlaceholders=function($cell$$){return null!=$cell$$.value&&"object"==typeof $cell$$.value&&"1"==$cell$$.value.getAttribute("placeholders")};
Graph.prototype.isZoomWheelEvent=function($evt$$){return Graph.zoomWheel&&!mxEvent.isShiftDown($evt$$)&&!mxEvent.isMetaDown($evt$$)&&!mxEvent.isAltDown($evt$$)&&(!mxEvent.isControlDown($evt$$)||mxClient.IS_MAC)||!Graph.zoomWheel&&(mxEvent.isAltDown($evt$$)||mxEvent.isControlDown($evt$$))};Graph.prototype.isScrollWheelEvent=function($evt$$){return!this.isZoomWheelEvent($evt$$)};Graph.prototype.isTransparentClickEvent=function($evt$$){return mxEvent.isAltDown($evt$$)||mxClient.IS_CHROMEOS&&mxEvent.isShiftDown($evt$$)};
Graph.prototype.isIgnoreTerminalEvent=function($evt$$){return mxEvent.isAltDown($evt$$)&&!mxEvent.isShiftDown($evt$$)&&!mxEvent.isControlDown($evt$$)&&!mxEvent.isMetaDown($evt$$)};Graph.prototype.isEdgeIgnored=function($cell$jscomp$47_style$$){var $result$$=!1;null!=$cell$jscomp$47_style$$&&($cell$jscomp$47_style$$=this.getCurrentCellStyle($cell$jscomp$47_style$$),$result$$="1"==mxUtils.getValue($cell$jscomp$47_style$$,"ignoreEdge","0"));return $result$$};
Graph.prototype.isSplitTarget=function($target$$,$cells$$,$evt$$){return!this.model.isEdge($cells$$[0])&&!mxEvent.isAltDown($evt$$)&&!mxEvent.isShiftDown($evt$$)&&!this.isCellLocked(this.getLayerForCell($target$$))&&mxGraph.prototype.isSplitTarget.apply(this,arguments)};
Graph.prototype.getLabel=function($cell$$){var $result$$=mxGraph.prototype.getLabel.apply(this,arguments);null!=$result$$&&this.isReplacePlaceholders($cell$$)&&null==$cell$$.getAttribute("placeholder")&&($result$$=this.replacePlaceholders($cell$$,$result$$));return $result$$};
Graph.prototype.isLabelMovable=function($cell$$){var $style$$=this.getCurrentCellStyle($cell$$);return!this.isCellLocked($cell$$)&&(this.model.isEdge($cell$$)&&this.edgeLabelsMovable||this.model.isVertex($cell$$)&&(this.vertexLabelsMovable||"1"==mxUtils.getValue($style$$,"labelMovable","0")))};Graph.prototype.setGridSize=function($value$$){this.gridSize=$value$$;this.fireEvent(new mxEventObject("gridSizeChanged"))};Graph.prototype.setDefaultParent=function($cell$$){this.defaultParent=$cell$$;this.fireEvent(new mxEventObject("defaultParentChanged"))};
Graph.prototype.getClickableLinkForCell=function($cell$$){do{var $link$$=this.getLinkForCell($cell$$);if(null!=$link$$)return $link$$;$cell$$=this.model.getParent($cell$$)}while(null!=$cell$$);return null};
Graph.prototype.getGlobalVariable=function($fmt$jscomp$2_name$$){var $val$$=null;"date"==$fmt$jscomp$2_name$$?$val$$=(new Date).toLocaleDateString():"time"==$fmt$jscomp$2_name$$?$val$$=(new Date).toLocaleTimeString():"timestamp"==$fmt$jscomp$2_name$$?$val$$=(new Date).toLocaleString():"date{"==$fmt$jscomp$2_name$$.substring(0,5)&&($fmt$jscomp$2_name$$=$fmt$jscomp$2_name$$.substring(5,$fmt$jscomp$2_name$$.length-1),$val$$=this.formatDate(new Date,$fmt$jscomp$2_name$$));return $val$$};
Graph.prototype.formatDate=function($date$$,$mask$$,$utc$$){null==this.dateFormatCache&&(this.dateFormatCache={i18n:{dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")},masks:{"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",
shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"}});var $dF$$=this.dateFormatCache,$timezone$$=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,$timezoneClip$$=/[^-+\dA-Z]/g,$pad$$=function($val$$,$len$$){$val$$=String($val$$);for($len$$=$len$$||2;$val$$.length<$len$$;)$val$$=
"0"+$val$$;return $val$$};1!=arguments.length||"[object String]"!=Object.prototype.toString.call($date$$)||/\d/.test($date$$)||($mask$$=$date$$,$date$$=void 0);$date$$=$date$$?new Date($date$$):new Date;if(isNaN($date$$))throw SyntaxError("invalid date");$mask$$=String($dF$$.masks[$mask$$]||$mask$$||$dF$$.masks["default"]);"UTC:"==$mask$$.slice(0,4)&&($mask$$=$mask$$.slice(4),$utc$$=!0);var $L__$$=$utc$$?"getUTC":"get",$d$$=$date$$[$L__$$+"Date"](),$D$$=$date$$[$L__$$+"Day"](),$m$$=$date$$[$L__$$+
"Month"](),$y$$=$date$$[$L__$$+"FullYear"](),$H$$=$date$$[$L__$$+"Hours"](),$M$$=$date$$[$L__$$+"Minutes"](),$s$$=$date$$[$L__$$+"Seconds"]();$L__$$=$date$$[$L__$$+"Milliseconds"]();var $o$$=$utc$$?0:$date$$.getTimezoneOffset(),$flags$$={d:$d$$,dd:$pad$$($d$$),ddd:$dF$$.i18n.dayNames[$D$$],dddd:$dF$$.i18n.dayNames[$D$$+7],m:$m$$+1,mm:$pad$$($m$$+1),mmm:$dF$$.i18n.monthNames[$m$$],mmmm:$dF$$.i18n.monthNames[$m$$+12],yy:String($y$$).slice(2),yyyy:$y$$,h:$H$$%12||12,hh:$pad$$($H$$%12||12),H:$H$$,HH:$pad$$($H$$),
M:$M$$,MM:$pad$$($M$$),s:$s$$,ss:$pad$$($s$$),l:$pad$$($L__$$,3),L:$pad$$(99<$L__$$?Math.round($L__$$/10):$L__$$),t:12>$H$$?"a":"p",tt:12>$H$$?"am":"pm",T:12>$H$$?"A":"P",TT:12>$H$$?"AM":"PM",Z:$utc$$?"UTC":(String($date$$).match($timezone$$)||[""]).pop().replace($timezoneClip$$,""),o:(0<$o$$?"-":"+")+$pad$$(100*Math.floor(Math.abs($o$$)/60)+Math.abs($o$$)%60,4),S:["th","st","nd","rd"][3<$d$$%10?0:(10!=$d$$%100-$d$$%10)*$d$$%10]};return $mask$$.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,
function($$0$$){return $$0$$ in $flags$$?$flags$$[$$0$$]:$$0$$.slice(1,$$0$$.length-1)})};Graph.prototype.getLayerForCell=function($cell$$){for(;null!=$cell$$&&!this.model.isLayer($cell$$);)$cell$$=this.model.getParent($cell$$);return $cell$$};Graph.prototype.getLayerForCells=function($cells$$){var $result$$=null;if(0<$cells$$.length){$result$$=this.getLayerForCell($cells$$[0]);for(var $i$$=1;$i$$<$cells$$.length;$i$$++)if(!this.model.isAncestor($result$$,$cells$$[$i$$])){$result$$=null;break}}return $result$$};
Graph.prototype.createLayersDialog=function($onchange$$,$inverted$$){var $div$$=document.createElement("div");$div$$.style.position="absolute";for(var $model$$=this.getModel(),$childCount$$=$model$$.getChildCount($model$$.root),$i$$=0;$i$$<$childCount$$;$i$$++)mxUtils.bind(this,function($layer$$){function $update$$(){$model$$.isVisible($layer$$)?($inp$$.setAttribute("src",Editor.visibleImage),mxUtils.setOpacity($span$$,75)):($inp$$.setAttribute("src",Editor.hiddenImage),mxUtils.setOpacity($span$$,
25))}var $title$$=this.convertValueToString($layer$$)||mxResources.get("background")||"Background",$span$$=document.createElement("div");$span$$.style.overflow="hidden";$span$$.style.textOverflow="ellipsis";$span$$.style.padding="2px";$span$$.style.whiteSpace="nowrap";$span$$.style.cursor="pointer";$span$$.setAttribute("title",mxResources.get($model$$.isVisible($layer$$)?"hideIt":"show",[$title$$]));var $inp$$=document.createElement("img");$inp$$.setAttribute("draggable","false");$inp$$.setAttribute("align",
"absmiddle");$inp$$.setAttribute("border","0");$inp$$.style.position="relative";$inp$$.style.width="16px";$inp$$.style.padding="0px 6px 0 4px";$inverted$$&&($inp$$.style.filter="invert(100%)",$inp$$.style.top="-2px");$span$$.appendChild($inp$$);mxUtils.write($span$$,$title$$);$div$$.appendChild($span$$);mxEvent.addListener($span$$,"click",function(){$model$$.setVisible($layer$$,!$model$$.isVisible($layer$$));$update$$();null!=$onchange$$&&$onchange$$($layer$$)});$update$$()})($model$$.getChildAt($model$$.root,
$i$$));return $div$$};
Graph.prototype.replacePlaceholders=function($cell$$,$str$$,$vars$$,$result$jscomp$30_translate$$){$result$jscomp$30_translate$$=[];if(null!=$str$$){for(var $last$$=0;match=this.placeholderPattern.exec($str$$);){var $val$$=match[0];if(2<$val$$.length&&"%label%"!=$val$$&&"%tooltip%"!=$val$$){var $tmp$$=null;if(match.index>$last$$&&"%"==$str$$.charAt(match.index-1))$tmp$$=$val$$.substring(1);else{var $name$$=$val$$.substring(1,$val$$.length-1);if("id"==$name$$)$tmp$$=$cell$$.id;else if("width"==$name$$&&
this.model.isVertex($cell$$)){var $current$jscomp$3_geo$jscomp$11_state$$=this.getCellGeometry($cell$$);null!=$current$jscomp$3_geo$jscomp$11_state$$&&($tmp$$=$current$jscomp$3_geo$jscomp$11_state$$.width)}else if("height"==$name$$&&this.model.isVertex($cell$$))$current$jscomp$3_geo$jscomp$11_state$$=this.getCellGeometry($cell$$),null!=$current$jscomp$3_geo$jscomp$11_state$$&&($tmp$$=$current$jscomp$3_geo$jscomp$11_state$$.height);else if("length"==$name$$&&this.model.isEdge($cell$$))$current$jscomp$3_geo$jscomp$11_state$$=
this.view.getState($cell$$),null!=$current$jscomp$3_geo$jscomp$11_state$$&&($tmp$$=Math.round($current$jscomp$3_geo$jscomp$11_state$$.length/this.view.scale));else if(0>$name$$.indexOf("{"))for($current$jscomp$3_geo$jscomp$11_state$$=$cell$$;null==$tmp$$&&null!=$current$jscomp$3_geo$jscomp$11_state$$;)null!=$current$jscomp$3_geo$jscomp$11_state$$.value&&"object"==typeof $current$jscomp$3_geo$jscomp$11_state$$.value&&(Graph.translateDiagram&&null!=Graph.diagramLanguage&&($tmp$$=$current$jscomp$3_geo$jscomp$11_state$$.getAttribute($name$$+
"_"+Graph.diagramLanguage)),null==$tmp$$&&($tmp$$=$current$jscomp$3_geo$jscomp$11_state$$.hasAttribute($name$$)?null!=$current$jscomp$3_geo$jscomp$11_state$$.getAttribute($name$$)?$current$jscomp$3_geo$jscomp$11_state$$.getAttribute($name$$):"":null)),$current$jscomp$3_geo$jscomp$11_state$$=this.model.getParent($current$jscomp$3_geo$jscomp$11_state$$);null==$tmp$$&&($tmp$$=this.getGlobalVariable($name$$));null==$tmp$$&&null!=$vars$$&&($tmp$$=$vars$$[$name$$])}$result$jscomp$30_translate$$.push($str$$.substring($last$$,
match.index)+(null!=$tmp$$?$tmp$$:$val$$));$last$$=match.index+$val$$.length}}$result$jscomp$30_translate$$.push($str$$.substring($last$$))}return $result$jscomp$30_translate$$.join("")};Graph.prototype.restoreSelection=function($cells$$){if(null!=$cells$$&&0<$cells$$.length){for(var $temp$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $newCell$$=this.model.getCell($cells$$[$i$$].id);null!=$newCell$$&&$temp$$.push($newCell$$)}this.setSelectionCells($temp$$)}else this.clearSelection()};
Graph.prototype.selectCellForEvent=function($cell$$,$evt$$){mxEvent.isShiftDown($evt$$)&&!this.isSelectionEmpty()&&this.selectTableRange(this.getSelectionCell(),$cell$$)||mxGraph.prototype.selectCellForEvent.apply(this,arguments)};
Graph.prototype.selectTableRange=function($startCell_startCellIndex_toCell$$,$endCell_fromCell$$){var $result$$=!1;if(this.isTableCell($startCell_startCellIndex_toCell$$)&&this.isTableCell($endCell_fromCell$$)){var $row$$=this.model.getParent($startCell_startCellIndex_toCell$$),$table$$=this.model.getParent($row$$),$endRow_toRow$$=this.model.getParent($endCell_fromCell$$);if($table$$==this.model.getParent($endRow_toRow$$)){$startCell_startCellIndex_toCell$$=$row$$.getIndex($startCell_startCellIndex_toCell$$);
$row$$=$table$$.getIndex($row$$);var $cells$$=$endRow_toRow$$.getIndex($endCell_fromCell$$),$currentRow_endRowIndex$$=$table$$.getIndex($endRow_toRow$$);$endRow_toRow$$=Math.max($row$$,$currentRow_endRowIndex$$);$endCell_fromCell$$=Math.min($startCell_startCellIndex_toCell$$,$cells$$);$startCell_startCellIndex_toCell$$=Math.max($startCell_startCellIndex_toCell$$,$cells$$);$cells$$=[];for($row$$=Math.min($row$$,$currentRow_endRowIndex$$);$row$$<=$endRow_toRow$$;$row$$++){$currentRow_endRowIndex$$=
this.model.getChildAt($table$$,$row$$);for(var $col$$=$endCell_fromCell$$;$col$$<=$startCell_startCellIndex_toCell$$;$col$$++)$cells$$.push(this.model.getChildAt($currentRow_endRowIndex$$,$col$$))}0<$cells$$.length&&(1<$cells$$.length||1<this.getSelectionCount()||!this.isCellSelected($cells$$[0]))&&(this.setSelectionCells($cells$$),$result$$=!0)}}return $result$$};
Graph.prototype.snapCellsToGrid=function($cells$$,$gridSize$$){this.getModel().beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=$cells$$[$i$$],$geo$$=this.getCellGeometry($cell$$);if(null!=$geo$$){$geo$$=$geo$$.clone();if(this.getModel().isVertex($cell$$))$geo$$.x=Math.round($geo$$.x/$gridSize$$)*$gridSize$$,$geo$$.y=Math.round($geo$$.y/$gridSize$$)*$gridSize$$,$geo$$.width=Math.round($geo$$.width/$gridSize$$)*$gridSize$$,$geo$$.height=Math.round($geo$$.height/$gridSize$$)*
$gridSize$$;else if(this.getModel().isEdge($cell$$)&&null!=$geo$$.points)for(var $j$$=0;$j$$<$geo$$.points.length;$j$$++)$geo$$.points[$j$$].x=Math.round($geo$$.points[$j$$].x/$gridSize$$)*$gridSize$$,$geo$$.points[$j$$].y=Math.round($geo$$.points[$j$$].y/$gridSize$$)*$gridSize$$;this.getModel().setGeometry($cell$$,$geo$$)}}}finally{this.getModel().endUpdate()}};
Graph.prototype.removeChildCells=function($cell$$){this.model.beginUpdate();try{for(var $j$$=this.model.getChildCount($cell$$);0<=$j$$;$j$$--)this.model.remove(this.model.getChildAt($cell$$,$j$$))}finally{this.model.endUpdate()}};
Graph.prototype.updateShapes=function($source$$,$targets$$,$replaceStyles$$){this.model.beginUpdate();try{var $sourceStyle$$=this.model.getStyle($source$$),$style$$=$replaceStyles$$?this.stylesheet.getCellStyle($sourceStyle$$,{},!1):null;null!=$style$$&&null==$style$$[mxConstants.STYLE_SHAPE]&&(this.model.isVertex($source$$)?$style$$[mxConstants.STYLE_SHAPE]=this.stylesheet.getDefaultVertexStyle()[mxConstants.STYLE_SHAPE]:this.model.isEdge($source$$)&&($style$$[mxConstants.STYLE_SHAPE]=this.stylesheet.getDefaultEdgeStyle()[mxConstants.STYLE_SHAPE]));
for(var $i$$=0;$i$$<$targets$$.length;$i$$++){if(this.model.isVertex($source$$)&&this.model.isVertex($targets$$[$i$$])||this.model.isEdge($source$$)&&this.model.isEdge($targets$$[$i$$]))if($replaceStyles$$){var $cellStyle$$=this.model.getStyle($targets$$[$i$$]);if(null!=$cellStyle$$){var $tokens$$=$cellStyle$$.split(";");0<$tokens$$.length&&0>$tokens$$[0].indexOf("=")&&($tokens$$=$tokens$$.slice(1));this.model.setStyle($targets$$[$i$$],$tokens$$.join(";"))}this.setCellStyles(mxConstants.STYLE_PERIMETER,
null,[$targets$$[$i$$]]);this.setCellStyles("points",null,[$targets$$[$i$$]]);this.pasteStyle($style$$,[$targets$$[$i$$]],null,!0)}else $style$$=this.copyStyle($targets$$[$i$$]),this.model.setStyle($targets$$[$i$$],$sourceStyle$$),this.pasteStyle($style$$,[$targets$$[$i$$]]);"1"==mxUtils.getValue(this.getCellStyle($targets$$[$i$$],!1),"composite","0")&&this.removeChildCells($targets$$[$i$$])}}finally{this.model.endUpdate()}};
Graph.prototype.selectCellsForConnectVertex=function($cells$$,$evt$$,$hoverIcons$$){2==$cells$$.length&&this.model.isVertex($cells$$[1])?(this.setSelectionCell($cells$$[1]),this.scrollCellToVisible($cells$$[1]),null!=$hoverIcons$$&&(mxEvent.isTouchEvent($evt$$)?$hoverIcons$$.update($hoverIcons$$.getState(this.view.getState($cells$$[1]))):$hoverIcons$$.reset())):this.setSelectionCells($cells$$)};
Graph.prototype.isCloneConnectSource=function($source$$){var $layout$$=null;null!=this.layoutManager&&($layout$$=this.layoutManager.getLayout(this.model.getParent($source$$)));return this.isTableRow($source$$)||this.isTableCell($source$$)||null!=$layout$$&&$layout$$.constructor==mxStackLayout};
Graph.prototype.insertEdgeBeforeCell=function($edge$$,$cell$jscomp$57_index$$){for(var $tmp$$=$cell$jscomp$57_index$$;null!=$tmp$$.parent&&null!=$tmp$$.geometry&&$tmp$$.geometry.relative&&$tmp$$.parent!=$edge$$.parent;)$tmp$$=this.model.getParent($tmp$$);null!=$tmp$$&&null!=$tmp$$.parent&&$tmp$$.parent==$edge$$.parent&&($cell$jscomp$57_index$$=$tmp$$.parent.getIndex($tmp$$),this.model.add($tmp$$.parent,$edge$$,$cell$jscomp$57_index$$))};
Graph.prototype.connectVertex=function($source$$,$direction$$,$length$jscomp$17_s$$,$evt$$,$execute$$,$ignoreCellAt_rect$$,$createTarget$$,$done$$){$ignoreCellAt_rect$$=$ignoreCellAt_rect$$?$ignoreCellAt_rect$$:!1;if($source$$.geometry.relative&&this.model.isEdge($source$$.parent))return[];for(;$source$$.geometry.relative&&this.model.isVertex($source$$.parent);)$source$$=$source$$.parent;var $cloneSource$$=this.isCloneConnectSource($source$$),$composite_dx$$=$cloneSource$$?$source$$:this.getCompositeParent($source$$),
$pt$$=$source$$.geometry.relative&&null!=$source$$.parent.geometry?new mxPoint($source$$.parent.geometry.width*$source$$.geometry.x,$source$$.parent.geometry.height*$source$$.geometry.y):new mxPoint($composite_dx$$.geometry.x,$composite_dx$$.geometry.y);$direction$$==mxConstants.DIRECTION_NORTH?($pt$$.x+=$composite_dx$$.geometry.width/2,$pt$$.y-=$length$jscomp$17_s$$):$direction$$==mxConstants.DIRECTION_SOUTH?($pt$$.x+=$composite_dx$$.geometry.width/2,$pt$$.y+=$composite_dx$$.geometry.height+$length$jscomp$17_s$$):
($pt$$.x=$direction$$==mxConstants.DIRECTION_WEST?$pt$$.x-$length$jscomp$17_s$$:$pt$$.x+($composite_dx$$.geometry.width+$length$jscomp$17_s$$),$pt$$.y+=$composite_dx$$.geometry.height/2);var $parentState_sourceState$$=this.view.getState(this.model.getParent($source$$));$length$jscomp$17_s$$=this.view.scale;var $dy$jscomp$14_t$$=this.view.translate;$composite_dx$$=$dy$jscomp$14_t$$.x*$length$jscomp$17_s$$;$dy$jscomp$14_t$$=$dy$jscomp$14_t$$.y*$length$jscomp$17_s$$;null!=$parentState_sourceState$$&&
this.model.isVertex($parentState_sourceState$$.cell)&&($composite_dx$$=$parentState_sourceState$$.x,$dy$jscomp$14_t$$=$parentState_sourceState$$.y);this.model.isVertex($source$$.parent)&&$source$$.geometry.relative&&($pt$$.x+=$source$$.parent.geometry.x,$pt$$.y+=$source$$.parent.geometry.y);$ignoreCellAt_rect$$=$ignoreCellAt_rect$$?null:(new mxRectangle($composite_dx$$+$pt$$.x*$length$jscomp$17_s$$,$dy$jscomp$14_t$$+$pt$$.y*$length$jscomp$17_s$$)).grow(40*$length$jscomp$17_s$$);$ignoreCellAt_rect$$=
null!=$ignoreCellAt_rect$$?this.getCells(0,0,0,0,null,null,$ignoreCellAt_rect$$,null,!0):null;$parentState_sourceState$$=this.view.getState($source$$);var $container$$=null,$target$$=null;if(null!=$ignoreCellAt_rect$$){$ignoreCellAt_rect$$=$ignoreCellAt_rect$$.reverse();for(var $i$$=0;$i$$<$ignoreCellAt_rect$$.length;$i$$++)if(!this.isCellLocked($ignoreCellAt_rect$$[$i$$])&&!this.model.isEdge($ignoreCellAt_rect$$[$i$$])&&$ignoreCellAt_rect$$[$i$$]!=$source$$)if(!this.model.isAncestor($source$$,$ignoreCellAt_rect$$[$i$$])&&
this.isContainer($ignoreCellAt_rect$$[$i$$])&&(null==$container$$||$ignoreCellAt_rect$$[$i$$]==this.model.getParent($source$$)))$container$$=$ignoreCellAt_rect$$[$i$$];else if(null==$target$$&&this.isCellConnectable($ignoreCellAt_rect$$[$i$$])&&!this.model.isAncestor($ignoreCellAt_rect$$[$i$$],$source$$)&&!this.isSwimlane($ignoreCellAt_rect$$[$i$$])){var $targetState$$=this.view.getState($ignoreCellAt_rect$$[$i$$]);null==$parentState_sourceState$$||null==$targetState$$||mxUtils.intersects($parentState_sourceState$$,
$targetState$$)||($target$$=$ignoreCellAt_rect$$[$i$$])}}var $duplicate$$=!mxEvent.isShiftDown($evt$$)||mxEvent.isControlDown($evt$$)||$execute$$;$duplicate$$&&("1"!=urlParams.sketch||$execute$$)&&($direction$$==mxConstants.DIRECTION_NORTH?$pt$$.y-=$source$$.geometry.height/2:$direction$$==mxConstants.DIRECTION_SOUTH?$pt$$.y+=$source$$.geometry.height/2:$pt$$.x=$direction$$==mxConstants.DIRECTION_WEST?$pt$$.x-$source$$.geometry.width/2:$pt$$.x+$source$$.geometry.width/2);var $result$$=[],$realTarget$$=
$target$$;$target$$=$container$$;$execute$$=mxUtils.bind(this,function($targetCell$$){if(null==$createTarget$$||null!=$targetCell$$||null==$target$$&&$cloneSource$$){this.model.beginUpdate();try{if(null==$realTarget$$&&$duplicate$$){var $cellToClone$$=this.getAbsoluteParent(null!=$targetCell$$?$targetCell$$:$source$$);$cellToClone$$=$cloneSource$$?$source$$:this.getCompositeParent($cellToClone$$);$realTarget$$=null!=$targetCell$$?$targetCell$$:this.duplicateCells([$cellToClone$$],!1)[0];null!=$targetCell$$&&
this.addCells([$realTarget$$],this.model.getParent($source$$),null,null,null,!0);var $geo$$=this.getCellGeometry($realTarget$$);null!=$geo$$&&(null!=$targetCell$$&&"1"==urlParams.sketch&&($direction$$==mxConstants.DIRECTION_NORTH?$pt$$.y-=$geo$$.height/2:$direction$$==mxConstants.DIRECTION_SOUTH?$pt$$.y+=$geo$$.height/2:$pt$$.x=$direction$$==mxConstants.DIRECTION_WEST?$pt$$.x-$geo$$.width/2:$pt$$.x+$geo$$.width/2),$geo$$.x=$pt$$.x-$geo$$.width/2,$geo$$.y=$pt$$.y-$geo$$.height/2);null!=$container$$?
(this.addCells([$realTarget$$],$container$$,null,null,null,!0),$target$$=null):$duplicate$$&&!$cloneSource$$&&this.addCells([$realTarget$$],this.getDefaultParent(),null,null,null,!0)}var $edge$$=mxEvent.isControlDown($evt$$)&&mxEvent.isShiftDown($evt$$)&&$duplicate$$||null==$target$$&&$cloneSource$$?null:this.insertEdge(this.model.getParent($source$$),null,"",$source$$,$realTarget$$,this.createCurrentEdgeStyle());null!=$edge$$&&($result$$.push($edge$$),this.applyNewEdgeStyle($source$$,[$edge$$],$direction$$),
this.connectionHandler.insertBeforeSource&&this.insertEdgeBeforeCell($edge$$,$source$$));if(null==$target$$&&null!=$realTarget$$&&null!=$source$$.parent&&$cloneSource$$&&$direction$$==mxConstants.DIRECTION_WEST){var $index$$=$source$$.parent.getIndex($source$$);this.model.add($source$$.parent,$realTarget$$,$index$$)}null==$target$$&&null!=$realTarget$$&&$result$$.push($realTarget$$);null==$realTarget$$&&null!=$edge$$&&$edge$$.geometry.setTerminalPoint($pt$$,!1);null!=$edge$$&&this.fireEvent(new mxEventObject("cellsInserted",
"cells",[$edge$$]))}finally{this.model.endUpdate()}}if(null!=$done$$)$done$$($result$$);else return $result$$});if(null==$createTarget$$||null!=$realTarget$$||!$duplicate$$||null==$target$$&&$cloneSource$$)return $execute$$($realTarget$$);$createTarget$$($composite_dx$$+$pt$$.x*$length$jscomp$17_s$$,$dy$jscomp$14_t$$+$pt$$.y*$length$jscomp$17_s$$,$execute$$)};
Graph.prototype.getIndexableText=function($cells$$){$cells$$=null!=$cells$$?$cells$$:this.model.getDescendants(this.model.root);for(var $tmp$$=document.createElement("div"),$labels$$=[],$cell$jscomp$58_label$$,$i$$=0;$i$$<$cells$$.length;$i$$++)if($cell$jscomp$58_label$$=$cells$$[$i$$],this.model.isVertex($cell$jscomp$58_label$$)||this.model.isEdge($cell$jscomp$58_label$$))this.isHtmlLabel($cell$jscomp$58_label$$)?($tmp$$.innerHTML=Graph.sanitizeHtml(this.getLabel($cell$jscomp$58_label$$)),$cell$jscomp$58_label$$=
mxUtils.extractTextWithWhitespace([$tmp$$])):$cell$jscomp$58_label$$=this.getLabel($cell$jscomp$58_label$$),$cell$jscomp$58_label$$=mxUtils.trim($cell$jscomp$58_label$$.replace(/[\x00-\x1F\x7F-\x9F]|\s+/g," ")),0<$cell$jscomp$58_label$$.length&&$labels$$.push($cell$jscomp$58_label$$);return $labels$$.join(" ")};
Graph.prototype.convertValueToString=function($cell$$){var $name$jscomp$81_value$$=this.model.getValue($cell$$);if(null!=$name$jscomp$81_value$$&&"object"==typeof $name$jscomp$81_value$$){var $result$$=null;if(this.isReplacePlaceholders($cell$$)&&null!=$cell$$.getAttribute("placeholder")){$name$jscomp$81_value$$=$cell$$.getAttribute("placeholder");for(var $current$$=$cell$$;null==$result$$&&null!=$current$$;)null!=$current$$.value&&"object"==typeof $current$$.value&&($result$$=$current$$.hasAttribute($name$jscomp$81_value$$)?
null!=$current$$.getAttribute($name$jscomp$81_value$$)?$current$$.getAttribute($name$jscomp$81_value$$):"":null),$current$$=this.model.getParent($current$$)}else $result$$=null,Graph.translateDiagram&&null!=Graph.diagramLanguage&&($result$$=$name$jscomp$81_value$$.getAttribute("label_"+Graph.diagramLanguage)),null==$result$$&&($result$$=$name$jscomp$81_value$$.getAttribute("label")||"");return $result$$||""}return mxGraph.prototype.convertValueToString.apply(this,arguments)};
Graph.prototype.getLinksForState=function($state$$){return null!=$state$$&&null!=$state$$.text&&null!=$state$$.text.node?$state$$.text.node.getElementsByTagName("a"):null};
Graph.prototype.getLinkForCell=function($cell$jscomp$60_link$$,$allowUnsafe$$){return null!=$cell$jscomp$60_link$$.value&&"object"==typeof $cell$jscomp$60_link$$.value?($cell$jscomp$60_link$$=$cell$jscomp$60_link$$.value.getAttribute("link"),$allowUnsafe$$||($cell$jscomp$60_link$$=mxUtils.removeJavascriptProtocol($cell$jscomp$60_link$$)),$cell$jscomp$60_link$$):null};
Graph.prototype.getLinkTargetForCell=function($cell$$){return null!=$cell$$.value&&"object"==typeof $cell$$.value?$cell$$.value.getAttribute("linkTarget"):null};Graph.prototype.postProcessCellStyle=function($cell$$,$style$$){return this.updateHorizontalStyle($cell$$,this.replaceDefaultColors($cell$$,mxGraph.prototype.postProcessCellStyle.apply(this,arguments)))};
Graph.prototype.updateHorizontalStyle=function($cell$jscomp$63_layout$$,$style$$){if(null!=$cell$jscomp$63_layout$$&&null!=$style$$&&null!=this.layoutManager){var $parent$$=this.model.getParent($cell$jscomp$63_layout$$);this.model.isVertex($parent$$)&&this.isCellCollapsed($cell$jscomp$63_layout$$)&&($cell$jscomp$63_layout$$=this.layoutManager.getLayout($parent$$),null!=$cell$jscomp$63_layout$$&&$cell$jscomp$63_layout$$.constructor==mxStackLayout&&($style$$[mxConstants.STYLE_HORIZONTAL]=!$cell$jscomp$63_layout$$.horizontal))}return $style$$};
Graph.prototype.replaceDefaultColors=function($bg$jscomp$3_cell$$,$style$$){if(null!=$style$$){$bg$jscomp$3_cell$$=mxUtils.hex2rgb(this.shapeBackgroundColor);var $fg$$=mxUtils.hex2rgb(this.shapeForegroundColor);this.replaceDefaultColor($style$$,mxConstants.STYLE_FONTCOLOR,$fg$$,$bg$jscomp$3_cell$$);this.replaceDefaultColor($style$$,mxConstants.STYLE_FILLCOLOR,$bg$jscomp$3_cell$$,$fg$$);this.replaceDefaultColor($style$$,mxConstants.STYLE_GRADIENTCOLOR,$fg$$,$bg$jscomp$3_cell$$);this.replaceDefaultColor($style$$,
mxConstants.STYLE_STROKECOLOR,$fg$$,$bg$jscomp$3_cell$$);this.replaceDefaultColor($style$$,mxConstants.STYLE_IMAGE_BORDER,$fg$$,$bg$jscomp$3_cell$$);this.replaceDefaultColor($style$$,mxConstants.STYLE_IMAGE_BACKGROUND,$bg$jscomp$3_cell$$,$fg$$);this.replaceDefaultColor($style$$,mxConstants.STYLE_LABEL_BORDERCOLOR,$fg$$,$bg$jscomp$3_cell$$);this.replaceDefaultColor($style$$,mxConstants.STYLE_SWIMLANE_FILLCOLOR,$bg$jscomp$3_cell$$,$fg$$);this.replaceDefaultColor($style$$,mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,
$bg$jscomp$3_cell$$,$fg$$)}return $style$$};Graph.prototype.replaceDefaultColor=function($style$$,$key$$,$value$$,$inverseValue$$){null!=$style$$&&"default"==$style$$[$key$$]&&null!=$value$$&&($style$$[$key$$]=this.getDefaultColor($style$$,$key$$,$value$$,$inverseValue$$))};
Graph.prototype.getDefaultColor=function($style$$,$key$jscomp$53_temp$$,$defaultValue$$,$inverseDefaultValue$$){$key$jscomp$53_temp$$="default"+$key$jscomp$53_temp$$.charAt(0).toUpperCase()+$key$jscomp$53_temp$$.substring(1);"invert"==$style$$[$key$jscomp$53_temp$$]&&($defaultValue$$=$inverseDefaultValue$$);return $defaultValue$$};
Graph.prototype.updateAlternateBounds=function($cell$$,$geo$$,$willCollapse$$){if(null!=$cell$$&&null!=$geo$$&&null!=this.layoutManager&&null!=$geo$$.alternateBounds){var $layout$$=this.layoutManager.getLayout(this.model.getParent($cell$$));null!=$layout$$&&$layout$$.constructor==mxStackLayout&&($layout$$.horizontal?$geo$$.alternateBounds.height=0:$geo$$.alternateBounds.width=0)}mxGraph.prototype.updateAlternateBounds.apply(this,arguments)};
Graph.prototype.isMoveCellsEvent=function($evt$$,$state$$){return mxEvent.isShiftDown($evt$$)||"1"==mxUtils.getValue($state$$.style,"moveCells","0")};
Graph.prototype.foldCells=function($collapse$$,$recurse$$,$cells$$,$checkFoldable$$,$evt$$){$recurse$$=null!=$recurse$$?$recurse$$:!1;null==$cells$$&&($cells$$=this.getFoldableCells(this.getSelectionCells(),$collapse$$));if(null!=$cells$$){this.model.beginUpdate();try{if(mxGraph.prototype.foldCells.apply(this,arguments),null!=this.layoutManager)for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $state$$=this.view.getState($cells$$[$i$$]),$geo$$=this.getCellGeometry($cells$$[$i$$]);if(null!=$state$$&&
null!=$geo$$){var $dx$$=0,$dy$$=0;if($geo$$.alternateBounds)$dx$$=$geo$$.width-$geo$$.alternateBounds.width,$dy$$=$geo$$.height-$geo$$.alternateBounds.height;else{var $s$$=this.useCssTransforms?1:this.view.scale;$dx$$=Math.round($geo$$.width-$state$$.width/$s$$);$dy$$=Math.round($geo$$.height-$state$$.height/$s$$)}if(0!=$dy$$||0!=$dx$$){var $parent$$=this.model.getParent($cells$$[$i$$]),$layout$$=this.layoutManager.getLayout($parent$$);null==$layout$$?null!=$evt$$&&this.isMoveCellsEvent($evt$$,$state$$)&&
this.moveSiblings($state$$,$parent$$,$dx$$,$dy$$):null!=$evt$$&&mxEvent.isAltDown($evt$$)||$layout$$.constructor!=mxStackLayout||$layout$$.resizeLast||this.resizeParentStacks($parent$$,$layout$$,$dx$$,$dy$$)}}}}finally{this.model.endUpdate()}this.isEnabled()&&this.setSelectionCells($cells$$)}};
Graph.prototype.moveSiblings=function($state$$,$i$jscomp$66_parent$$,$dx$$,$dy$$){this.model.beginUpdate();try{var $cells$$=this.getCellsBeyond($state$$.x,$state$$.y,$i$jscomp$66_parent$$,!0,!0);for($i$jscomp$66_parent$$=0;$i$jscomp$66_parent$$<$cells$$.length;$i$jscomp$66_parent$$++)if($cells$$[$i$jscomp$66_parent$$]!=$state$$.cell){var $tmp$$=this.view.getState($cells$$[$i$jscomp$66_parent$$]),$geo$$=this.getCellGeometry($cells$$[$i$jscomp$66_parent$$]);null!=$tmp$$&&null!=$geo$$&&($geo$$=$geo$$.clone(),
$geo$$.translate(Math.round($dx$$*Math.max(0,Math.min(1,($tmp$$.x-$state$$.x)/$state$$.width))),Math.round($dy$$*Math.max(0,Math.min(1,($tmp$$.y-$state$$.y)/$state$$.height)))),this.model.setGeometry($cells$$[$i$jscomp$66_parent$$],$geo$$))}}finally{this.model.endUpdate()}};
Graph.prototype.resizeParentStacks=function($parent$$,$layout$$,$dx$$,$dy$$){if(null!=this.layoutManager&&null!=$layout$$&&$layout$$.constructor==mxStackLayout&&!$layout$$.resizeLast){this.model.beginUpdate();try{for(var $dir$$=$layout$$.horizontal;null!=$parent$$&&null!=$layout$$&&$layout$$.constructor==mxStackLayout&&$layout$$.horizontal==$dir$$&&!$layout$$.resizeLast;){var $pgeo$$=this.getCellGeometry($parent$$),$pstate$$=this.view.getState($parent$$);null!=$pstate$$&&null!=$pgeo$$&&($pgeo$$=$pgeo$$.clone(),
$layout$$.horizontal?$pgeo$$.width+=$dx$$+Math.min(0,$pstate$$.width/this.view.scale-$pgeo$$.width):$pgeo$$.height+=$dy$$+Math.min(0,$pstate$$.height/this.view.scale-$pgeo$$.height),this.model.setGeometry($parent$$,$pgeo$$));$parent$$=this.model.getParent($parent$$);$layout$$=this.layoutManager.getLayout($parent$$)}}finally{this.model.endUpdate()}}};
Graph.prototype.isContainer=function($cell$$){var $style$$=this.getCurrentCellStyle($cell$$);return this.isSwimlane($cell$$)?"0"!=$style$$.container:"1"==$style$$.container};Graph.prototype.isCellConnectable=function($cell$$){var $style$$=this.getCurrentCellStyle($cell$$);return!this.isCellLocked(this.getLayerForCell($cell$$))&&(null!=$style$$.connectable?"0"!=$style$$.connectable:mxGraph.prototype.isCellConnectable.apply(this,arguments))};
Graph.prototype.isLabelMovable=function($cell$$){var $style$$=this.getCurrentCellStyle($cell$$);return null!=$style$$.movableLabel?"0"!=$style$$.movableLabel:mxGraph.prototype.isLabelMovable.apply(this,arguments)};Graph.prototype.selectAll=function($parent$$){$parent$$=$parent$$||this.getDefaultParent();this.isCellLocked($parent$$)||mxGraph.prototype.selectAll.apply(this,arguments)};
Graph.prototype.selectCells=function($vertices$$,$edges$$,$parent$$){$parent$$=$parent$$||this.getDefaultParent();this.isCellLocked($parent$$)||mxGraph.prototype.selectCells.apply(this,arguments)};Graph.prototype.getSwimlaneAt=function($x$$,$y$$,$parent$$){var $result$$=mxGraph.prototype.getSwimlaneAt.apply(this,arguments);this.isCellLocked($result$$)&&($result$$=null);return $result$$};
Graph.prototype.isCellFoldable=function($cell$$){var $style$$=this.getCurrentCellStyle($cell$$);return this.foldingEnabled&&"0"!=mxUtils.getValue($style$$,mxConstants.STYLE_RESIZABLE,"1")&&("1"==$style$$.treeFolding||!this.isCellLocked($cell$$)&&(this.isContainer($cell$$)&&"0"!=$style$$.collapsible||!this.isContainer($cell$$)&&"1"==$style$$.collapsible))};Graph.prototype.reset=function(){this.isEditing()&&this.stopEditing(!0);this.escape();this.isSelectionEmpty()||this.clearSelection()};
Graph.prototype.zoom=function($factor$$,$center$$){$factor$$=Math.max(.01,Math.min(this.view.scale*$factor$$,160))/this.view.scale;mxGraph.prototype.zoom.apply(this,arguments)};Graph.prototype.zoomIn=function(){.15>this.view.scale?this.zoom((this.view.scale+.01)/this.view.scale):this.zoom(Math.round(this.view.scale*this.zoomFactor*20)/20/this.view.scale)};
Graph.prototype.zoomOut=function(){.15>=this.view.scale?this.zoom((this.view.scale-.01)/this.view.scale):this.zoom(Math.round(1/this.zoomFactor*this.view.scale*20)/20/this.view.scale)};
Graph.prototype.fitPages=function($pageCount$$,$ignoreHeight$$){var $layout$jscomp$12_pad$$=1;null==$pageCount$$&&($layout$jscomp$12_pad$$=this.getPageLayout(),$pageCount$$=$layout$jscomp$12_pad$$.width,$layout$jscomp$12_pad$$=$layout$jscomp$12_pad$$.height);var $ps$$=this.pageScale,$fmt$$=this.pageFormat,$ch$$=this.container.clientHeight-10,$sx$$=(this.container.clientWidth-10)/($pageCount$$*$fmt$$.width)/$ps$$;this.zoomTo(Math.floor(20*($ignoreHeight$$?$sx$$:Math.min($sx$$,$ch$$/($layout$jscomp$12_pad$$*
$fmt$$.height)/$ps$$)))/20);mxUtils.hasScrollbars(this.container)&&($layout$jscomp$12_pad$$=this.getPagePadding(),this.container.scrollLeft=Math.min($layout$jscomp$12_pad$$.x*this.view.scale,(this.container.scrollWidth-this.container.clientWidth)/2)-1,$ignoreHeight$$||(this.container.scrollTop=2<=$pageCount$$?Math.min($layout$jscomp$12_pad$$.y,(this.container.scrollHeight-this.container.clientHeight)/2):$layout$jscomp$12_pad$$.y*this.view.scale-1))};
Graph.prototype.fitWindow=function($bounds$$,$border$$){$border$$=null!=$border$$?$border$$:10;var $cw$$=this.container.clientWidth-$border$$,$ch$$=this.container.clientHeight-$border$$;this.zoomTo(Math.floor(20*Math.min($cw$$/$bounds$$.width,$ch$$/$bounds$$.height))/20);mxUtils.hasScrollbars(this.container)&&window.setTimeout(mxUtils.bind(this,function(){var $t$$=this.view.translate;this.container.scrollLeft=($bounds$$.x+$t$$.x)*this.view.scale-Math.max(($cw$$-$bounds$$.width*this.view.scale)/2+
$border$$/2,0);this.container.scrollTop=($bounds$$.y+$t$$.y)*this.view.scale-Math.max(($ch$$-$bounds$$.height*this.view.scale)/2+$border$$/2,0)}),0)};
Graph.prototype.convertValueToTooltip=function($cell$$){var $tmp$$=null;mxUtils.isNode($cell$$.value)&&(Graph.translateDiagram&&null!=Graph.diagramLanguage&&($tmp$$=$cell$$.value.getAttribute("tooltip_"+Graph.diagramLanguage)),null==$tmp$$&&($tmp$$=$cell$$.value.getAttribute("tooltip")),null!=$tmp$$&&(null!=$tmp$$&&this.isReplacePlaceholders($cell$$)&&($tmp$$=this.replacePlaceholders($cell$$,$tmp$$)),$tmp$$=Graph.sanitizeHtml($tmp$$)));return $tmp$$};
Graph.prototype.getTooltipForCell=function($attrs$jscomp$1_cell$$){var $tip$$="";if(mxUtils.isNode($attrs$jscomp$1_cell$$.value)&&($tip$$=this.convertValueToTooltip($attrs$jscomp$1_cell$$),null==$tip$$)){var $ignored$$=this.builtInProperties;$attrs$jscomp$1_cell$$=$attrs$jscomp$1_cell$$.value.attributes;var $temp$$=[];$tip$$="";this.isEnabled()&&($ignored$$.push("linkTarget"),$ignored$$.push("link"));for(var $i$$=0;$i$$<$attrs$jscomp$1_cell$$.length;$i$$++)(Graph.translateDiagram&&"label"==$attrs$jscomp$1_cell$$[$i$$].nodeName||
0>mxUtils.indexOf($ignored$$,$attrs$jscomp$1_cell$$[$i$$].nodeName))&&0<$attrs$jscomp$1_cell$$[$i$$].nodeValue.length&&$temp$$.push({name:$attrs$jscomp$1_cell$$[$i$$].nodeName,value:$attrs$jscomp$1_cell$$[$i$$].nodeValue});$temp$$.sort(function($a$$,$b$$){return $a$$.name<$b$$.name?-1:$a$$.name>$b$$.name?1:0});for($i$$=0;$i$$<$temp$$.length;$i$$++)"link"==$temp$$[$i$$].name&&this.isCustomLink($temp$$[$i$$].value)||($tip$$+=("link"!=$temp$$[$i$$].name?"<b>"+mxUtils.htmlEntities($temp$$[$i$$].name)+
":</b> ":"")+mxUtils.htmlEntities($temp$$[$i$$].value)+"\n");0<$tip$$.length&&($tip$$=$tip$$.substring(0,$tip$$.length-1),mxClient.IS_SVG&&($tip$$='<div style="max-width:360px;text-overflow:ellipsis;overflow:hidden;">'+$tip$$+"</div>"))}return $tip$$};
Graph.prototype.addFlowAnimationToNode=function($node$$,$ad_style$$,$d$jscomp$5_scale$$,$id$$){if(null!=$node$$&&null!=$id$$){var $dashArray_sum_sw$$=$node$$.getAttribute("stroke-dasharray");if(""==$dashArray_sum_sw$$||null==$dashArray_sum_sw$$){var $tf$jscomp$3_tokens$$=String(mxUtils.getValue($ad_style$$,mxConstants.STYLE_DASH_PATTERN,"8")).split(" ");$dashArray_sum_sw$$=1==mxUtils.getValue($ad_style$$,mxConstants.STYLE_FIX_DASH,!1)||null==$ad_style$$.dashPattern?1:mxUtils.getNumber($ad_style$$,
mxConstants.STYLE_STROKEWIDTH,1);if(0<$tf$jscomp$3_tokens$$.length)for(var $i$$=0;$i$$<$tf$jscomp$3_tokens$$.length;$i$$++)$tf$jscomp$3_tokens$$[$i$$]=Math.round(Number($tf$jscomp$3_tokens$$[$i$$])*$d$jscomp$5_scale$$*$dashArray_sum_sw$$*100)/100;$node$$.setAttribute("stroke-dasharray",$tf$jscomp$3_tokens$$.join(" "))}else $tf$jscomp$3_tokens$$=$dashArray_sum_sw$$.split(" ");if(0<$tf$jscomp$3_tokens$$.length){for($i$$=$dashArray_sum_sw$$=0;$i$$<$tf$jscomp$3_tokens$$.length;$i$$++){var $temp$$=parseFloat($tf$jscomp$3_tokens$$[$i$$]);
isNaN($temp$$)||($dashArray_sum_sw$$+=parseFloat($tf$jscomp$3_tokens$$[$i$$]))}0!=$tf$jscomp$3_tokens$$.length%2&&($dashArray_sum_sw$$*=2);$d$jscomp$5_scale$$=Math.round($dashArray_sum_sw$$/$d$jscomp$5_scale$$/16*parseInt(mxUtils.getValue($ad_style$$,"flowAnimationDuration",500)));$tf$jscomp$3_tokens$$=mxUtils.getValue($ad_style$$,"flowAnimationTimingFunction","linear");$ad_style$$=mxUtils.getValue($ad_style$$,"flowAnimationDirection","normal");$node$$.style.animation=$id$$+" "+$d$jscomp$5_scale$$+
"ms "+mxUtils.htmlEntities($tf$jscomp$3_tokens$$)+" infinite "+mxUtils.htmlEntities($ad_style$$);$node$$.style.strokeDashoffset=$dashArray_sum_sw$$}}};Graph.prototype.addFlowAnimationStyle=function(){var $head$$=document.getElementsByTagName("head")[0];if(null!=$head$$&&null==this.flowAnimationId){this.flowAnimationId="ge-flow-animation-"+Editor.guid();var $style$$=document.createElement("style");$style$$.innerHTML=this.createFlowAnimationCss(this.flowAnimationId);$head$$.appendChild($style$$)}return this.flowAnimationId};
Graph.prototype.createFlowAnimationCss=function($id$$){return"@keyframes "+$id$$+" {\n  to {\n    stroke-dashoffset: 0;\n  }\n}"};Graph.prototype.stringToBytes=function($str$$){return Graph.stringToBytes($str$$)};Graph.prototype.bytesToString=function($arr$$){return Graph.bytesToString($arr$$)};Graph.prototype.compressNode=function($node$$){return Graph.compressNode($node$$)};Graph.prototype.compress=function($data$$,$deflate$$){return Graph.compress($data$$,$deflate$$)};
Graph.prototype.decompress=function($data$$,$inflate$$){return Graph.decompress($data$$,$inflate$$)};Graph.prototype.zapGremlins=function($text$$){return Graph.zapGremlins($text$$)};HoverIcons=function($graph$$){mxEventSource.call(this);this.graph=$graph$$;this.init()};mxUtils.extend(HoverIcons,mxEventSource);HoverIcons.prototype.arrowSpacing=2;HoverIcons.prototype.updateDelay=500;HoverIcons.prototype.activationDelay=140;HoverIcons.prototype.currentState=null;HoverIcons.prototype.activeArrow=null;
HoverIcons.prototype.inactiveOpacity=15;HoverIcons.prototype.cssCursor="copy";HoverIcons.prototype.checkCollisions=!0;HoverIcons.prototype.arrowFill="#29b6f2";HoverIcons.prototype.triangleUp=mxClient.IS_SVG?Graph.createSvgImage(18,28,'<path d="m 6 26 L 12 26 L 12 12 L 18 12 L 9 1 L 1 12 L 6 12 z" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>'):new mxImage(IMAGE_PATH+"/triangle-up.png",26,14);
HoverIcons.prototype.triangleRight=mxClient.IS_SVG?Graph.createSvgImage(26,18,'<path d="m 1 6 L 14 6 L 14 1 L 26 9 L 14 18 L 14 12 L 1 12 z" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>'):new mxImage(IMAGE_PATH+"/triangle-right.png",14,26);HoverIcons.prototype.triangleDown=mxClient.IS_SVG?Graph.createSvgImage(18,26,'<path d="m 6 1 L 6 14 L 1 14 L 9 26 L 18 14 L 12 14 L 12 1 z" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>'):new mxImage(IMAGE_PATH+"/triangle-down.png",26,14);
HoverIcons.prototype.triangleLeft=mxClient.IS_SVG?Graph.createSvgImage(28,18,'<path d="m 1 9 L 12 1 L 12 6 L 26 6 L 26 12 L 12 12 L 12 18 z" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>'):new mxImage(IMAGE_PATH+"/triangle-left.png",14,26);HoverIcons.prototype.roundDrop=mxClient.IS_SVG?Graph.createSvgImage(26,26,'<circle cx="13" cy="13" r="12" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>'):new mxImage(IMAGE_PATH+"/round-drop.png",26,26);
HoverIcons.prototype.refreshTarget=new mxImage(mxClient.IS_SVG?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjM2cHgiIGhlaWdodD0iMzZweCI+PGVsbGlwc2UgZmlsbD0iIzI5YjZmMiIgY3g9IjEyIiBjeT0iMTIiIHJ4PSIxMiIgcnk9IjEyIi8+PHBhdGggdHJhbnNmb3JtPSJzY2FsZSgwLjgpIHRyYW5zbGF0ZSgyLjQsIDIuNCkiIHN0cm9rZT0iI2ZmZiIgZmlsbD0iI2ZmZiIgZD0iTTEyIDZ2M2w0LTQtNC00djNjLTQuNDIgMC04IDMuNTgtOCA4IDAgMS41Ny40NiAzLjAzIDEuMjQgNC4yNkw2LjcgMTQuOGMtLjQ1LS44My0uNy0xLjc5LS43LTIuOCAwLTMuMzEgMi42OS02IDYtNnptNi43NiAxLjc0TDE3LjMgOS4yYy40NC44NC43IDEuNzkuNyAyLjggMCAzLjMxLTIuNjkgNi02IDZ2LTNsLTQgNCA0IDR2LTNjNC40MiAwIDgtMy41OCA4LTggMC0xLjU3LS40Ni0zLjAzLTEuMjQtNC4yNnoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PC9zdmc+Cg==":
IMAGE_PATH+"/refresh.png",38,38);HoverIcons.prototype.tolerance=mxClient.IS_TOUCH?6:0;
HoverIcons.prototype.init=function(){this.arrowUp=this.createArrow(this.triangleUp,mxResources.get("plusTooltip"),mxConstants.DIRECTION_NORTH);this.arrowRight=this.createArrow(this.triangleRight,mxResources.get("plusTooltip"),mxConstants.DIRECTION_EAST);this.arrowDown=this.createArrow(this.triangleDown,mxResources.get("plusTooltip"),mxConstants.DIRECTION_SOUTH);this.arrowLeft=this.createArrow(this.triangleLeft,mxResources.get("plusTooltip"),mxConstants.DIRECTION_WEST);this.elts=[this.arrowUp,this.arrowRight,
this.arrowDown,this.arrowLeft];this.resetHandler=mxUtils.bind(this,function(){this.reset()});this.repaintHandler=mxUtils.bind(this,function(){this.repaint()});this.graph.selectionModel.addListener(mxEvent.CHANGE,this.resetHandler);this.graph.model.addListener(mxEvent.CHANGE,this.repaintHandler);this.graph.view.addListener(mxEvent.SCALE_AND_TRANSLATE,this.repaintHandler);this.graph.view.addListener(mxEvent.TRANSLATE,this.repaintHandler);this.graph.view.addListener(mxEvent.SCALE,this.repaintHandler);
this.graph.view.addListener(mxEvent.DOWN,this.repaintHandler);this.graph.view.addListener(mxEvent.UP,this.repaintHandler);this.graph.addListener(mxEvent.ROOT,this.repaintHandler);this.graph.addListener(mxEvent.ESCAPE,this.resetHandler);mxEvent.addListener(this.graph.container,"scroll",this.resetHandler);this.graph.addListener(mxEvent.ESCAPE,mxUtils.bind(this,function(){this.mouseDownPoint=null}));mxEvent.addListener(this.graph.container,"mouseleave",mxUtils.bind(this,function($evt$$){null!=$evt$$.relatedTarget&&
mxEvent.getSource($evt$$)==this.graph.container&&this.setDisplay("none")}));this.graph.addListener(mxEvent.START_EDITING,mxUtils.bind(this,function($evt$$){this.reset()}));var $graphClick$$=this.graph.click;this.graph.click=mxUtils.bind(this,function($me$$){$graphClick$$.apply(this.graph,arguments);null==this.currentState||this.graph.isCellSelected(this.currentState.cell)||!mxEvent.isTouchEvent($me$$.getEvent())||this.graph.model.isVertex($me$$.getCell())||this.reset()});var $connectionHandlerActive$$=
!1;this.graph.addMouseListener({mouseDown:mxUtils.bind(this,function($evt$jscomp$155_sender$$,$me$jscomp$27_state$$){$connectionHandlerActive$$=!1;$evt$jscomp$155_sender$$=$me$jscomp$27_state$$.getEvent();this.isResetEvent($evt$jscomp$155_sender$$)?this.reset():this.isActive()||($me$jscomp$27_state$$=this.getState($me$jscomp$27_state$$.getState()),null==$me$jscomp$27_state$$&&mxEvent.isTouchEvent($evt$jscomp$155_sender$$)||this.update($me$jscomp$27_state$$));this.setDisplay("none")}),mouseMove:mxUtils.bind(this,
function($evt$jscomp$156_sender$$,$me$$){$evt$jscomp$156_sender$$=$me$$.getEvent();this.isResetEvent($evt$jscomp$156_sender$$)?this.reset():this.graph.isMouseDown||mxEvent.isTouchEvent($evt$jscomp$156_sender$$)||this.update(this.getState($me$$.getState()),$me$$.getGraphX(),$me$$.getGraphY());null!=this.graph.connectionHandler&&null!=this.graph.connectionHandler.shape&&($connectionHandlerActive$$=!0)}),mouseUp:mxUtils.bind(this,function($evt$jscomp$157_sender$$,$me$$){$evt$jscomp$157_sender$$=$me$$.getEvent();
mxUtils.convertPoint(this.graph.container,mxEvent.getClientX($evt$jscomp$157_sender$$),mxEvent.getClientY($evt$jscomp$157_sender$$));this.isResetEvent($evt$jscomp$157_sender$$)?this.reset():this.isActive()&&!$connectionHandlerActive$$&&null!=this.mouseDownPoint?this.click(this.currentState,this.getDirection(),$me$$):this.isActive()?1==this.graph.getSelectionCount()&&this.graph.model.isEdge(this.graph.getSelectionCell())?this.reset():this.update(this.getState(this.graph.view.getState(this.graph.getCellAt($me$$.getGraphX(),
$me$$.getGraphY())))):mxEvent.isTouchEvent($evt$jscomp$157_sender$$)||null!=this.bbox&&mxUtils.contains(this.bbox,$me$$.getGraphX(),$me$$.getGraphY())?(this.setDisplay(""),this.repaint()):mxEvent.isTouchEvent($evt$jscomp$157_sender$$)||this.reset();$connectionHandlerActive$$=!1;this.resetActiveArrow()})})};HoverIcons.prototype.isResetEvent=function($evt$$,$allowShift$$){return mxEvent.isAltDown($evt$$)||null==this.activeArrow&&mxEvent.isShiftDown($evt$$)||mxEvent.isPopupTrigger($evt$$)&&!this.graph.isCloneEvent($evt$$)};
HoverIcons.prototype.createArrow=function($img$$,$tooltip$$,$direction$$){var $arrow$$=null;$arrow$$=mxUtils.createImage($img$$.src);$arrow$$.style.width=$img$$.width+"px";$arrow$$.style.height=$img$$.height+"px";$arrow$$.style.padding=this.tolerance+"px";null!=$tooltip$$&&$arrow$$.setAttribute("title",$tooltip$$);$arrow$$.style.position="absolute";$arrow$$.style.cursor=this.cssCursor;mxEvent.addGestureListeners($arrow$$,mxUtils.bind(this,function($evt$$){null==this.currentState||this.isResetEvent($evt$$)||
(this.mouseDownPoint=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$)),this.drag($evt$$,this.mouseDownPoint.x,this.mouseDownPoint.y),this.activeArrow=$arrow$$,this.setDisplay("none"),mxEvent.consume($evt$$))}));mxEvent.redirectMouseEvents($arrow$$,this.graph,this.currentState);mxEvent.addListener($arrow$$,"mouseenter",mxUtils.bind(this,function($evt$$){mxEvent.isMouseEvent($evt$$)&&(null!=this.activeArrow&&this.activeArrow!=$arrow$$&&mxUtils.setOpacity(this.activeArrow,
this.inactiveOpacity),this.graph.connectionHandler.constraintHandler.reset(),mxUtils.setOpacity($arrow$$,100),this.activeArrow=$arrow$$,this.fireEvent(new mxEventObject("focus","arrow",$arrow$$,"direction",$direction$$,"event",$evt$$)))}));mxEvent.addListener($arrow$$,"mouseleave",mxUtils.bind(this,function($evt$$){mxEvent.isMouseEvent($evt$$)&&this.fireEvent(new mxEventObject("blur","arrow",$arrow$$,"direction",$direction$$,"event",$evt$$));this.graph.isMouseDown||this.resetActiveArrow()}));return $arrow$$};
HoverIcons.prototype.resetActiveArrow=function(){null!=this.activeArrow&&(mxUtils.setOpacity(this.activeArrow,this.inactiveOpacity),this.activeArrow=null)};HoverIcons.prototype.getDirection=function(){var $dir$$=mxConstants.DIRECTION_EAST;this.activeArrow==this.arrowUp?$dir$$=mxConstants.DIRECTION_NORTH:this.activeArrow==this.arrowDown?$dir$$=mxConstants.DIRECTION_SOUTH:this.activeArrow==this.arrowLeft&&($dir$$=mxConstants.DIRECTION_WEST);return $dir$$};
HoverIcons.prototype.visitNodes=function($visitor$$){for(var $i$$=0;$i$$<this.elts.length;$i$$++)null!=this.elts[$i$$]&&$visitor$$(this.elts[$i$$])};HoverIcons.prototype.removeNodes=function(){this.visitNodes(function($elt$$){null!=$elt$$.parentNode&&$elt$$.parentNode.removeChild($elt$$)})};HoverIcons.prototype.setDisplay=function($display$$){this.visitNodes(function($elt$$){$elt$$.style.display=$display$$})};HoverIcons.prototype.isActive=function(){return null!=this.activeArrow&&null!=this.currentState};
HoverIcons.prototype.drag=function($direction$jscomp$11_evt$$,$es_handler$jscomp$7_x$$,$y$$){this.graph.popupMenuHandler.hideMenu();this.graph.stopEditing(!1);null!=this.currentState&&(this.graph.connectionHandler.start(this.currentState,$es_handler$jscomp$7_x$$,$y$$),this.graph.isMouseTrigger=mxEvent.isMouseEvent($direction$jscomp$11_evt$$),this.graph.isMouseDown=!0,$es_handler$jscomp$7_x$$=this.graph.selectionCellsHandler.getHandler(this.currentState.cell),null!=$es_handler$jscomp$7_x$$&&$es_handler$jscomp$7_x$$.setHandlesVisible(!1),
$es_handler$jscomp$7_x$$=this.graph.connectionHandler.edgeState,null!=$direction$jscomp$11_evt$$&&mxEvent.isShiftDown($direction$jscomp$11_evt$$)&&mxEvent.isControlDown($direction$jscomp$11_evt$$)&&null!=$es_handler$jscomp$7_x$$&&"orthogonalEdgeStyle"===mxUtils.getValue($es_handler$jscomp$7_x$$.style,mxConstants.STYLE_EDGE,null)&&($direction$jscomp$11_evt$$=this.getDirection(),$es_handler$jscomp$7_x$$.cell.style=mxUtils.setStyle($es_handler$jscomp$7_x$$.cell.style,"sourcePortConstraint",$direction$jscomp$11_evt$$),
$es_handler$jscomp$7_x$$.style.sourcePortConstraint=$direction$jscomp$11_evt$$))};HoverIcons.prototype.getStateAt=function($state$$,$x$$,$y$$){return this.graph.view.getState(this.graph.getCellAt($x$$,$y$$))};
HoverIcons.prototype.click=function($state$$,$dir$$,$me$$){var $evt$$=$me$$.getEvent(),$tmp$jscomp$16_x$$=$me$$.getGraphX(),$y$$=$me$$.getGraphY();$tmp$jscomp$16_x$$=this.getStateAt($state$$,$tmp$jscomp$16_x$$,$y$$);null==$tmp$jscomp$16_x$$||!this.graph.model.isEdge($tmp$jscomp$16_x$$.cell)||this.graph.isCloneEvent($evt$$)||$tmp$jscomp$16_x$$.getVisibleTerminalState(!0)!=$state$$&&$tmp$jscomp$16_x$$.getVisibleTerminalState(!1)!=$state$$?null!=$state$$&&this.execute($state$$,$dir$$,$me$$):(this.graph.setSelectionCell($tmp$jscomp$16_x$$.cell),
this.reset());$me$$.consume()};HoverIcons.prototype.execute=function($state$$,$dir$$,$evt$jscomp$164_me$$){$evt$jscomp$164_me$$=$evt$jscomp$164_me$$.getEvent();this.graph.selectCellsForConnectVertex(this.graph.connectVertex($state$$.cell,$dir$$,this.graph.defaultEdgeLength,$evt$jscomp$164_me$$,this.graph.isCloneEvent($evt$jscomp$164_me$$),this.graph.isCloneEvent($evt$jscomp$164_me$$)),$evt$jscomp$164_me$$,this)};
HoverIcons.prototype.reset=function($clearTimeout$$){null!=$clearTimeout$$&&!$clearTimeout$$||null==this.updateThread||window.clearTimeout(this.updateThread);this.activeArrow=this.currentState=this.mouseDownPoint=null;this.removeNodes();this.bbox=null;this.fireEvent(new mxEventObject("reset"))};
HoverIcons.prototype.repaint=function(){this.bbox=null;if(null!=this.currentState){this.currentState=this.getState(this.currentState);if(null!=this.currentState&&this.graph.model.isVertex(this.currentState.cell)&&this.graph.isCellConnectable(this.currentState.cell)){var $bds$jscomp$3_bottom$$=mxRectangle.fromRectangle(this.currentState);null!=this.currentState.shape&&null!=this.currentState.shape.boundingBox&&($bds$jscomp$3_bottom$$=mxRectangle.fromRectangle(this.currentState.shape.boundingBox));
$bds$jscomp$3_bottom$$.grow(this.graph.tolerance);$bds$jscomp$3_bottom$$.grow(this.arrowSpacing);var $handler$jscomp$8_positionArrow_right$$=this.graph.selectionCellsHandler.getHandler(this.currentState.cell);this.graph.isTableRow(this.currentState.cell)&&($handler$jscomp$8_positionArrow_right$$=this.graph.selectionCellsHandler.getHandler(this.graph.model.getParent(this.currentState.cell)));var $rotationBbox$$=null;null!=$handler$jscomp$8_positionArrow_right$$&&($bds$jscomp$3_bottom$$.x-=$handler$jscomp$8_positionArrow_right$$.horizontalOffset/
2,$bds$jscomp$3_bottom$$.y-=$handler$jscomp$8_positionArrow_right$$.verticalOffset/2,$bds$jscomp$3_bottom$$.width+=$handler$jscomp$8_positionArrow_right$$.horizontalOffset,$bds$jscomp$3_bottom$$.height+=$handler$jscomp$8_positionArrow_right$$.verticalOffset,null!=$handler$jscomp$8_positionArrow_right$$.rotationShape&&null!=$handler$jscomp$8_positionArrow_right$$.rotationShape.node&&"hidden"!=$handler$jscomp$8_positionArrow_right$$.rotationShape.node.style.visibility&&"none"!=$handler$jscomp$8_positionArrow_right$$.rotationShape.node.style.display&&
null!=$handler$jscomp$8_positionArrow_right$$.rotationShape.boundingBox&&($rotationBbox$$=$handler$jscomp$8_positionArrow_right$$.rotationShape.boundingBox));$handler$jscomp$8_positionArrow_right$$=mxUtils.bind(this,function($arrow$$,$x$$,$y$$){if(null!=$rotationBbox$$){var $bbox$$=new mxRectangle($x$$,$y$$,$arrow$$.clientWidth,$arrow$$.clientHeight);mxUtils.intersects($bbox$$,$rotationBbox$$)&&($arrow$$==this.arrowUp?$y$$-=$bbox$$.y+$bbox$$.height-$rotationBbox$$.y:$arrow$$==this.arrowRight?$x$$+=
$rotationBbox$$.x+$rotationBbox$$.width-$bbox$$.x:$arrow$$==this.arrowDown?$y$$+=$rotationBbox$$.y+$rotationBbox$$.height-$bbox$$.y:$arrow$$==this.arrowLeft&&($x$$-=$bbox$$.x+$bbox$$.width-$rotationBbox$$.x))}$arrow$$.style.left=$x$$+"px";$arrow$$.style.top=$y$$+"px";mxUtils.setOpacity($arrow$$,this.inactiveOpacity)});$handler$jscomp$8_positionArrow_right$$(this.arrowUp,Math.round(this.currentState.getCenterX()-this.triangleUp.width/2-this.tolerance),Math.round($bds$jscomp$3_bottom$$.y-this.triangleUp.height-
this.tolerance));$handler$jscomp$8_positionArrow_right$$(this.arrowRight,Math.round($bds$jscomp$3_bottom$$.x+$bds$jscomp$3_bottom$$.width-this.tolerance),Math.round(this.currentState.getCenterY()-this.triangleRight.height/2-this.tolerance));$handler$jscomp$8_positionArrow_right$$(this.arrowDown,parseInt(this.arrowUp.style.left),Math.round($bds$jscomp$3_bottom$$.y+$bds$jscomp$3_bottom$$.height-this.tolerance));$handler$jscomp$8_positionArrow_right$$(this.arrowLeft,Math.round($bds$jscomp$3_bottom$$.x-
this.triangleLeft.width-this.tolerance),parseInt(this.arrowRight.style.top));if(this.checkCollisions){$handler$jscomp$8_positionArrow_right$$=this.graph.getCellAt($bds$jscomp$3_bottom$$.x+$bds$jscomp$3_bottom$$.width+this.triangleRight.width/2,this.currentState.getCenterY());var $left$$=this.graph.getCellAt($bds$jscomp$3_bottom$$.x-this.triangleLeft.width/2,this.currentState.getCenterY()),$top$$=this.graph.getCellAt(this.currentState.getCenterX(),$bds$jscomp$3_bottom$$.y-this.triangleUp.height/2);
$bds$jscomp$3_bottom$$=this.graph.getCellAt(this.currentState.getCenterX(),$bds$jscomp$3_bottom$$.y+$bds$jscomp$3_bottom$$.height+this.triangleDown.height/2);null!=$handler$jscomp$8_positionArrow_right$$&&$handler$jscomp$8_positionArrow_right$$==$left$$&&$left$$==$top$$&&$top$$==$bds$jscomp$3_bottom$$&&($bds$jscomp$3_bottom$$=$top$$=$left$$=$handler$jscomp$8_positionArrow_right$$=null);var $currentGeo$$=this.graph.getCellGeometry(this.currentState.cell),$checkCollision$$=mxUtils.bind(this,function($cell$$,
$arrow$$){var $geo$$=this.graph.model.isVertex($cell$$)&&this.graph.getCellGeometry($cell$$);null==$cell$$||this.graph.model.isAncestor($cell$$,this.currentState.cell)||this.graph.isSwimlane($cell$$)||!(null==$geo$$||null==$currentGeo$$||$geo$$.height<3*$currentGeo$$.height&&$geo$$.width<3*$currentGeo$$.width)?$arrow$$.style.visibility="visible":$arrow$$.style.visibility="hidden"});$checkCollision$$($handler$jscomp$8_positionArrow_right$$,this.arrowRight);$checkCollision$$($left$$,this.arrowLeft);
$checkCollision$$($top$$,this.arrowUp);$checkCollision$$($bds$jscomp$3_bottom$$,this.arrowDown)}else this.arrowLeft.style.visibility="visible",this.arrowRight.style.visibility="visible",this.arrowUp.style.visibility="visible",this.arrowDown.style.visibility="visible";this.graph.tooltipHandler.isEnabled()?(this.arrowLeft.setAttribute("title",mxResources.get("plusTooltip")),this.arrowRight.setAttribute("title",mxResources.get("plusTooltip")),this.arrowUp.setAttribute("title",mxResources.get("plusTooltip")),
this.arrowDown.setAttribute("title",mxResources.get("plusTooltip"))):(this.arrowLeft.removeAttribute("title"),this.arrowRight.removeAttribute("title"),this.arrowUp.removeAttribute("title"),this.arrowDown.removeAttribute("title"))}else this.reset();null!=this.currentState&&(this.bbox=this.computeBoundingBox(),null!=this.bbox&&this.bbox.grow(10))}};
HoverIcons.prototype.computeBoundingBox=function(){var $bbox$$=this.graph.model.isEdge(this.currentState.cell)?null:mxRectangle.fromRectangle(this.currentState);this.visitNodes(function($elt$jscomp$15_tmp$$){null!=$elt$jscomp$15_tmp$$.parentNode&&($elt$jscomp$15_tmp$$=new mxRectangle($elt$jscomp$15_tmp$$.offsetLeft,$elt$jscomp$15_tmp$$.offsetTop,$elt$jscomp$15_tmp$$.offsetWidth,$elt$jscomp$15_tmp$$.offsetHeight),null==$bbox$$?$bbox$$=$elt$jscomp$15_tmp$$:$bbox$$.add($elt$jscomp$15_tmp$$))});return $bbox$$};
HoverIcons.prototype.getState=function($cell$jscomp$73_state$$){if(null!=$cell$jscomp$73_state$$)if($cell$jscomp$73_state$$=$cell$jscomp$73_state$$.cell,this.graph.getModel().contains($cell$jscomp$73_state$$)){if(this.graph.getModel().isVertex($cell$jscomp$73_state$$)&&!this.graph.isCellConnectable($cell$jscomp$73_state$$)){var $parent$$=this.graph.getModel().getParent($cell$jscomp$73_state$$);this.graph.getModel().isVertex($parent$$)&&this.graph.isCellConnectable($parent$$)&&($cell$jscomp$73_state$$=
$parent$$)}if(this.graph.isCellLocked($cell$jscomp$73_state$$)||this.graph.model.isEdge($cell$jscomp$73_state$$))$cell$jscomp$73_state$$=null;$cell$jscomp$73_state$$=this.graph.view.getState($cell$jscomp$73_state$$);null!=$cell$jscomp$73_state$$&&null==$cell$jscomp$73_state$$.style&&($cell$jscomp$73_state$$=null)}else $cell$jscomp$73_state$$=null;return $cell$jscomp$73_state$$};
HoverIcons.prototype.update=function($state$$,$x$$,$y$$){if(!this.graph.connectionArrowsEnabled||null!=this.graph.freehand&&this.graph.freehand.isDrawing()||null!=$state$$&&"0"==mxUtils.getValue($state$$.style,"allowArrows","1"))this.reset();else{null!=$state$$&&null!=$state$$.cell.geometry&&$state$$.cell.geometry.relative&&this.graph.model.isEdge($state$$.cell.parent)&&($state$$=null);var $timeOnTarget$$=null;this.prev!=$state$$||this.isActive()?(this.startTime=(new Date).getTime(),this.prev=$state$$,
$timeOnTarget$$=0,null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=$state$$&&(this.updateThread=window.setTimeout(mxUtils.bind(this,function(){this.isActive()||this.graph.isMouseDown||this.graph.panningHandler.isActive()||(this.prev=$state$$,this.update($state$$,$x$$,$y$$))}),this.updateDelay+10))):null!=this.startTime&&($timeOnTarget$$=(new Date).getTime()-this.startTime);this.setDisplay("");null!=this.currentState&&this.currentState!=$state$$&&$timeOnTarget$$<this.activationDelay&&
null!=this.bbox&&!mxUtils.contains(this.bbox,$x$$,$y$$)?this.reset(!1):(null!=this.currentState||$timeOnTarget$$>this.activationDelay)&&this.currentState!=$state$$&&($timeOnTarget$$>this.updateDelay&&null!=$state$$||null==this.bbox||null==$x$$||null==$y$$||!mxUtils.contains(this.bbox,$x$$,$y$$))&&(null!=$state$$&&this.graph.isEnabled()?(this.removeNodes(),this.setCurrentState($state$$),this.repaint(),this.graph.connectionHandler.constraintHandler.currentFocus!=$state$$&&this.graph.connectionHandler.constraintHandler.reset()):
this.reset())}};HoverIcons.prototype.setCurrentState=function($state$$){"eastwest"!=$state$$.style.portConstraint&&(this.graph.container.appendChild(this.arrowUp),this.graph.container.appendChild(this.arrowDown));this.graph.container.appendChild(this.arrowRight);this.graph.container.appendChild(this.arrowLeft);this.currentState=$state$$};
Graph.prototype.removeTextStyleForCell=function($cell$$,$removeCellStyles$$){var $style$$=this.getCurrentCellStyle($cell$$),$result$$=!1;this.getModel().beginUpdate();try{if("1"==mxUtils.getValue($style$$,"html","0")){var $label$$=this.convertValueToString($cell$$);"0"!=mxUtils.getValue($style$$,"nl2Br","1")&&($label$$=$label$$.replace(/\n/g,"").replace(/<br\s*.?>/g,"\n"));$label$$=Editor.convertHtmlToText($label$$);this.cellLabelChanged($cell$$,$label$$);$result$$=!0}$removeCellStyles$$&&(this.setCellStyles("fontSource",
null,[$cell$$]),this.setCellStyles(mxConstants.STYLE_FONTFAMILY,null,[$cell$$]),this.setCellStyles(mxConstants.STYLE_FONTSIZE,null,[$cell$$]),this.setCellStyles(mxConstants.STYLE_FONTSTYLE,null,[$cell$$]),this.setCellStyles(mxConstants.STYLE_FONTCOLOR,null,[$cell$$]),this.setCellStyles(mxConstants.STYLE_LABEL_BORDERCOLOR,null,[$cell$$]),this.setCellStyles(mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,null,[$cell$$]))}finally{this.getModel().endUpdate()}return $result$$};
Graph.prototype.createParent=function($parent$$,$child$$,$childCount$$,$dx$$,$dy$$){$parent$$=this.cloneCell($parent$$);for(var $i$$=0;$i$$<$childCount$$;$i$$++){var $clone$$=this.cloneCell($child$$),$geo$$=this.getCellGeometry($clone$$);null!=$geo$$&&($geo$$.x+=$i$$*$dx$$,$geo$$.y+=$i$$*$dy$$);$parent$$.insert($clone$$)}return $parent$$};
Graph.prototype.createTable=function($rowCount$$,$colCount$$,$w$$,$h$$,$title$$,$startSize$$,$tableStyle$$,$rowStyle$$,$cellStyle$$){$w$$=null!=$w$$?$w$$:60;$h$$=null!=$h$$?$h$$:40;$startSize$$=null!=$startSize$$?$startSize$$:30;$rowStyle$$=null!=$rowStyle$$?$rowStyle$$:"shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;";$cellStyle$$=null!=
$cellStyle$$?$cellStyle$$:"shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;";return this.createParent(this.createVertex(null,null,null!=$title$$?$title$$:"",0,0,$colCount$$*$w$$,$rowCount$$*$h$$+(null!=$title$$?$startSize$$:0),null!=$tableStyle$$?$tableStyle$$:"shape=table;startSize="+(null!=$title$$?$startSize$$:"0")+";container=1;collapsible=0;childLayout=tableLayout;"),this.createParent(this.createVertex(null,
null,"",0,0,$colCount$$*$w$$,$h$$,$rowStyle$$),this.createVertex(null,null,"",0,0,$w$$,$h$$,$cellStyle$$),$colCount$$,$w$$,0),$rowCount$$,0,$h$$)};
Graph.prototype.setTableValues=function($table$$,$values$$,$rowValues$$){for(var $rows$$=this.model.getChildCells($table$$,!0),$i$$=0;$i$$<$rows$$.length;$i$$++)if(null!=$rowValues$$&&($rows$$[$i$$].value=$rowValues$$[$i$$]),null!=$values$$)for(var $cells$$=this.model.getChildCells($rows$$[$i$$],!0),$j$$=0;$j$$<$cells$$.length;$j$$++)null!=$values$$[$i$$][$j$$]&&($cells$$[$j$$].value=$values$$[$i$$][$j$$]);return $table$$};
Graph.prototype.createCrossFunctionalSwimlane=function($rowCount$$,$colCount$$,$w$$,$h$$,$table$jscomp$9_title$$,$t$jscomp$9_tableStyle$$,$row$jscomp$8_rowStyle$$,$firstCellStyle$$,$cellStyle$$){$w$$=null!=$w$$?$w$$:120;$h$$=null!=$h$$?$h$$:120;$row$jscomp$8_rowStyle$$=null!=$row$jscomp$8_rowStyle$$?$row$jscomp$8_rowStyle$$:"shape=tableRow;horizontal=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;strokeColor=inherit;bottom=0;right=0;dropTarget=0;fontStyle=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;startSize=40;collapsible=0;recursiveResize=0;expand=0;";
$firstCellStyle$$=null!=$firstCellStyle$$?$firstCellStyle$$:"swimlane;swimlaneHead=0;swimlaneBody=0;fontStyle=0;strokeColor=inherit;connectable=0;fillColor=none;startSize=40;collapsible=0;recursiveResize=0;expand=0;";$cellStyle$$=null!=$cellStyle$$?$cellStyle$$:"swimlane;swimlaneHead=0;swimlaneBody=0;fontStyle=0;connectable=0;strokeColor=inherit;fillColor=none;startSize=0;collapsible=0;recursiveResize=0;expand=0;";$table$jscomp$9_title$$=this.createVertex(null,null,null!=$table$jscomp$9_title$$?$table$jscomp$9_title$$:
"",0,0,$colCount$$*$w$$,$rowCount$$*$h$$,null!=$t$jscomp$9_tableStyle$$?$t$jscomp$9_tableStyle$$:"shape=table;childLayout=tableLayout;"+(null==$table$jscomp$9_title$$?"startSize=0;fillColor=none;":"startSize=40;")+"collapsible=0;recursiveResize=0;expand=0;");$t$jscomp$9_tableStyle$$=mxUtils.getValue(this.getCellStyle($table$jscomp$9_title$$),mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE);$table$jscomp$9_title$$.geometry.width+=$t$jscomp$9_tableStyle$$;$table$jscomp$9_title$$.geometry.height+=
$t$jscomp$9_tableStyle$$;$row$jscomp$8_rowStyle$$=this.createVertex(null,null,"",0,$t$jscomp$9_tableStyle$$,$colCount$$*$w$$+$t$jscomp$9_tableStyle$$,$h$$,$row$jscomp$8_rowStyle$$);$table$jscomp$9_title$$.insert(this.createParent($row$jscomp$8_rowStyle$$,this.createVertex(null,null,"",$t$jscomp$9_tableStyle$$,0,$w$$,$h$$,$firstCellStyle$$),$colCount$$,$w$$,0));return 1<$rowCount$$?($row$jscomp$8_rowStyle$$.geometry.y=$h$$+$t$jscomp$9_tableStyle$$,this.createParent($table$jscomp$9_title$$,this.createParent($row$jscomp$8_rowStyle$$,
this.createVertex(null,null,"",$t$jscomp$9_tableStyle$$,0,$w$$,$h$$,$cellStyle$$),$colCount$$,$w$$,0),$rowCount$$-1,0,$h$$)):$table$jscomp$9_title$$};
Graph.prototype.visitTableCells=function($cell$jscomp$75_start$$,$visitor$$){var $lastRow$$=null,$rows$$=this.model.getChildCells($cell$jscomp$75_start$$,!0);$cell$jscomp$75_start$$=this.getActualStartSize($cell$jscomp$75_start$$,!0);for(var $i$$=0;$i$$<$rows$$.length;$i$$++){for(var $rowStart$$=this.getActualStartSize($rows$$[$i$$],!0),$cols$$=this.model.getChildCells($rows$$[$i$$],!0),$rowStyle$$=this.getCellStyle($rows$$[$i$$],!0),$head$jscomp$1_lastCol_style$$=null,$row$$=[],$j$$=0;$j$$<$cols$$.length;$j$$++){var $geo$$=
this.getCellGeometry($cols$$[$j$$]),$col$$={cell:$cols$$[$j$$],rospan:1,colspan:1,row:$i$$,col:$j$$,geo:$geo$$};$geo$$=null!=$geo$$.alternateBounds?$geo$$.alternateBounds:$geo$$;$col$$.point=new mxPoint($geo$$.width+(null!=$head$jscomp$1_lastCol_style$$?$head$jscomp$1_lastCol_style$$.point.x:$cell$jscomp$75_start$$.x+$rowStart$$.x),$geo$$.height+(null!=$lastRow$$&&null!=$lastRow$$[0]?$lastRow$$[0].point.y:$cell$jscomp$75_start$$.y+$rowStart$$.y));$col$$.actual=$col$$;null!=$lastRow$$&&null!=$lastRow$$[$j$$]&&
1<$lastRow$$[$j$$].rowspan?($col$$.rowspan=$lastRow$$[$j$$].rowspan-1,$col$$.colspan=$lastRow$$[$j$$].colspan,$col$$.actual=$lastRow$$[$j$$].actual):null!=$head$jscomp$1_lastCol_style$$&&1<$head$jscomp$1_lastCol_style$$.colspan?($col$$.rowspan=$head$jscomp$1_lastCol_style$$.rowspan,$col$$.colspan=$head$jscomp$1_lastCol_style$$.colspan-1,$col$$.actual=$head$jscomp$1_lastCol_style$$.actual):($head$jscomp$1_lastCol_style$$=this.getCurrentCellStyle($cols$$[$j$$],!0),null!=$head$jscomp$1_lastCol_style$$&&
($col$$.rowspan=parseInt($head$jscomp$1_lastCol_style$$.rowspan||1),$col$$.colspan=parseInt($head$jscomp$1_lastCol_style$$.colspan||1)));$head$jscomp$1_lastCol_style$$=1==mxUtils.getValue($rowStyle$$,mxConstants.STYLE_SWIMLANE_HEAD,1)&&mxUtils.getValue($rowStyle$$,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE)!=mxConstants.NONE;$visitor$$($col$$,$cols$$.length,$rows$$.length,$cell$jscomp$75_start$$.x+($head$jscomp$1_lastCol_style$$?$rowStart$$.x:0),$cell$jscomp$75_start$$.y+($head$jscomp$1_lastCol_style$$?
$rowStart$$.y:0));$row$$.push($col$$);$head$jscomp$1_lastCol_style$$=$col$$}$lastRow$$=$row$$}};
Graph.prototype.getTableLines=function($cell$$,$horizontal$$,$vertical$$){var $hl$$=[],$vl$$=[];($horizontal$$||$vertical$$)&&this.visitTableCells($cell$$,mxUtils.bind(this,function($iter$$,$colCount$$,$rowCount$$,$x0$$,$y0$$){$horizontal$$&&$iter$$.row<$rowCount$$-1&&(null==$hl$$[$iter$$.row]&&($hl$$[$iter$$.row]=[new mxPoint($x0$$,$iter$$.point.y)]),1<$iter$$.rowspan&&$hl$$[$iter$$.row].push(null),$hl$$[$iter$$.row].push($iter$$.point));$vertical$$&&$iter$$.col<$colCount$$-1&&(null==$vl$$[$iter$$.col]&&
($vl$$[$iter$$.col]=[new mxPoint($iter$$.point.x,$y0$$)]),1<$iter$$.colspan&&$vl$$[$iter$$.col].push(null),$vl$$[$iter$$.col].push($iter$$.point))}));return $hl$$.concat($vl$$)};Graph.prototype.isTableCell=function($cell$$){return this.model.isVertex($cell$$)&&this.isTableRow(this.model.getParent($cell$$))};Graph.prototype.isTableRow=function($cell$$){return this.model.isVertex($cell$$)&&this.isTable(this.model.getParent($cell$$))};
Graph.prototype.isTable=function($cell$jscomp$79_style$$){$cell$jscomp$79_style$$=this.getCellStyle($cell$jscomp$79_style$$);return null!=$cell$jscomp$79_style$$&&"tableLayout"==$cell$jscomp$79_style$$.childLayout};Graph.prototype.isStack=function($cell$jscomp$80_style$$){$cell$jscomp$80_style$$=this.getCellStyle($cell$jscomp$80_style$$);return null!=$cell$jscomp$80_style$$&&"stackLayout"==$cell$jscomp$80_style$$.childLayout};
Graph.prototype.isStackChild=function($cell$$){return this.model.isVertex($cell$$)&&this.isStack(this.model.getParent($cell$$))};
Graph.prototype.setTableRowHeight=function($row$$,$dy$$,$extend$$){$extend$$=null!=$extend$$?$extend$$:!0;var $model$$=this.getModel();$model$$.beginUpdate();try{var $rgeo$$=this.getCellGeometry($row$$);if(null!=$rgeo$$){$rgeo$$=$rgeo$$.clone();$rgeo$$.height+=$dy$$;$model$$.setGeometry($row$$,$rgeo$$);var $table$$=$model$$.getParent($row$$),$rows$$=$model$$.getChildCells($table$$,!0);if(!$extend$$){var $index$$=mxUtils.indexOf($rows$$,$row$$);if($index$$<$rows$$.length-1){var $nextRow$$=$rows$$[$index$$+
1],$geo$$=this.getCellGeometry($nextRow$$);null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.y+=$dy$$,$geo$$.height-=$dy$$,$model$$.setGeometry($nextRow$$,$geo$$))}}var $tgeo$$=this.getCellGeometry($table$$);null!=$tgeo$$&&($extend$$||($extend$$=$row$$==$rows$$[$rows$$.length-1]),$extend$$&&($tgeo$$=$tgeo$$.clone(),$tgeo$$.height+=$dy$$,$model$$.setGeometry($table$$,$tgeo$$)))}}finally{$model$$.endUpdate()}};
Graph.prototype.setTableColumnWidth=function($col$jscomp$3_index$$,$dx$$,$extend$$){$extend$$=null!=$extend$$?$extend$$:!1;var $model$$=this.getModel(),$row$$=$model$$.getParent($col$jscomp$3_index$$),$table$$=$model$$.getParent($row$$),$cells$$=$model$$.getChildCells($row$$,!0);$col$jscomp$3_index$$=mxUtils.indexOf($cells$$,$col$jscomp$3_index$$);var $lastColumn$$=$col$jscomp$3_index$$==$cells$$.length-1;$model$$.beginUpdate();try{for(var $rows$$=$model$$.getChildCells($table$$,!0),$i$$=0;$i$$<$rows$$.length;$i$$++){$row$$=
$rows$$[$i$$];$cells$$=$model$$.getChildCells($row$$,!0);var $cell$$=$cells$$[$col$jscomp$3_index$$],$geo$$=this.getCellGeometry($cell$$);null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.width+=$dx$$,null!=$geo$$.alternateBounds&&($geo$$.alternateBounds.width+=$dx$$),$model$$.setGeometry($cell$$,$geo$$));$col$jscomp$3_index$$<$cells$$.length-1&&($cell$$=$cells$$[$col$jscomp$3_index$$+1],$geo$$=this.getCellGeometry($cell$$),null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.x+=$dx$$,$extend$$||($geo$$.width-=
$dx$$,null!=$geo$$.alternateBounds&&($geo$$.alternateBounds.width-=$dx$$)),$model$$.setGeometry($cell$$,$geo$$)))}if($lastColumn$$||$extend$$){var $tgeo$$=this.getCellGeometry($table$$);null!=$tgeo$$&&($tgeo$$=$tgeo$$.clone(),$tgeo$$.width+=$dx$$,$model$$.setGeometry($table$$,$tgeo$$))}null!=this.layoutManager&&this.layoutManager.executeLayout($table$$)}finally{$model$$.endUpdate()}};function TableLayout($graph$$){mxGraphLayout.call(this,$graph$$)}TableLayout.prototype=new mxStackLayout;
TableLayout.prototype.constructor=TableLayout;TableLayout.prototype.isHorizontal=function(){return!1};TableLayout.prototype.isVertexIgnored=function($vertex$$){return!this.graph.getModel().isVertex($vertex$$)||!this.graph.isCellVisible($vertex$$)};
TableLayout.prototype.getSize=function($cells$$,$horizontal$$){for(var $total$$=0,$i$$=0;$i$$<$cells$$.length;$i$$++)if(!this.isVertexIgnored($cells$$[$i$$])){var $geo$$=this.graph.getCellGeometry($cells$$[$i$$]);null!=$geo$$&&($total$$+=$horizontal$$?$geo$$.width:$geo$$.height)}return $total$$};
TableLayout.prototype.getRowLayout=function($row$jscomp$12_sw$$,$rw_width$$){var $cells$$=this.graph.model.getChildCells($row$jscomp$12_sw$$,!0),$off$jscomp$2_x$$=this.graph.getActualStartSize($row$jscomp$12_sw$$,!0);$row$jscomp$12_sw$$=this.getSize($cells$$,!0);$rw_width$$=$rw_width$$-$off$jscomp$2_x$$.x-$off$jscomp$2_x$$.width;var $result$$=[];$off$jscomp$2_x$$=$off$jscomp$2_x$$.x;for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $geo$$=this.graph.getCellGeometry($cells$$[$i$$]);null!=$geo$$&&($off$jscomp$2_x$$+=
(null!=$geo$$.alternateBounds?$geo$$.alternateBounds.width:$geo$$.width)*$rw_width$$/$row$jscomp$12_sw$$,$result$$.push(Math.round($off$jscomp$2_x$$)))}return $result$$};
TableLayout.prototype.layoutRow=function($off$jscomp$3_row$$,$positions$$,$height$$,$tw$$){var $model$$=this.graph.getModel(),$cells$$=$model$$.getChildCells($off$jscomp$3_row$$,!0);$off$jscomp$3_row$$=this.graph.getActualStartSize($off$jscomp$3_row$$,!0);var $x$$=$off$jscomp$3_row$$.x,$sw$$=0;null!=$positions$$&&($positions$$=$positions$$.slice(),$positions$$.splice(0,0,$off$jscomp$3_row$$.x));for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $geo$$=this.graph.getCellGeometry($cells$$[$i$$]);null!=
$geo$$&&($geo$$=$geo$$.clone(),$geo$$.y=$off$jscomp$3_row$$.y,$geo$$.height=$height$$-$off$jscomp$3_row$$.y-$off$jscomp$3_row$$.height,null!=$positions$$?($geo$$.x=$positions$$[$i$$],$geo$$.width=$positions$$[$i$$+1]-$geo$$.x,$i$$==$cells$$.length-1&&$i$$<$positions$$.length-2&&($geo$$.width=$tw$$-$geo$$.x-$off$jscomp$3_row$$.x-$off$jscomp$3_row$$.width)):($geo$$.x=$x$$,$x$$+=$geo$$.width,$i$$==$cells$$.length-1?$geo$$.width=$tw$$-$off$jscomp$3_row$$.x-$off$jscomp$3_row$$.width-$sw$$:$sw$$+=$geo$$.width),
$geo$$.alternateBounds=new mxRectangle(0,0,$geo$$.width,$geo$$.height),$model$$.setGeometry($cells$$[$i$$],$geo$$))}return $sw$$};
TableLayout.prototype.execute=function($parent$$){if(null!=$parent$$){var $offset$$=this.graph.getActualStartSize($parent$$,!0),$table$$=this.graph.getCellGeometry($parent$$),$fixedRows_style$$=this.graph.getCellStyle($parent$$),$resizeLastRow$$="1"==mxUtils.getValue($fixedRows_style$$,"resizeLastRow","0"),$resizeLast$$="1"==mxUtils.getValue($fixedRows_style$$,"resizeLast","0");$fixedRows_style$$="1"==mxUtils.getValue($fixedRows_style$$,"fixedRows","0");var $model$$=this.graph.getModel(),$sw$$=0;
$model$$.beginUpdate();try{for(var $th$$=$table$$.height-$offset$$.y-$offset$$.height,$tw$$=$table$$.width-$offset$$.x-$offset$$.width,$rows$$=$model$$.getChildCells($parent$$,!0),$i$$=0;$i$$<$rows$$.length;$i$$++)$model$$.setVisible($rows$$[$i$$],!0);var $sh$$=this.getSize($rows$$,!1);if(0<$th$$&&0<$tw$$&&0<$rows$$.length&&0<$sh$$){if($resizeLastRow$$){var $row$$=this.graph.getCellGeometry($rows$$[$rows$$.length-1]);null!=$row$$&&($row$$=$row$$.clone(),$row$$.height=$th$$-$sh$$+$row$$.height,$model$$.setGeometry($rows$$[$rows$$.length-
1],$row$$))}var $pos$$=$resizeLast$$?null:this.getRowLayout($rows$$[0],$tw$$),$lastCells$$=[],$y$$=$offset$$.y;for($i$$=0;$i$$<$rows$$.length;$i$$++)$row$$=this.graph.getCellGeometry($rows$$[$i$$]),null!=$row$$&&($row$$=$row$$.clone(),$row$$.x=$offset$$.x,$row$$.width=$tw$$,$row$$.y=Math.round($y$$),$y$$=$resizeLastRow$$||$fixedRows_style$$?$y$$+$row$$.height:$y$$+$row$$.height/$sh$$*$th$$,$row$$.height=Math.round($y$$)-$row$$.y,$model$$.setGeometry($rows$$[$i$$],$row$$)),$sw$$=Math.max($sw$$,this.layoutRow($rows$$[$i$$],
$pos$$,$row$$.height,$tw$$,$lastCells$$));$fixedRows_style$$&&$th$$<$sh$$&&($table$$=$table$$.clone(),$table$$.height=$y$$+$offset$$.height,$model$$.setGeometry($parent$$,$table$$));$resizeLast$$&&$tw$$<$sw$$+Graph.minTableColumnWidth&&($table$$=$table$$.clone(),$table$$.width=$sw$$+$offset$$.width+$offset$$.x+Graph.minTableColumnWidth,$model$$.setGeometry($parent$$,$table$$));this.graph.visitTableCells($parent$$,mxUtils.bind(this,function($iter$$){$model$$.setVisible($iter$$.cell,$iter$$.actual.cell==
$iter$$.cell);if($iter$$.actual.cell!=$iter$$.cell){if($iter$$.actual.row==$iter$$.row){var $g$$=null!=$iter$$.geo.alternateBounds?$iter$$.geo.alternateBounds:$iter$$.geo;$iter$$.actual.geo.width+=$g$$.width}$iter$$.actual.col==$iter$$.col&&($g$$=null!=$iter$$.geo.alternateBounds?$iter$$.geo.alternateBounds:$iter$$.geo,$iter$$.actual.geo.height+=$g$$.height)}}))}else for($i$$=0;$i$$<$rows$$.length;$i$$++)$model$$.setVisible($rows$$[$i$$],!1)}finally{$model$$.endUpdate()}}};
(function(){var $mxGraphViewResetValidationState$$=mxGraphView.prototype.resetValidationState;mxGraphView.prototype.resetValidationState=function(){$mxGraphViewResetValidationState$$.apply(this,arguments);this.validEdges=[]};var $mxGraphViewValidateCellState$$=mxGraphView.prototype.validateCellState;mxGraphView.prototype.validateCellState=function($cell$$,$recurse$$){$recurse$$=null!=$recurse$$?$recurse$$:!0;var $state$$=this.getState($cell$$);null!=$state$$&&$recurse$$&&this.graph.model.isEdge($state$$.cell)&&
null!=$state$$.style&&1!=$state$$.style[mxConstants.STYLE_CURVED]&&!$state$$.invalid&&this.updateLineJumps($state$$)&&this.graph.cellRenderer.redraw($state$$,!1,this.isRendering());$state$$=$mxGraphViewValidateCellState$$.apply(this,arguments);null!=$state$$&&$recurse$$&&this.graph.model.isEdge($state$$.cell)&&null!=$state$$.style&&1!=$state$$.style[mxConstants.STYLE_CURVED]&&this.validEdges.push($state$$);return $state$$};var $mxShapePaint$$=mxShape.prototype.paint;mxShape.prototype.isFlowAnimationEnabled=
function(){return null!=this.state&&this.state.view.graph.enableFlowAnimation&&this.state.view.graph.model.isEdge(this.state.cell)&&"1"==mxUtils.getValue(this.state.style,"flowAnimation","0")};mxShape.prototype.getFlowAnimationPath=function(){var $paths$$=null!=this.node?this.node.getElementsByTagName("path"):null;if(null!=$paths$$)for(var $i$$=0;$i$$<$paths$$.length;$i$$++)if("hidden"!=$paths$$[$i$$].getAttribute("visibility"))return $paths$$[$i$$];return null};mxShape.prototype.addFlowAnimationToShape=
function(){null!=this.state&&this.state.view.graph.addFlowAnimationToNode(this.getFlowAnimationPath(),this.state.style,this.state.view.scale,this.state.view.graph.addFlowAnimationStyle())};mxShape.prototype.paint=function($canvas$$){$mxShapePaint$$.apply(this,arguments);this.isFlowAnimationEnabled()&&this.addFlowAnimationToShape()};var $mxCellRendererIsShapeInvalid$$=mxCellRenderer.prototype.isShapeInvalid;mxCellRenderer.prototype.isShapeInvalid=function($state$$,$shape$$){return $mxCellRendererIsShapeInvalid$$.apply(this,
arguments)||null!=$state$$.routedPoints&&null!=$shape$$.routedPoints&&!mxUtils.equalPoints($shape$$.routedPoints,$state$$.routedPoints)};var $mxGraphViewUpdateCellState$$=mxGraphView.prototype.updateCellState;mxGraphView.prototype.updateCellState=function($state$$){$mxGraphViewUpdateCellState$$.apply(this,arguments);this.graph.model.isEdge($state$$.cell)&&1!=$state$$.style[mxConstants.STYLE_CURVED]&&this.updateLineJumps($state$$)};mxGraphView.prototype.updateLineJumps=function($state$$){var $pts$$=
$state$$.absolutePoints;if(Graph.lineJumpsEnabled){var $changed$$=null!=$state$$.routedPoints,$actual$$=null;if(null!=$pts$$&&null!=this.validEdges&&"none"!==mxUtils.getValue($state$$.style,"jumpStyle","none")){var $addPoint$$=function($type$$,$x$$,$y$$){var $curr_rpt$$=new mxPoint($x$$,$y$$);$curr_rpt$$.type=$type$$;$actual$$.push($curr_rpt$$);$curr_rpt$$=null!=$state$$.routedPoints?$state$$.routedPoints[$actual$$.length-1]:null;return null==$curr_rpt$$||$curr_rpt$$.type!=$type$$||$curr_rpt$$.x!=
$x$$||$curr_rpt$$.y!=$y$$},$thresh$$=.5*this.scale;$changed$$=!1;$actual$$=[];for(var $i$$=0;$i$$<$pts$$.length-1;$i$$++){for(var $p1$$=$pts$$[$i$$+1],$p0$$=$pts$$[$i$$],$list$$=[],$dx$jscomp$21_pn_t$$=$pts$$[$i$$+2];$i$$<$pts$$.length-2&&mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$dx$jscomp$21_pn_t$$.x,$dx$jscomp$21_pn_t$$.y,$p1$$.x,$p1$$.y)<1*this.scale*this.scale;)$p1$$=$dx$jscomp$21_pn_t$$,$i$$++,$dx$jscomp$21_pn_t$$=$pts$$[$i$$+2];$changed$$=$addPoint$$(0,$p0$$.x,$p0$$.y)||$changed$$;for(var $e$$=0;$e$$<
this.validEdges.length;$e$$++){var $j$$=this.validEdges[$e$$],$pts2$$=$j$$.absolutePoints;if(null!=$pts2$$&&mxUtils.intersects($state$$,$j$$)&&"1"!=$j$$.style.noJump){var $dy$$=null;for($j$$=0;$j$$<$pts2$$.length-1;$j$$++){var $p3$$=$pts2$$[$j$$+1],$p2$$=$pts2$$[$j$$];for($dx$jscomp$21_pn_t$$=$pts2$$[$j$$+2];$j$$<$pts2$$.length-2&&mxUtils.ptSegDistSq($p2$$.x,$p2$$.y,$dx$jscomp$21_pn_t$$.x,$dx$jscomp$21_pn_t$$.y,$p3$$.x,$p3$$.y)<1*this.scale*this.scale;)$p3$$=$dx$jscomp$21_pn_t$$,$j$$++,$dx$jscomp$21_pn_t$$=
$pts2$$[$j$$+2];var $pt$jscomp$8_temp$$=mxUtils.intersection($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$p2$$.x,$p2$$.y,$p3$$.x,$p3$$.y);if(null!=$pt$jscomp$8_temp$$&&(Math.abs($pt$jscomp$8_temp$$.x-$p0$$.x)>$thresh$$||Math.abs($pt$jscomp$8_temp$$.y-$p0$$.y)>$thresh$$)&&(Math.abs($pt$jscomp$8_temp$$.x-$p1$$.x)>$thresh$$||Math.abs($pt$jscomp$8_temp$$.y-$p1$$.y)>$thresh$$)&&(null==$dy$$||mxUtils.ptLineDist($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$dy$$.x,$dy$$.y)>$thresh$$||mxUtils.ptLineDist($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,
$p2$$.x,$p2$$.y)>$thresh$$)&&(null==$dx$jscomp$21_pn_t$$||mxUtils.ptLineDist($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$dx$jscomp$21_pn_t$$.x,$dx$jscomp$21_pn_t$$.y)>$thresh$$||mxUtils.ptLineDist($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$p3$$.x,$p3$$.y)>$thresh$$)){$dx$jscomp$21_pn_t$$=$pt$jscomp$8_temp$$.x-$p0$$.x;$dy$$=$pt$jscomp$8_temp$$.y-$p0$$.y;$pt$jscomp$8_temp$$={distSq:$dx$jscomp$21_pn_t$$*$dx$jscomp$21_pn_t$$+$dy$$*$dy$$,x:$pt$jscomp$8_temp$$.x,y:$pt$jscomp$8_temp$$.y};for($dx$jscomp$21_pn_t$$=0;$dx$jscomp$21_pn_t$$<
$list$$.length;$dx$jscomp$21_pn_t$$++)if($list$$[$dx$jscomp$21_pn_t$$].distSq>$pt$jscomp$8_temp$$.distSq){$list$$.splice($dx$jscomp$21_pn_t$$,0,$pt$jscomp$8_temp$$);$pt$jscomp$8_temp$$=null;break}null==$pt$jscomp$8_temp$$||0!=$list$$.length&&$list$$[$list$$.length-1].x===$pt$jscomp$8_temp$$.x&&$list$$[$list$$.length-1].y===$pt$jscomp$8_temp$$.y||$list$$.push($pt$jscomp$8_temp$$)}$dy$$=$p2$$}}}for($j$$=0;$j$$<$list$$.length;$j$$++)$changed$$=$addPoint$$(1,$list$$[$j$$].x,$list$$[$j$$].y)||$changed$$}$pt$jscomp$8_temp$$=
$pts$$[$pts$$.length-1];$changed$$=$addPoint$$(0,$pt$jscomp$8_temp$$.x,$pt$jscomp$8_temp$$.y)||$changed$$}$state$$.routedPoints=$actual$$;return $changed$$}return!1};var $mxConnectorPaintLine$$=mxConnector.prototype.paintLine;mxConnector.prototype.paintLine=function($c$$,$absPts$$,$rounded$$){this.routedPoints=null!=this.state?this.state.routedPoints:null;if(this.outline||null==this.state||null==this.style||null==this.state.routedPoints||0==this.state.routedPoints.length)$mxConnectorPaintLine$$.apply(this,
arguments);else{var $arcSize$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2,$size$$=(parseInt(mxUtils.getValue(this.style,"jumpSize",Graph.defaultJumpSize))-2)/2+this.strokewidth,$style$$=mxUtils.getValue(this.style,"jumpStyle","none"),$moveTo$$=!0,$last$$=null,$len$$=null,$f$jscomp$9_pts$$=[],$n$$=null;$c$$.begin();for(var $i$$=0;$i$$<this.state.routedPoints.length;$i$$++){var $dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$=this.state.routedPoints[$i$$],$pt$$=new mxPoint($dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.x/
this.scale,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.y/this.scale);0==$i$$?$pt$$=$absPts$$[0]:$i$$==this.state.routedPoints.length-1&&($pt$$=$absPts$$[$absPts$$.length-1]);var $done$jscomp$4_p0$$=!1;if(null!=$last$$&&1==$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.type){var $dy$jscomp$21_next$$=this.state.routedPoints[$i$$+1];$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$=$dy$jscomp$21_next$$.x/this.scale-$pt$$.x;$dy$jscomp$21_next$$=$dy$jscomp$21_next$$.y/this.scale-$pt$$.y;$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$=
$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$*$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$+$dy$jscomp$21_next$$*$dy$jscomp$21_next$$;null==$n$$&&($n$$=new mxPoint($pt$$.x-$last$$.x,$pt$$.y-$last$$.y),$len$$=Math.sqrt($n$$.x*$n$$.x+$n$$.y*$n$$.y),0<$len$$?($n$$.x=$n$$.x*$size$$/$len$$,$n$$.y=$n$$.y*$size$$/$len$$):$n$$=null);$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$>$size$$*$size$$&&0<$len$$&&($dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$=$last$$.x-$pt$$.x,$dy$jscomp$21_next$$=$last$$.y-$pt$$.y,
$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$=$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$*$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$+$dy$jscomp$21_next$$*$dy$jscomp$21_next$$,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$>$size$$*$size$$&&($done$jscomp$4_p0$$=new mxPoint($pt$$.x-$n$$.x,$pt$$.y-$n$$.y),$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$=new mxPoint($pt$$.x+$n$$.x,$pt$$.y+$n$$.y),$f$jscomp$9_pts$$.push($done$jscomp$4_p0$$),this.addPoints($c$$,$f$jscomp$9_pts$$,$rounded$$,$arcSize$$,!1,
null,$moveTo$$),$f$jscomp$9_pts$$=0>Math.round($n$$.x)||0==Math.round($n$$.x)&&0>=Math.round($n$$.y)?1:-1,$moveTo$$=!1,"sharp"==$style$$?($c$$.lineTo($done$jscomp$4_p0$$.x-$n$$.y*$f$jscomp$9_pts$$,$done$jscomp$4_p0$$.y+$n$$.x*$f$jscomp$9_pts$$),$c$$.lineTo($dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.x-$n$$.y*$f$jscomp$9_pts$$,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.y+$n$$.x*$f$jscomp$9_pts$$),$c$$.lineTo($dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.x,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.y)):
"line"==$style$$?($c$$.moveTo($done$jscomp$4_p0$$.x+$n$$.y*$f$jscomp$9_pts$$,$done$jscomp$4_p0$$.y-$n$$.x*$f$jscomp$9_pts$$),$c$$.lineTo($done$jscomp$4_p0$$.x-$n$$.y*$f$jscomp$9_pts$$,$done$jscomp$4_p0$$.y+$n$$.x*$f$jscomp$9_pts$$),$c$$.moveTo($dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.x-$n$$.y*$f$jscomp$9_pts$$,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.y+$n$$.x*$f$jscomp$9_pts$$),$c$$.lineTo($dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.x+$n$$.y*$f$jscomp$9_pts$$,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.y-
$n$$.x*$f$jscomp$9_pts$$),$c$$.moveTo($dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.x,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.y)):"arc"==$style$$?($f$jscomp$9_pts$$*=1.3,$c$$.curveTo($done$jscomp$4_p0$$.x-$n$$.y*$f$jscomp$9_pts$$,$done$jscomp$4_p0$$.y+$n$$.x*$f$jscomp$9_pts$$,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.x-$n$$.y*$f$jscomp$9_pts$$,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.y+$n$$.x*$f$jscomp$9_pts$$,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.x,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.y)):
($c$$.moveTo($dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.x,$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$.y),$moveTo$$=!0),$f$jscomp$9_pts$$=[$dist$jscomp$1_dx$jscomp$22_p1$jscomp$2_rpt$$],$done$jscomp$4_p0$$=!0))}else $n$$=null;$done$jscomp$4_p0$$||($f$jscomp$9_pts$$.push($pt$$),$last$$=$pt$$)}this.addPoints($c$$,$f$jscomp$9_pts$$,$rounded$$,$arcSize$$,!1,null,$moveTo$$);$c$$.stroke()}};var $mxGraphViewGetFixedTerminalPoint$$=mxGraphView.prototype.getFixedTerminalPoint;mxGraphView.prototype.getFixedTerminalPoint=
function($edge$$,$terminal$$,$source$$,$constraint$$){return null!=$terminal$$&&"centerPerimeter"==$terminal$$.style[mxConstants.STYLE_PERIMETER]?new mxPoint($terminal$$.getCenterX(),$terminal$$.getCenterY()):$mxGraphViewGetFixedTerminalPoint$$.apply(this,arguments)};var $mxGraphViewUpdateFloatingTerminalPoint$$=mxGraphView.prototype.updateFloatingTerminalPoint;mxGraphView.prototype.updateFloatingTerminalPoint=function($edge$$,$start$$,$end$$,$source$$){if(null==$start$$||null==$edge$$||"1"!=$start$$.style.snapToPoint&&
"1"!=$edge$$.style.snapToPoint)$mxGraphViewUpdateFloatingTerminalPoint$$.apply(this,arguments);else{$start$$=this.getTerminalPort($edge$$,$start$$,$source$$);var $next$jscomp$4_pt$$=this.getNextPoint($edge$$,$end$$,$source$$),$orth$$=this.graph.isOrthogonal($edge$$),$alpha$$=mxUtils.toRadians(Number($start$$.style[mxConstants.STYLE_ROTATION]||"0")),$center$$=new mxPoint($start$$.getCenterX(),$start$$.getCenterY());if(0!=$alpha$$){var $border$$=Math.cos(-$alpha$$),$sin$$=Math.sin(-$alpha$$);$next$jscomp$4_pt$$=
mxUtils.getRotatedPoint($next$jscomp$4_pt$$,$border$$,$sin$$,$center$$)}$border$$=parseFloat($edge$$.style[mxConstants.STYLE_PERIMETER_SPACING]||0);$border$$+=parseFloat($edge$$.style[$source$$?mxConstants.STYLE_SOURCE_PERIMETER_SPACING:mxConstants.STYLE_TARGET_PERIMETER_SPACING]||0);$next$jscomp$4_pt$$=this.getPerimeterPoint($start$$,$next$jscomp$4_pt$$,0==$alpha$$&&$orth$$,$border$$);0!=$alpha$$&&($border$$=Math.cos($alpha$$),$sin$$=Math.sin($alpha$$),$next$jscomp$4_pt$$=mxUtils.getRotatedPoint($next$jscomp$4_pt$$,
$border$$,$sin$$,$center$$));$edge$$.setAbsoluteTerminalPoint(this.snapToAnchorPoint($edge$$,$start$$,$end$$,$source$$,$next$jscomp$4_pt$$),$source$$)}};mxGraphView.prototype.snapToAnchorPoint=function($constraints$jscomp$9_edge$$,$start$$,$end$$,$dist$jscomp$2_source$$,$pt$$){if(null!=$start$$&&null!=$constraints$jscomp$9_edge$$){$constraints$jscomp$9_edge$$=this.graph.getAllConnectionConstraints($start$$);$dist$jscomp$2_source$$=$end$$=null;if(null!=$constraints$jscomp$9_edge$$)for(var $i$$=0;$i$$<
$constraints$jscomp$9_edge$$.length;$i$$++){var $cp$$=this.graph.getConnectionPoint($start$$,$constraints$jscomp$9_edge$$[$i$$]);if(null!=$cp$$){var $tmp$$=($cp$$.x-$pt$$.x)*($cp$$.x-$pt$$.x)+($cp$$.y-$pt$$.y)*($cp$$.y-$pt$$.y);if(null==$dist$jscomp$2_source$$||$tmp$$<$dist$jscomp$2_source$$)$end$$=$cp$$,$dist$jscomp$2_source$$=$tmp$$}}null!=$end$$&&($pt$$=$end$$)}return $pt$$};var $mxStencilEvaluateTextAttribute$$=mxStencil.prototype.evaluateTextAttribute;mxStencil.prototype.evaluateTextAttribute=
function($node$$,$attribute$$,$shape$$){var $result$$=$mxStencilEvaluateTextAttribute$$.apply(this,arguments);"1"==$node$$.getAttribute("placeholders")&&null!=$shape$$.state&&($result$$=$shape$$.state.view.graph.replacePlaceholders($shape$$.state.cell,$result$$));return $result$$};var $mxCellRendererCreateShape$$=mxCellRenderer.prototype.createShape;mxCellRenderer.prototype.createShape=function($state$$){if(null!=$state$$.style&&"undefined"!==typeof pako){var $shape$$=mxUtils.getValue($state$$.style,
mxConstants.STYLE_SHAPE,null);if(null!=$shape$$&&"string"===typeof $shape$$&&"stencil("==$shape$$.substring(0,8))try{var $stencil$$=$shape$$.substring(8,$shape$$.length-1),$doc$$=mxUtils.parseXml(Graph.decompress($stencil$$));return new mxShape(new mxStencil($doc$$.documentElement))}catch($e$$){null!=window.console&&console.log("Error in shape: "+$e$$)}}return $mxCellRendererCreateShape$$.apply(this,arguments)}})();mxStencilRegistry.libraries={};mxStencilRegistry.dynamicLoading=!0;
mxStencilRegistry.allowEval=!0;mxStencilRegistry.packages=[];mxStencilRegistry.filesLoaded={};
mxStencilRegistry.getStencil=function($name$$){var $libs_result$$=mxStencilRegistry.stencils[$name$$];if(null==$libs_result$$&&null==mxCellRenderer.defaultShapes[$name$$]&&mxStencilRegistry.dynamicLoading){var $basename$$=mxStencilRegistry.getBasenameForStencil($name$$);if(null!=$basename$$){$libs_result$$=mxStencilRegistry.libraries[$basename$$];if(null!=$libs_result$$){if(null==mxStencilRegistry.packages[$basename$$]){for(var $i$$=0;$i$$<$libs_result$$.length;$i$$++){var $fname$$=$libs_result$$[$i$$];
if(!mxStencilRegistry.filesLoaded[$fname$$])if(mxStencilRegistry.filesLoaded[$fname$$]=!0,".xml"==$fname$$.toLowerCase().substring($fname$$.length-4,$fname$$.length))mxStencilRegistry.loadStencilSet($fname$$,null);else if(".js"==$fname$$.toLowerCase().substring($fname$$.length-3,$fname$$.length))try{if(mxStencilRegistry.allowEval){var $req$$=mxUtils.load($fname$$);null!=$req$$&&200<=$req$$.getStatus()&&299>=$req$$.getStatus()&&eval.call(window,$req$$.getText())}}catch($e$$){null!=window.console&&
console.log("error in getStencil:",$name$$,$basename$$,$libs_result$$,$fname$$,$e$$)}}mxStencilRegistry.packages[$basename$$]=1}}else $basename$$=$basename$$.replace("_-_","_"),mxStencilRegistry.loadStencilSet(STENCIL_PATH+"/"+$basename$$+".xml",null);$libs_result$$=mxStencilRegistry.stencils[$name$$]}}return $libs_result$$};
mxStencilRegistry.getBasenameForStencil=function($name$$){var $tmp$$=null;if(null!=$name$$&&"string"===typeof $name$$&&($name$$=$name$$.split("."),0<$name$$.length&&"mxgraph"==$name$$[0])){$tmp$$=$name$$[1];for(var $i$$=2;$i$$<$name$$.length-1;$i$$++)$tmp$$+="/"+$name$$[$i$$]}return $tmp$$};
mxStencilRegistry.loadStencilSet=function($stencilFile$$,$postStencilLoad$$,$force$$,$async$$){var $xmlDoc$$=mxStencilRegistry.packages[$stencilFile$$];if(null!=$force$$&&$force$$||null==$xmlDoc$$){var $install$$=!1;if(null==$xmlDoc$$)try{if($async$$){mxStencilRegistry.loadStencil($stencilFile$$,mxUtils.bind(this,function($xmlDoc2$$){null!=$xmlDoc2$$&&null!=$xmlDoc2$$.documentElement&&(mxStencilRegistry.packages[$stencilFile$$]=$xmlDoc2$$,$install$$=!0,mxStencilRegistry.parseStencilSet($xmlDoc2$$.documentElement,
$postStencilLoad$$,$install$$))}));return}$xmlDoc$$=mxStencilRegistry.loadStencil($stencilFile$$);mxStencilRegistry.packages[$stencilFile$$]=$xmlDoc$$;$install$$=!0}catch($e$$){null!=window.console&&console.log("error in loadStencilSet:",$stencilFile$$,$e$$)}null!=$xmlDoc$$&&null!=$xmlDoc$$.documentElement&&mxStencilRegistry.parseStencilSet($xmlDoc$$.documentElement,$postStencilLoad$$,$install$$)}};
mxStencilRegistry.loadStencil=function($filename$$,$fn$$){if(null!=$fn$$)mxUtils.get($filename$$,mxUtils.bind(this,function($req$$){$fn$$(200<=$req$$.getStatus()&&299>=$req$$.getStatus()?$req$$.getXml():null)}),mxUtils.bind(this,function($req$$){$fn$$(null)}));else return mxUtils.load($filename$$).getXml()};mxStencilRegistry.parseStencilSets=function($stencils$$){for(var $i$$=0;$i$$<$stencils$$.length;$i$$++)mxStencilRegistry.parseStencilSet(mxUtils.parseXml($stencils$$[$i$$]).documentElement)};
mxStencilRegistry.parseStencilSet=function($name$jscomp$84_root$$,$postStencilLoad$$,$install$$){if("stencils"==$name$jscomp$84_root$$.nodeName)for(var $shape$jscomp$8_shapes$$=$name$jscomp$84_root$$.firstChild;null!=$shape$jscomp$8_shapes$$;)"shapes"==$shape$jscomp$8_shapes$$.nodeName&&mxStencilRegistry.parseStencilSet($shape$jscomp$8_shapes$$,$postStencilLoad$$,$install$$),$shape$jscomp$8_shapes$$=$shape$jscomp$8_shapes$$.nextSibling;else{$install$$=null!=$install$$?$install$$:!0;$shape$jscomp$8_shapes$$=
$name$jscomp$84_root$$.firstChild;var $packageName$$="";$name$jscomp$84_root$$=$name$jscomp$84_root$$.getAttribute("name");for(null!=$name$jscomp$84_root$$&&($packageName$$=$name$jscomp$84_root$$+".");null!=$shape$jscomp$8_shapes$$;){if($shape$jscomp$8_shapes$$.nodeType==mxConstants.NODETYPE_ELEMENT&&($name$jscomp$84_root$$=$shape$jscomp$8_shapes$$.getAttribute("name"),null!=$name$jscomp$84_root$$)){$packageName$$=$packageName$$.toLowerCase();var $stencilName$$=$name$jscomp$84_root$$.replace(/ /g,
"_");$install$$&&mxStencilRegistry.addStencil($packageName$$+$stencilName$$.toLowerCase(),new mxStencil($shape$jscomp$8_shapes$$));if(null!=$postStencilLoad$$){var $w$$=$shape$jscomp$8_shapes$$.getAttribute("w"),$h$$=$shape$jscomp$8_shapes$$.getAttribute("h");$w$$=null==$w$$?80:parseInt($w$$,10);$h$$=null==$h$$?80:parseInt($h$$,10);$postStencilLoad$$($packageName$$,$stencilName$$,$name$jscomp$84_root$$,$w$$,$h$$)}}$shape$jscomp$8_shapes$$=$shape$jscomp$8_shapes$$.nextSibling}}};
"undefined"!==typeof mxVertexHandler&&function(){function $createHint$$(){var $hint$$=document.createElement("div");$hint$$.className="geHint";$hint$$.style.whiteSpace="nowrap";$hint$$.style.position="absolute";return $hint$$}function $formatHintText$$($pixels$$,$unit$$){switch($unit$$){case mxConstants.POINTS:return $pixels$$;case mxConstants.MILLIMETERS:return($pixels$$/mxConstants.PIXELS_PER_MM).toFixed(1);case mxConstants.METERS:return($pixels$$/(1E3*mxConstants.PIXELS_PER_MM)).toFixed(4);case mxConstants.INCHES:return($pixels$$/
mxConstants.PIXELS_PER_INCH).toFixed(2)}}mxConstants.HANDLE_FILLCOLOR="#29b6f2";mxConstants.HANDLE_STROKECOLOR="#0088cf";mxConstants.VERTEX_SELECTION_COLOR="#00a8ff";mxConstants.OUTLINE_COLOR="#00a8ff";mxConstants.OUTLINE_HANDLE_FILLCOLOR="#99ccff";mxConstants.OUTLINE_HANDLE_STROKECOLOR="#00a8ff";mxConstants.CONNECT_HANDLE_FILLCOLOR="#cee7ff";mxConstants.EDGE_SELECTION_COLOR="#00a8ff";mxConstants.DEFAULT_VALID_COLOR="#00a8ff";mxConstants.LABEL_HANDLE_FILLCOLOR="#cee7ff";mxConstants.GUIDE_COLOR="#0088cf";
mxConstants.HIGHLIGHT_STROKEWIDTH=5;mxConstants.HIGHLIGHT_OPACITY=50;mxConstants.HIGHLIGHT_SIZE=5;mxWindow.prototype.closeImage=Graph.createSvgImage(18,10,'<path d="M 5 1 L 13 9 M 13 1 L 5 9" stroke="#707070" stroke-width="2"/>').src;mxWindow.prototype.minimizeImage=Graph.createSvgImage(14,10,'<path d="M 3 7 L 7 3 L 11 7" stroke="#707070" stroke-width="2" fill="none"/>').src;mxWindow.prototype.normalizeImage=Graph.createSvgImage(14,10,'<path d="M 3 3 L 7 7 L 11 3" stroke="#707070" stroke-width="2" fill="none"/>').src;
mxWindow.prototype.resizeImage=Graph.createSvgImage(10,10,'<path d="Z" stroke="#C0C0C0" stroke-width="1" fill="none"/>').src;mxEdgeHandler.prototype.snapToTerminals=!0;mxGraphHandler.prototype.guidesEnabled=!0;mxGraphHandler.prototype.removeEmptyParents=!0;mxRubberband.prototype.fadeOut=!0;mxGuide.prototype.isEnabledForEvent=function($evt$$){return!mxEvent.isAltDown($evt$$)||mxEvent.isShiftDown($evt$$)};var $graphLayoutIsVertexIgnored$$=mxGraphLayout.prototype.isVertexIgnored;mxGraphLayout.prototype.isVertexIgnored=
function($vertex$$){return $graphLayoutIsVertexIgnored$$.apply(this,arguments)||this.graph.isTableRow($vertex$$)||this.graph.isTableCell($vertex$$)};var $graphLayoutIsEdgeIgnored$$=mxGraphLayout.prototype.isEdgeIgnored;mxGraphLayout.prototype.isEdgeIgnored=function($edge$$){return $graphLayoutIsEdgeIgnored$$.apply(this,arguments)||this.graph.isEdgeIgnored($edge$$)};var $mxConnectionHandlerCreateTarget$$=mxConnectionHandler.prototype.isCreateTarget;mxConnectionHandler.prototype.isCreateTarget=function($evt$$){return this.graph.isCloneEvent($evt$$)!=
$mxConnectionHandlerCreateTarget$$.apply(this,arguments)};mxConstraintHandler.prototype.createHighlightShape=function(){var $hl$$=new mxEllipse(null,this.highlightColor,this.highlightColor,0);$hl$$.opacity=mxConstants.HIGHLIGHT_OPACITY;return $hl$$};mxConnectionHandler.prototype.livePreview=!0;mxConnectionHandler.prototype.cursor="crosshair";mxConnectionHandler.prototype.createEdgeState=function($edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$){$edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$=
this.graph.createCurrentEdgeStyle();$edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$=this.graph.createEdge(null,null,null,null,null,$edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$);$edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$=new mxCellState(this.graph.view,$edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$,this.graph.getCellStyle($edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$));for(var $key$$ in this.graph.currentEdgeStyle)$edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$.style[$key$$]=
this.graph.currentEdgeStyle[$key$$];if(null!=this.previous){var $temp$$=this.previous.style.newEdgeStyle;if(null!=$temp$$)try{var $styles$$=JSON.parse($temp$$);for($key$$ in $styles$$)$edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$.style[$key$$]=$styles$$[$key$$]}catch($e$$){}}$edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$.style=this.graph.postProcessCellStyle($edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$.cell,$edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$.style);return $edge$jscomp$10_me$jscomp$32_state$jscomp$53_style$$};
var $connectionHandlerCreateShape$$=mxConnectionHandler.prototype.createShape;mxConnectionHandler.prototype.createShape=function(){var $shape$$=$connectionHandlerCreateShape$$.apply(this,arguments);$shape$$.isDashed="1"==this.graph.currentEdgeStyle[mxConstants.STYLE_DASHED];return $shape$$};mxConnectionHandler.prototype.updatePreview=function($valid$$){};var $mxConnectionHandlerCreateMarker$$=mxConnectionHandler.prototype.createMarker;mxConnectionHandler.prototype.createMarker=function(){var $marker$$=
$mxConnectionHandlerCreateMarker$$.apply(this,arguments),$markerGetCell$$=$marker$$.getCell;$marker$$.getCell=mxUtils.bind(this,function($me$$){var $result$$=$markerGetCell$$.apply(this,arguments);this.error=null;return $result$$});return $marker$$};Graph.prototype.defaultVertexStyle={};Graph.prototype.defaultEdgeStyle={edgeStyle:"orthogonalEdgeStyle",rounded:"0",jettySize:"auto",orthogonalLoop:"1"};Graph.prototype.createCurrentEdgeStyle=function(){for(var $style$$="edgeStyle="+(this.currentEdgeStyle.edgeStyle||
"none")+";",$keys$$="shape curved rounded comic sketch fillWeight hachureGap hachureAngle jiggle disableMultiStroke disableMultiStrokeFill fillStyle curveFitting simplification comicStyle jumpStyle jumpSize".split(" "),$i$$=0;$i$$<$keys$$.length;$i$$++)null!=this.currentEdgeStyle[$keys$$[$i$$]]&&($style$$+=$keys$$[$i$$]+"="+this.currentEdgeStyle[$keys$$[$i$$]]+";");null!=this.currentEdgeStyle.orthogonalLoop?$style$$+="orthogonalLoop="+this.currentEdgeStyle.orthogonalLoop+";":null!=Graph.prototype.defaultEdgeStyle.orthogonalLoop&&
($style$$+="orthogonalLoop="+Graph.prototype.defaultEdgeStyle.orthogonalLoop+";");null!=this.currentEdgeStyle.jettySize?$style$$+="jettySize="+this.currentEdgeStyle.jettySize+";":null!=Graph.prototype.defaultEdgeStyle.jettySize&&($style$$+="jettySize="+Graph.prototype.defaultEdgeStyle.jettySize+";");"elbowEdgeStyle"==this.currentEdgeStyle.edgeStyle&&null!=this.currentEdgeStyle.elbow&&($style$$+="elbow="+this.currentEdgeStyle.elbow+";");return $style$$=null!=this.currentEdgeStyle.html?$style$$+("html="+
this.currentEdgeStyle.html+";"):$style$$+"html=1;"};Graph.prototype.getPagePadding=function(){return new mxPoint(0,0)};Graph.prototype.loadStylesheet=function(){var $node$$=null!=this.themes?this.themes[this.defaultThemeName]:mxStyleRegistry.dynamicLoading?mxUtils.load(STYLE_PATH+"/default.xml").getDocumentElement():null;null!=$node$$&&(new mxCodec($node$$.ownerDocument)).decode($node$$,this.getStylesheet())};Graph.prototype.createCellLookup=function($cells$$,$lookup$$){$lookup$$=null!=$lookup$$?
$lookup$$:{};for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=$cells$$[$i$$];$lookup$$[mxObjectIdentity.get($cell$$)]=$cell$$.getId();for(var $childCount$$=this.model.getChildCount($cell$$),$j$$=0;$j$$<$childCount$$;$j$$++)this.createCellLookup([this.model.getChildAt($cell$$,$j$$)],$lookup$$)}return $lookup$$};Graph.prototype.createCellMapping=function($mapping$$,$lookup$$,$cellMapping$$){$cellMapping$$=null!=$cellMapping$$?$cellMapping$$:{};for(var $objectId$$ in $mapping$$){var $cellId$$=
$lookup$$[$objectId$$];null==$cellMapping$$[$cellId$$]&&($cellMapping$$[$cellId$$]=$mapping$$[$objectId$$].getId()||"")}return $cellMapping$$};Graph.prototype.importGraphModel=function($cells$jscomp$52_node$$,$dx$$,$dy$$,$crop$$){$dx$$=null!=$dx$$?$dx$$:0;$dy$$=null!=$dy$$?$dy$$:0;var $cloneMap$jscomp$1_codec$$=new mxCodec($cells$jscomp$52_node$$.ownerDocument),$i$$=new mxGraphModel;$cloneMap$jscomp$1_codec$$.decode($cells$jscomp$52_node$$,$i$$);$cells$jscomp$52_node$$=[];$cloneMap$jscomp$1_codec$$=
{};var $cellMapping$$={},$layers$$=$i$$.getChildren(this.cloneCell($i$$.root,this.isCloneInvalidEdges(),$cloneMap$jscomp$1_codec$$));if(null!=$layers$$){var $lookup$$=this.createCellLookup([$i$$.root]);$layers$$=$layers$$.slice();this.model.beginUpdate();try{if(1!=$layers$$.length||this.isCellLocked(this.getDefaultParent()))for($i$$=0;$i$$<$layers$$.length;$i$$++)$children$$=this.model.getChildren(this.moveCells([$layers$$[$i$$]],$dx$$,$dy$$,!1,this.model.getRoot())[0]),null!=$children$$&&($cells$jscomp$52_node$$=
$cells$jscomp$52_node$$.concat($children$$));else{var $children$$=$i$$.getChildren($layers$$[0]);null!=$children$$&&($cells$jscomp$52_node$$=this.moveCells($children$$,$dx$$,$dy$$,!1,this.getDefaultParent()),$cellMapping$$[$i$$.getChildAt($i$$.root,0).getId()]=this.getDefaultParent().getId())}if(null!=$cells$jscomp$52_node$$&&(this.createCellMapping($cloneMap$jscomp$1_codec$$,$lookup$$,$cellMapping$$),this.updateCustomLinks($cellMapping$$,$cells$jscomp$52_node$$),$crop$$)){this.isGridEnabled()&&($dx$$=
this.snap($dx$$),$dy$$=this.snap($dy$$));var $bounds$$=this.getBoundingBoxFromGeometry($cells$jscomp$52_node$$,!0);null!=$bounds$$&&this.moveCells($cells$jscomp$52_node$$,$dx$$-$bounds$$.x,$dy$$-$bounds$$.y)}}finally{this.model.endUpdate()}}return $cells$jscomp$52_node$$};Graph.prototype.encodeCells=function($cells$$){for(var $cloneMap$$={},$clones$$=this.cloneCells($cells$$,null,$cloneMap$$),$dict$$=new mxDictionary,$i$$=0;$i$$<$cells$$.length;$i$$++)$dict$$.put($cells$$[$i$$],!0);var $codec$$=new mxCodec,
$model$$=new mxGraphModel,$parent$$=$model$$.getChildAt($model$$.getRoot(),0);for($i$$=0;$i$$<$clones$$.length;$i$$++){$model$$.add($parent$$,$clones$$[$i$$]);var $state$$=this.view.getState($cells$$[$i$$]);if(null!=$state$$){var $geo$$=this.getCellGeometry($clones$$[$i$$]);null!=$geo$$&&$geo$$.relative&&!this.model.isEdge($cells$$[$i$$])&&null==$dict$$.get(this.model.getParent($cells$$[$i$$]))&&($geo$$.offset=null,$geo$$.relative=!1,$geo$$.x=$state$$.x/$state$$.view.scale-$state$$.view.translate.x,
$geo$$.y=$state$$.y/$state$$.view.scale-$state$$.view.translate.y)}}this.updateCustomLinks(this.createCellMapping($cloneMap$$,this.createCellLookup($cells$$)),$clones$$);return $codec$$.encode($model$$)};Graph.prototype.isSwimlane=function($cell$$,$ignoreState$$){var $shape$$=null;null==$cell$$||this.model.isEdge($cell$$)||this.model.getParent($cell$$)==this.model.getRoot()||($shape$$=this.getCurrentCellStyle($cell$$,$ignoreState$$)[mxConstants.STYLE_SHAPE]);return $shape$$==mxConstants.SHAPE_SWIMLANE||
"table"==$shape$$||"tableRow"==$shape$$};var $graphIsCellEditable$$=Graph.prototype.isCellEditable;Graph.prototype.isCellEditable=function($cell$$){return null!=$cell$$&&$graphIsCellEditable$$.apply(this,arguments)?this.isTableCell($cell$$)||this.isTableRow($cell$$)?this.isCellEditable(this.model.getParent($cell$$)):!0:!1};var $graphIsCellMovable$$=Graph.prototype.isCellMovable;Graph.prototype.isCellMovable=function($cell$$){return null!=$cell$$&&$graphIsCellMovable$$.apply(this,arguments)?this.isTableCell($cell$$)||
this.isTableRow($cell$$)?this.isCellMovable(this.model.getParent($cell$$)):!0:!1};var $graphIsExtendParent$$=Graph.prototype.isExtendParent;Graph.prototype.isExtendParent=function($cell$$){var $parent$$=this.model.getParent($cell$$);if(null!=$parent$$){var $style$$=this.getCurrentCellStyle($parent$$);if(null!=$style$$.expand)return"0"!=$style$$.expand}return $graphIsExtendParent$$.apply(this,arguments)&&(null==$parent$$||!this.isTable($parent$$))};var $graphSplitEdge$$=Graph.prototype.splitEdge;Graph.prototype.splitEdge=
function($edge$$,$cells$jscomp$54_i$$,$newEdge$$,$dx$$,$dy$$,$x$$,$y$$,$parent$$){null==$parent$$&&($parent$$=this.model.getParent($edge$$),this.isTable($parent$$)||this.isTableRow($parent$$))&&($parent$$=this.getCellAt($x$$,$y$$,null,!0,!1));$newEdge$$=null;this.model.beginUpdate();try{$newEdge$$=$graphSplitEdge$$.apply(this,[$edge$$,$cells$jscomp$54_i$$,$newEdge$$,$dx$$,$dy$$,$x$$,$y$$,$parent$$]);this.model.setValue($newEdge$$,"");var $sourceLabels$$=this.getChildCells($newEdge$$,!0);for($cells$jscomp$54_i$$=
0;$cells$jscomp$54_i$$<$sourceLabels$$.length;$cells$jscomp$54_i$$++){var $geo$$=this.getCellGeometry($sourceLabels$$[$cells$jscomp$54_i$$]);null!=$geo$$&&$geo$$.relative&&0<$geo$$.x&&this.model.remove($sourceLabels$$[$cells$jscomp$54_i$$])}var $targetLabels$$=this.getChildCells($edge$$,!0);for($cells$jscomp$54_i$$=0;$cells$jscomp$54_i$$<$targetLabels$$.length;$cells$jscomp$54_i$$++)$geo$$=this.getCellGeometry($targetLabels$$[$cells$jscomp$54_i$$]),null!=$geo$$&&$geo$$.relative&&0>=$geo$$.x&&this.model.remove($targetLabels$$[$cells$jscomp$54_i$$]);
var $target$$=this.model.getTerminal($newEdge$$,!1);if(null!=$target$$){var $style$$=this.getCurrentCellStyle($target$$);null!=$style$$&&"1"==$style$$.snapToPoint&&(this.setCellStyles(mxConstants.STYLE_EXIT_X,null,[$edge$$]),this.setCellStyles(mxConstants.STYLE_EXIT_Y,null,[$edge$$]),this.setCellStyles(mxConstants.STYLE_ENTRY_X,null,[$newEdge$$]),this.setCellStyles(mxConstants.STYLE_ENTRY_Y,null,[$newEdge$$]))}}finally{this.model.endUpdate()}return $newEdge$$};var $graphSelectCell$$=Graph.prototype.selectCell;
Graph.prototype.selectCell=function($isNext$$,$isParent$$,$isChild$$){if($isParent$$||$isChild$$)$graphSelectCell$$.apply(this,arguments);else{var $cell$$=this.getSelectionCell(),$index$$=null,$cells$$=[],$flatten$$=mxUtils.bind(this,function($temp$$){if(null!=this.view.getState($temp$$)&&(this.model.isVertex($temp$$)||this.model.isEdge($temp$$)))if($cells$$.push($temp$$),$temp$$==$cell$$)$index$$=$cells$$.length-1;else if($isNext$$&&null==$cell$$&&0<$cells$$.length||null!=$index$$&&$isNext$$&&$cells$$.length>
$index$$||!$isNext$$&&0<$index$$)return;for(var $i$$=0;$i$$<this.model.getChildCount($temp$$);$i$$++)$flatten$$(this.model.getChildAt($temp$$,$i$$))});$flatten$$(this.model.root);0<$cells$$.length&&($index$$=null!=$index$$?mxUtils.mod($index$$+($isNext$$?1:-1),$cells$$.length):0,this.setSelectionCell($cells$$[$index$$]))}};Graph.prototype.swapShapes=function($source$$,$target$$){if(this.model.isVertex($source$$)&&this.model.isVertex($target$$)&&2==this.getMovableCells([$source$$,$target$$]).length){var $geo1$$=
this.getCellGeometry($source$$),$geo2$$=this.getCellGeometry($target$$);if(null!=$geo1$$&&null!=$geo2$$){var $g1$$=$geo1$$.clone(),$g2$$=$geo2$$.clone();this.model.beginUpdate();try{$g1$$.x=$geo2$$.getCenterX()-$geo1$$.width/2,$g1$$.y=$geo2$$.getCenterY()-$geo1$$.height/2,$g2$$.x=$geo1$$.getCenterX()-$geo2$$.width/2,$g2$$.y=$geo1$$.getCenterY()-$geo2$$.height/2,this.model.setGeometry($source$$,$g1$$),this.model.setGeometry($target$$,$g2$$)}finally{this.model.endUpdate()}}}};var $graphMoveCells$$=
Graph.prototype.moveCells;Graph.prototype.moveCells=function($cells$$,$dx$$,$dy$$,$clone$$,$target$$,$evt$$,$mapping$$){$mapping$$=null!=$mapping$$?$mapping$$:{};if(this.isTable($target$$)){for(var $newCells$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++)this.isTable($cells$$[$i$$])?$newCells$$=$newCells$$.concat(this.model.getChildCells($cells$$[$i$$],!0).reverse()):$newCells$$.push($cells$$[$i$$]);$cells$$=$newCells$$}this.model.beginUpdate();try{$newCells$$=[];for($i$$=0;$i$$<$cells$$.length;$i$$++)if(null!=
$target$$&&this.isTableRow($cells$$[$i$$])){var $parent$$=this.model.getParent($cells$$[$i$$]),$row$$=this.getCellGeometry($cells$$[$i$$]);this.isTable($parent$$)&&$newCells$$.push($parent$$);if(null!=$parent$$&&null!=$row$$&&this.isTable($parent$$)&&this.isTable($target$$)&&($clone$$||$parent$$!=$target$$)){if(!$clone$$){var $table$$=this.getCellGeometry($parent$$);null!=$table$$&&($table$$=$table$$.clone(),$table$$.height-=$row$$.height,this.model.setGeometry($parent$$,$table$$))}$table$$=this.getCellGeometry($target$$);
null!=$table$$&&($table$$=$table$$.clone(),$table$$.height+=$row$$.height,this.model.setGeometry($target$$,$table$$));var $rows$$=this.model.getChildCells($target$$,!0);if(0<$rows$$.length){$cells$$[$i$$]=$clone$$?this.cloneCell($cells$$[$i$$]):$cells$$[$i$$];var $sourceCols$$=this.model.getChildCells($cells$$[$i$$],!0),$cols$$=this.model.getChildCells($rows$$[0],!0),$count$$=$cols$$.length-$sourceCols$$.length;if(0<$count$$)for(var $j$$=0;$j$$<$count$$;$j$$++){var $col$$=this.cloneCell($sourceCols$$[$sourceCols$$.length-
1]);null!=$col$$&&($col$$.value="",this.model.add($cells$$[$i$$],$col$$))}else if(0>$count$$)for($j$$=0;$j$$>$count$$;$j$$--)this.model.remove($sourceCols$$[$sourceCols$$.length+$j$$-1]);$sourceCols$$=this.model.getChildCells($cells$$[$i$$],!0);for($j$$=0;$j$$<$cols$$.length;$j$$++){var $geo$$=this.getCellGeometry($cols$$[$j$$]),$geo2$$=this.getCellGeometry($sourceCols$$[$j$$]);null!=$geo$$&&null!=$geo2$$&&($geo2$$=$geo2$$.clone(),$geo2$$.width=$geo$$.width,this.model.setGeometry($sourceCols$$[$j$$],
$geo2$$))}}}}var $result$$=$graphMoveCells$$.apply(this,arguments);for($i$$=0;$i$$<$newCells$$.length;$i$$++)!$clone$$&&this.model.contains($newCells$$[$i$$])&&0==this.model.getChildCount($newCells$$[$i$$])&&this.model.remove($newCells$$[$i$$]);$clone$$&&this.updateCustomLinks(this.createCellMapping($mapping$$,this.createCellLookup($cells$$)),$result$$)}finally{this.model.endUpdate()}return $result$$};var $graphRemoveCells$$=Graph.prototype.removeCells;Graph.prototype.removeCells=function($cells$$,
$includeEdges$$){var $result$$=[];this.model.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++)if(this.isTableCell($cells$$[$i$$])){var $row$$=this.model.getParent($cells$$[$i$$]),$table$$=this.model.getParent($row$$);1==this.model.getChildCount($row$$)&&1==this.model.getChildCount($table$$)?0>mxUtils.indexOf($cells$$,$table$$)&&0>mxUtils.indexOf($result$$,$table$$)&&$result$$.push($table$$):this.labelChanged($cells$$[$i$$],"")}else{if(this.isTableRow($cells$$[$i$$])&&($table$$=this.model.getParent($cells$$[$i$$]),
0>mxUtils.indexOf($cells$$,$table$$)&&0>mxUtils.indexOf($result$$,$table$$))){for(var $rows$$=this.model.getChildCells($table$$,!0),$deleteCount$$=0,$j$$=0;$j$$<$rows$$.length;$j$$++)0<=mxUtils.indexOf($cells$$,$rows$$[$j$$])&&$deleteCount$$++;$deleteCount$$==$rows$$.length&&$result$$.push($table$$)}$result$$.push($cells$$[$i$$])}$result$$=$graphRemoveCells$$.apply(this,[$result$$,$includeEdges$$])}finally{this.model.endUpdate()}return $result$$};Graph.prototype.updateCustomLinks=function($mapping$$,
$cells$$,$graph$$){$graph$$=null!=$graph$$?$graph$$:new Graph;for(var $i$$=0;$i$$<$cells$$.length;$i$$++)null!=$cells$$[$i$$]&&$graph$$.updateCustomLinksForCell($mapping$$,$cells$$[$i$$],$graph$$)};Graph.prototype.updateCustomLinksForCell=function($mapping$$,$cell$$){this.doUpdateCustomLinksForCell($mapping$$,$cell$$);for(var $childCount$$=this.model.getChildCount($cell$$),$i$$=0;$i$$<$childCount$$;$i$$++)this.updateCustomLinksForCell($mapping$$,this.model.getChildAt($cell$$,$i$$))};Graph.prototype.doUpdateCustomLinksForCell=
function($mapping$$,$cell$$){};Graph.prototype.getAllConnectionConstraints=function($result$jscomp$42_terminal$$,$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$){if(null!=$result$jscomp$42_terminal$$){$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$=mxUtils.getValue($result$jscomp$42_terminal$$.style,"points",null);if(null!=$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$){$result$jscomp$42_terminal$$=[];try{var $c$jscomp$6_w$$=
JSON.parse($bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$);for($bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$=0;$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$<$c$jscomp$6_w$$.length;$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$++){var $dir$jscomp$8_tmp$$=$c$jscomp$6_w$$[$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$];$result$jscomp$42_terminal$$.push(new mxConnectionConstraint(new mxPoint($dir$jscomp$8_tmp$$[0],
$dir$jscomp$8_tmp$$[1]),2<$dir$jscomp$8_tmp$$.length?"0"!=$dir$jscomp$8_tmp$$[2]:!0,null,3<$dir$jscomp$8_tmp$$.length?$dir$jscomp$8_tmp$$[3]:0,4<$dir$jscomp$8_tmp$$.length?$dir$jscomp$8_tmp$$[4]:0))}}catch($e$$){}return $result$jscomp$42_terminal$$}if(null!=$result$jscomp$42_terminal$$.shape&&null!=$result$jscomp$42_terminal$$.shape.bounds){$dir$jscomp$8_tmp$$=$result$jscomp$42_terminal$$.shape.direction;$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$=$result$jscomp$42_terminal$$.shape.bounds;
var $scale$$=$result$jscomp$42_terminal$$.shape.scale;$c$jscomp$6_w$$=$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$.width/$scale$$;$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$=$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$.height/$scale$$;if($dir$jscomp$8_tmp$$==mxConstants.DIRECTION_NORTH||$dir$jscomp$8_tmp$$==mxConstants.DIRECTION_SOUTH)$dir$jscomp$8_tmp$$=$c$jscomp$6_w$$,$c$jscomp$6_w$$=$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$,
$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$=$dir$jscomp$8_tmp$$;$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$=$result$jscomp$42_terminal$$.shape.getConstraints($result$jscomp$42_terminal$$.style,$c$jscomp$6_w$$,$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$);if(null!=$bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$)return $bounds$jscomp$12_constraints$jscomp$10_h$jscomp$27_i$jscomp$95_source$$;
if(null!=$result$jscomp$42_terminal$$.shape.stencil&&null!=$result$jscomp$42_terminal$$.shape.stencil.constraints)return $result$jscomp$42_terminal$$.shape.stencil.constraints;if(null!=$result$jscomp$42_terminal$$.shape.constraints)return $result$jscomp$42_terminal$$.shape.constraints}}return null};Graph.prototype.flipEdge=function($edge$$){if(null!=$edge$$){var $style$jscomp$43_value$$=this.getCurrentCellStyle($edge$$);$style$jscomp$43_value$$=mxUtils.getValue($style$jscomp$43_value$$,mxConstants.STYLE_ELBOW,
mxConstants.ELBOW_HORIZONTAL)==mxConstants.ELBOW_HORIZONTAL?mxConstants.ELBOW_VERTICAL:mxConstants.ELBOW_HORIZONTAL;this.setCellStyles(mxConstants.STYLE_ELBOW,$style$jscomp$43_value$$,[$edge$$])}};Graph.prototype.isValidRoot=function($cell$$){for(var $childCount$$=this.model.getChildCount($cell$$),$realChildCount$$=0,$i$$=0;$i$$<$childCount$$;$i$$++){var $child$$=this.model.getChildAt($cell$$,$i$$);this.model.isVertex($child$$)&&($child$$=this.getCellGeometry($child$$),null==$child$$||$child$$.relative||
$realChildCount$$++)}return 0<$realChildCount$$||this.isContainer($cell$$)};Graph.prototype.isValidDropTarget=function($cell$$,$cells$$,$evt$$){for(var $style$$=this.getCurrentCellStyle($cell$$),$tables$$=!0,$rows$$=!0,$i$$=0;$i$$<$cells$$.length&&$rows$$;$i$$++)$tables$$=$tables$$&&this.isTable($cells$$[$i$$]),$rows$$=$rows$$&&this.isTableRow($cells$$[$i$$]);return!this.isCellLocked($cell$$)&&(this.isTargetShape($cell$$,$cells$$,$evt$$)||("1"!=mxUtils.getValue($style$$,"part","0")||this.isContainer($cell$$))&&
"0"!=mxUtils.getValue($style$$,"dropTarget","1")&&(mxGraph.prototype.isValidDropTarget.apply(this,arguments)||this.isContainer($cell$$))&&!this.isTableRow($cell$$)&&(!this.isTable($cell$$)||$rows$$||$tables$$))};Graph.prototype.createGroupCell=function(){var $group$$=mxGraph.prototype.createGroupCell.apply(this,arguments);$group$$.setStyle("group");return $group$$};Graph.prototype.isExtendParentsOnAdd=function($cell$$){var $result$$=mxGraph.prototype.isExtendParentsOnAdd.apply(this,arguments);if($result$$&&
null!=$cell$$&&null!=this.layoutManager){var $layout$jscomp$13_parent$$=this.model.getParent($cell$$);null!=$layout$jscomp$13_parent$$&&($layout$jscomp$13_parent$$=this.layoutManager.getLayout($layout$jscomp$13_parent$$),null!=$layout$jscomp$13_parent$$&&$layout$jscomp$13_parent$$.constructor==mxStackLayout&&($result$$=!1))}return $result$$};Graph.prototype.getPreferredSizeForCell=function($cell$$){var $result$$=mxGraph.prototype.getPreferredSizeForCell.apply(this,arguments);null!=$result$$&&($result$$.width+=
10,$result$$.height+=4,this.gridEnabled&&($result$$.width=this.snap($result$$.width),$result$$.height=this.snap($result$$.height)));return $result$$};Graph.prototype.turnShapes=function($cells$$,$backwards$$){var $model$$=this.getModel(),$select$$=[];$model$$.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=$cells$$[$i$$];if($model$$.isEdge($cell$$)){var $src$$=$model$$.getTerminal($cell$$,!0),$trg$$=$model$$.getTerminal($cell$$,!1);$model$$.setTerminal($cell$$,$trg$$,!0);
$model$$.setTerminal($cell$$,$src$$,!1);var $geo$$=$model$$.getGeometry($cell$$);if(null!=$geo$$){$geo$$=$geo$$.clone();null!=$geo$$.points&&$geo$$.points.reverse();var $sp$$=$geo$$.getTerminalPoint(!0),$tp$$=$geo$$.getTerminalPoint(!1);$geo$$.setTerminalPoint($sp$$,!1);$geo$$.setTerminalPoint($tp$$,!0);$model$$.setGeometry($cell$$,$geo$$);var $edgeState$$=this.view.getState($cell$$),$sourceState$$=this.view.getState($src$$),$targetState$$=this.view.getState($trg$$);if(null!=$edgeState$$){var $sc$$=
null!=$sourceState$$?this.getConnectionConstraint($edgeState$$,$sourceState$$,!0):null,$tc$$=null!=$targetState$$?this.getConnectionConstraint($edgeState$$,$targetState$$,!1):null;this.setConnectionConstraint($cell$$,$src$$,!0,$tc$$);this.setConnectionConstraint($cell$$,$trg$$,!1,$sc$$);var $temp$$=mxUtils.getValue($edgeState$$.style,mxConstants.STYLE_SOURCE_PERIMETER_SPACING);this.setCellStyles(mxConstants.STYLE_SOURCE_PERIMETER_SPACING,mxUtils.getValue($edgeState$$.style,mxConstants.STYLE_TARGET_PERIMETER_SPACING),
[$cell$$]);this.setCellStyles(mxConstants.STYLE_TARGET_PERIMETER_SPACING,$temp$$,[$cell$$])}$select$$.push($cell$$)}}else if($model$$.isVertex($cell$$)&&($geo$$=this.getCellGeometry($cell$$),null!=$geo$$)){if(!(this.isTable($cell$$)||this.isTableRow($cell$$)||this.isTableCell($cell$$)||this.isSwimlane($cell$$))){$geo$$=$geo$$.clone();$geo$$.x+=$geo$$.width/2-$geo$$.height/2;$geo$$.y+=$geo$$.height/2-$geo$$.width/2;var $tmp$$=$geo$$.width;$geo$$.width=$geo$$.height;$geo$$.height=$tmp$$;$model$$.setGeometry($cell$$,
$geo$$)}var $state$$=this.view.getState($cell$$);if(null!=$state$$){var $dirs$$=[mxConstants.DIRECTION_EAST,mxConstants.DIRECTION_SOUTH,mxConstants.DIRECTION_WEST,mxConstants.DIRECTION_NORTH],$dir$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST);this.setCellStyles(mxConstants.STYLE_DIRECTION,$dirs$$[mxUtils.mod(mxUtils.indexOf($dirs$$,$dir$$)+($backwards$$?-1:1),$dirs$$.length)],[$cell$$])}$select$$.push($cell$$)}}}finally{$model$$.endUpdate()}return $select$$};
Graph.prototype.stencilHasPlaceholders=function($node$jscomp$22_stencil$$){if(null!=$node$jscomp$22_stencil$$&&null!=$node$jscomp$22_stencil$$.fgNode)for($node$jscomp$22_stencil$$=$node$jscomp$22_stencil$$.fgNode.firstChild;null!=$node$jscomp$22_stencil$$;){if("text"==$node$jscomp$22_stencil$$.nodeName&&"1"==$node$jscomp$22_stencil$$.getAttribute("placeholders"))return!0;$node$jscomp$22_stencil$$=$node$jscomp$22_stencil$$.nextSibling}return!1};var $graphProcessChange$$=Graph.prototype.processChange;
Graph.prototype.processChange=function($change$$){if($change$$ instanceof mxGeometryChange&&(this.isTableCell($change$$.cell)||this.isTableRow($change$$.cell))&&(null==$change$$.previous&&null!=$change$$.geometry||null!=$change$$.previous&&!$change$$.previous.equals($change$$.geometry))){var $cell$$=$change$$.cell;this.isTableCell($cell$$)&&($cell$$=this.model.getParent($cell$$));this.isTableRow($cell$$)&&($cell$$=this.model.getParent($cell$$));var $state$$=this.view.getState($cell$$);null!=$state$$&&
null!=$state$$.shape&&(this.view.invalidate($cell$$),$state$$.shape.bounds=null)}$graphProcessChange$$.apply(this,arguments);$change$$ instanceof mxValueChange&&null!=$change$$.cell&&null!=$change$$.cell.value&&"object"==typeof $change$$.cell.value&&this.invalidateDescendantsWithPlaceholders($change$$.cell)};Graph.prototype.invalidateDescendantsWithPlaceholders=function($cell$$){$cell$$=this.model.getDescendants($cell$$);if(0<$cell$$.length)for(var $i$$=0;$i$$<$cell$$.length;$i$$++){var $state$$=
this.view.getState($cell$$[$i$$]);null!=$state$$&&null!=$state$$.shape&&null!=$state$$.shape.stencil&&this.stencilHasPlaceholders($state$$.shape.stencil)?this.removeStateForCell($cell$$[$i$$]):this.isReplacePlaceholders($cell$$[$i$$])&&this.view.invalidate($cell$$[$i$$],!1,!1)}};Graph.prototype.replaceElement=function($elt$$,$span$jscomp$2_tagName$$){$span$jscomp$2_tagName$$=$elt$$.ownerDocument.createElement(null!=$span$jscomp$2_tagName$$?$span$jscomp$2_tagName$$:"span");for(var $attributes$$=Array.prototype.slice.call($elt$$.attributes);attr=
$attributes$$.pop();)$span$jscomp$2_tagName$$.setAttribute(attr.nodeName,attr.nodeValue);$span$jscomp$2_tagName$$.innerHTML=$elt$$.innerHTML;$elt$$.parentNode.replaceChild($span$jscomp$2_tagName$$,$elt$$)};Graph.prototype.processElements=function($elt$$,$fn$$){if(null!=$elt$$){$elt$$=$elt$$.getElementsByTagName("*");for(var $i$$=0;$i$$<$elt$$.length;$i$$++)null!=$elt$$[$i$$]&&$fn$$($elt$$[$i$$])}};Graph.prototype.updateLabelElements=function($cells$$,$fn$$,$tagName$$){$cells$$=null!=$cells$$?$cells$$:
this.getSelectionCells();for(var $div$$=document.createElement("div"),$i$$=0;$i$$<$cells$$.length;$i$$++){var $label$jscomp$13_style$$=this.getCurrentCellStyle($cells$$[$i$$]);if(null!=$label$jscomp$13_style$$&&"1"==$label$jscomp$13_style$$.html&&($label$jscomp$13_style$$=this.convertValueToString($cells$$[$i$$]),null!=$label$jscomp$13_style$$&&0<$label$jscomp$13_style$$.length)){$div$$.innerHTML=Graph.sanitizeHtml($label$jscomp$13_style$$);for(var $elts$$=$div$$.getElementsByTagName(null!=$tagName$$?
$tagName$$:"*"),$j$$=0;$j$$<$elts$$.length;$j$$++)$fn$$($elts$$[$j$$]);$div$$.innerHTML!=$label$jscomp$13_style$$&&this.cellLabelChanged($cells$$[$i$$],$div$$.innerHTML)}}};Graph.prototype.cellLabelChanged=function($cell$$,$value$$,$autoSize$$){$value$$=Graph.zapGremlins($value$$);this.model.beginUpdate();try{if(null!=$cell$$.value&&"object"==typeof $cell$$.value){if(this.isReplacePlaceholders($cell$$)&&null!=$cell$$.getAttribute("placeholder"))for(var $name$$=$cell$$.getAttribute("placeholder"),
$current$$=$cell$$;null!=$current$$;){if($current$$==this.model.getRoot()||null!=$current$$.value&&"object"==typeof $current$$.value&&$current$$.hasAttribute($name$$)){this.setAttributeForCell($current$$,$name$$,$value$$);break}$current$$=this.model.getParent($current$$)}var $tmp$$=$cell$$.value.cloneNode(!0);Graph.translateDiagram&&null!=Graph.diagramLanguage&&$tmp$$.hasAttribute("label_"+Graph.diagramLanguage)?$tmp$$.setAttribute("label_"+Graph.diagramLanguage,$value$$):$tmp$$.setAttribute("label",
$value$$);$value$$=$tmp$$}mxGraph.prototype.cellLabelChanged.apply(this,arguments)}finally{this.model.endUpdate()}};Graph.prototype.cellsRemoved=function($cells$$){if(null!=$cells$$){for(var $dict$$=new mxDictionary,$i$$=0;$i$$<$cells$$.length;$i$$++)$dict$$.put($cells$$[$i$$],!0);var $parents$$=[];for($i$$=0;$i$$<$cells$$.length;$i$$++){var $parent$jscomp$33_state$$=this.model.getParent($cells$$[$i$$]);null==$parent$jscomp$33_state$$||$dict$$.get($parent$jscomp$33_state$$)||($dict$$.put($parent$jscomp$33_state$$,
!0),$parents$$.push($parent$jscomp$33_state$$))}for($i$$=0;$i$$<$parents$$.length;$i$$++)if($parent$jscomp$33_state$$=this.view.getState($parents$$[$i$$]),null!=$parent$jscomp$33_state$$&&(this.model.isEdge($parent$jscomp$33_state$$.cell)||this.model.isVertex($parent$jscomp$33_state$$.cell))&&this.isCellDeletable($parent$jscomp$33_state$$.cell)&&this.isTransparentState($parent$jscomp$33_state$$)){for(var $allChildren$$=!0,$j$$=0;$j$$<this.model.getChildCount($parent$jscomp$33_state$$.cell)&&$allChildren$$;$j$$++)$dict$$.get(this.model.getChildAt($parent$jscomp$33_state$$.cell,
$j$$))||($allChildren$$=!1);$allChildren$$&&$cells$$.push($parent$jscomp$33_state$$.cell)}}mxGraph.prototype.cellsRemoved.apply(this,arguments)};Graph.prototype.removeCellsAfterUngroup=function($cells$$){for(var $cellsToRemove$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++)this.isCellDeletable($cells$$[$i$$])&&this.isTransparentState(this.view.getState($cells$$[$i$$]))&&$cellsToRemove$$.push($cells$$[$i$$]);$cells$$=$cellsToRemove$$;mxGraph.prototype.removeCellsAfterUngroup.apply(this,arguments)};Graph.prototype.setLinkForCell=
function($cell$$,$link$$){this.setAttributeForCell($cell$$,"link",$link$$)};Graph.prototype.setTooltipForCell=function($cell$$,$link$$){var $key$$="tooltip";Graph.translateDiagram&&null!=Graph.diagramLanguage&&mxUtils.isNode($cell$$.value)&&$cell$$.value.hasAttribute("tooltip_"+Graph.diagramLanguage)&&($key$$="tooltip_"+Graph.diagramLanguage);this.setAttributeForCell($cell$$,$key$$,$link$$)};Graph.prototype.getAttributeForCell=function($cell$jscomp$102_value$$,$attributeName$$,$defaultValue$$){$cell$jscomp$102_value$$=
null!=$cell$jscomp$102_value$$.value&&"object"===typeof $cell$jscomp$102_value$$.value?$cell$jscomp$102_value$$.value.getAttribute($attributeName$$):null;return null!=$cell$jscomp$102_value$$?$cell$jscomp$102_value$$:$defaultValue$$};Graph.prototype.setAttributeForCell=function($cell$$,$attributeName$$,$attributeValue$$){if(null!=$cell$$.value&&"object"==typeof $cell$$.value)var $value$$=$cell$$.value.cloneNode(!0);else $value$$=mxUtils.createXmlDocument().createElement("UserObject"),$value$$.setAttribute("label",
$cell$$.value||"");null!=$attributeValue$$?$value$$.setAttribute($attributeName$$,$attributeValue$$):$value$$.removeAttribute($attributeName$$);this.model.setValue($cell$$,$value$$)};Graph.prototype.isTargetShape=function($shape$jscomp$11_target$$,$cells$$,$evt$jscomp$169_i$$){$shape$jscomp$11_target$$=mxUtils.getValue(this.getCurrentCellStyle($shape$jscomp$11_target$$),mxConstants.STYLE_SHAPE,"");for($evt$jscomp$169_i$$=0;$evt$jscomp$169_i$$<$cells$$.length;$evt$jscomp$169_i$$++){var $shapes$$=mxUtils.getValue(this.getCurrentCellStyle($cells$$[$evt$jscomp$169_i$$]),
"targetShapes","").split(",");if(0<=mxUtils.indexOf($shapes$$,$shape$jscomp$11_target$$))return!0}return!1};var $graphGetDropTarget$$=Graph.prototype.getDropTarget;Graph.prototype.getDropTarget=function($cells$$,$evt$$,$cell$$,$clone$$){if(mxEvent.isAltDown($evt$$))return null;for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $parent$jscomp$34_target$$=this.model.getParent($cells$$[$i$$]);if(this.model.isEdge($parent$jscomp$34_target$$)&&0>mxUtils.indexOf($cells$$,$parent$jscomp$34_target$$))return null}$parent$jscomp$34_target$$=
$graphGetDropTarget$$.apply(this,arguments);var $rows$$=!0;for($i$$=0;$i$$<$cells$$.length&&$rows$$;$i$$++)$rows$$=$rows$$&&this.isTableRow($cells$$[$i$$]);$rows$$&&(this.isTableCell($parent$jscomp$34_target$$)&&($parent$jscomp$34_target$$=this.model.getParent($parent$jscomp$34_target$$)),this.isTableRow($parent$jscomp$34_target$$)&&($parent$jscomp$34_target$$=this.model.getParent($parent$jscomp$34_target$$)),this.isTable($parent$jscomp$34_target$$)||($parent$jscomp$34_target$$=null));return $parent$jscomp$34_target$$};
Graph.prototype.click=function($me$$){mxGraph.prototype.click.call(this,$me$$);this.firstClickState=$me$$.getState();this.firstClickSource=$me$$.getSource()};Graph.prototype.dblClick=function($evt$$,$cell$$){this.isEnabled()&&($cell$$=this.insertTextForEvent($evt$$,$cell$$),mxGraph.prototype.dblClick.call(this,$evt$$,$cell$$))};Graph.prototype.insertTextForEvent=function($evt$$,$cell$$){var $pt$$=mxUtils.convertPoint(this.container,mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$));if(null!=$evt$$&&
!this.model.isVertex($cell$$)){var $state$$=this.model.isEdge($cell$$)?this.view.getState($cell$$):null,$src$$=mxEvent.getSource($evt$$);this.firstClickState!=$state$$||this.firstClickSource!=$src$$||null!=$state$$&&null!=$state$$.text&&null!=$state$$.text.node&&null!=$state$$.text.boundingBox&&(mxUtils.contains($state$$.text.boundingBox,$pt$$.x,$pt$$.y)||mxUtils.isAncestorNode($state$$.text.node,mxEvent.getSource($evt$$)))||(null!=$state$$||this.isCellLocked(this.getDefaultParent()))&&(null==$state$$||
this.isCellLocked($state$$.cell))||!(null!=$state$$||mxClient.IS_SVG&&$src$$==this.view.getCanvas().ownerSVGElement)||(null==$state$$&&($state$$=this.view.getState(this.getCellAt($pt$$.x,$pt$$.y))),$cell$$=this.addText($pt$$.x,$pt$$.y,$state$$))}return $cell$$};Graph.prototype.getInsertPoint=function(){var $gs$$=this.getGridSize(),$dx$$=this.container.scrollLeft/this.view.scale-this.view.translate.x,$dy$$=this.container.scrollTop/this.view.scale-this.view.translate.y;if(this.pageVisible){var $layout$$=
this.getPageLayout(),$page$$=this.getPageSize();$dx$$=Math.max($dx$$,$layout$$.x*$page$$.width);$dy$$=Math.max($dy$$,$layout$$.y*$page$$.height)}return new mxPoint(this.snap($dx$$+$gs$$),this.snap($dy$$+$gs$$))};Graph.prototype.getFreeInsertPoint=function(){var $view$jscomp$5_y$$=this.view,$bds$$=this.getGraphBounds(),$pt$$=this.getInsertPoint(),$x$$=this.snap(Math.round(Math.max($pt$$.x,$bds$$.x/$view$jscomp$5_y$$.scale-$view$jscomp$5_y$$.translate.x+(0==$bds$$.width?2*this.gridSize:0))));$view$jscomp$5_y$$=
this.snap(Math.round(Math.max($pt$$.y,($bds$$.y+$bds$$.height)/$view$jscomp$5_y$$.scale-$view$jscomp$5_y$$.translate.y+2*this.gridSize)));return new mxPoint($x$$,$view$jscomp$5_y$$)};Graph.prototype.getCenterInsertPoint=function($bbox$$){$bbox$$=null!=$bbox$$?$bbox$$:new mxRectangle;return mxUtils.hasScrollbars(this.container)?new mxPoint(this.snap(Math.round((this.container.scrollLeft+this.container.clientWidth/2)/this.view.scale-this.view.translate.x-$bbox$$.width/2)),this.snap(Math.round((this.container.scrollTop+
this.container.clientHeight/2)/this.view.scale-this.view.translate.y-$bbox$$.height/2))):new mxPoint(this.snap(Math.round(this.container.clientWidth/2/this.view.scale-this.view.translate.x-$bbox$$.width/2)),this.snap(Math.round(this.container.clientHeight/2/this.view.scale-this.view.translate.y-$bbox$$.height/2)))};Graph.prototype.isMouseInsertPoint=function(){return!1};Graph.prototype.appendFontSize=function($style$$,$fontSize$$){$style$$=null!=$style$$?$style$$:"";null!=$fontSize$$&&(0<$style$$.length&&
";"!=$style$$.charAt($style$$.length-1)&&($style$$+=";"),$style$$+="fontSize="+$fontSize$$+";");return $style$$};Graph.prototype.addText=function($x$$,$y$$,$state$$){var $label$$=new mxCell;$label$$.value="Text";$label$$.geometry=new mxGeometry(0,0,0,0);$label$$.vertex=!0;if(null!=$state$$&&this.model.isEdge($state$$.cell)){$label$$.style="edgeLabel;"+this.appendFontSize("html=1;align=center;verticalAlign=middle;resizable=0;points=[];",this.edgeFontSize);$label$$.geometry.relative=!0;$label$$.connectable=
!1;var $pt2_tr$$=this.view.getRelativePoint($state$$,$x$$,$y$$);$label$$.geometry.x=Math.round(1E4*$pt2_tr$$.x)/1E4;$label$$.geometry.y=Math.round($pt2_tr$$.y);$label$$.geometry.offset=new mxPoint(0,0);$pt2_tr$$=this.view.getPoint($state$$,$label$$.geometry);var $scale$$=this.view.scale;$label$$.geometry.offset=new mxPoint(Math.round(($x$$-$pt2_tr$$.x)/$scale$$),Math.round(($y$$-$pt2_tr$$.y)/$scale$$))}else $pt2_tr$$=this.view.translate,$label$$.style="text;"+this.appendFontSize("html=1;align=center;verticalAlign=middle;resizable=0;points=[];",
this.vertexFontSize),$label$$.geometry.width=40,$label$$.geometry.height=20,$label$$.geometry.x=Math.round($x$$/this.view.scale)-$pt2_tr$$.x-(null!=$state$$?$state$$.origin.x:0),$label$$.geometry.y=Math.round($y$$/this.view.scale)-$pt2_tr$$.y-(null!=$state$$?$state$$.origin.y:0),$label$$.style+="autosize=1;";this.getModel().beginUpdate();try{this.addCells([$label$$],null!=$state$$?$state$$.cell:null),this.fireEvent(new mxEventObject("textInserted","cells",[$label$$])),this.autoSizeCell($label$$)}finally{this.getModel().endUpdate()}return $label$$};
Graph.prototype.addClickHandler=function($highlight$$,$beforeClick$$,$onClick$$){var $checkLinks$$=mxUtils.bind(this,function(){var $links$$=this.container.getElementsByTagName("a");if(null!=$links$$)for(var $i$$=0;$i$$<$links$$.length;$i$$++){var $href$$=this.getAbsoluteUrl($links$$[$i$$].getAttribute("href"));null!=$href$$&&($links$$[$i$$].setAttribute("rel",this.linkRelation),$links$$[$i$$].setAttribute("href",$href$$),null!=$beforeClick$$&&mxEvent.addGestureListeners($links$$[$i$$],null,null,
$beforeClick$$))}});this.model.addListener(mxEvent.CHANGE,$checkLinks$$);$checkLinks$$();var $cursor$$=this.container.style.cursor,$tol$$=this.getTolerance(),$graph$$=this,$mouseListener$$={currentState:null,currentLink:null,currentTarget:null,highlight:null!=$highlight$$&&""!=$highlight$$&&$highlight$$!=mxConstants.NONE?new mxCellHighlight($graph$$,$highlight$$,4):null,startX:0,startY:0,scrollLeft:0,scrollTop:0,updateCurrentState:function($cell$jscomp$107_me$$){var $tmp$$=$cell$jscomp$107_me$$.sourceState;
if(null==$tmp$$||null==$graph$$.getLinkForCell($tmp$$.cell))$cell$jscomp$107_me$$=$graph$$.getCellAt($cell$jscomp$107_me$$.getGraphX(),$cell$jscomp$107_me$$.getGraphY(),null,null,null,function($state$$,$x$$,$y$$){return null==$graph$$.getLinkForCell($state$$.cell)}),$tmp$$=null==$tmp$$||$graph$$.model.isAncestor($cell$jscomp$107_me$$,$tmp$$.cell)?$graph$$.view.getState($cell$jscomp$107_me$$):null;$tmp$$!=this.currentState&&(null!=this.currentState&&this.clear(),this.currentState=$tmp$$,null!=this.currentState&&
this.activate(this.currentState))},mouseDown:function($sender$$,$me$$){this.startX=$me$$.getGraphX();this.startY=$me$$.getGraphY();this.scrollLeft=$graph$$.container.scrollLeft;this.scrollTop=$graph$$.container.scrollTop;null==this.currentLink&&"auto"==$graph$$.container.style.overflow&&($graph$$.container.style.cursor="move");this.updateCurrentState($me$$)},mouseMove:function($dx$jscomp$27_linkNode_sender$$,$dy$jscomp$26_me$$){if($graph$$.isMouseDown)null!=this.currentLink&&($dx$jscomp$27_linkNode_sender$$=
Math.abs(this.startX-$dy$jscomp$26_me$$.getGraphX()),$dy$jscomp$26_me$$=Math.abs(this.startY-$dy$jscomp$26_me$$.getGraphY()),($dx$jscomp$27_linkNode_sender$$>$tol$$||$dy$jscomp$26_me$$>$tol$$)&&this.clear());else{for($dx$jscomp$27_linkNode_sender$$=$dy$jscomp$26_me$$.getSource();null!=$dx$jscomp$27_linkNode_sender$$&&"a"!=$dx$jscomp$27_linkNode_sender$$.nodeName.toLowerCase();)$dx$jscomp$27_linkNode_sender$$=$dx$jscomp$27_linkNode_sender$$.parentNode;null!=$dx$jscomp$27_linkNode_sender$$?this.clear():
(null!=$graph$$.tooltipHandler&&null!=this.currentLink&&null!=this.currentState&&$graph$$.tooltipHandler.reset($dy$jscomp$26_me$$,!0,this.currentState),(null==this.currentState||$dy$jscomp$26_me$$.getState()!=this.currentState&&null!=$dy$jscomp$26_me$$.sourceState||!$graph$$.intersects(this.currentState,$dy$jscomp$26_me$$.getGraphX(),$dy$jscomp$26_me$$.getGraphY()))&&this.updateCurrentState($dy$jscomp$26_me$$))}},mouseUp:function($evt$jscomp$173_sender$jscomp$32_target$$,$me$$){var $blank_linkNode$jscomp$1_source$$=
$me$$.getSource();for($evt$jscomp$173_sender$jscomp$32_target$$=$me$$.getEvent();null!=$blank_linkNode$jscomp$1_source$$&&"a"!=$blank_linkNode$jscomp$1_source$$.nodeName.toLowerCase();)$blank_linkNode$jscomp$1_source$$=$blank_linkNode$jscomp$1_source$$.parentNode;null==$blank_linkNode$jscomp$1_source$$&&Math.abs(this.scrollLeft-$graph$$.container.scrollLeft)<$tol$$&&Math.abs(this.scrollTop-$graph$$.container.scrollTop)<$tol$$&&(null==$me$$.sourceState||!$me$$.isSource($me$$.sourceState.control))&&
((mxEvent.isLeftMouseButton($evt$jscomp$173_sender$jscomp$32_target$$)||mxEvent.isMiddleMouseButton($evt$jscomp$173_sender$jscomp$32_target$$))&&!mxEvent.isPopupTrigger($evt$jscomp$173_sender$jscomp$32_target$$)||mxEvent.isTouchEvent($evt$jscomp$173_sender$jscomp$32_target$$))&&(null!=this.currentLink?($blank_linkNode$jscomp$1_source$$=$graph$$.isBlankLink(this.currentLink),"data:"!==this.currentLink.substring(0,5)&&$blank_linkNode$jscomp$1_source$$||null==$beforeClick$$||$beforeClick$$($evt$jscomp$173_sender$jscomp$32_target$$,
this.currentLink,null!=this.currentState?this.currentState.cell:null),mxEvent.isConsumed($evt$jscomp$173_sender$jscomp$32_target$$)||($evt$jscomp$173_sender$jscomp$32_target$$=null!=this.currentTarget?this.currentTarget:mxEvent.isMiddleMouseButton($evt$jscomp$173_sender$jscomp$32_target$$)?"_blank":$blank_linkNode$jscomp$1_source$$?$graph$$.linkTarget:"_top",$graph$$.openLink(this.currentLink,$evt$jscomp$173_sender$jscomp$32_target$$),$me$$.consume())):null!=$onClick$$&&!$me$$.isConsumed()&&Math.abs(this.scrollLeft-
$graph$$.container.scrollLeft)<$tol$$&&Math.abs(this.scrollTop-$graph$$.container.scrollTop)<$tol$$&&Math.abs(this.startX-$me$$.getGraphX())<$tol$$&&Math.abs(this.startY-$me$$.getGraphY())<$tol$$&&$onClick$$($me$$.getEvent()));this.clear()},activate:function($state$$){this.currentLink=$graph$$.getAbsoluteUrl($graph$$.getLinkForCell($state$$.cell));null!=this.currentLink&&(this.currentTarget=$graph$$.getLinkTargetForCell($state$$.cell),$graph$$.container.style.cursor="pointer",null!=this.highlight&&
this.highlight.highlight($state$$))},clear:function(){null!=$graph$$.container&&($graph$$.container.style.cursor=$cursor$$);this.currentLink=this.currentState=this.currentTarget=null;null!=this.highlight&&this.highlight.hide();null!=$graph$$.tooltipHandler&&$graph$$.tooltipHandler.hide()}};$graph$$.click=function($me$$){};$graph$$.addMouseListener($mouseListener$$);mxEvent.addListener(document,"mouseleave",function($evt$$){$mouseListener$$.clear()})};Graph.prototype.duplicateCells=function($cells$$,
$append$$){$cells$$=null!=$cells$$?$cells$$:this.getSelectionCells();$append$$=null!=$append$$?$append$$:!0;for(var $i$$=0;$i$$<$cells$$.length;$i$$++)this.isTableCell($cells$$[$i$$])&&($cells$$[$i$$]=this.model.getParent($cells$$[$i$$]));$cells$$=this.model.getTopmostCells($cells$$);var $model$$=this.getModel(),$s$$=this.gridSize,$select$$=[];$model$$.beginUpdate();try{var $cloneMap$$={},$lookup$$=this.createCellLookup($cells$$),$clones$$=this.cloneCells($cells$$,!1,$cloneMap$$,!0);for($i$$=0;$i$$<
$cells$$.length;$i$$++){var $parent$$=$model$$.getParent($cells$$[$i$$]);if(null!=$parent$$){var $child$$=this.moveCells([$clones$$[$i$$]],$s$$,$s$$,!1)[0];$select$$.push($child$$);if($append$$)$model$$.add($parent$$,$clones$$[$i$$]);else{var $index$$=$parent$$.getIndex($cells$$[$i$$]);$model$$.add($parent$$,$clones$$[$i$$],$index$$+1)}if(this.isTable($parent$$)){var $row$$=this.getCellGeometry($clones$$[$i$$]),$table$$=this.getCellGeometry($parent$$);null!=$row$$&&null!=$table$$&&($table$$=$table$$.clone(),
$table$$.height+=$row$$.height,$model$$.setGeometry($parent$$,$table$$))}}else $select$$.push($clones$$[$i$$])}this.updateCustomLinks(this.createCellMapping($cloneMap$$,$lookup$$),$clones$$,this);this.fireEvent(new mxEventObject(mxEvent.CELLS_ADDED,"cells",$clones$$))}finally{$model$$.endUpdate()}return $select$$};Graph.prototype.insertImage=function($newImages_newValue$$,$w$$,$h$$){if(null!=$newImages_newValue$$&&null!=this.cellEditor.textarea){for(var $tmp$$=this.cellEditor.textarea.getElementsByTagName("img"),
$oldImages$$=[],$i$$=0;$i$$<$tmp$$.length;$i$$++)$oldImages$$.push($tmp$$[$i$$]);document.execCommand("insertimage",!1,$newImages_newValue$$);$newImages_newValue$$=this.cellEditor.textarea.getElementsByTagName("img");if($newImages_newValue$$.length==$oldImages$$.length+1)for($i$$=$newImages_newValue$$.length-1;0<=$i$$;$i$$--)if(0==$i$$||$newImages_newValue$$[$i$$]!=$oldImages$$[$i$$-1]){$newImages_newValue$$[$i$$].setAttribute("width",$w$$);$newImages_newValue$$[$i$$].setAttribute("height",$h$$);
break}}};Graph.prototype.insertLink=function($value$$){if(null!=this.cellEditor.textarea)if(0==$value$$.length)document.execCommand("unlink",!1);else if(mxClient.IS_FF){for(var $newLinks_tmp$$=this.cellEditor.textarea.getElementsByTagName("a"),$oldLinks_parent$$=[],$i$$=0;$i$$<$newLinks_tmp$$.length;$i$$++)$oldLinks_parent$$.push($newLinks_tmp$$[$i$$]);document.execCommand("createlink",!1,mxUtils.trim($value$$));$newLinks_tmp$$=this.cellEditor.textarea.getElementsByTagName("a");if($newLinks_tmp$$.length==
$oldLinks_parent$$.length+1)for($i$$=$newLinks_tmp$$.length-1;0<=$i$$;$i$$--)if($newLinks_tmp$$[$i$$]!=$oldLinks_parent$$[$i$$-1]){for($newLinks_tmp$$=$newLinks_tmp$$[$i$$].getElementsByTagName("a");0<$newLinks_tmp$$.length;){for($oldLinks_parent$$=$newLinks_tmp$$[0].parentNode;null!=$newLinks_tmp$$[0].firstChild;)$oldLinks_parent$$.insertBefore($newLinks_tmp$$[0].firstChild,$newLinks_tmp$$[0]);$oldLinks_parent$$.removeChild($newLinks_tmp$$[0])}break}}else document.execCommand("createlink",!1,mxUtils.trim($value$$))};
Graph.prototype.isCellResizable=function($cell$$){var $result$$=mxGraph.prototype.isCellResizable.apply(this,arguments),$style$$=this.getCurrentCellStyle($cell$$);return!this.isTableCell($cell$$)&&!this.isTableRow($cell$$)&&($result$$||"0"!=mxUtils.getValue($style$$,mxConstants.STYLE_RESIZABLE,"1")&&"wrap"==$style$$[mxConstants.STYLE_WHITE_SPACE])};Graph.prototype.distributeCells=function($horizontal$$,$cells$$,$spacing$$){null==$cells$$&&($cells$$=this.getSelectionCells());if(null!=$cells$$&&1<$cells$$.length){for(var $vertices$$=
[],$max$$=null,$min$$=null,$cellsSize$$=0,$i$$=0;$i$$<$cells$$.length;$i$$++)if(this.getModel().isVertex($cells$$[$i$$])){var $state$jscomp$63_t$$=this.view.getState($cells$$[$i$$]);if(null!=$state$jscomp$63_t$$){var $s$jscomp$25_tmp$$=$horizontal$$?$state$jscomp$63_t$$.getCenterX():$state$jscomp$63_t$$.getCenterY();$max$$=null!=$max$$?Math.max($max$$,$s$jscomp$25_tmp$$):$s$jscomp$25_tmp$$;$min$$=null!=$min$$?Math.min($min$$,$s$jscomp$25_tmp$$):$s$jscomp$25_tmp$$;$spacing$$&&($cellsSize$$+=$horizontal$$?
$state$jscomp$63_t$$.width:$state$jscomp$63_t$$.height);$vertices$$.push($state$jscomp$63_t$$)}}if(2<$vertices$$.length){$vertices$$.sort(function($a$$,$b$$){return $horizontal$$?$a$$.x-$b$$.x:$a$$.y-$b$$.y});$spacing$$&&($cellsSize$$-=$horizontal$$?$vertices$$[0].width/2+$vertices$$[$vertices$$.length-1].width/2:$vertices$$[0].height/2+$vertices$$[$vertices$$.length-1].height/2);$state$jscomp$63_t$$=this.view.translate;$s$jscomp$25_tmp$$=this.view.scale;$min$$=$min$$/$s$jscomp$25_tmp$$-($horizontal$$?
$state$jscomp$63_t$$.x:$state$jscomp$63_t$$.y);$max$$=$max$$/$s$jscomp$25_tmp$$-($horizontal$$?$state$jscomp$63_t$$.x:$state$jscomp$63_t$$.y);this.getModel().beginUpdate();try{var $dt$$=($max$$-$min$$-$cellsSize$$)/($vertices$$.length-1),$t0$$=$min$$+($spacing$$?$horizontal$$?$vertices$$[0].width/2:$vertices$$[0].height/2:0);for($i$$=1;$i$$<$vertices$$.length-1;$i$$++){var $pstate$$=this.view.getState(this.model.getParent($vertices$$[$i$$].cell)),$geo$$=this.getCellGeometry($vertices$$[$i$$].cell);
$t0$$+=$dt$$;null!=$geo$$&&null!=$pstate$$&&($geo$$=$geo$$.clone(),$horizontal$$?$geo$$.x=Math.round($t0$$-($spacing$$?0:$geo$$.width/2))-$pstate$$.origin.x:$geo$$.y=Math.round($t0$$-($spacing$$?0:$geo$$.height/2))-$pstate$$.origin.y,this.getModel().setGeometry($vertices$$[$i$$].cell,$geo$$));$spacing$$&&($t0$$+=$horizontal$$?$vertices$$[$i$$].width:$vertices$$[$i$$].height)}}finally{this.getModel().endUpdate()}}}return $cells$$};Graph.prototype.isCloneEvent=function($evt$$){return mxClient.IS_MAC&&
mxEvent.isMetaDown($evt$$)||mxEvent.isControlDown($evt$$)};Graph.prototype.createSvgImageExport=function(){var $exp$$=new mxImageExport;$exp$$.getLinkForCellState=mxUtils.bind(this,function($state$$,$canvas$$){return this.getLinkForCell($state$$.cell)});$exp$$.getTitleForCellState=mxUtils.bind(this,function($state$$,$canvas$$){return Editor.convertHtmlToText(this.convertValueToTooltip($state$$.cell))});return $exp$$};Graph.prototype.parseBackgroundImage=function($json_obj$$){var $result$$=null;null!=
$json_obj$$&&0<$json_obj$$.length&&($json_obj$$=JSON.parse($json_obj$$),$result$$=new mxImage($json_obj$$.src,$json_obj$$.width,$json_obj$$.height));return $result$$};Graph.prototype.getBackgroundImageObject=function($obj$$){return $obj$$};Graph.prototype.getSvg=function($background$$,$scale$$,$border$$,$nocrop_svgBackground$$,$crisp$$,$ignoreSelection$$,$showText$$,$imgExport$$,$linkTarget$$,$hasShadow$$,$i$$,$s$jscomp$26_theme$$,$exportType_tmp$$,$cells$$){var $lookup$$=null;if(null!=$cells$$)for($lookup$$=
new mxDictionary,$i$$=0;$i$$<$cells$$.length;$i$$++)$lookup$$.put($cells$$[$i$$],!0);$cells$$=this.useCssTransforms;var $origEnabledFlowAnimation$$=this.enableFlowAnimation;this.enableFlowAnimation=!1;$cells$$&&(this.useCssTransforms=!1,this.view.revalidate(),this.sizeDidChange());try{$scale$$=null!=$scale$$?$scale$$:1;$border$$=null!=$border$$?$border$$:0;$crisp$$=null!=$crisp$$?$crisp$$:!0;$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:!0;$showText$$=null!=$showText$$?$showText$$:
!0;$hasShadow$$=null!=$hasShadow$$?$hasShadow$$:!1;var $bounds$$="page"==$exportType_tmp$$?this.view.getBackgroundPageBounds():$ignoreSelection$$&&null==$lookup$$||$nocrop_svgBackground$$||"diagram"==$exportType_tmp$$?this.getGraphBounds():this.getBoundingBox(this.getSelectionCells()),$vs$$=this.view.scale;"diagram"==$exportType_tmp$$&&null!=this.backgroundImage&&($bounds$$=mxRectangle.fromRectangle($bounds$$),$bounds$$.add(new mxRectangle((this.view.translate.x+this.backgroundImage.x)*$vs$$,(this.view.translate.y+
this.backgroundImage.y)*$vs$$,this.backgroundImage.width*$vs$$,this.backgroundImage.height*$vs$$)));if(null==$bounds$$)throw Error(mxResources.get("drawingEmpty"));$nocrop_svgBackground$$=$background$$;null!=$nocrop_svgBackground$$&&"dark"==$s$jscomp$26_theme$$&&Editor.enableCssDarkMode&&($nocrop_svgBackground$$=Graph.invertColor($background$$));$s$jscomp$26_theme$$=$scale$$/$vs$$;$exportType_tmp$$=$crisp$$?-.5:0;var $root$$=Graph.createSvgNode($exportType_tmp$$,$exportType_tmp$$,Math.max(1,Math.ceil($bounds$$.width*
$s$jscomp$26_theme$$)+2*$border$$)+($hasShadow$$&&0==$border$$?5:0),Math.max(1,Math.ceil($bounds$$.height*$s$jscomp$26_theme$$)+2*$border$$)+($hasShadow$$&&0==$border$$?5:0),$nocrop_svgBackground$$),$svgDoc$$=$root$$.ownerDocument;if(null!=$background$$){var $rect$$=mxUtils.createElementNs($svgDoc$$,mxConstants.NS_SVG,"rect");$rect$$.setAttribute("fill",$background$$);$rect$$.setAttribute("width","100%");$rect$$.setAttribute("height","100%");$rect$$.setAttribute("x","0");$rect$$.setAttribute("y",
"0");$root$$.appendChild($rect$$)}var $group$$=mxUtils.createElementNs($svgDoc$$,mxConstants.NS_SVG,"g");$root$$.appendChild($group$$);var $svgCanvas$$=this.createSvgCanvas($group$$);$svgCanvas$$.foOffset=$crisp$$?-.5:0;$svgCanvas$$.textOffset=$crisp$$?-.5:0;$svgCanvas$$.imageOffset=$crisp$$?-.5:0;$svgCanvas$$.translate(Math.floor($border$$/$scale$$-$bounds$$.x/$vs$$),Math.floor($border$$/$scale$$-$bounds$$.y/$vs$$));var $htmlConverter$$=document.createElement("div"),$getAlternateText$$=$svgCanvas$$.getAlternateText;
$svgCanvas$$.getAlternateText=function($fo$$,$x$$,$y$$,$w$$,$h$$,$str$$,$align$$,$valign$$,$wrap$$,$format$$,$overflow$$,$clip$$,$rotation$$){if(null!=$str$$&&0<this.state.fontSize)try{mxUtils.isNode($str$$)?$str$$=$str$$.innerText:($htmlConverter$$.innerHTML=$str$$,$str$$=mxUtils.extractTextWithWhitespace($htmlConverter$$.childNodes));for(var $exp$$=Math.ceil(2*$w$$/this.state.fontSize),$result$$=[],$length$$=0,$index$$=0;(0==$exp$$||$length$$<$exp$$)&&$index$$<$str$$.length;){var $char$$=$str$$.charCodeAt($index$$);
if(10==$char$$||13==$char$$){if(0<$length$$)break}else $result$$.push($str$$.charAt($index$$)),255>$char$$&&$length$$++;$index$$++}$result$$.length<$str$$.length&&1<$str$$.length-$result$$.length&&($str$$=mxUtils.trim($result$$.join(""))+"...");return $str$$}catch($e$$){return $getAlternateText$$.apply(this,arguments)}else return $getAlternateText$$.apply(this,arguments)};var $bgImg$$=this.backgroundImage;if(null!=$bgImg$$){$background$$=$vs$$/$scale$$;var $tr$$=this.view.translate;$exportType_tmp$$=
new mxRectangle(($bgImg$$.x+$tr$$.x)*$background$$,($bgImg$$.y+$tr$$.y)*$background$$,$bgImg$$.width*$background$$,$bgImg$$.height*$background$$);mxUtils.intersects($bounds$$,$exportType_tmp$$)&&$svgCanvas$$.image($bgImg$$.x+$tr$$.x,$bgImg$$.y+$tr$$.y,$bgImg$$.width,$bgImg$$.height,$bgImg$$.src,!0)}$svgCanvas$$.scale($s$jscomp$26_theme$$);$svgCanvas$$.textEnabled=$showText$$;$imgExport$$=null!=$imgExport$$?$imgExport$$:this.createSvgImageExport();var $imgExportGetLinkForCellState$$=$imgExport$$.getLinkForCellState;
$imgExport$$.getLinkForCellState=function($state$$,$canvas$$){var $result$$=$state$$.view.graph.getAbsoluteUrl($imgExportGetLinkForCellState$$.apply(this,arguments));return null==$result$$||$state$$.view.graph.isCustomLink($result$$)?null:$result$$};$imgExport$$.getLinkTargetForCellState=function($state$$,$canvas$$){return $state$$.view.graph.getLinkTargetForCell($state$$.cell)};var $imgExportDrawCellState$$=$imgExport$$.drawCellState,$flowAnimationId$$=null,$addFlowAnimationStyle$$=mxUtils.bind(this,
function(){if(null==$flowAnimationId$$){$flowAnimationId$$="ge-flow-animation-"+Editor.guid();var $style$$=null!=$svgDoc$$.createElementNS?$svgDoc$$.createElementNS(mxConstants.NS_SVG,"style"):$svgDoc$$.createElement("style");$style$$.innerHTML=this.createFlowAnimationCss($flowAnimationId$$);$svgDoc$$.getElementsByTagName("defs")[0].appendChild($style$$)}return $flowAnimationId$$});$imgExport$$.drawCellState=function($state$$,$canvas$$){for(var $graph$$=$state$$.view.graph,$selected$$=null!=$lookup$$?
$lookup$$.get($state$$.cell):$graph$$.isCellSelected($state$$.cell),$parent$$=$graph$$.model.getParent($state$$.cell);!($ignoreSelection$$&&null==$lookup$$||$selected$$)&&null!=$parent$$;)$selected$$=null!=$lookup$$?$lookup$$.get($parent$$):$graph$$.isCellSelected($parent$$),$parent$$=$graph$$.model.getParent($parent$$);if(null!=$state$$.shape)try{var $isFlowAnimationEnabled$$=$state$$.shape.isFlowAnimationEnabled,$addFlowAnimationToShape$$=$state$$.shape.addFlowAnimationToShape;$state$$.shape.isFlowAnimationEnabled=
function(){return $origEnabledFlowAnimation$$&&$graph$$.model.isEdge($state$$.cell)&&"1"==mxUtils.getValue($state$$.style,"flowAnimation","0")};$state$$.shape.addFlowAnimationToShape=function(){$graph$$.addFlowAnimationToNode(this.getFlowAnimationPath(),$state$$.style,$scale$$,$addFlowAnimationStyle$$())};if($ignoreSelection$$&&null==$lookup$$||$selected$$)$graph$$.view.redrawEnumerationState($state$$),$imgExportDrawCellState$$.apply(this,arguments),this.doDrawShape($state$$.secondLabel,$canvas$$)}finally{$state$$.shape.isFlowAnimationEnabled=
$isFlowAnimationEnabled$$,$state$$.shape.addFlowAnimationToShape=$addFlowAnimationToShape$$}};var $viewRoot$$=null!=this.view.currentRoot?this.view.currentRoot:this.model.root;$imgExport$$.drawState(this.getView().getState($viewRoot$$),$svgCanvas$$);this.updateSvgLinks($root$$,$linkTarget$$,!0);this.addForeignObjectWarning($svgCanvas$$,$root$$);return $root$$}finally{this.enableFlowAnimation=$origEnabledFlowAnimation$$,$cells$$&&(this.useCssTransforms=!0,this.view.revalidate(),this.sizeDidChange())}};
Graph.prototype.addForeignObjectWarning=function($canvas$jscomp$11_text$$,$root$$){if("0"!=urlParams["svg-warning"]&&0<$root$$.getElementsByTagName("foreignObject").length){var $sw$$=$canvas$jscomp$11_text$$.createElement("switch"),$g1$$=$canvas$jscomp$11_text$$.createElement("g");$g1$$.setAttribute("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility");var $a$$=$canvas$jscomp$11_text$$.createElement("a");$a$$.setAttribute("transform","translate(0,-5)");null==$a$$.setAttributeNS||
$root$$.ownerDocument!=document&&null==document.documentMode?($a$$.setAttribute("xlink:href",Graph.foreignObjectWarningLink),$a$$.setAttribute("target","_blank")):($a$$.setAttributeNS(mxConstants.NS_XLINK,"xlink:href",Graph.foreignObjectWarningLink),$a$$.setAttributeNS(mxConstants.NS_XLINK,"target","_blank"));$canvas$jscomp$11_text$$=$canvas$jscomp$11_text$$.createElement("text");$canvas$jscomp$11_text$$.setAttribute("text-anchor","middle");$canvas$jscomp$11_text$$.setAttribute("font-size","10px");
$canvas$jscomp$11_text$$.setAttribute("x","50%");$canvas$jscomp$11_text$$.setAttribute("y","100%");mxUtils.write($canvas$jscomp$11_text$$,Graph.foreignObjectWarningText);$sw$$.appendChild($g1$$);$a$$.appendChild($canvas$jscomp$11_text$$);$sw$$.appendChild($a$$);$root$$.appendChild($sw$$)}};Graph.prototype.updateSvgLinks=function($links$jscomp$3_node$$,$target$$,$removeCustom$$){$links$jscomp$3_node$$=$links$jscomp$3_node$$.getElementsByTagName("a");for(var $i$$=0;$i$$<$links$jscomp$3_node$$.length;$i$$++)if(null==
$links$jscomp$3_node$$[$i$$].getAttribute("target")){var $href$$=$links$jscomp$3_node$$[$i$$].getAttribute("href");null==$href$$&&($href$$=$links$jscomp$3_node$$[$i$$].getAttribute("xlink:href"));null!=$href$$&&(null!=$target$$&&/^https?:\/\//.test($href$$)?$links$jscomp$3_node$$[$i$$].setAttribute("target",$target$$):$removeCustom$$&&this.isCustomLink($href$$)&&$links$jscomp$3_node$$[$i$$].setAttribute("href","javascript:void(0);"))}};Graph.prototype.createSvgCanvas=function($canvas$jscomp$12_node$$){$canvas$jscomp$12_node$$=
new mxSvgCanvas2D($canvas$jscomp$12_node$$);$canvas$jscomp$12_node$$.minStrokeWidth=this.cellRenderer.minSvgStrokeWidth;$canvas$jscomp$12_node$$.pointerEvents=!0;return $canvas$jscomp$12_node$$};Graph.prototype.getSelectedTextBlocks=function(){function $getNextNode$$($node$$){if($node$$.firstChild)return $node$$.firstChild;for(;$node$$;){if($node$$.nextSibling)return $node$$.nextSibling;$node$$=$node$$.parentNode}}function $getNodesInRange$$($commonAncestor_range$$){var $start$$=$commonAncestor_range$$.startContainer,
$end$$=$commonAncestor_range$$.endContainer;$commonAncestor_range$$=$commonAncestor_range$$.commonAncestorContainer;var $nodes$$=[],$node$$;for($node$$=$start$$.parentNode;$node$$&&($nodes$$.push($node$$),$node$$!=$commonAncestor_range$$);$node$$=$node$$.parentNode);$nodes$$.reverse();for($node$$=$start$$;$node$$&&($nodes$$.push($node$$),$node$$!=$end$$);$node$$=$getNextNode$$($node$$));return $nodes$$}var $nodes$jscomp$0$$=[this.getSelectedElement()];if(window.getSelection){var $result$jscomp$49_sel$$=
window.getSelection();$result$jscomp$49_sel$$.getRangeAt&&$result$jscomp$49_sel$$.rangeCount&&($nodes$jscomp$0$$=$getNodesInRange$$($result$jscomp$49_sel$$.getRangeAt(0)))}$result$jscomp$49_sel$$=[];for(var $i$$=0;$i$$<$nodes$jscomp$0$$.length;$i$$++)for(var $node$jscomp$0$$=$nodes$jscomp$0$$[$i$$];null!=this.cellEditor.textarea&&this.cellEditor.textarea.contains($node$jscomp$0$$)&&$node$jscomp$0$$!=this.cellEditor.textarea&&null!=$node$jscomp$0$$.parentNode;)if($node$jscomp$0$$.nodeType==mxConstants.NODETYPE_ELEMENT&&
"block"==mxUtils.getCurrentStyle($node$jscomp$0$$).display){0>mxUtils.indexOf($result$jscomp$49_sel$$,$node$jscomp$0$$)&&$result$jscomp$49_sel$$.push($node$jscomp$0$$);break}else $node$jscomp$0$$=$node$jscomp$0$$.parentNode;return $result$jscomp$49_sel$$};Graph.prototype.getSelectedElement=function(){var $node$$=null;if(window.getSelection){var $sel$$=window.getSelection();$sel$$.getRangeAt&&$sel$$.rangeCount&&($node$$=$sel$$.getRangeAt(0).commonAncestorContainer)}else document.selection&&($node$$=
document.selection.createRange().parentElement());return $node$$};Graph.prototype.getSelectedEditingElement=function(){for(var $node$$=this.getSelectedElement();null!=$node$$&&$node$$.nodeType!=mxConstants.NODETYPE_ELEMENT;)$node$$=$node$$.parentNode;null!=$node$$&&$node$$==this.cellEditor.textarea&&1==this.cellEditor.textarea.children.length&&this.cellEditor.textarea.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT&&($node$$=this.cellEditor.textarea.firstChild);return $node$$};Graph.prototype.getParentByName=
function($node$$,$name$$,$stopAt$$){for(;null!=$node$$&&$node$$.nodeName!=$name$$;){if($node$$==$stopAt$$)return null;$node$$=$node$$.parentNode}return $node$$};Graph.prototype.getParentByNames=function($node$$,$names$$,$stopAt$$){for(;null!=$node$$&&!(0<=mxUtils.indexOf($names$$,$node$$.nodeName));){if($node$$==$stopAt$$)return null;$node$$=$node$$.parentNode}return $node$$};Graph.prototype.selectNode=function($node$$){var $sel$$=null;if(window.getSelection){if($sel$$=window.getSelection(),$sel$$.getRangeAt&&
$sel$$.rangeCount){var $range$$=document.createRange();$range$$.selectNode($node$$);$sel$$.removeAllRanges();$sel$$.addRange($range$$)}}else($sel$$=document.selection)&&"Control"!=$sel$$.type&&($node$$=$sel$$.createRange(),$node$$.collapse(!0),$range$$=$sel$$.createRange(),$range$$.setEndPoint("StartToStart",$node$$),$range$$.select())};Graph.prototype.flipEdgePoints=function($cell$$,$horizontal$$,$c$$){var $geo$$=this.getCellGeometry($cell$$);if(null!=$geo$$){$geo$$=$geo$$.clone();if(null!=$geo$$.points)for(var $flipTerminalPoint_i$$=
0;$flipTerminalPoint_i$$<$geo$$.points.length;$flipTerminalPoint_i$$++)$horizontal$$?$geo$$.points[$flipTerminalPoint_i$$].x=$c$$+($c$$-$geo$$.points[$flipTerminalPoint_i$$].x):$geo$$.points[$flipTerminalPoint_i$$].y=$c$$+($c$$-$geo$$.points[$flipTerminalPoint_i$$].y);$flipTerminalPoint_i$$=function($pt$$){null!=$pt$$&&($horizontal$$?$pt$$.x=$c$$+($c$$-$pt$$.x):$pt$$.y=$c$$+($c$$-$pt$$.y))};$flipTerminalPoint_i$$($geo$$.getTerminalPoint(!0));$flipTerminalPoint_i$$($geo$$.getTerminalPoint(!1));this.model.setGeometry($cell$$,
$geo$$)}};Graph.prototype.flipChildren=function($cell$$,$horizontal$$,$c$$){this.model.beginUpdate();try{for(var $childCount$$=this.model.getChildCount($cell$$),$i$$=0;$i$$<$childCount$$;$i$$++){var $child$$=this.model.getChildAt($cell$$,$i$$);if(this.model.isEdge($child$$))this.flipEdgePoints($child$$,$horizontal$$,$c$$);else{var $geo$$=this.getCellGeometry($child$$);null!=$geo$$&&($geo$$=$geo$$.clone(),$horizontal$$?$geo$$.x=$c$$+($c$$-$geo$$.x-$geo$$.width):$geo$$.y=$c$$+($c$$-$geo$$.y-$geo$$.height),
this.model.setGeometry($child$$,$geo$$))}}}finally{this.model.endUpdate()}};Graph.prototype.flipCells=function($cells$$,$horizontal$$){this.model.beginUpdate();try{$cells$$=this.model.getTopmostCells($cells$$);for(var $vertices$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++)if(this.model.isEdge($cells$$[$i$$])){var $state$$=this.view.getState($cells$$[$i$$]);null!=$state$$&&this.flipEdgePoints($cells$$[$i$$],$horizontal$$,($horizontal$$?$state$$.getCenterX():$state$$.getCenterY())/this.view.scale-($horizontal$$?
$state$$.origin.x:$state$$.origin.y)-($horizontal$$?this.view.translate.x:this.view.translate.y))}else{var $geo$$=this.getCellGeometry($cells$$[$i$$]);null!=$geo$$&&this.flipChildren($cells$$[$i$$],$horizontal$$,$horizontal$$?$geo$$.getCenterX()-$geo$$.x:$geo$$.getCenterY()-$geo$$.y);$vertices$$.push($cells$$[$i$$])}this.toggleCellStyles($horizontal$$?mxConstants.STYLE_FLIPH:mxConstants.STYLE_FLIPV,!1,$vertices$$)}finally{this.model.endUpdate()}};Graph.prototype.deleteCells=function($cells$$,$includeEdges$$){var $select$$=
null;if(null!=$cells$$&&0<$cells$$.length){this.model.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $parent$$=this.model.getParent($cells$$[$i$$]);if(this.isTable($parent$$)){var $row$$=this.getCellGeometry($cells$$[$i$$]),$table$$=this.getCellGeometry($parent$$);null!=$row$$&&null!=$table$$&&($table$$=$table$$.clone(),$table$$.height-=$row$$.height,this.model.setGeometry($parent$$,$table$$))}}var $parents$$=this.selectParentAfterDelete?this.model.getParents($cells$$):null;this.removeCells($cells$$,
$includeEdges$$)}finally{this.model.endUpdate()}if(null!=$parents$$)for($select$$=[],$i$$=0;$i$$<$parents$$.length;$i$$++)this.model.contains($parents$$[$i$$])&&(this.model.isVertex($parents$$[$i$$])||this.model.isEdge($parents$$[$i$$]))&&$select$$.push($parents$$[$i$$])}return $select$$};Graph.prototype.insertTableColumn=function($cell$jscomp$111_i$$,$before$$){var $model$$=this.getModel();$model$$.beginUpdate();try{var $table$$=$cell$jscomp$111_i$$,$index$$=0;if(this.isTableCell($cell$jscomp$111_i$$)){var $row$$=
$model$$.getParent($cell$jscomp$111_i$$);$table$$=$model$$.getParent($row$$);$index$$=mxUtils.indexOf($model$$.getChildCells($row$$,!0),$cell$jscomp$111_i$$)}else this.isTableRow($cell$jscomp$111_i$$)?$table$$=$model$$.getParent($cell$jscomp$111_i$$):$cell$jscomp$111_i$$=$model$$.getChildCells($table$$,!0)[0],$before$$||($index$$=$model$$.getChildCells($cell$jscomp$111_i$$,!0).length-1);var $rows$$=$model$$.getChildCells($table$$,!0),$dw$$=Graph.minTableColumnWidth;for($cell$jscomp$111_i$$=0;$cell$jscomp$111_i$$<
$rows$$.length;$cell$jscomp$111_i$$++){var $child$$=$model$$.getChildCells($rows$$[$cell$jscomp$111_i$$],!0)[$index$$],$clone$$=$model$$.cloneCell($child$$,!1);null==$clone$$&&($clone$$=this.createVertex());var $geo$$=this.getCellGeometry($clone$$);$clone$$.value=null;$clone$$.style=mxUtils.setStyle(mxUtils.setStyle($clone$$.style,"rowspan",null),"colspan",null);if(null!=$geo$$){null!=$geo$$.alternateBounds&&($geo$$.width=$geo$$.alternateBounds.width,$geo$$.height=$geo$$.alternateBounds.height,$geo$$.alternateBounds=
null);$dw$$=$geo$$.width;var $rowGeo$$=this.getCellGeometry($rows$$[$cell$jscomp$111_i$$]);null!=$rowGeo$$&&($geo$$.height=$rowGeo$$.height)}$model$$.add($rows$$[$cell$jscomp$111_i$$],$clone$$,$index$$+($before$$?0:1))}var $tableGeo$$=this.getCellGeometry($table$$);null!=$tableGeo$$&&($tableGeo$$=$tableGeo$$.clone(),$tableGeo$$.width+=$dw$$,$model$$.setGeometry($table$$,$tableGeo$$))}finally{$model$$.endUpdate()}};Graph.prototype.deleteLane=function($cell$$){var $model$$=this.getModel();$model$$.beginUpdate();
try{var $pool$$=null;$pool$$="stackLayout"==this.getCurrentCellStyle($cell$$).childLayout?$cell$$:$model$$.getParent($cell$$);var $lanes$$=$model$$.getChildCells($pool$$,!0);0==$lanes$$.length?$model$$.remove($pool$$):($pool$$==$cell$$&&($cell$$=$lanes$$[$lanes$$.length-1]),$model$$.remove($cell$$))}finally{$model$$.endUpdate()}};Graph.prototype.insertLane=function($cell$jscomp$113_lane$$,$before$$){var $model$$=this.getModel();$model$$.beginUpdate();try{var $pool$$=null;if("stackLayout"==this.getCurrentCellStyle($cell$jscomp$113_lane$$).childLayout){$pool$$=
$cell$jscomp$113_lane$$;var $lanes$$=$model$$.getChildCells($pool$$,!0);$cell$jscomp$113_lane$$=$lanes$$[$before$$?0:$lanes$$.length-1]}else $pool$$=$model$$.getParent($cell$jscomp$113_lane$$);var $index$$=$pool$$.getIndex($cell$jscomp$113_lane$$);$cell$jscomp$113_lane$$=$model$$.cloneCell($cell$jscomp$113_lane$$,!1);$cell$jscomp$113_lane$$.value=null;$model$$.add($pool$$,$cell$jscomp$113_lane$$,$index$$+($before$$?0:1))}finally{$model$$.endUpdate()}};Graph.prototype.insertTableRow=function($cell$$,
$before$$){var $model$$=this.getModel();$model$$.beginUpdate();try{var $table$$=$cell$$,$row$$=$cell$$;if(this.isTableCell($cell$$))$row$$=$model$$.getParent($cell$$),$table$$=$model$$.getParent($row$$);else if(this.isTableRow($cell$$))$table$$=$model$$.getParent($cell$$);else{var $i$jscomp$119_rows$$=$model$$.getChildCells($table$$,!0);$row$$=$i$jscomp$119_rows$$[$before$$?0:$i$jscomp$119_rows$$.length-1]}var $cells$$=$model$$.getChildCells($row$$,!0),$index$$=$table$$.getIndex($row$$);$row$$=$model$$.cloneCell($row$$,
!1);$row$$.value=null;var $rowGeo$$=this.getCellGeometry($row$$);if(null!=$rowGeo$$){for($i$jscomp$119_rows$$=0;$i$jscomp$119_rows$$<$cells$$.length;$i$jscomp$119_rows$$++){$cell$$=$model$$.cloneCell($cells$$[$i$jscomp$119_rows$$],!1);$cell$$.value=null;$cell$$.style=mxUtils.setStyle(mxUtils.setStyle($cell$$.style,"rowspan",null),"colspan",null);var $geo$$=this.getCellGeometry($cell$$);null!=$geo$$&&(null!=$geo$$.alternateBounds&&($geo$$.width=$geo$$.alternateBounds.width,$geo$$.height=$geo$$.alternateBounds.height,
$geo$$.alternateBounds=null),$geo$$.height=$rowGeo$$.height);$row$$.insert($cell$$)}$model$$.add($table$$,$row$$,$index$$+($before$$?0:1));var $tableGeo$$=this.getCellGeometry($table$$);null!=$tableGeo$$&&($tableGeo$$=$tableGeo$$.clone(),$tableGeo$$.height+=$rowGeo$$.height,$model$$.setGeometry($table$$,$tableGeo$$))}}finally{$model$$.endUpdate()}};Graph.prototype.deleteTableColumn=function($cell$jscomp$115_width$$){var $model$$=this.getModel();$model$$.beginUpdate();try{var $table$$=$cell$jscomp$115_width$$,
$i$jscomp$120_row$$=$cell$jscomp$115_width$$;this.isTableCell($cell$jscomp$115_width$$)&&($i$jscomp$120_row$$=$model$$.getParent($cell$jscomp$115_width$$));this.isTableRow($i$jscomp$120_row$$)&&($table$$=$model$$.getParent($i$jscomp$120_row$$));var $rows$$=$model$$.getChildCells($table$$,!0);if(0==$rows$$.length)$model$$.remove($table$$);else{this.isTableRow($i$jscomp$120_row$$)||($i$jscomp$120_row$$=$rows$$[0]);var $cells$$=$model$$.getChildCells($i$jscomp$120_row$$,!0);if(1>=$cells$$.length)$model$$.remove($table$$);
else{var $index$$=$cells$$.length-1;this.isTableCell($cell$jscomp$115_width$$)&&($index$$=mxUtils.indexOf($cells$$,$cell$jscomp$115_width$$));for($i$jscomp$120_row$$=$cell$jscomp$115_width$$=0;$i$jscomp$120_row$$<$rows$$.length;$i$jscomp$120_row$$++){var $child$$=$model$$.getChildCells($rows$$[$i$jscomp$120_row$$],!0)[$index$$];$model$$.remove($child$$);var $geo$$=this.getCellGeometry($child$$);null!=$geo$$&&($cell$jscomp$115_width$$=Math.max($cell$jscomp$115_width$$,$geo$$.width))}var $tableGeo$$=
this.getCellGeometry($table$$);null!=$tableGeo$$&&($tableGeo$$=$tableGeo$$.clone(),$tableGeo$$.width-=$cell$jscomp$115_width$$,$model$$.setGeometry($table$$,$tableGeo$$))}}}finally{$model$$.endUpdate()}};Graph.prototype.deleteTableRow=function($cell$jscomp$116_height$$){var $model$$=this.getModel();$model$$.beginUpdate();try{var $table$$=$cell$jscomp$116_height$$,$row$$=$cell$jscomp$116_height$$;this.isTableCell($cell$jscomp$116_height$$)&&($cell$jscomp$116_height$$=$row$$=$model$$.getParent($cell$jscomp$116_height$$));
this.isTableRow($cell$jscomp$116_height$$)&&($table$$=$model$$.getParent($row$$));var $rows$$=$model$$.getChildCells($table$$,!0);if(1>=$rows$$.length)$model$$.remove($table$$);else{this.isTableRow($row$$)||($row$$=$rows$$[$rows$$.length-1]);$model$$.remove($row$$);$cell$jscomp$116_height$$=0;var $geo$$=this.getCellGeometry($row$$);null!=$geo$$&&($cell$jscomp$116_height$$=$geo$$.height);var $tableGeo$$=this.getCellGeometry($table$$);null!=$tableGeo$$&&($tableGeo$$=$tableGeo$$.clone(),$tableGeo$$.height-=
$cell$jscomp$116_height$$,$model$$.setGeometry($table$$,$tableGeo$$))}}finally{$model$$.endUpdate()}};Graph.prototype.insertRow=function($cols$jscomp$3_table$$,$index$jscomp$118_row$$){for(var $bd$$=$cols$jscomp$3_table$$.tBodies[0],$cells$$=$bd$$.rows[0].cells,$i$$=$cols$jscomp$3_table$$=0;$i$$<$cells$$.length;$i$$++){var $colspan$$=$cells$$[$i$$].getAttribute("colspan");$cols$jscomp$3_table$$+=null!=$colspan$$?parseInt($colspan$$):1}$index$jscomp$118_row$$=$bd$$.insertRow($index$jscomp$118_row$$);
for($i$$=0;$i$$<$cols$jscomp$3_table$$;$i$$++)mxUtils.br($index$jscomp$118_row$$.insertCell(-1));return $index$jscomp$118_row$$.cells[0]};Graph.prototype.deleteRow=function($table$$,$index$$){$table$$.tBodies[0].deleteRow($index$$)};Graph.prototype.insertColumn=function($bd$jscomp$1_table$$,$index$$){var $hd$jscomp$1_i$$=$bd$jscomp$1_table$$.tHead;if(null!=$hd$jscomp$1_i$$)for(var $cell$jscomp$117_h$$=0;$cell$jscomp$117_h$$<$hd$jscomp$1_i$$.rows.length;$cell$jscomp$117_h$$++){var $th$$=document.createElement("th");
$hd$jscomp$1_i$$.rows[$cell$jscomp$117_h$$].appendChild($th$$);mxUtils.br($th$$)}$bd$jscomp$1_table$$=$bd$jscomp$1_table$$.tBodies[0];for($hd$jscomp$1_i$$=0;$hd$jscomp$1_i$$<$bd$jscomp$1_table$$.rows.length;$hd$jscomp$1_i$$++)$cell$jscomp$117_h$$=$bd$jscomp$1_table$$.rows[$hd$jscomp$1_i$$].insertCell($index$$),mxUtils.br($cell$jscomp$117_h$$);return $bd$jscomp$1_table$$.rows[0].cells[0<=$index$$?$index$$:$bd$jscomp$1_table$$.rows[0].cells.length-1]};Graph.prototype.deleteColumn=function($rows$jscomp$14_table$$,
$index$$){if(0<=$index$$){$rows$jscomp$14_table$$=$rows$jscomp$14_table$$.tBodies[0].rows;for(var $i$$=0;$i$$<$rows$jscomp$14_table$$.length;$i$$++)$rows$jscomp$14_table$$[$i$$].cells.length>$index$$&&$rows$jscomp$14_table$$[$i$$].deleteCell($index$$)}};Graph.prototype.pasteHtmlAtCaret=function($frag_html$$){if(window.getSelection){var $range$jscomp$9_sel$$=window.getSelection();if($range$jscomp$9_sel$$.getRangeAt&&$range$jscomp$9_sel$$.rangeCount){$range$jscomp$9_sel$$=$range$jscomp$9_sel$$.getRangeAt(0);
$range$jscomp$9_sel$$.deleteContents();var $el$$=document.createElement("div");$el$$.innerHTML=$frag_html$$;$frag_html$$=document.createDocumentFragment();for(var $node$$;$node$$=$el$$.firstChild;)lastNode=$frag_html$$.appendChild($node$$);$range$jscomp$9_sel$$.insertNode($frag_html$$)}}else($range$jscomp$9_sel$$=document.selection)&&"Control"!=$range$jscomp$9_sel$$.type&&$range$jscomp$9_sel$$.createRange().pasteHTML($frag_html$$)};Graph.prototype.createLinkForHint=function($link$$,$label$$,$associatedCell$$){function $short$$($str$$,
$max$$){$str$$.length>$max$$&&($str$$=$str$$.substring(0,Math.round($max$$/2))+"..."+$str$$.substring($str$$.length-Math.round($max$$/4)));return $str$$}$link$$=null!=$link$$?$link$$:"javascript:void(0);";if(null==$label$$||0==$label$$.length)$label$$=this.isCustomLink($link$$)?this.getLinkTitle($link$$):$link$$;var $a$$=document.createElement("a");$a$$.setAttribute("rel",this.linkRelation);$a$$.setAttribute("href",this.getAbsoluteUrl($link$$));$a$$.setAttribute("title",$short$$(this.isCustomLink($link$$)?
this.getLinkTitle($link$$):$link$$,80));null!=this.linkTarget&&$a$$.setAttribute("target",this.linkTarget);mxUtils.write($a$$,$short$$($label$$,40));this.isCustomLink($link$$)&&mxEvent.addListener($a$$,"click",mxUtils.bind(this,function($evt$$){this.customLinkClicked($link$$,$associatedCell$$);mxEvent.consume($evt$$)}));return $a$$};Graph.prototype.initTouch=function(){this.connectionHandler.marker.isEnabled=function(){return null!=this.graph.connectionHandler.first};this.addListener(mxEvent.START_EDITING,
function($sender$$,$evt$$){this.popupMenuHandler.hideMenu()});var $graphUpdateMouseEvent$$=this.updateMouseEvent;this.updateMouseEvent=function($me$$){$me$$=$graphUpdateMouseEvent$$.apply(this,arguments);if(mxEvent.isTouchEvent($me$$.getEvent())&&null==$me$$.getState()){var $cell$$=this.getCellAt($me$$.graphX,$me$$.graphY);null!=$cell$$&&this.isSwimlane($cell$$)&&this.hitsSwimlaneContent($cell$$,$me$$.graphX,$me$$.graphY)||($me$$.state=this.view.getState($cell$$),null!=$me$$.state&&null!=$me$$.state.shape&&
(this.container.style.cursor=$me$$.state.shape.node.style.cursor))}null==$me$$.getState()&&this.isEnabled()&&(this.container.style.cursor="default");return $me$$};var $cellSelected$$=!1,$selectionEmpty$$=!1,$menuShowing$$=!1,$oldFireMouseEvent$$=this.fireMouseEvent;this.fireMouseEvent=function($evtName$$,$me$$,$sender$$){$evtName$$==mxEvent.MOUSE_DOWN&&($me$$=this.updateMouseEvent($me$$),$cellSelected$$=this.isCellSelected($me$$.getCell()),$selectionEmpty$$=this.isSelectionEmpty(),$menuShowing$$=
this.popupMenuHandler.isMenuShowing());$oldFireMouseEvent$$.apply(this,arguments)};this.popupMenuHandler.mouseUp=mxUtils.bind(this,function($sender$$,$me$$){var $isMouseEvent_popup$$=mxEvent.isMouseEvent($me$$.getEvent());this.popupMenuHandler.popupTrigger=!this.isEditing()&&this.isEnabled()&&(null==$me$$.getState()||!$me$$.isSource($me$$.getState().control))&&(this.popupMenuHandler.popupTrigger||!$menuShowing$$&&!$isMouseEvent_popup$$&&($selectionEmpty$$&&null==$me$$.getCell()&&this.isSelectionEmpty()||
$cellSelected$$&&this.isCellSelected($me$$.getCell())));$isMouseEvent_popup$$=!$cellSelected$$||$isMouseEvent_popup$$?null:mxUtils.bind(this,function($cell$$){window.setTimeout(mxUtils.bind(this,function(){if(!this.isEditing()){var $origin$$=mxUtils.getScrollOrigin();this.popupMenuHandler.popup($me$$.getX()+$origin$$.x+1,$me$$.getY()+$origin$$.y+1,$cell$$,$me$$.getEvent())}}),300)});mxPopupMenuHandler.prototype.mouseUp.apply(this.popupMenuHandler,[$sender$$,$me$$,$isMouseEvent_popup$$])})};mxCellEditor.prototype.isContentEditing=
function(){var $state$$=this.graph.view.getState(this.editingCell);return null!=$state$$&&1==$state$$.style.html};mxCellEditor.prototype.isTableSelected=function(){return null!=this.graph.getParentByName(this.graph.getSelectedElement(),"TABLE",this.textarea)};mxCellEditor.prototype.isTextSelected=function(){var $txt$$="";window.getSelection?$txt$$=window.getSelection():document.getSelection?$txt$$=document.getSelection():document.selection&&($txt$$=document.selection.createRange().text);return""!=
$txt$$};mxCellEditor.prototype.insertTab=function($spaces$jscomp$1_tabNode$$){var $sel$$=this.textarea.ownerDocument.defaultView.getSelection(),$range$$=$sel$$.getRangeAt(0);$spaces$jscomp$1_tabNode$$=Graph.createTabNode($spaces$jscomp$1_tabNode$$);$range$$.insertNode($spaces$jscomp$1_tabNode$$);$range$$.setStartAfter($spaces$jscomp$1_tabNode$$);$range$$.setEndAfter($spaces$jscomp$1_tabNode$$);$sel$$.removeAllRanges();$sel$$.addRange($range$$)};mxCellEditor.prototype.alignText=function($align$$,$evt$$){var $dir$jscomp$10_state$$=
this.graph.getView().getState(this.editingCell);if(null!=$dir$jscomp$10_state$$){$dir$jscomp$10_state$$=mxUtils.getValue($dir$jscomp$10_state$$.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION);var $vertical$$=null!=$dir$jscomp$10_state$$&&"vertical-"==$dir$jscomp$10_state$$.substring(0,9),$shiftPressed$$=null!=$evt$$&&mxEvent.isShiftDown($evt$$);if($shiftPressed$$||null!=window.getSelection&&null!=window.getSelection().containsNode){var $allSelected$$=!0;this.graph.processElements(this.textarea,
function($node$$){$shiftPressed$$||$vertical$$||window.getSelection().containsNode($node$$,!0)?($node$$.removeAttribute("align"),$node$$.style.textAlign=null):$allSelected$$=!1});($allSelected$$||$vertical$$)&&this.graph.cellEditor.setAlign($align$$)}$vertical$$||document.execCommand("justify"+$align$$.toLowerCase(),!1,null)}};mxCellEditor.prototype.saveSelection=function(){if(window.getSelection){var $sel$$=window.getSelection();if($sel$$.getRangeAt&&$sel$$.rangeCount){for(var $ranges$$=[],$i$$=
0,$len$$=$sel$$.rangeCount;$i$$<$len$$;++$i$$)$ranges$$.push($sel$$.getRangeAt($i$$));return $ranges$$}}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null};mxCellEditor.prototype.restoreSelection=function($savedSel$$){try{if($savedSel$$)if(window.getSelection){sel=window.getSelection();sel.removeAllRanges();for(var $i$$=0,$len$$=$savedSel$$.length;$i$$<$len$$;++$i$$)sel.addRange($savedSel$$[$i$$])}else document.selection&&$savedSel$$.select&&
$savedSel$$.select()}catch($e$$){}};var $mxCellRendererInitializeLabel$$=mxCellRenderer.prototype.initializeLabel;mxCellRenderer.prototype.initializeLabel=function($state$$){null!=$state$$.text&&($state$$.text.replaceLinefeeds="0"!=mxUtils.getValue($state$$.style,"nl2Br","1"));$mxCellRendererInitializeLabel$$.apply(this,arguments)};var $mxConstraintHandlerUpdate$$=mxConstraintHandler.prototype.update;mxConstraintHandler.prototype.update=function($me$$,$source$$){this.isKeepFocusEvent($me$$)||!mxEvent.isAltDown($me$$.getEvent())?
$mxConstraintHandlerUpdate$$.apply(this,arguments):this.reset()};mxGuide.prototype.createGuideShape=function($horizontal$$){return new mxPolyline([],mxConstants.GUIDE_COLOR,mxConstants.GUIDE_STROKEWIDTH)};mxCellEditor.prototype.escapeCancelsEditing=!1;var $mxCellEditorStartEditing$$=mxCellEditor.prototype.startEditing;mxCellEditor.prototype.startEditing=function($cell$$,$trigger$$){$cell$$=this.graph.getStartEditingCell($cell$$,$trigger$$);$mxCellEditorStartEditing$$.apply(this,arguments);var $state$$=
this.graph.view.getState($cell$$);this.textarea.className=null!=$state$$&&1==$state$$.style.html?"mxCellEditor geContentEditable":"mxCellEditor mxPlainTextEditor";this.codeViewMode=!1;this.switchSelectionState=null;this.graph.setSelectionCell($cell$$)};mxCellEditor.prototype.toggleViewMode=function(){var $state$$=this.graph.view.getState(this.editingCell);if(null!=$state$$){var $family_nl2Br$$=null!=$state$$&&"0"!=mxUtils.getValue($state$$.style,"nl2Br","1"),$tmp$$=this.saveSelection();if(this.codeViewMode){$content$$=
mxUtils.extractTextWithWhitespace(this.textarea.childNodes);0<$content$$.length&&"\n"==$content$$.charAt($content$$.length-1)&&($content$$=$content$$.substring(0,$content$$.length-1));$content$$=Graph.sanitizeHtml($family_nl2Br$$?$content$$.replace(/\n/g,"<br/>"):$content$$,!0);this.textarea.className="mxCellEditor geContentEditable";$size$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE);$family_nl2Br$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_FONTFAMILY,
mxConstants.DEFAULT_FONTFAMILY);var $align$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_LEFT),$bold$$=(mxUtils.getValue($state$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD,$italic$$=(mxUtils.getValue($state$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC,$txtDecor$$=[];(mxUtils.getValue($state$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&
$txtDecor$$.push("underline");(mxUtils.getValue($state$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_STRIKETHROUGH)==mxConstants.FONT_STRIKETHROUGH&&$txtDecor$$.push("line-through");this.textarea.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?Math.round($size$$*mxConstants.LINE_HEIGHT)+"px":mxConstants.LINE_HEIGHT;this.textarea.style.fontSize=Math.round($size$$)+"px";this.textarea.style.textDecoration=$txtDecor$$.join(" ");this.textarea.style.fontWeight=$bold$$?"bold":"normal";this.textarea.style.fontStyle=
$italic$$?"italic":"";this.textarea.style.fontFamily=$family_nl2Br$$;this.textarea.style.textAlign=$align$$;this.textarea.style.padding="0px";this.textarea.innerHTML!=$content$$&&(this.textarea.innerHTML=$content$$,0==this.textarea.innerHTML.length&&(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=0<this.textarea.innerHTML.length));this.codeViewMode=!1}else{this.clearOnChange&&this.textarea.innerHTML==this.getEmptyLabelText()&&(this.clearOnChange=!1,this.textarea.innerText="");
var $content$$=mxUtils.htmlEntities(this.textarea.innerHTML);8!=document.documentMode&&($content$$=mxUtils.replaceTrailingNewlines($content$$,"<div><br></div>"));$content$$=Graph.sanitizeHtml($family_nl2Br$$?$content$$.replace(/\n/g,"").replace(/&lt;br\s*.?&gt;/g,"<br>"):$content$$,!0);this.textarea.className="mxCellEditor mxPlainTextEditor";var $size$$=mxConstants.DEFAULT_FONTSIZE;this.textarea.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?Math.round($size$$*mxConstants.LINE_HEIGHT)+"px":mxConstants.LINE_HEIGHT;
this.textarea.style.fontSize=Math.round($size$$)+"px";this.textarea.style.textDecoration="";this.textarea.style.fontWeight="normal";this.textarea.style.fontStyle="";this.textarea.style.fontFamily=mxConstants.DEFAULT_FONTFAMILY;this.textarea.style.textAlign="left";this.textarea.style.width="";this.textarea.style.padding="2px";this.textarea.innerHTML!=$content$$&&(this.textarea.innerHTML=$content$$);this.codeViewMode=!0}this.textarea.focus();null!=this.switchSelectionState&&this.restoreSelection(this.switchSelectionState);
this.switchSelectionState=$tmp$$;this.resize()}};var $mxCellEditorResize$$=mxCellEditor.prototype.resize;mxCellEditor.prototype.resize=function($state$$,$trigger$$){if(null!=this.textarea)if($state$$=this.graph.getView().getState(this.editingCell),this.codeViewMode&&null!=$state$$){var $scale$$=$state$$.view.scale;this.bounds=mxRectangle.fromRectangle($state$$);if(0==this.bounds.width&&0==this.bounds.height){this.bounds.width=160*$scale$$;this.bounds.height=60*$scale$$;var $m$$=null!=$state$$.text?
$state$$.text.margin:null;null==$m$$&&($m$$=mxUtils.getAlignmentAsPoint(mxUtils.getValue($state$$.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER),mxUtils.getValue($state$$.style,mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE)));this.bounds.x+=$m$$.x*this.bounds.width;this.bounds.y+=$m$$.y*this.bounds.height}this.textarea.style.width=Math.round((this.bounds.width-4)/$scale$$)+"px";this.textarea.style.height=Math.round((this.bounds.height-4)/$scale$$)+"px";this.textarea.style.overflow=
"auto";this.textarea.clientHeight<this.textarea.offsetHeight&&(this.textarea.style.height=Math.round(this.bounds.height/$scale$$)+(this.textarea.offsetHeight-this.textarea.clientHeight)+"px",this.bounds.height=parseInt(this.textarea.style.height)*$scale$$);this.textarea.clientWidth<this.textarea.offsetWidth&&(this.textarea.style.width=Math.round(this.bounds.width/$scale$$)+(this.textarea.offsetWidth-this.textarea.clientWidth)+"px",this.bounds.width=parseInt(this.textarea.style.width)*$scale$$);this.textarea.style.left=
Math.round(this.bounds.x)+"px";this.textarea.style.top=Math.round(this.bounds.y)+"px";mxUtils.setPrefixedStyle(this.textarea.style,"transform","scale("+$scale$$+","+$scale$$+")")}else this.textarea.style.height="",this.textarea.style.overflow="",$mxCellEditorResize$$.apply(this,arguments)};mxCellEditorGetInitialValue=mxCellEditor.prototype.getInitialValue;mxCellEditor.prototype.getInitialValue=function($state$$,$trigger$$){if("0"==mxUtils.getValue($state$$.style,"html","0"))return mxCellEditorGetInitialValue.apply(this,
arguments);var $result$$=this.graph.getEditingValue($state$$.cell,$trigger$$);"1"==mxUtils.getValue($state$$.style,"nl2Br","1")&&($result$$=$result$$.replace(/\n/g,"<br/>"));return $result$$=Graph.sanitizeHtml($result$$,!0)};mxCellEditorGetCurrentValue=mxCellEditor.prototype.getCurrentValue;mxCellEditor.prototype.getCurrentValue=function($state$$){if("0"==mxUtils.getValue($state$$.style,"html","0"))return mxCellEditorGetCurrentValue.apply(this,arguments);var $result$$=Graph.sanitizeHtml(this.textarea.innerHTML,
!0);"1"==mxUtils.getValue($state$$.style,"nl2Br","1")?($result$$=$result$$.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>"),0<$result$$.length&&("<br/>"==$result$$.substring($result$$.length-5)||"<br>"==$result$$.substring($result$$.length-4))&&($result$$=$result$$.substring(0,$result$$.lastIndexOf("<br"))+"<div><br/></div>")):$result$$=$result$$.replace(/\r\n/g,"").replace(/\n/g,"");return $result$$};var $mxCellEditorStopEditing$$=mxCellEditor.prototype.stopEditing;mxCellEditor.prototype.stopEditing=
function($cancel$$){this.codeViewMode&&this.toggleViewMode();$mxCellEditorStopEditing$$.apply(this,arguments);this.focusContainer()};mxCellEditor.prototype.focusContainer=function(){try{this.graph.container.focus()}catch($e$$){}};var $mxCellEditorApplyValue$$=mxCellEditor.prototype.applyValue;mxCellEditor.prototype.applyValue=function($state$$,$value$$){this.graph.getModel().beginUpdate();try{$mxCellEditorApplyValue$$.apply(this,arguments),""==$value$$&&this.graph.isCellDeletable($state$$.cell)&&
0==this.graph.model.getChildCount($state$$.cell)&&this.graph.isTransparentState($state$$)&&this.graph.removeCells([$state$$.cell],!1)}finally{this.graph.getModel().endUpdate()}};mxCellEditor.prototype.getBackgroundColor=function($color$jscomp$10_state$$){$color$jscomp$10_state$$=mxUtils.getValue($color$jscomp$10_state$$.style,mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,null);$color$jscomp$10_state$$==mxConstants.NONE&&($color$jscomp$10_state$$=null);return $color$jscomp$10_state$$};mxCellEditor.prototype.getBorderColor=
function($color$jscomp$11_state$$){$color$jscomp$11_state$$=mxUtils.getValue($color$jscomp$11_state$$.style,mxConstants.STYLE_LABEL_BORDERCOLOR,null);$color$jscomp$11_state$$==mxConstants.NONE&&($color$jscomp$11_state$$=null);return $color$jscomp$11_state$$};mxCellEditor.prototype.getMinimumSize=function($state$$){var $scale$$=this.graph.getView().scale;return new mxRectangle(0,0,null==$state$$.text?30:$state$$.text.size*$scale$$+20,30)};mxGraphHandlerIsValidDropTarget=mxGraphHandler.prototype.isValidDropTarget;
mxGraphHandler.prototype.isValidDropTarget=function($target$$,$me$$){return mxGraphHandlerIsValidDropTarget.apply(this,arguments)&&!mxEvent.isAltDown($me$$.getEvent)};mxGraphView.prototype.formatUnitText=function($pixels$$){return $pixels$$?$formatHintText$$($pixels$$,this.unit):$pixels$$};mxGraphHandler.prototype.updateHint=function($me$jscomp$45_x$$){if(null!=this.pBounds&&(null!=this.shape||this.livePreviewActive)){null==this.hint&&(this.hint=$createHint$$(),this.graph.container.appendChild(this.hint));
var $t$jscomp$12_y$$=this.graph.view.translate,$s$jscomp$27_unit$$=this.graph.view.scale;$me$jscomp$45_x$$=this.roundLength((this.bounds.x+this.currentDx)/$s$jscomp$27_unit$$-$t$jscomp$12_y$$.x);$t$jscomp$12_y$$=this.roundLength((this.bounds.y+this.currentDy)/$s$jscomp$27_unit$$-$t$jscomp$12_y$$.y);$s$jscomp$27_unit$$=this.graph.view.unit;this.hint.innerHTML=$formatHintText$$($me$jscomp$45_x$$,$s$jscomp$27_unit$$)+", "+$formatHintText$$($t$jscomp$12_y$$,$s$jscomp$27_unit$$);this.hint.style.left=this.pBounds.x+
this.currentDx+Math.round((this.pBounds.width-this.hint.clientWidth)/2)+"px";this.hint.style.top=this.pBounds.y+this.currentDy+this.pBounds.height+Editor.hintOffset+"px"}};mxGraphHandler.prototype.removeHint=function(){null!=this.hint&&(null!=this.hint.parentNode&&this.hint.parentNode.removeChild(this.hint),this.hint=null)};var $stackLayoutResizeCell$$=mxStackLayout.prototype.resizeCell;mxStackLayout.prototype.resizeCell=function($cell$$,$bounds$$){$stackLayoutResizeCell$$.apply(this,arguments);var $horizontal$jscomp$9_style$$=
this.graph.getCellStyle($cell$$);if(null==$horizontal$jscomp$9_style$$.childLayout){var $parent$$=this.graph.model.getParent($cell$$),$geo$$=null!=$parent$$?this.graph.getCellGeometry($parent$$):null;if(null!=$geo$$&&($horizontal$jscomp$9_style$$=this.graph.getCellStyle($parent$$),"stackLayout"==$horizontal$jscomp$9_style$$.childLayout)){var $border$$=parseFloat(mxUtils.getValue($horizontal$jscomp$9_style$$,"stackBorder",mxStackLayout.prototype.border));$horizontal$jscomp$9_style$$="1"==mxUtils.getValue($horizontal$jscomp$9_style$$,
"horizontalStack","1");var $start$$=this.graph.getActualStartSize($parent$$);$geo$$=$geo$$.clone();$horizontal$jscomp$9_style$$?$geo$$.height=$bounds$$.height+$start$$.y+$start$$.height+2*$border$$:$geo$$.width=$bounds$$.width+$start$$.x+$start$$.width+2*$border$$;this.graph.model.setGeometry($parent$$,$geo$$)}}};var $selectionCellsHandlerGetHandledSelectionCells$$=mxSelectionCellsHandler.prototype.getHandledSelectionCells;mxSelectionCellsHandler.prototype.getHandledSelectionCells=function(){function $addCell$$($cell$$){$dict$$.get($cell$$)||
($dict$$.put($cell$$,!0),$result$$.push($cell$$))}for(var $cells$$=$selectionCellsHandlerGetHandledSelectionCells$$.apply(this,arguments),$dict$$=new mxDictionary,$model$$=this.graph.model,$result$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$jscomp$0$$=$cells$$[$i$$];this.graph.isTableCell($cell$jscomp$0$$)?$addCell$$($model$$.getParent($model$$.getParent($cell$jscomp$0$$))):this.graph.isTableRow($cell$jscomp$0$$)&&$addCell$$($model$$.getParent($cell$jscomp$0$$));$addCell$$($cell$jscomp$0$$)}return $result$$};
var $connectionHandlerIsStartEvent$$=mxConnectionHandler.prototype.isStartEvent;mxConnectionHandler.prototype.isStartEvent=function($me$$){return $connectionHandlerIsStartEvent$$.apply(this,arguments)&&!mxEvent.isControlDown($me$$.getEvent())&&!mxEvent.isShiftDown($me$$.getEvent())};var $vertexHandlerIsGhostPreview$$=mxVertexHandler.prototype.isGhostPreview;mxVertexHandler.prototype.isGhostPreview=function(){return $vertexHandlerIsGhostPreview$$.apply(this,arguments)&&!this.graph.isTable(this.state.cell)&&
!this.graph.isTableRow(this.state.cell)&&!this.graph.isTableCell(this.state.cell)&&!this.graph.isSwimlane(this.state.cell)};var $vertexHandlerCreateParentHighlightShape$$=mxVertexHandler.prototype.createParentHighlightShape;mxVertexHandler.prototype.createParentHighlightShape=function($bounds$$){var $shape$$=$vertexHandlerCreateParentHighlightShape$$.apply(this,arguments);$shape$$.stroke="#C0C0C0";$shape$$.strokewidth=1;return $shape$$};var $edgeHandlerCreateParentHighlightShape$$=mxEdgeHandler.prototype.createParentHighlightShape;
mxEdgeHandler.prototype.createParentHighlightShape=function($bounds$$){var $shape$$=$edgeHandlerCreateParentHighlightShape$$.apply(this,arguments);$shape$$.stroke="#C0C0C0";$shape$$.strokewidth=1;return $shape$$};mxVertexHandler.prototype.rotationHandleVSpacing=-12;mxVertexHandler.prototype.getRotationHandlePosition=function(){var $padding$$=this.getHandlePadding();return new mxPoint(this.bounds.x+this.bounds.width-this.rotationHandleVSpacing+$padding$$.x/2,this.bounds.y+this.rotationHandleVSpacing-
$padding$$.y/2)};mxVertexHandler.prototype.isRecursiveResize=function($state$$,$me$$){return this.graph.isRecursiveVertexResize($state$$)&&!mxEvent.isAltDown($me$$.getEvent())};mxVertexHandler.prototype.isCenteredEvent=function($state$$,$me$$){return mxEvent.isControlDown($me$$.getEvent())||mxEvent.isMetaDown($me$$.getEvent())};var $vertexHandlerIsRotationHandleVisible$$=mxVertexHandler.prototype.isRotationHandleVisible;mxVertexHandler.prototype.isRotationHandleVisible=function(){return $vertexHandlerIsRotationHandleVisible$$.apply(this,
arguments)&&!this.graph.isTableCell(this.state.cell)&&!this.graph.isTableRow(this.state.cell)&&!this.graph.isTable(this.state.cell)};mxVertexHandler.prototype.getSizerBounds=function(){return this.graph.isTableCell(this.state.cell)?this.graph.view.getState(this.graph.model.getParent(this.graph.model.getParent(this.state.cell))):this.bounds};var $vertexHandlerIsParentHighlightVisible$$=mxVertexHandler.prototype.isParentHighlightVisible;mxVertexHandler.prototype.isParentHighlightVisible=function(){return $vertexHandlerIsParentHighlightVisible$$.apply(this,
arguments)&&!this.graph.isTableCell(this.state.cell)&&!this.graph.isTableRow(this.state.cell)};var $vertexHandlerIsCustomHandleVisible$$=mxVertexHandler.prototype.isCustomHandleVisible;mxVertexHandler.prototype.isCustomHandleVisible=function($handle$$){return $handle$$.tableHandle||$vertexHandlerIsCustomHandleVisible$$.apply(this,arguments)&&(!this.graph.isTable(this.state.cell)||this.graph.isCellSelected(this.state.cell))};mxVertexHandler.prototype.getSelectionBorderInset=function(){var $result$$=
0;this.graph.isTableRow(this.state.cell)?$result$$=1:this.graph.isTableCell(this.state.cell)&&($result$$=2);return $result$$};var $vertexHandlerGetSelectionBorderBounds$$=mxVertexHandler.prototype.getSelectionBorderBounds;mxVertexHandler.prototype.getSelectionBorderBounds=function(){return $vertexHandlerGetSelectionBorderBounds$$.apply(this,arguments).grow(-this.getSelectionBorderInset())};var $TableLineShape$$=null,$vertexHandlerCreateCustomHandles$$=mxVertexHandler.prototype.createCustomHandles;
mxVertexHandler.prototype.createCustomHandles=function(){null==$TableLineShape$$&&($TableLineShape$$=mxCellRenderer.defaultShapes.tableLine);var $handles$$=$vertexHandlerCreateCustomHandles$$.apply(this,arguments);if(this.graph.isTable(this.state.cell)&&this.graph.isCellMovable(this.state.cell)){var $moveLine$$=function($line$$,$dx$$,$dy$$){for(var $result$$=[],$i$$=0;$i$$<$line$$.length;$i$$++){var $pt$$=$line$$[$i$$];$result$$.push(null==$pt$$?null:new mxPoint(($x0$$+$pt$$.x+$dx$$)*$s$$,($y0$$+
$pt$$.y+$dy$$)*$s$$))}return $result$$},$self$$=this,$graph$$=this.graph,$i$jscomp$127_model$$=$graph$$.model,$s$$=$graph$$.view.scale,$tableState$$=this.state,$sel$$=this.selectionBorder,$x0$$=this.state.origin.x+$graph$$.view.translate.x,$y0$$=this.state.origin.y+$graph$$.view.translate.y;null==$handles$$&&($handles$$=[]);var $rows$$=$graph$$.view.getCellStates($i$jscomp$127_model$$.getChildCells(this.state.cell,!0));if(0<$rows$$.length){var $cols$$=$i$jscomp$127_model$$.getChildCells($rows$$[0].cell,
!0),$colLines$$=$graph$$.getTableLines(this.state.cell,!1,!0),$rowLines$$=$graph$$.getTableLines(this.state.cell,!0,!1);for($i$jscomp$127_model$$=0;$i$jscomp$127_model$$<$rows$$.length;$i$jscomp$127_model$$++)mxUtils.bind(this,function($index$$){var $rowState$$=$rows$$[$index$$],$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$=null;if($graph$$.isCellMovable($rowState$$.cell)){$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$=$index$$<$rows$$.length-1?$rows$$[$index$$+1]:null;$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$=
null!=$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$?$graph$$.getCellGeometry($handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.cell):null;var $ng$$=null!=$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$&&null!=$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.alternateBounds?$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.alternateBounds:$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$;$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$=null!=$rowLines$$[$index$$]?new $TableLineShape$$($rowLines$$[$index$$],
mxConstants.NONE,1):new mxLine(new mxRectangle,mxConstants.NONE,1,!1);$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.isDashed=$sel$$.isDashed;$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.svgStrokeTolerance++;$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$=new mxHandle($rowState$$,"row-resize",null,$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$);$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.tableHandle=!0;var $dy$$=0;$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.shape.node.parentNode.insertBefore($handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.shape.node,
$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.shape.node.parentNode.firstChild);$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.redraw=function(){if(null!=this.shape){this.shape.stroke=0==$dy$$?mxConstants.NONE:$sel$$.stroke;if(this.shape.constructor==$TableLineShape$$)this.shape.line=$moveLine$$($rowLines$$[$index$$],0,$dy$$),this.shape.updateBoundsFromLine();else{var $start$$=$graph$$.getActualStartSize($tableState$$.cell,!0);this.shape.bounds.height=1;this.shape.bounds.y=this.state.y+this.state.height+
$dy$$*$s$$;this.shape.bounds.x=$tableState$$.x+($index$$==$rows$$.length-1?0:$start$$.x*$s$$);this.shape.bounds.width=$tableState$$.width-($index$$==$rows$$.length-1?0:$start$$.width+$start$$.x+$s$$)}this.shape.redraw()}};var $shiftPressed$$=!1;$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.setPosition=function($bounds$$,$pt$$,$me$$){$dy$$=Math.max(Graph.minTableRowHeight-$bounds$$.height,$pt$$.y-$bounds$$.y-$bounds$$.height);$shiftPressed$$=mxEvent.isShiftDown($me$$.getEvent());null!=$ng$$&&$shiftPressed$$&&
($dy$$=Math.min($dy$$,$ng$$.height-Graph.minTableRowHeight))};$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.execute=function($me$$){if(0!=$dy$$)$graph$$.setTableRowHeight(this.state.cell,$dy$$,!$shiftPressed$$);else if(!$self$$.blockDelayedSelection){var $temp$$=$graph$$.getCellAt($me$$.getGraphX(),$me$$.getGraphY())||$tableState$$.cell;$graph$$.graphHandler.selectCellForEvent($temp$$,$me$$)}$dy$$=0};$handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$.reset=function(){$dy$$=0}}$handles$$.push($handle$jscomp$15_nextRow$jscomp$1_ngeo_shape$$)})($i$jscomp$127_model$$);
for($i$jscomp$127_model$$=0;$i$jscomp$127_model$$<$cols$$.length;$i$jscomp$127_model$$++)mxUtils.bind(this,function($index$$){var $colState_handle$$=$graph$$.view.getState($cols$$[$index$$]),$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$=$graph$$.getCellGeometry($cols$$[$index$$]),$g$$=null!=$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$.alternateBounds?$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$.alternateBounds:$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$;null==$colState_handle$$&&($colState_handle$$=
new mxCellState($graph$$.view,$cols$$[$index$$],$graph$$.getCellStyle($cols$$[$index$$])),$colState_handle$$.x=$tableState$$.x+$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$.x*$s$$,$colState_handle$$.y=$tableState$$.y+$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$.y*$s$$,$colState_handle$$.width=$g$$.width*$s$$,$colState_handle$$.height=$g$$.height*$s$$,$colState_handle$$.updateCachedBounds());$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$=$index$$<$cols$$.length-1?$cols$$[$index$$+1]:null;$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$=
null!=$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$?$graph$$.getCellGeometry($geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$):null;var $ng$$=null!=$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$&&null!=$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$.alternateBounds?$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$.alternateBounds:$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$;$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$=null!=$colLines$$[$index$$]?new $TableLineShape$$($colLines$$[$index$$],mxConstants.NONE,1):new mxLine(new mxRectangle,
mxConstants.NONE,1,!0);$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$.isDashed=$sel$$.isDashed;$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$.svgStrokeTolerance++;$colState_handle$$=new mxHandle($colState_handle$$,"col-resize",null,$geo$jscomp$38_nextCol_ngeo$jscomp$1_shape$$);$colState_handle$$.tableHandle=!0;var $dx$$=0;$colState_handle$$.shape.node.parentNode.insertBefore($colState_handle$$.shape.node,$colState_handle$$.shape.node.parentNode.firstChild);$colState_handle$$.redraw=function(){if(null!=
this.shape){this.shape.stroke=0==$dx$$?mxConstants.NONE:$sel$$.stroke;if(this.shape.constructor==$TableLineShape$$)this.shape.line=$moveLine$$($colLines$$[$index$$],$dx$$,0),this.shape.updateBoundsFromLine();else{var $start$$=$graph$$.getActualStartSize($tableState$$.cell,!0);this.shape.bounds.width=1;this.shape.bounds.x=this.state.x+($g$$.width+$dx$$)*$s$$;this.shape.bounds.y=$tableState$$.y+($index$$==$cols$$.length-1?0:$start$$.y*$s$$);this.shape.bounds.height=$tableState$$.height-($index$$==$cols$$.length-
1?0:($start$$.height+$start$$.y)*$s$$)}this.shape.redraw()}};var $shiftPressed$$=!1;$colState_handle$$.setPosition=function($bounds$$,$pt$$,$me$$){$dx$$=Math.max(Graph.minTableColumnWidth-$g$$.width,$pt$$.x-$bounds$$.x-$g$$.width);$shiftPressed$$=mxEvent.isShiftDown($me$$.getEvent());null==$ng$$||$shiftPressed$$||($dx$$=Math.min($dx$$,$ng$$.width-Graph.minTableColumnWidth))};$colState_handle$$.execute=function($me$$){if(0!=$dx$$)$graph$$.setTableColumnWidth(this.state.cell,$dx$$,$shiftPressed$$);
else if(!$self$$.blockDelayedSelection){var $temp$$=$graph$$.getCellAt($me$$.getGraphX(),$me$$.getGraphY())||$tableState$$.cell;$graph$$.graphHandler.selectCellForEvent($temp$$,$me$$)}$dx$$=0};$colState_handle$$.positionChanged=function(){};$colState_handle$$.reset=function(){$dx$$=0};$handles$$.push($colState_handle$$)})($i$jscomp$127_model$$)}}return null!=$handles$$?$handles$$.reverse():null};var $vertexHandlerSetHandlesVisible$$=mxVertexHandler.prototype.setHandlesVisible;mxVertexHandler.prototype.setHandlesVisible=
function($visible$$){$vertexHandlerSetHandlesVisible$$.apply(this,arguments);if(null!=this.moveHandles)for(var $i$$=0;$i$$<this.moveHandles.length;$i$$++)null!=this.moveHandles[$i$$]&&(this.moveHandles[$i$$].node.style.visibility=$visible$$?"":"hidden");if(null!=this.cornerHandles)for($i$$=0;$i$$<this.cornerHandles.length;$i$$++)this.cornerHandles[$i$$].node.style.visibility=$visible$$?"":"hidden"};mxVertexHandler.prototype.isMoveHandlesVisible=function(){return this.graph.isTable(this.state.cell)&&
this.graph.isCellMovable(this.state.cell)};mxVertexHandler.prototype.refreshMoveHandles=function(){var $i$$=this.isMoveHandlesVisible();$i$$&&null==this.moveHandles?this.moveHandles=this.createMoveHandles():$i$$||null==this.moveHandles||this.destroyMoveHandles();if($i$$&&null==this.moveHandles){for($i$$=0;$i$$<this.moveHandles.length;$i$$++)null!=this.moveHandles[$i$$]&&this.moveHandles[$i$$].parentNode.removeChild(this.moveHandles[$i$$]);this.moveHandles=null}};mxVertexHandler.prototype.createMoveHandles=
function(){for(var $graph$$=this.graph,$model$$=$graph$$.model,$handles$$=[],$i$$=0;$i$$<$model$$.getChildCount(this.state.cell);$i$$++)mxUtils.bind(this,function($rowState$$){if(null!=$rowState$$&&$model$$.isVertex($rowState$$.cell)&&$graph$$.isCellMovable($rowState$$.cell)){var $bounds$$=new mxRectangle(0,0,this.rowHandleImage.width,this.rowHandleImage.height);$bounds$$=new mxImageShape($bounds$$,this.rowHandleImage.src);$bounds$$.rowState=$rowState$$;$bounds$$.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?
mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG;$bounds$$.init(this.graph.getView().getOverlayPane());$bounds$$.node.style.cursor="move";mxEvent.addGestureListeners($bounds$$.node,mxUtils.bind(this,function($evt$$){this.graph.popupMenuHandler.hideMenu();this.graph.stopEditing(!1);!this.graph.isToggleEvent($evt$$)&&this.graph.isCellSelected($rowState$$.cell)||this.graph.selectCellForEvent($rowState$$.cell,$evt$$);mxEvent.isPopupTrigger($evt$$)||(this.graph.graphHandler.start(this.state.cell,
mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$),this.graph.getSelectionCells()),this.graph.graphHandler.cellWasClicked=!0,this.graph.isMouseTrigger=mxEvent.isMouseEvent($evt$$),this.graph.isMouseDown=!0);mxEvent.consume($evt$$)}),null,mxUtils.bind(this,function($evt$$){mxEvent.isPopupTrigger($evt$$)&&(this.graph.popupMenuHandler.popup(mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$),$rowState$$.cell,$evt$$),mxEvent.consume($evt$$))}));$handles$$.push($bounds$$)}else $handles$$.push(null)})(this.graph.view.getState($model$$.getChildAt(this.state.cell,
$i$$)));return $handles$$};mxVertexHandler.prototype.destroyMoveHandles=function(){if(null!=this.moveHandles){for(var $i$$=0;$i$$<this.moveHandles.length;$i$$++)null!=this.moveHandles[$i$$]&&this.moveHandles[$i$$].destroy();this.moveHandles=null}};mxVertexHandler.prototype.destroyCornerHandles=function(){if(null!=this.cornerHandles){for(var $i$$=0;$i$$<this.cornerHandles.length;$i$$++)null!=this.cornerHandles[$i$$]&&null!=this.cornerHandles[$i$$].node&&null!=this.cornerHandles[$i$$].node.parentNode&&
this.cornerHandles[$i$$].node.parentNode.removeChild(this.cornerHandles[$i$$].node);this.cornerHandles=null}};var $vertexHandlerRefresh$$=mxVertexHandler.prototype.refresh;mxVertexHandler.prototype.refresh=function(){$vertexHandlerRefresh$$.apply(this,arguments);this.destroyMoveHandles();this.destroyCornerHandles();if(this.graph.isTable(this.state.cell)&&this.graph.isCellMovable(this.state.cell))this.refreshMoveHandles();else if(1==this.graph.getSelectionCount()&&this.graph.isCellMovable(this.state.cell)&&
(this.graph.isTableCell(this.state.cell)||this.graph.isTableRow(this.state.cell))){this.cornerHandles=[];for(var $i$jscomp$134_link$$=0;4>$i$jscomp$134_link$$;$i$jscomp$134_link$$++){var $links$jscomp$4_shape$$=new mxRectangleShape(new mxRectangle(0,0,6,6),"#ffffff",mxConstants.HANDLE_STROKECOLOR);$links$jscomp$4_shape$$.dialect=mxConstants.DIALECT_SVG;$links$jscomp$4_shape$$.init(this.graph.view.getOverlayPane());this.cornerHandles.push($links$jscomp$4_shape$$)}}this.graph.isTable(this.state.cell)&&
this.graph.isCellMovable(this.state.cell)&&this.refreshMoveHandles();$i$jscomp$134_link$$=this.graph.getLinkForCell(this.state.cell);$links$jscomp$4_shape$$=this.graph.getLinksForState(this.state);this.updateLinkHint($i$jscomp$134_link$$,$links$jscomp$4_shape$$)};var $vertexHandlerGetHandlePadding$$=mxVertexHandler.prototype.getHandlePadding;mxVertexHandler.prototype.getHandlePadding=function(){var $result$$=new mxPoint(0,0),$tol$$=this.tolerance,$handlePadding_name$$=this.state.style.shape;null==
mxCellRenderer.defaultShapes[$handlePadding_name$$]&&mxStencilRegistry.getStencil($handlePadding_name$$);$handlePadding_name$$=this.graph.isTable(this.state.cell)||this.graph.cellEditor.getEditingCell()==this.state.cell;if(!$handlePadding_name$$&&null!=this.customHandles)for(var $i$$=0;$i$$<this.customHandles.length;$i$$++)if(null!=this.customHandles[$i$$]&&null!=this.customHandles[$i$$].shape&&null!=this.customHandles[$i$$].shape.bounds){var $b$$=this.customHandles[$i$$].shape.bounds,$px$$=$b$$.getCenterX(),
$py$$=$b$$.getCenterY();if(Math.abs(this.state.x-$px$$)<$b$$.width/2||Math.abs(this.state.y-$py$$)<$b$$.height/2||Math.abs(this.state.x+this.state.width-$px$$)<$b$$.width/2||Math.abs(this.state.y+this.state.height-$py$$)<$b$$.height/2){$handlePadding_name$$=!0;break}}$handlePadding_name$$&&null!=this.sizers&&0<this.sizers.length&&null!=this.sizers[0]?($tol$$/=2,this.graph.isTable(this.state.cell)&&($tol$$+=7),$result$$.x=this.sizers[0].bounds.width+$tol$$,$result$$.y=this.sizers[0].bounds.height+
$tol$$):$result$$=$vertexHandlerGetHandlePadding$$.apply(this,arguments);return $result$$};mxVertexHandler.prototype.updateHint=function($bb_me$jscomp$53_s$$){if(this.index!=mxEvent.LABEL_HANDLE){null==this.hint&&(this.hint=$createHint$$(),this.state.view.graph.container.appendChild(this.hint));if(this.index==mxEvent.ROTATION_HANDLE)this.hint.innerHTML=this.currentAlpha+"&deg;";else{$bb_me$jscomp$53_s$$=this.state.view.scale;var $unit$$=this.state.view.unit;this.hint.innerHTML=$formatHintText$$(this.roundLength(this.bounds.width/
$bb_me$jscomp$53_s$$),$unit$$)+" x "+$formatHintText$$(this.roundLength(this.bounds.height/$bb_me$jscomp$53_s$$),$unit$$)}$bb_me$jscomp$53_s$$=mxUtils.getBoundingBox(this.bounds,null!=this.currentAlpha?this.currentAlpha:this.state.style[mxConstants.STYLE_ROTATION]||"0");null==$bb_me$jscomp$53_s$$&&($bb_me$jscomp$53_s$$=this.bounds);this.hint.style.left=$bb_me$jscomp$53_s$$.x+Math.round(($bb_me$jscomp$53_s$$.width-this.hint.clientWidth)/2)+"px";this.hint.style.top=$bb_me$jscomp$53_s$$.y+$bb_me$jscomp$53_s$$.height+
Editor.hintOffset+"px";null!=this.linkHint&&(this.linkHint.style.display="none")}};mxVertexHandler.prototype.removeHint=function(){mxGraphHandler.prototype.removeHint.apply(this,arguments);null!=this.linkHint&&(this.linkHint.style.display="")};var $edgeHandlerRefresh$$=mxEdgeHandler.prototype.refresh;mxEdgeHandler.prototype.refresh=function(){$edgeHandlerRefresh$$.apply(this,arguments);var $link$$=this.graph.getLinkForCell(this.state.cell),$links$$=this.graph.getLinksForState(this.state);this.updateLinkHint($link$$,
$links$$)};var $edgeHandlerMouseMove$$=mxEdgeHandler.prototype.mouseMove;mxEdgeHandler.prototype.mouseMove=function($sender$$,$me$$){$edgeHandlerMouseMove$$.apply(this,arguments);null!=this.linkHint&&"none"!=this.linkHint.style.display&&null!=this.graph.graphHandler&&null!=this.graph.graphHandler.first&&(this.linkHint.style.display="none")};var $edgeHandlerMouseUp$$=mxEdgeHandler.prototype.mouseUp;mxEdgeHandler.prototype.mouseUp=function($sender$$,$me$$){$edgeHandlerMouseUp$$.apply(this,arguments);
null!=this.linkHint&&"none"==this.linkHint.style.display&&(this.linkHint.style.display="")};mxEdgeHandler.prototype.updateHint=function($me$$,$point$$,$edge$jscomp$13_pt$$){null==this.hint&&(this.hint=$createHint$$(),this.state.view.graph.container.appendChild(this.hint));var $t$jscomp$13_y$$=this.graph.view.translate,$s$$=this.graph.view.scale,$x$$=this.roundLength($point$$.x/$s$$-$t$jscomp$13_y$$.x);$t$jscomp$13_y$$=this.roundLength($point$$.y/$s$$-$t$jscomp$13_y$$.y);var $unit$$=this.graph.view.unit;
this.hint.innerHTML=$formatHintText$$($x$$,$unit$$)+", "+$formatHintText$$($t$jscomp$13_y$$,$unit$$);this.hint.style.visibility="visible";null!=$edge$jscomp$13_pt$$&&($edge$jscomp$13_pt$$.view.updateEdgeBounds($edge$jscomp$13_pt$$),this.hint.innerHTML+=" ("+($unit$$==mxConstants.POINTS?Math.round($edge$jscomp$13_pt$$.length/$s$$):$formatHintText$$($edge$jscomp$13_pt$$.length/$s$$,$unit$$))+")");if(this.isSource||this.isTarget)null!=this.constraintHandler&&null!=this.constraintHandler.currentConstraint&&
null!=this.constraintHandler.currentFocus?($edge$jscomp$13_pt$$=this.constraintHandler.currentConstraint.point,this.hint.innerHTML="["+Math.round(100*$edge$jscomp$13_pt$$.x)+"%, "+Math.round(100*$edge$jscomp$13_pt$$.y)+"%]"):this.marker.hasValidState()&&(this.hint.style.visibility="hidden");this.hint.style.left=Math.round($me$$.getGraphX()-this.hint.clientWidth/2)+"px";this.hint.style.top=Math.max($me$$.getGraphY(),$point$$.y)+Editor.hintOffset+"px";null!=this.linkHint&&(this.linkHint.style.display=
"none")};Graph.prototype.expandedImage=Graph.createSvgImage(9,9,'<defs><linearGradient id="grad1" x1="50%" y1="0%" x2="50%" y2="100%"><stop offset="30%" style="stop-color:#f0f0f0;" /><stop offset="100%" style="stop-color:#AFB0B6;" /></linearGradient></defs><rect x="0" y="0" width="9" height="9" stroke="#8A94A5" fill="url(#grad1)" stroke-width="2"/><path d="M 2 4.5 L 7 4.5 z" stroke="#000"/>');Graph.prototype.collapsedImage=Graph.createSvgImage(9,9,'<defs><linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="30%" style="stop-color:#f0f0f0;" /><stop offset="100%" style="stop-color:#AFB0B6;" /></linearGradient></defs><rect x="0" y="0" width="9" height="9" stroke="#8A94A5" fill="url(#grad1)" stroke-width="2"/><path d="M 4.5 2 L 4.5 7 M 2 4.5 L 7 4.5 z" stroke="#000"/>');
mxEdgeHandler.prototype.removeHint=mxVertexHandler.prototype.removeHint;HoverIcons.prototype.mainHandle=Graph.createSvgImage(18,18,'<circle cx="9" cy="9" r="5" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>');HoverIcons.prototype.endMainHandle=Graph.createSvgImage(18,18,'<circle cx="9" cy="9" r="6" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>');HoverIcons.prototype.secondaryHandle=Graph.createSvgImage(16,16,'<path d="m 8 3 L 13 8 L 8 13 L 3 8 z" stroke="#fff" fill="#fca000"/>');
HoverIcons.prototype.fixedHandle=Graph.createSvgImage(22,22,'<circle cx="11" cy="11" r="6" stroke="#fff" fill="#01bd22"/><path d="m 8 8 L 14 14M 8 14 L 14 8" stroke="#fff"/>');HoverIcons.prototype.endFixedHandle=Graph.createSvgImage(22,22,'<circle cx="11" cy="11" r="7" stroke="#fff" fill="#01bd22"/><path d="m 8 8 L 14 14M 8 14 L 14 8" stroke="#fff"/>');HoverIcons.prototype.terminalHandle=Graph.createSvgImage(22,22,'<circle cx="11" cy="11" r="6" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+
'"/><circle cx="11" cy="11" r="3" stroke="#fff" fill="transparent"/>');HoverIcons.prototype.endTerminalHandle=Graph.createSvgImage(22,22,'<circle cx="11" cy="11" r="7" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/><circle cx="11" cy="11" r="3" stroke="#fff" fill="transparent"/>');HoverIcons.prototype.rotationHandle=Graph.createSvgImage(16,16,'<path stroke="'+HoverIcons.prototype.arrowFill+'" fill="'+HoverIcons.prototype.arrowFill+'" d="M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42l1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"/>',
24,24);mxConstraintHandler.prototype.pointImage=Graph.createSvgImage(5,5,'<path d="m 0 0 L 5 5 M 0 5 L 5 0" stroke-width="2" style="stroke-opacity:0.4" stroke="#ffffff"/><path d="m 0 0 L 5 5 M 0 5 L 5 0" stroke="'+HoverIcons.prototype.arrowFill+'"/>');mxVertexHandler.TABLE_HANDLE_COLOR="#fca000";mxVertexHandler.prototype.handleImage=HoverIcons.prototype.mainHandle;mxVertexHandler.prototype.secondaryHandleImage=HoverIcons.prototype.secondaryHandle;mxVertexHandler.prototype.rowHandleImage=Graph.createSvgImage(14,
12,'<rect x="2" y="2" width="10" height="3" stroke-width="1" stroke="#ffffff" fill="'+HoverIcons.prototype.arrowFill+'"/><rect x="2" y="7" width="10" height="3" stroke-width="1" stroke="#ffffff" fill="'+HoverIcons.prototype.arrowFill+'"/>');mxEdgeHandler.prototype.handleImage=HoverIcons.prototype.mainHandle;mxEdgeHandler.prototype.endHandleImage=HoverIcons.prototype.endMainHandle;mxEdgeHandler.prototype.terminalHandleImage=HoverIcons.prototype.terminalHandle;mxEdgeHandler.prototype.endTerminalHandleImage=
HoverIcons.prototype.endTerminalHandle;mxEdgeHandler.prototype.fixedHandleImage=HoverIcons.prototype.fixedHandle;mxEdgeHandler.prototype.endFixedHandleImage=HoverIcons.prototype.endFixedHandle;mxEdgeHandler.prototype.labelHandleImage=HoverIcons.prototype.secondaryHandle;mxOutline.prototype.sizerImage=HoverIcons.prototype.mainHandle;null!=window.Sidebar&&(Sidebar.prototype.triangleUp=HoverIcons.prototype.triangleUp,Sidebar.prototype.triangleRight=HoverIcons.prototype.triangleRight,Sidebar.prototype.triangleDown=
HoverIcons.prototype.triangleDown,Sidebar.prototype.triangleLeft=HoverIcons.prototype.triangleLeft,Sidebar.prototype.refreshTarget=HoverIcons.prototype.refreshTarget,Sidebar.prototype.roundDrop=HoverIcons.prototype.roundDrop);mxVertexHandler.prototype.rotationEnabled=!0;mxVertexHandler.prototype.manageSizers=!0;mxVertexHandler.prototype.livePreview=!0;mxGraphHandler.prototype.maxLivePreview=16;mxRubberband.prototype.defaultOpacity=30;mxConnectionHandler.prototype.outlineConnect=!0;mxCellHighlight.prototype.keepOnTop=
!0;mxVertexHandler.prototype.parentHighlightEnabled=!0;mxEdgeHandler.prototype.parentHighlightEnabled=!0;mxEdgeHandler.prototype.dblClickRemoveEnabled=!0;mxEdgeHandler.prototype.straightRemoveEnabled=!0;mxEdgeHandler.prototype.virtualBendsEnabled=!0;mxEdgeHandler.prototype.mergeRemoveEnabled=!0;mxEdgeHandler.prototype.manageLabelHandle=!0;mxEdgeHandler.prototype.outlineConnect=!0;mxEdgeHandler.prototype.isAddVirtualBendEvent=function($me$$){return!mxEvent.isShiftDown($me$$.getEvent())};mxEdgeHandler.prototype.isCustomHandleEvent=
function($me$$){return!mxEvent.isShiftDown($me$$.getEvent())};if(Graph.touchStyle){if(mxClient.IS_TOUCH||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)mxShape.prototype.svgStrokeTolerance=18,mxVertexHandler.prototype.tolerance=12,mxEdgeHandler.prototype.tolerance=12,Graph.prototype.tolerance=12,mxVertexHandler.prototype.rotationHandleVSpacing=-16,mxConstraintHandler.prototype.getTolerance=function($me$$){return mxEvent.isMouseEvent($me$$.getEvent())?4:this.graph.getTolerance()};mxPanningHandler.prototype.isPanningTrigger=
function($me$$){var $evt$$=$me$$.getEvent();return null==$me$$.getState()&&!mxEvent.isMouseEvent($evt$$)||mxEvent.isPopupTrigger($evt$$)&&(null==$me$$.getState()||mxEvent.isControlDown($evt$$)||mxEvent.isShiftDown($evt$$))}}else mxPanningHandler.prototype.isPanningTrigger=function($me$$){var $evt$$=$me$$.getEvent();return mxEvent.isLeftMouseButton($evt$$)&&(this.useLeftButtonForPanning&&null==$me$$.getState()||mxEvent.isControlDown($evt$$)&&!mxEvent.isShiftDown($evt$$))||this.usePopupTrigger&&mxEvent.isPopupTrigger($evt$$)};
mxRubberband.prototype.isSpaceEvent=function($me$$){return this.graph.isEnabled()&&!this.graph.isCellLocked(this.graph.getDefaultParent())&&(mxEvent.isControlDown($me$$.getEvent())||mxEvent.isMetaDown($me$$.getEvent()))&&mxEvent.isShiftDown($me$$.getEvent())&&mxEvent.isAltDown($me$$.getEvent())};mxRubberband.prototype.cancelled=!1;mxRubberband.prototype.cancel=function(){this.isActive()&&(this.cancelled=!0,this.reset())};mxRubberband.prototype.mouseUp=function($dx$jscomp$30_sender$$,$me$$){if(this.cancelled)this.cancelled=
!1,$me$$.consume();else{var $execute$jscomp$3_i$$=null!=this.div&&"none"!=this.div.style.display,$x0$$=null,$y0$$=null,$dy$$=$dx$jscomp$30_sender$$=null;null!=this.first&&null!=this.currentX&&null!=this.currentY&&($x0$$=this.first.x,$y0$$=this.first.y,$dx$jscomp$30_sender$$=(this.currentX-$x0$$)/this.graph.view.scale,$dy$$=(this.currentY-$y0$$)/this.graph.view.scale,mxEvent.isAltDown($me$$.getEvent())||($dx$jscomp$30_sender$$=this.graph.snap($dx$jscomp$30_sender$$),$dy$$=this.graph.snap($dy$$),this.graph.isGridEnabled()||
(Math.abs($dx$jscomp$30_sender$$)<this.graph.tolerance&&($dx$jscomp$30_sender$$=0),Math.abs($dy$$)<this.graph.tolerance&&($dy$$=0))));this.reset();if($execute$jscomp$3_i$$){if(this.isSpaceEvent($me$$)){this.graph.model.beginUpdate();try{var $cells$jscomp$75_rect$$=this.graph.getCellsBeyond($x0$$,$y0$$,this.graph.getDefaultParent(),!0,!0);for($execute$jscomp$3_i$$=0;$execute$jscomp$3_i$$<$cells$jscomp$75_rect$$.length;$execute$jscomp$3_i$$++)if(this.graph.isCellMovable($cells$jscomp$75_rect$$[$execute$jscomp$3_i$$])){var $tmp$$=
this.graph.view.getState($cells$jscomp$75_rect$$[$execute$jscomp$3_i$$]),$geo$$=this.graph.getCellGeometry($cells$jscomp$75_rect$$[$execute$jscomp$3_i$$]);null!=$tmp$$&&null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.translate($dx$jscomp$30_sender$$,$dy$$),this.graph.model.setGeometry($cells$jscomp$75_rect$$[$execute$jscomp$3_i$$],$geo$$))}}finally{this.graph.model.endUpdate()}}else $cells$jscomp$75_rect$$=new mxRectangle(this.x,this.y,this.width,this.height),this.graph.selectRegion($cells$jscomp$75_rect$$,
$me$$.getEvent());$me$$.consume()}}};mxRubberband.prototype.mouseMove=function($offset$jscomp$33_right$jscomp$4_sender$jscomp$39_x$$,$me$$){if(!$me$$.isConsumed()&&null!=this.first){var $bottom$jscomp$3_origin$jscomp$4_y$$=mxUtils.getScrollOrigin(this.graph.container);$offset$jscomp$33_right$jscomp$4_sender$jscomp$39_x$$=mxUtils.getOffset(this.graph.container);$bottom$jscomp$3_origin$jscomp$4_y$$.x-=$offset$jscomp$33_right$jscomp$4_sender$jscomp$39_x$$.x;$bottom$jscomp$3_origin$jscomp$4_y$$.y-=$offset$jscomp$33_right$jscomp$4_sender$jscomp$39_x$$.y;
$offset$jscomp$33_right$jscomp$4_sender$jscomp$39_x$$=$me$$.getX()+$bottom$jscomp$3_origin$jscomp$4_y$$.x;$bottom$jscomp$3_origin$jscomp$4_y$$=$me$$.getY()+$bottom$jscomp$3_origin$jscomp$4_y$$.y;var $dx$jscomp$31_scale$$=this.first.x-$offset$jscomp$33_right$jscomp$4_sender$jscomp$39_x$$,$dy$$=this.first.y-$bottom$jscomp$3_origin$jscomp$4_y$$,$tol$$=this.graph.tolerance;if(null!=this.div||Math.abs($dx$jscomp$31_scale$$)>$tol$$||Math.abs($dy$$)>$tol$$)null==this.div&&(this.div=this.createShape()),mxUtils.clearSelection(),
this.update($offset$jscomp$33_right$jscomp$4_sender$jscomp$39_x$$,$bottom$jscomp$3_origin$jscomp$4_y$$),this.isSpaceEvent($me$$)?($offset$jscomp$33_right$jscomp$4_sender$jscomp$39_x$$=this.x+this.width,$bottom$jscomp$3_origin$jscomp$4_y$$=this.y+this.height,$dx$jscomp$31_scale$$=this.graph.view.scale,mxEvent.isAltDown($me$$.getEvent())||(this.width=this.graph.snap(this.width/$dx$jscomp$31_scale$$)*$dx$jscomp$31_scale$$,this.height=this.graph.snap(this.height/$dx$jscomp$31_scale$$)*$dx$jscomp$31_scale$$,
this.graph.isGridEnabled()||(this.width<this.graph.tolerance&&(this.width=0),this.height<this.graph.tolerance&&(this.height=0)),this.x<this.first.x&&(this.x=$offset$jscomp$33_right$jscomp$4_sender$jscomp$39_x$$-this.width),this.y<this.first.y&&(this.y=$bottom$jscomp$3_origin$jscomp$4_y$$-this.height)),this.div.style.borderStyle="dashed",this.div.style.backgroundColor="white",this.div.style.left=this.x+"px",this.div.style.top=this.y+"px",this.div.style.width=Math.max(0,this.width)+"px",this.div.style.height=
this.graph.container.clientHeight+"px",this.div.style.borderWidth=0>=this.width?"0px 1px 0px 0px":"0px 1px 0px 1px",null==this.secondDiv&&(this.secondDiv=this.div.cloneNode(!0),this.div.parentNode.appendChild(this.secondDiv)),this.secondDiv.style.left=this.x+"px",this.secondDiv.style.top=this.y+"px",this.secondDiv.style.width=this.graph.container.clientWidth+"px",this.secondDiv.style.height=Math.max(0,this.height)+"px",this.secondDiv.style.borderWidth=0>=this.height?"1px 0px 0px 0px":"1px 0px 1px 0px"):
(this.div.style.backgroundColor="",this.div.style.borderWidth="",this.div.style.borderStyle="",null!=this.secondDiv&&(this.secondDiv.parentNode.removeChild(this.secondDiv),this.secondDiv=null)),$me$$.consume()}};var $mxRubberbandReset$$=mxRubberband.prototype.reset;mxRubberband.prototype.reset=function(){null!=this.secondDiv&&(this.secondDiv.parentNode.removeChild(this.secondDiv),this.secondDiv=null);$mxRubberbandReset$$.apply(this,arguments)};var $startTime$$=(new Date).getTime(),$timeOnTarget$$=
0,$mxEdgeHandlerUpdatePreviewState$$=mxEdgeHandler.prototype.updatePreviewState;mxEdgeHandler.prototype.updatePreviewState=function($edge$$,$point$$,$terminalState$$,$me$$){$mxEdgeHandlerUpdatePreviewState$$.apply(this,arguments);$terminalState$$!=this.currentTerminalState?($startTime$$=(new Date).getTime(),$timeOnTarget$$=0):$timeOnTarget$$=(new Date).getTime()-$startTime$$;this.currentTerminalState=$terminalState$$};var $mxEdgeHandlerIsOutlineConnectEvent$$=mxEdgeHandler.prototype.isOutlineConnectEvent;
mxEdgeHandler.prototype.isOutlineConnectEvent=function($me$$){return mxEvent.isShiftDown($me$$.getEvent())&&mxEvent.isAltDown($me$$.getEvent())?!1:null!=this.currentTerminalState&&$me$$.getState()==this.currentTerminalState&&2E3<$timeOnTarget$$||(null==this.currentTerminalState||"0"!=mxUtils.getValue(this.currentTerminalState.style,"outlineConnect","1"))&&$mxEdgeHandlerIsOutlineConnectEvent$$.apply(this,arguments)};mxEdgeHandler.prototype.createHandleShape=function($c$jscomp$9_index$$,$source$$,$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$){$source$$=
null!=$c$jscomp$9_index$$&&0==$c$jscomp$9_index$$;var $terminalState$$=this.state.getVisibleTerminalState($source$$);$c$jscomp$9_index$$=null!=$c$jscomp$9_index$$&&(0==$c$jscomp$9_index$$||$c$jscomp$9_index$$>=this.state.absolutePoints.length-1||this.constructor==mxElbowEdgeHandler&&2==$c$jscomp$9_index$$)?this.graph.getConnectionConstraint(this.state,$terminalState$$,$source$$):null;$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$=null!=(null!=$c$jscomp$9_index$$?this.graph.getConnectionPoint(this.state.getVisibleTerminalState($source$$),
$c$jscomp$9_index$$):null)?$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$?this.endFixedHandleImage:this.fixedHandleImage:null!=$c$jscomp$9_index$$&&null!=$terminalState$$?$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$?this.endTerminalHandleImage:this.terminalHandleImage:$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$?this.endHandleImage:this.handleImage;if(null!=$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$)return $img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$=new mxImageShape(new mxRectangle(0,
0,$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$.width,$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$.height),$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$.src),$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$.preserveImageAspect=!1,$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$;$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$=mxConstants.HANDLE_SIZE;this.preferHtml&&--$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$;return new mxRectangleShape(new mxRectangle(0,0,$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$,
$img$jscomp$13_s$jscomp$31_shape$jscomp$17_target$$),mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)};var $vertexHandlerCreateSizerShape$$=mxVertexHandler.prototype.createSizerShape;mxVertexHandler.prototype.createSizerShape=function($bounds$$,$index$$,$fillColor$$,$image$$){$image$$=$index$$==mxEvent.ROTATION_HANDLE?HoverIcons.prototype.rotationHandle:$index$$==mxEvent.LABEL_HANDLE?this.secondaryHandleImage:$image$$;return $vertexHandlerCreateSizerShape$$.apply(this,arguments)};var $mxGraphHandlerGetBoundingBox$$=
mxGraphHandler.prototype.getBoundingBox;mxGraphHandler.prototype.getBoundingBox=function($cells$$){if(null!=$cells$$&&1==$cells$$.length){var $model$jscomp$27_state$$=this.graph.getModel(),$parent$$=$model$jscomp$27_state$$.getParent($cells$$[0]),$geo$$=this.graph.getCellGeometry($cells$$[0]);if($model$jscomp$27_state$$.isEdge($parent$$)&&null!=$geo$$&&$geo$$.relative&&($model$jscomp$27_state$$=this.graph.view.getState($cells$$[0]),null!=$model$jscomp$27_state$$&&2>$model$jscomp$27_state$$.width&&
2>$model$jscomp$27_state$$.height&&null!=$model$jscomp$27_state$$.text&&null!=$model$jscomp$27_state$$.text.boundingBox))return mxRectangle.fromRectangle($model$jscomp$27_state$$.text.boundingBox)}return $mxGraphHandlerGetBoundingBox$$.apply(this,arguments)};var $mxGraphHandlerGetGuideStates$$=mxGraphHandler.prototype.getGuideStates;mxGraphHandler.prototype.getGuideStates=function(){for(var $states$$=$mxGraphHandlerGetGuideStates$$.apply(this,arguments),$result$$=[],$i$$=0;$i$$<$states$$.length;$i$$++)"1"!=
mxUtils.getValue($states$$[$i$$].style,"part","0")&&$result$$.push($states$$[$i$$]);return $result$$};var $mxVertexHandlerGetSelectionBounds$$=mxVertexHandler.prototype.getSelectionBounds;mxVertexHandler.prototype.getSelectionBounds=function($state$$){var $bbox$jscomp$4_model$$=this.graph.getModel(),$parent$$=$bbox$jscomp$4_model$$.getParent($state$$.cell),$geo$$=this.graph.getCellGeometry($state$$.cell);return $bbox$jscomp$4_model$$.isEdge($parent$$)&&null!=$geo$$&&$geo$$.relative&&2>$state$$.width&&
2>$state$$.height&&null!=$state$$.text&&null!=$state$$.text.boundingBox?($bbox$jscomp$4_model$$=$state$$.text.unrotatedBoundingBox||$state$$.text.boundingBox,new mxRectangle(Math.round($bbox$jscomp$4_model$$.x),Math.round($bbox$jscomp$4_model$$.y),Math.round($bbox$jscomp$4_model$$.width),Math.round($bbox$jscomp$4_model$$.height))):$mxVertexHandlerGetSelectionBounds$$.apply(this,arguments)};var $mxVertexHandlerMouseDown$$=mxVertexHandler.prototype.mouseDown;mxVertexHandler.prototype.mouseDown=function($sender$$,
$me$$){var $model$$=this.graph.getModel(),$parent$$=$model$$.getParent(this.state.cell),$geo$$=this.graph.getCellGeometry(this.state.cell);(this.getHandleForEvent($me$$)==mxEvent.ROTATION_HANDLE||!$model$$.isEdge($parent$$)||null==$geo$$||!$geo$$.relative||null==this.state||2<=this.state.width||2<=this.state.height)&&$mxVertexHandlerMouseDown$$.apply(this,arguments)};mxVertexHandler.prototype.rotateClick=function(){var $angle$$=mxUtils.getValue(this.state.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE),
$fill$$=mxUtils.getValue(this.state.style,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE);this.state.view.graph.model.isVertex(this.state.cell)&&$angle$$==mxConstants.NONE&&$fill$$==mxConstants.NONE?($angle$$=mxUtils.mod(mxUtils.getValue(this.state.style,mxConstants.STYLE_ROTATION,0)+90,360),this.state.view.graph.setCellStyles(mxConstants.STYLE_ROTATION,$angle$$,[this.state.cell])):this.state.view.graph.turnShapes([this.state.cell])};var $vertexHandlerMouseMove$$=mxVertexHandler.prototype.mouseMove;
mxVertexHandler.prototype.mouseMove=function($sender$$,$me$$){$vertexHandlerMouseMove$$.apply(this,arguments);null!=this.graph.graphHandler.first&&(null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display="none"),null!=this.linkHint&&"none"!=this.linkHint.style.display&&(this.linkHint.style.display="none"))};var $vertexHandlerMouseUp$$=mxVertexHandler.prototype.mouseUp;mxVertexHandler.prototype.mouseUp=function($sender$$,$me$$){$vertexHandlerMouseUp$$.apply(this,
arguments);null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display=1==this.graph.getSelectionCount()?"":"none");null!=this.linkHint&&"none"==this.linkHint.style.display&&(this.linkHint.style.display="");this.blockDelayedSelection=null};mxVertexHandler.prototype.updateLinkHint=function($link$$,$links$$){try{if(null==$link$$&&(null==$links$$||0==$links$$.length))null!=this.linkHint&&(this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null);else if(null!=
$link$$||null!=$links$$&&0<$links$$.length){var $img$$=document.createElement("img");$img$$.className="geAdaptiveAsset";$img$$.setAttribute("src",Editor.editImage);$img$$.setAttribute("title",mxResources.get("editLink"));$img$$.setAttribute("width","14");$img$$.setAttribute("height","14");$img$$.style.paddingLeft="8px";$img$$.style.marginLeft="auto";$img$$.style.marginBottom="-1px";$img$$.style.cursor="pointer";var $trash$$=$img$$.cloneNode(!0);$trash$$.setAttribute("src",Editor.trashImage);$trash$$.setAttribute("title",
mxResources.get("removeIt",[mxResources.get("link")]));$trash$$.style.paddingLeft="4px";$trash$$.style.marginLeft="0";null==this.linkHint&&(this.linkHint=$createHint$$(),this.linkHint.style.padding="6px 8px 6px 8px",this.linkHint.style.opacity="1",this.linkHint.style.filter="",this.graph.container.appendChild(this.linkHint),mxEvent.addListener(this.linkHint,"mouseenter",mxUtils.bind(this,function(){this.graph.tooltipHandler.hide()})));this.linkHint.innerText="";if(null!=$link$$){var $i$jscomp$138_wrapper$$=
document.createElement("div");$i$jscomp$138_wrapper$$.style.display="flex";$i$jscomp$138_wrapper$$.style.alignItems="center";$i$jscomp$138_wrapper$$.appendChild(this.graph.createLinkForHint($link$$,null,this.state.cell));this.linkHint.appendChild($i$jscomp$138_wrapper$$);if(this.graph.isEnabled()&&"function"===typeof this.graph.editLink&&!this.graph.isCellLocked(this.state.cell)){var $changeLink$$=$img$$.cloneNode(!0);$i$jscomp$138_wrapper$$.appendChild($changeLink$$);mxEvent.addListener($changeLink$$,
"click",mxUtils.bind(this,function($evt$$){this.graph.setSelectionCell(this.state.cell);this.graph.editLink();mxEvent.consume($evt$$)}));var $trashLink$$=$trash$$.cloneNode(!0);$i$jscomp$138_wrapper$$.appendChild($trashLink$$);mxEvent.addListener($trashLink$$,"click",mxUtils.bind(this,function($evt$$){this.graph.setLinkForCell(this.state.cell,null);mxEvent.consume($evt$$)}))}}if(null!=$links$$)for($i$jscomp$138_wrapper$$=0;$i$jscomp$138_wrapper$$<$links$$.length;$i$jscomp$138_wrapper$$++)mxUtils.bind(this,
function($currentLink$$,$index$$){var $div$$=document.createElement("div");$div$$.style.display="flex";$div$$.style.alignItems="center";$div$$.style.marginTop=null!=$link$$||0<$index$$?"6px":"0px";$div$$.appendChild(this.graph.createLinkForHint($currentLink$$.getAttribute("href"),mxUtils.getTextContent($currentLink$$),this.state.cell));var $changeLink$jscomp$1_trashLink$$=$img$$.cloneNode(!0);$div$$.appendChild($changeLink$jscomp$1_trashLink$$);var $updateLink$$=mxUtils.bind(this,function($child$jscomp$6_value$$){var $tmp$$=
document.createElement("div");$tmp$$.innerHTML=Graph.sanitizeHtml(this.graph.getLabel(this.state.cell));var $anchor$$=$tmp$$.getElementsByTagName("a")[$index$$];if(null!=$anchor$$){if(null==$child$jscomp$6_value$$||""==$child$jscomp$6_value$$){for($child$jscomp$6_value$$=$anchor$$.cloneNode(!0).firstChild;null!=$child$jscomp$6_value$$;)$anchor$$.parentNode.insertBefore($child$jscomp$6_value$$.cloneNode(!0),$anchor$$),$child$jscomp$6_value$$=$child$jscomp$6_value$$.nextSibling;$anchor$$.parentNode.removeChild($anchor$$)}else $anchor$$.setAttribute("href",
$child$jscomp$6_value$$);this.graph.labelChanged(this.state.cell,$tmp$$.innerHTML)}});mxEvent.addListener($changeLink$jscomp$1_trashLink$$,"click",mxUtils.bind(this,function($evt$$){this.graph.showLinkDialog($currentLink$$.getAttribute("href")||"",mxResources.get("ok"),$updateLink$$);mxEvent.consume($evt$$)}));$changeLink$jscomp$1_trashLink$$=$trash$$.cloneNode(!0);$div$$.appendChild($changeLink$jscomp$1_trashLink$$);mxEvent.addListener($changeLink$jscomp$1_trashLink$$,"click",mxUtils.bind(this,function($evt$$){$updateLink$$();
mxEvent.consume($evt$$)}));this.linkHint.appendChild($div$$)})($links$$[$i$jscomp$138_wrapper$$],$i$jscomp$138_wrapper$$)}null!=this.linkHint&&Graph.sanitizeNode(this.linkHint)}catch($e$$){}};mxEdgeHandler.prototype.updateLinkHint=mxVertexHandler.prototype.updateLinkHint;var $edgeHandlerCreateConstraintHandler$$=mxEdgeHandler.prototype.createConstraintHandler;mxEdgeHandler.prototype.createConstraintHandler=function(){var $handler$$=$edgeHandlerCreateConstraintHandler$$.apply(this,arguments);$handler$$.isEnabled=
mxUtils.bind(this,function(){return this.state.view.graph.connectionHandler.isEnabled()});return $handler$$};var $connectionHandlerInit$$=mxConnectionHandler.prototype.init;mxConnectionHandler.prototype.init=function(){$connectionHandlerInit$$.apply(this,arguments);this.constraintHandler.isEnabled=mxUtils.bind(this,function(){return this.graph.connectionHandler.isEnabled()})};var $vertexHandlerRedrawHandles$$=mxVertexHandler.prototype.redrawHandles;mxVertexHandler.prototype.redrawHandles=function(){if(null!=
this.moveHandles)for(var $c$jscomp$10_i$$=0;$c$jscomp$10_i$$<this.moveHandles.length;$c$jscomp$10_i$$++)null!=this.moveHandles[$c$jscomp$10_i$$]&&(this.moveHandles[$c$jscomp$10_i$$].bounds.x=Math.round(this.moveHandles[$c$jscomp$10_i$$].rowState.x+this.moveHandles[$c$jscomp$10_i$$].rowState.width-this.moveHandles[$c$jscomp$10_i$$].bounds.width/2),this.moveHandles[$c$jscomp$10_i$$].bounds.y=Math.round(this.moveHandles[$c$jscomp$10_i$$].rowState.y+(this.moveHandles[$c$jscomp$10_i$$].rowState.height-
this.moveHandles[$c$jscomp$10_i$$].bounds.height)/2),this.moveHandles[$c$jscomp$10_i$$].redraw());if(null!=this.cornerHandles){$c$jscomp$10_i$$=this.getSelectionBorderInset();var $ch$jscomp$4_tb_tmp$$=this.cornerHandles,$b$jscomp$12_bb$jscomp$1_h$$=$ch$jscomp$4_tb_tmp$$[0].bounds.height/2;$ch$jscomp$4_tb_tmp$$[0].bounds.x=this.state.x-$ch$jscomp$4_tb_tmp$$[0].bounds.width/2+$c$jscomp$10_i$$;$ch$jscomp$4_tb_tmp$$[0].bounds.y=this.state.y-$b$jscomp$12_bb$jscomp$1_h$$+$c$jscomp$10_i$$;$ch$jscomp$4_tb_tmp$$[0].redraw();
$ch$jscomp$4_tb_tmp$$[1].bounds.x=$ch$jscomp$4_tb_tmp$$[0].bounds.x+this.state.width-2*$c$jscomp$10_i$$;$ch$jscomp$4_tb_tmp$$[1].bounds.y=$ch$jscomp$4_tb_tmp$$[0].bounds.y;$ch$jscomp$4_tb_tmp$$[1].redraw();$ch$jscomp$4_tb_tmp$$[2].bounds.x=$ch$jscomp$4_tb_tmp$$[0].bounds.x;$ch$jscomp$4_tb_tmp$$[2].bounds.y=this.state.y+this.state.height-2*$c$jscomp$10_i$$;$ch$jscomp$4_tb_tmp$$[2].redraw();$ch$jscomp$4_tb_tmp$$[3].bounds.x=$ch$jscomp$4_tb_tmp$$[1].bounds.x;$ch$jscomp$4_tb_tmp$$[3].bounds.y=$ch$jscomp$4_tb_tmp$$[2].bounds.y;
$ch$jscomp$4_tb_tmp$$[3].redraw();for($c$jscomp$10_i$$=0;$c$jscomp$10_i$$<this.cornerHandles.length;$c$jscomp$10_i$$++)this.cornerHandles[$c$jscomp$10_i$$].node.style.display=1==this.graph.getSelectionCount()?"":"none"}null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.setAttribute("title",mxResources.get("rotateTooltip")),this.rotationShape.node.style.display=null!=this.moveHandles||1!=this.graph.getSelectionCount()||null!=this.index&&this.index!=mxEvent.ROTATION_HANDLE?
"none":"");$vertexHandlerRedrawHandles$$.apply(this);null!=this.state&&null!=this.linkHint&&($c$jscomp$10_i$$=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),$ch$jscomp$4_tb_tmp$$=new mxRectangle(this.state.x,this.state.y-22,this.state.width+24,this.state.height+22),$b$jscomp$12_bb$jscomp$1_h$$=mxUtils.getBoundingBox($ch$jscomp$4_tb_tmp$$,this.state.style[mxConstants.STYLE_ROTATION]||"0",$c$jscomp$10_i$$),$c$jscomp$10_i$$=null!=$b$jscomp$12_bb$jscomp$1_h$$?mxUtils.getBoundingBox(this.state,
this.state.style[mxConstants.STYLE_ROTATION]||"0"):this.state,$ch$jscomp$4_tb_tmp$$=null!=this.state.text?this.state.text.boundingBox:null,null==$b$jscomp$12_bb$jscomp$1_h$$&&($b$jscomp$12_bb$jscomp$1_h$$=this.state),$b$jscomp$12_bb$jscomp$1_h$$=$b$jscomp$12_bb$jscomp$1_h$$.y+$b$jscomp$12_bb$jscomp$1_h$$.height,null!=$ch$jscomp$4_tb_tmp$$&&($b$jscomp$12_bb$jscomp$1_h$$=Math.max($b$jscomp$12_bb$jscomp$1_h$$,$ch$jscomp$4_tb_tmp$$.y+$ch$jscomp$4_tb_tmp$$.height)),this.linkHint.style.left=Math.max(0,
Math.round($c$jscomp$10_i$$.x+($c$jscomp$10_i$$.width-this.linkHint.clientWidth)/2))+"px",this.linkHint.style.top=Math.round($b$jscomp$12_bb$jscomp$1_h$$+this.verticalOffset/2+Editor.hintOffset)+"px",this.linkHint.style.display=1<this.graph.getSelectionCount()?"none":"")};var $vertexHandlerDestroy$$=mxVertexHandler.prototype.destroy;mxVertexHandler.prototype.destroy=function(){$vertexHandlerDestroy$$.apply(this,arguments);this.destroyMoveHandles();this.destroyCornerHandles();null!=this.linkHint&&
(null!=this.linkHint.parentNode&&this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null);null!=this.changeHandler&&(this.graph.getSelectionModel().removeListener(this.changeHandler),this.graph.getModel().removeListener(this.changeHandler),this.changeHandler=null);null!=this.editingHandler&&(this.graph.removeListener(this.editingHandler),this.editingHandler=null)};var $edgeHandlerRedrawHandles$$=mxEdgeHandler.prototype.redrawHandles;mxEdgeHandler.prototype.redrawHandles=function(){if(null!=
this.marker&&($edgeHandlerRedrawHandles$$.apply(this),null!=this.state&&null!=this.linkHint)){var $b$$=this.state;null!=this.state.text&&null!=this.state.text.bounds&&($b$$=new mxRectangle($b$$.x,$b$$.y,$b$$.width,$b$$.height),$b$$.add(this.state.text.bounds));this.linkHint.style.left=Math.max(0,Math.round($b$$.x+($b$$.width-this.linkHint.clientWidth)/2))+"px";this.linkHint.style.top=Math.round($b$$.y+$b$$.height+Editor.hintOffset)+"px";this.linkHint.style.display=1<this.graph.getSelectionCount()?
"none":""}};var $edgeHandlerReset$$=mxEdgeHandler.prototype.reset;mxEdgeHandler.prototype.reset=function(){$edgeHandlerReset$$.apply(this,arguments);null!=this.linkHint&&(this.linkHint.style.visibility="")};var $edgeHandlerDestroy$$=mxEdgeHandler.prototype.destroy;mxEdgeHandler.prototype.destroy=function(){$edgeHandlerDestroy$$.apply(this,arguments);null!=this.linkHint&&(this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null);null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),
this.graph.getSelectionModel().removeListener(this.changeHandler),this.changeHandler=null)}}();(function(){function $TableLineShape$$($line$$,$stroke$$,$strokewidth$$){mxShape.call(this);this.line=$line$$;this.stroke=$stroke$$;this.strokewidth=null!=$strokewidth$$?$strokewidth$$:1;this.updateBoundsFromLine()}function $TableShape$$(){mxSwimlane.call(this)}function $TableRowShape$$(){mxSwimlane.call(this)}function $CubeShape$$(){mxCylinder.call(this)}function $WireShape$$(){mxConnector.call(this)}function $WaypointShape$$(){mxCylinder.call(this)}function $IsoRectangleShape$$(){mxActor.call(this)}
function $IsoCubeShape$$(){mxCylinder.call(this)}function $DataStoreShape$$(){mxCylinder.call(this)}function $NoteShape$$(){mxCylinder.call(this)}function $NoteShape2$$(){mxCylinder.call(this)}function $IsoCubeShape2$$(){mxShape.call(this)}function $CylinderShape$$(){mxShape.call(this)}function $CylinderShape3$$($bounds$$,$fill$$,$stroke$$,$strokewidth$$){mxShape.call(this);this.bounds=$bounds$$;this.fill=$fill$$;this.stroke=$stroke$$;this.strokewidth=null!=$strokewidth$$?$strokewidth$$:1}function $SwitchShape$$(){mxActor.call(this)}
function $FolderShape$$(){mxCylinder.call(this)}function $UMLStateShape$$(){mxCylinder.call(this)}function $CardShape$$(){mxActor.call(this)}function $TapeShape$$(){mxActor.call(this)}function $DocumentShape$$(){mxActor.call(this)}function $ParallelogramShape$$(){mxActor.call(this)}function $TrapezoidShape$$(){mxActor.call(this)}function $CurlyBracketShape$$(){mxActor.call(this)}function $ParallelMarkerShape$$(){mxActor.call(this)}function $HandJiggle$$($canvas$$,$defaultVariation$$){this.canvas=
$canvas$$;this.canvas.setLineJoin("round");this.canvas.setLineCap("round");this.defaultVariation=$defaultVariation$$;this.originalLineTo=this.canvas.lineTo;this.canvas.lineTo=mxUtils.bind(this,$HandJiggle$$.prototype.lineTo);this.originalMoveTo=this.canvas.moveTo;this.canvas.moveTo=mxUtils.bind(this,$HandJiggle$$.prototype.moveTo);this.originalClose=this.canvas.close;this.canvas.close=mxUtils.bind(this,$HandJiggle$$.prototype.close);this.originalQuadTo=this.canvas.quadTo;this.canvas.quadTo=mxUtils.bind(this,
$HandJiggle$$.prototype.quadTo);this.originalCurveTo=this.canvas.curveTo;this.canvas.curveTo=mxUtils.bind(this,$HandJiggle$$.prototype.curveTo);this.originalArcTo=this.canvas.arcTo;this.canvas.arcTo=mxUtils.bind(this,$HandJiggle$$.prototype.arcTo)}function $ProcessShape$$(){mxRectangleShape.call(this)}function $TransparentShape$$(){mxRectangleShape.call(this)}function $CalloutShape$$(){mxActor.call(this)}function $StepShape$$(){mxActor.call(this)}function $HexagonShape$$(){mxActor.call(this)}function $PlusShape$$(){mxRectangleShape.call(this)}
function $ExtendedShape$$(){mxRectangleShape.call(this)}function $MessageShape$$(){mxCylinder.call(this)}function $UmlActorShape$$(){mxShape.call(this)}function $UmlBoundaryShape$$(){mxShape.call(this)}function $UmlEntityShape$$(){mxEllipse.call(this)}function $UmlDestroyShape$$(){mxShape.call(this)}function $UmlControlShape$$(){mxShape.call(this)}function $UmlLifeline$$(){mxRectangleShape.call(this)}function $UmlFrame$$(){mxShape.call(this)}function $LollipopShape$$(){mxShape.call(this)}function $RequiresShape$$(){mxShape.call(this)}
function $RequiredInterfaceShape$$(){mxShape.call(this)}function $ProvidedRequiredInterfaceShape$$(){mxShape.call(this)}function $ModuleShape$$(){mxCylinder.call(this)}function $ComponentShape$$(){mxCylinder.call(this)}function $AssociativeEntity$$(){mxRectangleShape.call(this)}function $StateShape$$(){mxDoubleEllipse.call(this)}function $StartStateShape$$(){mxDoubleEllipse.call(this)}function $LinkShape$$(){mxArrowConnector.call(this);this.spacing=0}function $FlexArrowShape$$(){mxArrowConnector.call(this);
this.spacing=0}function $ManualInputShape$$(){mxActor.call(this)}function $InternalStorageShape$$(){mxRectangleShape.call(this)}function $CornerShape$$(){mxActor.call(this)}function $CrossbarShape$$(){mxActor.call(this)}function $TeeShape$$(){mxActor.call(this)}function $SingleArrowShape$$(){mxActor.call(this)}function $DoubleArrowShape$$(){mxActor.call(this)}function $DataStorageShape$$(){mxActor.call(this)}function $OrShape$$(){mxActor.call(this)}function $XorShape$$(){mxActor.call(this)}function $LoopLimitShape$$(){mxActor.call(this)}
function $OffPageConnectorShape$$(){mxActor.call(this)}function $TapeDataShape$$(){mxEllipse.call(this)}function $OrEllipseShape$$(){mxEllipse.call(this)}function $SumEllipseShape$$(){mxEllipse.call(this)}function $SortShape$$(){mxRhombus.call(this)}function $CollateShape$$(){mxEllipse.call(this)}function $DimensionShape$$(){mxEllipse.call(this)}function $PartialRectangleShape$$(){mxEllipse.call(this)}function $LineEllipseShape$$(){mxEllipse.call(this)}function $DelayShape$$(){mxActor.call(this)}
function $CrossShape$$(){mxActor.call(this)}function $DisplayShape$$(){mxActor.call(this)}function $mxShapeBasicRect2$$($bounds$$,$fill$$,$stroke$$,$strokewidth$$){mxShape.call(this);this.bounds=$bounds$$;this.fill=$fill$$;this.stroke=$stroke$$;this.strokewidth=null!=$strokewidth$$?$strokewidth$$:1;this.rectStyle="square";this.size=10;this.absoluteCornerSize=!0;this.indent=2;this.rectOutline="single"}function $FilledEdge$$(){mxConnector.call(this)}function $circleMarker$$($c$$,$shape$$,$type$$,$pe$$,
$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){$size$$+=$sw$$;var $pt$$=$pe$$.clone();$pe$$.x-=$unitX$$*(2*$size$$+$sw$$);$pe$$.y-=$unitY$$*(2*$size$$+$sw$$);$unitX$$*=$size$$+$sw$$;$unitY$$*=$size$$+$sw$$;return function(){$c$$.ellipse($pt$$.x-$unitX$$-$size$$,$pt$$.y-$unitY$$-$size$$,2*$size$$,2*$size$$);$filled$$?$c$$.fillAndStroke():$c$$.stroke()}}mxUtils.extend($TableLineShape$$,mxShape);$TableLineShape$$.prototype.updateBoundsFromLine=function(){var $box$$=null;if(null!=this.line)for(var $i$$=
0;$i$$<this.line.length;$i$$++){var $curr$jscomp$1_temp$$=this.line[$i$$];null!=$curr$jscomp$1_temp$$&&($curr$jscomp$1_temp$$=new mxRectangle($curr$jscomp$1_temp$$.x,$curr$jscomp$1_temp$$.y,this.strokewidth,this.strokewidth),null==$box$$?$box$$=$curr$jscomp$1_temp$$:$box$$.add($curr$jscomp$1_temp$$))}this.bounds=null!=$box$$?$box$$:new mxRectangle};$TableLineShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){this.paintTableLine($c$$,this.line,0,0)};$TableLineShape$$.prototype.paintTableLine=
function($c$$,$line$$,$dx$$,$dy$$){if(null!=$line$$){var $last$$=null;$c$$.begin();for(var $i$$=0;$i$$<$line$$.length;$i$$++){var $curr$$=$line$$[$i$$];null!=$curr$$&&(null==$last$$?$c$$.moveTo($curr$$.x+$dx$$,$curr$$.y+$dy$$):null!=$last$$&&$c$$.lineTo($curr$$.x+$dx$$,$curr$$.y+$dy$$));$last$$=$curr$$}$c$$.end();$c$$.stroke()}};$TableLineShape$$.prototype.intersectsRectangle=function($rect$$){var $result$$=!1;if(mxShape.prototype.intersectsRectangle.apply(this,arguments)&&null!=this.line)for(var $last$$=
null,$i$$=0;$i$$<this.line.length&&!$result$$;$i$$++){var $curr$$=this.line[$i$$];null!=$curr$$&&null!=$last$$&&($result$$=mxUtils.rectangleIntersectsSegment($rect$$,$last$$,$curr$$));$last$$=$curr$$}return $result$$};mxCellRenderer.registerShape("tableLine",$TableLineShape$$);mxUtils.extend($TableShape$$,mxSwimlane);$TableShape$$.prototype.getLabelBounds=function($rect$$){return 0==this.getTitleSize()?mxShape.prototype.getLabelBounds.apply(this,arguments):mxSwimlane.prototype.getLabelBounds.apply(this,
arguments)};$TableShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){var $collapsed$$=null!=this.state?this.state.view.graph.isCellCollapsed(this.state.cell):!1,$horizontal$$=this.isHorizontal(),$start$$=this.getTitleSize();0==$start$$||this.outline?$PartialRectangleShape$$.prototype.paintVertexShape.apply(this,arguments):(mxSwimlane.prototype.paintVertexShape.apply(this,arguments),$c$$.translate(-$x$$,-$y$$));$collapsed$$||this.outline||!($horizontal$$&&$start$$<$h$$||!$horizontal$$&&
$start$$<$w$$)||this.paintForeground($c$$,$x$$,$y$$,$w$$,$h$$)};$TableShape$$.prototype.paintForeground=function($c$$,$x$$,$y$$,$w$$,$h$$){if(null!=this.state){var $flipH$$=this.flipH,$flipV$$=this.flipV;if(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH){var $tmp$$=$flipH$$;$flipH$$=$flipV$$;$flipV$$=$tmp$$}$c$$.rotate(-this.getShapeRotation(),$flipH$$,$flipV$$,$x$$+$w$$/2,$y$$+$h$$/2);s=this.scale;$x$$=this.bounds.x/s;$y$$=this.bounds.y/s;$w$$=this.bounds.width/
s;$h$$=this.bounds.height/s;this.paintTableForeground($c$$,$x$$,$y$$,$w$$,$h$$)}};$TableShape$$.prototype.paintTableForeground=function($c$$,$x$$,$y$$,$lines$jscomp$1_w$$,$h$jscomp$37_i$$){$lines$jscomp$1_w$$=this.state.view.graph.getTableLines(this.state.cell,"0"!=mxUtils.getValue(this.state.style,"rowLines","1"),"0"!=mxUtils.getValue(this.state.style,"columnLines","1"));for($h$jscomp$37_i$$=0;$h$jscomp$37_i$$<$lines$jscomp$1_w$$.length;$h$jscomp$37_i$$++)$TableLineShape$$.prototype.paintTableLine($c$$,
$lines$jscomp$1_w$$[$h$jscomp$37_i$$],$x$$,$y$$)};$TableShape$$.prototype.configurePointerEvents=function($c$$){0==this.getTitleSize()?$c$$.pointerEvents=!1:mxSwimlane.prototype.configurePointerEvents.apply(this,arguments)};mxCellRenderer.registerShape("table",$TableShape$$);mxUtils.extend($TableRowShape$$,$TableShape$$);$TableRowShape$$.prototype.paintForeground=function(){};mxCellRenderer.registerShape("tableRow",$TableRowShape$$);mxUtils.extend($CubeShape$$,mxCylinder);$CubeShape$$.prototype.size=
20;$CubeShape$$.prototype.darkOpacity=0;$CubeShape$$.prototype.darkOpacity2=0;$CubeShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){var $s$$=Math.max(0,Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size))))),$op$$=Math.max(-1,Math.min(1,parseFloat(mxUtils.getValue(this.style,"darkOpacity",this.darkOpacity)))),$op2$$=Math.max(-1,Math.min(1,parseFloat(mxUtils.getValue(this.style,"darkOpacity2",this.darkOpacity2))));$c$$.translate($x$$,$y$$);$c$$.begin();
$c$$.moveTo(0,0);$c$$.lineTo($w$$-$s$$,0);$c$$.lineTo($w$$,$s$$);$c$$.lineTo($w$$,$h$$);$c$$.lineTo($s$$,$h$$);$c$$.lineTo(0,$h$$-$s$$);$c$$.lineTo(0,0);$c$$.close();$c$$.end();$c$$.fillAndStroke();this.outline||($c$$.setShadow(!1),0!=$op$$&&($c$$.setFillAlpha(Math.abs($op$$)),$c$$.setFillColor(0>$op$$?"#FFFFFF":"#000000"),$c$$.begin(),$c$$.moveTo(0,0),$c$$.lineTo($w$$-$s$$,0),$c$$.lineTo($w$$,$s$$),$c$$.lineTo($s$$,$s$$),$c$$.close(),$c$$.fill()),0!=$op2$$&&($c$$.setFillAlpha(Math.abs($op2$$)),$c$$.setFillColor(0>
$op2$$?"#FFFFFF":"#000000"),$c$$.begin(),$c$$.moveTo(0,0),$c$$.lineTo($s$$,$s$$),$c$$.lineTo($s$$,$h$$),$c$$.lineTo(0,$h$$-$s$$),$c$$.close(),$c$$.fill()),$c$$.begin(),$c$$.moveTo($s$$,$h$$),$c$$.lineTo($s$$,$s$$),$c$$.lineTo(0,0),$c$$.moveTo($s$$,$s$$),$c$$.lineTo($w$$,$s$$),$c$$.end(),$c$$.stroke())};$CubeShape$$.prototype.getLabelMargins=function($rect$jscomp$8_s$$){return mxUtils.getValue(this.style,"boundedLbl",!1)?($rect$jscomp$8_s$$=parseFloat(mxUtils.getValue(this.style,"size",this.size))*
this.scale,new mxRectangle($rect$jscomp$8_s$$,$rect$jscomp$8_s$$,0,0)):null};mxCellRenderer.registerShape("cube",$CubeShape$$);var $tan30$$=Math.tan(mxUtils.toRadians(30)),$tan30Dx$$=(.5-$tan30$$)/2;mxCellRenderer.registerShape("isoRectangle",$IsoRectangleShape$$);mxUtils.extend($WireShape$$,mxConnector);$WireShape$$.prototype.paintEdgeShape=function($c$$,$pts$$){var $sourceMarker$$=this.createMarker($c$$,$pts$$,!0),$targetMarker$$=this.createMarker($c$$,$pts$$,!1);$c$$.setDashed(!1);mxPolyline.prototype.paintEdgeShape.apply(this,
arguments);null!=this.isDashed&&$c$$.setDashed(this.isDashed,null!=this.style?1==mxUtils.getValue(this.style,mxConstants.STYLE_FIX_DASH,!1):!1);$c$$.setShadow(!1);$c$$.setStrokeColor(this.fill);mxPolyline.prototype.paintEdgeShape.apply(this,arguments);$c$$.setStrokeColor(this.stroke);$c$$.setFillColor(this.stroke);$c$$.setDashed(!1);null!=$sourceMarker$$&&$sourceMarker$$();null!=$targetMarker$$&&$targetMarker$$()};mxCellRenderer.registerShape("wire",$WireShape$$);mxUtils.extend($WaypointShape$$,mxCylinder);
$WaypointShape$$.prototype.size=6;$WaypointShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.setFillColor(this.stroke);var $s$$=Math.max(0,parseFloat(mxUtils.getValue(this.style,"size",this.size))-2)+2*this.strokewidth;$c$$.ellipse($x$$+.5*($w$$-$s$$),$y$$+.5*($h$$-$s$$),$s$$,$s$$);$c$$.fill();$c$$.setFillColor(mxConstants.NONE);$c$$.rect($x$$,$y$$,$w$$,$h$$);$c$$.fill()};mxCellRenderer.registerShape("waypoint",$WaypointShape$$);mxUtils.extend($IsoRectangleShape$$,mxActor);
$IsoRectangleShape$$.prototype.size=20;$IsoRectangleShape$$.prototype.redrawPath=function($path$$,$m$jscomp$2_x$$,$y$$,$w$$,$h$$){$m$jscomp$2_x$$=Math.min($w$$,$h$$/$tan30$$);$path$$.translate(($w$$-$m$jscomp$2_x$$)/2,($h$$-$m$jscomp$2_x$$)/2+$m$jscomp$2_x$$/4);$path$$.moveTo(0,.25*$m$jscomp$2_x$$);$path$$.lineTo(.5*$m$jscomp$2_x$$,$m$jscomp$2_x$$*$tan30Dx$$);$path$$.lineTo($m$jscomp$2_x$$,.25*$m$jscomp$2_x$$);$path$$.lineTo(.5*$m$jscomp$2_x$$,(.5-$tan30Dx$$)*$m$jscomp$2_x$$);$path$$.lineTo(0,.25*
$m$jscomp$2_x$$);$path$$.close();$path$$.end()};mxCellRenderer.registerShape("isoRectangle",$IsoRectangleShape$$);mxUtils.extend($IsoCubeShape$$,mxCylinder);$IsoCubeShape$$.prototype.size=20;$IsoCubeShape$$.prototype.redrawPath=function($path$$,$m$jscomp$3_x$$,$y$$,$w$$,$h$$,$isForeground$$){$m$jscomp$3_x$$=Math.min($w$$,$h$$/(.5+$tan30$$));$isForeground$$?($path$$.moveTo(0,.25*$m$jscomp$3_x$$),$path$$.lineTo(.5*$m$jscomp$3_x$$,(.5-$tan30Dx$$)*$m$jscomp$3_x$$),$path$$.lineTo($m$jscomp$3_x$$,.25*$m$jscomp$3_x$$),
$path$$.moveTo(.5*$m$jscomp$3_x$$,(.5-$tan30Dx$$)*$m$jscomp$3_x$$),$path$$.lineTo(.5*$m$jscomp$3_x$$,(1-$tan30Dx$$)*$m$jscomp$3_x$$)):($path$$.translate(($w$$-$m$jscomp$3_x$$)/2,($h$$-$m$jscomp$3_x$$)/2),$path$$.moveTo(0,.25*$m$jscomp$3_x$$),$path$$.lineTo(.5*$m$jscomp$3_x$$,$m$jscomp$3_x$$*$tan30Dx$$),$path$$.lineTo($m$jscomp$3_x$$,.25*$m$jscomp$3_x$$),$path$$.lineTo($m$jscomp$3_x$$,.75*$m$jscomp$3_x$$),$path$$.lineTo(.5*$m$jscomp$3_x$$,(1-$tan30Dx$$)*$m$jscomp$3_x$$),$path$$.lineTo(0,.75*$m$jscomp$3_x$$),
$path$$.close());$path$$.end()};mxCellRenderer.registerShape("isoCube",$IsoCubeShape$$);mxUtils.extend($DataStoreShape$$,mxCylinder);$DataStoreShape$$.prototype.redrawPath=function($c$$,$dy$jscomp$32_x$$,$y$$,$w$$,$h$$,$isForeground$$){$dy$jscomp$32_x$$=Math.min($h$$/2,Math.round($h$$/8)+this.strokewidth-1);if($isForeground$$&&null!=this.fill||!$isForeground$$&&null==this.fill)$c$$.moveTo(0,$dy$jscomp$32_x$$),$c$$.curveTo(0,2*$dy$jscomp$32_x$$,$w$$,2*$dy$jscomp$32_x$$,$w$$,$dy$jscomp$32_x$$),$isForeground$$||
($c$$.stroke(),$c$$.begin()),$c$$.translate(0,$dy$jscomp$32_x$$/2),$c$$.moveTo(0,$dy$jscomp$32_x$$),$c$$.curveTo(0,2*$dy$jscomp$32_x$$,$w$$,2*$dy$jscomp$32_x$$,$w$$,$dy$jscomp$32_x$$),$isForeground$$||($c$$.stroke(),$c$$.begin()),$c$$.translate(0,$dy$jscomp$32_x$$/2),$c$$.moveTo(0,$dy$jscomp$32_x$$),$c$$.curveTo(0,2*$dy$jscomp$32_x$$,$w$$,2*$dy$jscomp$32_x$$,$w$$,$dy$jscomp$32_x$$),$isForeground$$||($c$$.stroke(),$c$$.begin()),$c$$.translate(0,-$dy$jscomp$32_x$$);$isForeground$$||($c$$.moveTo(0,$dy$jscomp$32_x$$),
$c$$.curveTo(0,-$dy$jscomp$32_x$$/3,$w$$,-$dy$jscomp$32_x$$/3,$w$$,$dy$jscomp$32_x$$),$c$$.lineTo($w$$,$h$$-$dy$jscomp$32_x$$),$c$$.curveTo($w$$,$h$$+$dy$jscomp$32_x$$/3,0,$h$$+$dy$jscomp$32_x$$/3,0,$h$$-$dy$jscomp$32_x$$),$c$$.close())};$DataStoreShape$$.prototype.getLabelMargins=function($rect$$){return new mxRectangle(0,2.5*Math.min($rect$$.height/2,Math.round($rect$$.height/8)+this.strokewidth-1),0,0)};mxCellRenderer.registerShape("datastore",$DataStoreShape$$);mxUtils.extend($NoteShape$$,mxCylinder);
$NoteShape$$.prototype.size=30;$NoteShape$$.prototype.darkOpacity=0;$NoteShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){var $s$$=Math.max(0,Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size))))),$op$$=Math.max(-1,Math.min(1,parseFloat(mxUtils.getValue(this.style,"darkOpacity",this.darkOpacity))));$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo(0,0);$c$$.lineTo($w$$-$s$$,0);$c$$.lineTo($w$$,$s$$);$c$$.lineTo($w$$,$h$$);$c$$.lineTo(0,$h$$);
$c$$.lineTo(0,0);$c$$.close();$c$$.end();$c$$.fillAndStroke();this.outline||($c$$.setShadow(!1),0!=$op$$&&($c$$.setFillAlpha(Math.abs($op$$)),$c$$.setFillColor(0>$op$$?"#FFFFFF":"#000000"),$c$$.begin(),$c$$.moveTo($w$$-$s$$,0),$c$$.lineTo($w$$-$s$$,$s$$),$c$$.lineTo($w$$,$s$$),$c$$.close(),$c$$.fill()),$c$$.begin(),$c$$.moveTo($w$$-$s$$,0),$c$$.lineTo($w$$-$s$$,$s$$),$c$$.lineTo($w$$,$s$$),$c$$.end(),$c$$.stroke())};mxCellRenderer.registerShape("note",$NoteShape$$);mxUtils.extend($NoteShape2$$,$NoteShape$$);
mxCellRenderer.registerShape("note2",$NoteShape2$$);$NoteShape2$$.prototype.getLabelMargins=function($rect$$){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var $size$$=mxUtils.getValue(this.style,"size",15);return new mxRectangle(0,Math.min($rect$$.height*this.scale,$size$$*this.scale),0,0)}return null};mxUtils.extend($IsoCubeShape2$$,mxShape);$IsoCubeShape2$$.prototype.isoAngle=15;$IsoCubeShape2$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){var $isoAngle_isoH$$=Math.max(.01,
Math.min(94,parseFloat(mxUtils.getValue(this.style,"isoAngle",this.isoAngle))))*Math.PI/200;$isoAngle_isoH$$=Math.min($w$$*Math.tan($isoAngle_isoH$$),.5*$h$$);$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo(.5*$w$$,0);$c$$.lineTo($w$$,$isoAngle_isoH$$);$c$$.lineTo($w$$,$h$$-$isoAngle_isoH$$);$c$$.lineTo(.5*$w$$,$h$$);$c$$.lineTo(0,$h$$-$isoAngle_isoH$$);$c$$.lineTo(0,$isoAngle_isoH$$);$c$$.close();$c$$.fillAndStroke();$c$$.setShadow(!1);$c$$.begin();$c$$.moveTo(0,$isoAngle_isoH$$);$c$$.lineTo(.5*
$w$$,2*$isoAngle_isoH$$);$c$$.lineTo($w$$,$isoAngle_isoH$$);$c$$.moveTo(.5*$w$$,2*$isoAngle_isoH$$);$c$$.lineTo(.5*$w$$,$h$$);$c$$.stroke()};mxCellRenderer.registerShape("isoCube2",$IsoCubeShape2$$);mxUtils.extend($CylinderShape$$,mxShape);$CylinderShape$$.prototype.size=15;$CylinderShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){var $size$$=Math.max(0,Math.min(.5*$h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$c$$.translate($x$$,$y$$);0==$size$$?($c$$.rect(0,
0,$w$$,$h$$),$c$$.fillAndStroke()):($c$$.begin(),$c$$.moveTo(0,$size$$),$c$$.arcTo(.5*$w$$,$size$$,0,0,1,.5*$w$$,0),$c$$.arcTo(.5*$w$$,$size$$,0,0,1,$w$$,$size$$),$c$$.lineTo($w$$,$h$$-$size$$),$c$$.arcTo(.5*$w$$,$size$$,0,0,1,.5*$w$$,$h$$),$c$$.arcTo(.5*$w$$,$size$$,0,0,1,0,$h$$-$size$$),$c$$.close(),$c$$.fillAndStroke(),$c$$.setShadow(!1),$c$$.begin(),$c$$.moveTo($w$$,$size$$),$c$$.arcTo(.5*$w$$,$size$$,0,0,1,.5*$w$$,2*$size$$),$c$$.arcTo(.5*$w$$,$size$$,0,0,1,0,$size$$),$c$$.stroke())};mxCellRenderer.registerShape("cylinder2",
$CylinderShape$$);mxUtils.extend($CylinderShape3$$,mxCylinder);$CylinderShape3$$.prototype.size=15;$CylinderShape3$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){var $size$$=Math.max(0,Math.min(.5*$h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),$lid$$=mxUtils.getValue(this.style,"lid",!0);$c$$.translate($x$$,$y$$);0==$size$$?($c$$.rect(0,0,$w$$,$h$$),$c$$.fillAndStroke()):($c$$.begin(),$lid$$?($c$$.moveTo(0,$size$$),$c$$.arcTo(.5*$w$$,$size$$,0,0,1,.5*$w$$,0),$c$$.arcTo(.5*
$w$$,$size$$,0,0,1,$w$$,$size$$)):($c$$.moveTo(0,0),$c$$.arcTo(.5*$w$$,$size$$,0,0,0,.5*$w$$,$size$$),$c$$.arcTo(.5*$w$$,$size$$,0,0,0,$w$$,0)),$c$$.lineTo($w$$,$h$$-$size$$),$c$$.arcTo(.5*$w$$,$size$$,0,0,1,.5*$w$$,$h$$),$c$$.arcTo(.5*$w$$,$size$$,0,0,1,0,$h$$-$size$$),$c$$.close(),$c$$.fillAndStroke(),$c$$.setShadow(!1),$lid$$&&($c$$.begin(),$c$$.moveTo($w$$,$size$$),$c$$.arcTo(.5*$w$$,$size$$,0,0,1,.5*$w$$,2*$size$$),$c$$.arcTo(.5*$w$$,$size$$,0,0,1,0,$size$$),$c$$.stroke()))};mxCellRenderer.registerShape("cylinder3",
$CylinderShape3$$);mxUtils.extend($SwitchShape$$,mxActor);$SwitchShape$$.prototype.redrawPath=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.moveTo(0,0);$c$$.quadTo($w$$/2,.5*$h$$,$w$$,0);$c$$.quadTo(.5*$w$$,$h$$/2,$w$$,$h$$);$c$$.quadTo($w$$/2,.5*$h$$,0,$h$$);$c$$.quadTo(.5*$w$$,$h$$/2,0,0);$c$$.end()};mxCellRenderer.registerShape("switch",$SwitchShape$$);mxUtils.extend($FolderShape$$,mxCylinder);$FolderShape$$.prototype.tabWidth=60;$FolderShape$$.prototype.tabHeight=20;$FolderShape$$.prototype.tabPosition=
"right";$FolderShape$$.prototype.arcSize=.1;$FolderShape$$.prototype.paintVertexShape=function($c$$,$dx$jscomp$33_x$$,$dy$jscomp$33_y$$,$w$$,$h$$){$c$$.translate($dx$jscomp$33_x$$,$dy$jscomp$33_y$$);$dx$jscomp$33_x$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"tabWidth",this.tabWidth))));$dy$jscomp$33_y$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"tabHeight",this.tabHeight))));var $tp$$=mxUtils.getValue(this.style,"tabPosition",this.tabPosition),$rounded$$=
mxUtils.getValue(this.style,"rounded",!1),$absArcSize$$=mxUtils.getValue(this.style,"absoluteArcSize",!1),$arcSize$$=parseFloat(mxUtils.getValue(this.style,"arcSize",this.arcSize));$absArcSize$$||($arcSize$$*=Math.min($w$$,$h$$));$arcSize$$=Math.min($arcSize$$,.5*$w$$,.5*($h$$-$dy$jscomp$33_y$$));$dx$jscomp$33_x$$=Math.max($dx$jscomp$33_x$$,$arcSize$$);$dx$jscomp$33_x$$=Math.min($w$$-$arcSize$$,$dx$jscomp$33_x$$);$rounded$$||($arcSize$$=0);$c$$.begin();"left"==$tp$$?($c$$.moveTo(Math.max($arcSize$$,
0),$dy$jscomp$33_y$$),$c$$.lineTo(Math.max($arcSize$$,0),0),$c$$.lineTo($dx$jscomp$33_x$$,0),$c$$.lineTo($dx$jscomp$33_x$$,$dy$jscomp$33_y$$)):($c$$.moveTo($w$$-$dx$jscomp$33_x$$,$dy$jscomp$33_y$$),$c$$.lineTo($w$$-$dx$jscomp$33_x$$,0),$c$$.lineTo($w$$-Math.max($arcSize$$,0),0),$c$$.lineTo($w$$-Math.max($arcSize$$,0),$dy$jscomp$33_y$$));$rounded$$?($c$$.moveTo(0,$arcSize$$+$dy$jscomp$33_y$$),$c$$.arcTo($arcSize$$,$arcSize$$,0,0,1,$arcSize$$,$dy$jscomp$33_y$$),$c$$.lineTo($w$$-$arcSize$$,$dy$jscomp$33_y$$),
$c$$.arcTo($arcSize$$,$arcSize$$,0,0,1,$w$$,$arcSize$$+$dy$jscomp$33_y$$),$c$$.lineTo($w$$,$h$$-$arcSize$$),$c$$.arcTo($arcSize$$,$arcSize$$,0,0,1,$w$$-$arcSize$$,$h$$),$c$$.lineTo($arcSize$$,$h$$),$c$$.arcTo($arcSize$$,$arcSize$$,0,0,1,0,$h$$-$arcSize$$)):($c$$.moveTo(0,$dy$jscomp$33_y$$),$c$$.lineTo($w$$,$dy$jscomp$33_y$$),$c$$.lineTo($w$$,$h$$),$c$$.lineTo(0,$h$$));$c$$.close();$c$$.fillAndStroke();$c$$.setShadow(!1);"triangle"==mxUtils.getValue(this.style,"folderSymbol",null)&&($c$$.begin(),$c$$.moveTo($w$$-
30,$dy$jscomp$33_y$$+20),$c$$.lineTo($w$$-20,$dy$jscomp$33_y$$+10),$c$$.lineTo($w$$-10,$dy$jscomp$33_y$$+20),$c$$.close(),$c$$.stroke())};mxCellRenderer.registerShape("folder",$FolderShape$$);$FolderShape$$.prototype.getLabelMargins=function($rect$$){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var $sizeY$$=mxUtils.getValue(this.style,"tabHeight",15)*this.scale;if(mxUtils.getValue(this.style,"labelInHeader",!1)){var $sizeX$$=mxUtils.getValue(this.style,"tabWidth",15)*this.scale;$sizeY$$=mxUtils.getValue(this.style,
"tabHeight",15)*this.scale;var $rounded$$=mxUtils.getValue(this.style,"rounded",!1),$absArcSize$$=mxUtils.getValue(this.style,"absoluteArcSize",!1),$arcSize$$=parseFloat(mxUtils.getValue(this.style,"arcSize",this.arcSize));$absArcSize$$||($arcSize$$*=Math.min($rect$$.width,$rect$$.height));$arcSize$$=Math.min($arcSize$$,.5*$rect$$.width,.5*($rect$$.height-$sizeY$$));$rounded$$||($arcSize$$=0);return"left"==mxUtils.getValue(this.style,"tabPosition",this.tabPosition)?new mxRectangle($arcSize$$,0,Math.min($rect$$.width,
$rect$$.width-$sizeX$$),Math.min($rect$$.height,$rect$$.height-$sizeY$$)):new mxRectangle(Math.min($rect$$.width,$rect$$.width-$sizeX$$),0,$arcSize$$,Math.min($rect$$.height,$rect$$.height-$sizeY$$))}return new mxRectangle(0,Math.min($rect$$.height,$sizeY$$),0,0)}return null};mxUtils.extend($UMLStateShape$$,mxCylinder);$UMLStateShape$$.prototype.arcSize=.1;$UMLStateShape$$.prototype.paintVertexShape=function($c$$,$arcSize$jscomp$3_x$$,$connPoint_y$$,$w$$,$h$$){$c$$.translate($arcSize$jscomp$3_x$$,
$connPoint_y$$);var $dx$jscomp$34_rounded$$=mxUtils.getValue(this.style,"rounded",!1),$absArcSize$$=mxUtils.getValue(this.style,"absoluteArcSize",!1);$arcSize$jscomp$3_x$$=parseFloat(mxUtils.getValue(this.style,"arcSize",this.arcSize));$connPoint_y$$=mxUtils.getValue(this.style,"umlStateConnection",null);$absArcSize$$||($arcSize$jscomp$3_x$$*=Math.min($w$$,$h$$));$arcSize$jscomp$3_x$$=Math.min($arcSize$jscomp$3_x$$,.5*$w$$,.5*$h$$);$dx$jscomp$34_rounded$$||($arcSize$jscomp$3_x$$=0);$dx$jscomp$34_rounded$$=
0;null!=$connPoint_y$$&&($dx$jscomp$34_rounded$$=10);$c$$.begin();$c$$.moveTo($dx$jscomp$34_rounded$$,$arcSize$jscomp$3_x$$);$c$$.arcTo($arcSize$jscomp$3_x$$,$arcSize$jscomp$3_x$$,0,0,1,$dx$jscomp$34_rounded$$+$arcSize$jscomp$3_x$$,0);$c$$.lineTo($w$$-$arcSize$jscomp$3_x$$,0);$c$$.arcTo($arcSize$jscomp$3_x$$,$arcSize$jscomp$3_x$$,0,0,1,$w$$,$arcSize$jscomp$3_x$$);$c$$.lineTo($w$$,$h$$-$arcSize$jscomp$3_x$$);$c$$.arcTo($arcSize$jscomp$3_x$$,$arcSize$jscomp$3_x$$,0,0,1,$w$$-$arcSize$jscomp$3_x$$,$h$$);
$c$$.lineTo($dx$jscomp$34_rounded$$+$arcSize$jscomp$3_x$$,$h$$);$c$$.arcTo($arcSize$jscomp$3_x$$,$arcSize$jscomp$3_x$$,0,0,1,$dx$jscomp$34_rounded$$,$h$$-$arcSize$jscomp$3_x$$);$c$$.close();$c$$.fillAndStroke();$c$$.setShadow(!1);"collapseState"==mxUtils.getValue(this.style,"umlStateSymbol",null)&&($c$$.roundrect($w$$-40,$h$$-20,10,10,3,3),$c$$.stroke(),$c$$.roundrect($w$$-20,$h$$-20,10,10,3,3),$c$$.stroke(),$c$$.begin(),$c$$.moveTo($w$$-30,$h$$-15),$c$$.lineTo($w$$-20,$h$$-15),$c$$.stroke());"connPointRefEntry"==
$connPoint_y$$?($c$$.ellipse(0,.5*$h$$-10,20,20),$c$$.fillAndStroke()):"connPointRefExit"==$connPoint_y$$&&($c$$.ellipse(0,.5*$h$$-10,20,20),$c$$.fillAndStroke(),$c$$.begin(),$c$$.moveTo(5,.5*$h$$-5),$c$$.lineTo(15,.5*$h$$+5),$c$$.moveTo(15,.5*$h$$-5),$c$$.lineTo(5,.5*$h$$+5),$c$$.stroke())};$UMLStateShape$$.prototype.getLabelMargins=function($rect$$){return mxUtils.getValue(this.style,"boundedLbl",!1)&&null!=mxUtils.getValue(this.style,"umlStateConnection",null)?new mxRectangle(10*this.scale,0,0,
0):null};mxCellRenderer.registerShape("umlState",$UMLStateShape$$);mxUtils.extend($CardShape$$,mxActor);$CardShape$$.prototype.size=30;$CardShape$$.prototype.isRoundable=function(){return!0};$CardShape$$.prototype.redrawPath=function($c$$,$s$jscomp$36_x$$,$arcSize$jscomp$4_y$$,$w$$,$h$$){$s$jscomp$36_x$$=Math.max(0,Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));$arcSize$jscomp$4_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/
2;this.addPoints($c$$,[new mxPoint($s$jscomp$36_x$$,0),new mxPoint($w$$,0),new mxPoint($w$$,$h$$),new mxPoint(0,$h$$),new mxPoint(0,$s$jscomp$36_x$$)],this.isRounded,$arcSize$jscomp$4_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("card",$CardShape$$);mxUtils.extend($TapeShape$$,mxActor);$TapeShape$$.prototype.size=.4;$TapeShape$$.prototype.redrawPath=function($c$$,$dy$jscomp$34_x$$,$y$$,$w$$,$h$$){$dy$jscomp$34_x$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));
$c$$.moveTo(0,$dy$jscomp$34_x$$/2);$c$$.quadTo($w$$/4,1.4*$dy$jscomp$34_x$$,$w$$/2,$dy$jscomp$34_x$$/2);$c$$.quadTo(3*$w$$/4,$dy$jscomp$34_x$$*(1-1.4),$w$$,$dy$jscomp$34_x$$/2);$c$$.lineTo($w$$,$h$$-$dy$jscomp$34_x$$/2);$c$$.quadTo(3*$w$$/4,$h$$-1.4*$dy$jscomp$34_x$$,$w$$/2,$h$$-$dy$jscomp$34_x$$/2);$c$$.quadTo($w$$/4,$h$$-$dy$jscomp$34_x$$*(1-1.4),0,$h$$-$dy$jscomp$34_x$$/2);$c$$.lineTo(0,$dy$jscomp$34_x$$/2);$c$$.close();$c$$.end()};$TapeShape$$.prototype.getLabelBounds=function($rect$$){if(mxUtils.getValue(this.style,
"boundedLbl",!1)){var $dx$jscomp$35_dy$jscomp$35_size$$=mxUtils.getValue(this.style,"size",this.size),$w$$=$rect$$.width,$h$$=$rect$$.height;if(null==this.direction||this.direction==mxConstants.DIRECTION_EAST||this.direction==mxConstants.DIRECTION_WEST)return $dx$jscomp$35_dy$jscomp$35_size$$*=$h$$,new mxRectangle($rect$$.x,$rect$$.y+$dx$jscomp$35_dy$jscomp$35_size$$,$w$$,$h$$-2*$dx$jscomp$35_dy$jscomp$35_size$$);$dx$jscomp$35_dy$jscomp$35_size$$*=$w$$;return new mxRectangle($rect$$.x+$dx$jscomp$35_dy$jscomp$35_size$$,
$rect$$.y,$w$$-2*$dx$jscomp$35_dy$jscomp$35_size$$,$h$$)}return $rect$$};mxCellRenderer.registerShape("tape",$TapeShape$$);mxUtils.extend($DocumentShape$$,mxActor);$DocumentShape$$.prototype.size=.3;$DocumentShape$$.prototype.getLabelMargins=function($rect$$){return mxUtils.getValue(this.style,"boundedLbl",!1)?new mxRectangle(0,0,0,parseFloat(mxUtils.getValue(this.style,"size",this.size))*$rect$$.height):null};$DocumentShape$$.prototype.redrawPath=function($c$$,$dy$jscomp$36_x$$,$y$$,$w$$,$h$$){$dy$jscomp$36_x$$=
$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$c$$.moveTo(0,0);$c$$.lineTo($w$$,0);$c$$.lineTo($w$$,$h$$-$dy$jscomp$36_x$$/2);$c$$.quadTo(3*$w$$/4,$h$$-1.4*$dy$jscomp$36_x$$,$w$$/2,$h$$-$dy$jscomp$36_x$$/2);$c$$.quadTo($w$$/4,$h$$-$dy$jscomp$36_x$$*(1-1.4),0,$h$$-$dy$jscomp$36_x$$/2);$c$$.lineTo(0,$dy$jscomp$36_x$$/2);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("document",$DocumentShape$$);var $cylinderGetCylinderSize$$=mxCylinder.prototype.getCylinderSize;
mxCylinder.prototype.getCylinderSize=function($x$$,$y$$,$w$$,$h$$){var $size$$=mxUtils.getValue(this.style,"size");return null!=$size$$?$h$$*Math.max(0,Math.min(1,$size$$)):$cylinderGetCylinderSize$$.apply(this,arguments)};mxCylinder.prototype.getLabelMargins=function($rect$$){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var $size$$=2*mxUtils.getValue(this.style,"size",.15);return new mxRectangle(0,Math.min(this.maxHeight*this.scale,$rect$$.height*$size$$),0,0)}return null};$CylinderShape3$$.prototype.getLabelMargins=
function($rect$$){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var $size$$=mxUtils.getValue(this.style,"size",15);mxUtils.getValue(this.style,"lid",!0)||($size$$/=2);return new mxRectangle(0,Math.min($rect$$.height*this.scale,2*$size$$*this.scale),0,Math.max(0,.3*$size$$*this.scale))}return null};$FolderShape$$.prototype.getLabelMargins=function($rect$$){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var $sizeY$$=mxUtils.getValue(this.style,"tabHeight",15)*this.scale;if(mxUtils.getValue(this.style,
"labelInHeader",!1)){var $sizeX$$=mxUtils.getValue(this.style,"tabWidth",15)*this.scale;$sizeY$$=mxUtils.getValue(this.style,"tabHeight",15)*this.scale;var $rounded$$=mxUtils.getValue(this.style,"rounded",!1),$absArcSize$$=mxUtils.getValue(this.style,"absoluteArcSize",!1),$arcSize$$=parseFloat(mxUtils.getValue(this.style,"arcSize",this.arcSize));$absArcSize$$||($arcSize$$*=Math.min($rect$$.width,$rect$$.height));$arcSize$$=Math.min($arcSize$$,.5*$rect$$.width,.5*($rect$$.height-$sizeY$$));$rounded$$||
($arcSize$$=0);return"left"==mxUtils.getValue(this.style,"tabPosition",this.tabPosition)?new mxRectangle($arcSize$$,0,Math.min($rect$$.width,$rect$$.width-$sizeX$$),Math.min($rect$$.height,$rect$$.height-$sizeY$$)):new mxRectangle(Math.min($rect$$.width,$rect$$.width-$sizeX$$),0,$arcSize$$,Math.min($rect$$.height,$rect$$.height-$sizeY$$))}return new mxRectangle(0,Math.min($rect$$.height,$sizeY$$),0,0)}return null};$UMLStateShape$$.prototype.getLabelMargins=function($rect$$){return mxUtils.getValue(this.style,
"boundedLbl",!1)&&null!=mxUtils.getValue(this.style,"umlStateConnection",null)?new mxRectangle(10*this.scale,0,0,0):null};$NoteShape2$$.prototype.getLabelMargins=function($rect$$){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var $size$$=mxUtils.getValue(this.style,"size",15);return new mxRectangle(0,Math.min($rect$$.height*this.scale,$size$$*this.scale),0,Math.max(0,$size$$*this.scale))}return null};mxUtils.extend($ParallelogramShape$$,mxActor);$ParallelogramShape$$.prototype.size=.2;$ParallelogramShape$$.prototype.fixedSize=
20;$ParallelogramShape$$.prototype.isRoundable=function(){return!0};$ParallelogramShape$$.prototype.redrawPath=function($c$$,$dx$jscomp$36_x$$,$arcSize$jscomp$6_y$$,$w$$,$h$$){$dx$jscomp$36_x$$="0"!=mxUtils.getValue(this.style,"fixedSize","0")?Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"size",this.fixedSize)))):$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$6_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/
2;this.addPoints($c$$,[new mxPoint(0,$h$$),new mxPoint($dx$jscomp$36_x$$,0),new mxPoint($w$$,0),new mxPoint($w$$-$dx$jscomp$36_x$$,$h$$)],this.isRounded,$arcSize$jscomp$6_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("parallelogram",$ParallelogramShape$$);mxUtils.extend($TrapezoidShape$$,mxActor);$TrapezoidShape$$.prototype.size=.2;$TrapezoidShape$$.prototype.fixedSize=20;$TrapezoidShape$$.prototype.isRoundable=function(){return!0};$TrapezoidShape$$.prototype.redrawPath=function($c$$,$dx$jscomp$37_x$$,
$arcSize$jscomp$7_y$$,$w$$,$h$$){$dx$jscomp$37_x$$="0"!=mxUtils.getValue(this.style,"fixedSize","0")?Math.max(0,Math.min(.5*$w$$,parseFloat(mxUtils.getValue(this.style,"size",this.fixedSize)))):$w$$*Math.max(0,Math.min(.5,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$7_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,$h$$),new mxPoint($dx$jscomp$37_x$$,0),new mxPoint($w$$-$dx$jscomp$37_x$$,0),new mxPoint($w$$,
$h$$)],this.isRounded,$arcSize$jscomp$7_y$$,!0)};mxCellRenderer.registerShape("trapezoid",$TrapezoidShape$$);mxUtils.extend($CurlyBracketShape$$,mxActor);$CurlyBracketShape$$.prototype.size=.5;$CurlyBracketShape$$.prototype.redrawPath=function($c$$,$s$jscomp$37_x$$,$arcSize$jscomp$8_y$$,$w$$,$h$$){$c$$.setFillColor(null);$s$jscomp$37_x$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$8_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,
mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint($w$$,0),new mxPoint($s$jscomp$37_x$$,0),new mxPoint($s$jscomp$37_x$$,$h$$/2),new mxPoint(0,$h$$/2),new mxPoint($s$jscomp$37_x$$,$h$$/2),new mxPoint($s$jscomp$37_x$$,$h$$),new mxPoint($w$$,$h$$)],this.isRounded,$arcSize$jscomp$8_y$$,!1);$c$$.end()};mxCellRenderer.registerShape("curlyBracket",$CurlyBracketShape$$);mxUtils.extend($ParallelMarkerShape$$,mxActor);$ParallelMarkerShape$$.prototype.redrawPath=function($c$$,$w2_x$$,$y$$,$w$$,$h$$){$c$$.setStrokeWidth(1);
$c$$.setFillColor(this.stroke);$w2_x$$=$w$$/5;$c$$.rect(0,0,$w2_x$$,$h$$);$c$$.fillAndStroke();$c$$.rect(2*$w2_x$$,0,$w2_x$$,$h$$);$c$$.fillAndStroke();$c$$.rect(4*$w2_x$$,0,$w2_x$$,$h$$);$c$$.fillAndStroke()};mxCellRenderer.registerShape("parallelMarker",$ParallelMarkerShape$$);$HandJiggle$$.prototype.moveTo=function($endX$$,$endY$$){this.originalMoveTo.apply(this.canvas,arguments);this.lastX=$endX$$;this.lastY=$endY$$;this.firstX=$endX$$;this.firstY=$endY$$};$HandJiggle$$.prototype.close=function(){null!=
this.firstX&&null!=this.firstY&&(this.lineTo(this.firstX,this.firstY),this.originalClose.apply(this.canvas,arguments));this.originalClose.apply(this.canvas,arguments)};$HandJiggle$$.prototype.quadTo=function($x1$$,$y1$$,$x2$$,$y2$$){this.originalQuadTo.apply(this.canvas,arguments);this.lastX=$x2$$;this.lastY=$y2$$};$HandJiggle$$.prototype.curveTo=function($x1$$,$y1$$,$x2$$,$y2$$,$x3$$,$y3$$){this.originalCurveTo.apply(this.canvas,arguments);this.lastX=$x3$$;this.lastY=$y3$$};$HandJiggle$$.prototype.arcTo=
function($rx$$,$ry$$,$angle$$,$largeArcFlag$$,$sweepFlag$$,$x$$,$y$$){this.originalArcTo.apply(this.canvas,arguments);this.lastX=$x$$;this.lastY=$y$$};$HandJiggle$$.prototype.lineTo=function($endX$$,$endY$$){if(null!=this.lastX&&null!=this.lastY){var $sign_stepY$$=function($x$$){return"number"===typeof $x$$?$x$$?0>$x$$?-1:1:$x$$===$x$$?0:NaN:NaN},$dx$jscomp$38_fx$$=Math.abs($endX$$-this.lastX),$dy$jscomp$37_fy$$=Math.abs($endY$$-this.lastY),$dist$jscomp$3_s$$=Math.sqrt($dx$jscomp$38_fx$$*$dx$jscomp$38_fx$$+
$dy$jscomp$37_fy$$*$dy$jscomp$37_fy$$);if(2>$dist$jscomp$3_s$$){this.originalLineTo.apply(this.canvas,arguments);this.lastX=$endX$$;this.lastY=$endY$$;return}var $segs$$=Math.round($dist$jscomp$3_s$$/10),$variation$$=this.defaultVariation;5>$segs$$&&($segs$$=5,$variation$$/=3);var $stepX$$=$sign_stepY$$($endX$$-this.lastX)*$dx$jscomp$38_fx$$/$segs$$;$sign_stepY$$=$sign_stepY$$($endY$$-this.lastY)*$dy$jscomp$37_fy$$/$segs$$;$dx$jscomp$38_fx$$/=$dist$jscomp$3_s$$;$dy$jscomp$37_fy$$/=$dist$jscomp$3_s$$;
for($dist$jscomp$3_s$$=0;$dist$jscomp$3_s$$<$segs$$;$dist$jscomp$3_s$$++){var $offset$$=(Math.random()-.5)*$variation$$;this.originalLineTo.call(this.canvas,$stepX$$*$dist$jscomp$3_s$$+this.lastX-$offset$$*$dy$jscomp$37_fy$$,$sign_stepY$$*$dist$jscomp$3_s$$+this.lastY-$offset$$*$dx$jscomp$38_fx$$)}this.originalLineTo.call(this.canvas,$endX$$,$endY$$)}else this.originalLineTo.apply(this.canvas,arguments);this.lastX=$endX$$;this.lastY=$endY$$};$HandJiggle$$.prototype.destroy=function(){this.canvas.lineTo=
this.originalLineTo;this.canvas.moveTo=this.originalMoveTo;this.canvas.close=this.originalClose;this.canvas.quadTo=this.originalQuadTo;this.canvas.curveTo=this.originalCurveTo;this.canvas.arcTo=this.originalArcTo};var $shapeBeforePaint$$=mxShape.prototype.beforePaint;mxShape.prototype.beforePaint=function($c$$){$shapeBeforePaint$$.apply(this,arguments);null==$c$$.handJiggle&&($c$$.handJiggle=this.createHandJiggle($c$$))};var $shapeAfterPaint$$=mxShape.prototype.afterPaint;mxShape.prototype.afterPaint=
function($c$$){$shapeAfterPaint$$.apply(this,arguments);null!=$c$$.handJiggle&&($c$$.handJiggle.destroy(),delete $c$$.handJiggle)};mxShape.prototype.createComicCanvas=function($c$$){return new $HandJiggle$$($c$$,mxUtils.getValue(this.style,"jiggle",Editor.sketchDefaultJiggle))};mxShape.prototype.createHandJiggle=function($c$$){return this.outline||null==this.style||"0"==mxUtils.getValue(this.style,"comic","0")?null:this.createComicCanvas($c$$)};var $mxRectangleShapeIsHtmlAllowed0$$=mxRectangleShape.prototype.isHtmlAllowed;
mxRectangleShape.prototype.isHtmlAllowed=function(){return!this.outline&&(null==this.style||"0"==mxUtils.getValue(this.style,"comic","0")&&"0"==mxUtils.getValue(this.style,"sketch","1"==urlParams.rough?"1":"0"))&&$mxRectangleShapeIsHtmlAllowed0$$.apply(this,arguments)};var $mxRectangleShapePaintBackground0$$=mxRectangleShape.prototype.paintBackground;mxRectangleShape.prototype.paintBackground=function($c$$,$x$$,$y$$,$w$$,$h$$){if(null==$c$$.handJiggle||$c$$.handJiggle.constructor!=$HandJiggle$$)$mxRectangleShapePaintBackground0$$.apply(this,
arguments);else{var $events$jscomp$1_f$jscomp$10_r$$=!0;null!=this.style&&($events$jscomp$1_f$jscomp$10_r$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1"));if($events$jscomp$1_f$jscomp$10_r$$||null!=this.fill&&this.fill!=mxConstants.NONE||null!=this.stroke&&this.stroke!=mxConstants.NONE)$events$jscomp$1_f$jscomp$10_r$$||null!=this.fill&&this.fill!=mxConstants.NONE||($c$$.pointerEvents=!1),$c$$.begin(),this.isRounded?("1"==mxUtils.getValue(this.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,
0)?$events$jscomp$1_f$jscomp$10_r$$=Math.min($w$$/2,Math.min($h$$/2,mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2)):($events$jscomp$1_f$jscomp$10_r$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100,$events$jscomp$1_f$jscomp$10_r$$=Math.min($w$$*$events$jscomp$1_f$jscomp$10_r$$,$h$$*$events$jscomp$1_f$jscomp$10_r$$)),$c$$.moveTo($x$$+$events$jscomp$1_f$jscomp$10_r$$,$y$$),$c$$.lineTo($x$$+$w$$-$events$jscomp$1_f$jscomp$10_r$$,
$y$$),$c$$.quadTo($x$$+$w$$,$y$$,$x$$+$w$$,$y$$+$events$jscomp$1_f$jscomp$10_r$$),$c$$.lineTo($x$$+$w$$,$y$$+$h$$-$events$jscomp$1_f$jscomp$10_r$$),$c$$.quadTo($x$$+$w$$,$y$$+$h$$,$x$$+$w$$-$events$jscomp$1_f$jscomp$10_r$$,$y$$+$h$$),$c$$.lineTo($x$$+$events$jscomp$1_f$jscomp$10_r$$,$y$$+$h$$),$c$$.quadTo($x$$,$y$$+$h$$,$x$$,$y$$+$h$$-$events$jscomp$1_f$jscomp$10_r$$),$c$$.lineTo($x$$,$y$$+$events$jscomp$1_f$jscomp$10_r$$),$c$$.quadTo($x$$,$y$$,$x$$+$events$jscomp$1_f$jscomp$10_r$$,$y$$)):($c$$.moveTo($x$$,
$y$$),$c$$.lineTo($x$$+$w$$,$y$$),$c$$.lineTo($x$$+$w$$,$y$$+$h$$),$c$$.lineTo($x$$,$y$$+$h$$),$c$$.lineTo($x$$,$y$$)),$c$$.close(),$c$$.end(),$c$$.fillAndStroke()}};mxUtils.extend($ProcessShape$$,mxRectangleShape);$ProcessShape$$.prototype.size=.1;$ProcessShape$$.prototype.fixedSize=!1;$ProcessShape$$.prototype.isHtmlAllowed=function(){return!1};$ProcessShape$$.prototype.getLabelBounds=function($r$jscomp$10_rect$$){if(mxUtils.getValue(this.state.style,mxConstants.STYLE_HORIZONTAL,!0)==(null==this.direction||
this.direction==mxConstants.DIRECTION_EAST||this.direction==mxConstants.DIRECTION_WEST)){var $w$$=$r$jscomp$10_rect$$.width,$h$$=$r$jscomp$10_rect$$.height;$r$jscomp$10_rect$$=new mxRectangle($r$jscomp$10_rect$$.x,$r$jscomp$10_rect$$.y,$w$$,$h$$);var $inset$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));if(this.isRounded){var $f$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;$inset$$=Math.max($inset$$,
Math.min($w$$*$f$$,$h$$*$f$$))}$r$jscomp$10_rect$$.x+=Math.round($inset$$);$r$jscomp$10_rect$$.width-=Math.round(2*$inset$$);return $r$jscomp$10_rect$$}return $r$jscomp$10_rect$$};$ProcessShape$$.prototype.paintForeground=function($c$$,$x$$,$y$$,$w$$,$h$$){var $f$$=mxUtils.getValue(this.style,"fixedSize",this.fixedSize),$inset$$=parseFloat(mxUtils.getValue(this.style,"size",this.size));$inset$$=$f$$?Math.max(0,Math.min($w$$,$inset$$)):$w$$*Math.max(0,Math.min(1,$inset$$));this.isRounded&&($f$$=mxUtils.getValue(this.style,
mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100,$inset$$=Math.max($inset$$,Math.min($w$$*$f$$,$h$$*$f$$)));$inset$$=Math.round($inset$$);$c$$.begin();$c$$.moveTo($x$$+$inset$$,$y$$);$c$$.lineTo($x$$+$inset$$,$y$$+$h$$);$c$$.moveTo($x$$+$w$$-$inset$$,$y$$);$c$$.lineTo($x$$+$w$$-$inset$$,$y$$+$h$$);$c$$.end();$c$$.stroke();mxRectangleShape.prototype.paintForeground.apply(this,arguments)};mxCellRenderer.registerShape("process",$ProcessShape$$);mxCellRenderer.registerShape("process2",
$ProcessShape$$);mxUtils.extend($TransparentShape$$,mxRectangleShape);$TransparentShape$$.prototype.paintBackground=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.setFillColor(mxConstants.NONE);$c$$.rect($x$$,$y$$,$w$$,$h$$);$c$$.fill()};$TransparentShape$$.prototype.paintForeground=function($c$$,$x$$,$y$$,$w$$,$h$$){};mxCellRenderer.registerShape("transparent",$TransparentShape$$);mxUtils.extend($CalloutShape$$,mxHexagon);$CalloutShape$$.prototype.size=30;$CalloutShape$$.prototype.position=.5;$CalloutShape$$.prototype.position2=
.5;$CalloutShape$$.prototype.base=20;$CalloutShape$$.prototype.getLabelMargins=function(){return new mxRectangle(0,0,0,parseFloat(mxUtils.getValue(this.style,"size",this.size))*this.scale)};$CalloutShape$$.prototype.isRoundable=function(){return!0};$CalloutShape$$.prototype.redrawPath=function($c$$,$arcSize$jscomp$9_x$$,$s$jscomp$39_y$$,$w$$,$h$$){$arcSize$jscomp$9_x$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;$s$jscomp$39_y$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,
"size",this.size))));var $dx$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"position",this.position)))),$dx2$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"position2",this.position2)))),$base$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"base",this.base))));this.addPoints($c$$,[new mxPoint(0,0),new mxPoint($w$$,0),new mxPoint($w$$,$h$$-$s$jscomp$39_y$$),new mxPoint(Math.min($w$$,$dx$$+$base$$),$h$$-$s$jscomp$39_y$$),new mxPoint($dx2$$,
$h$$),new mxPoint(Math.max(0,$dx$$),$h$$-$s$jscomp$39_y$$),new mxPoint(0,$h$$-$s$jscomp$39_y$$)],this.isRounded,$arcSize$jscomp$9_x$$,!0,[4])};mxCellRenderer.registerShape("callout",$CalloutShape$$);mxUtils.extend($StepShape$$,mxActor);$StepShape$$.prototype.size=.2;$StepShape$$.prototype.fixedSize=20;$StepShape$$.prototype.isRoundable=function(){return!0};$StepShape$$.prototype.redrawPath=function($c$$,$s$jscomp$40_x$$,$arcSize$jscomp$10_y$$,$w$$,$h$$){$s$jscomp$40_x$$="0"!=mxUtils.getValue(this.style,
"fixedSize","0")?Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"size",this.fixedSize)))):$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$10_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,0),new mxPoint($w$$-$s$jscomp$40_x$$,0),new mxPoint($w$$,$h$$/2),new mxPoint($w$$-$s$jscomp$40_x$$,$h$$),new mxPoint(0,$h$$),new mxPoint($s$jscomp$40_x$$,$h$$/2)],this.isRounded,
$arcSize$jscomp$10_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("step",$StepShape$$);mxUtils.extend($HexagonShape$$,mxHexagon);$HexagonShape$$.prototype.size=.25;$HexagonShape$$.prototype.fixedSize=20;$HexagonShape$$.prototype.isRoundable=function(){return!0};$HexagonShape$$.prototype.redrawPath=function($c$$,$s$jscomp$41_x$$,$arcSize$jscomp$11_y$$,$w$$,$h$$){$s$jscomp$41_x$$="0"!=mxUtils.getValue(this.style,"fixedSize","0")?Math.max(0,Math.min(.5*$w$$,parseFloat(mxUtils.getValue(this.style,"size",
this.fixedSize)))):$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$11_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint($s$jscomp$41_x$$,0),new mxPoint($w$$-$s$jscomp$41_x$$,0),new mxPoint($w$$,.5*$h$$),new mxPoint($w$$-$s$jscomp$41_x$$,$h$$),new mxPoint($s$jscomp$41_x$$,$h$$),new mxPoint(0,.5*$h$$)],this.isRounded,$arcSize$jscomp$11_y$$,!0)};mxCellRenderer.registerShape("hexagon",
$HexagonShape$$);mxUtils.extend($PlusShape$$,mxRectangleShape);$PlusShape$$.prototype.isHtmlAllowed=function(){return!1};$PlusShape$$.prototype.paintForeground=function($c$$,$x$$,$y$$,$w$$,$h$$){var $border$$=Math.min($w$$/5,$h$$/5)+1;$c$$.begin();$c$$.moveTo($x$$+$w$$/2,$y$$+$border$$);$c$$.lineTo($x$$+$w$$/2,$y$$+$h$$-$border$$);$c$$.moveTo($x$$+$border$$,$y$$+$h$$/2);$c$$.lineTo($x$$+$w$$-$border$$,$y$$+$h$$/2);$c$$.end();$c$$.stroke();mxRectangleShape.prototype.paintForeground.apply(this,arguments)};
mxCellRenderer.registerShape("plus",$PlusShape$$);var $mxRhombusPaintVertexShape$$=mxRhombus.prototype.paintVertexShape;mxRhombus.prototype.getLabelBounds=function($rect$$){if(1==this.style["double"]){var $margin$$=(2*Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0))*this.scale;return new mxRectangle($rect$$.x+$margin$$,$rect$$.y+$margin$$,$rect$$.width-2*$margin$$,$rect$$.height-2*$margin$$)}return $rect$$};mxRhombus.prototype.paintVertexShape=function($c$$,$x$$,
$y$$,$w$$,$h$$){$mxRhombusPaintVertexShape$$.apply(this,arguments);if(!this.outline&&1==this.style["double"]){var $margin$$=2*Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0);$x$$+=$margin$$;$y$$+=$margin$$;$w$$-=2*$margin$$;$h$$-=2*$margin$$;0<$w$$&&0<$h$$&&($c$$.setShadow(!1),$mxRhombusPaintVertexShape$$.apply(this,[$c$$,$x$$,$y$$,$w$$,$h$$]))}};mxUtils.extend($ExtendedShape$$,mxRectangleShape);$ExtendedShape$$.prototype.isHtmlAllowed=function(){return!1};$ExtendedShape$$.prototype.getLabelBounds=
function($rect$$){if(1==this.style["double"]){var $margin$$=(Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0))*this.scale;return new mxRectangle($rect$$.x+$margin$$,$rect$$.y+$margin$$,$rect$$.width-2*$margin$$,$rect$$.height-2*$margin$$)}return $rect$$};$ExtendedShape$$.prototype.paintForeground=function($c$$,$x$$,$y$$,$w$$,$h$$){if(null!=this.style){if(!this.outline&&1==this.style["double"]){var $counter$jscomp$1_margin$$=Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||
0);$x$$+=$counter$jscomp$1_margin$$;$y$$+=$counter$jscomp$1_margin$$;$w$$-=2*$counter$jscomp$1_margin$$;$h$$-=2*$counter$jscomp$1_margin$$;0<$w$$&&0<$h$$&&mxRectangleShape.prototype.paintBackground.apply(this,arguments)}$c$$.setDashed(!1);$counter$jscomp$1_margin$$=0;do{var $shape$$=mxCellRenderer.defaultShapes[this.style["symbol"+$counter$jscomp$1_margin$$]];if(null!=$shape$$){var $align$jscomp$3_tmp$$=this.style["symbol"+$counter$jscomp$1_margin$$+"Align"],$valign$$=this.style["symbol"+$counter$jscomp$1_margin$$+
"VerticalAlign"],$width$$=this.style["symbol"+$counter$jscomp$1_margin$$+"Width"],$height$$=this.style["symbol"+$counter$jscomp$1_margin$$+"Height"],$spacing$$=this.style["symbol"+$counter$jscomp$1_margin$$+"Spacing"]||0,$vspacing$$=this.style["symbol"+$counter$jscomp$1_margin$$+"VSpacing"]||$spacing$$,$arcSize$jscomp$12_arcspacing_x2$$=this.style["symbol"+$counter$jscomp$1_margin$$+"ArcSpacing"];null!=$arcSize$jscomp$12_arcspacing_x2$$&&($arcSize$jscomp$12_arcspacing_x2$$*=this.getArcSize($w$$+this.strokewidth,
$h$$+this.strokewidth),$spacing$$+=$arcSize$jscomp$12_arcspacing_x2$$,$vspacing$$+=$arcSize$jscomp$12_arcspacing_x2$$);$arcSize$jscomp$12_arcspacing_x2$$=$x$$;var $y2$$=$y$$;$arcSize$jscomp$12_arcspacing_x2$$=$align$jscomp$3_tmp$$==mxConstants.ALIGN_CENTER?$arcSize$jscomp$12_arcspacing_x2$$+($w$$-$width$$)/2:$align$jscomp$3_tmp$$==mxConstants.ALIGN_RIGHT?$arcSize$jscomp$12_arcspacing_x2$$+($w$$-$width$$-$spacing$$):$arcSize$jscomp$12_arcspacing_x2$$+$spacing$$;$y2$$=$valign$$==mxConstants.ALIGN_MIDDLE?
$y2$$+($h$$-$height$$)/2:$valign$$==mxConstants.ALIGN_BOTTOM?$y2$$+($h$$-$height$$-$vspacing$$):$y2$$+$vspacing$$;$c$$.save();$align$jscomp$3_tmp$$=new $shape$$;$align$jscomp$3_tmp$$.style=this.style;$shape$$.prototype.paintVertexShape.call($align$jscomp$3_tmp$$,$c$$,$arcSize$jscomp$12_arcspacing_x2$$,$y2$$,$width$$,$height$$);$c$$.restore()}$counter$jscomp$1_margin$$++}while(null!=$shape$$)}mxRectangleShape.prototype.paintForeground.apply(this,arguments)};mxCellRenderer.registerShape("ext",$ExtendedShape$$);
mxUtils.extend($MessageShape$$,mxCylinder);$MessageShape$$.prototype.redrawPath=function($path$$,$x$$,$y$$,$w$$,$h$$,$isForeground$$){$isForeground$$?($path$$.moveTo(0,0),$path$$.lineTo($w$$/2,$h$$/2),$path$$.lineTo($w$$,0),$path$$.end()):($path$$.moveTo(0,0),$path$$.lineTo($w$$,0),$path$$.lineTo($w$$,$h$$),$path$$.lineTo(0,$h$$),$path$$.close())};mxCellRenderer.registerShape("message",$MessageShape$$);mxUtils.extend($UmlActorShape$$,mxShape);$UmlActorShape$$.prototype.paintBackground=function($c$$,
$x$$,$y$$,$w$$,$h$$){$c$$.translate($x$$,$y$$);$c$$.ellipse($w$$/4,0,$w$$/2,$h$$/4);$c$$.fillAndStroke();$c$$.begin();$c$$.moveTo($w$$/2,$h$$/4);$c$$.lineTo($w$$/2,2*$h$$/3);$c$$.moveTo($w$$/2,$h$$/3);$c$$.lineTo(0,$h$$/3);$c$$.moveTo($w$$/2,$h$$/3);$c$$.lineTo($w$$,$h$$/3);$c$$.moveTo($w$$/2,2*$h$$/3);$c$$.lineTo(0,$h$$);$c$$.moveTo($w$$/2,2*$h$$/3);$c$$.lineTo($w$$,$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("umlActor",$UmlActorShape$$);mxUtils.extend($UmlBoundaryShape$$,mxShape);
$UmlBoundaryShape$$.prototype.getLabelMargins=function($rect$$){return new mxRectangle($rect$$.width/6,0,0,0)};$UmlBoundaryShape$$.prototype.paintBackground=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo(0,$h$$/4);$c$$.lineTo(0,3*$h$$/4);$c$$.end();$c$$.stroke();$c$$.begin();$c$$.moveTo(0,$h$$/2);$c$$.lineTo($w$$/6,$h$$/2);$c$$.end();$c$$.stroke();$c$$.ellipse($w$$/6,0,5*$w$$/6,$h$$);$c$$.fillAndStroke()};mxCellRenderer.registerShape("umlBoundary",$UmlBoundaryShape$$);
mxUtils.extend($UmlEntityShape$$,mxEllipse);$UmlEntityShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){mxEllipse.prototype.paintVertexShape.apply(this,arguments);$c$$.begin();$c$$.moveTo($x$$+$w$$/8,$y$$+$h$$);$c$$.lineTo($x$$+7*$w$$/8,$y$$+$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("umlEntity",$UmlEntityShape$$);mxUtils.extend($UmlDestroyShape$$,mxShape);$UmlDestroyShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.translate($x$$,$y$$);
$c$$.begin();$c$$.moveTo($w$$,0);$c$$.lineTo(0,$h$$);$c$$.moveTo(0,0);$c$$.lineTo($w$$,$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("umlDestroy",$UmlDestroyShape$$);mxUtils.extend($UmlControlShape$$,mxShape);$UmlControlShape$$.prototype.getLabelBounds=function($rect$$){return new mxRectangle($rect$$.x,$rect$$.y+$rect$$.height/8,$rect$$.width,7*$rect$$.height/8)};$UmlControlShape$$.prototype.paintBackground=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo(3*
$w$$/8,$h$$/8*1.1);$c$$.lineTo(5*$w$$/8,0);$c$$.end();$c$$.stroke();$c$$.ellipse(0,$h$$/8,$w$$,7*$h$$/8);$c$$.fillAndStroke()};$UmlControlShape$$.prototype.paintForeground=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.begin();$c$$.moveTo(3*$w$$/8,$h$$/8*1.1);$c$$.lineTo(5*$w$$/8,$h$$/4);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("umlControl",$UmlControlShape$$);mxUtils.extend($UmlLifeline$$,mxRectangleShape);$UmlLifeline$$.prototype.size=40;$UmlLifeline$$.prototype.isHtmlAllowed=function(){return!1};
$UmlLifeline$$.prototype.getLabelBounds=function($rect$$){var $size$$=Math.max(0,Math.min($rect$$.height,parseFloat(mxUtils.getValue(this.style,"size",this.size))*this.scale));return new mxRectangle($rect$$.x,$rect$$.y,$rect$$.width,$size$$)};$UmlLifeline$$.prototype.paintBackground=function($c$$,$x$$,$y$$,$w$$,$h$$){var $size$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),$ctor_participant_shape$$=mxUtils.getValue(this.style,"participant");null==$ctor_participant_shape$$||
null==this.state?mxRectangleShape.prototype.paintBackground.call(this,$c$$,$x$$,$y$$,$w$$,$size$$):($ctor_participant_shape$$=this.state.view.graph.cellRenderer.getShape($ctor_participant_shape$$),null!=$ctor_participant_shape$$&&$ctor_participant_shape$$!=$UmlLifeline$$&&($ctor_participant_shape$$=new $ctor_participant_shape$$,$ctor_participant_shape$$.apply(this.state),$c$$.save(),$ctor_participant_shape$$.paintVertexShape($c$$,$x$$,$y$$,$w$$,$size$$),$c$$.restore()));$size$$<$h$$&&($c$$.setDashed("1"==
mxUtils.getValue(this.style,"lifelineDashed","1")),$c$$.begin(),$c$$.moveTo($x$$+$w$$/2,$y$$+$size$$),$c$$.lineTo($x$$+$w$$/2,$y$$+$h$$),$c$$.end(),$c$$.stroke())};$UmlLifeline$$.prototype.paintForeground=function($c$$,$x$$,$y$$,$w$$,$h$$){var $size$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size))));mxRectangleShape.prototype.paintForeground.call(this,$c$$,$x$$,$y$$,$w$$,Math.min($h$$,$size$$))};mxCellRenderer.registerShape("umlLifeline",$UmlLifeline$$);mxUtils.extend($UmlFrame$$,
mxShape);$UmlFrame$$.prototype.width=60;$UmlFrame$$.prototype.height=30;$UmlFrame$$.prototype.corner=10;$UmlFrame$$.prototype.configurePointerEvents=function($c$$){var $bg$$=mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_FILLCOLOR,mxConstants.NONE);null==this.style||null!=$bg$$&&$bg$$!=mxConstants.NONE&&0!=this.opacity&&0!=this.fillOpacity||"0"!=mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1")||($c$$.pointerEvents=!1)};$UmlFrame$$.prototype.getLabelMargins=function($rect$$){return new mxRectangle(0,
0,$rect$$.width-parseFloat(mxUtils.getValue(this.style,"width",this.width)*this.scale),$rect$$.height-parseFloat(mxUtils.getValue(this.style,"height",this.height)*this.scale))};$UmlFrame$$.prototype.paintBackground=function($c$$,$x$$,$y$$,$w$$,$h$$){var $co$$=this.corner,$w0$$=Math.min($w$$,Math.max($co$$,parseFloat(mxUtils.getValue(this.style,"width",this.width)))),$h0$$=Math.min($h$$,Math.max(1.5*$co$$,parseFloat(mxUtils.getValue(this.style,"height",this.height)))),$bg$$=mxUtils.getValue(this.style,
mxConstants.STYLE_SWIMLANE_FILLCOLOR,mxConstants.NONE);$bg$$!=mxConstants.NONE&&($c$$.setFillColor($bg$$),$c$$.rect($x$$,$y$$,$w$$,$h$$),$c$$.fill());null!=this.fill&&this.fill!=mxConstants.NONE&&this.gradient&&this.gradient!=mxConstants.NONE?(this.getGradientBounds($c$$,$x$$,$y$$,$w$$,$h$$),$c$$.setGradient(this.fill,this.gradient,$x$$,$y$$,$w$$,$h$$,this.gradientDirection)):$c$$.setFillColor(this.fill);$c$$.pointerEvents=!0;$c$$.begin();$c$$.moveTo($x$$,$y$$);$c$$.lineTo($x$$+$w0$$,$y$$);$c$$.lineTo($x$$+
$w0$$,$y$$+Math.max(0,$h0$$-1.5*$co$$));$c$$.lineTo($x$$+Math.max(0,$w0$$-$co$$),$y$$+$h0$$);$c$$.lineTo($x$$,$y$$+$h0$$);$c$$.close();$c$$.fillAndStroke();this.configurePointerEvents($c$$);$c$$.begin();$c$$.moveTo($x$$+$w0$$,$y$$);$c$$.lineTo($x$$+$w$$,$y$$);$c$$.lineTo($x$$+$w$$,$y$$+$h$$);$c$$.lineTo($x$$,$y$$+$h$$);$c$$.lineTo($x$$,$y$$+$h0$$);$c$$.stroke()};mxCellRenderer.registerShape("umlFrame",$UmlFrame$$);mxPerimeter.CenterPerimeter=function($bounds$$,$vertex$$,$next$$,$orthogonal$$){return new mxPoint($bounds$$.getCenterX(),
$bounds$$.getCenterY())};mxStyleRegistry.putValue("centerPerimeter",mxPerimeter.CenterPerimeter);mxPerimeter.LifelinePerimeter=function($bounds$$,$sw$jscomp$8_vertex$$,$next$$,$orthogonal$jscomp$1_size$$){$orthogonal$jscomp$1_size$$=$UmlLifeline$$.prototype.size;null!=$sw$jscomp$8_vertex$$&&($orthogonal$jscomp$1_size$$=mxUtils.getValue($sw$jscomp$8_vertex$$.style,"size",$orthogonal$jscomp$1_size$$)*$sw$jscomp$8_vertex$$.view.scale);$sw$jscomp$8_vertex$$=parseFloat($sw$jscomp$8_vertex$$.style[mxConstants.STYLE_STROKEWIDTH]||
1)*$sw$jscomp$8_vertex$$.view.scale/2-1;$next$$.x<$bounds$$.getCenterX()&&($sw$jscomp$8_vertex$$=-1*($sw$jscomp$8_vertex$$+1));return new mxPoint($bounds$$.getCenterX()+$sw$jscomp$8_vertex$$,Math.min($bounds$$.y+$bounds$$.height,Math.max($bounds$$.y+$orthogonal$jscomp$1_size$$,$next$$.y)))};mxStyleRegistry.putValue("lifelinePerimeter",mxPerimeter.LifelinePerimeter);mxPerimeter.OrthogonalPerimeter=function($bounds$$,$vertex$$,$next$$,$orthogonal$$){$orthogonal$$=!0;return mxPerimeter.RectanglePerimeter.apply(this,
arguments)};mxStyleRegistry.putValue("orthogonalPerimeter",mxPerimeter.OrthogonalPerimeter);mxPerimeter.BackbonePerimeter=function($bounds$$,$vertex$$,$next$$,$orthogonal$jscomp$3_sw$$){$orthogonal$jscomp$3_sw$$=parseFloat($vertex$$.style[mxConstants.STYLE_STROKEWIDTH]||1)*$vertex$$.view.scale/2-1;null!=$vertex$$.style.backboneSize&&($orthogonal$jscomp$3_sw$$+=parseFloat($vertex$$.style.backboneSize)*$vertex$$.view.scale/2-1);if("south"==$vertex$$.style[mxConstants.STYLE_DIRECTION]||"north"==$vertex$$.style[mxConstants.STYLE_DIRECTION])return $next$$.x<
$bounds$$.getCenterX()&&($orthogonal$jscomp$3_sw$$=-1*($orthogonal$jscomp$3_sw$$+1)),new mxPoint($bounds$$.getCenterX()+$orthogonal$jscomp$3_sw$$,Math.min($bounds$$.y+$bounds$$.height,Math.max($bounds$$.y,$next$$.y)));$next$$.y<$bounds$$.getCenterY()&&($orthogonal$jscomp$3_sw$$=-1*($orthogonal$jscomp$3_sw$$+1));return new mxPoint(Math.min($bounds$$.x+$bounds$$.width,Math.max($bounds$$.x,$next$$.x)),$bounds$$.getCenterY()+$orthogonal$jscomp$3_sw$$)};mxStyleRegistry.putValue("backbonePerimeter",mxPerimeter.BackbonePerimeter);
mxPerimeter.CalloutPerimeter=function($bounds$$,$vertex$$,$next$$,$orthogonal$$){return mxPerimeter.RectanglePerimeter(mxUtils.getDirectedBounds($bounds$$,new mxRectangle(0,0,0,Math.max(0,Math.min($bounds$$.height,parseFloat(mxUtils.getValue($vertex$$.style,"size",$CalloutShape$$.prototype.size))*$vertex$$.view.scale))),$vertex$$.style),$vertex$$,$next$$,$orthogonal$$)};mxStyleRegistry.putValue("calloutPerimeter",mxPerimeter.CalloutPerimeter);mxPerimeter.ParallelogramPerimeter=function($bounds$jscomp$27_cy$jscomp$7_p1$$,
$direction$jscomp$12_vertex$$,$next$$,$orthogonal$$){var $dx$jscomp$40_dy$jscomp$38_fixed$$="0"!=mxUtils.getValue($direction$jscomp$12_vertex$$.style,"fixedSize","0"),$size$$=$dx$jscomp$40_dy$jscomp$38_fixed$$?$ParallelogramShape$$.prototype.fixedSize:$ParallelogramShape$$.prototype.size;null!=$direction$jscomp$12_vertex$$&&($size$$=mxUtils.getValue($direction$jscomp$12_vertex$$.style,"size",$size$$));$dx$jscomp$40_dy$jscomp$38_fixed$$&&($size$$*=$direction$jscomp$12_vertex$$.view.scale);var $x$$=
$bounds$jscomp$27_cy$jscomp$7_p1$$.x,$points_y$$=$bounds$jscomp$27_cy$jscomp$7_p1$$.y,$w$$=$bounds$jscomp$27_cy$jscomp$7_p1$$.width,$cx$jscomp$7_h$$=$bounds$jscomp$27_cy$jscomp$7_p1$$.height;$direction$jscomp$12_vertex$$=null!=$direction$jscomp$12_vertex$$?mxUtils.getValue($direction$jscomp$12_vertex$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;$direction$jscomp$12_vertex$$==mxConstants.DIRECTION_NORTH||$direction$jscomp$12_vertex$$==mxConstants.DIRECTION_SOUTH?
($dx$jscomp$40_dy$jscomp$38_fixed$$=$dx$jscomp$40_dy$jscomp$38_fixed$$?Math.max(0,Math.min($cx$jscomp$7_h$$,$size$$)):$cx$jscomp$7_h$$*Math.max(0,Math.min(1,$size$$)),$points_y$$=[new mxPoint($x$$,$points_y$$),new mxPoint($x$$+$w$$,$points_y$$+$dx$jscomp$40_dy$jscomp$38_fixed$$),new mxPoint($x$$+$w$$,$points_y$$+$cx$jscomp$7_h$$),new mxPoint($x$$,$points_y$$+$cx$jscomp$7_h$$-$dx$jscomp$40_dy$jscomp$38_fixed$$),new mxPoint($x$$,$points_y$$)]):($dx$jscomp$40_dy$jscomp$38_fixed$$=$dx$jscomp$40_dy$jscomp$38_fixed$$?
Math.max(0,Math.min(.5*$w$$,$size$$)):$w$$*Math.max(0,Math.min(1,$size$$)),$points_y$$=[new mxPoint($x$$+$dx$jscomp$40_dy$jscomp$38_fixed$$,$points_y$$),new mxPoint($x$$+$w$$,$points_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$40_dy$jscomp$38_fixed$$,$points_y$$+$cx$jscomp$7_h$$),new mxPoint($x$$,$points_y$$+$cx$jscomp$7_h$$),new mxPoint($x$$+$dx$jscomp$40_dy$jscomp$38_fixed$$,$points_y$$)]);$cx$jscomp$7_h$$=$bounds$jscomp$27_cy$jscomp$7_p1$$.getCenterX();$bounds$jscomp$27_cy$jscomp$7_p1$$=$bounds$jscomp$27_cy$jscomp$7_p1$$.getCenterY();
$bounds$jscomp$27_cy$jscomp$7_p1$$=new mxPoint($cx$jscomp$7_h$$,$bounds$jscomp$27_cy$jscomp$7_p1$$);$orthogonal$$&&($next$$.x<$x$$||$next$$.x>$x$$+$w$$?$bounds$jscomp$27_cy$jscomp$7_p1$$.y=$next$$.y:$bounds$jscomp$27_cy$jscomp$7_p1$$.x=$next$$.x);return mxUtils.getPerimeterPoint($points_y$$,$bounds$jscomp$27_cy$jscomp$7_p1$$,$next$$)};mxStyleRegistry.putValue("parallelogramPerimeter",mxPerimeter.ParallelogramPerimeter);mxPerimeter.TrapezoidPerimeter=function($bounds$jscomp$28_cy$jscomp$8_p1$$,$direction$jscomp$13_vertex$$,
$next$$,$orthogonal$$){var $dx$jscomp$41_dy$jscomp$39_fixed$$="0"!=mxUtils.getValue($direction$jscomp$13_vertex$$.style,"fixedSize","0"),$size$$=$dx$jscomp$41_dy$jscomp$39_fixed$$?$TrapezoidShape$$.prototype.fixedSize:$TrapezoidShape$$.prototype.size;null!=$direction$jscomp$13_vertex$$&&($size$$=mxUtils.getValue($direction$jscomp$13_vertex$$.style,"size",$size$$));$dx$jscomp$41_dy$jscomp$39_fixed$$&&($size$$*=$direction$jscomp$13_vertex$$.view.scale);var $x$$=$bounds$jscomp$28_cy$jscomp$8_p1$$.x,
$points$jscomp$1_y$$=$bounds$jscomp$28_cy$jscomp$8_p1$$.y,$w$$=$bounds$jscomp$28_cy$jscomp$8_p1$$.width,$cx$jscomp$8_h$$=$bounds$jscomp$28_cy$jscomp$8_p1$$.height;$direction$jscomp$13_vertex$$=null!=$direction$jscomp$13_vertex$$?mxUtils.getValue($direction$jscomp$13_vertex$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;$direction$jscomp$13_vertex$$==mxConstants.DIRECTION_EAST?($dx$jscomp$41_dy$jscomp$39_fixed$$=$dx$jscomp$41_dy$jscomp$39_fixed$$?Math.max(0,
Math.min(.5*$w$$,$size$$)):$w$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$1_y$$=[new mxPoint($x$$+$dx$jscomp$41_dy$jscomp$39_fixed$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$41_dy$jscomp$39_fixed$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$+$cx$jscomp$8_h$$),new mxPoint($x$$,$points$jscomp$1_y$$+$cx$jscomp$8_h$$),new mxPoint($x$$+$dx$jscomp$41_dy$jscomp$39_fixed$$,$points$jscomp$1_y$$)]):$direction$jscomp$13_vertex$$==mxConstants.DIRECTION_WEST?($dx$jscomp$41_dy$jscomp$39_fixed$$=
$dx$jscomp$41_dy$jscomp$39_fixed$$?Math.max(0,Math.min($w$$,$size$$)):$w$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$1_y$$=[new mxPoint($x$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$41_dy$jscomp$39_fixed$$,$points$jscomp$1_y$$+$cx$jscomp$8_h$$),new mxPoint($x$$+$dx$jscomp$41_dy$jscomp$39_fixed$$,$points$jscomp$1_y$$+$cx$jscomp$8_h$$),new mxPoint($x$$,$points$jscomp$1_y$$)]):$direction$jscomp$13_vertex$$==mxConstants.DIRECTION_NORTH?($dx$jscomp$41_dy$jscomp$39_fixed$$=
$dx$jscomp$41_dy$jscomp$39_fixed$$?Math.max(0,Math.min($cx$jscomp$8_h$$,$size$$)):$cx$jscomp$8_h$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$1_y$$=[new mxPoint($x$$,$points$jscomp$1_y$$+$dx$jscomp$41_dy$jscomp$39_fixed$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$+$cx$jscomp$8_h$$),new mxPoint($x$$,$points$jscomp$1_y$$+$cx$jscomp$8_h$$-$dx$jscomp$41_dy$jscomp$39_fixed$$),new mxPoint($x$$,$points$jscomp$1_y$$+$dx$jscomp$41_dy$jscomp$39_fixed$$)]):($dx$jscomp$41_dy$jscomp$39_fixed$$=
$dx$jscomp$41_dy$jscomp$39_fixed$$?Math.max(0,Math.min($cx$jscomp$8_h$$,$size$$)):$cx$jscomp$8_h$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$1_y$$=[new mxPoint($x$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$+$dx$jscomp$41_dy$jscomp$39_fixed$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$+$cx$jscomp$8_h$$-$dx$jscomp$41_dy$jscomp$39_fixed$$),new mxPoint($x$$,$points$jscomp$1_y$$+$cx$jscomp$8_h$$),new mxPoint($x$$,$points$jscomp$1_y$$)]);$cx$jscomp$8_h$$=$bounds$jscomp$28_cy$jscomp$8_p1$$.getCenterX();
$bounds$jscomp$28_cy$jscomp$8_p1$$=$bounds$jscomp$28_cy$jscomp$8_p1$$.getCenterY();$bounds$jscomp$28_cy$jscomp$8_p1$$=new mxPoint($cx$jscomp$8_h$$,$bounds$jscomp$28_cy$jscomp$8_p1$$);$orthogonal$$&&($next$$.x<$x$$||$next$$.x>$x$$+$w$$?$bounds$jscomp$28_cy$jscomp$8_p1$$.y=$next$$.y:$bounds$jscomp$28_cy$jscomp$8_p1$$.x=$next$$.x);return mxUtils.getPerimeterPoint($points$jscomp$1_y$$,$bounds$jscomp$28_cy$jscomp$8_p1$$,$next$$)};mxStyleRegistry.putValue("trapezoidPerimeter",mxPerimeter.TrapezoidPerimeter);
mxPerimeter.StepPerimeter=function($bounds$jscomp$29_cy$$,$direction$jscomp$14_vertex$$,$next$$,$orthogonal$$){var $dx$jscomp$42_dy$jscomp$40_fixed$$="0"!=mxUtils.getValue($direction$jscomp$14_vertex$$.style,"fixedSize","0"),$size$$=$dx$jscomp$42_dy$jscomp$40_fixed$$?$StepShape$$.prototype.fixedSize:$StepShape$$.prototype.size;null!=$direction$jscomp$14_vertex$$&&($size$$=mxUtils.getValue($direction$jscomp$14_vertex$$.style,"size",$size$$));$dx$jscomp$42_dy$jscomp$40_fixed$$&&($size$$*=$direction$jscomp$14_vertex$$.view.scale);
var $x$$=$bounds$jscomp$29_cy$$.x,$points$jscomp$2_y$$=$bounds$jscomp$29_cy$$.y,$w$$=$bounds$jscomp$29_cy$$.width,$h$$=$bounds$jscomp$29_cy$$.height,$cx$jscomp$9_p1$$=$bounds$jscomp$29_cy$$.getCenterX();$bounds$jscomp$29_cy$$=$bounds$jscomp$29_cy$$.getCenterY();$direction$jscomp$14_vertex$$=null!=$direction$jscomp$14_vertex$$?mxUtils.getValue($direction$jscomp$14_vertex$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;$direction$jscomp$14_vertex$$==mxConstants.DIRECTION_EAST?
($dx$jscomp$42_dy$jscomp$40_fixed$$=$dx$jscomp$42_dy$jscomp$40_fixed$$?Math.max(0,Math.min($w$$,$size$$)):$w$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$2_y$$=[new mxPoint($x$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$42_dy$jscomp$40_fixed$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$,$bounds$jscomp$29_cy$$),new mxPoint($x$$+$w$$-$dx$jscomp$42_dy$jscomp$40_fixed$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$+$dx$jscomp$42_dy$jscomp$40_fixed$$,
$bounds$jscomp$29_cy$$),new mxPoint($x$$,$points$jscomp$2_y$$)]):$direction$jscomp$14_vertex$$==mxConstants.DIRECTION_WEST?($dx$jscomp$42_dy$jscomp$40_fixed$$=$dx$jscomp$42_dy$jscomp$40_fixed$$?Math.max(0,Math.min($w$$,$size$$)):$w$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$2_y$$=[new mxPoint($x$$+$dx$jscomp$42_dy$jscomp$40_fixed$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$42_dy$jscomp$40_fixed$$,$bounds$jscomp$29_cy$$),new mxPoint($x$$+
$w$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$+$dx$jscomp$42_dy$jscomp$40_fixed$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$,$bounds$jscomp$29_cy$$),new mxPoint($x$$+$dx$jscomp$42_dy$jscomp$40_fixed$$,$points$jscomp$2_y$$)]):$direction$jscomp$14_vertex$$==mxConstants.DIRECTION_NORTH?($dx$jscomp$42_dy$jscomp$40_fixed$$=$dx$jscomp$42_dy$jscomp$40_fixed$$?Math.max(0,Math.min($h$$,$size$$)):$h$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$2_y$$=[new mxPoint($x$$,$points$jscomp$2_y$$+$dx$jscomp$42_dy$jscomp$40_fixed$$),
new mxPoint($cx$jscomp$9_p1$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$,$points$jscomp$2_y$$+$dx$jscomp$42_dy$jscomp$40_fixed$$),new mxPoint($x$$+$w$$,$points$jscomp$2_y$$+$h$$),new mxPoint($cx$jscomp$9_p1$$,$points$jscomp$2_y$$+$h$$-$dx$jscomp$42_dy$jscomp$40_fixed$$),new mxPoint($x$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$,$points$jscomp$2_y$$+$dx$jscomp$42_dy$jscomp$40_fixed$$)]):($dx$jscomp$42_dy$jscomp$40_fixed$$=$dx$jscomp$42_dy$jscomp$40_fixed$$?Math.max(0,Math.min($h$$,$size$$)):$h$$*
Math.max(0,Math.min(1,$size$$)),$points$jscomp$2_y$$=[new mxPoint($x$$,$points$jscomp$2_y$$),new mxPoint($cx$jscomp$9_p1$$,$points$jscomp$2_y$$+$dx$jscomp$42_dy$jscomp$40_fixed$$),new mxPoint($x$$+$w$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$,$points$jscomp$2_y$$+$h$$-$dx$jscomp$42_dy$jscomp$40_fixed$$),new mxPoint($cx$jscomp$9_p1$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$,$points$jscomp$2_y$$+$h$$-$dx$jscomp$42_dy$jscomp$40_fixed$$),new mxPoint($x$$,$points$jscomp$2_y$$)]);$cx$jscomp$9_p1$$=
new mxPoint($cx$jscomp$9_p1$$,$bounds$jscomp$29_cy$$);$orthogonal$$&&($next$$.x<$x$$||$next$$.x>$x$$+$w$$?$cx$jscomp$9_p1$$.y=$next$$.y:$cx$jscomp$9_p1$$.x=$next$$.x);return mxUtils.getPerimeterPoint($points$jscomp$2_y$$,$cx$jscomp$9_p1$$,$next$$)};mxStyleRegistry.putValue("stepPerimeter",mxPerimeter.StepPerimeter);mxPerimeter.HexagonPerimeter2=function($bounds$jscomp$30_cy$$,$direction$jscomp$15_vertex$$,$next$$,$orthogonal$$){var $dx$jscomp$43_dy$jscomp$41_fixed$$="0"!=mxUtils.getValue($direction$jscomp$15_vertex$$.style,
"fixedSize","0"),$size$$=$dx$jscomp$43_dy$jscomp$41_fixed$$?$HexagonShape$$.prototype.fixedSize:$HexagonShape$$.prototype.size;null!=$direction$jscomp$15_vertex$$&&($size$$=mxUtils.getValue($direction$jscomp$15_vertex$$.style,"size",$size$$));$dx$jscomp$43_dy$jscomp$41_fixed$$&&($size$$*=$direction$jscomp$15_vertex$$.view.scale);var $x$$=$bounds$jscomp$30_cy$$.x,$points$jscomp$3_y$$=$bounds$jscomp$30_cy$$.y,$w$$=$bounds$jscomp$30_cy$$.width,$h$$=$bounds$jscomp$30_cy$$.height,$cx$jscomp$10_p1$$=$bounds$jscomp$30_cy$$.getCenterX();
$bounds$jscomp$30_cy$$=$bounds$jscomp$30_cy$$.getCenterY();$direction$jscomp$15_vertex$$=null!=$direction$jscomp$15_vertex$$?mxUtils.getValue($direction$jscomp$15_vertex$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;$direction$jscomp$15_vertex$$==mxConstants.DIRECTION_NORTH||$direction$jscomp$15_vertex$$==mxConstants.DIRECTION_SOUTH?($dx$jscomp$43_dy$jscomp$41_fixed$$=$dx$jscomp$43_dy$jscomp$41_fixed$$?Math.max(0,Math.min($h$$,$size$$)):$h$$*Math.max(0,
Math.min(1,$size$$)),$points$jscomp$3_y$$=[new mxPoint($cx$jscomp$10_p1$$,$points$jscomp$3_y$$),new mxPoint($x$$+$w$$,$points$jscomp$3_y$$+$dx$jscomp$43_dy$jscomp$41_fixed$$),new mxPoint($x$$+$w$$,$points$jscomp$3_y$$+$h$$-$dx$jscomp$43_dy$jscomp$41_fixed$$),new mxPoint($cx$jscomp$10_p1$$,$points$jscomp$3_y$$+$h$$),new mxPoint($x$$,$points$jscomp$3_y$$+$h$$-$dx$jscomp$43_dy$jscomp$41_fixed$$),new mxPoint($x$$,$points$jscomp$3_y$$+$dx$jscomp$43_dy$jscomp$41_fixed$$),new mxPoint($cx$jscomp$10_p1$$,
$points$jscomp$3_y$$)]):($dx$jscomp$43_dy$jscomp$41_fixed$$=$dx$jscomp$43_dy$jscomp$41_fixed$$?Math.max(0,Math.min($w$$,$size$$)):$w$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$3_y$$=[new mxPoint($x$$+$dx$jscomp$43_dy$jscomp$41_fixed$$,$points$jscomp$3_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$43_dy$jscomp$41_fixed$$,$points$jscomp$3_y$$),new mxPoint($x$$+$w$$,$bounds$jscomp$30_cy$$),new mxPoint($x$$+$w$$-$dx$jscomp$43_dy$jscomp$41_fixed$$,$points$jscomp$3_y$$+$h$$),new mxPoint($x$$+$dx$jscomp$43_dy$jscomp$41_fixed$$,
$points$jscomp$3_y$$+$h$$),new mxPoint($x$$,$bounds$jscomp$30_cy$$),new mxPoint($x$$+$dx$jscomp$43_dy$jscomp$41_fixed$$,$points$jscomp$3_y$$)]);$cx$jscomp$10_p1$$=new mxPoint($cx$jscomp$10_p1$$,$bounds$jscomp$30_cy$$);$orthogonal$$&&($next$$.x<$x$$||$next$$.x>$x$$+$w$$?$cx$jscomp$10_p1$$.y=$next$$.y:$cx$jscomp$10_p1$$.x=$next$$.x);return mxUtils.getPerimeterPoint($points$jscomp$3_y$$,$cx$jscomp$10_p1$$,$next$$)};mxStyleRegistry.putValue("hexagonPerimeter2",mxPerimeter.HexagonPerimeter2);mxUtils.extend($LollipopShape$$,
mxShape);$LollipopShape$$.prototype.size=10;$LollipopShape$$.prototype.paintBackground=function($c$$,$x$$,$y$$,$w$$,$h$$){var $sz$$=parseFloat(mxUtils.getValue(this.style,"size",this.size));$c$$.translate($x$$,$y$$);$c$$.ellipse(($w$$-$sz$$)/2,0,$sz$$,$sz$$);$c$$.fillAndStroke();$c$$.begin();$c$$.moveTo($w$$/2,$sz$$);$c$$.lineTo($w$$/2,$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("lollipop",$LollipopShape$$);mxUtils.extend($RequiresShape$$,mxShape);$RequiresShape$$.prototype.size=
10;$RequiresShape$$.prototype.inset=2;$RequiresShape$$.prototype.paintBackground=function($c$$,$x$$,$y$$,$w$$,$h$$){var $sz$$=parseFloat(mxUtils.getValue(this.style,"size",this.size)),$inset$$=parseFloat(mxUtils.getValue(this.style,"inset",this.inset))+this.strokewidth;$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo($w$$/2,$sz$$+$inset$$);$c$$.lineTo($w$$/2,$h$$);$c$$.end();$c$$.stroke();$c$$.begin();$c$$.moveTo(($w$$-$sz$$)/2-$inset$$,$sz$$/2);$c$$.quadTo(($w$$-$sz$$)/2-$inset$$,$sz$$+$inset$$,
$w$$/2,$sz$$+$inset$$);$c$$.quadTo(($w$$+$sz$$)/2+$inset$$,$sz$$+$inset$$,($w$$+$sz$$)/2+$inset$$,$sz$$/2);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("requires",$RequiresShape$$);mxUtils.extend($RequiredInterfaceShape$$,mxShape);$RequiredInterfaceShape$$.prototype.paintBackground=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo(0,0);$c$$.quadTo($w$$,0,$w$$,$h$$/2);$c$$.quadTo($w$$,$h$$,0,$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("requiredInterface",
$RequiredInterfaceShape$$);mxUtils.extend($ProvidedRequiredInterfaceShape$$,mxShape);$ProvidedRequiredInterfaceShape$$.prototype.inset=2;$ProvidedRequiredInterfaceShape$$.prototype.paintBackground=function($c$$,$x$$,$y$$,$w$$,$h$$){var $inset$$=parseFloat(mxUtils.getValue(this.style,"inset",this.inset))+this.strokewidth;$c$$.translate($x$$,$y$$);$c$$.ellipse(0,$inset$$,$w$$-2*$inset$$,$h$$-2*$inset$$);$c$$.fillAndStroke();$c$$.begin();$c$$.moveTo($w$$/2,0);$c$$.quadTo($w$$,0,$w$$,$h$$/2);$c$$.quadTo($w$$,
$h$$,$w$$/2,$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("providedRequiredInterface",$ProvidedRequiredInterfaceShape$$);mxUtils.extend($ModuleShape$$,mxCylinder);$ModuleShape$$.prototype.jettyWidth=20;$ModuleShape$$.prototype.jettyHeight=10;$ModuleShape$$.prototype.redrawPath=function($path$$,$dy$jscomp$42_x$$,$x0$jscomp$10_y$$,$w$$,$h$$,$isForeground$$){var $dx$jscomp$44_x1$$=parseFloat(mxUtils.getValue(this.style,"jettyWidth",this.jettyWidth));$dy$jscomp$42_x$$=parseFloat(mxUtils.getValue(this.style,
"jettyHeight",this.jettyHeight));$x0$jscomp$10_y$$=$dx$jscomp$44_x1$$/2;$dx$jscomp$44_x1$$=$x0$jscomp$10_y$$+$dx$jscomp$44_x1$$/2;var $y0$$=Math.min($dy$jscomp$42_x$$,$h$$-$dy$jscomp$42_x$$),$y1$$=Math.min($y0$$+2*$dy$jscomp$42_x$$,$h$$-$dy$jscomp$42_x$$);$isForeground$$?($path$$.moveTo($x0$jscomp$10_y$$,$y0$$),$path$$.lineTo($dx$jscomp$44_x1$$,$y0$$),$path$$.lineTo($dx$jscomp$44_x1$$,$y0$$+$dy$jscomp$42_x$$),$path$$.lineTo($x0$jscomp$10_y$$,$y0$$+$dy$jscomp$42_x$$),$path$$.moveTo($x0$jscomp$10_y$$,
$y1$$),$path$$.lineTo($dx$jscomp$44_x1$$,$y1$$),$path$$.lineTo($dx$jscomp$44_x1$$,$y1$$+$dy$jscomp$42_x$$),$path$$.lineTo($x0$jscomp$10_y$$,$y1$$+$dy$jscomp$42_x$$)):($path$$.moveTo($x0$jscomp$10_y$$,0),$path$$.lineTo($w$$,0),$path$$.lineTo($w$$,$h$$),$path$$.lineTo($x0$jscomp$10_y$$,$h$$),$path$$.lineTo($x0$jscomp$10_y$$,$y1$$+$dy$jscomp$42_x$$),$path$$.lineTo(0,$y1$$+$dy$jscomp$42_x$$),$path$$.lineTo(0,$y1$$),$path$$.lineTo($x0$jscomp$10_y$$,$y1$$),$path$$.lineTo($x0$jscomp$10_y$$,$y0$$+$dy$jscomp$42_x$$),
$path$$.lineTo(0,$y0$$+$dy$jscomp$42_x$$),$path$$.lineTo(0,$y0$$),$path$$.lineTo($x0$jscomp$10_y$$,$y0$$),$path$$.close());$path$$.end()};mxCellRenderer.registerShape("module",$ModuleShape$$);mxUtils.extend($ComponentShape$$,mxCylinder);$ComponentShape$$.prototype.jettyWidth=32;$ComponentShape$$.prototype.jettyHeight=12;$ComponentShape$$.prototype.redrawPath=function($path$$,$dy$jscomp$43_x$$,$x0$jscomp$11_y$$,$w$$,$h$$,$isForeground$$){var $dx$jscomp$45_x1$$=parseFloat(mxUtils.getValue(this.style,
"jettyWidth",this.jettyWidth));$dy$jscomp$43_x$$=parseFloat(mxUtils.getValue(this.style,"jettyHeight",this.jettyHeight));$x0$jscomp$11_y$$=$dx$jscomp$45_x1$$/2;$dx$jscomp$45_x1$$=$x0$jscomp$11_y$$+$dx$jscomp$45_x1$$/2;var $y0$$=.3*$h$$-$dy$jscomp$43_x$$/2,$y1$$=.7*$h$$-$dy$jscomp$43_x$$/2;$isForeground$$?($path$$.moveTo($x0$jscomp$11_y$$,$y0$$),$path$$.lineTo($dx$jscomp$45_x1$$,$y0$$),$path$$.lineTo($dx$jscomp$45_x1$$,$y0$$+$dy$jscomp$43_x$$),$path$$.lineTo($x0$jscomp$11_y$$,$y0$$+$dy$jscomp$43_x$$),
$path$$.moveTo($x0$jscomp$11_y$$,$y1$$),$path$$.lineTo($dx$jscomp$45_x1$$,$y1$$),$path$$.lineTo($dx$jscomp$45_x1$$,$y1$$+$dy$jscomp$43_x$$),$path$$.lineTo($x0$jscomp$11_y$$,$y1$$+$dy$jscomp$43_x$$)):($path$$.moveTo($x0$jscomp$11_y$$,0),$path$$.lineTo($w$$,0),$path$$.lineTo($w$$,$h$$),$path$$.lineTo($x0$jscomp$11_y$$,$h$$),$path$$.lineTo($x0$jscomp$11_y$$,$y1$$+$dy$jscomp$43_x$$),$path$$.lineTo(0,$y1$$+$dy$jscomp$43_x$$),$path$$.lineTo(0,$y1$$),$path$$.lineTo($x0$jscomp$11_y$$,$y1$$),$path$$.lineTo($x0$jscomp$11_y$$,
$y0$$+$dy$jscomp$43_x$$),$path$$.lineTo(0,$y0$$+$dy$jscomp$43_x$$),$path$$.lineTo(0,$y0$$),$path$$.lineTo($x0$jscomp$11_y$$,$y0$$),$path$$.close());$path$$.end()};mxCellRenderer.registerShape("component",$ComponentShape$$);mxUtils.extend($AssociativeEntity$$,mxRectangleShape);$AssociativeEntity$$.prototype.paintForeground=function($c$$,$x$$,$y$$,$w$$,$h$$){var $hw$$=$w$$/2,$hh$$=$h$$/2,$arcSize$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;$c$$.begin();this.addPoints($c$$,
[new mxPoint($x$$+$hw$$,$y$$),new mxPoint($x$$+$w$$,$y$$+$hh$$),new mxPoint($x$$+$hw$$,$y$$+$h$$),new mxPoint($x$$,$y$$+$hh$$)],this.isRounded,$arcSize$$,!0);$c$$.stroke();mxRectangleShape.prototype.paintForeground.apply(this,arguments)};mxCellRenderer.registerShape("associativeEntity",$AssociativeEntity$$);mxUtils.extend($StateShape$$,mxDoubleEllipse);$StateShape$$.prototype.outerStroke=!0;$StateShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){var $inset$$=Math.min(4,Math.min($w$$/
5,$h$$/5));0<$w$$&&0<$h$$&&($c$$.ellipse($x$$+$inset$$,$y$$+$inset$$,$w$$-2*$inset$$,$h$$-2*$inset$$),$c$$.fillAndStroke());$c$$.setShadow(!1);this.outerStroke&&($c$$.ellipse($x$$,$y$$,$w$$,$h$$),$c$$.stroke())};mxCellRenderer.registerShape("endState",$StateShape$$);mxUtils.extend($StartStateShape$$,$StateShape$$);$StartStateShape$$.prototype.outerStroke=!1;mxCellRenderer.registerShape("startState",$StartStateShape$$);mxUtils.extend($LinkShape$$,mxArrowConnector);$LinkShape$$.prototype.defaultWidth=
4;$LinkShape$$.prototype.isOpenEnded=function(){return!0};$LinkShape$$.prototype.getEdgeWidth=function(){return mxUtils.getNumber(this.style,"width",this.defaultWidth)+Math.max(0,this.strokewidth-1)};$LinkShape$$.prototype.isArrowRounded=function(){return this.isRounded};mxCellRenderer.registerShape("link",$LinkShape$$);mxUtils.extend($FlexArrowShape$$,mxArrowConnector);$FlexArrowShape$$.prototype.defaultWidth=10;$FlexArrowShape$$.prototype.defaultArrowWidth=20;$FlexArrowShape$$.prototype.getStartArrowWidth=
function(){return this.getEdgeWidth()+mxUtils.getNumber(this.style,"startWidth",this.defaultArrowWidth)};$FlexArrowShape$$.prototype.getEndArrowWidth=function(){return this.getEdgeWidth()+mxUtils.getNumber(this.style,"endWidth",this.defaultArrowWidth)};$FlexArrowShape$$.prototype.getEdgeWidth=function(){return mxUtils.getNumber(this.style,"width",this.defaultWidth)+Math.max(0,this.strokewidth-1)};mxCellRenderer.registerShape("flexArrow",$FlexArrowShape$$);mxUtils.extend($ManualInputShape$$,mxActor);
$ManualInputShape$$.prototype.size=30;$ManualInputShape$$.prototype.isRoundable=function(){return!0};$ManualInputShape$$.prototype.redrawPath=function($c$$,$s$jscomp$42_x$$,$arcSize$jscomp$14_y$$,$w$$,$h$$){$s$jscomp$42_x$$=Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)));$arcSize$jscomp$14_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,$h$$),new mxPoint(0,$s$jscomp$42_x$$),new mxPoint($w$$,0),new mxPoint($w$$,
$h$$)],this.isRounded,$arcSize$jscomp$14_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("manualInput",$ManualInputShape$$);mxUtils.extend($InternalStorageShape$$,mxRectangleShape);$InternalStorageShape$$.prototype.dx=20;$InternalStorageShape$$.prototype.dy=20;$InternalStorageShape$$.prototype.isHtmlAllowed=function(){return!1};$InternalStorageShape$$.prototype.paintForeground=function($c$$,$x$$,$y$$,$w$$,$h$$){mxRectangleShape.prototype.paintForeground.apply(this,arguments);var $dy$jscomp$44_inset$$=
0;if(this.isRounded){var $dx$jscomp$46_f$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;$dy$jscomp$44_inset$$=Math.max($dy$jscomp$44_inset$$,Math.min($w$$*$dx$jscomp$46_f$$,$h$$*$dx$jscomp$46_f$$))}$dx$jscomp$46_f$$=Math.max($dy$jscomp$44_inset$$,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"dx",this.dx))));$dy$jscomp$44_inset$$=Math.max($dy$jscomp$44_inset$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));$c$$.begin();
$c$$.moveTo($x$$,$y$$+$dy$jscomp$44_inset$$);$c$$.lineTo($x$$+$w$$,$y$$+$dy$jscomp$44_inset$$);$c$$.end();$c$$.stroke();$c$$.begin();$c$$.moveTo($x$$+$dx$jscomp$46_f$$,$y$$);$c$$.lineTo($x$$+$dx$jscomp$46_f$$,$y$$+$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("internalStorage",$InternalStorageShape$$);mxUtils.extend($CornerShape$$,mxActor);$CornerShape$$.prototype.dx=20;$CornerShape$$.prototype.dy=20;$CornerShape$$.prototype.redrawPath=function($c$$,$dx$jscomp$47_x$$,$dy$jscomp$45_y$$,
$w$$,$h$$){$dx$jscomp$47_x$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"dx",this.dx))));$dy$jscomp$45_y$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));parseFloat(mxUtils.getValue(this.style,"size",this.size));var $arcSize$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,0),new mxPoint($w$$,0),new mxPoint($w$$,$dy$jscomp$45_y$$),new mxPoint($dx$jscomp$47_x$$,$dy$jscomp$45_y$$),
new mxPoint($dx$jscomp$47_x$$,$h$$),new mxPoint(0,$h$$)],this.isRounded,$arcSize$$,!0);$c$$.end()};mxCellRenderer.registerShape("corner",$CornerShape$$);mxUtils.extend($CrossbarShape$$,mxActor);$CrossbarShape$$.prototype.redrawPath=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.moveTo(0,0);$c$$.lineTo(0,$h$$);$c$$.end();$c$$.moveTo($w$$,0);$c$$.lineTo($w$$,$h$$);$c$$.end();$c$$.moveTo(0,$h$$/2);$c$$.lineTo($w$$,$h$$/2);$c$$.end()};mxCellRenderer.registerShape("crossbar",$CrossbarShape$$);mxUtils.extend($TeeShape$$,
mxActor);$TeeShape$$.prototype.dx=20;$TeeShape$$.prototype.dy=20;$TeeShape$$.prototype.redrawPath=function($c$$,$dx$jscomp$48_x$$,$dy$jscomp$46_y$$,$w$$,$h$$){$dx$jscomp$48_x$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"dx",this.dx))));$dy$jscomp$46_y$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));parseFloat(mxUtils.getValue(this.style,"size",this.size));var $arcSize$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/
2;this.addPoints($c$$,[new mxPoint(0,0),new mxPoint($w$$,0),new mxPoint($w$$,$dy$jscomp$46_y$$),new mxPoint(($w$$+$dx$jscomp$48_x$$)/2,$dy$jscomp$46_y$$),new mxPoint(($w$$+$dx$jscomp$48_x$$)/2,$h$$),new mxPoint(($w$$-$dx$jscomp$48_x$$)/2,$h$$),new mxPoint(($w$$-$dx$jscomp$48_x$$)/2,$dy$jscomp$46_y$$),new mxPoint(0,$dy$jscomp$46_y$$)],this.isRounded,$arcSize$$,!0);$c$$.end()};mxCellRenderer.registerShape("tee",$TeeShape$$);mxUtils.extend($SingleArrowShape$$,mxActor);$SingleArrowShape$$.prototype.arrowWidth=
.3;$SingleArrowShape$$.prototype.arrowSize=.2;$SingleArrowShape$$.prototype.redrawPath=function($c$$,$as_x$$,$at_y$$,$w$$,$h$$){var $ab_aw$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",this.arrowWidth))));$as_x$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",this.arrowSize))));$at_y$$=($h$$-$ab_aw$$)/2;$ab_aw$$=$at_y$$+$ab_aw$$;var $arcSize$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,
[new mxPoint(0,$at_y$$),new mxPoint($w$$-$as_x$$,$at_y$$),new mxPoint($w$$-$as_x$$,0),new mxPoint($w$$,$h$$/2),new mxPoint($w$$-$as_x$$,$h$$),new mxPoint($w$$-$as_x$$,$ab_aw$$),new mxPoint(0,$ab_aw$$)],this.isRounded,$arcSize$$,!0);$c$$.end()};mxCellRenderer.registerShape("singleArrow",$SingleArrowShape$$);mxUtils.extend($DoubleArrowShape$$,mxActor);$DoubleArrowShape$$.prototype.redrawPath=function($c$$,$as$jscomp$1_x$$,$at$jscomp$1_y$$,$w$$,$h$$){var $ab$jscomp$1_aw$$=$h$$*Math.max(0,Math.min(1,
parseFloat(mxUtils.getValue(this.style,"arrowWidth",$SingleArrowShape$$.prototype.arrowWidth))));$as$jscomp$1_x$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",$SingleArrowShape$$.prototype.arrowSize))));$at$jscomp$1_y$$=($h$$-$ab$jscomp$1_aw$$)/2;$ab$jscomp$1_aw$$=$at$jscomp$1_y$$+$ab$jscomp$1_aw$$;var $arcSize$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,$h$$/2),new mxPoint($as$jscomp$1_x$$,
0),new mxPoint($as$jscomp$1_x$$,$at$jscomp$1_y$$),new mxPoint($w$$-$as$jscomp$1_x$$,$at$jscomp$1_y$$),new mxPoint($w$$-$as$jscomp$1_x$$,0),new mxPoint($w$$,$h$$/2),new mxPoint($w$$-$as$jscomp$1_x$$,$h$$),new mxPoint($w$$-$as$jscomp$1_x$$,$ab$jscomp$1_aw$$),new mxPoint($as$jscomp$1_x$$,$ab$jscomp$1_aw$$),new mxPoint($as$jscomp$1_x$$,$h$$)],this.isRounded,$arcSize$$,!0);$c$$.end()};mxCellRenderer.registerShape("doubleArrow",$DoubleArrowShape$$);mxUtils.extend($DataStorageShape$$,mxActor);$DataStorageShape$$.prototype.size=
.1;$DataStorageShape$$.prototype.fixedSize=20;$DataStorageShape$$.prototype.redrawPath=function($c$$,$s$jscomp$45_x$$,$y$$,$w$$,$h$$){$s$jscomp$45_x$$="0"!=mxUtils.getValue(this.style,"fixedSize","0")?Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"size",this.fixedSize)))):$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$c$$.moveTo($s$jscomp$45_x$$,0);$c$$.lineTo($w$$,0);$c$$.quadTo($w$$-2*$s$jscomp$45_x$$,$h$$/2,$w$$,$h$$);$c$$.lineTo($s$jscomp$45_x$$,
$h$$);$c$$.quadTo($s$jscomp$45_x$$-2*$s$jscomp$45_x$$,$h$$/2,$s$jscomp$45_x$$,0);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("dataStorage",$DataStorageShape$$);mxUtils.extend($OrShape$$,mxActor);$OrShape$$.prototype.redrawPath=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.moveTo(0,0);$c$$.quadTo($w$$,0,$w$$,$h$$/2);$c$$.quadTo($w$$,$h$$,0,$h$$);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("or",$OrShape$$);mxUtils.extend($XorShape$$,mxActor);$XorShape$$.prototype.redrawPath=function($c$$,
$x$$,$y$$,$w$$,$h$$){$c$$.moveTo(0,0);$c$$.quadTo($w$$,0,$w$$,$h$$/2);$c$$.quadTo($w$$,$h$$,0,$h$$);$c$$.quadTo($w$$/2,$h$$/2,0,0);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("xor",$XorShape$$);mxUtils.extend($LoopLimitShape$$,mxActor);$LoopLimitShape$$.prototype.size=20;$LoopLimitShape$$.prototype.isRoundable=function(){return!0};$LoopLimitShape$$.prototype.redrawPath=function($c$$,$s$jscomp$46_x$$,$arcSize$jscomp$19_y$$,$w$$,$h$$){$s$jscomp$46_x$$=Math.min($w$$/2,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,
"size",this.size))));$arcSize$jscomp$19_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint($s$jscomp$46_x$$,0),new mxPoint($w$$-$s$jscomp$46_x$$,0),new mxPoint($w$$,.8*$s$jscomp$46_x$$),new mxPoint($w$$,$h$$),new mxPoint(0,$h$$),new mxPoint(0,.8*$s$jscomp$46_x$$)],this.isRounded,$arcSize$jscomp$19_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("loopLimit",$LoopLimitShape$$);mxUtils.extend($OffPageConnectorShape$$,mxActor);$OffPageConnectorShape$$.prototype.size=
.375;$OffPageConnectorShape$$.prototype.isRoundable=function(){return!0};$OffPageConnectorShape$$.prototype.redrawPath=function($c$$,$s$jscomp$47_x$$,$arcSize$jscomp$20_y$$,$w$$,$h$$){$s$jscomp$47_x$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$20_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,0),new mxPoint($w$$,0),new mxPoint($w$$,$h$$-$s$jscomp$47_x$$),new mxPoint($w$$/
2,$h$$),new mxPoint(0,$h$$-$s$jscomp$47_x$$)],this.isRounded,$arcSize$jscomp$20_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("offPageConnector",$OffPageConnectorShape$$);mxUtils.extend($TapeDataShape$$,mxEllipse);$TapeDataShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){mxEllipse.prototype.paintVertexShape.apply(this,arguments);$c$$.begin();$c$$.moveTo($x$$+$w$$/2,$y$$+$h$$);$c$$.lineTo($x$$+$w$$,$y$$+$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("tapeData",
$TapeDataShape$$);mxUtils.extend($OrEllipseShape$$,mxEllipse);$OrEllipseShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){mxEllipse.prototype.paintVertexShape.apply(this,arguments);$c$$.setShadow(!1);$c$$.begin();$c$$.moveTo($x$$,$y$$+$h$$/2);$c$$.lineTo($x$$+$w$$,$y$$+$h$$/2);$c$$.end();$c$$.stroke();$c$$.begin();$c$$.moveTo($x$$+$w$$/2,$y$$);$c$$.lineTo($x$$+$w$$/2,$y$$+$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("orEllipse",$OrEllipseShape$$);mxUtils.extend($SumEllipseShape$$,
mxEllipse);$SumEllipseShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){mxEllipse.prototype.paintVertexShape.apply(this,arguments);$c$$.setShadow(!1);$c$$.begin();$c$$.moveTo($x$$+.145*$w$$,$y$$+.145*$h$$);$c$$.lineTo($x$$+.855*$w$$,$y$$+.855*$h$$);$c$$.end();$c$$.stroke();$c$$.begin();$c$$.moveTo($x$$+.855*$w$$,$y$$+.145*$h$$);$c$$.lineTo($x$$+.145*$w$$,$y$$+.855*$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("sumEllipse",$SumEllipseShape$$);mxUtils.extend($SortShape$$,
mxRhombus);$SortShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){mxRhombus.prototype.paintVertexShape.apply(this,arguments);$c$$.setShadow(!1);$c$$.begin();$c$$.moveTo($x$$,$y$$+$h$$/2);$c$$.lineTo($x$$+$w$$,$y$$+$h$$/2);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("sortShape",$SortShape$$);mxUtils.extend($CollateShape$$,mxEllipse);$CollateShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.begin();$c$$.moveTo($x$$,$y$$);$c$$.lineTo($x$$+$w$$,
$y$$);$c$$.lineTo($x$$+$w$$/2,$y$$+$h$$/2);$c$$.close();$c$$.fillAndStroke();$c$$.begin();$c$$.moveTo($x$$,$y$$+$h$$);$c$$.lineTo($x$$+$w$$,$y$$+$h$$);$c$$.lineTo($x$$+$w$$/2,$y$$+$h$$/2);$c$$.close();$c$$.fillAndStroke()};mxCellRenderer.registerShape("collate",$CollateShape$$);mxUtils.extend($DimensionShape$$,mxEllipse);$DimensionShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){var $sw$$=$c$$.state.strokeWidth/2,$al$$=10+2*$sw$$,$cy$$=$y$$+$h$$-$al$$/2;$c$$.begin();$c$$.moveTo($x$$,
$y$$);$c$$.lineTo($x$$,$y$$+$h$$);$c$$.moveTo($x$$+$sw$$,$cy$$);$c$$.lineTo($x$$+$sw$$+$al$$,$cy$$-$al$$/2);$c$$.moveTo($x$$+$sw$$,$cy$$);$c$$.lineTo($x$$+$sw$$+$al$$,$cy$$+$al$$/2);$c$$.moveTo($x$$+$sw$$,$cy$$);$c$$.lineTo($x$$+$w$$-$sw$$,$cy$$);$c$$.moveTo($x$$+$w$$,$y$$);$c$$.lineTo($x$$+$w$$,$y$$+$h$$);$c$$.moveTo($x$$+$w$$-$sw$$,$cy$$);$c$$.lineTo($x$$+$w$$-$al$$-$sw$$,$cy$$-$al$$/2);$c$$.moveTo($x$$+$w$$-$sw$$,$cy$$);$c$$.lineTo($x$$+$w$$-$al$$-$sw$$,$cy$$+$al$$/2);$c$$.end();$c$$.stroke()};
mxCellRenderer.registerShape("dimension",$DimensionShape$$);mxUtils.extend($PartialRectangleShape$$,mxEllipse);$PartialRectangleShape$$.prototype.drawHidden=!0;$PartialRectangleShape$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){this.outline||$c$$.setStrokeColor(null);if(null!=this.style){var $pointerEvents$$=$c$$.pointerEvents,$filled$$=null!=this.fill&&this.fill!=mxConstants.NONE;"1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1")||$filled$$||($c$$.pointerEvents=
!1);var $top$$="1"==mxUtils.getValue(this.style,"top","1"),$left$$="1"==mxUtils.getValue(this.style,"left","1"),$right$$="1"==mxUtils.getValue(this.style,"right","1"),$bottom$$="1"==mxUtils.getValue(this.style,"bottom","1");this.drawHidden||$filled$$||this.outline||$top$$||$right$$||$bottom$$||$left$$?($c$$.rect($x$$,$y$$,$w$$,$h$$),$c$$.fill(),$c$$.pointerEvents=$pointerEvents$$,$c$$.setStrokeColor(this.stroke),$c$$.setLineCap("square"),$c$$.begin(),$c$$.moveTo($x$$,$y$$),this.outline||$top$$?$c$$.lineTo($x$$+
$w$$,$y$$):$c$$.moveTo($x$$+$w$$,$y$$),this.outline||$right$$?$c$$.lineTo($x$$+$w$$,$y$$+$h$$):$c$$.moveTo($x$$+$w$$,$y$$+$h$$),this.outline||$bottom$$?$c$$.lineTo($x$$,$y$$+$h$$):$c$$.moveTo($x$$,$y$$+$h$$),(this.outline||$left$$)&&$c$$.lineTo($x$$,$y$$),$c$$.end(),$c$$.stroke(),$c$$.setLineCap("flat")):$c$$.setStrokeColor(this.stroke)}};mxCellRenderer.registerShape("partialRectangle",$PartialRectangleShape$$);mxUtils.extend($LineEllipseShape$$,mxEllipse);$LineEllipseShape$$.prototype.paintVertexShape=
function($c$$,$x$$,$y$$,$w$$,$h$$){mxEllipse.prototype.paintVertexShape.apply(this,arguments);$c$$.setShadow(!1);$c$$.begin();"vertical"==mxUtils.getValue(this.style,"line")?($c$$.moveTo($x$$+$w$$/2,$y$$),$c$$.lineTo($x$$+$w$$/2,$y$$+$h$$)):($c$$.moveTo($x$$,$y$$+$h$$/2),$c$$.lineTo($x$$+$w$$,$y$$+$h$$/2));$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("lineEllipse",$LineEllipseShape$$);mxUtils.extend($DelayShape$$,mxActor);$DelayShape$$.prototype.redrawPath=function($c$$,$dx$jscomp$49_x$$,
$y$$,$w$$,$h$$){$dx$jscomp$49_x$$=Math.min($w$$,$h$$/2);$c$$.moveTo(0,0);$c$$.lineTo($w$$-$dx$jscomp$49_x$$,0);$c$$.quadTo($w$$,0,$w$$,$h$$/2);$c$$.quadTo($w$$,$h$$,$w$$-$dx$jscomp$49_x$$,$h$$);$c$$.lineTo(0,$h$$);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("delay",$DelayShape$$);mxUtils.extend($CrossShape$$,mxActor);$CrossShape$$.prototype.size=.2;$CrossShape$$.prototype.redrawPath=function($c$$,$m$jscomp$4_t$jscomp$14_x$$,$b$jscomp$16_y$$,$w$$,$h$$){$m$jscomp$4_t$jscomp$14_x$$=Math.min($h$$,
$w$$);var $r$jscomp$11_size$$=Math.max(0,Math.min($m$jscomp$4_t$jscomp$14_x$$,$m$jscomp$4_t$jscomp$14_x$$*parseFloat(mxUtils.getValue(this.style,"size",this.size))));$m$jscomp$4_t$jscomp$14_x$$=($h$$-$r$jscomp$11_size$$)/2;$b$jscomp$16_y$$=$m$jscomp$4_t$jscomp$14_x$$+$r$jscomp$11_size$$;var $l$$=($w$$-$r$jscomp$11_size$$)/2;$r$jscomp$11_size$$=$l$$+$r$jscomp$11_size$$;$c$$.moveTo(0,$m$jscomp$4_t$jscomp$14_x$$);$c$$.lineTo($l$$,$m$jscomp$4_t$jscomp$14_x$$);$c$$.lineTo($l$$,0);$c$$.lineTo($r$jscomp$11_size$$,
0);$c$$.lineTo($r$jscomp$11_size$$,$m$jscomp$4_t$jscomp$14_x$$);$c$$.lineTo($w$$,$m$jscomp$4_t$jscomp$14_x$$);$c$$.lineTo($w$$,$b$jscomp$16_y$$);$c$$.lineTo($r$jscomp$11_size$$,$b$jscomp$16_y$$);$c$$.lineTo($r$jscomp$11_size$$,$h$$);$c$$.lineTo($l$$,$h$$);$c$$.lineTo($l$$,$b$jscomp$16_y$$);$c$$.lineTo(0,$b$jscomp$16_y$$);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("cross",$CrossShape$$);mxUtils.extend($DisplayShape$$,mxActor);$DisplayShape$$.prototype.size=.25;$DisplayShape$$.prototype.redrawPath=
function($c$$,$dx$jscomp$50_x$$,$s$jscomp$48_y$$,$w$$,$h$$){$dx$jscomp$50_x$$=Math.min($w$$,$h$$/2);$s$jscomp$48_y$$=Math.min($w$$-$dx$jscomp$50_x$$,Math.max(0,parseFloat(mxUtils.getValue(this.style,"size",this.size)))*$w$$);$c$$.moveTo(0,$h$$/2);$c$$.lineTo($s$jscomp$48_y$$,0);$c$$.lineTo($w$$-$dx$jscomp$50_x$$,0);$c$$.quadTo($w$$,0,$w$$,$h$$/2);$c$$.quadTo($w$$,$h$$,$w$$-$dx$jscomp$50_x$$,$h$$);$c$$.lineTo($s$jscomp$48_y$$,$h$$);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("display",$DisplayShape$$);
mxUtils.extend($mxShapeBasicRect2$$,mxActor);$mxShapeBasicRect2$$.prototype.cst={RECT2:"mxgraph.basic.rect"};$mxShapeBasicRect2$$.prototype.customProperties=[{name:"rectStyle",dispName:"Style",type:"enum",defVal:"square",enumList:[{val:"square",dispName:"Square"},{val:"rounded",dispName:"Round"},{val:"snip",dispName:"Snip"},{val:"invRound",dispName:"Inv. Round"},{val:"fold",dispName:"Fold"}]},{name:"size",dispName:"Corner Size",type:"float",defVal:10},{name:"absoluteCornerSize",dispName:"Abs. Corner Size",
type:"bool",defVal:!0},{name:"indent",dispName:"Indent",type:"float",defVal:2},{name:"rectOutline",dispName:"Outline",type:"enum",defVal:"single",enumList:[{val:"single",dispName:"Single"},{val:"double",dispName:"Double"},{val:"frame",dispName:"Frame"}]},{name:"fillColor2",dispName:"Inside Fill Color",type:"color",defVal:"none"},{name:"gradientColor2",dispName:"Inside Gradient Color",type:"color",defVal:"none"},{name:"gradientDirection2",dispName:"Inside Gradient Direction",type:"enum",defVal:"south",
enumList:[{val:"south",dispName:"South"},{val:"west",dispName:"West"},{val:"north",dispName:"North"},{val:"east",dispName:"East"}]},{name:"top",dispName:"Top Line",type:"bool",defVal:!0},{name:"right",dispName:"Right",type:"bool",defVal:!0},{name:"bottom",dispName:"Bottom Line",type:"bool",defVal:!0},{name:"left",dispName:"Left ",type:"bool",defVal:!0},{name:"topLeftStyle",dispName:"Top Left Style",type:"enum",defVal:"default",enumList:[{val:"default",dispName:"Default"},{val:"square",dispName:"Square"},
{val:"rounded",dispName:"Round"},{val:"snip",dispName:"Snip"},{val:"invRound",dispName:"Inv. Round"},{val:"fold",dispName:"Fold"}]},{name:"topRightStyle",dispName:"Top Right Style",type:"enum",defVal:"default",enumList:[{val:"default",dispName:"Default"},{val:"square",dispName:"Square"},{val:"rounded",dispName:"Round"},{val:"snip",dispName:"Snip"},{val:"invRound",dispName:"Inv. Round"},{val:"fold",dispName:"Fold"}]},{name:"bottomRightStyle",dispName:"Bottom Right Style",type:"enum",defVal:"default",
enumList:[{val:"default",dispName:"Default"},{val:"square",dispName:"Square"},{val:"rounded",dispName:"Round"},{val:"snip",dispName:"Snip"},{val:"invRound",dispName:"Inv. Round"},{val:"fold",dispName:"Fold"}]},{name:"bottomLeftStyle",dispName:"Bottom Left Style",type:"enum",defVal:"default",enumList:[{val:"default",dispName:"Default"},{val:"square",dispName:"Square"},{val:"rounded",dispName:"Round"},{val:"snip",dispName:"Snip"},{val:"invRound",dispName:"Inv. Round"},{val:"fold",dispName:"Fold"}]}];
$mxShapeBasicRect2$$.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.translate($x$$,$y$$);this.strictDrawShape($c$$,0,0,$w$$,$h$$)};$mxShapeBasicRect2$$.prototype.strictDrawShape=function($c$$,$x$$,$y$$,$w$$,$h$$,$os_sc$$){var $rectStyle$$=$os_sc$$&&$os_sc$$.rectStyle?$os_sc$$.rectStyle:mxUtils.getValue(this.style,"rectStyle",this.rectStyle),$absoluteCornerSize_op1$$=$os_sc$$&&$os_sc$$.absoluteCornerSize?$os_sc$$.absoluteCornerSize:mxUtils.getValue(this.style,"absoluteCornerSize",
this.absoluteCornerSize),$size$$=$os_sc$$&&$os_sc$$.size?$os_sc$$.size:Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),$rectOutline$$=$os_sc$$&&$os_sc$$.rectOutline?$os_sc$$.rectOutline:mxUtils.getValue(this.style,"rectOutline",this.rectOutline),$indent$$=$os_sc$$&&$os_sc$$.indent?$os_sc$$.indent:Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"indent",this.indent)))),$dashed_op2$$=$os_sc$$&&$os_sc$$.dashed?$os_sc$$.dashed:mxUtils.getValue(this.style,
"dashed",!1),$dashPattern$$=$os_sc$$&&$os_sc$$.dashPattern?$os_sc$$.dashPattern:mxUtils.getValue(this.style,"dashPattern",null),$relIndent$$=$os_sc$$&&$os_sc$$.relIndent?$os_sc$$.relIndent:Math.max(0,Math.min(50,$indent$$)),$top$$=$os_sc$$&&$os_sc$$.top?$os_sc$$.top:mxUtils.getValue(this.style,"top",!0),$right$$=$os_sc$$&&$os_sc$$.right?$os_sc$$.right:mxUtils.getValue(this.style,"right",!0),$bottom$$=$os_sc$$&&$os_sc$$.bottom?$os_sc$$.bottom:mxUtils.getValue(this.style,"bottom",!0),$left$$=$os_sc$$&&
$os_sc$$.left?$os_sc$$.left:mxUtils.getValue(this.style,"left",!0),$topLeftStyle$$=$os_sc$$&&$os_sc$$.topLeftStyle?$os_sc$$.topLeftStyle:mxUtils.getValue(this.style,"topLeftStyle","default"),$topRightStyle$$=$os_sc$$&&$os_sc$$.topRightStyle?$os_sc$$.topRightStyle:mxUtils.getValue(this.style,"topRightStyle","default"),$bottomRightStyle$$=$os_sc$$&&$os_sc$$.bottomRightStyle?$os_sc$$.bottomRightStyle:mxUtils.getValue(this.style,"bottomRightStyle","default"),$bottomLeftStyle$$=$os_sc$$&&$os_sc$$.bottomLeftStyle?
$os_sc$$.bottomLeftStyle:mxUtils.getValue(this.style,"bottomLeftStyle","default"),$fillColor$$=$os_sc$$&&$os_sc$$.fillColor?$os_sc$$.fillColor:mxUtils.getValue(this.style,"fillColor","#ffffff");$os_sc$$&&$os_sc$$.strokeColor||mxUtils.getValue(this.style,"strokeColor","#000000");var $strokeWidth$$=$os_sc$$&&$os_sc$$.strokeWidth?$os_sc$$.strokeWidth:mxUtils.getValue(this.style,"strokeWidth","1"),$fillColor2$$=$os_sc$$&&$os_sc$$.fillColor2?$os_sc$$.fillColor2:mxUtils.getValue(this.style,"fillColor2",
"none"),$gradientColor2$$=$os_sc$$&&$os_sc$$.gradientColor2?$os_sc$$.gradientColor2:mxUtils.getValue(this.style,"gradientColor2","none"),$gdir2$$=$os_sc$$&&$os_sc$$.gradientDirection2?$os_sc$$.gradientDirection2:mxUtils.getValue(this.style,"gradientDirection2","south"),$opacity$$=$os_sc$$&&$os_sc$$.opacity?$os_sc$$.opacity:mxUtils.getValue(this.style,"opacity","100"),$relSize$$=Math.max(0,Math.min(50,$size$$));$os_sc$$=$mxShapeBasicRect2$$.prototype;$c$$.setDashed($dashed_op2$$);$dashPattern$$&&""!=
$dashPattern$$&&$c$$.setDashPattern($dashPattern$$);$c$$.setStrokeWidth($strokeWidth$$);$size$$=Math.min(.5*$h$$,.5*$w$$,$size$$);$absoluteCornerSize_op1$$||($size$$=$relSize$$*Math.min($w$$,$h$$)/100);$size$$=Math.min($size$$,.5*Math.min($w$$,$h$$));$absoluteCornerSize_op1$$||($indent$$=Math.min($relIndent$$*Math.min($w$$,$h$$)/100));$indent$$=Math.min($indent$$,.5*Math.min($w$$,$h$$)-$size$$);($top$$||$right$$||$bottom$$||$left$$)&&"frame"!=$rectOutline$$&&($c$$.begin(),$top$$?$os_sc$$.moveNW($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$):$c$$.moveTo(0,0),$top$$&&$os_sc$$.paintNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),$right$$&&$os_sc$$.paintNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),$bottom$$&&$os_sc$$.paintSE($c$$,$x$$,
$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$left$$&&$os_sc$$.paintSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$c$$.close(),$c$$.fill(),$c$$.setShadow(!1),$c$$.setFillColor($fillColor2$$),$dashed_op2$$=$absoluteCornerSize_op1$$=$opacity$$,"none"==$fillColor2$$&&
($absoluteCornerSize_op1$$=0),"none"==$gradientColor2$$&&($dashed_op2$$=0),$c$$.setGradient($fillColor2$$,$gradientColor2$$,0,0,$w$$,$h$$,$gdir2$$,$absoluteCornerSize_op1$$,$dashed_op2$$),$c$$.begin(),$top$$?$os_sc$$.moveNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$top$$,$left$$):$c$$.moveTo($indent$$,0),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$left$$&&$bottom$$&&$os_sc$$.paintSWInner($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$bottom$$&&$right$$&&$os_sc$$.paintSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),$right$$&&$top$$&&$os_sc$$.paintNEInner($c$$,$x$$,$y$$,$w$$,$h$$,
$rectStyle$$,$topRightStyle$$,$size$$,$indent$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$top$$&&$left$$&&$os_sc$$.paintNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$),$c$$.fill(),"none"==$fillColor$$&&($c$$.begin(),$os_sc$$.paintFolds($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$topRightStyle$$,$bottomRightStyle$$,$bottomLeftStyle$$,$size$$,$top$$,$right$$,$bottom$$,$left$$),$c$$.stroke()));
$top$$||$right$$||$bottom$$||!$left$$?$top$$||$right$$||!$bottom$$||$left$$?!$top$$&&!$right$$&&$bottom$$&&$left$$?"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.paintSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,
$size$$,$top$$),"double"==$rectOutline$$&&($os_sc$$.moveNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$top$$,$left$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$os_sc$$.paintSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$)),
$c$$.stroke()):($c$$.begin(),$os_sc$$.moveSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.paintSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$os_sc$$.lineNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$top$$,$left$$),
$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$os_sc$$.paintSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$c$$.close(),$c$$.fillAndStroke()):$top$$||!$right$$||$bottom$$||$left$$?!$top$$&&$right$$&&!$bottom$$&&$left$$?"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveSW($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),"double"==$rectOutline$$&&($os_sc$$.moveNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$top$$,$left$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$)),$c$$.stroke(),$c$$.begin(),$os_sc$$.moveNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,
$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),"double"==$rectOutline$$&&($os_sc$$.moveSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$os_sc$$.lineNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$top$$,$left$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$c$$.close(),$c$$.fillAndStroke(),$c$$.begin(),$os_sc$$.moveNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,
$size$$,$bottom$$),$os_sc$$.lineSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),$c$$.close(),$c$$.fillAndStroke()):!$top$$&&$right$$&&$bottom$$&&!$left$$?"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,
$size$$,$bottom$$),$os_sc$$.paintSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),"double"==$rectOutline$$&&($os_sc$$.moveSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$left$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$os_sc$$.paintSEInner($c$$,$x$$,$y$$,$w$$,
$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),$os_sc$$.paintSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.lineSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$left$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$os_sc$$.paintSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),
$c$$.close(),$c$$.fillAndStroke()):!$top$$&&$right$$&&$bottom$$&&$left$$?"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),$os_sc$$.paintSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.paintSW($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),"double"==$rectOutline$$&&($os_sc$$.moveNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$top$$,$left$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$os_sc$$.paintSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,
$indent$$,$bottom$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$os_sc$$.paintSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,
$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),$os_sc$$.paintSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.paintSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$os_sc$$.lineNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,
$size$$,$indent$$,$top$$,$left$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$os_sc$$.paintSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$os_sc$$.paintSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$),$os_sc$$.paintRightInner($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),$c$$.close(),$c$$.fillAndStroke()):!$top$$||$right$$||$bottom$$||$left$$?$top$$&&!$right$$&&!$bottom$$&&$left$$?"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$os_sc$$.paintNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),
$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),"double"==$rectOutline$$&&($os_sc$$.moveNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$right$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$os_sc$$.paintNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,
$size$$,$indent$$,$bottom$$,$left$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$os_sc$$.paintNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),$os_sc$$.lineNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,
$size$$,$indent$$,$right$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$os_sc$$.paintNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$c$$.close(),$c$$.fillAndStroke()):$top$$&&!$right$$&&$bottom$$&&!$left$$?"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveNW($c$$,$x$$,$y$$,$w$$,$h$$,
$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),"double"==$rectOutline$$&&($os_sc$$.moveNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$right$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$)),$c$$.stroke(),$c$$.begin(),$os_sc$$.moveSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),"double"==$rectOutline$$&&($os_sc$$.moveSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$left$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,
$size$$,$right$$),$os_sc$$.lineNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$right$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$c$$.close(),$c$$.fillAndStroke(),$c$$.begin(),$os_sc$$.moveSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.lineSWInner($c$$,$x$$,$y$$,
$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$left$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$c$$.close(),$c$$.fillAndStroke()):$top$$&&!$right$$&&$bottom$$&&$left$$?"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.paintSW($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$os_sc$$.paintNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),"double"==$rectOutline$$&&($os_sc$$.moveNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$right$$),$os_sc$$.paintTopInner($c$$,$x$$,
$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$os_sc$$.paintNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$os_sc$$.paintSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,
$right$$,$bottom$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.paintSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$os_sc$$.paintNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),
$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),$os_sc$$.lineNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$right$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$os_sc$$.paintNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,
$left$$),$os_sc$$.paintSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$c$$.close(),$c$$.fillAndStroke()):$top$$&&$right$$&&!$bottom$$&&!$left$$?"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,
$size$$,$right$$),$os_sc$$.paintNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),"double"==$rectOutline$$&&($os_sc$$.moveSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),$os_sc$$.paintNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,
$topRightStyle$$,$size$$,$indent$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),$os_sc$$.paintNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,
$bottomRightStyle$$,$size$$,$bottom$$),$os_sc$$.lineSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),$os_sc$$.paintNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$c$$.close(),$c$$.fillAndStroke()):
$top$$&&$right$$&&!$bottom$$&&$left$$?"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$os_sc$$.paintNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),$os_sc$$.paintNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,
$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),"double"==$rectOutline$$&&($os_sc$$.moveSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),$os_sc$$.paintNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,
$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$os_sc$$.paintNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$os_sc$$.paintNW($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),$os_sc$$.paintNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),$os_sc$$.lineSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,
$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),$os_sc$$.paintNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$os_sc$$.paintNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$c$$.close(),$c$$.fillAndStroke()):
$top$$&&$right$$&&$bottom$$&&!$left$$?"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),$os_sc$$.paintNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),$os_sc$$.paintSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,
$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),"double"==$rectOutline$$&&($os_sc$$.moveSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$left$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$os_sc$$.paintSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$),$os_sc$$.paintRightInner($c$$,$x$$,
$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),$os_sc$$.paintNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),$os_sc$$.paintNE($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),$os_sc$$.paintSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.lineSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$left$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,
$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$os_sc$$.paintSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),$os_sc$$.paintNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$c$$.close(),
$c$$.fillAndStroke()):$top$$&&$right$$&&$bottom$$&&$left$$&&("frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),$os_sc$$.paintNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,
$bottomRightStyle$$,$size$$,$bottom$$),$os_sc$$.paintSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.paintSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$c$$.close(),"double"==$rectOutline$$&&($os_sc$$.moveSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,
$bottomLeftStyle$$,$size$$,$indent$$,$left$$),$os_sc$$.paintSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$os_sc$$.paintSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),$os_sc$$.paintNEInner($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$os_sc$$.paintNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$c$$.close()),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,
$size$$,$left$$),$os_sc$$.paintNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),$os_sc$$.paintNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),$os_sc$$.paintSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,
$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.paintSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$c$$.close(),$os_sc$$.moveSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$left$$),$os_sc$$.paintSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintBottomInner($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$os_sc$$.paintSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$),$os_sc$$.paintNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,
$top$$),$os_sc$$.paintNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$c$$.close(),$c$$.fillAndStroke())):"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),"double"==$rectOutline$$&&($os_sc$$.moveNEInner($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$right$$),$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveNW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$),$os_sc$$.paintTop($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$),$os_sc$$.lineNEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$right$$),
$os_sc$$.paintTopInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$),$c$$.close(),$c$$.fillAndStroke()):"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),"double"==$rectOutline$$&&($os_sc$$.moveSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$bottom$$),
$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveNE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$),$os_sc$$.paintRight($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$),$os_sc$$.lineSEInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$bottom$$),$os_sc$$.paintRightInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,
$size$$,$indent$$,$top$$,$right$$),$c$$.close(),$c$$.fillAndStroke()):"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),"double"==$rectOutline$$&&($os_sc$$.moveSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$left$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,
$size$$,$indent$$,$right$$,$bottom$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveSE($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$),$os_sc$$.paintBottom($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$),$os_sc$$.lineSWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$left$$),$os_sc$$.paintBottomInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$),$c$$.close(),$c$$.fillAndStroke()):
"frame"!=$rectOutline$$?($c$$.begin(),$os_sc$$.moveSW($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),"double"==$rectOutline$$&&($os_sc$$.moveNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$top$$,$left$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$)),$c$$.stroke()):($c$$.begin(),$os_sc$$.moveSW($c$$,
$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$bottom$$),$os_sc$$.paintLeft($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$),$os_sc$$.lineNWInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$top$$,$left$$),$os_sc$$.paintLeftInner($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,$left$$),$c$$.close(),$c$$.fillAndStroke());$c$$.begin();$os_sc$$.paintFolds($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,
$topRightStyle$$,$bottomRightStyle$$,$bottomLeftStyle$$,$size$$,$top$$,$right$$,$bottom$$,$left$$);$c$$.stroke()};$mxShapeBasicRect2$$.prototype.moveNW=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$){"square"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"square"==$rectStyle$$||!$left$$?$c$$.moveTo(0,0):$c$$.moveTo(0,$size$$)};$mxShapeBasicRect2$$.prototype.moveNE=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$){"square"==$topRightStyle$$||
"default"==$topRightStyle$$&&"square"==$rectStyle$$||!$top$$?$c$$.moveTo($w$$,0):$c$$.moveTo($w$$-$size$$,0)};$mxShapeBasicRect2$$.prototype.moveSE=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$){"square"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"square"==$rectStyle$$||!$right$$?$c$$.moveTo($w$$,$h$$):$c$$.moveTo($w$$,$h$$-$size$$)};$mxShapeBasicRect2$$.prototype.moveSW=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$){"square"==
$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"square"==$rectStyle$$||!$bottom$$?$c$$.moveTo(0,$h$$):$c$$.moveTo($size$$,$h$$)};$mxShapeBasicRect2$$.prototype.paintNW=function($c$$,$inv_x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$left$$){if($left$$)if("rounded"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"rounded"==$rectStyle$$||"invRound"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"invRound"==$rectStyle$$){$inv_x$$=0;if("rounded"==$topLeftStyle$$||"default"==$topLeftStyle$$&&
"rounded"==$rectStyle$$)$inv_x$$=1;$c$$.arcTo($size$$,$size$$,0,0,$inv_x$$,$size$$,0)}else("snip"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"snip"==$rectStyle$$||"fold"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"fold"==$rectStyle$$)&&$c$$.lineTo($size$$,0);else $c$$.lineTo(0,0)};$mxShapeBasicRect2$$.prototype.paintTop=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$right$$){"square"==$topRightStyle$$||"default"==$topRightStyle$$&&"square"==$rectStyle$$||!$right$$?
$c$$.lineTo($w$$,0):$c$$.lineTo($w$$-$size$$,0)};$mxShapeBasicRect2$$.prototype.paintNE=function($c$$,$inv$jscomp$1_x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$top$$){if($top$$)if("rounded"==$topRightStyle$$||"default"==$topRightStyle$$&&"rounded"==$rectStyle$$||"invRound"==$topRightStyle$$||"default"==$topRightStyle$$&&"invRound"==$rectStyle$$){$inv$jscomp$1_x$$=0;if("rounded"==$topRightStyle$$||"default"==$topRightStyle$$&&"rounded"==$rectStyle$$)$inv$jscomp$1_x$$=1;$c$$.arcTo($size$$,
$size$$,0,0,$inv$jscomp$1_x$$,$w$$,$size$$)}else("snip"==$topRightStyle$$||"default"==$topRightStyle$$&&"snip"==$rectStyle$$||"fold"==$topRightStyle$$||"default"==$topRightStyle$$&&"fold"==$rectStyle$$)&&$c$$.lineTo($w$$,$size$$);else $c$$.lineTo($w$$,0)};$mxShapeBasicRect2$$.prototype.paintRight=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$bottom$$){"square"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"square"==$rectStyle$$||!$bottom$$?$c$$.lineTo($w$$,$h$$):
$c$$.lineTo($w$$,$h$$-$size$$)};$mxShapeBasicRect2$$.prototype.paintLeft=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$top$$){"square"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"square"==$rectStyle$$||!$top$$?$c$$.lineTo(0,0):$c$$.lineTo(0,$size$$)};$mxShapeBasicRect2$$.prototype.paintSE=function($c$$,$inv$jscomp$2_x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$right$$){if($right$$)if("rounded"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"rounded"==
$rectStyle$$||"invRound"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"invRound"==$rectStyle$$){$inv$jscomp$2_x$$=0;if("rounded"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"rounded"==$rectStyle$$)$inv$jscomp$2_x$$=1;$c$$.arcTo($size$$,$size$$,0,0,$inv$jscomp$2_x$$,$w$$-$size$$,$h$$)}else("snip"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"snip"==$rectStyle$$||"fold"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"fold"==$rectStyle$$)&&$c$$.lineTo($w$$-$size$$,
$h$$);else $c$$.lineTo($w$$,$h$$)};$mxShapeBasicRect2$$.prototype.paintBottom=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$left$$){"square"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"square"==$rectStyle$$||!$left$$?$c$$.lineTo(0,$h$$):$c$$.lineTo($size$$,$h$$)};$mxShapeBasicRect2$$.prototype.paintSW=function($c$$,$inv$jscomp$3_x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$bottom$$){if($bottom$$)if("rounded"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&
"rounded"==$rectStyle$$||"invRound"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"invRound"==$rectStyle$$){$inv$jscomp$3_x$$=0;if("rounded"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"rounded"==$rectStyle$$)$inv$jscomp$3_x$$=1;$c$$.arcTo($size$$,$size$$,0,0,$inv$jscomp$3_x$$,0,$h$$-$size$$)}else("snip"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"snip"==$rectStyle$$||"fold"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"fold"==$rectStyle$$)&&$c$$.lineTo(0,$h$$-$size$$);
else $c$$.lineTo(0,$h$$)};$mxShapeBasicRect2$$.prototype.paintNWInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$){if("rounded"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"rounded"==$rectStyle$$)$c$$.arcTo($size$$-.5*$indent$$,$size$$-.5*$indent$$,0,0,0,$indent$$,.5*$indent$$+$size$$);else if("invRound"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"invRound"==$rectStyle$$)$c$$.arcTo($size$$+$indent$$,$size$$+$indent$$,0,0,1,$indent$$,$indent$$+$size$$);else if("snip"==
$topLeftStyle$$||"default"==$topLeftStyle$$&&"snip"==$rectStyle$$)$c$$.lineTo($indent$$,.5*$indent$$+$size$$);else if("fold"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"fold"==$rectStyle$$)$c$$.lineTo($indent$$+$size$$,$indent$$+$size$$),$c$$.lineTo($indent$$,$indent$$+$size$$)};$mxShapeBasicRect2$$.prototype.paintTopInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$left$$,$top$$){$left$$||$top$$?!$left$$&&$top$$?$c$$.lineTo(0,$indent$$):$left$$&&!$top$$?$c$$.lineTo($indent$$,
0):$left$$?"square"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"square"==$rectStyle$$?$c$$.lineTo($indent$$,$indent$$):"rounded"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"rounded"==$rectStyle$$||"snip"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"snip"==$rectStyle$$?$c$$.lineTo($size$$+.5*$indent$$,$indent$$):$c$$.lineTo($size$$+$indent$$,$indent$$):$c$$.lineTo(0,$indent$$):$c$$.lineTo(0,0)};$mxShapeBasicRect2$$.prototype.paintNEInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,
$size$$,$indent$$){if("rounded"==$topRightStyle$$||"default"==$topRightStyle$$&&"rounded"==$rectStyle$$)$c$$.arcTo($size$$-.5*$indent$$,$size$$-.5*$indent$$,0,0,0,$w$$-$size$$-.5*$indent$$,$indent$$);else if("invRound"==$topRightStyle$$||"default"==$topRightStyle$$&&"invRound"==$rectStyle$$)$c$$.arcTo($size$$+$indent$$,$size$$+$indent$$,0,0,1,$w$$-$size$$-$indent$$,$indent$$);else if("snip"==$topRightStyle$$||"default"==$topRightStyle$$&&"snip"==$rectStyle$$)$c$$.lineTo($w$$-$size$$-.5*$indent$$,
$indent$$);else if("fold"==$topRightStyle$$||"default"==$topRightStyle$$&&"fold"==$rectStyle$$)$c$$.lineTo($w$$-$size$$-$indent$$,$size$$+$indent$$),$c$$.lineTo($w$$-$size$$-$indent$$,$indent$$)};$mxShapeBasicRect2$$.prototype.paintRightInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$top$$,$right$$){$top$$||$right$$?!$top$$&&$right$$?$c$$.lineTo($w$$-$indent$$,0):$top$$&&!$right$$?$c$$.lineTo($w$$,$indent$$):$top$$?"square"==$topRightStyle$$||"default"==$topRightStyle$$&&
"square"==$rectStyle$$?$c$$.lineTo($w$$-$indent$$,$indent$$):"rounded"==$topRightStyle$$||"default"==$topRightStyle$$&&"rounded"==$rectStyle$$||"snip"==$topRightStyle$$||"default"==$topRightStyle$$&&"snip"==$rectStyle$$?$c$$.lineTo($w$$-$indent$$,$size$$+.5*$indent$$):$c$$.lineTo($w$$-$indent$$,$size$$+$indent$$):$c$$.lineTo($w$$-$indent$$,0):$c$$.lineTo($w$$,0)};$mxShapeBasicRect2$$.prototype.paintLeftInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$,
$left$$){$bottom$$||$left$$?!$bottom$$&&$left$$?$c$$.lineTo($indent$$,$h$$):$bottom$$&&!$left$$?$c$$.lineTo(0,$h$$-$indent$$):$bottom$$?"square"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"square"==$rectStyle$$?$c$$.lineTo($indent$$,$h$$-$indent$$):"rounded"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"rounded"==$rectStyle$$||"snip"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"snip"==$rectStyle$$?$c$$.lineTo($indent$$,$h$$-$size$$-.5*$indent$$):$c$$.lineTo($indent$$,$h$$-
$size$$-$indent$$):$c$$.lineTo($indent$$,$h$$):$c$$.lineTo(0,$h$$)};$mxShapeBasicRect2$$.prototype.paintSEInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$){if("rounded"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"rounded"==$rectStyle$$)$c$$.arcTo($size$$-.5*$indent$$,$size$$-.5*$indent$$,0,0,0,$w$$-$indent$$,$h$$-$size$$-.5*$indent$$);else if("invRound"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"invRound"==$rectStyle$$)$c$$.arcTo($size$$+
$indent$$,$size$$+$indent$$,0,0,1,$w$$-$indent$$,$h$$-$size$$-$indent$$);else if("snip"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"snip"==$rectStyle$$)$c$$.lineTo($w$$-$indent$$,$h$$-$size$$-.5*$indent$$);else if("fold"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"fold"==$rectStyle$$)$c$$.lineTo($w$$-$size$$-$indent$$,$h$$-$size$$-$indent$$),$c$$.lineTo($w$$-$indent$$,$h$$-$size$$-$indent$$)};$mxShapeBasicRect2$$.prototype.paintBottomInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,
$bottomRightStyle$$,$size$$,$indent$$,$right$$,$bottom$$){$right$$||$bottom$$?!$right$$&&$bottom$$?$c$$.lineTo($w$$,$h$$-$indent$$):$right$$&&!$bottom$$?$c$$.lineTo($w$$-$indent$$,$h$$):"square"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"square"==$rectStyle$$||!$right$$?$c$$.lineTo($w$$-$indent$$,$h$$-$indent$$):"rounded"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"rounded"==$rectStyle$$||"snip"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"snip"==$rectStyle$$?$c$$.lineTo($w$$-
$size$$-.5*$indent$$,$h$$-$indent$$):$c$$.lineTo($w$$-$size$$-$indent$$,$h$$-$indent$$):$c$$.lineTo($w$$,$h$$)};$mxShapeBasicRect2$$.prototype.paintSWInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$bottom$$){if(!$bottom$$)$c$$.lineTo($indent$$,$h$$);else if("square"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"square"==$rectStyle$$)$c$$.lineTo($indent$$,$h$$-$indent$$);else if("rounded"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"rounded"==
$rectStyle$$)$c$$.arcTo($size$$-.5*$indent$$,$size$$-.5*$indent$$,0,0,0,$size$$+.5*$indent$$,$h$$-$indent$$);else if("invRound"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"invRound"==$rectStyle$$)$c$$.arcTo($size$$+$indent$$,$size$$+$indent$$,0,0,1,$size$$+$indent$$,$h$$-$indent$$);else if("snip"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"snip"==$rectStyle$$)$c$$.lineTo($size$$+.5*$indent$$,$h$$-$indent$$);else if("fold"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"fold"==
$rectStyle$$)$c$$.lineTo($indent$$+$size$$,$h$$-$size$$-$indent$$),$c$$.lineTo($indent$$+$size$$,$h$$-$indent$$)};$mxShapeBasicRect2$$.prototype.moveSWInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$left$$){$left$$?"square"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"square"==$rectStyle$$?$c$$.moveTo($indent$$,$h$$-$indent$$):"rounded"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"rounded"==$rectStyle$$||"snip"==$bottomLeftStyle$$||"default"==
$bottomLeftStyle$$&&"snip"==$rectStyle$$?$c$$.moveTo($indent$$,$h$$-$size$$-.5*$indent$$):("invRound"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"invRound"==$rectStyle$$||"fold"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"fold"==$rectStyle$$)&&$c$$.moveTo($indent$$,$h$$-$size$$-$indent$$):$c$$.moveTo(0,$h$$-$indent$$)};$mxShapeBasicRect2$$.prototype.lineSWInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomLeftStyle$$,$size$$,$indent$$,$left$$){$left$$?"square"==$bottomLeftStyle$$||
"default"==$bottomLeftStyle$$&&"square"==$rectStyle$$?$c$$.lineTo($indent$$,$h$$-$indent$$):"rounded"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"rounded"==$rectStyle$$||"snip"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"snip"==$rectStyle$$?$c$$.lineTo($indent$$,$h$$-$size$$-.5*$indent$$):("invRound"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"invRound"==$rectStyle$$||"fold"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"fold"==$rectStyle$$)&&$c$$.lineTo($indent$$,
$h$$-$size$$-$indent$$):$c$$.lineTo(0,$h$$-$indent$$)};$mxShapeBasicRect2$$.prototype.moveSEInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$bottom$$){$bottom$$?"square"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"square"==$rectStyle$$?$c$$.moveTo($w$$-$indent$$,$h$$-$indent$$):"rounded"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"rounded"==$rectStyle$$||"snip"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"snip"==$rectStyle$$?
$c$$.moveTo($w$$-$indent$$,$h$$-$size$$-.5*$indent$$):("invRound"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"invRound"==$rectStyle$$||"fold"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"fold"==$rectStyle$$)&&$c$$.moveTo($w$$-$indent$$,$h$$-$size$$-$indent$$):$c$$.moveTo($w$$-$indent$$,$h$$)};$mxShapeBasicRect2$$.prototype.lineSEInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$bottomRightStyle$$,$size$$,$indent$$,$bottom$$){$bottom$$?"square"==$bottomRightStyle$$||"default"==
$bottomRightStyle$$&&"square"==$rectStyle$$?$c$$.lineTo($w$$-$indent$$,$h$$-$indent$$):"rounded"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"rounded"==$rectStyle$$||"snip"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"snip"==$rectStyle$$?$c$$.lineTo($w$$-$indent$$,$h$$-$size$$-.5*$indent$$):("invRound"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"invRound"==$rectStyle$$||"fold"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"fold"==$rectStyle$$)&&$c$$.lineTo($w$$-
$indent$$,$h$$-$size$$-$indent$$):$c$$.lineTo($w$$-$indent$$,$h$$)};$mxShapeBasicRect2$$.prototype.moveNEInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$right$$){$right$$?"square"==$topRightStyle$$||"default"==$topRightStyle$$&&"square"==$rectStyle$$||$right$$?$c$$.moveTo($w$$-$indent$$,$indent$$):"rounded"==$topRightStyle$$||"default"==$topRightStyle$$&&"rounded"==$rectStyle$$||"snip"==$topRightStyle$$||"default"==$topRightStyle$$&&"snip"==$rectStyle$$?$c$$.moveTo($w$$-
$indent$$,$size$$+.5*$indent$$):("invRound"==$topRightStyle$$||"default"==$topRightStyle$$&&"invRound"==$rectStyle$$||"fold"==$topRightStyle$$||"default"==$topRightStyle$$&&"fold"==$rectStyle$$)&&$c$$.moveTo($w$$-$indent$$,$size$$+$indent$$):$c$$.moveTo($w$$,$indent$$)};$mxShapeBasicRect2$$.prototype.lineNEInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topRightStyle$$,$size$$,$indent$$,$right$$){$right$$?"square"==$topRightStyle$$||"default"==$topRightStyle$$&&"square"==$rectStyle$$||$right$$?
$c$$.lineTo($w$$-$indent$$,$indent$$):"rounded"==$topRightStyle$$||"default"==$topRightStyle$$&&"rounded"==$rectStyle$$||"snip"==$topRightStyle$$||"default"==$topRightStyle$$&&"snip"==$rectStyle$$?$c$$.lineTo($w$$-$indent$$,$size$$+.5*$indent$$):("invRound"==$topRightStyle$$||"default"==$topRightStyle$$&&"invRound"==$rectStyle$$||"fold"==$topRightStyle$$||"default"==$topRightStyle$$&&"fold"==$rectStyle$$)&&$c$$.lineTo($w$$-$indent$$,$size$$+$indent$$):$c$$.lineTo($w$$,$indent$$)};$mxShapeBasicRect2$$.prototype.moveNWInner=
function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$top$$,$left$$){$top$$||$left$$?!$top$$&&$left$$?$c$$.moveTo($indent$$,0):$top$$&&!$left$$?$c$$.moveTo(0,$indent$$):"square"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"square"==$rectStyle$$?$c$$.moveTo($indent$$,$indent$$):"rounded"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"rounded"==$rectStyle$$||"snip"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"snip"==$rectStyle$$?$c$$.moveTo($indent$$,$size$$+.5*$indent$$):
("invRound"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"invRound"==$rectStyle$$||"fold"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"fold"==$rectStyle$$)&&$c$$.moveTo($indent$$,$size$$+$indent$$):$c$$.moveTo(0,0)};$mxShapeBasicRect2$$.prototype.lineNWInner=function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$size$$,$indent$$,$top$$,$left$$){$top$$||$left$$?!$top$$&&$left$$?$c$$.lineTo($indent$$,0):$top$$&&!$left$$?$c$$.lineTo(0,$indent$$):"square"==$topLeftStyle$$||"default"==$topLeftStyle$$&&
"square"==$rectStyle$$?$c$$.lineTo($indent$$,$indent$$):"rounded"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"rounded"==$rectStyle$$||"snip"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"snip"==$rectStyle$$?$c$$.lineTo($indent$$,$size$$+.5*$indent$$):("invRound"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"invRound"==$rectStyle$$||"fold"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"fold"==$rectStyle$$)&&$c$$.lineTo($indent$$,$size$$+$indent$$):$c$$.lineTo(0,0)};$mxShapeBasicRect2$$.prototype.paintFolds=
function($c$$,$x$$,$y$$,$w$$,$h$$,$rectStyle$$,$topLeftStyle$$,$topRightStyle$$,$bottomRightStyle$$,$bottomLeftStyle$$,$size$$,$top$$,$right$$,$bottom$$,$left$$){if("fold"==$rectStyle$$||"fold"==$topLeftStyle$$||"fold"==$topRightStyle$$||"fold"==$bottomRightStyle$$||"fold"==$bottomLeftStyle$$)("fold"==$topLeftStyle$$||"default"==$topLeftStyle$$&&"fold"==$rectStyle$$)&&$top$$&&$left$$&&($c$$.moveTo(0,$size$$),$c$$.lineTo($size$$,$size$$),$c$$.lineTo($size$$,0)),("fold"==$topRightStyle$$||"default"==
$topRightStyle$$&&"fold"==$rectStyle$$)&&$top$$&&$right$$&&($c$$.moveTo($w$$-$size$$,0),$c$$.lineTo($w$$-$size$$,$size$$),$c$$.lineTo($w$$,$size$$)),("fold"==$bottomRightStyle$$||"default"==$bottomRightStyle$$&&"fold"==$rectStyle$$)&&$bottom$$&&$right$$&&($c$$.moveTo($w$$-$size$$,$h$$),$c$$.lineTo($w$$-$size$$,$h$$-$size$$),$c$$.lineTo($w$$,$h$$-$size$$)),("fold"==$bottomLeftStyle$$||"default"==$bottomLeftStyle$$&&"fold"==$rectStyle$$)&&$bottom$$&&$left$$&&($c$$.moveTo(0,$h$$-$size$$),$c$$.lineTo($size$$,
$h$$-$size$$),$c$$.lineTo($size$$,$h$$))};mxCellRenderer.registerShape($mxShapeBasicRect2$$.prototype.cst.RECT2,$mxShapeBasicRect2$$);$mxShapeBasicRect2$$.prototype.constraints=null;mxUtils.extend($FilledEdge$$,mxConnector);$FilledEdge$$.prototype.origPaintEdgeShape=$FilledEdge$$.prototype.paintEdgeShape;$FilledEdge$$.prototype.paintEdgeShape=function($c$$,$pts$$,$rounded$$){for(var $fillClr_temp$$=[],$dashed$jscomp$1_i$$=0;$dashed$jscomp$1_i$$<$pts$$.length;$dashed$jscomp$1_i$$++)$fillClr_temp$$.push(mxUtils.clone($pts$$[$dashed$jscomp$1_i$$]));
$dashed$jscomp$1_i$$=$c$$.state.dashed;var $fixDash$$=$c$$.state.fixDash;$FilledEdge$$.prototype.origPaintEdgeShape.apply(this,[$c$$,$fillClr_temp$$,$rounded$$]);3<=$c$$.state.strokeWidth&&($fillClr_temp$$=mxUtils.getValue(this.style,"fillColor",null),null!=$fillClr_temp$$&&($c$$.setStrokeColor($fillClr_temp$$),$c$$.setStrokeWidth($c$$.state.strokeWidth-2),$c$$.setDashed($dashed$jscomp$1_i$$,$fixDash$$),$FilledEdge$$.prototype.origPaintEdgeShape.apply(this,[$c$$,$pts$$,$rounded$$])))};mxCellRenderer.registerShape("filledEdge",
$FilledEdge$$);"undefined"!==typeof StyleFormatPanel&&function(){var $styleFormatPanelGetCustomColors$$=StyleFormatPanel.prototype.getCustomColors;StyleFormatPanel.prototype.getCustomColors=function(){var $ss$$=this.editorUi.getSelectionState(),$result$$=$styleFormatPanelGetCustomColors$$.apply(this,arguments);"umlFrame"==$ss$$.style.shape&&$result$$.push({title:mxResources.get("laneColor"),key:"swimlaneFillColor",defaultValue:"default"});return $result$$}}();mxMarker.addMarker("dash",function($c$$,
$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){var $nx$$=$unitX$$*($size$$+$sw$$+1),$ny$$=$unitY$$*($size$$+$sw$$+1);return function(){$c$$.begin();$c$$.moveTo($pe$$.x-$nx$$/2-$ny$$/2,$pe$$.y-$ny$$/2+$nx$$/2);$c$$.lineTo($pe$$.x+$ny$$/2-3*$nx$$/2,$pe$$.y-3*$ny$$/2-$nx$$/2);$c$$.stroke()}});mxMarker.addMarker("box",function($c$$,$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){var $nx$$=$unitX$$*($size$$+$sw$$+1),$ny$$=$unitY$$*($size$$+$sw$$+
1),$px$$=$pe$$.x+$nx$$/2,$py$$=$pe$$.y+$ny$$/2;$pe$$.x-=$nx$$;$pe$$.y-=$ny$$;return function(){$c$$.begin();$c$$.moveTo($px$$-$nx$$/2-$ny$$/2,$py$$-$ny$$/2+$nx$$/2);$c$$.lineTo($px$$-$nx$$/2+$ny$$/2,$py$$-$ny$$/2-$nx$$/2);$c$$.lineTo($px$$+$ny$$/2-3*$nx$$/2,$py$$-3*$ny$$/2-$nx$$/2);$c$$.lineTo($px$$-$ny$$/2-3*$nx$$/2,$py$$-3*$ny$$/2+$nx$$/2);$c$$.close();$filled$$?$c$$.fillAndStroke():$c$$.stroke()}});mxMarker.addMarker("cross",function($c$$,$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,
$sw$$,$filled$$){var $nx$$=$unitX$$*($size$$+$sw$$+1),$ny$$=$unitY$$*($size$$+$sw$$+1);return function(){$c$$.begin();$c$$.moveTo($pe$$.x-$nx$$/2-$ny$$/2,$pe$$.y-$ny$$/2+$nx$$/2);$c$$.lineTo($pe$$.x+$ny$$/2-3*$nx$$/2,$pe$$.y-3*$ny$$/2-$nx$$/2);$c$$.moveTo($pe$$.x-$nx$$/2+$ny$$/2,$pe$$.y-$ny$$/2-$nx$$/2);$c$$.lineTo($pe$$.x-$ny$$/2-3*$nx$$/2,$pe$$.y-3*$ny$$/2+$nx$$/2);$c$$.stroke()}});mxMarker.addMarker("circle",$circleMarker$$);mxMarker.addMarker("circlePlus",function($c$$,$shape$$,$type$$,$pe$$,
$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){var $pt$$=$pe$$.clone(),$fn$$=$circleMarker$$.apply(this,arguments),$nx$$=$unitX$$*($size$$+2*$sw$$),$ny$$=$unitY$$*($size$$+2*$sw$$);return function(){$fn$$.apply(this,arguments);$c$$.begin();$c$$.moveTo($pt$$.x-$unitX$$*$sw$$,$pt$$.y-$unitY$$*$sw$$);$c$$.lineTo($pt$$.x-2*$nx$$+$unitX$$*$sw$$,$pt$$.y-2*$ny$$+$unitY$$*$sw$$);$c$$.moveTo($pt$$.x-$nx$$-$ny$$+$unitY$$*$sw$$,$pt$$.y-$ny$$+$nx$$-$unitX$$*$sw$$);$c$$.lineTo($pt$$.x+$ny$$-$nx$$-$unitY$$*
$sw$$,$pt$$.y-$ny$$-$nx$$+$unitX$$*$sw$$);$c$$.stroke()}});mxMarker.addMarker("halfCircle",function($c$$,$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){var $nx$$=$unitX$$*($size$$+$sw$$+1),$ny$$=$unitY$$*($size$$+$sw$$+1),$pt$$=$pe$$.clone();$pe$$.x-=$nx$$;$pe$$.y-=$ny$$;return function(){$c$$.begin();$c$$.moveTo($pt$$.x-$ny$$,$pt$$.y+$nx$$);$c$$.quadTo($pe$$.x-$ny$$,$pe$$.y+$nx$$,$pe$$.x,$pe$$.y);$c$$.quadTo($pe$$.x+$ny$$,$pe$$.y-$nx$$,$pt$$.x+$ny$$,$pt$$.y-$nx$$);$c$$.stroke()}});
mxMarker.addMarker("async",function($c$$,$endOffsetX_shape$$,$endOffsetY_type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){$endOffsetX_shape$$=$unitX$$*$sw$$*1.118;$endOffsetY_type$$=$unitY$$*$sw$$*1.118;$unitX$$*=$size$$+$sw$$;$unitY$$*=$size$$+$sw$$;var $pt$$=$pe$$.clone();$pt$$.x-=$endOffsetX_shape$$;$pt$$.y-=$endOffsetY_type$$;$pe$$.x+=-$unitX$$-$endOffsetX_shape$$;$pe$$.y+=-$unitY$$-$endOffsetY_type$$;return function(){$c$$.begin();$c$$.moveTo($pt$$.x,$pt$$.y);$source$$?$c$$.lineTo($pt$$.x-
$unitX$$-$unitY$$/2,$pt$$.y-$unitY$$+$unitX$$/2):$c$$.lineTo($pt$$.x+$unitY$$/2-$unitX$$,$pt$$.y-$unitY$$-$unitX$$/2);$c$$.lineTo($pt$$.x-$unitX$$,$pt$$.y-$unitY$$);$c$$.close();$filled$$?$c$$.fillAndStroke():$c$$.stroke()}});mxMarker.addMarker("openAsync",function($widthFactor$$){$widthFactor$$=null!=$widthFactor$$?$widthFactor$$:2;return function($c$$,$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){$unitX$$*=$size$$+$sw$$;$unitY$$*=$size$$+$sw$$;var $pt$$=$pe$$.clone();
return function(){$c$$.begin();$c$$.moveTo($pt$$.x,$pt$$.y);$source$$?$c$$.lineTo($pt$$.x-$unitX$$-$unitY$$/$widthFactor$$,$pt$$.y-$unitY$$+$unitX$$/$widthFactor$$):$c$$.lineTo($pt$$.x+$unitY$$/$widthFactor$$-$unitX$$,$pt$$.y-$unitY$$-$unitX$$/$widthFactor$$);$c$$.stroke()}}}(2));if("undefined"!==typeof mxVertexHandler){var $createEdgeWidthHandle$$=function($state$$,$start$$,$spacing$$){return $createEdgeHandle$$($state$$,["width"],$start$$,function($dist$$,$nx$$,$ny$$,$p0$$,$p1$jscomp$7_w$$){$p1$jscomp$7_w$$=
$state$$.shape.getEdgeWidth()*$state$$.view.scale+$spacing$$;return new mxPoint($p0$$.x+$nx$$*$dist$$/4+$ny$$*$p1$jscomp$7_w$$/2,$p0$$.y+$ny$$*$dist$$/4-$nx$$*$p1$jscomp$7_w$$/2)},function($dist$jscomp$5_w$$,$nx$$,$ny$$,$p0$$,$p1$$,$pt$$){$dist$jscomp$5_w$$=Math.sqrt(mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$pt$$.x,$pt$$.y));$state$$.style.width=Math.round(2*$dist$jscomp$5_w$$)/$state$$.view.scale-$spacing$$})},$createEdgeHandle$$=function($state$$,$keys$$,$start$$,$getPosition$$,$setPosition$$){return $createHandle$$($state$$,
$keys$$,function($bounds$jscomp$32_tr$$){var $p1$jscomp$9_pts$$=$state$$.absolutePoints;if(null!=$p1$jscomp$9_pts$$&&0<$p1$jscomp$9_pts$$.length){var $dx$jscomp$51_n$$=$p1$jscomp$9_pts$$.length-1;$bounds$jscomp$32_tr$$=$state$$.view.translate;var $s$$=$state$$.view.scale,$p0$jscomp$4_pt$$=$start$$?$p1$jscomp$9_pts$$[0]:$p1$jscomp$9_pts$$[$dx$jscomp$51_n$$];$p1$jscomp$9_pts$$=$start$$?$p1$jscomp$9_pts$$[1]:$p1$jscomp$9_pts$$[$dx$jscomp$51_n$$-1];$dx$jscomp$51_n$$=$p1$jscomp$9_pts$$.x-$p0$jscomp$4_pt$$.x;
var $dy$$=$p1$jscomp$9_pts$$.y-$p0$jscomp$4_pt$$.y,$dist$$=Math.sqrt($dx$jscomp$51_n$$*$dx$jscomp$51_n$$+$dy$$*$dy$$);$p0$jscomp$4_pt$$=$getPosition$$.call(this,$dist$$,$dx$jscomp$51_n$$/$dist$$,$dy$$/$dist$$,$p0$jscomp$4_pt$$,$p1$jscomp$9_pts$$);return new mxPoint($p0$jscomp$4_pt$$.x/$s$$-$bounds$jscomp$32_tr$$.x,$p0$jscomp$4_pt$$.y/$s$$-$bounds$jscomp$32_tr$$.y)}return null},function($bounds$jscomp$33_tr$$,$pt$$,$me$$){var $p1$jscomp$10_pts$$=$state$$.absolutePoints,$dx$jscomp$52_n$$=$p1$jscomp$10_pts$$.length-
1;$bounds$jscomp$33_tr$$=$state$$.view.translate;var $s$$=$state$$.view.scale,$p0$$=$start$$?$p1$jscomp$10_pts$$[0]:$p1$jscomp$10_pts$$[$dx$jscomp$52_n$$];$p1$jscomp$10_pts$$=$start$$?$p1$jscomp$10_pts$$[1]:$p1$jscomp$10_pts$$[$dx$jscomp$52_n$$-1];$dx$jscomp$52_n$$=$p1$jscomp$10_pts$$.x-$p0$$.x;var $dy$$=$p1$jscomp$10_pts$$.y-$p0$$.y,$dist$$=Math.sqrt($dx$jscomp$52_n$$*$dx$jscomp$52_n$$+$dy$$*$dy$$);$pt$$.x=($pt$$.x+$bounds$jscomp$33_tr$$.x)*$s$$;$pt$$.y=($pt$$.y+$bounds$jscomp$33_tr$$.y)*$s$$;$setPosition$$.call(this,
$dist$$,$dx$jscomp$52_n$$/$dist$$,$dy$$/$dist$$,$p0$$,$p1$jscomp$10_pts$$,$pt$$,$me$$)})},$createWedgeHandleFunction$$=function($defaultValue$$,$spacing$$){return function($state$$){return[$createEdgeHandle$$($state$$,["startWidth"],!0,function($dist$$,$nx$$,$ny$$,$p0$$,$p1$jscomp$11_w$$){$p1$jscomp$11_w$$=mxUtils.getNumber($state$$.style,"startWidth",$defaultValue$$)*$state$$.view.scale+$spacing$$;return new mxPoint($p0$$.x+$nx$$*$dist$$/4+$ny$$*$p1$jscomp$11_w$$/2,$p0$$.y+$ny$$*$dist$$/4-$nx$$*
$p1$jscomp$11_w$$/2)},function($dist$jscomp$9_w$$,$nx$$,$ny$$,$p0$$,$p1$$,$pt$$){$dist$jscomp$9_w$$=Math.sqrt(mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$pt$$.x,$pt$$.y));$state$$.style.startWidth=Math.round(2*$dist$jscomp$9_w$$)/$state$$.view.scale-$spacing$$})]}},$createArrowHandleFunction$$=function($maxSize$$){return function($state$$){return[$createHandle$$($state$$,["arrowWidth","arrowSize"],function($bounds$$){var $aw$$=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"arrowWidth",
$SingleArrowShape$$.prototype.arrowWidth))),$as$$=Math.max(0,Math.min($maxSize$$,mxUtils.getValue(this.state.style,"arrowSize",$SingleArrowShape$$.prototype.arrowSize)));return new mxPoint($bounds$$.x+(1-$as$$)*$bounds$$.width,$bounds$$.y+(1-$aw$$)*$bounds$$.height/2)},function($bounds$$,$pt$$){this.state.style.arrowWidth=Math.max(0,Math.min(1,Math.abs($bounds$$.y+$bounds$$.height/2-$pt$$.y)/$bounds$$.height*2));this.state.style.arrowSize=Math.max(0,Math.min($maxSize$$,($bounds$$.x+$bounds$$.width-
$pt$$.x)/$bounds$$.width))})]}},$createCylinderHandleFunction$$=function($defaultValue$$){return function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min(.5*$bounds$$.height,parseFloat(mxUtils.getValue(this.state.style,"size",$defaultValue$$))));return new mxPoint($bounds$$.x,$bounds$$.y+$size$$)},function($bounds$$,$pt$$){this.state.style.size=Math.max(0,$pt$$.y-$bounds$$.y)},!0)]}},$createCubeHandleFunction$$=function($factor$$,$defaultValue$$,
$allowArcHandle$$){return function($state$$){var $handles$$=[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.width,Math.min($bounds$$.height,parseFloat(mxUtils.getValue(this.state.style,"size",$defaultValue$$)))))*$factor$$;return new mxPoint($bounds$$.x+$size$$,$bounds$$.y+$size$$)},function($bounds$$,$pt$$){this.state.style.size=Math.round(Math.max(0,Math.min(Math.min($bounds$$.width,$pt$$.x-$bounds$$.x),Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))/
$factor$$)},!1)];$allowArcHandle$$&&mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$}},$createDisplayHandleFunction$$=function($defaultValue$$,$allowArcHandle$$,$max$$,$redrawEdges$$,$fixedDefaultValue$$){$max$$=null!=$max$$?$max$$:.5;return function($state$$){var $handles$$=[$createHandle$$($state$$,["size"],function($bounds$$){var $fixed$$=null!=$fixedDefaultValue$$?"0"!=mxUtils.getValue(this.state.style,"fixedSize","0"):
null,$size$$=parseFloat(mxUtils.getValue(this.state.style,"size",$fixed$$?$fixedDefaultValue$$:$defaultValue$$));return new mxPoint($bounds$$.x+Math.max(0,Math.min(.5*$bounds$$.width,$size$$*($fixed$$?1:$bounds$$.width))),$bounds$$.getCenterY())},function($bounds$jscomp$41_size$$,$pt$$,$me$$){$bounds$jscomp$41_size$$=null!=$fixedDefaultValue$$&&"0"!=mxUtils.getValue(this.state.style,"fixedSize","0")?$pt$$.x-$bounds$jscomp$41_size$$.x:Math.max(0,Math.min($max$$,($pt$$.x-$bounds$jscomp$41_size$$.x)/
$bounds$jscomp$41_size$$.width));this.state.style.size=$bounds$jscomp$41_size$$},!1,$redrawEdges$$)];$allowArcHandle$$&&mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$}},$createTrapezoidHandleFunction$$=function($max$$,$defaultValue$$,$fixedDefaultValue$$){$max$$=null!=$max$$?$max$$:.5;return function($state$$){var $handles$$=[$createHandle$$($state$$,["size"],function($bounds$$){var $fixed$$=null!=$fixedDefaultValue$$?
"0"!=mxUtils.getValue(this.state.style,"fixedSize","0"):null,$size$$=Math.max(0,parseFloat(mxUtils.getValue(this.state.style,"size",$fixed$$?$fixedDefaultValue$$:$defaultValue$$)));return new mxPoint($bounds$$.x+Math.min(.75*$bounds$$.width*$max$$,$size$$*($fixed$$?.75:.75*$bounds$$.width)),$bounds$$.y+$bounds$$.height/4)},function($bounds$jscomp$43_size$$,$pt$$){$bounds$jscomp$43_size$$=null!=$fixedDefaultValue$$&&"0"!=mxUtils.getValue(this.state.style,"fixedSize","0")?$pt$$.x-$bounds$jscomp$43_size$$.x:
Math.max(0,Math.min($max$$,($pt$$.x-$bounds$jscomp$43_size$$.x)/$bounds$jscomp$43_size$$.width*.75));this.state.style.size=$bounds$jscomp$43_size$$},!1,!0)];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$}},$createArcHandleFunction$$=function(){return function($state$$){var $handles$$=[];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$}},$createArcHandle$$=
function($state$$,$yOffset$$){return $createHandle$$($state$$,[mxConstants.STYLE_ARCSIZE],function($bounds$$){var $tmp$$=null!=$yOffset$$?$yOffset$$:$bounds$$.height/8;if("1"==mxUtils.getValue($state$$.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0)){var $arcSize$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;return new mxPoint($bounds$$.x+$bounds$$.width-Math.min($bounds$$.width/2,$arcSize$$),$bounds$$.y+$tmp$$)}$arcSize$$=Math.max(0,parseFloat(mxUtils.getValue($state$$.style,
mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)))/100;return new mxPoint($bounds$$.x+$bounds$$.width-Math.min(Math.max($bounds$$.width/2,$bounds$$.height/2),Math.min($bounds$$.width,$bounds$$.height)*$arcSize$$),$bounds$$.y+$tmp$$)},function($bounds$$,$pt$$,$me$$){"1"==mxUtils.getValue($state$$.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0)?this.state.style[mxConstants.STYLE_ARCSIZE]=Math.round(Math.max(0,Math.min($bounds$$.width,2*($bounds$$.x+$bounds$$.width-$pt$$.x)))):this.state.style[mxConstants.STYLE_ARCSIZE]=
Math.round(Math.min(50,Math.max(0,100*($bounds$$.width-$pt$$.x+$bounds$$.x)/Math.min($bounds$$.width,$bounds$$.height))))})},$createHandle$$=function($state$$,$keys$$,$getPositionFn$$,$setPositionFn$$,$ignoreGrid$$,$redrawEdges$$,$executeFn$$){var $handle$$=new mxHandle($state$$,null,mxVertexHandler.prototype.secondaryHandleImage);$handle$$.execute=function($me$$){for(var $i$$=0;$i$$<$keys$$.length;$i$$++)this.copyStyle($keys$$[$i$$]);$executeFn$$&&$executeFn$$($me$$)};$handle$$.getPosition=$getPositionFn$$;
$handle$$.setPosition=$setPositionFn$$;$handle$$.ignoreGrid=null!=$ignoreGrid$$?$ignoreGrid$$:!0;if($redrawEdges$$){var $positionChanged$$=$handle$$.positionChanged;$handle$$.positionChanged=function(){$positionChanged$$.apply(this,arguments);$state$$.view.invalidate(this.state.cell);$state$$.view.validate()}}return $handle$$},$handleFactory$$={link:function($state$$){return[$createEdgeWidthHandle$$($state$$,!0,10),$createEdgeWidthHandle$$($state$$,!1,10)]},flexArrow:function($state$$){var $tol$$=
$state$$.view.graph.gridSize/$state$$.view.scale,$handles$$=[];mxUtils.getValue($state$$.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE&&($handles$$.push($createEdgeHandle$$($state$$,["width",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!0,function($dist$jscomp$10_w$$,$nx$$,$ny$$,$p0$$,$l$jscomp$4_p1$$){$dist$jscomp$10_w$$=($state$$.shape.getEdgeWidth()-$state$$.shape.strokewidth)*$state$$.view.scale;$l$jscomp$4_p1$$=3*mxUtils.getNumber($state$$.style,mxConstants.STYLE_STARTSIZE,
mxConstants.ARROW_SIZE/5)*$state$$.view.scale;return new mxPoint($p0$$.x+$nx$$*($l$jscomp$4_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)+$ny$$*$dist$jscomp$10_w$$/2,$p0$$.y+$ny$$*($l$jscomp$4_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)-$nx$$*$dist$jscomp$10_w$$/2)},function($dist$jscomp$11_w$$,$l$jscomp$5_nx$$,$ny$$,$p0$$,$p1$$,$pt$$,$me$$){$dist$jscomp$11_w$$=Math.sqrt(mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$pt$$.x,$pt$$.y));$l$jscomp$5_nx$$=mxUtils.ptLineDist($p0$$.x,
$p0$$.y,$p0$$.x+$ny$$,$p0$$.y-$l$jscomp$5_nx$$,$pt$$.x,$pt$$.y);$state$$.style[mxConstants.STYLE_STARTSIZE]=Math.round(100*($l$jscomp$5_nx$$-$state$$.shape.strokewidth)/3)/100/$state$$.view.scale;$state$$.style.width=Math.round(2*$dist$jscomp$11_w$$)/$state$$.view.scale;if(mxEvent.isShiftDown($me$$.getEvent())||mxEvent.isControlDown($me$$.getEvent()))$state$$.style[mxConstants.STYLE_ENDSIZE]=$state$$.style[mxConstants.STYLE_STARTSIZE];mxEvent.isAltDown($me$$.getEvent())||Math.abs(parseFloat($state$$.style[mxConstants.STYLE_STARTSIZE])-
parseFloat($state$$.style[mxConstants.STYLE_ENDSIZE]))<$tol$$/6&&($state$$.style[mxConstants.STYLE_STARTSIZE]=$state$$.style[mxConstants.STYLE_ENDSIZE])})),$handles$$.push($createEdgeHandle$$($state$$,["startWidth","endWidth",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!0,function($dist$jscomp$12_w$$,$nx$$,$ny$$,$p0$$,$l$jscomp$6_p1$$){$dist$jscomp$12_w$$=($state$$.shape.getStartArrowWidth()-$state$$.shape.strokewidth)*$state$$.view.scale;$l$jscomp$6_p1$$=3*mxUtils.getNumber($state$$.style,
mxConstants.STYLE_STARTSIZE,mxConstants.ARROW_SIZE/5)*$state$$.view.scale;return new mxPoint($p0$$.x+$nx$$*($l$jscomp$6_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)+$ny$$*$dist$jscomp$12_w$$/2,$p0$$.y+$ny$$*($l$jscomp$6_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)-$nx$$*$dist$jscomp$12_w$$/2)},function($dist$jscomp$13_w$$,$l$jscomp$7_nx$$,$ny$$,$p0$$,$p1$$,$pt$$,$me$$){$dist$jscomp$13_w$$=Math.sqrt(mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$pt$$.x,$pt$$.y));$l$jscomp$7_nx$$=
mxUtils.ptLineDist($p0$$.x,$p0$$.y,$p0$$.x+$ny$$,$p0$$.y-$l$jscomp$7_nx$$,$pt$$.x,$pt$$.y);$state$$.style[mxConstants.STYLE_STARTSIZE]=Math.round(100*($l$jscomp$7_nx$$-$state$$.shape.strokewidth)/3)/100/$state$$.view.scale;$state$$.style.startWidth=Math.max(0,Math.round(2*$dist$jscomp$13_w$$)-$state$$.shape.getEdgeWidth())/$state$$.view.scale;if(mxEvent.isShiftDown($me$$.getEvent())||mxEvent.isControlDown($me$$.getEvent()))$state$$.style[mxConstants.STYLE_ENDSIZE]=$state$$.style[mxConstants.STYLE_STARTSIZE],
$state$$.style.endWidth=$state$$.style.startWidth;mxEvent.isAltDown($me$$.getEvent())||(Math.abs(parseFloat($state$$.style[mxConstants.STYLE_STARTSIZE])-parseFloat($state$$.style[mxConstants.STYLE_ENDSIZE]))<$tol$$/6&&($state$$.style[mxConstants.STYLE_STARTSIZE]=$state$$.style[mxConstants.STYLE_ENDSIZE]),Math.abs(parseFloat($state$$.style.startWidth)-parseFloat($state$$.style.endWidth))<$tol$$&&($state$$.style.startWidth=$state$$.style.endWidth))})));mxUtils.getValue($state$$.style,mxConstants.STYLE_ENDARROW,
mxConstants.NONE)!=mxConstants.NONE&&($handles$$.push($createEdgeHandle$$($state$$,["width",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!1,function($dist$jscomp$14_w$$,$nx$$,$ny$$,$p0$$,$l$jscomp$8_p1$$){$dist$jscomp$14_w$$=($state$$.shape.getEdgeWidth()-$state$$.shape.strokewidth)*$state$$.view.scale;$l$jscomp$8_p1$$=3*mxUtils.getNumber($state$$.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5)*$state$$.view.scale;return new mxPoint($p0$$.x+$nx$$*($l$jscomp$8_p1$$+$state$$.shape.strokewidth*
$state$$.view.scale)-$ny$$*$dist$jscomp$14_w$$/2,$p0$$.y+$ny$$*($l$jscomp$8_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)+$nx$$*$dist$jscomp$14_w$$/2)},function($dist$jscomp$15_w$$,$l$jscomp$9_nx$$,$ny$$,$p0$$,$p1$$,$pt$$,$me$$){$dist$jscomp$15_w$$=Math.sqrt(mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$pt$$.x,$pt$$.y));$l$jscomp$9_nx$$=mxUtils.ptLineDist($p0$$.x,$p0$$.y,$p0$$.x+$ny$$,$p0$$.y-$l$jscomp$9_nx$$,$pt$$.x,$pt$$.y);$state$$.style[mxConstants.STYLE_ENDSIZE]=Math.round(100*
($l$jscomp$9_nx$$-$state$$.shape.strokewidth)/3)/100/$state$$.view.scale;$state$$.style.width=Math.round(2*$dist$jscomp$15_w$$)/$state$$.view.scale;if(mxEvent.isShiftDown($me$$.getEvent())||mxEvent.isControlDown($me$$.getEvent()))$state$$.style[mxConstants.STYLE_STARTSIZE]=$state$$.style[mxConstants.STYLE_ENDSIZE];mxEvent.isAltDown($me$$.getEvent())||Math.abs(parseFloat($state$$.style[mxConstants.STYLE_ENDSIZE])-parseFloat($state$$.style[mxConstants.STYLE_STARTSIZE]))<$tol$$/6&&($state$$.style[mxConstants.STYLE_ENDSIZE]=
$state$$.style[mxConstants.STYLE_STARTSIZE])})),$handles$$.push($createEdgeHandle$$($state$$,["startWidth","endWidth",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!1,function($dist$jscomp$16_w$$,$nx$$,$ny$$,$p0$$,$l$jscomp$10_p1$$){$dist$jscomp$16_w$$=($state$$.shape.getEndArrowWidth()-$state$$.shape.strokewidth)*$state$$.view.scale;$l$jscomp$10_p1$$=3*mxUtils.getNumber($state$$.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5)*$state$$.view.scale;return new mxPoint($p0$$.x+$nx$$*
($l$jscomp$10_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)-$ny$$*$dist$jscomp$16_w$$/2,$p0$$.y+$ny$$*($l$jscomp$10_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)+$nx$$*$dist$jscomp$16_w$$/2)},function($dist$jscomp$17_w$$,$l$jscomp$11_nx$$,$ny$$,$p0$$,$p1$$,$pt$$,$me$$){$dist$jscomp$17_w$$=Math.sqrt(mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$pt$$.x,$pt$$.y));$l$jscomp$11_nx$$=mxUtils.ptLineDist($p0$$.x,$p0$$.y,$p0$$.x+$ny$$,$p0$$.y-$l$jscomp$11_nx$$,$pt$$.x,$pt$$.y);$state$$.style[mxConstants.STYLE_ENDSIZE]=
Math.round(100*($l$jscomp$11_nx$$-$state$$.shape.strokewidth)/3)/100/$state$$.view.scale;$state$$.style.endWidth=Math.max(0,Math.round(2*$dist$jscomp$17_w$$)-$state$$.shape.getEdgeWidth())/$state$$.view.scale;if(mxEvent.isShiftDown($me$$.getEvent())||mxEvent.isControlDown($me$$.getEvent()))$state$$.style[mxConstants.STYLE_STARTSIZE]=$state$$.style[mxConstants.STYLE_ENDSIZE],$state$$.style.startWidth=$state$$.style.endWidth;mxEvent.isAltDown($me$$.getEvent())||(Math.abs(parseFloat($state$$.style[mxConstants.STYLE_ENDSIZE])-
parseFloat($state$$.style[mxConstants.STYLE_STARTSIZE]))<$tol$$/6&&($state$$.style[mxConstants.STYLE_ENDSIZE]=$state$$.style[mxConstants.STYLE_STARTSIZE]),Math.abs(parseFloat($state$$.style.endWidth)-parseFloat($state$$.style.startWidth))<$tol$$&&($state$$.style.endWidth=$state$$.style.startWidth))})));return $handles$$},swimlane:function($state$$){var $handles$$=[];if(mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED)){var $size$jscomp$0$$=parseFloat(mxUtils.getValue($state$$.style,mxConstants.STYLE_STARTSIZE,
mxConstants.DEFAULT_STARTSIZE));$handles$$.push($createArcHandle$$($state$$,$size$jscomp$0$$/2))}$handles$$.push($createHandle$$($state$$,[mxConstants.STYLE_STARTSIZE],function($bounds$$){var $size$$=parseFloat(mxUtils.getValue($state$$.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE));return 1==mxUtils.getValue($state$$.style,mxConstants.STYLE_HORIZONTAL,1)?new mxPoint($bounds$$.getCenterX(),$bounds$$.y+Math.max(0,Math.min($bounds$$.height,$size$$))):new mxPoint($bounds$$.x+Math.max(0,
Math.min($bounds$$.width,$size$$)),$bounds$$.getCenterY())},function($bounds$$,$pt$$){$state$$.style[mxConstants.STYLE_STARTSIZE]=1==mxUtils.getValue(this.state.style,mxConstants.STYLE_HORIZONTAL,1)?Math.round(Math.max(0,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y))):Math.round(Math.max(0,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x)))},!1,null,function($dir$jscomp$11_me$$){var $graph$$=$state$$.view.graph;if(!mxEvent.isShiftDown($dir$jscomp$11_me$$.getEvent())&&!mxEvent.isControlDown($dir$jscomp$11_me$$.getEvent())&&
($graph$$.isTableRow($state$$.cell)||$graph$$.isTableCell($state$$.cell))){$dir$jscomp$11_me$$=$graph$$.getSwimlaneDirection($state$$.style);var $cells$jscomp$77_parent$$=$graph$$.model.getParent($state$$.cell);$cells$jscomp$77_parent$$=$graph$$.model.getChildCells($cells$jscomp$77_parent$$,!0);for(var $temp$$=[],$i$$=0;$i$$<$cells$jscomp$77_parent$$.length;$i$$++)$cells$jscomp$77_parent$$[$i$$]!=$state$$.cell&&$graph$$.isSwimlane($cells$jscomp$77_parent$$[$i$$])&&$graph$$.getSwimlaneDirection($graph$$.getCurrentCellStyle($cells$jscomp$77_parent$$[$i$$]))==
$dir$jscomp$11_me$$&&$temp$$.push($cells$jscomp$77_parent$$[$i$$]);$graph$$.setCellStyles(mxConstants.STYLE_STARTSIZE,$state$$.style[mxConstants.STYLE_STARTSIZE],$temp$$)}}));return $handles$$},label:$createArcHandleFunction$$(),ext:$createArcHandleFunction$$(),rectangle:$createArcHandleFunction$$(),triangle:$createArcHandleFunction$$(),rhombus:$createArcHandleFunction$$(),umlLifeline:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.height,
parseFloat(mxUtils.getValue(this.state.style,"size",$UmlLifeline$$.prototype.size))));return new mxPoint($bounds$$.getCenterX(),$bounds$$.y+$size$$)},function($bounds$$,$pt$$){this.state.style.size=Math.round(Math.max(0,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))},!1)]},umlFrame:function($state$$){return[$createHandle$$($state$$,["width","height"],function($bounds$$){var $w0$$=Math.max($UmlFrame$$.prototype.corner,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,"width",$UmlFrame$$.prototype.width))),
$h0$$=Math.max(1.5*$UmlFrame$$.prototype.corner,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"height",$UmlFrame$$.prototype.height)));return new mxPoint($bounds$$.x+$w0$$,$bounds$$.y+$h0$$)},function($bounds$$,$pt$$){this.state.style.width=Math.round(Math.max($UmlFrame$$.prototype.corner,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x)));this.state.style.height=Math.round(Math.max(1.5*$UmlFrame$$.prototype.corner,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))},!1)]},process:function($state$$){var $handles$$=
[$createHandle$$($state$$,["size"],function($bounds$$){var $fixed$$="0"!=mxUtils.getValue(this.state.style,"fixedSize","0"),$size$$=parseFloat(mxUtils.getValue(this.state.style,"size",$ProcessShape$$.prototype.size));return $fixed$$?new mxPoint($bounds$$.x+$size$$,$bounds$$.y+$bounds$$.height/4):new mxPoint($bounds$$.x+$bounds$$.width*$size$$,$bounds$$.y+$bounds$$.height/4)},function($bounds$jscomp$53_size$$,$pt$$){$bounds$jscomp$53_size$$="0"!=mxUtils.getValue(this.state.style,"fixedSize","0")?Math.max(0,
Math.min(.5*$bounds$jscomp$53_size$$.width,$pt$$.x-$bounds$jscomp$53_size$$.x)):Math.max(0,Math.min(.5,($pt$$.x-$bounds$jscomp$53_size$$.x)/$bounds$jscomp$53_size$$.width));this.state.style.size=$bounds$jscomp$53_size$$},!1)];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$},cross:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $m$jscomp$5_size$$=Math.min($bounds$$.width,$bounds$$.height);
$m$jscomp$5_size$$=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"size",$CrossShape$$.prototype.size)))*$m$jscomp$5_size$$/2;return new mxPoint($bounds$$.getCenterX()-$m$jscomp$5_size$$,$bounds$$.getCenterY()-$m$jscomp$5_size$$)},function($bounds$$,$pt$$){var $m$$=Math.min($bounds$$.width,$bounds$$.height);this.state.style.size=Math.max(0,Math.min(1,Math.min(Math.max(0,$bounds$$.getCenterY()-$pt$$.y)/$m$$*2,Math.max(0,$bounds$$.getCenterX()-$pt$$.x)/$m$$*2)))})]},note:function($state$$){return[$createHandle$$($state$$,
["size"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.width,Math.min($bounds$$.height,parseFloat(mxUtils.getValue(this.state.style,"size",$NoteShape$$.prototype.size)))));return new mxPoint($bounds$$.x+$bounds$$.width-$size$$,$bounds$$.y+$size$$)},function($bounds$$,$pt$$){this.state.style.size=Math.round(Math.max(0,Math.min(Math.min($bounds$$.width,$bounds$$.x+$bounds$$.width-$pt$$.x),Math.min($bounds$$.height,$pt$$.y-$bounds$$.y))))})]},note2:function($state$$){return[$createHandle$$($state$$,
["size"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.width,Math.min($bounds$$.height,parseFloat(mxUtils.getValue(this.state.style,"size",$NoteShape2$$.prototype.size)))));return new mxPoint($bounds$$.x+$bounds$$.width-$size$$,$bounds$$.y+$size$$)},function($bounds$$,$pt$$){this.state.style.size=Math.round(Math.max(0,Math.min(Math.min($bounds$$.width,$bounds$$.x+$bounds$$.width-$pt$$.x),Math.min($bounds$$.height,$pt$$.y-$bounds$$.y))))})]},manualInput:function($state$$){var $handles$$=
[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"size",$ManualInputShape$$.prototype.size)));return new mxPoint($bounds$$.x+$bounds$$.width/4,$bounds$$.y+3*$size$$/4)},function($bounds$$,$pt$$){this.state.style.size=Math.round(Math.max(0,Math.min($bounds$$.height,4*($pt$$.y-$bounds$$.y)/3)))},!1)];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$},
dataStorage:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $fixed$$="0"!=mxUtils.getValue(this.state.style,"fixedSize","0"),$size$$=parseFloat(mxUtils.getValue(this.state.style,"size",$fixed$$?$DataStorageShape$$.prototype.fixedSize:$DataStorageShape$$.prototype.size));return new mxPoint($bounds$$.x+$bounds$$.width-$size$$*($fixed$$?1:$bounds$$.width),$bounds$$.getCenterY())},function($bounds$jscomp$63_size$$,$pt$$){$bounds$jscomp$63_size$$="0"!=mxUtils.getValue(this.state.style,
"fixedSize","0")?Math.max(0,Math.min($bounds$jscomp$63_size$$.width,$bounds$jscomp$63_size$$.x+$bounds$jscomp$63_size$$.width-$pt$$.x)):Math.max(0,Math.min(1,($bounds$jscomp$63_size$$.x+$bounds$jscomp$63_size$$.width-$pt$$.x)/$bounds$jscomp$63_size$$.width));this.state.style.size=$bounds$jscomp$63_size$$},!1)]},callout:function($state$$){var $handles$$=[$createHandle$$($state$$,["size","position"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,
"size",$CalloutShape$$.prototype.size))),$position$$=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"position",$CalloutShape$$.prototype.position)));mxUtils.getValue(this.state.style,"base",$CalloutShape$$.prototype.base);return new mxPoint($bounds$$.x+$position$$*$bounds$$.width,$bounds$$.y+$bounds$$.height-$size$$)},function($bounds$$,$pt$$){mxUtils.getValue(this.state.style,"base",$CalloutShape$$.prototype.base);this.state.style.size=Math.round(Math.max(0,Math.min($bounds$$.height,$bounds$$.y+
$bounds$$.height-$pt$$.y)));this.state.style.position=Math.round(100*Math.max(0,Math.min(1,($pt$$.x-$bounds$$.x)/$bounds$$.width)))/100},!1),$createHandle$$($state$$,["position2"],function($bounds$$){var $position2$$=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"position2",$CalloutShape$$.prototype.position2)));return new mxPoint($bounds$$.x+$position2$$*$bounds$$.width,$bounds$$.y+$bounds$$.height)},function($bounds$$,$pt$$){this.state.style.position2=Math.round(100*Math.max(0,Math.min(1,
($pt$$.x-$bounds$$.x)/$bounds$$.width)))/100},!1),$createHandle$$($state$$,["base"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"size",$CalloutShape$$.prototype.size))),$position$$=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"position",$CalloutShape$$.prototype.position))),$base$$=Math.max(0,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,"base",$CalloutShape$$.prototype.base)));return new mxPoint($bounds$$.x+Math.min($bounds$$.width,
$position$$*$bounds$$.width+$base$$),$bounds$$.y+$bounds$$.height-$size$$)},function($bounds$$,$pt$$){var $position$$=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"position",$CalloutShape$$.prototype.position)));this.state.style.base=Math.round(Math.max(0,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x-$position$$*$bounds$$.width)))},!1)];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$},internalStorage:function($state$$){var $handles$$=
[$createHandle$$($state$$,["dx","dy"],function($bounds$$){var $dx$$=Math.max(0,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,"dx",$InternalStorageShape$$.prototype.dx))),$dy$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"dy",$InternalStorageShape$$.prototype.dy)));return new mxPoint($bounds$$.x+$dx$$,$bounds$$.y+$dy$$)},function($bounds$$,$pt$$){this.state.style.dx=Math.round(Math.max(0,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x)));this.state.style.dy=Math.round(Math.max(0,
Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))},!1)];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$},module:function($state$$){return[$createHandle$$($state$$,["jettyWidth","jettyHeight"],function($bounds$$){var $dx$$=Math.max(0,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,"jettyWidth",$ModuleShape$$.prototype.jettyWidth))),$dy$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"jettyHeight",
$ModuleShape$$.prototype.jettyHeight)));return new mxPoint($bounds$$.x+$dx$$/2,$bounds$$.y+2*$dy$$)},function($bounds$$,$pt$$){this.state.style.jettyWidth=Math.round(2*Math.max(0,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x)));this.state.style.jettyHeight=Math.round(Math.max(0,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y))/2)})]},corner:function($state$$){return[$createHandle$$($state$$,["dx","dy"],function($bounds$$){var $dx$$=Math.max(0,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,
"dx",$CornerShape$$.prototype.dx))),$dy$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"dy",$CornerShape$$.prototype.dy)));return new mxPoint($bounds$$.x+$dx$$,$bounds$$.y+$dy$$)},function($bounds$$,$pt$$){this.state.style.dx=Math.round(Math.max(0,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x)));this.state.style.dy=Math.round(Math.max(0,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))},!1)]},tee:function($state$$){return[$createHandle$$($state$$,["dx","dy"],function($bounds$$){var $dx$$=
Math.max(0,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,"dx",$TeeShape$$.prototype.dx))),$dy$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"dy",$TeeShape$$.prototype.dy)));return new mxPoint($bounds$$.x+($bounds$$.width+$dx$$)/2,$bounds$$.y+$dy$$)},function($bounds$$,$pt$$){this.state.style.dx=Math.round(Math.max(0,2*Math.min($bounds$$.width/2,$pt$$.x-$bounds$$.x-$bounds$$.width/2)));this.state.style.dy=Math.round(Math.max(0,Math.min($bounds$$.height,$pt$$.y-
$bounds$$.y)))},!1)]},singleArrow:$createArrowHandleFunction$$(1),doubleArrow:$createArrowHandleFunction$$(.5),"mxgraph.arrows2.wedgeArrow":$createWedgeHandleFunction$$(20,20),"mxgraph.arrows2.wedgeArrowDashed":$createWedgeHandleFunction$$(20,20),"mxgraph.arrows2.wedgeArrowDashed2":$createWedgeHandleFunction$$(20,20),folder:function($state$$){return[$createHandle$$($state$$,["tabWidth","tabHeight"],function($bounds$$){var $tw$$=Math.max(0,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,
"tabWidth",$FolderShape$$.prototype.tabWidth))),$th$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"tabHeight",$FolderShape$$.prototype.tabHeight)));mxUtils.getValue(this.state.style,"tabPosition",$FolderShape$$.prototype.tabPosition)==mxConstants.ALIGN_RIGHT&&($tw$$=$bounds$$.width-$tw$$);return new mxPoint($bounds$$.x+$tw$$,$bounds$$.y+$th$$)},function($bounds$$,$pt$$){var $tw$$=Math.max(0,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x));mxUtils.getValue(this.state.style,
"tabPosition",$FolderShape$$.prototype.tabPosition)==mxConstants.ALIGN_RIGHT&&($tw$$=$bounds$$.width-$tw$$);this.state.style.tabWidth=Math.round($tw$$);this.state.style.tabHeight=Math.round(Math.max(0,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))},!1)]},document:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",$DocumentShape$$.prototype.size))));return new mxPoint($bounds$$.x+3*
$bounds$$.width/4,$bounds$$.y+(1-$size$$)*$bounds$$.height)},function($bounds$$,$pt$$){this.state.style.size=Math.max(0,Math.min(1,($bounds$$.y+$bounds$$.height-$pt$$.y)/$bounds$$.height))},!1)]},tape:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",$TapeShape$$.prototype.size))));return new mxPoint($bounds$$.getCenterX(),$bounds$$.y+$size$$*$bounds$$.height/2)},function($bounds$$,
$pt$$){this.state.style.size=Math.max(0,Math.min(1,($pt$$.y-$bounds$$.y)/$bounds$$.height*2))},!1)]},isoCube2:function($state$$){return[$createHandle$$($state$$,["isoAngle"],function($bounds$$){var $isoAngle$$=Math.max(.01,Math.min(94,parseFloat(mxUtils.getValue(this.state.style,"isoAngle",$IsoCubeShape2$$.isoAngle))))*Math.PI/200;return new mxPoint($bounds$$.x,$bounds$$.y+Math.min($bounds$$.width*Math.tan($isoAngle$$),.5*$bounds$$.height))},function($bounds$$,$pt$$){this.state.style.isoAngle=Math.max(0,
50*($pt$$.y-$bounds$$.y)/$bounds$$.height)},!0)]},cylinder2:$createCylinderHandleFunction$$($CylinderShape$$.prototype.size),cylinder3:$createCylinderHandleFunction$$($CylinderShape3$$.prototype.size),offPageConnector:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",$OffPageConnectorShape$$.prototype.size))));return new mxPoint($bounds$$.getCenterX(),$bounds$$.y+(1-$size$$)*$bounds$$.height)},
function($bounds$$,$pt$$){this.state.style.size=Math.max(0,Math.min(1,($bounds$$.y+$bounds$$.height-$pt$$.y)/$bounds$$.height))},!1)]},"mxgraph.basic.rect":function($handle2_state$$){var $handles$$=[Graph.createHandle($handle2_state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.width/2,$bounds$$.height/2,parseFloat(mxUtils.getValue(this.state.style,"size",this.size))));return new mxPoint($bounds$$.x+$size$$,$bounds$$.y+$size$$)},function($bounds$$,$pt$$){this.state.style.size=
Math.round(100*Math.max(0,Math.min($bounds$$.height/2,$bounds$$.width/2,$pt$$.x-$bounds$$.x)))/100})];$handle2_state$$=Graph.createHandle($handle2_state$$,["indent"],function($bounds$$){var $dx2$$=Math.max(0,Math.min(100,parseFloat(mxUtils.getValue(this.state.style,"indent",this.dx2))));return new mxPoint($bounds$$.x+.75*$bounds$$.width,$bounds$$.y+$dx2$$*$bounds$$.height/200)},function($bounds$$,$pt$$){this.state.style.indent=Math.round(100*Math.max(0,Math.min(100,200*($pt$$.y-$bounds$$.y)/$bounds$$.height)))/
100});$handles$$.push($handle2_state$$);return $handles$$},step:$createDisplayHandleFunction$$($StepShape$$.prototype.size,!0,null,!0,$StepShape$$.prototype.fixedSize),hexagon:$createDisplayHandleFunction$$($HexagonShape$$.prototype.size,!0,.5,!0,$HexagonShape$$.prototype.fixedSize),curlyBracket:$createDisplayHandleFunction$$($CurlyBracketShape$$.prototype.size,!1),display:$createDisplayHandleFunction$$($DisplayShape$$.prototype.size,!1),cube:$createCubeHandleFunction$$(1,$CubeShape$$.prototype.size,
!1),card:$createCubeHandleFunction$$(.5,$CardShape$$.prototype.size,!0),loopLimit:$createCubeHandleFunction$$(.5,$LoopLimitShape$$.prototype.size,!0),trapezoid:$createTrapezoidHandleFunction$$(.5,$TrapezoidShape$$.prototype.size,$TrapezoidShape$$.prototype.fixedSize),parallelogram:$createTrapezoidHandleFunction$$(1,$ParallelogramShape$$.prototype.size,$ParallelogramShape$$.prototype.fixedSize)};Graph.createHandle=$createHandle$$;Graph.handleFactory=$handleFactory$$;var $vertexHandlerCreateCustomHandles$$=
mxVertexHandler.prototype.createCustomHandles;mxVertexHandler.prototype.createCustomHandles=function(){var $handles$$=$vertexHandlerCreateCustomHandles$$.apply(this,arguments);if(this.graph.isCellRotatable(this.state.cell)){var $fn$jscomp$22_name$jscomp$88_temp$$=this.state.style.shape;null==mxCellRenderer.defaultShapes[$fn$jscomp$22_name$jscomp$88_temp$$]&&null==mxStencilRegistry.getStencil($fn$jscomp$22_name$jscomp$88_temp$$)?$fn$jscomp$22_name$jscomp$88_temp$$=mxConstants.SHAPE_RECTANGLE:this.state.view.graph.isSwimlane(this.state.cell)&&
($fn$jscomp$22_name$jscomp$88_temp$$=mxConstants.SHAPE_SWIMLANE);$fn$jscomp$22_name$jscomp$88_temp$$=$handleFactory$$[$fn$jscomp$22_name$jscomp$88_temp$$];null==$fn$jscomp$22_name$jscomp$88_temp$$&&null!=this.state.shape&&this.state.shape.isRoundable()&&($fn$jscomp$22_name$jscomp$88_temp$$=$handleFactory$$[mxConstants.SHAPE_RECTANGLE]);null!=$fn$jscomp$22_name$jscomp$88_temp$$&&($fn$jscomp$22_name$jscomp$88_temp$$=$fn$jscomp$22_name$jscomp$88_temp$$(this.state),null!=$fn$jscomp$22_name$jscomp$88_temp$$&&
($handles$$=null==$handles$$?$fn$jscomp$22_name$jscomp$88_temp$$:$handles$$.concat($fn$jscomp$22_name$jscomp$88_temp$$)))}return $handles$$};mxEdgeHandler.prototype.createCustomHandles=function(){var $fn$jscomp$23_name$$=this.state.style.shape;null==mxCellRenderer.defaultShapes[$fn$jscomp$23_name$$]&&null==mxStencilRegistry.getStencil($fn$jscomp$23_name$$)&&($fn$jscomp$23_name$$=mxConstants.SHAPE_CONNECTOR);$fn$jscomp$23_name$$=$handleFactory$$[$fn$jscomp$23_name$$];return null!=$fn$jscomp$23_name$$?
$fn$jscomp$23_name$$(this.state):null}}else Graph.createHandle=function(){},Graph.handleFactory={};var $isoHVector$$=new mxPoint(1,0),$isoVVector$$=new mxPoint(1,0),$alpha1$$=mxUtils.toRadians(-30);$isoHVector$$=mxUtils.getRotatedPoint($isoHVector$$,Math.cos($alpha1$$),Math.sin($alpha1$$));var $alpha2$$=mxUtils.toRadians(-150);$isoVVector$$=mxUtils.getRotatedPoint($isoVVector$$,Math.cos($alpha2$$),Math.sin($alpha2$$));mxEdgeStyle.IsometricConnector=function($isoLineTo_state$$,$source$$,$target$$,
$points$jscomp$4_pt$$,$result$$){var $view$$=$isoLineTo_state$$.view;$points$jscomp$4_pt$$=null!=$points$jscomp$4_pt$$&&0<$points$jscomp$4_pt$$.length?$points$jscomp$4_pt$$[0]:null;var $pe$jscomp$9_pts$$=$isoLineTo_state$$.absolutePoints,$p0$$=$pe$jscomp$9_pts$$[0];$pe$jscomp$9_pts$$=$pe$jscomp$9_pts$$[$pe$jscomp$9_pts$$.length-1];null!=$points$jscomp$4_pt$$&&($points$jscomp$4_pt$$=$view$$.transformControlPoint($isoLineTo_state$$,$points$jscomp$4_pt$$));null==$p0$$&&null!=$source$$&&($p0$$=new mxPoint($source$$.getCenterX(),
$source$$.getCenterY()));null==$pe$jscomp$9_pts$$&&null!=$target$$&&($pe$jscomp$9_pts$$=new mxPoint($target$$.getCenterX(),$target$$.getCenterY()));var $a1$$=$isoHVector$$.x,$a2$$=$isoHVector$$.y,$b1$$=$isoVVector$$.x,$b2$$=$isoVVector$$.y,$elbow$$="horizontal"==mxUtils.getValue($isoLineTo_state$$.style,"elbow","horizontal");if(null!=$pe$jscomp$9_pts$$&&null!=$p0$$){$isoLineTo_state$$=function($c1$jscomp$1_v$jscomp$1_x$$,$h$jscomp$146_y$$,$ignoreFirst$$){$c1$jscomp$1_v$jscomp$1_x$$-=$last$$.x;var $c2$$=
$h$jscomp$146_y$$-$last$$.y;$h$jscomp$146_y$$=($b2$$*$c1$jscomp$1_v$jscomp$1_x$$-$b1$$*$c2$$)/($a1$$*$b2$$-$a2$$*$b1$$);$c1$jscomp$1_v$jscomp$1_x$$=($a2$$*$c1$jscomp$1_v$jscomp$1_x$$-$a1$$*$c2$$)/($a2$$*$b1$$-$a1$$*$b2$$);$elbow$$?($ignoreFirst$$&&($last$$=new mxPoint($last$$.x+$a1$$*$h$jscomp$146_y$$,$last$$.y+$a2$$*$h$jscomp$146_y$$),$result$$.push($last$$)),$last$$=new mxPoint($last$$.x+$b1$$*$c1$jscomp$1_v$jscomp$1_x$$,$last$$.y+$b2$$*$c1$jscomp$1_v$jscomp$1_x$$)):($ignoreFirst$$&&($last$$=new mxPoint($last$$.x+
$b1$$*$c1$jscomp$1_v$jscomp$1_x$$,$last$$.y+$b2$$*$c1$jscomp$1_v$jscomp$1_x$$),$result$$.push($last$$)),$last$$=new mxPoint($last$$.x+$a1$$*$h$jscomp$146_y$$,$last$$.y+$a2$$*$h$jscomp$146_y$$));$result$$.push($last$$)};var $last$$=$p0$$;null==$points$jscomp$4_pt$$&&($points$jscomp$4_pt$$=new mxPoint($p0$$.x+($pe$jscomp$9_pts$$.x-$p0$$.x)/2,$p0$$.y+($pe$jscomp$9_pts$$.y-$p0$$.y)/2));$isoLineTo_state$$($points$jscomp$4_pt$$.x,$points$jscomp$4_pt$$.y,!0);$isoLineTo_state$$($pe$jscomp$9_pts$$.x,$pe$jscomp$9_pts$$.y,
!1)}};mxStyleRegistry.putValue("isometricEdgeStyle",mxEdgeStyle.IsometricConnector);var $graphCreateEdgeHandler$$=Graph.prototype.createEdgeHandler;Graph.prototype.createEdgeHandler=function($state$$,$edgeStyle$$){if($edgeStyle$$==mxEdgeStyle.IsometricConnector){var $handler$$=new mxElbowEdgeHandler($state$$);$handler$$.snapToTerminals=!1;return $handler$$}return $graphCreateEdgeHandler$$.apply(this,arguments)};$IsoRectangleShape$$.prototype.constraints=[];$IsoCubeShape$$.prototype.getConstraints=
function($constr_style$$,$dx$jscomp$57_w$$,$dy$jscomp$53_h$$){$constr_style$$=[];var $m$jscomp$7_tan30$$=Math.tan(mxUtils.toRadians(30)),$tan30Dx$$=(.5-$m$jscomp$7_tan30$$)/2;$m$jscomp$7_tan30$$=Math.min($dx$jscomp$57_w$$,$dy$jscomp$53_h$$/(.5+$m$jscomp$7_tan30$$));$dx$jscomp$57_w$$=($dx$jscomp$57_w$$-$m$jscomp$7_tan30$$)/2;$dy$jscomp$53_h$$=($dy$jscomp$53_h$$-$m$jscomp$7_tan30$$)/2;$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$jscomp$57_w$$,$dy$jscomp$53_h$$+.25*$m$jscomp$7_tan30$$));
$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$jscomp$57_w$$+.5*$m$jscomp$7_tan30$$,$dy$jscomp$53_h$$+$m$jscomp$7_tan30$$*$tan30Dx$$));$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$jscomp$57_w$$+$m$jscomp$7_tan30$$,$dy$jscomp$53_h$$+.25*$m$jscomp$7_tan30$$));$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$jscomp$57_w$$+$m$jscomp$7_tan30$$,$dy$jscomp$53_h$$+.75*$m$jscomp$7_tan30$$));$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$dx$jscomp$57_w$$+.5*$m$jscomp$7_tan30$$,$dy$jscomp$53_h$$+(1-$tan30Dx$$)*$m$jscomp$7_tan30$$));$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$jscomp$57_w$$,$dy$jscomp$53_h$$+.75*$m$jscomp$7_tan30$$));return $constr_style$$};$IsoCubeShape2$$.prototype.getConstraints=function($constr$jscomp$1_style$$,$w$$,$h$$){$constr$jscomp$1_style$$=[];var $isoAngle$jscomp$2_isoH$$=Math.max(.01,Math.min(94,parseFloat(mxUtils.getValue(this.style,"isoAngle",this.isoAngle))))*
Math.PI/200;$isoAngle$jscomp$2_isoH$$=Math.min($w$$*Math.tan($isoAngle$jscomp$2_isoH$$),.5*$h$$);$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$isoAngle$jscomp$2_isoH$$));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),!1));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$h$$-$isoAngle$jscomp$2_isoH$$));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(.5,
1),!1));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$h$$-$isoAngle$jscomp$2_isoH$$));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(0,.5),!1));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$isoAngle$jscomp$2_isoH$$));return $constr$jscomp$1_style$$};$CalloutShape$$.prototype.getConstraints=function($constr$jscomp$2_style$$,$w$$,$h$$){$constr$jscomp$2_style$$=[];mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,
mxConstants.LINE_ARCSIZE);var $s$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size))));parseFloat(mxUtils.getValue(this.style,"position",this.position));var $dx2$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"position2",this.position2))));parseFloat(mxUtils.getValue(this.style,"base",this.base));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(.25,
0),!1));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(.75,0),!1));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,.5*($h$$-$s$$)));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$h$$-$s$$));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$dx2$$,$h$$));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$h$$-$s$$));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*($h$$-$s$$)));$w$$>=2*$s$$&&$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));return $constr$jscomp$2_style$$};mxRectangleShape.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!0),new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,
0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(1,0),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(0,1),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),
new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0),new mxConnectionConstraint(new mxPoint(1,1),!0)];mxEllipse.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!0),new mxConnectionConstraint(new mxPoint(1,0),!0),new mxConnectionConstraint(new mxPoint(0,1),!0),new mxConnectionConstraint(new mxPoint(1,1),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(0,
.5),!0),new mxConnectionConstraint(new mxPoint(1,.5))];$PartialRectangleShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;mxImageShape.prototype.constraints=mxRectangleShape.prototype.constraints;mxSwimlane.prototype.constraints=mxRectangleShape.prototype.constraints;$PlusShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;mxLabel.prototype.constraints=mxRectangleShape.prototype.constraints;$NoteShape$$.prototype.getConstraints=function($constr$jscomp$3_style$$,
$w$$,$h$$){$constr$jscomp$3_style$$=[];var $s$$=Math.max(0,Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$s$$),0));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$s$$,0));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,
null,$w$$-.5*$s$$,.5*$s$$));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$s$$));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,.5*($h$$+$s$$)));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(1,1),!1));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(.5,1),!1));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,1),!1));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,
.5),!1));$w$$>=2*$s$$&&$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));return $constr$jscomp$3_style$$};$CardShape$$.prototype.getConstraints=function($constr$jscomp$4_style$$,$w$$,$h$$){$constr$jscomp$4_style$$=[];var $s$$=Math.max(0,Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,.5*($w$$+$s$$),0));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$s$$,0));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$s$$,.5*$s$$));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$s$$));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*($h$$+$s$$)));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,1),!1));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(.5,
1),!1));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(1,1),!1));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),!1));$w$$>=2*$s$$&&$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));return $constr$jscomp$4_style$$};$CubeShape$$.prototype.getConstraints=function($constr$jscomp$5_style$$,$w$$,$h$$){$constr$jscomp$5_style$$=[];var $s$$=Math.max(0,Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));
$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$s$$),0));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$s$$,0));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-.5*$s$$,.5*$s$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$s$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$w$$,.5*($h$$+$s$$)));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(1,1),!1));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$s$$),$h$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$s$$,$h$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$s$$,$h$$-.5*$s$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$h$$-
$s$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*($h$$-$s$$)));return $constr$jscomp$5_style$$};$CylinderShape3$$.prototype.getConstraints=function($constr$jscomp$6_style$$,$s$jscomp$55_w$$,$h$$){$constr$jscomp$6_style$$=[];$s$jscomp$55_w$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,
.5),!1));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(.5,1),!1));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),!1));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$s$jscomp$55_w$$));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1,null,0,$s$jscomp$55_w$$));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(1,1),!1,null,0,-$s$jscomp$55_w$$));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,
1),!1,null,0,-$s$jscomp$55_w$$));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$s$jscomp$55_w$$+.5*(.5*$h$$-$s$jscomp$55_w$$)));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1,null,0,$s$jscomp$55_w$$+.5*(.5*$h$$-$s$jscomp$55_w$$)));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1,null,0,$h$$-$s$jscomp$55_w$$-.5*(.5*$h$$-$s$jscomp$55_w$$)));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,0,$h$$-$s$jscomp$55_w$$-.5*(.5*$h$$-$s$jscomp$55_w$$)));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(.145,0),!1,null,0,.29*$s$jscomp$55_w$$));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(.855,0),!1,null,0,.29*$s$jscomp$55_w$$));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(.855,1),!1,null,0,.29*-$s$jscomp$55_w$$));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(.145,1),!1,null,0,.29*-$s$jscomp$55_w$$));
return $constr$jscomp$6_style$$};$FolderShape$$.prototype.getConstraints=function($constr$jscomp$7_style$$,$w$$,$h$$){$constr$jscomp$7_style$$=[];var $dx$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"tabWidth",this.tabWidth)))),$dy$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"tabHeight",this.tabHeight))));"left"==mxUtils.getValue(this.style,"tabPosition",this.tabPosition)?($constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1)),$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,.5*$dx$$,0)),$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$$,0)),$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$$,$dy$$)),$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$dx$$),$dy$$))):($constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1)),$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-.5*$dx$$,0)),$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$w$$-$dx$$,0)),$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$dx$$,$dy$$)),$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$dx$$),$dy$$)));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,.25*($h$$-$dy$$)+$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$w$$,.5*($h$$-$dy$$)+$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,.75*($h$$-$dy$$)+$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$h$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.25*($h$$-$dy$$)+$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,0,.5*($h$$-$dy$$)+$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.75*($h$$-$dy$$)+$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$h$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(.25,1),!1));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(.5,1),!1));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(.75,1),!1));return $constr$jscomp$7_style$$};
$InternalStorageShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$DataStorageShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$TapeDataShape$$.prototype.constraints=mxEllipse.prototype.constraints;$OrEllipseShape$$.prototype.constraints=mxEllipse.prototype.constraints;$SumEllipseShape$$.prototype.constraints=mxEllipse.prototype.constraints;$LineEllipseShape$$.prototype.constraints=mxEllipse.prototype.constraints;$ManualInputShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;
$DelayShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$DisplayShape$$.prototype.getConstraints=function($constr$jscomp$8_style$$,$w$$,$h$$){$constr$jscomp$8_style$$=[];var $dx$$=Math.min($w$$,$h$$/2),$s$$=Math.min($w$$-$dx$$,Math.max(0,parseFloat(mxUtils.getValue(this.style,"size",this.size)))*$w$$);$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,.5),!1,null));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$s$$,0));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,.5*($s$$+$w$$-$dx$$),0));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$dx$$,0));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),!1,null));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$dx$$,$h$$));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($s$$+$w$$-$dx$$),$h$$));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),
!1,null,$s$$,$h$$));return $constr$jscomp$8_style$$};$ModuleShape$$.prototype.getConstraints=function($dy$jscomp$55_style$$,$w$jscomp$171_x0$$,$h$$){$w$jscomp$171_x0$$=parseFloat(mxUtils.getValue($dy$jscomp$55_style$$,"jettyWidth",$ModuleShape$$.prototype.jettyWidth))/2;$dy$jscomp$55_style$$=parseFloat(mxUtils.getValue($dy$jscomp$55_style$$,"jettyHeight",$ModuleShape$$.prototype.jettyHeight));var $constr$$=[new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$jscomp$171_x0$$),new mxConnectionConstraint(new mxPoint(.25,
0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(1,0),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(0,1),!1,null,$w$jscomp$171_x0$$),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,
1),!0),new mxConnectionConstraint(new mxPoint(1,1),!0),new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,Math.min($h$$-.5*$dy$jscomp$55_style$$,1.5*$dy$jscomp$55_style$$)),new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,Math.min($h$$-.5*$dy$jscomp$55_style$$,3.5*$dy$jscomp$55_style$$))];$h$$>5*$dy$jscomp$55_style$$&&$constr$$.push(new mxConnectionConstraint(new mxPoint(0,.75),!1,null,$w$jscomp$171_x0$$));$h$$>8*$dy$jscomp$55_style$$&&$constr$$.push(new mxConnectionConstraint(new mxPoint(0,
.5),!1,null,$w$jscomp$171_x0$$));$h$$>15*$dy$jscomp$55_style$$&&$constr$$.push(new mxConnectionConstraint(new mxPoint(0,.25),!1,null,$w$jscomp$171_x0$$));return $constr$$};$LoopLimitShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$OffPageConnectorShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;mxCylinder.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.15,.05),!1),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.85,
.05),!1),new mxConnectionConstraint(new mxPoint(0,.3),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.7),!0),new mxConnectionConstraint(new mxPoint(1,.3),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.7),!0),new mxConnectionConstraint(new mxPoint(.15,.95),!1),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.85,.95),!1)];$UmlActorShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,
.1),!1),new mxConnectionConstraint(new mxPoint(.5,0),!1),new mxConnectionConstraint(new mxPoint(.75,.1),!1),new mxConnectionConstraint(new mxPoint(0,1/3),!1),new mxConnectionConstraint(new mxPoint(0,1),!1),new mxConnectionConstraint(new mxPoint(1,1/3),!1),new mxConnectionConstraint(new mxPoint(1,1),!1),new mxConnectionConstraint(new mxPoint(.5,.5),!1)];$ComponentShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,
0),!0),new mxConnectionConstraint(new mxPoint(0,.3),!0),new mxConnectionConstraint(new mxPoint(0,.7),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0)];mxActor.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.25,
.2),!1),new mxConnectionConstraint(new mxPoint(.1,.5),!1),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(.75,.25),!1),new mxConnectionConstraint(new mxPoint(.9,.5),!1),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0)];$SwitchShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!1),new mxConnectionConstraint(new mxPoint(.5,
.25),!1),new mxConnectionConstraint(new mxPoint(1,0),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.75,.5),!1),new mxConnectionConstraint(new mxPoint(0,1),!1),new mxConnectionConstraint(new mxPoint(.5,.75),!1),new mxConnectionConstraint(new mxPoint(1,1),!1)];$TapeShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.35),!1),new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(0,.65),!1),new mxConnectionConstraint(new mxPoint(1,
.35),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(1,.65),!1),new mxConnectionConstraint(new mxPoint(.25,1),!1),new mxConnectionConstraint(new mxPoint(.75,0),!1)];$StepShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,
1),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0)];mxLine.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.75,.5),!1),new mxConnectionConstraint(new mxPoint(1,
.5),!1)];$LollipopShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.5,0),!1),new mxConnectionConstraint(new mxPoint(.5,1),!1)];mxDoubleEllipse.prototype.constraints=mxEllipse.prototype.constraints;mxRhombus.prototype.constraints=mxEllipse.prototype.constraints;mxTriangle.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(.5,
0),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0)];mxHexagon.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.375,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.625,0),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,
.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.375,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.625,1),!0)];mxCloud.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,.25),!1),new mxConnectionConstraint(new mxPoint(.4,.1),!1),new mxConnectionConstraint(new mxPoint(.16,.55),!1),new mxConnectionConstraint(new mxPoint(.07,.4),!1),new mxConnectionConstraint(new mxPoint(.31,.8),!1),new mxConnectionConstraint(new mxPoint(.13,
.77),!1),new mxConnectionConstraint(new mxPoint(.8,.8),!1),new mxConnectionConstraint(new mxPoint(.55,.95),!1),new mxConnectionConstraint(new mxPoint(.875,.5),!1),new mxConnectionConstraint(new mxPoint(.96,.7),!1),new mxConnectionConstraint(new mxPoint(.625,.2),!1),new mxConnectionConstraint(new mxPoint(.88,.25),!1)];$ParallelogramShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$TrapezoidShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$DocumentShape$$.prototype.constraints=
[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0)];mxArrow.prototype.constraints=null;$TeeShape$$.prototype.getConstraints=
function($constr$jscomp$10_style$$,$w$$,$h$$){$constr$jscomp$10_style$$=[];var $dx$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),$dy$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$w$$,.5*$dy$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$dy$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.75*$w$$+.25*$dx$$,$dy$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$dx$$),$dy$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$dx$$),.5*($h$$+$dy$$)));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,.5*($w$$+$dx$$),$h$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(.5,1),!1));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$dx$$),$h$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$dx$$),.5*($h$$+$dy$$)));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$dx$$),$dy$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,.25*$w$$-.25*$dx$$,$dy$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$dy$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*$dy$$));return $constr$jscomp$10_style$$};$CornerShape$$.prototype.getConstraints=function($constr$jscomp$11_style$$,$w$$,$h$$){$constr$jscomp$11_style$$=[];var $dx$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),$dy$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,
"dy",this.dy))));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,.5*$dy$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$dy$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,.5*($w$$+$dx$$),$dy$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$$,$dy$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$$,.5*($h$$+$dy$$)));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$$,$h$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$dx$$,$h$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,
.5),!1));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,1),!1));return $constr$jscomp$11_style$$};$CrossbarShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!1),new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(0,1),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.5,.5),!1),new mxConnectionConstraint(new mxPoint(.75,.5),!1),new mxConnectionConstraint(new mxPoint(1,
0),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(1,1),!1)];$SingleArrowShape$$.prototype.getConstraints=function($constr$jscomp$12_style$$,$w$$,$h$$){$constr$jscomp$12_style$$=[];var $at$jscomp$2_aw$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",this.arrowWidth)))),$as$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",this.arrowSize))));$at$jscomp$2_aw$$=($h$$-$at$jscomp$2_aw$$)/2;$constr$jscomp$12_style$$.push(new mxConnectionConstraint(new mxPoint(0,
.5),!1));$constr$jscomp$12_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$at$jscomp$2_aw$$));$constr$jscomp$12_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$as$$),$at$jscomp$2_aw$$));$constr$jscomp$12_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$as$$,0));$constr$jscomp$12_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),!1));$constr$jscomp$12_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$as$$,
$h$$));$constr$jscomp$12_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$as$$),$h$$-$at$jscomp$2_aw$$));$constr$jscomp$12_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$h$$-$at$jscomp$2_aw$$));return $constr$jscomp$12_style$$};$DoubleArrowShape$$.prototype.getConstraints=function($constr$jscomp$13_style$$,$w$$,$h$$){$constr$jscomp$13_style$$=[];var $at$jscomp$3_aw$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",$SingleArrowShape$$.prototype.arrowWidth)))),
$as$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",$SingleArrowShape$$.prototype.arrowSize))));$at$jscomp$3_aw$$=($h$$-$at$jscomp$3_aw$$)/2;$constr$jscomp$13_style$$.push(new mxConnectionConstraint(new mxPoint(0,.5),!1));$constr$jscomp$13_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$as$$,0));$constr$jscomp$13_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$w$$,$at$jscomp$3_aw$$));$constr$jscomp$13_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$w$$-$as$$,0));$constr$jscomp$13_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),!1));$constr$jscomp$13_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$as$$,$h$$));$constr$jscomp$13_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$w$$,$h$$-$at$jscomp$3_aw$$));$constr$jscomp$13_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$as$$,$h$$));return $constr$jscomp$13_style$$};$CrossShape$$.prototype.getConstraints=function($constr$jscomp$14_style$$,
$w$$,$h$$){$constr$jscomp$14_style$$=[];var $m$jscomp$8_t$$=Math.min($h$$,$w$$),$r$jscomp$12_size$$=Math.max(0,Math.min($m$jscomp$8_t$$,$m$jscomp$8_t$$*parseFloat(mxUtils.getValue(this.style,"size",this.size))));$m$jscomp$8_t$$=($h$$-$r$jscomp$12_size$$)/2;var $b$$=$m$jscomp$8_t$$+$r$jscomp$12_size$$,$l$$=($w$$-$r$jscomp$12_size$$)/2;$r$jscomp$12_size$$=$l$$+$r$jscomp$12_size$$;$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$l$$,.5*$m$jscomp$8_t$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$l$$,0));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$r$jscomp$12_size$$,0));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$r$jscomp$12_size$$,.5*$m$jscomp$8_t$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$r$jscomp$12_size$$,$m$jscomp$8_t$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$l$$,$h$$-.5*$m$jscomp$8_t$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$l$$,$h$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(.5,1),!1));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$r$jscomp$12_size$$,$h$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$r$jscomp$12_size$$,$h$$-.5*$m$jscomp$8_t$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$r$jscomp$12_size$$,$b$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$r$jscomp$12_size$$),$m$jscomp$8_t$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$m$jscomp$8_t$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),!1));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$b$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,.5*($w$$+$r$jscomp$12_size$$),$b$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$l$$,$b$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$l$$,$m$jscomp$8_t$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$m$jscomp$8_t$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,.5),!1));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,0,$b$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$l$$,$b$$));$constr$jscomp$14_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$l$$,$m$jscomp$8_t$$));return $constr$jscomp$14_style$$};$UmlLifeline$$.prototype.constraints=null;$OrShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.25),!1),new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(0,.75),!1),new mxConnectionConstraint(new mxPoint(1,
.5),!1),new mxConnectionConstraint(new mxPoint(.7,.1),!1),new mxConnectionConstraint(new mxPoint(.7,.9),!1)];$XorShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.175,.25),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.175,.75),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(.7,.1),!1),new mxConnectionConstraint(new mxPoint(.7,.9),!1)];$RequiredInterfaceShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,
.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1)];$ProvidedRequiredInterfaceShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1)]})();function Actions($editorUi$$){this.editorUi=$editorUi$$;this.actions={};this.init()}
Actions.prototype.init=function(){function $deleteCells$$($includeEdges$jscomp$3_select$$){$graph$jscomp$0$$.escape();$includeEdges$jscomp$3_select$$=$graph$jscomp$0$$.deleteCells($graph$jscomp$0$$.getDeletableCells($graph$jscomp$0$$.getSelectionCells()),$includeEdges$jscomp$3_select$$);null!=$includeEdges$jscomp$3_select$$&&$graph$jscomp$0$$.setSelectionCells($includeEdges$jscomp$3_select$$)}function $deleteLabels$$(){if(!$graph$jscomp$0$$.isSelectionEmpty()){$graph$jscomp$0$$.getModel().beginUpdate();try{for(var $cells$$=
$graph$jscomp$0$$.getSelectionCells(),$i$$=0;$i$$<$cells$$.length;$i$$++)$graph$jscomp$0$$.cellLabelChanged($cells$$[$i$$],"")}finally{$graph$jscomp$0$$.getModel().endUpdate()}}}function $applyClipPath$$($cell$$,$clipPath$$,$scale$jscomp$21_width$$,$height$$,$graph$$){$graph$$.getModel().beginUpdate();try{var $geo$$=$graph$$.getCellGeometry($cell$$);null!=$geo$$&&$scale$jscomp$21_width$$&&$height$$&&($scale$jscomp$21_width$$/=$height$$,$geo$$=$geo$$.clone(),1<$scale$jscomp$21_width$$?$geo$$.height=
$geo$$.width/$scale$jscomp$21_width$$:$geo$$.width=$geo$$.height*$scale$jscomp$21_width$$,$graph$$.getModel().setGeometry($cell$$,$geo$$));$graph$$.setCellStyles(mxConstants.STYLE_CLIP_PATH,$clipPath$$,[$cell$$]);$graph$$.setCellStyles(mxConstants.STYLE_ASPECT,"fixed",[$cell$$])}finally{$graph$$.getModel().endUpdate()}}var $ui$$=this.editorUi,$editor$$=$ui$$.editor,$graph$jscomp$0$$=$editor$$.graph,$isGraphEnabled$$=function(){return Action.prototype.isEnabled.apply(this,arguments)&&$graph$jscomp$0$$.isEnabled()};
this.addAction("new...",function(){$graph$jscomp$0$$.openLink($ui$$.getUrl())});this.addAction("open...",function(){window.openNew=!0;window.openKey="open";$ui$$.openFile()});this.put("smartFit",new Action(mxResources.get("fitWindow")+" / "+mxResources.get("resetView"),function(){$graph$jscomp$0$$.popupMenuHandler.hideMenu();var $scale$$=$graph$jscomp$0$$.view.scale,$sx$$=$graph$jscomp$0$$.container.scrollLeft,$sy$$=$graph$jscomp$0$$.container.scrollTop,$tx$$=$graph$jscomp$0$$.view.translate.x,$ty$$=
$graph$jscomp$0$$.view.translate.y;$ui$$.actions.get("resetView").funct();1E-5>Math.abs($scale$$-$graph$jscomp$0$$.view.scale)&&5>Math.abs($sx$$-$graph$jscomp$0$$.container.scrollLeft)&&5>Math.abs($sy$$-$graph$jscomp$0$$.container.scrollTop)&&$tx$$==$graph$jscomp$0$$.view.translate.x&&$ty$$==$graph$jscomp$0$$.view.translate.y&&$ui$$.actions.get("fitWindow").funct()},null,null,"Enter"));this.addAction("keyPressEnter",function(){$graph$jscomp$0$$.isEnabled()&&($graph$jscomp$0$$.isSelectionEmpty()?$ui$$.actions.get("smartFit").funct():
$graph$jscomp$0$$.startEditingAtCell())});this.addAction("import...",function(){window.openNew=!1;window.openKey="import";window.openFile=new OpenFile(mxUtils.bind(this,function(){$ui$$.hideDialog()}));window.openFile.setConsumer(mxUtils.bind(this,function($xml$$,$filename$$){try{var $doc$$=mxUtils.parseXml($xml$$);$editor$$.graph.setSelectionCells($editor$$.graph.importGraphModel($doc$$.documentElement))}catch($e$$){mxUtils.alert(mxResources.get("invalidOrMissingFile")+": "+$e$$.message)}}));$ui$$.showDialog((new OpenDialog(this)).container,
320,220,!0,!0,function(){window.openFile=null})}).isEnabled=$isGraphEnabled$$;this.addAction("save",function(){$ui$$.saveFile(!1)},null,null,Editor.ctrlKey+"+S").isEnabled=$isGraphEnabled$$;this.addAction("saveAs...",function(){$ui$$.saveFile(!0)},null,null,Editor.ctrlKey+"+Shift+S").isEnabled=$isGraphEnabled$$;this.addAction("export...",function(){$ui$$.showDialog((new ExportDialog($ui$$)).container,300,340,!0,!0)});this.addAction("editDiagram...",function(){var $dlg$$=new EditDiagramDialog($ui$$);
$ui$$.showDialog($dlg$$.container,620,420,!0,!1);$dlg$$.init()}).isEnabled=$isGraphEnabled$$;this.addAction("pageSetup...",function(){$ui$$.showDialog((new PageSetupDialog($ui$$)).container,320,240,!0,!0)}).isEnabled=$isGraphEnabled$$;this.addAction("print...",function(){$ui$$.showDialog((new PrintDialog($ui$$)).container,300,180,!0,!0)},null,"sprite-print",Editor.ctrlKey+"+P");this.addAction("preview",function(){mxUtils.show($graph$jscomp$0$$,null,10,10)});this.addAction("undo",function(){$ui$$.undo()},
null,"sprite-undo",Editor.ctrlKey+"+Z");this.addAction("redo",function(){$ui$$.redo()},null,"sprite-redo",mxClient.IS_WIN?Editor.ctrlKey+"+Y":Editor.ctrlKey+"+Shift+Z");this.addAction("cut",function(){var $cells$$=null;try{$cells$$=$ui$$.copyXml(),null!=$cells$$&&$graph$jscomp$0$$.removeCells($cells$$,!1)}catch($e$$){}try{null==$cells$$&&mxClipboard.cut($graph$jscomp$0$$)}catch($e$6$$){$ui$$.handleError($e$6$$)}},null,"sprite-cut",Editor.ctrlKey+"+X");this.addAction("copy",function(){try{$ui$$.copyXml()}catch($e$$){}try{mxClipboard.copy($graph$jscomp$0$$)}catch($e$7$$){$ui$$.handleError($e$7$$)}},
null,"sprite-copy",Editor.ctrlKey+"+C");this.addAction("paste",function(){if($graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())){var $done$$=!1;try{Editor.enableNativeCipboard&&($ui$$.readGraphModelFromClipboard(function($xml$$){if(null!=$xml$$){$graph$jscomp$0$$.getModel().beginUpdate();try{$ui$$.pasteXml($xml$$,!0)}finally{$graph$jscomp$0$$.getModel().endUpdate()}}else mxClipboard.paste($graph$jscomp$0$$)}),$done$$=!0)}catch($e$$){}$done$$||mxClipboard.paste($graph$jscomp$0$$)}},
!1,"sprite-paste",Editor.ctrlKey+"+V");this.addAction("pasteHere",function($done$jscomp$6_evt$$){function $pasteCellsHere$$($cells$$){if(null!=$cells$$){for(var $includeEdges$jscomp$2_x$$=!0,$i$jscomp$148_s$jscomp$57_y$$=0;$i$jscomp$148_s$jscomp$57_y$$<$cells$$.length&&$includeEdges$jscomp$2_x$$;$i$jscomp$148_s$jscomp$57_y$$++)$includeEdges$jscomp$2_x$$=$includeEdges$jscomp$2_x$$&&$graph$jscomp$0$$.model.isEdge($cells$$[$i$jscomp$148_s$jscomp$57_y$$]);var $bb$jscomp$2_t$$=$graph$jscomp$0$$.view.translate;
$i$jscomp$148_s$jscomp$57_y$$=$graph$jscomp$0$$.view.scale;var $dx$$=$bb$jscomp$2_t$$.x,$dy$$=$bb$jscomp$2_t$$.y;$bb$jscomp$2_t$$=null;if(1==$cells$$.length&&$includeEdges$jscomp$2_x$$){var $geo$$=$graph$jscomp$0$$.getCellGeometry($cells$$[0]);null!=$geo$$&&($bb$jscomp$2_t$$=$geo$$.getTerminalPoint(!0))}$bb$jscomp$2_t$$=null!=$bb$jscomp$2_t$$?$bb$jscomp$2_t$$:$graph$jscomp$0$$.getBoundingBoxFromGeometry($cells$$,$includeEdges$jscomp$2_x$$);null!=$bb$jscomp$2_t$$&&($includeEdges$jscomp$2_x$$=Math.round($graph$jscomp$0$$.snap($graph$jscomp$0$$.popupMenuHandler.triggerX/
$i$jscomp$148_s$jscomp$57_y$$-$dx$$)),$i$jscomp$148_s$jscomp$57_y$$=Math.round($graph$jscomp$0$$.snap($graph$jscomp$0$$.popupMenuHandler.triggerY/$i$jscomp$148_s$jscomp$57_y$$-$dy$$)),$graph$jscomp$0$$.cellsMoved($cells$$,$includeEdges$jscomp$2_x$$-$bb$jscomp$2_t$$.x,$i$jscomp$148_s$jscomp$57_y$$-$bb$jscomp$2_t$$.y))}}function $fallback$$(){$graph$jscomp$0$$.getModel().beginUpdate();try{$pasteCellsHere$$(mxClipboard.paste($graph$jscomp$0$$))}finally{$graph$jscomp$0$$.getModel().endUpdate()}}if($graph$jscomp$0$$.isEnabled()&&
!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())){$done$jscomp$6_evt$$=!1;try{Editor.enableNativeCipboard&&($ui$$.readGraphModelFromClipboard(function($xml$$){if(null!=$xml$$){$graph$jscomp$0$$.getModel().beginUpdate();try{$pasteCellsHere$$($ui$$.pasteXml($xml$$,!0))}finally{$graph$jscomp$0$$.getModel().endUpdate()}}else $fallback$$()}),$done$jscomp$6_evt$$=!0)}catch($e$$){}$done$jscomp$6_evt$$||$fallback$$()}});this.addAction("swap",function(){var $cells$$=$graph$jscomp$0$$.getSelectionCells();
2==$cells$$.length&&$graph$jscomp$0$$.swapShapes($cells$$[0],$cells$$[1])});this.addAction("copySize",function(){var $cell$jscomp$124_geo$$=$graph$jscomp$0$$.getSelectionCell();$graph$jscomp$0$$.isEnabled()&&null!=$cell$jscomp$124_geo$$&&$graph$jscomp$0$$.getModel().isVertex($cell$jscomp$124_geo$$)&&($cell$jscomp$124_geo$$=$graph$jscomp$0$$.getCellGeometry($cell$jscomp$124_geo$$),null!=$cell$jscomp$124_geo$$&&($ui$$.copiedSize=new mxRectangle($cell$jscomp$124_geo$$.x,$cell$jscomp$124_geo$$.y,$cell$jscomp$124_geo$$.width,
$cell$jscomp$124_geo$$.height)))},null,null,"Alt+Shift+F");this.addAction("pasteSize",function(){if($graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isSelectionEmpty()&&null!=$ui$$.copiedSize){$graph$jscomp$0$$.getModel().beginUpdate();try{for(var $cells$$=$graph$jscomp$0$$.getResizableCells($graph$jscomp$0$$.getSelectionCells()),$i$$=0;$i$$<$cells$$.length;$i$$++)if($graph$jscomp$0$$.getModel().isVertex($cells$$[$i$$])){var $geo$$=$graph$jscomp$0$$.getCellGeometry($cells$$[$i$$]);null!=$geo$$&&
($geo$$=$geo$$.clone(),$geo$$.width=$ui$$.copiedSize.width,$geo$$.height=$ui$$.copiedSize.height,$graph$jscomp$0$$.getModel().setGeometry($cells$$[$i$$],$geo$$))}}finally{$graph$jscomp$0$$.getModel().endUpdate()}}},null,null,"Alt+Shift+V");this.addAction("copyData",function(){var $cell$jscomp$125_value$$=$graph$jscomp$0$$.getSelectionCell()||$graph$jscomp$0$$.getModel().getRoot();$graph$jscomp$0$$.isEnabled()&&null!=$cell$jscomp$125_value$$&&($cell$jscomp$125_value$$=$cell$jscomp$125_value$$.cloneValue(),
null==$cell$jscomp$125_value$$||isNaN($cell$jscomp$125_value$$.nodeType)||($ui$$.copiedValue=$cell$jscomp$125_value$$))},null,null,"Alt+Shift+B");this.addAction("copyAsText",function(){var $cell$$=$graph$jscomp$0$$.getSelectionCell();if($graph$jscomp$0$$.isEnabled()&&null!=$cell$$)try{$graph$jscomp$0$$.isHtmlLabel($cell$$)?$ui$$.writeHtmlToClipboard($graph$jscomp$0$$.getLabel($cell$$),mxUtils.bind(this,function($e$$){$ui$$.handleError($e$$)})):$ui$$.writeTextToClipboard($graph$jscomp$0$$.getLabel($cell$$),
mxUtils.bind(this,function($e$$){$ui$$.handleError($e$$)}))}catch($e$$){$ui$$.handleError($e$$)}});this.addAction("pasteData",function($evt$$,$i$jscomp$150_trigger$$){function $applyValue$$($cell$$,$value$$){var $old$$=$model$$.getValue($cell$$);$value$$=$cell$$.cloneValue($value$$);$value$$.removeAttribute("placeholders");null==$old$$||isNaN($old$$.nodeType)||$value$$.setAttribute("placeholders",$old$$.getAttribute("placeholders"));null!=$evt$$&&mxEvent.isShiftDown($evt$$)||$value$$.setAttribute("label",
$graph$jscomp$0$$.convertValueToString($cell$$));$model$$.setValue($cell$$,$value$$)}$evt$$=null!=$i$jscomp$150_trigger$$?$i$jscomp$150_trigger$$:$evt$$;var $model$$=$graph$jscomp$0$$.getModel();if($graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isSelectionEmpty()&&null!=$ui$$.copiedValue){$model$$.beginUpdate();try{var $cells$$=$graph$jscomp$0$$.getEditableCells($graph$jscomp$0$$.getSelectionCells());if(0==$cells$$.length)$applyValue$$($model$$.getRoot(),$ui$$.copiedValue);else for($i$jscomp$150_trigger$$=
0;$i$jscomp$150_trigger$$<$cells$$.length;$i$jscomp$150_trigger$$++)$applyValue$$($cells$$[$i$jscomp$150_trigger$$],$ui$$.copiedValue)}finally{$model$$.endUpdate()}}},null,null,"Alt+Shift+E");this.addAction("delete",function($evt$$,$trigger$$){$evt$$=null!=$trigger$$?$trigger$$:$evt$$;null!=$evt$$&&mxEvent.isShiftDown($evt$$)?$deleteLabels$$():$deleteCells$$(null!=$evt$$&&(mxEvent.isControlDown($evt$$)||mxEvent.isMetaDown($evt$$)||mxEvent.isAltDown($evt$$)))},null,null,"Delete");this.addAction("deleteAll",
function(){$deleteCells$$(!0)});this.addAction("deleteLabels",function(){$deleteLabels$$()},null,null,Editor.ctrlKey+"+Delete");this.addAction("duplicate",function(){try{$graph$jscomp$0$$.setSelectionCells($graph$jscomp$0$$.duplicateCells()),$graph$jscomp$0$$.scrollCellToVisible($graph$jscomp$0$$.getSelectionCell())}catch($e$$){$ui$$.handleError($e$$)}},null,null,Editor.ctrlKey+"+D");this.put("mergeCells",new Action(mxResources.get("merge"),function(){var $ss$$=$ui$$.getSelectionState();if(null!=
$ss$$.mergeCell){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles("rowspan",$ss$$.rowspan,[$ss$$.mergeCell]),$graph$jscomp$0$$.setCellStyles("colspan",$ss$$.colspan,[$ss$$.mergeCell])}finally{$graph$jscomp$0$$.getModel().endUpdate()}}}));this.put("unmergeCells",new Action(mxResources.get("unmerge"),function(){var $ss$$=$ui$$.getSelectionState();if(0<$ss$$.cells.length){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles("rowspan",null,$ss$$.cells),
$graph$jscomp$0$$.setCellStyles("colspan",null,$ss$$.cells)}finally{$graph$jscomp$0$$.getModel().endUpdate()}}}));this.put("turn",new Action(mxResources.get("turn")+" / "+mxResources.get("reverse"),function($evt$$,$trigger$$){$evt$$=null!=$trigger$$?$trigger$$:$evt$$;$graph$jscomp$0$$.turnShapes($graph$jscomp$0$$.getResizableCells($graph$jscomp$0$$.getSelectionCells()),null!=$evt$$?mxEvent.isShiftDown($evt$$):!1)},null,null,mxClient.IS_SF?null:Editor.ctrlKey+"+R"));this.put("selectConnections",new Action(mxResources.get("selectEdges"),
function($cell$jscomp$128_evt$$){$cell$jscomp$128_evt$$=$graph$jscomp$0$$.getSelectionCell();$graph$jscomp$0$$.isEnabled()&&null!=$cell$jscomp$128_evt$$&&$graph$jscomp$0$$.addSelectionCells($graph$jscomp$0$$.getEdges($cell$jscomp$128_evt$$))}));this.addAction("selectVertices",function(){$graph$jscomp$0$$.selectVertices(null,!0)},null,null,Editor.ctrlKey+"+Shift+I");this.addAction("selectEdges",function(){$graph$jscomp$0$$.selectEdges()},null,null,Editor.ctrlKey+"+Shift+E");this.addAction("selectAll",
function(){$graph$jscomp$0$$.selectAll(null,!0)},null,null,Editor.ctrlKey+"+A");this.addAction("selectNone",function(){$graph$jscomp$0$$.clearSelection()},null,null,Editor.ctrlKey+"+Shift+A");this.addAction("lockUnlock",function(){if(!$graph$jscomp$0$$.isSelectionEmpty()){$graph$jscomp$0$$.getModel().beginUpdate();try{var $cells$$=$graph$jscomp$0$$.getSelectionCells(),$style$$=$graph$jscomp$0$$.getCurrentCellStyle($graph$jscomp$0$$.getSelectionCell()),$value$$=1==mxUtils.getValue($style$$,mxConstants.STYLE_EDITABLE,
1)?0:1;$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_MOVABLE,$value$$,$cells$$);$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_RESIZABLE,$value$$,$cells$$);$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ROTATABLE,$value$$,$cells$$);$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DELETABLE,$value$$,$cells$$);$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_EDITABLE,$value$$,$cells$$);$graph$jscomp$0$$.setCellStyles("locked",1==$value$$?0:1,$cells$$);$graph$jscomp$0$$.setCellStyles("connectable",
$value$$,$cells$$)}finally{$graph$jscomp$0$$.getModel().endUpdate()}}},null,null,Editor.ctrlKey+"+L");this.addAction("home",function(){$graph$jscomp$0$$.home()},null,null,"Shift+Home");this.addAction("exitGroup",function(){$graph$jscomp$0$$.exitGroup()},null,null,Editor.ctrlKey+"+Shift+Home");this.addAction("enterGroup",function(){$graph$jscomp$0$$.enterGroup()},null,null,Editor.ctrlKey+"+Shift+End");this.addAction("collapse",function(){$graph$jscomp$0$$.foldCells(!0)},null,null,Editor.ctrlKey+"+Home");
this.addAction("expand",function(){$graph$jscomp$0$$.foldCells(!1)},null,null,Editor.ctrlKey+"+End");this.addAction("toFront",function(){$graph$jscomp$0$$.orderCells(!1)},null,null,Editor.ctrlKey+"+Shift+F");this.addAction("toBack",function(){$graph$jscomp$0$$.orderCells(!0)},null,null,Editor.ctrlKey+"+Shift+B");this.addAction("bringForward",function($evt$$){$graph$jscomp$0$$.orderCells(!1,null,!0)});this.addAction("sendBackward",function($evt$$){$graph$jscomp$0$$.orderCells(!0,null,!0)});this.addAction("group",
function(){if($graph$jscomp$0$$.isEnabled()){var $cells$$=mxUtils.sortCells($graph$jscomp$0$$.getSelectionCells(),!0);1!=$cells$$.length||$graph$jscomp$0$$.isTable($cells$$[0])||$graph$jscomp$0$$.isTableRow($cells$$[0])?($cells$$=$graph$jscomp$0$$.getCellsForGroup($cells$$),1<$cells$$.length&&$graph$jscomp$0$$.setSelectionCell($graph$jscomp$0$$.groupCells(null,0,$cells$$))):$graph$jscomp$0$$.setCellStyles("container","1")}},null,null,Editor.ctrlKey+"+G");this.addAction("ungroup",function(){if($graph$jscomp$0$$.isEnabled()){var $cells$$=
$graph$jscomp$0$$.getEditableCells($graph$jscomp$0$$.getSelectionCells());$graph$jscomp$0$$.model.beginUpdate();try{var $temp$$=$graph$jscomp$0$$.ungroupCells();if(null!=$cells$$)for(var $i$$=0;$i$$<$cells$$.length;$i$$++)$graph$jscomp$0$$.model.contains($cells$$[$i$$])&&(0==$graph$jscomp$0$$.model.getChildCount($cells$$[$i$$])&&$graph$jscomp$0$$.model.isVertex($cells$$[$i$$])&&$graph$jscomp$0$$.setCellStyles("container","0",[$cells$$[$i$$]]),$temp$$.push($cells$$[$i$$]))}finally{$graph$jscomp$0$$.model.endUpdate()}0<
$temp$$.length&&$graph$jscomp$0$$.setSelectionCells($temp$$)}},null,null,Editor.ctrlKey+"+Shift+U");this.addAction("removeFromGroup",function(){if($graph$jscomp$0$$.isEnabled()){var $cells$$=$graph$jscomp$0$$.getSelectionCells();if(null!=$cells$$){for(var $temp$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++)$graph$jscomp$0$$.isTableRow($cells$$[$i$$])||$graph$jscomp$0$$.isTableCell($cells$$[$i$$])||$temp$$.push($cells$$[$i$$]);$graph$jscomp$0$$.removeCellsFromParent($temp$$);0<$temp$$.length&&$graph$jscomp$0$$.scrollCellToVisible($temp$$[0])}}});
this.addAction("edit",function(){$graph$jscomp$0$$.isEnabled()&&$graph$jscomp$0$$.startEditingAtCell()},null,null,"F2/Enter");this.addAction("editData...",function(){var $cell$$=$graph$jscomp$0$$.getSelectionCell()||$graph$jscomp$0$$.getModel().getRoot();$ui$$.showDataDialog($cell$$)},null,null,Editor.ctrlKey+"+M");this.addAction("editTooltip...",function(){var $cell$$=$graph$jscomp$0$$.getSelectionCell();if($graph$jscomp$0$$.isEnabled()&&null!=$cell$$&&$graph$jscomp$0$$.isCellEditable($cell$$)){var $dlg$jscomp$9_tooltip$$=
"";if(mxUtils.isNode($cell$$.value)){var $tmp$$=null;Graph.translateDiagram&&null!=Graph.diagramLanguage&&$cell$$.value.hasAttribute("tooltip_"+Graph.diagramLanguage)&&($tmp$$=$cell$$.value.getAttribute("tooltip_"+Graph.diagramLanguage));null==$tmp$$&&($tmp$$=$cell$$.value.getAttribute("tooltip"));null!=$tmp$$&&($dlg$jscomp$9_tooltip$$=$tmp$$)}$dlg$jscomp$9_tooltip$$=new TextareaDialog($ui$$,mxResources.get("editTooltip")+":",$dlg$jscomp$9_tooltip$$,function($newValue$$){$graph$jscomp$0$$.setTooltipForCell($cell$$,
$newValue$$)});$ui$$.showDialog($dlg$jscomp$9_tooltip$$.container,320,200,!0,!0);$dlg$jscomp$9_tooltip$$.init()}},null,null,"Alt+Shift+T");this.addAction("openLink",function(){var $link$$=$graph$jscomp$0$$.getLinkForCell($graph$jscomp$0$$.getSelectionCell());null!=$link$$&&$graph$jscomp$0$$.openLink($link$$)});this.addAction("editLink...",function(){var $cell$$=$graph$jscomp$0$$.getSelectionCell();if($graph$jscomp$0$$.isEnabled()&&null!=$cell$$&&$graph$jscomp$0$$.isCellEditable($cell$$)){var $value$$=
$graph$jscomp$0$$.getLinkForCell($cell$$,!0)||"";$ui$$.showLinkDialog($value$$,mxResources.get("ok"),function($link$$,$docs$$,$linkTarget$$){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setLinkForCell($cell$$,0<$link$$.length?$link$$:null),$graph$jscomp$0$$.setAttributeForCell($cell$$,"linkTarget",$linkTarget$$)}finally{$graph$jscomp$0$$.getModel().endUpdate()}},!0,$graph$jscomp$0$$.getLinkTargetForCell($cell$$))}},null,null,"Alt+Shift+L");this.put("insertImage",new Action(mxResources.get("image")+
"...",function(){$graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())&&($graph$jscomp$0$$.clearSelection(),$ui$$.actions.get("image").funct())})).isEnabled=$isGraphEnabled$$;this.addAction("editImage...",function(){$ui$$.actions.get("image").funct()});this.put("insertLink",new Action(mxResources.get("link")+"...",function(){$graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())&&$ui$$.showLinkDialog("",mxResources.get("ok"),
function($link$$,$docs$$,$linkTarget$$){$link$$=mxUtils.trim($link$$);if(0<$link$$.length){var $icon$jscomp$1_pt$$=null,$title$$=$graph$jscomp$0$$.getLinkTitle($link$$);null!=$docs$$&&0<$docs$$.length&&($icon$jscomp$1_pt$$=$docs$$[0].iconUrl,$title$$=$docs$$[0].name||$docs$$[0].type,$title$$=$title$$.charAt(0).toUpperCase()+$title$$.substring(1),30<$title$$.length&&($title$$=$title$$.substring(0,30)+"..."));$docs$$=new mxCell($title$$,new mxGeometry(0,0,100,40),"fontColor=#0000EE;fontStyle=4;rounded=1;overflow=hidden;"+
(null!=$icon$jscomp$1_pt$$?"shape=label;imageWidth=16;imageHeight=16;spacingLeft=26;align=left;image="+$icon$jscomp$1_pt$$:"spacing=10;"));$docs$$.vertex=!0;$icon$jscomp$1_pt$$=$graph$jscomp$0$$.getCenterInsertPoint($graph$jscomp$0$$.getBoundingBoxFromGeometry([$docs$$],!0));$docs$$.geometry.x=$icon$jscomp$1_pt$$.x;$docs$$.geometry.y=$icon$jscomp$1_pt$$.y;$graph$jscomp$0$$.setAttributeForCell($docs$$,"linkTarget",$linkTarget$$);$graph$jscomp$0$$.setLinkForCell($docs$$,$link$$);$graph$jscomp$0$$.cellSizeUpdated($docs$$,
!0);$graph$jscomp$0$$.getModel().beginUpdate();try{$docs$$=$graph$jscomp$0$$.addCell($docs$$),$graph$jscomp$0$$.fireEvent(new mxEventObject("cellsInserted","cells",[$docs$$]))}finally{$graph$jscomp$0$$.getModel().endUpdate()}$graph$jscomp$0$$.setSelectionCell($docs$$);$graph$jscomp$0$$.scrollCellToVisible($graph$jscomp$0$$.getSelectionCell())}},!0)},null,null,"L")).isEnabled=$isGraphEnabled$$;this.addAction("link...",mxUtils.bind(this,function(){if($graph$jscomp$0$$.isEnabled())if($graph$jscomp$0$$.cellEditor.isContentEditing()){var $elt$$=
$graph$jscomp$0$$.getSelectedElement(),$link$$=$graph$jscomp$0$$.getParentByName($elt$$,"A",$graph$jscomp$0$$.cellEditor.textarea),$oldValue$$="";if(null==$link$$&&null!=$elt$$&&null!=$elt$$.getElementsByTagName)for(var $links$$=$elt$$.getElementsByTagName("a"),$i$$=0;$i$$<$links$$.length&&null==$link$$;$i$$++)$links$$[$i$$].textContent==$elt$$.textContent&&($link$$=$links$$[$i$$]);null!=$link$$&&"A"==$link$$.nodeName&&($oldValue$$=$link$$.getAttribute("href")||"",$graph$jscomp$0$$.selectNode($link$$));
var $selState$$=$graph$jscomp$0$$.cellEditor.saveSelection();$ui$$.showLinkDialog($oldValue$$,mxResources.get("ok"),mxUtils.bind(this,function($value$$){$graph$jscomp$0$$.cellEditor.restoreSelection($selState$$);null!=$value$$&&$graph$jscomp$0$$.insertLink($value$$)}))}else $graph$jscomp$0$$.isSelectionEmpty()?this.get("insertLink").funct():this.get("editLink").funct()})).isEnabled=$isGraphEnabled$$;this.addAction("autosize",function(){var $cells$$=$graph$jscomp$0$$.getSelectionCells();if(null!=$cells$$){$graph$jscomp$0$$.getModel().beginUpdate();
try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=$cells$$[$i$$];$graph$jscomp$0$$.getModel().isVertex($cell$$)&&(0<$graph$jscomp$0$$.getModel().getChildCount($cell$$)?$graph$jscomp$0$$.updateGroupBounds([$cell$$],0,!0):$graph$jscomp$0$$.updateCellSize($cell$$))}}finally{$graph$jscomp$0$$.getModel().endUpdate()}}},null,null,Editor.ctrlKey+"+Shift+Y");this.addAction("snapToGrid",function(){$graph$jscomp$0$$.snapCellsToGrid($graph$jscomp$0$$.getSelectionCells(),$graph$jscomp$0$$.gridSize)});
this.addAction("formattedText",function(){$graph$jscomp$0$$.stopEditing();var $style$jscomp$69_value$$=$graph$jscomp$0$$.getCommonStyle($graph$jscomp$0$$.getSelectionCells());$style$jscomp$69_value$$="1"==mxUtils.getValue($style$jscomp$69_value$$,"html","0")?null:"1";$graph$jscomp$0$$.getModel().beginUpdate();try{for(var $cells$$=$graph$jscomp$0$$.getEditableCells($graph$jscomp$0$$.getSelectionCells()),$i$$=0;$i$$<$cells$$.length;$i$$++)if(state=$graph$jscomp$0$$.getView().getState($cells$$[$i$$]),
null!=state){var $html$$=mxUtils.getValue(state.style,"html","0");if("1"==$html$$&&null==$style$jscomp$69_value$$)$graph$jscomp$0$$.removeTextStyleForCell(state.cell),$graph$jscomp$0$$.setCellStyles("html",$style$jscomp$69_value$$,[$cells$$[$i$$]]);else if("0"==$html$$&&"1"==$style$jscomp$69_value$$){var $label$$=mxUtils.htmlEntities($graph$jscomp$0$$.convertValueToString(state.cell),!1);"0"!=mxUtils.getValue(state.style,"nl2Br","1")&&($label$$=$label$$.replace(/\n/g,"<br/>"));$graph$jscomp$0$$.cellLabelChanged(state.cell,
Graph.sanitizeHtml($label$$));$graph$jscomp$0$$.setCellStyles("html",$style$jscomp$69_value$$,[$cells$$[$i$$]])}}$ui$$.fireEvent(new mxEventObject("styleChanged","keys",["html"],"values",[null!=$style$jscomp$69_value$$?$style$jscomp$69_value$$:"0"],"cells",$cells$$))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});this.addAction("wordWrap",function(){var $state$$=$graph$jscomp$0$$.getView().getState($graph$jscomp$0$$.getSelectionCell()),$value$$="wrap";$graph$jscomp$0$$.stopEditing();null!=$state$$&&
"wrap"==$state$$.style[mxConstants.STYLE_WHITE_SPACE]&&($value$$=null);$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_WHITE_SPACE,$value$$)});this.addAction("rotation",function(){var $dlg$jscomp$10_value$$="0",$state$$=$graph$jscomp$0$$.getView().getState($graph$jscomp$0$$.getSelectionCell());null!=$state$$&&($dlg$jscomp$10_value$$=$state$$.style[mxConstants.STYLE_ROTATION]||$dlg$jscomp$10_value$$);$dlg$jscomp$10_value$$=new FilenameDialog($ui$$,$dlg$jscomp$10_value$$,mxResources.get("apply"),
function($newValue$$){null!=$newValue$$&&0<$newValue$$.length&&$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ROTATION,$newValue$$)},mxResources.get("enterValue")+" ("+mxResources.get("rotation")+" 0-360)");$ui$$.showDialog($dlg$jscomp$10_value$$.container,375,80,!0,!0);$dlg$jscomp$10_value$$.init()});this.addAction("resetView",function(){$graph$jscomp$0$$.zoomTo(1);$ui$$.resetScrollbars()},null,null,"Enter/Home");this.addAction("zoomIn",function($evt$$){$graph$jscomp$0$$.isFastZoomEnabled()?$graph$jscomp$0$$.lazyZoom(!0,
!0,$ui$$.buttonZoomDelay):$graph$jscomp$0$$.zoomIn()},null,null,Editor.ctrlKey+" + (Numpad) / Alt+Mousewheel");this.addAction("zoomOut",function($evt$$){$graph$jscomp$0$$.isFastZoomEnabled()?$graph$jscomp$0$$.lazyZoom(!1,!0,$ui$$.buttonZoomDelay):$graph$jscomp$0$$.zoomOut()},null,null,Editor.ctrlKey+" - (Numpad) / Alt+Mousewheel");this.addAction("fitWindow",function(){$graph$jscomp$0$$.pageVisible&&$graph$jscomp$0$$.isSelectionEmpty()?$graph$jscomp$0$$.fitPages():$ui$$.fitDiagramToWindow()},null,
null,Editor.ctrlKey+"+Shift+H");this.addAction("fitPage",mxUtils.bind(this,function(){$graph$jscomp$0$$.pageVisible?$graph$jscomp$0$$.fitPages(1):this.get("pageView").funct()}),null,null,Editor.ctrlKey+"+J");this.addAction("fitTwoPages",mxUtils.bind(this,function(){$graph$jscomp$0$$.pageVisible?$graph$jscomp$0$$.fitPages(2):this.get("pageView").funct()}),null,null,Editor.ctrlKey+"+Shift+J");this.addAction("fitPageWidth",mxUtils.bind(this,function(){$graph$jscomp$0$$.pageVisible?$graph$jscomp$0$$.fitPages(1,
!0):this.get("pageView").funct()}));this.put("customZoom",new Action(mxResources.get("custom")+"...",mxUtils.bind(this,function(){var $dlg$$=new FilenameDialog(this.editorUi,parseInt(100*$graph$jscomp$0$$.getView().getScale()),mxResources.get("apply"),mxUtils.bind(this,function($newValue$jscomp$7_val$$){$newValue$jscomp$7_val$$=parseInt($newValue$jscomp$7_val$$);!isNaN($newValue$jscomp$7_val$$)&&0<$newValue$jscomp$7_val$$&&$graph$jscomp$0$$.zoomTo($newValue$jscomp$7_val$$/100)}),mxResources.get("zoom")+
" (%)");this.editorUi.showDialog($dlg$$.container,300,80,!0,!0);$dlg$$.init()}),null,null,Editor.ctrlKey+"+0"));this.addAction("pageScale...",mxUtils.bind(this,function(){var $dlg$$=new FilenameDialog(this.editorUi,parseInt(100*$graph$jscomp$0$$.pageScale),mxResources.get("apply"),mxUtils.bind(this,function($change$jscomp$4_newValue$jscomp$8_val$$){$change$jscomp$4_newValue$jscomp$8_val$$=parseInt($change$jscomp$4_newValue$jscomp$8_val$$);!isNaN($change$jscomp$4_newValue$jscomp$8_val$$)&&0<$change$jscomp$4_newValue$jscomp$8_val$$&&
($change$jscomp$4_newValue$jscomp$8_val$$=new ChangePageSetup($ui$$,null,null,null,$change$jscomp$4_newValue$jscomp$8_val$$/100),$change$jscomp$4_newValue$jscomp$8_val$$.ignoreColor=!0,$change$jscomp$4_newValue$jscomp$8_val$$.ignoreImage=!0,$graph$jscomp$0$$.model.execute($change$jscomp$4_newValue$jscomp$8_val$$))}),mxResources.get("pageScale")+" (%)");this.editorUi.showDialog($dlg$$.container,300,80,!0,!0);$dlg$$.init()}));var $action$$=null;$action$$=this.addAction("grid",function(){$graph$jscomp$0$$.setGridEnabled(!$graph$jscomp$0$$.isGridEnabled());
$graph$jscomp$0$$.defaultGridEnabled=$graph$jscomp$0$$.isGridEnabled();$ui$$.fireEvent(new mxEventObject("gridEnabledChanged"))},null,null,Editor.ctrlKey+"+Shift+G");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.isGridEnabled()});$action$$.setEnabled(!1);$action$$=this.addAction("guides",function(){$graph$jscomp$0$$.graphHandler.guidesEnabled=!$graph$jscomp$0$$.graphHandler.guidesEnabled;$ui$$.fireEvent(new mxEventObject("guidesEnabledChanged"))});
$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.graphHandler.guidesEnabled});$action$$.setEnabled(!1);$action$$=this.addAction("tooltips",function(){$graph$jscomp$0$$.tooltipHandler.setEnabled(!$graph$jscomp$0$$.tooltipHandler.isEnabled());$ui$$.fireEvent(new mxEventObject("tooltipsEnabledChanged"))});$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.tooltipHandler.isEnabled()});$action$$=this.addAction("collapseExpand",
function(){var $change$$=new ChangePageSetup($ui$$);$change$$.ignoreColor=!0;$change$$.ignoreImage=!0;$change$$.foldingEnabled=!$graph$jscomp$0$$.foldingEnabled;$graph$jscomp$0$$.model.execute($change$$)});$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.foldingEnabled});$action$$.isEnabled=$isGraphEnabled$$;$action$$=this.addAction("pageView",mxUtils.bind(this,function(){$ui$$.setPageVisible(!$graph$jscomp$0$$.pageVisible)}));$action$$.setToggleAction(!0);
$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.pageVisible});$action$$=this.addAction("connectionArrows",function(){$graph$jscomp$0$$.connectionArrowsEnabled=!$graph$jscomp$0$$.connectionArrowsEnabled;$ui$$.fireEvent(new mxEventObject("connectionArrowsChanged"))},null,null,"Alt+Shift+A");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.connectionArrowsEnabled});$action$$=this.addAction("connectionPoints",function(){$graph$jscomp$0$$.setConnectable(!$graph$jscomp$0$$.connectionHandler.isEnabled());
$ui$$.fireEvent(new mxEventObject("connectionPointsChanged"))},null,null,"Alt+Shift+O");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.connectionHandler.isEnabled()});$action$$=this.addAction("copyConnect",function(){$graph$jscomp$0$$.connectionHandler.setCreateTarget(!$graph$jscomp$0$$.connectionHandler.isCreateTarget());$ui$$.fireEvent(new mxEventObject("copyConnectChanged"))});$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.connectionHandler.isCreateTarget()});
$action$$.isEnabled=$isGraphEnabled$$;$action$$=this.addAction("autosave",function(){$ui$$.editor.setAutosave(!$ui$$.editor.autosave)});$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $ui$$.editor.autosave});$action$$.isEnabled=$isGraphEnabled$$;$action$$.visible=!1;this.addAction("help",function(){var $ext$$="";mxResources.isLanguageSupported(mxClient.language)&&($ext$$="_"+mxClient.language);$graph$jscomp$0$$.openLink(RESOURCES_PATH+"/help"+$ext$$+".html")});var $showingAbout$$=
!1;this.put("about",new Action(mxResources.get("about")+" Graph Editor...",function(){$showingAbout$$||($ui$$.showDialog((new AboutDialog($ui$$)).container,320,280,!0,!0,function(){$showingAbout$$=!1}),$showingAbout$$=!0)}));$action$$=mxUtils.bind(this,function($key$$,$style$$,$fn$$,$shortcut$$){return this.addAction($key$$,function(){if(null!=$fn$$&&$graph$jscomp$0$$.cellEditor.isContentEditing())$fn$$();else{$graph$jscomp$0$$.stopEditing(!1);$graph$jscomp$0$$.getModel().beginUpdate();try{var $cells$$=
$graph$jscomp$0$$.getEditableCells($graph$jscomp$0$$.getSelectionCells());$graph$jscomp$0$$.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,$style$$,$cells$$);($style$$&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD?$graph$jscomp$0$$.updateLabelElements($cells$$,function($elt$$){$elt$$.style.fontWeight=null;"B"==$elt$$.nodeName&&$graph$jscomp$0$$.replaceElement($elt$$)}):($style$$&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC?$graph$jscomp$0$$.updateLabelElements($cells$$,function($elt$$){$elt$$.style.fontStyle=
null;"I"==$elt$$.nodeName&&$graph$jscomp$0$$.replaceElement($elt$$)}):($style$$&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&$graph$jscomp$0$$.updateLabelElements($cells$$,function($elt$$){$elt$$.style.textDecoration=null;"U"==$elt$$.nodeName&&$graph$jscomp$0$$.replaceElement($elt$$)});for(var $i$$=0;$i$$<$cells$$.length;$i$$++)0==$graph$jscomp$0$$.model.getChildCount($cells$$[$i$$])&&$graph$jscomp$0$$.autoSizeCell($cells$$[$i$$],!1)}finally{$graph$jscomp$0$$.getModel().endUpdate()}}},
null,null,$shortcut$$)});$action$$("bold",mxConstants.FONT_BOLD,function(){document.execCommand("bold",!1,null)},Editor.ctrlKey+"+B");$action$$("italic",mxConstants.FONT_ITALIC,function(){document.execCommand("italic",!1,null)},Editor.ctrlKey+"+I");$action$$("underline",mxConstants.FONT_UNDERLINE,function(){document.execCommand("underline",!1,null)},Editor.ctrlKey+"+U");this.addAction("fontColor...",function(){$ui$$.menus.pickColor(mxConstants.STYLE_FONTCOLOR,"forecolor","000000","default",$graph$jscomp$0$$.shapeForegroundColor)});
this.addAction("strokeColor...",function(){$ui$$.menus.pickColor(mxConstants.STYLE_STROKECOLOR,null,null,"default",$graph$jscomp$0$$.shapeForegroundColor)});this.addAction("fillColor...",function(){$ui$$.menus.pickColor(mxConstants.STYLE_FILLCOLOR,null,null,"default",$graph$jscomp$0$$.shapeBackgroundColor)});this.addAction("gradientColor...",function(){$ui$$.menus.pickColor(mxConstants.STYLE_GRADIENTCOLOR,null,null,"default",$graph$jscomp$0$$.shapeForegroundColor)});this.addAction("backgroundColor...",
function(){$ui$$.menus.pickColor(mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,"backcolor",null,"default",$graph$jscomp$0$$.shapeBackgroundColor)});this.addAction("borderColor...",function(){$ui$$.menus.pickColor(mxConstants.STYLE_LABEL_BORDERCOLOR,null,null,"default",$graph$jscomp$0$$.shapeForegroundColor)});this.addAction("removeFormat",function(){if($graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isSelectionEmpty()&&!$graph$jscomp$0$$.isEditing()){$graph$jscomp$0$$.getModel().beginUpdate();try{for(var $cells$$=
$graph$jscomp$0$$.getSelectionCells(),$i$$=0;$i$$<$cells$$.length;$i$$++)$graph$jscomp$0$$.removeTextStyleForCell($cells$$[$i$$],!0)}finally{$graph$jscomp$0$$.getModel().endUpdate()}}});this.addAction("vertical",function(){$ui$$.menus.toggleStyle(mxConstants.STYLE_HORIZONTAL,!0)});this.addAction("shadow",function(){$ui$$.menus.toggleStyle(mxConstants.STYLE_SHADOW)});this.addAction("solid",function(){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASHED,
null),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASH_PATTERN,null),$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],"values",[null,null],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});this.addAction("dashed",function(){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASHED,"1"),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASH_PATTERN,
null),$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],"values",["1",null],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});this.addAction("dotted",function(){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASHED,"1"),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASH_PATTERN,"1 4"),$ui$$.fireEvent(new mxEventObject("styleChanged",
"keys",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],"values",["1","1 4"],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});this.addAction("sharp",function(){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ROUNDED,"0"),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_CURVED,"0"),$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],
"values",["0","0"],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});this.addAction("rounded",function(){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ROUNDED,"1"),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_CURVED,"0"),$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],"values",["1","0"],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});
this.addAction("toggleRounded",function(){if(!$graph$jscomp$0$$.isSelectionEmpty()&&$graph$jscomp$0$$.isEnabled()){$graph$jscomp$0$$.getModel().beginUpdate();try{var $cells$$=$graph$jscomp$0$$.getSelectionCells(),$style$$=$graph$jscomp$0$$.getCurrentCellStyle($cells$$[0]),$value$$="1"==mxUtils.getValue($style$$,mxConstants.STYLE_ROUNDED,"0")?"0":"1";$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ROUNDED,$value$$);$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_CURVED,null);$ui$$.fireEvent(new mxEventObject("styleChanged",
"keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],"values",[$value$$,"0"],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}}});this.addAction("curved",function(){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ROUNDED,"0"),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_CURVED,"1"),$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],
"values",["0","1"],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});this.addAction("collapsible",function(){var $state$$=$graph$jscomp$0$$.view.getState($graph$jscomp$0$$.getSelectionCell()),$value$$="1";null!=$state$$&&null!=$graph$jscomp$0$$.getFoldingImage($state$$)&&($value$$="0");$graph$jscomp$0$$.setCellStyles("collapsible",$value$$);$ui$$.fireEvent(new mxEventObject("styleChanged","keys",["collapsible"],"values",[$value$$],"cells",$graph$jscomp$0$$.getSelectionCells()))});
this.addAction("editStyle...",mxUtils.bind(this,function(){var $cells$$=$graph$jscomp$0$$.getEditableCells($graph$jscomp$0$$.getSelectionCells());if(null!=$cells$$&&0<$cells$$.length){var $dlg$jscomp$13_model$$=$graph$jscomp$0$$.getModel();$dlg$jscomp$13_model$$=new TextareaDialog(this.editorUi,mxResources.get("editStyle")+":",$dlg$jscomp$13_model$$.getStyle($cells$$[0])||"",function($newValue$$){null!=$newValue$$&&$graph$jscomp$0$$.setCellStyle(mxUtils.trim($newValue$$),$cells$$)},null,null,400,
220);this.editorUi.showDialog($dlg$jscomp$13_model$$.container,420,300,!0,!0);$dlg$jscomp$13_model$$.init()}}),null,null,Editor.ctrlKey+"+E");this.addAction("setAsDefaultStyle",function(){$graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isSelectionEmpty()&&$ui$$.setDefaultStyle($graph$jscomp$0$$.getSelectionCell())},null,null,Editor.ctrlKey+"+Shift+D");this.addAction("clearDefaultStyle",function(){$graph$jscomp$0$$.isEnabled()&&$ui$$.clearDefaultStyle()},null,null,Editor.ctrlKey+"+Shift+R");this.addAction("addWaypoint",
function(){var $cell$jscomp$133_parent$$=$graph$jscomp$0$$.getSelectionCell();if(null!=$cell$jscomp$133_parent$$&&$graph$jscomp$0$$.getModel().isEdge($cell$jscomp$133_parent$$)){var $handler$$=$editor$$.graph.selectionCellsHandler.getHandler($cell$jscomp$133_parent$$);if($handler$$ instanceof mxEdgeHandler){var $dy$jscomp$59_t$$=$graph$jscomp$0$$.view.translate,$s$jscomp$58_y$$=$graph$jscomp$0$$.view.scale,$dx$jscomp$64_x$$=$dy$jscomp$59_t$$.x;$dy$jscomp$59_t$$=$dy$jscomp$59_t$$.y;$cell$jscomp$133_parent$$=
$graph$jscomp$0$$.getModel().getParent($cell$jscomp$133_parent$$);for(var $pgeo$$=$graph$jscomp$0$$.getCellGeometry($cell$jscomp$133_parent$$);$graph$jscomp$0$$.getModel().isVertex($cell$jscomp$133_parent$$)&&null!=$pgeo$$;)$dx$jscomp$64_x$$+=$pgeo$$.x,$dy$jscomp$59_t$$+=$pgeo$$.y,$cell$jscomp$133_parent$$=$graph$jscomp$0$$.getModel().getParent($cell$jscomp$133_parent$$),$pgeo$$=$graph$jscomp$0$$.getCellGeometry($cell$jscomp$133_parent$$);$dx$jscomp$64_x$$=Math.round($graph$jscomp$0$$.snap($graph$jscomp$0$$.popupMenuHandler.triggerX/
$s$jscomp$58_y$$-$dx$jscomp$64_x$$));$s$jscomp$58_y$$=Math.round($graph$jscomp$0$$.snap($graph$jscomp$0$$.popupMenuHandler.triggerY/$s$jscomp$58_y$$-$dy$jscomp$59_t$$));$handler$$.addPointAt($handler$$.state,$dx$jscomp$64_x$$,$s$jscomp$58_y$$)}}});this.addAction("removeWaypoint",function(){var $rmWaypointAction$$=$ui$$.actions.get("removeWaypoint");null!=$rmWaypointAction$$.handler&&$rmWaypointAction$$.handler.removePoint($rmWaypointAction$$.handler.state,$rmWaypointAction$$.index)});this.addAction("clearAnchors",
function(){var $cells$$=$graph$jscomp$0$$.getSelectionCells();if(null!=$cells$$){$cells$$=$graph$jscomp$0$$.getEditableCells($graph$jscomp$0$$.addAllEdges($cells$$));$graph$jscomp$0$$.getModel().beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=$cells$$[$i$$];$graph$jscomp$0$$.getModel().isEdge($cell$$)&&($graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_EXIT_X,null,[$cell$$]),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_EXIT_Y,null,[$cell$$]),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ENTRY_X,
null,[$cell$$]),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ENTRY_Y,null,[$cell$$]))}}finally{$graph$jscomp$0$$.getModel().endUpdate()}}});this.addAction("clearWaypoints",function(){var $cells$$=$graph$jscomp$0$$.getSelectionCells();if(null!=$cells$$){$cells$$=$graph$jscomp$0$$.getEditableCells($graph$jscomp$0$$.addAllEdges($cells$$));$graph$jscomp$0$$.getModel().beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=$cells$$[$i$$];if($graph$jscomp$0$$.getModel().isEdge($cell$$)){var $geo$$=
$graph$jscomp$0$$.getCellGeometry($cell$$);null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.points=null,$geo$$.x=0,$geo$$.y=0,$geo$$.offset=null,$graph$jscomp$0$$.getModel().setGeometry($cell$$,$geo$$))}}}finally{$graph$jscomp$0$$.getModel().endUpdate()}}},null,null,"Alt+Shift+R");$action$$=this.addAction("subscript",mxUtils.bind(this,function(){$graph$jscomp$0$$.cellEditor.isContentEditing()&&document.execCommand("subscript",!1,null)}),null,null,Editor.ctrlKey+"+,");$action$$=this.addAction("superscript",
mxUtils.bind(this,function(){$graph$jscomp$0$$.cellEditor.isContentEditing()&&document.execCommand("superscript",!1,null)}),null,null,Editor.ctrlKey+"+.");$action$$=this.addAction("decreaseFontSize",mxUtils.bind(this,function(){if(!$graph$jscomp$0$$.isSelectionEmpty()){var $size$jscomp$111_style$$=$graph$jscomp$0$$.getCurrentCellStyle($graph$jscomp$0$$.getSelectionCell());$size$jscomp$111_style$$=mxUtils.getValue($size$jscomp$111_style$$,mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE);$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_FONTSIZE,
Math.max(1,$size$jscomp$111_style$$-1),$graph$jscomp$0$$.getSelectionCells())}}),null,null,Editor.ctrlKey+"+Shift + (Numpad)");$action$$=this.addAction("increaseFontSize",mxUtils.bind(this,function(){if(!$graph$jscomp$0$$.isSelectionEmpty()){var $size$jscomp$112_style$$=$graph$jscomp$0$$.getCurrentCellStyle($graph$jscomp$0$$.getSelectionCell());$size$jscomp$112_style$$=mxUtils.getValue($size$jscomp$112_style$$,mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE);$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_FONTSIZE,
Math.min(100,$size$jscomp$112_style$$+1),$graph$jscomp$0$$.getSelectionCells())}}),null,null,Editor.ctrlKey+"+Shift - (Numpad)");this.addAction("image...",function(){if($graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())){var $title$$=mxResources.get("image")+" ("+mxResources.get("url")+"):",$state$$=$graph$jscomp$0$$.getView().getState($graph$jscomp$0$$.getSelectionCell()),$value$$="",$clipPath$jscomp$0$$=null;null!=$state$$&&($value$$=$state$$.style[mxConstants.STYLE_IMAGE]||
$value$$,$clipPath$jscomp$0$$=$state$$.style[mxConstants.STYLE_CLIP_PATH]||$clipPath$jscomp$0$$);var $selectionState$$=$graph$jscomp$0$$.cellEditor.saveSelection();$ui$$.showImageDialog($title$$,$value$$,function($i$jscomp$161_newValue$$,$w$$,$h$$,$clipPath$$,$cW$$,$cH$$){if($graph$jscomp$0$$.cellEditor.isContentEditing())$graph$jscomp$0$$.cellEditor.restoreSelection($selectionState$$),$graph$jscomp$0$$.insertImage($i$jscomp$161_newValue$$,$w$$,$h$$);else{var $cells$$=$graph$jscomp$0$$.getSelectionCells();
if(null!=$i$jscomp$161_newValue$$&&(0<$i$jscomp$161_newValue$$.length||0<$cells$$.length)){var $select$$=null;$graph$jscomp$0$$.getModel().beginUpdate();try{if(0==$cells$$.length){$cells$$=[$graph$jscomp$0$$.insertVertex($graph$jscomp$0$$.getDefaultParent(),null,"",0,0,$w$$,$h$$,"shape=image;imageAspect=0;aspect=fixed;verticalLabelPosition=bottom;verticalAlign=top;")];var $pt$$=$graph$jscomp$0$$.getCenterInsertPoint($graph$jscomp$0$$.getBoundingBoxFromGeometry($cells$$,!0));$cells$$[0].geometry.x=
$pt$$.x;$cells$$[0].geometry.y=$pt$$.y;null!=$clipPath$$&&$applyClipPath$$($cells$$[0],$clipPath$$,$cW$$,$cH$$,$graph$jscomp$0$$);$select$$=$cells$$;$graph$jscomp$0$$.fireEvent(new mxEventObject("cellsInserted","cells",$select$$))}$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_IMAGE,0<$i$jscomp$161_newValue$$.length?$i$jscomp$161_newValue$$:null,$cells$$);var $style$$=$graph$jscomp$0$$.getCurrentCellStyle($cells$$[0]);"image"!=$style$$[mxConstants.STYLE_SHAPE]&&"label"!=$style$$[mxConstants.STYLE_SHAPE]?
$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_SHAPE,"image",$cells$$):0==$i$jscomp$161_newValue$$.length&&$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_SHAPE,null,$cells$$);null==$clipPath$$&&$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_CLIP_PATH,null,$cells$$);if(null!=$w$$&&null!=$h$$)for($i$jscomp$161_newValue$$=0;$i$jscomp$161_newValue$$<$cells$$.length;$i$jscomp$161_newValue$$++){var $cell$$=$cells$$[$i$jscomp$161_newValue$$];if("0"!=$graph$jscomp$0$$.getCurrentCellStyle($cell$$).expand){var $geo$$=
$graph$jscomp$0$$.getModel().getGeometry($cell$$);null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.width=$w$$,$geo$$.height=$h$$,$graph$jscomp$0$$.getModel().setGeometry($cell$$,$geo$$))}null!=$clipPath$$&&$applyClipPath$$($cell$$,$clipPath$$,$cW$$,$cH$$,$graph$jscomp$0$$)}}finally{$graph$jscomp$0$$.getModel().endUpdate()}null!=$select$$&&($graph$jscomp$0$$.setSelectionCells($select$$),$graph$jscomp$0$$.scrollCellToVisible($select$$[0]))}}},$graph$jscomp$0$$.cellEditor.isContentEditing(),!$graph$jscomp$0$$.cellEditor.isContentEditing(),
!0,$clipPath$jscomp$0$$)}}).isEnabled=$isGraphEnabled$$;this.addAction("crop...",function(){var $cell$$=$graph$jscomp$0$$.getSelectionCell();if($graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())&&null!=$cell$$){var $dlg$jscomp$14_style$$=$graph$jscomp$0$$.getCurrentCellStyle($cell$$),$value$$=$dlg$jscomp$14_style$$[mxConstants.STYLE_IMAGE],$shape$$=$dlg$jscomp$14_style$$[mxConstants.STYLE_SHAPE];$value$$&&"image"==$shape$$&&($dlg$jscomp$14_style$$=
new CropImageDialog($ui$$,$value$$,$dlg$jscomp$14_style$$[mxConstants.STYLE_CLIP_PATH],function($clipPath$$,$width$$,$height$$){$applyClipPath$$($cell$$,$clipPath$$,$width$$,$height$$,$graph$jscomp$0$$)}),$ui$$.showDialog($dlg$jscomp$14_style$$.container,300,390,!0,!0))}}).isEnabled=$isGraphEnabled$$;$action$$=this.addAction("layers",mxUtils.bind(this,function(){null==this.layersWindow?(this.layersWindow=new LayersWindow($ui$$,document.body.offsetWidth-280,120,212,200),this.layersWindow.window.addListener("show",
mxUtils.bind(this,function(){$ui$$.fireEvent(new mxEventObject("layers"))})),this.layersWindow.window.addListener("hide",function(){$ui$$.fireEvent(new mxEventObject("layers"))}),this.layersWindow.window.setVisible(!0),$ui$$.fireEvent(new mxEventObject("layers")),this.layersWindow.init()):this.layersWindow.window.setVisible(!this.layersWindow.window.isVisible())}),null,null,Editor.ctrlKey+"+Shift+L");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(mxUtils.bind(this,function(){return null!=
this.layersWindow&&this.layersWindow.window.isVisible()}));$action$$=this.addAction("format",mxUtils.bind(this,function(){$ui$$.toggleFormatPanel()}),null,null,Editor.ctrlKey+"+Shift+P");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(mxUtils.bind(this,function(){return $ui$$.isFormatPanelVisible()}));$action$$=this.addAction("outline",mxUtils.bind(this,function(){null==this.outlineWindow?(this.outlineWindow=new OutlineWindow($ui$$,document.body.offsetWidth-260,100,180,180),this.outlineWindow.window.addListener("show",
mxUtils.bind(this,function(){$ui$$.fireEvent(new mxEventObject("outline"))})),this.outlineWindow.window.addListener("hide",function(){$ui$$.fireEvent(new mxEventObject("outline"))}),this.outlineWindow.window.setVisible(!0),$ui$$.fireEvent(new mxEventObject("outline"))):this.outlineWindow.window.setVisible(!this.outlineWindow.window.isVisible())}),null,null,Editor.ctrlKey+"+Shift+O");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(mxUtils.bind(this,function(){return null!=this.outlineWindow&&
this.outlineWindow.window.isVisible()}));this.addAction("editConnectionPoints...",function(){var $cell$$=$graph$jscomp$0$$.getSelectionCell();if($graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())&&null!=$cell$$){var $dlg$$=new ConnectionPointsDialog($ui$$,$cell$$);$ui$$.showDialog($dlg$$.container,350,450,!0,!1,function(){$dlg$$.destroy()});$dlg$$.init()}},null,null,"Alt+Shift+Q").isEnabled=$isGraphEnabled$$};
Actions.prototype.addAction=function($key$$,$funct$$,$enabled$$,$iconCls$$,$shortcut$$){if("..."==$key$$.substring($key$$.length-3)){$key$$=$key$$.substring(0,$key$$.length-3);var $title$$=mxResources.get($key$$)+"..."}else $title$$=mxResources.get($key$$);return this.put($key$$,new Action($title$$,$funct$$,$enabled$$,$iconCls$$,$shortcut$$))};Actions.prototype.put=function($name$$,$action$$){return this.actions[$name$$]=$action$$};Actions.prototype.get=function($name$$){return this.actions[$name$$]};
function Action($label$$,$funct$$,$enabled$$,$iconCls$$,$shortcut$$){mxEventSource.call(this);this.label=$label$$;this.funct=this.createFunction($funct$$);this.enabled=null!=$enabled$$?$enabled$$:!0;this.iconCls=$iconCls$$;this.shortcut=$shortcut$$;this.visible=!0}mxUtils.extend(Action,mxEventSource);Action.prototype.createFunction=function($funct$$){return $funct$$};Action.prototype.setEnabled=function($value$$){this.enabled!=$value$$&&(this.enabled=$value$$,this.fireEvent(new mxEventObject("stateChanged")))};
Action.prototype.isEnabled=function(){return this.enabled};Action.prototype.setToggleAction=function($value$$){this.toggleAction=$value$$};Action.prototype.setSelectedCallback=function($funct$$){this.selectedCallback=$funct$$};Action.prototype.isSelected=function(){return this.selectedCallback()};DrawioFile=function($ui$$,$data$$){mxEventSource.call(this);this.ui=$ui$$;this.setData($data$$||"");this.initialData=this.getData();this.created=(new Date).getTime();this.stats={opened:0,merged:0,fileMerged:0,fileReloaded:0,conflicts:0,timeouts:0,saved:0,closed:0,destroyed:0,joined:0,checksumErrors:0,bytesSent:0,bytesReceived:0,msgSent:0,msgReceived:0,cacheHits:0,cacheMiss:0,cacheFail:0}};DrawioFile.SYNC=urlParams.sync||"auto";DrawioFile.LAST_WRITE_WINS=!0;DrawioFile.RESTRICT_EXPORT=!1;
mxUtils.extend(DrawioFile,mxEventSource);DrawioFile.prototype.allChangesSavedKey="allChangesSaved";DrawioFile.prototype.savingSpinnerKey="saving";DrawioFile.prototype.savingStatusKey="saving";DrawioFile.prototype.autosaveDelay=1500;DrawioFile.prototype.maxAutosaveDelay=3E4;DrawioFile.prototype.optimisticSyncDelay=300;DrawioFile.prototype.autosaveThread=null;DrawioFile.prototype.lastAutosave=null;DrawioFile.prototype.lastSaved=null;DrawioFile.prototype.lastChanged=null;
DrawioFile.prototype.opened=null;DrawioFile.prototype.modified=!1;DrawioFile.prototype.shadowModified=!1;DrawioFile.prototype.data=null;DrawioFile.prototype.shadowPages=null;DrawioFile.prototype.changeListenerEnabled=!0;DrawioFile.prototype.lastAutosaveRevision=null;DrawioFile.prototype.maxAutosaveRevisionDelay=3E5;DrawioFile.prototype.inConflictState=!1;DrawioFile.prototype.invalidChecksum=!1;DrawioFile.prototype.errorReportsEnabled=!1;DrawioFile.prototype.ageStart=null;
DrawioFile.prototype.getSize=function(){return null!=this.data?this.data.length:0};DrawioFile.prototype.getShadowPages=function(){null==this.shadowPages&&(this.shadowPages=this.ui.getPagesForXml(this.initialData));return this.shadowPages};DrawioFile.prototype.setShadowPages=function($pages$$){this.shadowPages=$pages$$};
DrawioFile.prototype.synchronizeFile=function($success$$,$error$$){if(this.savingFile)null!=$error$$&&$error$$({message:mxResources.get("busy")});else{var $acceptResponse$$=!0,$timeoutThread$$=window.setTimeout(mxUtils.bind(this,function(){$acceptResponse$$=!1;null!=$error$$&&$error$$({code:App.ERROR_TIMEOUT,message:mxResources.get("timeout"),retry:mxUtils.bind(this,function(){this.synchronizeFile($success$$,$error$$)})})}),this.ui.timeout),$errorWrapper$$=mxUtils.bind(this,function($e$$){$acceptResponse$$&&
(window.clearTimeout($timeoutThread$$),null!=$error$$&&$error$$($e$$))}),$abort$$=mxUtils.bind(this,function(){return!$acceptResponse$$});null!=this.sync?this.sync.fileChanged(mxUtils.bind(this,function($patched$$){$acceptResponse$$&&(window.clearTimeout($timeoutThread$$),this.sync.cleanup($success$$,$error$$,$patched$$))}),$errorWrapper$$,$abort$$):this.updateFile(mxUtils.bind(this,function(){$acceptResponse$$&&(window.clearTimeout($timeoutThread$$),null!=$success$$&&$success$$())}),$errorWrapper$$,
$abort$$)}};
DrawioFile.prototype.updateFile=function($success$$,$error$$,$abort$$,$shadow$$,$immediate$$){null!=$abort$$&&$abort$$()||(EditorUi.debug("DrawioFile.updateFile",[this],"immediate",$immediate$$,"invalidChecksum",this.invalidChecksum),this.ui.getCurrentFile()!=this||this.invalidChecksum?null!=$error$$&&$error$$():this.getLatestVersion(mxUtils.bind(this,function($latestFile$$){try{null!=$abort$$&&$abort$$()||(EditorUi.debug("DrawioFile.updateFile",[this],"invalidChecksum",this.invalidChecksum,"latestFile",
[$latestFile$$]),this.ui.getCurrentFile()!=this||this.invalidChecksum?null!=$error$$&&$error$$():null!=$latestFile$$?this.mergeFile($latestFile$$,$success$$,$error$$,$shadow$$,$immediate$$):this.reloadFile($success$$,$error$$))}catch($e$$){null!=$error$$&&$error$$($e$$)}}),$error$$))};
DrawioFile.prototype.mergeFile=function($file$$,$success$$,$error$$,$diffShadow_patchedDetails$$,$immediate$$){try{var $pages$$=$file$$.getShadowPages();if(null!=$pages$$&&0<$pages$$.length){var $shadow$$=this.getShadowPages(),$patches$$=[this.ui.diffPages(null!=$diffShadow_patchedDetails$$?$diffShadow_patchedDetails$$:$shadow$$,$pages$$)],$currentDetails_ignored$$=this.ignorePatches($patches$$);this.setShadowPages($pages$$);if($currentDetails_ignored$$)EditorUi.debug("File.mergeFile",[this],"file",
[$file$$],"ignored",$currentDetails_ignored$$),null!=$success$$&&$success$$();else try{this.stats.fileMerged++;null!=this.sync&&this.sync.sendLocalChanges();this.backupPatch=this.isModified()?this.ui.diffPages($shadow$$,this.isRealtime()?this.ownPages:this.ui.pages):null;$diffShadow_patchedDetails$$={};$currentDetails_ignored$$={};var $patched$$=this.ui.patchPages($shadow$$,$patches$$[0]),$checksum$$=this.ui.getHashValueForPages($patched$$,$diffShadow_patchedDetails$$),$current$$=this.ui.getHashValueForPages($pages$$,
$currentDetails_ignored$$);EditorUi.debug("File.mergeFile",[this],"file",[$file$$],"shadow",$shadow$$,"pages",this.ui.pages,"patches",$patches$$,"backup",this.backupPatch,"checksum",$checksum$$,"current",$current$$,"valid",$checksum$$==$current$$,"from",this.getCurrentRevisionId(),"to",$file$$.getCurrentRevisionId(),"modified",this.isModified(),"immediate",$immediate$$);if(null!=$checksum$$&&$checksum$$!=$current$$){var $fileData$$=this.compressReportData(this.getAnonymizedXmlForPages($pages$$)),
$data$$=this.compressReportData(this.getAnonymizedXmlForPages($patched$$)),$from$$=this.ui.hashValue($file$$.getCurrentEtag()),$to$$=this.ui.hashValue(this.getCurrentEtag());this.checksumError($error$$,$patches$$,"Shadow Details: "+JSON.stringify($diffShadow_patchedDetails$$)+"\nChecksum: "+$checksum$$+"\nCurrent: "+$current$$+"\nCurrent Details: "+JSON.stringify($currentDetails_ignored$$)+"\nFrom: "+$from$$+"\nTo: "+$to$$+"\n\nFile Data:\n"+$fileData$$+"\nPatched Shadow:\n"+$data$$,null,"mergeFile",
$checksum$$,$current$$,$file$$.getCurrentRevisionId())}else{if(null!=this.sync){var $pending$$=this.sync.patchRealtime($patches$$,DrawioFile.LAST_WRITE_WINS?this.backupPatch:null,null,$immediate$$);null==$pending$$||mxUtils.isEmptyObject($pending$$)||$patches$$.push($pending$$)}this.patch($patches$$,DrawioFile.LAST_WRITE_WINS?this.backupPatch:null);this.inConflictState=this.invalidChecksum=!1;this.setDescriptor($file$$.getDescriptor());this.descriptorChanged();this.backupPatch=null;null!=$success$$&&
$success$$()}}catch($e$$){this.invalidChecksum=this.inConflictState=!0;this.descriptorChanged();null!=$error$$&&$error$$($e$$);try{if(this.errorReportsEnabled)this.sendErrorReport("Error in mergeFile",null,$e$$);else{var $user$$=this.getCurrentUser(),$uid$$=null!=$user$$?$user$$.id:"unknown";EditorUi.logError("Error in mergeFile",null,this.getMode()+"."+this.getId(),$uid$$,$e$$)}}catch($e2$$){}}}else throw Error(mxResources.get("notADiagramFile"));}catch($e$8$$){null!=$error$$&&$error$$($e$8$$)}};
DrawioFile.prototype.getAnonymizedXmlForPages=function($pages$$){var $enc$$=new mxCodec(mxUtils.createXmlDocument()),$file$$=$enc$$.document.createElement("mxfile");if(null!=$pages$$)for(var $i$$=0;$i$$<$pages$$.length;$i$$++){var $temp$$=$enc$$.encode(new mxGraphModel($pages$$[$i$$].root));"1"!=urlParams.dev&&($temp$$=this.ui.anonymizeNode($temp$$,!0));$temp$$.setAttribute("id",$pages$$[$i$$].getId());$pages$$[$i$$].viewState&&this.ui.editor.graph.saveViewState($pages$$[$i$$].viewState,$temp$$,!0);
$file$$.appendChild($temp$$)}return mxUtils.getPrettyXml($file$$)};DrawioFile.prototype.compressReportData=function($data$$,$limit$$,$max$$){$limit$$=null!=$limit$$?$limit$$:1E4;null!=$max$$&&null!=$data$$&&$data$$.length>$max$$?$data$$=$data$$.substring(0,$max$$)+"[...]":null!=$data$$&&$data$$.length>$limit$$&&($data$$=Graph.compress($data$$)+"\n");return $data$$};
DrawioFile.prototype.checksumError=function($error$$,$patches$$,$details$$,$etag$$,$functionName$$,$checksum$$,$current$$,$rev$$){this.stats.checksumErrors++;this.invalidChecksum=this.inConflictState=!0;this.descriptorChanged();null!=this.sync&&this.sync.updateOnlineState();null!=$error$$&&$error$$();try{if(this.errorReportsEnabled){if(null!=$patches$$)for(var $i$$=0;$i$$<$patches$$.length;$i$$++)this.ui.anonymizePatch($patches$$[$i$$]);var $fn$$=mxUtils.bind(this,function($file$$){var $json$$=this.compressReportData(JSON.stringify($patches$$,
null,2));$file$$=null==$file$$?"n/a":this.compressReportData(this.getAnonymizedXmlForPages(this.ui.getPagesForXml($file$$.data)),25E3);this.sendErrorReport("Checksum Error in "+$functionName$$+" "+this.getHash(),(null!=$details$$?$details$$:"")+"\n\nPatches:\n"+$json$$+(null!=$file$$?"\n\nRemote:\n"+$file$$:""),null,7E4)});null==$etag$$?$fn$$(null):this.getLatestVersion(mxUtils.bind(this,function($file$$){null!=$file$$&&$file$$.getCurrentEtag()==$etag$$?$fn$$($file$$):$fn$$(null)}),function(){})}else{var $user$$=
this.getCurrentUser(),$uid$$=null!=$user$$?$user$$.id:"unknown",$id$$=""!=this.getId()?this.getId():"("+this.ui.hashValue(this.getTitle())+")",$bytes$$=JSON.stringify($patches$$).length,$data$$=null;if(null!=$patches$$&&this.constructor==DriveFile&&400>$bytes$$){for($i$$=0;$i$$<$patches$$.length;$i$$++)this.ui.anonymizePatch($patches$$[$i$$]);$data$$=JSON.stringify($patches$$);$data$$=null!=$data$$&&250>$data$$.length?Graph.compress($data$$):null}this.getLatestVersion(mxUtils.bind(this,function($latestFile$$){try{var $type$$=
null!=$data$$?"Report":"Error",$latest$$=this.ui.getHashValueForPages($latestFile$$.getShadowPages());EditorUi.logError("Checksum "+$type$$+" in "+$functionName$$+" "+$id$$,null,this.getMode()+"."+this.getId(),"user_"+$uid$$+(null!=this.sync?"-client_"+this.sync.clientId:"-nosync")+"-bytes_"+$bytes$$+"-patches_"+$patches$$.length+(null!=$data$$?"-json_"+$data$$:"")+"-size_"+this.getSize()+(null!=$checksum$$?"-expected_"+$checksum$$:"")+(null!=$current$$?"-current_"+$current$$:"")+(null!=$rev$$?"-rev_"+
this.ui.hashValue($rev$$):"")+(null!=$latest$$?"-latest_"+$latest$$:"")+(null!=$latestFile$$?"-latestRev_"+this.ui.hashValue($latestFile$$.getCurrentRevisionId()):""));EditorUi.logEvent({category:"CHECKSUM-ERROR-SYNC-FILE-"+$id$$,action:$functionName$$,label:"user_"+$uid$$+(null!=this.sync?"-client_"+this.sync.clientId:"-nosync")+"-bytes_"+$bytes$$+"-patches_"+$patches$$.length+"-size_"+this.getSize()})}catch($e$$){}}),$error$$)}}catch($e$$){}};
DrawioFile.prototype.sendErrorReport=function($title$$,$details$$,$error$$,$max$$){try{var $shadow$$=this.compressReportData(this.getAnonymizedXmlForPages(this.getShadowPages()),25E3),$data$$=this.compressReportData(this.getAnonymizedXmlForPages(this.ui.pages),25E3),$ext$jscomp$4_user$$=this.getCurrentUser(),$uid$$=null!=$ext$jscomp$4_user$$?this.ui.hashValue($ext$jscomp$4_user$$.id):"unknown",$cid$$=null!=this.sync?"-client_"+this.sync.clientId:"-nosync",$filename$$=this.getTitle(),$dot$$=$filename$$.lastIndexOf(".");
$ext$jscomp$4_user$$="xml";0<$dot$$&&($ext$jscomp$4_user$$=$filename$$.substring($dot$$));var $stack$$=null!=$error$$?$error$$.stack:Error().stack;EditorUi.sendReport($title$$+" "+(new Date).toISOString()+":\n\nAppVersion="+navigator.appVersion+"\nFile="+this.ui.hashValue(this.getId())+" ("+this.getMode()+")"+(this.isModified()?" modified":"")+"\nSize/Type="+this.getSize()+" ("+$ext$jscomp$4_user$$+")\nUser="+$uid$$+$cid$$+"\nPrefix="+this.ui.editor.graph.model.prefix+"\nSync="+DrawioFile.SYNC+(null!=
this.sync?(this.sync.enabled?" enabled":"")+(this.sync.isConnected()?" connected":""):"")+"\nPlugins="+(null!=mxSettings.settings?mxSettings.getPlugins():"null")+"\n\nStats:\n"+JSON.stringify(this.stats,null,2)+(null!=$details$$?"\n\n"+$details$$:"")+(null!=$error$$?"\n\nError: "+$error$$.message:"")+"\n\nStack:\n"+$stack$$+"\n\nShadow:\n"+$shadow$$+"\n\nData:\n"+$data$$,$max$$)}catch($e$$){}};
DrawioFile.prototype.reloadFile=function($success$$,$error$$){try{this.ui.spinner.stop();var $fn$$=mxUtils.bind(this,function(){EditorUi.debug("DrawioFile.reloadFile",[this],"hash",this.getHash(),"modified",this.isModified(),"backupPatch",this.backupPatch);this.stats.fileReloaded++;if(""==this.getHash())this.mergeLatestVersion(null!=this.backupPatch?[this.backupPatch]:null,mxUtils.bind(this,function(){this.backupPatch=null;null!=$success$$&&$success$$()}),$error$$);else{var $graph$$=this.ui.editor.graph,
$selection$$=$graph$$.getSelectionCells(),$viewState$$=$graph$$.getViewState(),$page$$=this.ui.currentPage;this.ui.loadFile(this.getHash(),!0,null,mxUtils.bind(this,function(){if(null==this.ui.fileLoadedError){this.ui.restoreViewState($page$$,$viewState$$,$selection$$);null!=this.backupPatch&&this.patch([this.backupPatch]);var $file$$=this.ui.getCurrentFile();null!=$file$$&&($file$$.stats=this.stats);null!=$success$$&&$success$$()}}),!0)}});this.isModified()&&null==this.backupPatch?this.ui.confirm(mxResources.get("allChangesLost"),
mxUtils.bind(this,function(){this.handleFileSuccess("manual"==DrawioFile.SYNC)}),$fn$$,mxResources.get("cancel"),mxResources.get("discardChanges")):$fn$$()}catch($e$$){null!=$error$$&&$error$$($e$$)}};
DrawioFile.prototype.mergeLatestVersion=function($patches$$,$success$$,$error$$){this.getLatestVersion(mxUtils.bind(this,function($latestFile$$){this.ui.editor.graph.model.beginUpdate();try{this.ui.replaceFileData($latestFile$$.getData()),null!=$patches$$&&this.patch($patches$$)}finally{this.ui.editor.graph.model.endUpdate()}this.inConflictState=this.invalidChecksum=!1;this.setDescriptor($latestFile$$.getDescriptor());this.descriptorChanged();null!=$success$$&&$success$$()}),$error$$)};
DrawioFile.prototype.copyFile=function($success$$,$error$$){this.ui.editor.editAsNew(this.ui.getFileData(!0),this.ui.getCopyFilename(this))};DrawioFile.prototype.ignorePatches=function($patches$$){var $ignore$$=!0;if(null!=$patches$$)for(var $i$$=0;$i$$<$patches$$.length&&$ignore$$;$i$$++)$ignore$$=$ignore$$&&mxUtils.isEmptyObject($patches$$[$i$$]);return $ignore$$};
DrawioFile.prototype.patch=function($patches$$,$resolver$$,$undoable$$,$sendChanges$$){if(null!=$patches$$){var $undoMgr$$=this.ui.editor.undoManager,$history$$=$undoMgr$$.history.slice(),$nextAdd$$=$undoMgr$$.indexOfNextAdd,$graph$$=this.ui.editor.graph;$graph$$.container.style.visibility="hidden";var $prev$$=this.changeListenerEnabled;this.changeListenerEnabled=$undoable$$;var $fold$$=$graph$$.foldingEnabled,$math$$=$graph$$.mathEnabled,$redraw$$=$graph$$.cellRenderer.redraw;$graph$$.cellRenderer.redraw=
function($state$$){$state$$.view.graph.isEditing($state$$.cell)&&($state$$.view.graph.scrollCellToVisible($state$$.cell),$state$$.view.graph.cellEditor.resize());$redraw$$.apply(this,arguments)};$graph$$.model.beginUpdate();try{if($undoable$$){for(var $oldPages$$=this.ui.pages.slice(),$currentPage$$=this.ui.currentPage,$pages$$=this.ui.applyPatches(this.ui.pages,$patches$$,!0,$resolver$$,this.isModified()),$i$$=0;$i$$<$pages$$.length;$i$$++){var $index$$=mxUtils.indexOf(this.ui.pages,$pages$$[$i$$]);
0>$index$$?this.ui.insertPage($pages$$[$i$$],Math.min($i$$,this.ui.pages.length)):this.ui.movePage($index$$,$i$$)}for($i$$=0;$i$$<$oldPages$$.length;$i$$++)0>mxUtils.indexOf($pages$$,$oldPages$$[$i$$])&&this.ui.removePage($oldPages$$[$i$$]);0<=mxUtils.indexOf(this.ui.pages,$currentPage$$)&&this.ui.selectPage($currentPage$$,!0)}else this.ui.pages=this.ui.applyPatches(this.ui.pages,$patches$$,!0,$resolver$$,this.isModified());0==this.ui.pages.length&&this.ui.pages.push(this.ui.createPage());0>mxUtils.indexOf(this.ui.pages,
this.ui.currentPage)&&this.ui.selectPage(this.ui.pages[0],!0)}finally{$graph$$.container.style.visibility="";$graph$$.model.endUpdate();$graph$$.cellRenderer.redraw=$redraw$$;this.changeListenerEnabled=$prev$$;$undoable$$||($undoMgr$$.history=$history$$,$undoMgr$$.indexOfNextAdd=$nextAdd$$,$undoMgr$$.fireEvent(new mxEventObject(mxEvent.CLEAR)));if(null==this.ui.currentPage||this.ui.currentPage.needsUpdate)$math$$!=$graph$$.mathEnabled?(this.ui.editor.updateGraphComponents(),$graph$$.refresh()):($fold$$!=
$graph$$.foldingEnabled?$graph$$.view.revalidate():$graph$$.view.validate(),$graph$$.sizeDidChange());null!=this.sync&&this.isRealtime()&&!$sendChanges$$&&(this.sync.snapshot=this.ui.clonePages(this.ui.pages));this.ui.editor.fireEvent(new mxEventObject("pagesPatched","patches",$patches$$))}EditorUi.debug("DrawioFile.patch",[this],"patches",$patches$$,"resolver",$resolver$$,"undoable",$undoable$$)}return $patches$$};
DrawioFile.prototype.save=function($revision$$,$success$$,$error$$,$unloading$$,$overwrite$$,$manual$$){try{if(EditorUi.debug("DrawioFile.save",[this],"revision",$revision$$,"unloading",$unloading$$,"overwrite",$overwrite$$,"manual",$manual$$,"saving",this.savingFile,"editable",this.isEditable(),"invalidChecksum",this.invalidChecksum),this.isEditable())if(!$overwrite$$&&this.invalidChecksum)if(null!=$error$$)$error$$({message:mxResources.get("checksum")});else throw Error(mxResources.get("checksum"));
else this.updateFileData(),this.clearAutosave(),null!=$success$$&&$success$$();else if(null!=$error$$)$error$$({message:mxResources.get("readOnly")});else throw Error(mxResources.get("readOnly"));}catch($e$$){if(null!=$error$$)$error$$($e$$);else throw $e$$;}};
DrawioFile.prototype.createData=function(){var $actualPages$$=this.ui.pages;if(this.isRealtime()&&(this.ui.pages=this.ownPages,null!=this.ui.currentPage)){var $ownPage_result$$=this.ui.getPageById(this.ui.currentPage.getId(),this.ownPages);null!=$ownPage_result$$&&($ownPage_result$$.viewState=this.ui.editor.graph.getViewState(),$ownPage_result$$.needsUpdate=!0)}$ownPage_result$$=this.ui.getFileData(null,null,null,null,null,null,null,null,this,!this.isCompressed());this.ui.pages=$actualPages$$;return $ownPage_result$$};
DrawioFile.prototype.updateFileData=function(){null!=this.sync&&this.sync.sendLocalChanges();this.setData(this.createData());null!=this.sync&&this.sync.fileDataUpdated()};DrawioFile.prototype.isCompressedStorage=function(){return Editor.defaultCompressed};DrawioFile.prototype.isCompressed=function(){var $compressed$$=null!=this.ui.fileNode?this.ui.fileNode.getAttribute("compressed"):null;return null!=$compressed$$?"false"!=$compressed$$:this.isCompressedStorage()&&Editor.compressXml};
DrawioFile.prototype.saveAs=function($filename$$,$success$$,$error$$){};DrawioFile.prototype.saveFile=function($title$$,$revision$$,$success$$,$error$$){};DrawioFile.prototype.getFileUrl=function(){return null};DrawioFile.prototype.getFolderUrl=function($fn$$){return null};DrawioFile.prototype.getPublicUrl=function($fn$$){$fn$$(null)};DrawioFile.prototype.isRestricted=function(){return DrawioFile.RESTRICT_EXPORT};DrawioFile.prototype.isModified=function(){return this.modified};
DrawioFile.prototype.getShadowModified=function(){return this.shadowModified};DrawioFile.prototype.setShadowModified=function($value$$){this.shadowModified=$value$$};DrawioFile.prototype.setModified=function($value$$){this.shadowModified=this.modified=$value$$};DrawioFile.prototype.isAutosaveOptional=function(){return!1};DrawioFile.prototype.isAutosave=function(){return!this.inConflictState&&this.ui.editor.autosave};DrawioFile.prototype.isRenamable=function(){return!1};
DrawioFile.prototype.rename=function($title$$,$success$$,$error$$){};DrawioFile.prototype.isMovable=function(){return!1};DrawioFile.prototype.isTrashed=function(){return!1};DrawioFile.prototype.move=function($folderId$$,$success$$,$error$$){};
DrawioFile.prototype.share=function(){null!=this.ui.drive?this.ui.confirm(mxResources.get("saveItToGoogleDriveToCollaborate",[this.getTitle()]),mxUtils.bind(this,function(){this.ui.pickFolder(App.MODE_GOOGLE,mxUtils.bind(this,function($folderId$$){var $graph$$=this.ui.editor.graph,$selection$$=$graph$$.getSelectionCells(),$viewState$$=$graph$$.getViewState(),$page$$=this.ui.currentPage;this.ui.createFile(this.getTitle(),this.ui.getFileData(null,null,null,null,null,null,null,null,this),null,App.MODE_GOOGLE,
null,!0,$folderId$$,null,null,mxUtils.bind(this,function(){this.ui.restoreViewState($page$$,$viewState$$,$selection$$);this.ui.actions.get("share").funct()}))}))}),null,mxResources.get("saveToGoogleDrive",null,"Save to Google Drive"),mxResources.get("cancel")):this.ui.alert(mxResources.get("sharingAvailable"),null,380)};DrawioFile.prototype.getHash=function(){return""};DrawioFile.prototype.getId=function(){return""};
DrawioFile.prototype.isEditable=function(){return!this.ui.editor.isChromelessView()||this.ui.editor.editable};DrawioFile.prototype.getUi=function(){return this.ui};DrawioFile.prototype.getTitle=function(){return""};DrawioFile.prototype.setData=function($data$$){this.data=$data$$;EditorUi.debug("DrawioFile.setData",[this],"data",[$data$$])};DrawioFile.prototype.getData=function(){return this.data};
DrawioFile.prototype.removeExtFonts=function($elems$$){for(var $i$$=0;null!=$elems$$&&$i$$<$elems$$.length;$i$$++){var $e$$=$elems$$[$i$$];null!=$e$$.id&&0==$e$$.id.indexOf("extFont_")&&$e$$.parentNode.removeChild($e$$)}};
DrawioFile.prototype.open=function(){this.stats.opened++;var $data$$=this.getData();null!=$data$$&&(this.removeExtFonts(document.querySelectorAll("head > style[id]")),this.removeExtFonts(document.querySelectorAll("head > link[id]")),this.ui.setFileData($data$$),this.isModified()||this.setShadowPages(this.ui.clonePages(this.ui.pages)));this.installListeners();this.isSyncSupported()&&this.startSync()};DrawioFile.prototype.isSyncSupported=function(){return!1};
DrawioFile.prototype.isRealtime=function(){return null!=this.ownPages&&null!=this.ui.pages};DrawioFile.prototype.isRealtimeSupported=function(){return!1};DrawioFile.prototype.isRealtimeEnabled=function(){return Editor.enableRealtime&&"0"!=urlParams["fast-sync"]};DrawioFile.prototype.setRealtimeEnabled=function(){};DrawioFile.prototype.isRealtimeOptional=function(){return!1};
DrawioFile.prototype.getRealtimeState=function(){return null!=this.sync&&null!=this.sync.p2pCollab?this.sync.p2pCollab.getState():3};DrawioFile.prototype.getRealtimeError=function(){return null!=this.sync&&null!=this.sync.p2pCollab?this.sync.p2pCollab.getLastError():null};DrawioFile.prototype.isOptimisticSync=function(){return!1};DrawioFile.prototype.isRevisionHistorySupported=function(){return!1};DrawioFile.prototype.getRevisions=function($success$$,$error$$){$success$$(null)};
DrawioFile.prototype.loadDescriptor=function($success$$,$error$$){$success$$(null)};DrawioFile.prototype.loadPatchDescriptor=function($success$$,$error$$){this.loadDescriptor(mxUtils.bind(this,function($desc$$){$success$$($desc$$)}),$error$$)};DrawioFile.prototype.patchDescriptor=function($desc$$,$patch$$){this.setDescriptorEtag($desc$$,this.getDescriptorEtag($patch$$));this.descriptorChanged()};
DrawioFile.prototype.startSync=function(){"auto"!=DrawioFile.SYNC&&"fast"!=DrawioFile.SYNC||"1"==urlParams.stealth||"1"!=urlParams.rt&&this.ui.editor.chromeless&&!this.ui.editor.editable||(null==this.sync&&(this.sync=new DrawioFileSync(this)),this.addListener("realtimeStateChanged",mxUtils.bind(this,function(){this.ui.fireEvent(new mxEventObject("realtimeStateChanged"))})),this.sync.start())};DrawioFile.prototype.isConflict=function(){return!1};
DrawioFile.prototype.getChannelId=function(){return Graph.compress(this.getHash()).replace(/[\/ +]/g,"_")};DrawioFile.prototype.getChannelKey=function($desc$$){return null};DrawioFile.prototype.getCurrentUser=function(){return null};DrawioFile.prototype.getLatestVersion=function($success$$,$error$$){$success$$(null)};DrawioFile.prototype.getLatestVersionId=function($success$$,$error$$){$success$$(-1)};DrawioFile.prototype.getLastModifiedDate=function(){return new Date};
DrawioFile.prototype.setCurrentRevisionId=function($id$$){this.setDescriptorRevisionId(this.getDescriptor(),$id$$)};DrawioFile.prototype.getCurrentRevisionId=function(){return this.getDescriptorRevisionId(this.getDescriptor())};DrawioFile.prototype.getPullingInterval=function(){return 1E4};DrawioFile.prototype.setCurrentEtag=function($etag$$){this.setDescriptorEtag(this.getDescriptor(),$etag$$)};DrawioFile.prototype.getCurrentEtag=function(){return this.getDescriptorEtag(this.getDescriptor())};
DrawioFile.prototype.getDescriptor=function(){return null};DrawioFile.prototype.setDescriptor=function(){};DrawioFile.prototype.setDescriptorRevisionId=function($desc$$,$id$$){this.setDescriptorEtag($desc$$,$id$$)};DrawioFile.prototype.getDescriptorRevisionId=function($desc$$){return this.getDescriptorEtag($desc$$)};DrawioFile.prototype.setDescriptorEtag=function($desc$$,$etag$$){};DrawioFile.prototype.getDescriptorEtag=function($desc$$){return null};DrawioFile.prototype.getDescriptorSecret=function($desc$$){return null};
DrawioFile.prototype.getDescriptorChecksum=function($desc$$){return null};
DrawioFile.prototype.installListeners=function(){null==this.changeListener&&(this.changeListener=mxUtils.bind(this,function($edit$jscomp$1_sender$$,$eventObject$$){$edit$jscomp$1_sender$$=null!=$eventObject$$?$eventObject$$.getProperty("edit"):null;!this.changeListenerEnabled||!this.isEditable()||null!=$edit$jscomp$1_sender$$&&$edit$jscomp$1_sender$$.ignoreEdit||this.fileChanged()}),this.ui.editor.graph.model.addListener(mxEvent.CHANGE,this.changeListener),this.ui.editor.graph.addListener("gridSizeChanged",
this.changeListener),this.ui.editor.graph.addListener("shadowVisibleChanged",this.changeListener),this.ui.addListener("pageFormatChanged",this.changeListener),this.ui.addListener("pageScaleChanged",this.changeListener),this.ui.addListener("backgroundColorChanged",this.changeListener),this.ui.addListener("backgroundImageChanged",this.changeListener),this.ui.addListener("foldingEnabledChanged",this.changeListener),this.ui.addListener("mathEnabledChanged",this.changeListener),this.ui.addListener("gridEnabledChanged",
this.changeListener),this.ui.addListener("guidesEnabledChanged",this.changeListener),this.ui.addListener("tooltipsEnabledChanged",this.changeListener),this.ui.addListener("pageViewChanged",this.changeListener),this.ui.addListener("connectionPointsChanged",this.changeListener),this.ui.addListener("connectionArrowsChanged",this.changeListener))};
DrawioFile.prototype.addAllSavedStatus=function($status$$){if(null!=this.ui.statusContainer&&this.ui.getCurrentFile()==this){$status$$=null!=$status$$?$status$$:mxUtils.htmlEntities(mxResources.get(this.allChangesSavedKey));var $rev$$=this.isRevisionHistorySupported()&&$status$$!=mxUtils.htmlEntities(mxResources.get(this.savingStatusKey))+"..."?'data-action="revisionHistory" ':"";this.ui.editor.setStatus("<div "+$rev$$+'title="'+$status$$+'">'+$status$$+"</div>")}};
DrawioFile.prototype.saveDraft=function(){try{null==this.draftId&&(this.draftId=null!=this.usedDraftId?this.usedDraftId:Editor.guid());var $draft$$={type:"draft",created:this.created,modified:(new Date).getTime(),data:this.ui.getFileData(),title:this.getTitle(),fileObject:this.fileObject,aliveCheck:this.ui.draftAliveCheck};this.ui.setDatabaseItem(".draft_"+this.draftId,JSON.stringify($draft$$));EditorUi.debug("DrawioFile.saveDraft",[this],"draftId",this.draftId,[$draft$$])}catch($e$$){this.removeDraft()}};
DrawioFile.prototype.removeDraft=function(){try{null!=this.draftId&&(EditorUi.debug("DrawioFile.removeDraft",[this],"draftId",this.draftId),this.ui.removeDatabaseItem(".draft_"+this.draftId),this.usedDraftId=this.draftId,this.draftId=null)}catch($e$$){}};
DrawioFile.prototype.addUnsavedStatus=function($action$jscomp$5_err$jscomp$4_str$$){if(!this.inConflictState&&null!=this.ui.statusContainer&&this.ui.getCurrentFile()==this)if($action$jscomp$5_err$jscomp$4_str$$ instanceof Error&&null!=$action$jscomp$5_err$jscomp$4_str$$.message&&""!=$action$jscomp$5_err$jscomp$4_str$$.message){var $msg$jscomp$5_status$$=mxUtils.htmlEntities(mxResources.get("unsavedChanges"));this.ui.editor.setStatus('<div title="'+$msg$jscomp$5_status$$+'" data-title="'+mxUtils.htmlEntities(mxResources.get("unsavedChanges"))+
'" data-message="'+mxUtils.htmlEntities($action$jscomp$5_err$jscomp$4_str$$.message)+'" class="geStatusAlert">'+$msg$jscomp$5_status$$+" ("+mxUtils.htmlEntities($action$jscomp$5_err$jscomp$4_str$$.message)+")</div>")}else $msg$jscomp$5_status$$=this.getErrorMessage($action$jscomp$5_err$jscomp$4_str$$),null==$msg$jscomp$5_status$$&&null!=this.lastSaved&&($action$jscomp$5_err$jscomp$4_str$$=this.ui.timeSince(new Date(this.lastSaved)),null!=$action$jscomp$5_err$jscomp$4_str$$&&($msg$jscomp$5_status$$=
mxResources.get("lastSaved",[$action$jscomp$5_err$jscomp$4_str$$]))),null!=$msg$jscomp$5_status$$&&60<$msg$jscomp$5_status$$.length&&($msg$jscomp$5_status$$=$msg$jscomp$5_status$$.substring(0,60)+"..."),$msg$jscomp$5_status$$=mxUtils.htmlEntities(mxResources.get("unsavedChangesClickHereToSave"))+(null!=$msg$jscomp$5_status$$&&""!=$msg$jscomp$5_status$$?" ("+mxUtils.htmlEntities($msg$jscomp$5_status$$)+")":""),$action$jscomp$5_err$jscomp$4_str$$='data-action="'+(null!=this.ui.mode&&this.isEditable()?
"save":"saveAs")+'"',this.ui.editor.setStatus("<div "+$action$jscomp$5_err$jscomp$4_str$$+' title="'+$msg$jscomp$5_status$$+'" class="geStatusAlert">'+$msg$jscomp$5_status$$+' <img class="geAdaptiveAsset" src="'+Editor.saveImage+'"/></div>'),EditorUi.enableDrafts&&(null==this.getMode()||EditorUi.isElectronApp)&&(this.lastDraftSave=this.lastDraftSave||Date.now(),null!=this.saveDraftThread&&(window.clearTimeout(this.saveDraftThread),this.saveDraftThread=null,Date.now()-this.lastDraftSave>Math.max(2*
EditorUi.draftSaveDelay,3E4)&&(this.lastDraftSave=Date.now(),this.saveDraft())),this.saveDraftThread=window.setTimeout(mxUtils.bind(this,function(){this.lastDraftSave=Date.now();this.saveDraftThread=null;this.saveDraft()}),EditorUi.draftSaveDelay||0))};
DrawioFile.prototype.addConflictStatus=function($message$$,$fn$$){this.invalidChecksum&&null==$message$$&&($message$$=mxResources.get("checksum"));this.setConflictStatus(mxUtils.htmlEntities(mxResources.get("fileChangedSync"))+(null!=$message$$&&""!=$message$$?" ("+mxUtils.htmlEntities($message$$)+")":""),$fn$$);this.ui.spinner.stop();this.clearAutosave()};
DrawioFile.prototype.setConflictStatus=function($message$$,$fn$$){this.ui.editor.setStatus('<div title="'+$message$$+'" '+(null!=$fn$$?'data-action="statusFunction"':"")+' class="geStatusAlert">'+$message$$+'<img data-link="https://www.drawio.com/doc/faq/synchronize" src="'+Editor.helpImage+'" style="cursor:help;"/></div>',$fn$$)};
DrawioFile.prototype.showRefreshDialog=function($success$$,$error$$,$message$$){null==$message$$&&($message$$=mxResources.get("checksum"));this.ui.editor.isChromelessView()&&!this.ui.editor.editable?this.ui.alert(mxResources.get("fileChangedSync"),mxUtils.bind(this,function(){this.reloadFile($success$$,$error$$)})):(this.addConflictStatus($message$$,mxUtils.bind(this,function(){this.showRefreshDialog($success$$,$error$$)})),this.ui.showError(mxResources.get("warning")+" ("+$message$$+")",mxResources.get("fileChangedSyncDialog"),
mxResources.get("makeCopy"),mxUtils.bind(this,function(){this.copyFile($success$$,$error$$)}),null,mxResources.get("merge"),mxUtils.bind(this,function(){this.reloadFile($success$$,$error$$)}),mxResources.get("cancel"),mxUtils.bind(this,function(){this.ui.hideDialog()}),380,130))};
DrawioFile.prototype.showCopyDialog=function($success$$,$error$$,$overwrite$$){this.invalidChecksum=this.inConflictState=!1;this.addUnsavedStatus();this.ui.showError(mxResources.get("externalChanges"),mxResources.get("fileChangedOverwriteDialog"),mxResources.get("makeCopy"),mxUtils.bind(this,function(){this.copyFile($success$$,$error$$)}),null,mxResources.get("overwrite"),$overwrite$$,mxResources.get("cancel"),mxUtils.bind(this,function(){this.ui.hideDialog()}),380,150)};
DrawioFile.prototype.showConflictDialog=function($overwrite$$,$synchronize$$){this.ui.showError(mxResources.get("externalChanges"),mxResources.get("fileChangedSyncDialog"),mxResources.get("overwrite"),$overwrite$$,null,mxResources.get("merge"),$synchronize$$,mxResources.get("cancel"),mxUtils.bind(this,function(){this.ui.hideDialog();this.handleFileError(null,!1)}),380,130)};
DrawioFile.prototype.redirectToNewApp=function($error$$,$details$$){this.ui.spinner.stop();if(!this.redirectDialogShowing){this.redirectDialogShowing=!0;var $url$$=window.location.protocol+"//"+window.location.host+"/"+this.ui.getSearch("create title mode url drive splash state".split(" "))+"#"+this.getHash(),$msg$$=mxResources.get("redirectToNewApp");null!=$details$$&&($msg$$+=" ("+$details$$+")");$details$$=mxUtils.bind(this,function(){var $fn$$=mxUtils.bind(this,function(){this.redirectDialogShowing=
!1;window.location.href==$url$$?window.location.reload():window.location.href=$url$$});null==$error$$&&this.isModified()?this.ui.confirm(mxResources.get("allChangesLost"),mxUtils.bind(this,function(){this.redirectDialogShowing=!1}),$fn$$,mxResources.get("cancel"),mxResources.get("discardChanges")):$fn$$()});null!=$error$$?this.isModified()?this.ui.confirm($msg$$,mxUtils.bind(this,function(){this.redirectDialogShowing=!1;$error$$()}),$details$$,mxResources.get("cancel"),mxResources.get("discardChanges")):
this.ui.confirm($msg$$,$details$$,mxUtils.bind(this,function(){this.redirectDialogShowing=!1;$error$$()})):this.ui.alert(mxResources.get("redirectToNewApp"),$details$$)}};
DrawioFile.prototype.handleFileSuccess=function($saved$$){this.ui.spinner.stop();this.ui.getCurrentFile()==this&&(EditorUi.debug("DrawioFile.handleFileSuccess",[this],"saved",$saved$$,"modified",this.isModified(),"remoteFileChanged",null==this.sync?"n/a":this.sync.remoteFileChanged),this.isModified()?this.fileChanged():$saved$$?(this.isTrashed()?this.addAllSavedStatus(mxUtils.htmlEntities(mxResources.get(this.allChangesSavedKey))+" ("+mxUtils.htmlEntities(mxResources.get("fileMovedToTrash"))+")"):
this.addAllSavedStatus(),null!=this.sync&&(this.sync.resetUpdateStatusThread(),this.sync.remoteFileChanged&&(this.sync.remoteFileChanged=!1,this.sync.fileChangedNotify()))):this.ui.editor.setStatus(""))};
DrawioFile.prototype.handleFileError=function($err$jscomp$5_msg$$,$manual$$){this.ui.spinner.stop();this.ui.getCurrentFile()==this&&(this.inConflictState?this.handleConflictError($err$jscomp$5_msg$$,$manual$$):(this.isModified()&&this.addUnsavedStatus($err$jscomp$5_msg$$),$manual$$?this.ui.handleError($err$jscomp$5_msg$$,null!=$err$jscomp$5_msg$$?mxResources.get("errorSavingFile"):null):this.isModified()||($err$jscomp$5_msg$$=this.getErrorMessage($err$jscomp$5_msg$$),null!=$err$jscomp$5_msg$$&&60<
$err$jscomp$5_msg$$.length&&($err$jscomp$5_msg$$=$err$jscomp$5_msg$$.substring(0,60)+"..."),this.ui.editor.setStatus('<div class="geStatusAlert">'+mxUtils.htmlEntities(mxResources.get("error"))+(null!=$err$jscomp$5_msg$$?" ("+mxUtils.htmlEntities($err$jscomp$5_msg$$)+")":"")+"</div>"))))};
DrawioFile.prototype.handleConflictError=function($err$$,$manual$$){var $success$$=mxUtils.bind(this,function(){this.handleFileSuccess(!0)}),$error$$=mxUtils.bind(this,function($err2$$){this.handleFileError($err2$$,!0)}),$overwrite$$=mxUtils.bind(this,function(){this.ui.spinner.spin(document.body,mxResources.get(this.savingSpinnerKey))&&(this.ui.editor.setStatus(""),this.save(!0,$success$$,$error$$,null,!0,this.constructor!=GitHubFile&&this.constructor!=GitLabFile||null==$err$$?null:$err$$.commitMessage))}),
$synchronize$$=mxUtils.bind(this,function(){this.ui.spinner.spin(document.body,mxResources.get("updatingDocument"))&&this.synchronizeFile(mxUtils.bind(this,function(){this.ui.spinner.stop();this.ui.spinner.spin(document.body,mxResources.get(this.savingSpinnerKey))&&this.save(!0,$success$$,$error$$,null,null,this.constructor!=GitHubFile&&this.constructor!=GitLabFile||null==$err$$?null:$err$$.commitMessage)}),$error$$)});"none"==DrawioFile.SYNC?this.showCopyDialog($success$$,$error$$,$overwrite$$):
this.invalidChecksum?this.showRefreshDialog($success$$,$error$$,this.getErrorMessage($err$$)):$manual$$?this.showConflictDialog($overwrite$$,$synchronize$$):this.addConflictStatus(this.getErrorMessage($err$$),mxUtils.bind(this,function(){this.ui.editor.setStatus(mxUtils.htmlEntities(mxResources.get("updatingDocument")));this.synchronizeFile($success$$,$error$$)}))};
DrawioFile.prototype.getErrorMessage=function($err$$){var $msg$$=null!=$err$$?null!=$err$$.error?$err$$.error.message:$err$$.message:null;null==$msg$$&&null!=$err$$&&$err$$.code==App.ERROR_TIMEOUT?$msg$$=mxResources.get("timeout"):"0"==$msg$$&&($msg$$=mxResources.get("noResponse"));return $msg$$};DrawioFile.prototype.isOverdue=function(){return null!=this.ageStart&&Date.now()-this.ageStart.getTime()>=this.ui.warnInterval};
DrawioFile.prototype.fileChanged=function($sync$$){$sync$$=null!=$sync$$?$sync$$:!0;this.lastChanged=new Date;this.setModified(!0);EditorUi.debug("DrawioFile.fileChanged",[this],"autosave",this.isAutosave(),"saving",this.savingFile);this.isAutosave()?(null!=this.savingStatusKey&&this.addAllSavedStatus(mxUtils.htmlEntities(mxResources.get(this.savingStatusKey))+"..."),this.ui.scheduleSanityCheck(),null==this.ageStart&&(this.ageStart=new Date),this.autosave(this.autosaveDelay,this.maxAutosaveDelay,
mxUtils.bind(this,function($resp$$){this.ui.stopSanityCheck();null==this.autosaveThread?(this.handleFileSuccess(!0),this.ageStart=null):this.isModified()&&(this.ui.scheduleSanityCheck(),this.ageStart=this.lastChanged)}),mxUtils.bind(this,function($err$$){this.handleFileError($err$$)}))):(this.ageStart=null,this.isAutosaveOptional()&&this.ui.editor.autosave||this.inConflictState||this.addUnsavedStatus());null!=this.sync&&$sync$$&&this.sync.localFileChanged()};
DrawioFile.prototype.createSecret=function($success$$){var $secret$$=Editor.guid(32);Editor.enableRealtimeCache&&null!=this.sync&&!this.isOptimisticSync()?this.sync.createToken($secret$$,mxUtils.bind(this,function($token$$){EditorUi.debug("DrawioFile.createSecret",[this],"secret",$secret$$,"token",$token$$);$success$$($secret$$,$token$$)}),mxUtils.bind(this,function(){$success$$($secret$$)})):$success$$($secret$$)};DrawioFile.prototype.fileSaving=function(){null!=this.sync&&this.sync.fileSaving()};
DrawioFile.prototype.fileSaved=function($savedData$$,$lastDesc$$,$success$$,$error$$,$token$$,$pages$$,$checksum$$){this.lastSaved=new Date;this.ageStart=null;this.stats.saved++;try{this.invalidChecksum=this.inConflictState=!1;$pages$$=null!=$pages$$?$pages$$:this.ui.getPagesForXml($savedData$$);try{null==this.sync||this.isOptimisticSync()?(this.setShadowPages($pages$$),null!=this.sync&&(this.sync.lastModified=this.getLastModifiedDate(),this.sync.resetUpdateStatusThread(),this.isRealtime()&&this.sync.scheduleCleanup()),
null!=$success$$&&$success$$()):this.sync.fileSaved($pages$$,$lastDesc$$,$success$$,$error$$,$token$$,$checksum$$)}catch($e$$){this.invalidChecksum=this.inConflictState=!0;this.descriptorChanged();null!=$error$$&&$error$$($e$$);try{if(this.errorReportsEnabled)this.sendErrorReport("Error in fileSaved",null,$e$$);else{var $user$$=this.getCurrentUser(),$uid$$=null!=$user$$?$user$$.id:"unknown";EditorUi.logError("Error in fileSaved",null,this.getMode()+"."+this.getId(),$uid$$,$e$$)}}catch($e2$$){}}EditorUi.debug("DrawioFile.fileSaved",
[this],"savedData",[$savedData$$],"desc",[$lastDesc$$],"inConflictState",this.inConflictState,"invalidChecksum",this.invalidChecksum)}catch($e$9$$){this.descriptorChanged(),null!=$error$$&&$error$$($e$9$$)}};
DrawioFile.prototype.autosave=function($delay$jscomp$6_tmp$$,$maxDelay$$,$success$$,$error$$){null==this.lastAutosave&&(this.lastAutosave=Date.now());$delay$jscomp$6_tmp$$=Date.now()-this.lastAutosave<$maxDelay$$?$delay$jscomp$6_tmp$$:0;this.clearAutosave();var $thread$$=window.setTimeout(mxUtils.bind(this,function(){try{if(this.lastAutosave=null,this.autosaveThread==$thread$$&&(this.autosaveThread=null),EditorUi.debug("DrawioFile.autosave",[this],"thread",$thread$$,"modified",this.isModified(),"now",
this.isAutosaveNow(),"saving",this.savingFile),this.isModified()&&this.isAutosaveNow()){var $rev$$=this.isAutosaveRevision();$rev$$&&(this.lastAutosaveRevision=(new Date).getTime());this.save($rev$$,mxUtils.bind(this,function($resp$$){this.autosaveCompleted();null!=$success$$&&$success$$($resp$$)}),mxUtils.bind(this,function($resp$$){null!=$error$$&&$error$$($resp$$)}))}else this.isModified()||this.ui.editor.setStatus(""),null!=$success$$&&$success$$(null)}catch($e$$){null!=$error$$&&$error$$($e$$)}}),
$delay$jscomp$6_tmp$$);EditorUi.debug("DrawioFile.autosave",[this],"thread",$thread$$,"delay",$delay$jscomp$6_tmp$$,"saving",this.savingFile);this.autosaveThread=$thread$$};DrawioFile.prototype.isAutosaveNow=function(){return!0};DrawioFile.prototype.autosaveCompleted=function(){};DrawioFile.prototype.clearAutosave=function(){null!=this.autosaveThread&&(window.clearTimeout(this.autosaveThread),this.autosaveThread=null)};
DrawioFile.prototype.isAutosaveRevision=function(){var $now$$=(new Date).getTime();return null==this.lastAutosaveRevision||$now$$-this.lastAutosaveRevision>this.maxAutosaveRevisionDelay};DrawioFile.prototype.descriptorChanged=function(){this.fireEvent(new mxEventObject("descriptorChanged"))};DrawioFile.prototype.contentChanged=function(){this.fireEvent(new mxEventObject("contentChanged"))};
DrawioFile.prototype.close=function($unloading$$){this.updateFileData();this.stats.closed++;this.isAutosave()&&this.isModified()&&this.save(this.isAutosaveRevision(),null,null,$unloading$$);this.destroy()};
DrawioFile.prototype.hasSameExtension=function($ext$jscomp$5_title$$,$newTitle$$){if(null!=$ext$jscomp$5_title$$&&null!=$newTitle$$){var $dot$$=$ext$jscomp$5_title$$.lastIndexOf(".");$ext$jscomp$5_title$$=0<$dot$$?$ext$jscomp$5_title$$.substring($dot$$):"";$dot$$=$newTitle$$.lastIndexOf(".");return $ext$jscomp$5_title$$===(0<$dot$$?$newTitle$$.substring($dot$$):"")}return $ext$jscomp$5_title$$==$newTitle$$};
DrawioFile.prototype.removeListeners=function(){null!=this.changeListener&&(this.ui.editor.graph.model.removeListener(this.changeListener),this.ui.editor.graph.removeListener(this.changeListener),this.ui.removeListener(this.changeListener),this.changeListener=null)};DrawioFile.prototype.destroy=function(){this.clearAutosave();this.removeListeners();this.stats.destroyed++;null!=this.sync&&(this.sync.destroy(),this.sync=null)};DrawioFile.prototype.commentsSupported=function(){return!1};
DrawioFile.prototype.commentsRefreshNeeded=function(){return!0};DrawioFile.prototype.commentsSaveNeeded=function(){return!1};DrawioFile.prototype.getComments=function($success$$,$error$$){$success$$([])};DrawioFile.prototype.addComment=function($comment$$,$success$$,$error$$){$success$$(Date.now())};DrawioFile.prototype.canReplyToReplies=function(){return!0};DrawioFile.prototype.canComment=function(){return!0};
DrawioFile.prototype.newComment=function($content$$,$user$$){return new DrawioComment(this,null,$content$$,Date.now(),Date.now(),!1,$user$$)};LocalFile=function($ui$$,$data$$,$title$$,$temp$$,$fileHandle$$,$desc$$){DrawioFile.call(this,$ui$$,$data$$);this.title=$title$$;this.mode=$temp$$?null:App.MODE_DEVICE;this.fileHandle=$fileHandle$$;this.desc=$desc$$};mxUtils.extend(LocalFile,DrawioFile);LocalFile.prototype.isAutosave=function(){return null!=this.fileHandle&&!this.invalidFileHandle&&DrawioFile.prototype.isAutosave.apply(this,arguments)};LocalFile.prototype.isAutosaveOptional=function(){return null!=this.fileHandle};
LocalFile.prototype.getMode=function(){return this.mode};LocalFile.prototype.getTitle=function(){return this.title};LocalFile.prototype.isRenamable=function(){return!0};LocalFile.prototype.save=function($revision$$,$success$$,$error$$){this.saveAs(this.title,$success$$,$error$$)};LocalFile.prototype.saveAs=function($title$$,$success$$,$error$$){this.saveFile($title$$,!1,$success$$,$error$$)};LocalFile.prototype.saveAs=function($title$$,$success$$,$error$$){this.saveFile($title$$,!1,$success$$,$error$$)};
LocalFile.prototype.getDescriptor=function(){return this.desc};LocalFile.prototype.setDescriptor=function($desc$$){this.desc=$desc$$};LocalFile.prototype.getLatestVersion=function($success$$,$error$$){null==this.fileHandle?null!=$error$$&&$error$$({message:mxResources.get("cannotOpenFile")}):this.ui.loadFileSystemEntry(this.fileHandle,$success$$,$error$$)};
LocalFile.prototype.saveFile=function($title$$,$p$jscomp$5_revision$$,$success$$,$error$$,$useCurrentData$$){$title$$!=this.title&&(this.desc=this.fileHandle=null);this.title=$title$$;$useCurrentData$$||this.updateFileData();var $binary$$=this.ui.useCanvasForExport&&/(\.png)$/i.test(this.getTitle());this.setShadowModified(!1);var $savedData$$=this.getData(),$done$$=mxUtils.bind(this,function(){this.setModified(this.getShadowModified());this.contentChanged();null!=$success$$&&$success$$()}),$doSave$$=
mxUtils.bind(this,function($data$$){if(null!=this.fileHandle){if(!this.savingFile){this.savingFileTime=new Date;this.savingFile=!0;var $errorWrapper$$=mxUtils.bind(this,function($e$$){this.savingFile=!1;null!=$error$$&&$error$$({error:$e$$})});this.saveDraft();this.fileHandle.createWritable().then(mxUtils.bind(this,function($writable$$){this.fileHandle.getFile().then(mxUtils.bind(this,function($newDesc$$){this.invalidFileHandle=null;EditorUi.debug("LocalFile.saveFile",[this],"desc",[this.desc],"newDesc",
[$newDesc$$],"conflict",this.desc.lastModified!=$newDesc$$.lastModified);this.desc.lastModified==$newDesc$$.lastModified?$writable$$.write($binary$$?this.ui.base64ToBlob($data$$,"image/png"):$data$$).then(mxUtils.bind(this,function(){$writable$$.close().then(mxUtils.bind(this,function(){this.fileHandle.getFile().then(mxUtils.bind(this,function($desc$$){try{var $lastDesc$$=this.desc;this.savingFile=!1;this.desc=$desc$$;this.fileSaved($savedData$$,$lastDesc$$,$done$$,$errorWrapper$$);this.removeDraft()}catch($e$$){$errorWrapper$$($e$$)}}),
$errorWrapper$$)}),$errorWrapper$$)}),$errorWrapper$$):(this.inConflictState=!0,$errorWrapper$$())}),mxUtils.bind(this,function($e$$){this.invalidFileHandle=!0;$errorWrapper$$($e$$)}))}),$errorWrapper$$)}}else{if(this.ui.isOfflineApp()||this.ui.isLocalFileSave())this.ui.doSaveLocalFile($data$$,$title$$,$binary$$?"image/png":"text/xml",$binary$$);else if($data$$.length<MAX_REQUEST_SIZE){var $dot$jscomp$2_format$$=$title$$.lastIndexOf(".");$dot$jscomp$2_format$$=0<$dot$jscomp$2_format$$?$title$$.substring($dot$jscomp$2_format$$+
1):"xml";(new mxXmlRequest(SAVE_URL,"format="+$dot$jscomp$2_format$$+"&xml="+encodeURIComponent($data$$)+"&filename="+encodeURIComponent($title$$)+($binary$$?"&binary=1":""))).simulate(document,"_blank")}else this.ui.handleError({message:mxResources.get("drawingTooLarge")},mxResources.get("error"),mxUtils.bind(this,function(){mxUtils.popup($data$$)}));$done$$()}});$binary$$?($p$jscomp$5_revision$$=this.ui.getPngFileProperties(this.ui.fileNode),this.ui.getEmbeddedPng(mxUtils.bind(this,function($imageData$$){$doSave$$($imageData$$)}),
$error$$,this.ui.getCurrentFile()!=this?$savedData$$:null,$p$jscomp$5_revision$$.scale,$p$jscomp$5_revision$$.border)):$doSave$$($savedData$$)};LocalFile.prototype.rename=function($title$$,$success$$,$error$$){this.title=$title$$;this.descriptorChanged();null!=$success$$&&$success$$()};(function(){"undefined"!==typeof html4&&(html4.ATTRIBS["span::data-lucid-content"]=0,html4.ATTRIBS["span::data-lucid-type"]=0,html4.ATTRIBS["font::data-font-src"]=0);Editor.sketchFontFamily="Architects Daughter";Editor.sketchFontSource="https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter";Editor.sketchFonts=[{fontFamily:Editor.sketchFontFamily,fontUrl:decodeURIComponent(Editor.sketchFontSource)}];Editor.sketchDefaultCurveFitting="1";Editor.sketchDefaultJiggle="2";Editor.thinCommentImage=
"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTEyLjUgMjcuNWgyM3YtMi4yNWgtMjNabTAtNi4zNWgyM3YtMi4zaC0yM1ptMC02LjRoMjNWMTIuNWgtMjNaTTQzIDQyLjEgMzUuOSAzNWgtMjhxLTEuMTUgMC0yLjAyNS0uODc1VDUgMzIuMVY3LjlxMC0xLjE1Ljg3NS0yLjAyNVQ3LjkgNWgzMi4ycTEuMiAwIDIuMDUuODc1UTQzIDYuNzUgNDMgNy45Wk03LjI1IDcuOXYyNC44NUgzNi45bDMuODUgMy44NVY3LjlxMC0uMy0uMTc1LS40NzVUNDAuMSA3LjI1SDcuOXEtLjMgMC0uNDc1LjE3NVQ3LjI1IDcuOVptMCAwdjI4LjdWNy4yNSA3LjlaIi8+PC9zdmc+";
Editor.thinDesignImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0ibTM2LjUgMTguMzUtNi44NS02Ljg1IDMuMjUtMy4ycS44NS0uODUgMi4wMjUtLjg1IDEuMTc1IDAgMi4wMjUuODVsMi43NSAyLjhxLjg1LjguODUgMnQtLjg1IDJaTTYuODUgNDEuMXYtNi45bDkuNTUtOS41NUw1LjUgMTMuN2w3LjgtNy44NSAxMSAxMSA1LjM1LTUuMzUgNi44NSA2Ljg1LTUuMzUgNS4zNSAxMSAxMS03Ljg1IDcuNzUtMTAuOTUtMTAuOS05LjYgOS41NVptMTEuMi0xOC4wNSA0LjY1LTQuNi00LjA1LTQuMDUtMi4zNSAyLjQtMS42LTEuNiAyLjM1LTIuNC0zLjc1LTMuNzUtNC42IDQuNjVabTE2LjIgMTYuMjUgNC42NS00LjY1LTMuNzUtMy43NS0yLjQgMi40LTEuNi0xLjYgMi40LTIuNC00LjA1LTQtNC42IDQuNjVabS0yNS4xLS40NWgzLjZsMjAuNS0yMC40NS0zLjY1LTMuNjVMOS4xNSAzNS4yWiIvPjwvc3ZnPg==";
Editor.thinGestureImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTI4IDQxLjZxLTIuNSAwLTQuMDc1LTEuNjUtMS41NzUtMS42NS0xLjU3NS00LjM1IDAtMi4zNSAxLjEtNC4xIDEuMS0xLjc1IDIuODI1LTIuOTUgMS43MjUtMS4yIDMuNy0xLjgyNVQzMy42NSAyNnEtLjE1LTMuMDUtMS4yNS00LjQyNVQyOS4yNSAyMC4ycS0yLjMgMC00LjE3NSAxLjV0LTQuNDI1IDQuOTVxLTIuNjUgMy40NS00LjYgNS4xLTEuOTUgMS42NS00LjM1IDEuNjUtMi4xIDAtMy42NS0xLjM3NVE2LjUgMzAuNjUgNi41IDI3LjQ1cTAtMiAxLjItNC41MjUgMS4yLTIuNTI1IDMuNS02LjE3NSAxLjMtMS44NSAxLjk3NS0zLjIyNXQuNjc1LTIuMzc1cTAtLjctLjM1LTEuMDUtLjM1LS4zNS0xLjA1LS4zNS0uNzUgMC0xLjYuNDc1UTEwIDEwLjcgOSAxMS45TDcgOS44cTEuMzUtMS41NSAyLjcyNS0yLjI3NVExMS4xIDYuOCAxMi41IDYuOHExLjkgMCAzLjEgMS4yNSAxLjIgMS4yNSAxLjIgMy4yIDAgMS44LS45NzUgMy41NzVRMTQuODUgMTYuNiAxMy4wNSAxOS4zcS0xLjk1IDIuOTUtMi43NzUgNC43dC0uODI1IDMuNjVxMCAxLjYuNzUgMi4yLjc1LjYgMS43NS42IDEuNDUgMCAyLjgyNS0xLjMgMS4zNzUtMS4zIDMuNTc1LTQuMTUgMi45NS0zLjggNS41MjUtNS43NzUgMi41NzUtMS45NzUgNS42NzUtMS45NzUgMy4xNSAwIDUgMi4zMjVUMzYuNiAyNS45aDQuOXYyLjk1aC00LjlxLS40NSA3LjM1LTMuMiAxMC4wNS0yLjc1IDIuNy01LjQgMi43Wm0uMS0yLjk1cTEuODUgMCAzLjY1LTIuMjUgMS44LTIuMjUgMi03LjUtMi44LjE1LTUuNjI1IDIuMDI1VDI1LjMgMzUuOXEwIDEuMy43NSAyLjAyNS43NS43MjUgMi4wNS43MjVaIi8+PC9zdmc+";
Editor.thinShapesImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTI5Ljc1IDI5Ljc1Wm0tMTMgNS40NXEuNC4wNS43NS4wNUgxOS4wNXY0LjY1cTAgLjI1LjE3NS40MjV0LjQyNS4xNzVIMzkuOXEuMjUgMCAuNDI1LS4xNzV0LjE3NS0uNDI1VjE5LjY1cTAtLjI1LS4xNzUtLjQyNXQtLjQyNS0uMTc1aC00LjY1VjE3LjVxMC0uMzUtLjA1LS43NWg0LjdxMS4xNSAwIDIgLjg3NS44NS44NzUuODUgMi4wMjVWMzkuOXEwIDEuMTUtLjg1IDItLjg1Ljg1LTIgLjg1SDE5LjY1cS0xLjE1IDAtMi4wMjUtLjg1dC0uODc1LTJabTEuNS0zLjk1cS01LjQ1IDAtOS4yMjUtMy44LTMuNzc1LTMuOC0zLjc3NS05LjIgMC01LjQ1IDMuNzc1LTkuMjI1UTEyLjggNS4yNSAxOC4yNSA1LjI1cTUuNCAwIDkuMiAzLjc3NSAzLjggMy43NzUgMy44IDkuMjI1IDAgNS40LTMuOCA5LjItMy44IDMuOC05LjIgMy44Wm0tLjA1LTIuM3E0LjQ1IDAgNy42LTMuMTI1IDMuMTUtMy4xMjUgMy4xNS03LjU3NXQtMy4xMjUtNy42UTIyLjcgNy41IDE4LjI1IDcuNXQtNy42IDMuMTI1UTcuNSAxMy43NSA3LjUgMTguMnQzLjEyNSA3LjZxMy4xMjUgMy4xNSA3LjU3NSAzLjE1Wm0uMDUtMTAuN1oiLz48L3N2Zz4=";
Editor.thinUndoImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTE0LjQgMzcuNXYtMi4yNWgxMy45cTMuNiAwIDYuMjI1LTIuMzc1UTM3LjE1IDMwLjUgMzcuMTUgMjYuOXEwLTMuNTUtMi42MjUtNS45LTIuNjI1LTIuMzUtNi4yMjUtMi4zNUgxMi45NUwxOSAyNC43bC0xLjYgMS42LTguOC04LjggOC44LTguOCAxLjYgMS42LTYuMDUgNi4wNWgxNS4zcTQuNTUgMCA3Ljg1IDMuMDV0My4zIDcuNXEwIDQuNS0zLjMgNy41NXQtNy44NSAzLjA1WiIvPjwvc3ZnPg==";Editor.thinRedoImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTE5Ljc1IDM3LjVxLTQuNTUgMC03Ljg1LTMuMDVUOC42IDI2LjlxMC00LjQ1IDMuMy03LjV0Ny44NS0zLjA1aDE1LjNMMjkgMTAuM2wxLjYtMS42IDguOCA4LjgtOC44IDguOC0xLjYtMS42IDYuMDUtNi4wNUgxOS43cS0zLjYgMC02LjIyNSAyLjM1LTIuNjI1IDIuMzUtMi42MjUgNS45IDAgMy42IDIuNjI1IDUuOTc1UTE2LjEgMzUuMjUgMTkuNyAzNS4yNWgxMy45djIuMjVaIi8+PC9zdmc+";
Editor.thinDoubleArrowRightImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0ibTEzIDM1LjMtMS42LTEuNiA5Ljc1LTkuNzUtOS43NS05LjcgMS42LTEuNiAxMS4zNSAxMS4zWm0xMi4zIDAtMS42LTEuNiA5Ljc1LTkuNzUtOS43NS05LjcgMS42LTEuNiAxMS4zIDExLjNaIi8+PC9zdmc+";Editor.thinNoteImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgOTYgOTYwIDk2MCIgd2lkdGg9IjQ4Ij48cGF0aCBkPSJNMjM3LjY5NCA5NTUuOTk5cS0yMy41MjkgMC00MC42MTEtMTcuMDgyLTE3LjA4Mi0xNy4wODItMTcuMDgyLTQwLjYxMVYyNTMuNjk0cTAtMjMuNTI5IDE3LjA4Mi00MC42MTEgMTcuMDgyLTE3LjA4MiA0MC42MTEtMTcuMDgyaDM0Ny41MzdsMTk0Ljc2OCAxOTQuNzY4djUwNy41MzdxMCAyMy41MjktMTcuMDgyIDQwLjYxMS0xNy4wODIgMTcuMDgyLTQwLjYxMSAxNy4wODJIMjM3LjY5NFpNNTYyLjUzOSA0MTEuMjNWMjQxLjM4NUgyMzcuNjk0cS00LjYxNiAwLTguNDYzIDMuODQ2LTMuODQ2IDMuODQ3LTMuODQ2IDguNDYzdjY0NC42MTJxMCA0LjYxNiAzLjg0NiA4LjQ2MyAzLjg0NyAzLjg0NiA4LjQ2MyAzLjg0Nmg0ODQuNjEycTQuNjE2IDAgOC40NjMtMy44NDYgMy44NDYtMy44NDcgMy44NDYtOC40NjNWNDExLjIzSDU2Mi41MzlaTTIyNS4zODUgMjQxLjM4NVY0MTEuMjMgMjQxLjM4NXY2NjkuMjNWMjQxLjM4NVoiLz48L3N2Zz4=";
Editor.thinTableImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTcgNDFWN2gzNHYzNFptMi4yNS0yMy42aDI5LjVWOS4yNUg5LjI1Wm0xMC42IDEwLjdoOC4zdi04LjRoLTguM1ptMCAxMC42NWg4LjN2LTguNGgtOC4zWk05LjI1IDI4LjFoOC4zNXYtOC40SDkuMjVabTIxLjE1IDBoOC4zNXYtOC40SDMwLjRaTTkuMjUgMzguNzVoOC4zNXYtOC40SDkuMjVabTIxLjE1IDBoOC4zNXYtOC40SDMwLjRaIi8+PC9zdmc+";Editor.thinAddCircleImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTIzIDMzLjVoMi4yNXYtOC4yaDguMjVWMjNoLTguMjV2LTguNUgyM1YyM2gtOC41djIuM0gyM1ptMSA5LjVxLTMuOTUgMC03LjQtMS41dC02LjAyNS00LjA3NVE4IDM0Ljg1IDYuNSAzMS40VDUgMjRxMC0zLjk1IDEuNS03LjQyNVE4IDEzLjEgMTAuNTc1IDEwLjU1IDEzLjE1IDggMTYuNiA2LjVUMjQgNXEzLjk1IDAgNy40MjUgMS41UTM0LjkgOCAzNy40NSAxMC41NSA0MCAxMy4xIDQxLjUgMTYuNTc1IDQzIDIwLjA1IDQzIDI0cTAgMy45NS0xLjUgNy40dC00LjA1IDYuMDI1UTM0LjkgNDAgMzEuNDI1IDQxLjUgMjcuOTUgNDMgMjQgNDNabS4wNS0yLjI1cTYuOTUgMCAxMS44MjUtNC45IDQuODc1LTQuOSA0Ljg3NS0xMS45IDAtNi45NS00Ljg3NS0xMS44MjVRMzEgNy4yNSAyNCA3LjI1cS02Ljk1IDAtMTEuODUgNC44NzVRNy4yNSAxNyA3LjI1IDI0cTAgNi45NSA0LjkgMTEuODUgNC45IDQuOSAxMS45IDQuOVpNMjQgMjRaIi8+PC9zdmc+";
Editor.thinArrowLeftImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTI4LjA1IDM1LjMgMTYuNyAyMy45NSAyOC4wNSAxMi42bDEuNiAxLjY1LTkuNyA5LjcgOS43IDkuNzVaIi8+PC9zdmc+";Editor.thinArrowRightImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0ibTE4Ljc1IDM1LjMtMS42LTEuNiA5LjctOS43NS05LjctOS43IDEuNi0xLjY1TDMwLjEgMjMuOTVaIi8+PC9zdmc+";Editor.thinVerticalDotsImage=
"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTI0LjA1IDQxLjdxLTEuMjUgMC0yLjEyNS0uODc1dC0uODc1LTIuMDc1cTAtMS4yLjg3NS0yLjEuODc1LS45IDIuMDc1LS45IDEuMjUgMCAyLjEuOS44NS45Ljg1IDIuMSAwIDEuMi0uODUgMi4wNzUtLjg1Ljg3NS0yLjA1Ljg3NVptMC0xNC43NXEtMS4yNSAwLTIuMTI1LS44NzVUMjEuMDUgMjRxMC0xLjI1Ljg3NS0yLjEuODc1LS44NSAyLjA3NS0uODUgMS4yNSAwIDIuMS44NS44NS44NS44NSAyLjA1IDAgMS4yNS0uODUgMi4xMjV0LTIuMDUuODc1Wm0wLTE0LjdxLTEuMjUgMC0yLjEyNS0uODc1VDIxLjA1IDkuMjVxMC0xLjI1Ljg3NS0yLjEyNVQyNCA2LjI1cTEuMjUgMCAyLjEuODc1Ljg1Ljg3NS44NSAyLjEyNXQtLjg1IDIuMTI1cS0uODUuODc1LTIuMDUuODc1WiIvPjwvc3ZnPg==";
Editor.thinDeleteImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTEzLjkgNDFxLTEuMTUgMC0yLS44NS0uODUtLjg1LS44NS0yLjA1VjEwLjlIOVY4LjY1aDguNTV2LTEuNGgxMi45djEuNEgzOXYyLjI1aC0yLjA1djI3LjJxMCAxLjItLjg1IDIuMDUtLjg1Ljg1LTIgLjg1Wm0yMC44LTMwLjFIMTMuM3YyNy4ycTAgLjMuMTc1LjQ3NXQuNDI1LjE3NWgyMC4ycS4yIDAgLjQtLjJ0LjItLjQ1Wk0xOS4wNSAzNC41aDIuM1YxNS4xaC0yLjNabTcuNiAwaDIuM1YxNS4xaC0yLjNaTTEzLjMgMTAuOXYyNy44NVYzOC4xWiIvPjwvc3ZnPg==";Editor.thinLightImage=
"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTI0IDMwLjc1cTIuOCAwIDQuNzc1LTEuOTc1UTMwLjc1IDI2LjggMzAuNzUgMjRxMC0yLjgtMS45NzUtNC43NzVRMjYuOCAxNy4yNSAyNCAxNy4yNXEtMi44IDAtNC43NzUgMS45NzVRMTcuMjUgMjEuMiAxNy4yNSAyNHEwIDIuOCAxLjk3NSA0Ljc3NVEyMS4yIDMwLjc1IDI0IDMwLjc1Wk0yNCAzM3EtMy43NSAwLTYuMzc1LTIuNjI1VDE1IDI0cTAtMy43NSAyLjYyNS02LjM3NVQyNCAxNXEzLjc1IDAgNi4zNzUgMi42MjVUMzMgMjRxMCAzLjc1LTIuNjI1IDYuMzc1VDI0IDMzWk0zLjY1IDI1LjE1cS0uNSAwLS44MjUtLjMyNVEyLjUgMjQuNSAyLjUgMjRxMC0uNS4zMjUtLjgyNS4zMjUtLjMyNS44MjUtLjMyNWg1LjJxLjUgMCAuODI1LjMyNVExMCAyMy41IDEwIDI0cTAgLjUtLjMyNS44MjUtLjMyNS4zMjUtLjgyNS4zMjVabTM1LjUgMHEtLjUgMC0uODI1LS4zMjVRMzggMjQuNSAzOCAyNHEwLS41LjMyNS0uODI1LjMyNS0uMzI1LjgyNS0uMzI1aDUuMnEuNSAwIC44MjUuMzI1LjMyNS4zMjUuMzI1LjgyNSAwIC41LS4zMjUuODI1LS4zMjUuMzI1LS44MjUuMzI1Wk0yNCAxMHEtLjUgMC0uODI1LS4zMjUtLjMyNS0uMzI1LS4zMjUtLjgyNXYtNS4ycTAtLjUuMzI1LS44MjVRMjMuNSAyLjUgMjQgMi41cS41IDAgLjgyNS4zMjUuMzI1LjMyNS4zMjUuODI1djUuMnEwIC41LS4zMjUuODI1UTI0LjUgMTAgMjQgMTBabTAgMzUuNXEtLjUgMC0uODI1LS4zMjUtLjMyNS0uMzI1LS4zMjUtLjgyNXYtNS4ycTAtLjUuMzI1LS44MjVRMjMuNSAzOCAyNCAzOHEuNSAwIC44MjUuMzI1LjMyNS4zMjUuMzI1LjgyNXY1LjJxMCAuNS0uMzI1LjgyNS0uMzI1LjMyNS0uODI1LjMyNVpNMTIuNSAxNC4xbC0zLTIuOTVxLS4zNS0uMzUtLjMyNS0uODI1UTkuMiA5Ljg1IDkuNSA5LjVxLjM1LS4zNS44LS4zNS40NSAwIC44NS4zNWwyLjk1IDNxLjMuMzUuMy44IDAgLjQ1LS4zLjgtLjMuMy0uNzc1LjMtLjQ3NSAwLS44MjUtLjNabTI0LjM1IDI0LjQtMi45NS0zcS0uMy0uMzUtLjMtLjggMC0uNDUuMzUtLjguMjUtLjM1LjcyNS0uMzV0LjgyNS4zNWwzIDIuOTVxLjM1LjM1LjMyNS44MjUtLjAyNS40NzUtLjMyNS44MjUtLjM1LjM1LS44LjM1LS40NSAwLS44NS0uMzVaTTMzLjkgMTQuMXEtLjM1LS4zNS0uMzUtLjggMC0uNDUuMzUtLjhsMi45NS0zcS4zNS0uMzUuODI1LS4zMjUuNDc1LjAyNS44MjUuMzI1LjM1LjM1LjM1LjggMCAuNDUtLjM1Ljg1bC0zIDIuOTVxLS4zLjMtLjc3NS4zLS40NzUgMC0uODI1LS4zWk05LjUgMzguNXEtLjM1LS4zNS0uMzUtLjggMC0uNDUuMzUtLjg1bDMtMi45NXEuMzUtLjM1LjgtLjM1LjQ1IDAgLjguMzUuMzUuMy4zMjUuNzc1LS4wMjUuNDc1LS4zMjUuODI1bC0yLjk1IDNxLS40LjM1LS44NS4zNS0uNDUgMC0uOC0uMzVaTTI0IDI0WiIvPjwvc3ZnPg==";
Editor.thinDarkImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTI0LjA1IDQxcS03LjEgMC0xMi4wNS00Ljk1UTcuMDUgMzEuMSA3LjA1IDI0cTAtNi44IDQuNi0xMS42NSA0LjYtNC44NSAxMS4zLTUuMjUuMiAwIC40NS4wMjV0LjcuMDI1UTIyLjc1IDguNyAyMiAxMC43MjVxLS43NSAyLjAyNS0uNzUgNC4yNzUgMCA0LjkgMy40NSA4LjM1IDMuNDUgMy40NSA4LjM1IDMuNDUgMi4yIDAgNC4yNzUtLjY3NVQ0MC45IDI0LjJxMCAuMzUuMDI1LjU1LjAyNS4yLjAyNS4zNS0uNCA2LjctNS4yNSAxMS4zUTMwLjg1IDQxIDI0LjA1IDQxWm0wLTIuMjVxNS4xNSAwIDkuMDc1LTMuMTI1UTM3LjA1IDMyLjUgMzguMiAyOC4xcS0xLjIuNS0yLjUuNzI1LTEuMy4yMjUtMi42NS4yMjUtNS44NSAwLTkuOTUtNC4xVDE5IDE1cTAtMS4xNS4yMjUtMi40MjVUMjAgOS43NXEtNC42NSAxLjQtNy42NSA1LjM3NVQ5LjM1IDI0cTAgNi4xNSA0LjI3NSAxMC40NSA0LjI3NSA0LjMgMTAuNDI1IDQuM1ptLS4yNS0xNC41WiIvPjwvc3ZnPg==";
Editor.thinCommentImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTEyLjUgMjcuNWgyM3YtMi4yNWgtMjNabTAtNi4zNWgyM3YtMi4zaC0yM1ptMC02LjRoMjNWMTIuNWgtMjNaTTQzIDQyLjEgMzUuOSAzNWgtMjhxLTEuMTUgMC0yLjAyNS0uODc1VDUgMzIuMVY3LjlxMC0xLjE1Ljg3NS0yLjAyNVQ3LjkgNWgzMi4ycTEuMiAwIDIuMDUuODc1UTQzIDYuNzUgNDMgNy45Wk03LjI1IDcuOXYyNC44NUgzNi45bDMuODUgMy44NVY3LjlxMC0uMy0uMTc1LS40NzVUNDAuMSA3LjI1SDcuOXEtLjMgMC0uNDc1LjE3NVQ3LjI1IDcuOVptMCAwdjI4LjdWNy4yNSA3LjlaIi8+PC9zdmc+";
Editor.thinMenuImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTEzLjUgMjYuMTVxLjkgMCAxLjUyNS0uNjI1LjYyNS0uNjI1LjYyNS0xLjUyNSAwLS45LS42MjUtMS41MjUtLjYyNS0uNjI1LTEuNTI1LS42MjUtLjkgMC0xLjUyNS42MjUtLjYyNS42MjUtLjYyNSAxLjUyNSAwIC45LjYyNSAxLjUyNS42MjUuNjI1IDEuNTI1LjYyNVptMTAuNSAwcS45IDAgMS41MjUtLjYyNS42MjUtLjYyNS42MjUtMS41MjUgMC0uOS0uNjI1LTEuNTI1UTI0LjkgMjEuODUgMjQgMjEuODVxLS45IDAtMS41MjUuNjI1LS42MjUuNjI1LS42MjUgMS41MjUgMCAuOS42MjUgMS41MjUuNjI1LjYyNSAxLjUyNS42MjVabTEwLjUgMHEuODUgMCAxLjQ3NS0uNjI1UTM2LjYgMjQuOSAzNi42IDI0cTAtLjktLjYyNS0xLjUyNS0uNjI1LS42MjUtMS41MjUtLjYyNS0uODUgMC0xLjQ3NS42MjUtLjYyNS42MjUtLjYyNSAxLjUyNSAwIC45LjYyNSAxLjUyNS42MjUuNjI1IDEuNTI1LjYyNVpNMjQgNDNxLTMuOTUgMC03LjQtMS41dC02LjAyNS00LjA3NVE4IDM0Ljg1IDYuNSAzMS40VDUgMjRxMC0zLjk1IDEuNS03LjQyNVE4IDEzLjEgMTAuNTc1IDEwLjU1IDEzLjE1IDggMTYuNiA2LjVUMjQgNXEzLjk1IDAgNy40MjUgMS41UTM0LjkgOCAzNy40NSAxMC41NSA0MCAxMy4xIDQxLjUgMTYuNTc1IDQzIDIwLjA1IDQzIDI0cTAgMy45NS0xLjUgNy40dC00LjA1IDYuMDI1UTM0LjkgNDAgMzEuNDI1IDQxLjUgMjcuOTUgNDMgMjQgNDNabTAtMi4yNXE3IDAgMTEuODc1LTQuOVQ0MC43NSAyNHEwLTctNC44NzUtMTEuODc1VDI0IDcuMjVxLTYuOTUgMC0xMS44NSA0Ljg3NVE3LjI1IDE3IDcuMjUgMjRxMCA2Ljk1IDQuOSAxMS44NSA0LjkgNC45IDExLjg1IDQuOVpNMjQgMjRaIi8+PC9zdmc+";
Editor.thinViewImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTUgMzlWOWgzOHYzMFptMjguNTUtMjAuNmg3LjJ2LTcuMTVoLTcuMlptMCA4Ljk1aDcuMnYtNi43aC03LjJabS0yNi4zIDkuNEgzMS4zdi0yNS41SDcuMjVabTI2LjMgMGg3LjJWMjkuNmgtNy4yWiIvPjwvc3ZnPg==";Editor.thinUserAddImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTM2LjYgMjcuNXYtNi4zNWgtNi4zNXYtMi4zaDYuMzVWMTIuNWgyLjN2Ni4zNWg2LjM1djIuM0gzOC45djYuMzVaTTE4IDIzLjM1cS0yLjkgMC00Ljc3NS0xLjg3NVExMS4zNSAxOS42IDExLjM1IDE2LjdxMC0yLjkgMS44NzUtNC43NVQxOCAxMC4xcTIuOSAwIDQuNzc1IDEuODUgMS44NzUgMS44NSAxLjg3NSA0Ljc1dC0xLjg3NSA0Ljc3NVEyMC45IDIzLjM1IDE4IDIzLjM1Wk0zIDM4LjZ2LTMuOHEwLTEuNS44LTIuNzV0Mi4yNS0xLjlxMy40NS0xLjUgNi4yNzUtMi4xNSAyLjgyNS0uNjUgNS42NzUtLjY1IDIuODUgMCA1LjY1LjY1IDIuOC42NSA2LjI1IDIuMTUgMS40NS43IDIuMjc1IDEuOTI1VDMzIDM0Ljh2My44Wm0yLjI1LTIuMjVoMjUuNVYzNC44cTAtLjc1LS41LTEuNDc1LS41LS43MjUtMS4zLTEuMTI1LTMuMi0xLjUtNS42NzUtMi4wNVEyMC44IDI5LjYgMTggMjkuNnEtMi44IDAtNS4zLjU1VDcgMzIuMnEtLjguNC0xLjI3NSAxLjEyNS0uNDc1LjcyNS0uNDc1IDEuNDc1Wk0xOCAyMS4xcTEuODUgMCAzLjEtMS4yNXQxLjI1LTMuMTVxMC0xLjg1LTEuMjUtMy4xVDE4IDEyLjM1cS0xLjg1IDAtMy4xIDEuMjV0LTEuMjUgMy4xcTAgMS45IDEuMjUgMy4xNVQxOCAyMS4xWm0wLTQuNFptMCAxOS42NVoiLz48L3N2Zz4=";
Editor.thinUserFlashImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTkgMzguNnYtMy44cTAtMS42Ljg1LTIuOC44NS0xLjIgMi4yLTEuODUgMy4yLTEuNCA2LjEyNS0yLjEgMi45MjUtLjcgNS44MjUtLjcgMS40NSAwIDIuOS4xNzV0Mi45LjUyNXYyLjJxLTEuNDUtLjM1LTIuODc1LS41UTI1LjUgMjkuNiAyNCAyOS42cS0yLjc1IDAtNS40LjYtMi42NS42LTUuNiAyLS43NS40LTEuMjUgMS4xMjV0LS41IDEuNDc1djEuNTVIMjkuOHYyLjI1Wm0yLjI1LTIuMjVIMjkuOFptMTIuNzUtMTNxLTIuOSAwLTQuNzc1LTEuODc1UTE3LjM1IDE5LjYgMTcuMzUgMTYuN3EwLTIuOSAxLjg3NS00Ljc1VDI0IDEwLjFxMi45IDAgNC43NzUgMS44NSAxLjg3NSAxLjg1IDEuODc1IDQuNzV0LTEuODc1IDQuNzc1UTI2LjkgMjMuMzUgMjQgMjMuMzVabTAtMi4yNXExLjg1IDAgMy4xLTEuMjV0MS4yNS0zLjE1cTAtMS44NS0xLjI1LTMuMVQyNCAxMi4zNXEtMS44NSAwLTMuMSAxLjI1dC0xLjI1IDMuMXEwIDEuOSAxLjI1IDMuMTVUMjQgMjEuMVptMC00LjRabTEyLjg1IDI4LjA1di03LjhoLTMuNHYtMTAuMWg5LjE1bC0zLjggNy42NWgzLjdaIi8+PC9zdmc+";
Editor.thinShareImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTExLjkgNDVxLTEuMiAwLTIuMDUtLjg1UTkgNDMuMyA5IDQyLjFWMTguOHEwLTEuMTUuODUtMiAuODUtLjg1IDIuMDUtLjg1aDYuOXYyLjI1aC02LjlxLS4yNSAwLS40NS4ydC0uMi40djIzLjNxMCAuMjUuMi40NXQuNDUuMmgyNC4ycS4yNSAwIC40NS0uMnQuMi0uNDVWMTguOHEwLS4yLS4yLS40dC0uNDUtLjJoLTYuOTV2LTIuMjVoNi45NXExLjIgMCAyLjA1Ljg1Ljg1Ljg1Ljg1IDJ2MjMuM3EwIDEuMi0uODUgMi4wNS0uODUuODUtMi4wNS44NVptMTAuOTUtMTQuNVY4LjFsLTQuNiA0LjU1LTEuNjUtMS42IDcuMzUtNy4zNSA3LjM1IDcuMzUtMS42IDEuNi00LjYtNC41NXYyMi40WiIvPjwvc3ZnPg==";
Editor.thinTextImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTMuNCA0NC42di05LjI1aDMuNTV2LTIyLjdIMy40VjMuNGg5LjI1djMuNTVoMjIuN1YzLjRoOS4yNXY5LjI1aC0zLjU1djIyLjdoMy41NXY5LjI1aC05LjI1di0zLjU1aC0yMi43djMuNTVabTkuMjUtNS44NWgyMi43di0zLjRoMy40di0yMi43aC0zLjR2LTMuNGgtMjIuN3YzLjRoLTMuNHYyMi43aDMuNFptMy4xNS02LjI1IDcuMzUtMTkuMTVoMS42NWw3LjQ1IDE5LjE1aC0yLjFMMjggMjdoLTcuODVsLTIuMSA1LjVabTQuOTUtNy4zNWg2LjVMMjQuMSAxNi44aC0uM1ptLTE1LjEtMTQuOGg0Ljd2LTQuN2gtNC43Wm0zMiAwaDQuN3YtNC43aC00LjdabTAgMzJoNC43di00LjdoLTQuN1ptLTMyIDBoNC43di00LjdoLTQuN1ptMzItMzJabTAgMjcuM1ptLTI3LjMgMFptMC0yNy4zWiIvPjwvc3ZnPg==";
Editor.thinRectangleImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTUgMzlWOWgzOHYzMFptMi4yNS0yLjI1aDMzLjV2LTI1LjVINy4yNVptMCAwdi0yNS41IDI1LjVaIi8+PC9zdmc+";Editor.thinDataImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTI4Ljg1IDM5LjF2LTIuMjVIMzRxMS4yIDAgMi4wMjUtLjgyNVQzNi44NSAzNHYtNC45cTAtMS43NSAxLjA3NS0zLjEyNXQyLjcyNS0xLjgyNXYtLjNxLTEuNjUtLjQ1LTIuNzI1LTEuODI1UTM2Ljg1IDIwLjY1IDM2Ljg1IDE4LjlWMTRxMC0xLjItLjgyNS0yLjAyNVQzNCAxMS4xNWgtNS4xNVY4LjlIMzRxMi4xNSAwIDMuNjI1IDEuNVQzOS4xIDE0djQuOXEwIDEuMjUuODUgMi4wNzUuODUuODI1IDIuMS44MjVoLjg1djQuNGgtLjg1cS0xLjI1IDAtMi4xLjgyNS0uODUuODI1LS44NSAyLjA3NVYzNHEwIDIuMS0xLjUgMy42VDM0IDM5LjFaTTE0IDM5LjFxLTIuMTUgMC0zLjYyNS0xLjVUOC45IDM0di00LjlxMC0xLjI1LS44NS0yLjA3NS0uODUtLjgyNS0yLjEtLjgyNUg1LjF2LTQuNGguODVxMS4yNSAwIDIuMS0uODI1Ljg1LS44MjUuODUtMi4wNzVWMTRxMC0yLjEgMS41LTMuNlQxNCA4LjloNS4xNXYyLjI1SDE0cS0xLjIgMC0yLjAyNS44MjVUMTEuMTUgMTR2NC45cTAgMS43NS0xLjA3NSAzLjEyNVQ3LjM1IDIzLjg1di4zcTEuNjUuNDUgMi43MjUgMS44MjVRMTEuMTUgMjcuMzUgMTEuMTUgMjkuMVYzNHEwIDEuMi44MjUgMi4wMjVUMTQgMzYuODVoNS4xNXYyLjI1WiIvPjwvc3ZnPg==";
Editor.thinExpandImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTI0IDMwLjEgMTIuNyAxOC43NWwxLjYtMS42IDkuNyA5LjcgOS43LTkuNyAxLjYgMS42NVoiLz48L3N2Zz4=";Editor.thinGridImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iNDgiPjxwYXRoIGQ9Ik0yMjMuMjkxLTE1NC41cS0yOS4xMTcgMC00OC45NTQtMTkuODM3VDE1NC41LTIyMy4yOTFxMC0yOS4xMTggMTkuODM3LTQ4LjkxM1ExOTQuMTc0LTI5MiAyMjMuMjkxLTI5MnEyOS4xMTggMCA0OC45MTMgMTkuNzk2UTI5Mi0yNTIuNDA5IDI5Mi0yMjMuMjkxcTAgMjkuMTE3LTE5Ljc5NiA0OC45NTQtMTkuNzk1IDE5LjgzNy00OC45MTMgMTkuODM3Wm0yNTYuOCAwcS0yOS4wNDggMC00OC44ODUtMTkuODM3LTE5LjgzNi0xOS44MzctMTkuODM2LTQ4Ljk1NCAwLTI5LjExOCAxOS43NDUtNDguOTEzUTQ1MC44NjEtMjkyIDQ3OS45MDktMjkydDQ4Ljg4NSAxOS43OTZxMTkuODM2IDE5Ljc5NSAxOS44MzYgNDguOTEzIDAgMjkuMTE3LTE5Ljc0NSA0OC45NTQtMTkuNzQ2IDE5LjgzNy00OC43OTQgMTkuODM3Wm0yNTYuNjE4IDBxLTI5LjExOCAwLTQ4LjkxMy0xOS44MzdRNjY4LTE5NC4xNzQgNjY4LTIyMy4yOTFxMC0yOS4xMTggMTkuNzk2LTQ4LjkxM1E3MDcuNTkxLTI5MiA3MzYuNzA5LTI5MnEyOS4xMTcgMCA0OC45NTQgMTkuNzk2IDE5LjgzNyAxOS43OTUgMTkuODM3IDQ4LjkxMyAwIDI5LjExNy0xOS44MzcgNDguOTU0VDczNi43MDktMTU0LjVaTTIyMy4yOTEtNDExLjM3cS0yOS4xMTcgMC00OC45NTQtMTkuNzQ1LTE5LjgzNy0xOS43NDYtMTkuODM3LTQ4Ljc5NHQxOS44MzctNDguODg1cTE5LjgzNy0xOS44MzYgNDguOTU0LTE5LjgzNiAyOS4xMTggMCA0OC45MTMgMTkuNzQ1UTI5Mi01MDkuMTM5IDI5Mi00ODAuMDkxdC0xOS43OTYgNDguODg1cS0xOS43OTUgMTkuODM2LTQ4LjkxMyAxOS44MzZabTI1Ni44IDBxLTI5LjA0OCAwLTQ4Ljg4NS0xOS43NDUtMTkuODM2LTE5Ljc0Ni0xOS44MzYtNDguNzk0dDE5Ljc0NS00OC44ODVxMTkuNzQ2LTE5LjgzNiA0OC43OTQtMTkuODM2dDQ4Ljg4NSAxOS43NDVxMTkuODM2IDE5Ljc0NiAxOS44MzYgNDguNzk0dC0xOS43NDUgNDguODg1cS0xOS43NDYgMTkuODM2LTQ4Ljc5NCAxOS44MzZabTI1Ni42MTggMHEtMjkuMTE4IDAtNDguOTEzLTE5Ljc0NVE2NjgtNDUwLjg2MSA2NjgtNDc5LjkwOXQxOS43OTYtNDguODg1cTE5Ljc5NS0xOS44MzYgNDguOTEzLTE5LjgzNiAyOS4xMTcgMCA0OC45NTQgMTkuNzQ1IDE5LjgzNyAxOS43NDYgMTkuODM3IDQ4Ljc5NHQtMTkuODM3IDQ4Ljg4NXEtMTkuODM3IDE5LjgzNi00OC45NTQgMTkuODM2Wk0yMjMuMjkxLTY2OHEtMjkuMTE3IDAtNDguOTU0LTE5Ljc5Ni0xOS44MzctMTkuNzk1LTE5LjgzNy00OC45MTMgMC0yOS4xMTcgMTkuODM3LTQ4Ljk1NHQ0OC45NTQtMTkuODM3cTI5LjExOCAwIDQ4LjkxMyAxOS44MzdRMjkyLTc2NS44MjYgMjkyLTczNi43MDlxMCAyOS4xMTgtMTkuNzk2IDQ4LjkxM1EyNTIuNDA5LTY2OCAyMjMuMjkxLTY2OFptMjU2LjggMHEtMjkuMDQ4IDAtNDguODg1LTE5Ljc5Ni0xOS44MzYtMTkuNzk1LTE5LjgzNi00OC45MTMgMC0yOS4xMTcgMTkuNzQ1LTQ4Ljk1NCAxOS43NDYtMTkuODM3IDQ4Ljc5NC0xOS44Mzd0NDguODg1IDE5LjgzN3ExOS44MzYgMTkuODM3IDE5LjgzNiA0OC45NTQgMCAyOS4xMTgtMTkuNzQ1IDQ4LjkxM1E1MDkuMTM5LTY2OCA0ODAuMDkxLTY2OFptMjU2LjYxOCAwcS0yOS4xMTggMC00OC45MTMtMTkuNzk2UTY2OC03MDcuNTkxIDY2OC03MzYuNzA5cTAtMjkuMTE3IDE5Ljc5Ni00OC45NTQgMTkuNzk1LTE5LjgzNyA0OC45MTMtMTkuODM3IDI5LjExNyAwIDQ4Ljk1NCAxOS44Mzd0MTkuODM3IDQ4Ljk1NHEwIDI5LjExOC0xOS44MzcgNDguOTEzUTc2NS44MjYtNjY4IDczNi43MDktNjY4WiIvPjwvc3ZnPg==";
Editor.thinOpenImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjQiPjxwYXRoIGQ9Ik0yNDAtODBxLTMzIDAtNTYuNS0yMy41VDE2MC0xNjB2LTY0MHEwLTMzIDIzLjUtNTYuNVQyNDAtODgwaDMyMGwyNDAgMjQwdjI0MGgtODB2LTIwMEg1MjB2LTIwMEgyNDB2NjQwaDM2MHY4MEgyNDBabTYzOCAxNUw3NjAtMTgzdjg5aC04MHYtMjI2aDIyNnY4MGgtOTBsMTE4IDExOC01NiA1N1ptLTYzOC05NXYtNjQwIDY0MFoiLz48L3N2Zz4=";Editor.selectImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTkgNDJxLTEuMjUgMC0yLjEyNS0uODc1VDYgMzlWOXEwLTEuMjUuODc1LTIuMTI1VDkgNmgzMHEuNyAwIDEuMjc1LjN0LjkyNS43TDM5IDkuMlY5SDl2MzBoMzBWMjEuODVsMy0zVjM5cTAgMS4yNS0uODc1IDIuMTI1VDM5IDQyWm0xNC4wNS04LjQtMTEuMS0xMS4xIDIuMS0yLjEgOSA5IDE5LjEtMTkuMSAyLjEgMi4xWiIvPjwvc3ZnPg==";
Editor.styles=[{},{commonStyle:{fontColor:"#393C56",strokeColor:"#E07A5F",fillColor:"#F2CC8F"},graph:{background:"#F4F1DE",gridColor:"#D4D0C0"}},{vertexStyle:{strokeColor:"#BAC8D3",fillColor:"#09555B",fontColor:"#EEEEEE"},edgeStyle:{strokeColor:"#0B4D6A"}},{vertexStyle:{strokeColor:"#FFFFFF",fillColor:"#182E3E",fontColor:"#FFFFFF"},edgeStyle:{strokeColor:"#23445D"},graph:{background:"#FCE7CD",gridColor:"#CFBDA8"}},{vertexStyle:{strokeColor:"#D0CEE2",fillColor:"#5D7F99"},edgeStyle:{strokeColor:"#736CA8"},
commonStyle:{fontColor:"#1A1A1A"}},{commonStyle:{fontColor:"#46495D",strokeColor:"#788AA3",fillColor:"#B2C9AB"}},{commonStyle:{fontColor:"#5AA9E6",strokeColor:"#FF6392",fillColor:"#FFE45E"}},{commonStyle:{fontColor:"#E4FDE1",strokeColor:"#028090",fillColor:"#F45B69"},graph:{background:"#114B5F",gridColor:"#0B3240"}},{commonStyle:{fontColor:"#FEFAE0",strokeColor:"#DDA15E",fillColor:"#BC6C25"},graph:{background:"#283618",gridColor:"#48632C"}},{commonStyle:{fontColor:"#143642",strokeColor:"#0F8B8D",
fillColor:"#FAE5C7"},edgeStyle:{strokeColor:"#A8201A"},graph:{background:"#DAD2D8",gridColor:"#ABA4A9"}},{},{vertexStyle:{strokeColor:"#D0CEE2",fillColor:"#FAD9D5"},edgeStyle:{strokeColor:"#09555B"},commonStyle:{fontColor:"#1A1A1A"}},{commonStyle:{fontColor:"#1D3557",strokeColor:"#457B9D",fillColor:"#A8DADC"},graph:{background:"#F1FAEE"}},{commonStyle:{fontColor:"#095C86",strokeColor:"#AF45ED",fillColor:"#F694C1"},edgeStyle:{strokeColor:"#60E696"}},{commonStyle:{fontColor:"#5C5C5C",strokeColor:"#006658",
fillColor:"#21C0A5"}},{vertexStyle:{strokeColor:"#FFFFFF",fillColor:"#F08E81"},edgeStyle:{strokeColor:"#182E3E"},commonStyle:{fontColor:"#1A1A1A"},graph:{background:"#B0E3E6",gridColor:"#87AEB0"}},{vertexStyle:{strokeColor:"#909090",fillColor:"#F5AB50"},edgeStyle:{strokeColor:"#182E3E"},commonStyle:{fontColor:"#1A1A1A"},graph:{background:"#EEEEEE"}},{vertexStyle:{strokeColor:"#BAC8D3",fillColor:"#B1DDF0",fontColor:"#182E3E"},edgeStyle:{strokeColor:"#EEEEEE",fontColor:"#FFFFFF"},graph:{background:"#09555B",
gridColor:"#13B4C2"}},{vertexStyle:{strokeColor:"#EEEEEE",fillColor:"#56517E",fontColor:"#FFFFFF"},edgeStyle:{strokeColor:"#182E3E"},graph:{background:"#FAD9D5",gridColor:"#BFA6A3"}},{vertexStyle:{fillColor:"#EEEEEE",fontColor:"#1A1A1A"},edgeStyle:{fontColor:"#FFFFFF"},commonStyle:{strokeColor:"#FFFFFF"},graph:{background:"#182E3E",gridColor:"#4D94C7"}}];Editor.logoImage="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzA2LjE4NSAxMjAuMjk2IgogICB2aWV3Qm94PSIyNCAyNiA2OCA2OCIKICAgeT0iMHB4IgogICB4PSIwcHgiCiAgIHZlcnNpb249IjEuMSI+CiAgIAkgPGc+PGxpbmUKICAgICAgIHkyPSI3Mi4zOTQiCiAgICAgICB4Mj0iNDEuMDYxIgogICAgICAgeTE9IjQzLjM4NCIKICAgICAgIHgxPSI1OC4wNjkiCiAgICAgICBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiCiAgICAgICBzdHJva2Utd2lkdGg9IjMuNTUyOCIKICAgICAgIHN0cm9rZT0iI0ZGRkZGRiIKICAgICAgIGZpbGw9Im5vbmUiIC8+PGxpbmUKICAgICAgIHkyPSI3Mi4zOTQiCiAgICAgICB4Mj0iNzUuMDc2IgogICAgICAgeTE9IjQzLjM4NCIKICAgICAgIHgxPSI1OC4wNjgiCiAgICAgICBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiCiAgICAgICBzdHJva2Utd2lkdGg9IjMuNTAwOCIKICAgICAgIHN0cm9rZT0iI0ZGRkZGRiIKICAgICAgIGZpbGw9Im5vbmUiIC8+PGc+PHBhdGgKICAgICAgICAgZD0iTTUyLjc3Myw3Ny4wODRjMCwxLjk1NC0xLjU5OSwzLjU1My0zLjU1MywzLjU1M0gzNi45OTljLTEuOTU0LDAtMy41NTMtMS41OTktMy41NTMtMy41NTN2LTkuMzc5ICAgIGMwLTEuOTU0LDEuNTk5LTMuNTUzLDMuNTUzLTMuNTUzaDEyLjIyMmMxLjk1NCwwLDMuNTUzLDEuNTk5LDMuNTUzLDMuNTUzVjc3LjA4NHoiCiAgICAgICAgIGZpbGw9IiNGRkZGRkYiIC8+PC9nPjxnCiAgICAgICBpZD0iZzM0MTkiPjxwYXRoCiAgICAgICAgIGQ9Ik02Ny43NjIsNDguMDc0YzAsMS45NTQtMS41OTksMy41NTMtMy41NTMsMy41NTNINTEuOTg4Yy0xLjk1NCwwLTMuNTUzLTEuNTk5LTMuNTUzLTMuNTUzdi05LjM3OSAgICBjMC0xLjk1NCwxLjU5OS0zLjU1MywzLjU1My0zLjU1M0g2NC4yMWMxLjk1NCwwLDMuNTUzLDEuNTk5LDMuNTUzLDMuNTUzVjQ4LjA3NHoiCiAgICAgICAgIGZpbGw9IiNGRkZGRkYiIC8+PC9nPjxnPjxwYXRoCiAgICAgICAgIGQ9Ik04Mi43NTIsNzcuMDg0YzAsMS45NTQtMS41OTksMy41NTMtMy41NTMsMy41NTNINjYuOTc3Yy0xLjk1NCwwLTMuNTUzLTEuNTk5LTMuNTUzLTMuNTUzdi05LjM3OSAgICBjMC0xLjk1NCwxLjU5OS0zLjU1MywzLjU1My0zLjU1M2gxMi4yMjJjMS45NTQsMCwzLjU1MywxLjU5OSwzLjU1MywzLjU1M1Y3Ny4wODR6IgogICAgICAgICBmaWxsPSIjRkZGRkZGIiAvPjwvZz48L2c+PC9zdmc+";
Editor.saveImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iYmxhY2siIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48cGF0aCBkPSJNMTkgMTJ2N0g1di03SDN2N2MwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0ydi03aC0yem0tNiAuNjdsMi41OS0yLjU4TDE3IDExLjVsLTUgNS01LTUgMS40MS0xLjQxTDExIDEyLjY3VjNoMnoiLz48L3N2Zz4=";Editor.globeImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTEuOTkgMkM2LjQ3IDIgMiA2LjQ4IDIgMTJzNC40NyAxMCA5Ljk5IDEwQzE3LjUyIDIyIDIyIDE3LjUyIDIyIDEyUzE3LjUyIDIgMTEuOTkgMnptNi45MyA2aC0yLjk1Yy0uMzItMS4yNS0uNzgtMi40NS0xLjM4LTMuNTYgMS44NC42MyAzLjM3IDEuOTEgNC4zMyAzLjU2ek0xMiA0LjA0Yy44MyAxLjIgMS40OCAyLjUzIDEuOTEgMy45NmgtMy44MmMuNDMtMS40MyAxLjA4LTIuNzYgMS45MS0zLjk2ek00LjI2IDE0QzQuMSAxMy4zNiA0IDEyLjY5IDQgMTJzLjEtMS4zNi4yNi0yaDMuMzhjLS4wOC42Ni0uMTQgMS4zMi0uMTQgMiAwIC42OC4wNiAxLjM0LjE0IDJINC4yNnptLjgyIDJoMi45NWMuMzIgMS4yNS43OCAyLjQ1IDEuMzggMy41Ni0xLjg0LS42My0zLjM3LTEuOS00LjMzLTMuNTZ6bTIuOTUtOEg1LjA4Yy45Ni0xLjY2IDIuNDktMi45MyA0LjMzLTMuNTZDOC44MSA1LjU1IDguMzUgNi43NSA4LjAzIDh6TTEyIDE5Ljk2Yy0uODMtMS4yLTEuNDgtMi41My0xLjkxLTMuOTZoMy44MmMtLjQzIDEuNDMtMS4wOCAyLjc2LTEuOTEgMy45NnpNMTQuMzQgMTRIOS42NmMtLjA5LS42Ni0uMTYtMS4zMi0uMTYtMiAwLS42OC4wNy0xLjM1LjE2LTJoNC42OGMuMDkuNjUuMTYgMS4zMi4xNiAyIDAgLjY4LS4wNyAxLjM0LS4xNiAyem0uMjUgNS41NmMuNi0xLjExIDEuMDYtMi4zMSAxLjM4LTMuNTZoMi45NWMtLjk2IDEuNjUtMi40OSAyLjkzLTQuMzMgMy41NnpNMTYuMzYgMTRjLjA4LS42Ni4xNC0xLjMyLjE0LTIgMC0uNjgtLjA2LTEuMzQtLjE0LTJoMy4zOGMuMTYuNjQuMjYgMS4zMS4yNiAycy0uMSAxLjM2LS4yNiAyaC0zLjM4eiIvPjwvc3ZnPg==";
Editor.commentImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuOTkgNGMwLTEuMS0uODktMi0xLjk5LTJINGMtMS4xIDAtMiAuOS0yIDJ2MTJjMCAxLjEuOSAyIDIgMmgxNGw0IDQtLjAxLTE4ek0xOCAxNEg2di0yaDEydjJ6bTAtM0g2VjloMTJ2MnptMC0zSDZWNmgxMnYyeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=";Editor.userImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMTJjMi4yMSAwIDQtMS43OSA0LTRzLTEuNzktNC00LTQtNCAxLjc5LTQgNCAxLjc5IDQgNCA0em0wIDJjLTIuNjcgMC04IDEuMzQtOCA0djJoMTZ2LTJjMC0yLjY2LTUuMzMtNC04LTR6Ii8+PC9zdmc+";
Editor.shareImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTggMTYuMDhjLS43NiAwLTEuNDQuMy0xLjk2Ljc3TDguOTEgMTIuN2MuMDUtLjIzLjA5LS40Ni4wOS0uN3MtLjA0LS40Ny0uMDktLjdsNy4wNS00LjExYy41NC41IDEuMjUuODEgMi4wNC44MSAxLjY2IDAgMy0xLjM0IDMtM3MtMS4zNC0zLTMtMy0zIDEuMzQtMyAzYzAgLjI0LjA0LjQ3LjA5LjdMOC4wNCA5LjgxQzcuNSA5LjMxIDYuNzkgOSA2IDljLTEuNjYgMC0zIDEuMzQtMyAzczEuMzQgMyAzIDNjLjc5IDAgMS41LS4zMSAyLjA0LS44MWw3LjEyIDQuMTZjLS4wNS4yMS0uMDguNDMtLjA4LjY1IDAgMS42MSAxLjMxIDIuOTIgMi45MiAyLjkyIDEuNjEgMCAyLjkyLTEuMzEgMi45Mi0yLjkycy0xLjMxLTIuOTItMi45Mi0yLjkyeiIvPjwvc3ZnPg==";
Editor.syncImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgNFYxTDggNWw0IDRWNmMzLjMxIDAgNiAyLjY5IDYgNiAwIDEuMDEtLjI1IDEuOTctLjcgMi44bDEuNDYgMS40NkMxOS41NCAxNS4wMyAyMCAxMy41NyAyMCAxMmMwLTQuNDItMy41OC04LTgtOHptMCAxNGMtMy4zMSAwLTYtMi42OS02LTYgMC0xLjAxLjI1LTEuOTcuNy0yLjhMNS4yNCA3Ljc0QzQuNDYgOC45NyA0IDEwLjQzIDQgMTJjMCA0LjQyIDMuNTggOCA4IDh2M2w0LTQtNC00djN6Ii8+PC9zdmc+";Editor.cloudImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyIDZjMi42MiAwIDQuODggMS44NiA1LjM5IDQuNDNsLjMgMS41IDEuNTMuMTFjMS41Ni4xIDIuNzggMS40MSAyLjc4IDIuOTYgMCAxLjY1LTEuMzUgMy0zIDNINmMtMi4yMSAwLTQtMS43OS00LTQgMC0yLjA1IDEuNTMtMy43NiAzLjU2LTMuOTdsMS4wNy0uMTEuNS0uOTVDOC4wOCA3LjE0IDkuOTQgNiAxMiA2bTAtMkM5LjExIDQgNi42IDUuNjQgNS4zNSA4LjA0IDIuMzQgOC4zNiAwIDEwLjkxIDAgMTRjMCAzLjMxIDIuNjkgNiA2IDZoMTNjMi43NiAwIDUtMi4yNCA1LTUgMC0yLjY0LTIuMDUtNC43OC00LjY1LTQuOTZDMTguNjcgNi41OSAxNS42NCA0IDEyIDR6Ii8+PC9zdmc+";
Editor.cloudOffImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTI0IDE1YzAtMi42NC0yLjA1LTQuNzgtNC42NS00Ljk2QzE4LjY3IDYuNTkgMTUuNjQgNCAxMiA0Yy0xLjMzIDAtMi41Ny4zNi0zLjY1Ljk3bDEuNDkgMS40OUMxMC41MSA2LjE3IDExLjIzIDYgMTIgNmMzLjA0IDAgNS41IDIuNDYgNS41IDUuNXYuNUgxOWMxLjY2IDAgMyAxLjM0IDMgMyAwIC45OS0uNDggMS44NS0xLjIxIDIuNGwxLjQxIDEuNDFjMS4wOS0uOTIgMS44LTIuMjcgMS44LTMuODF6TTQuNDEgMy44NkwzIDUuMjdsMi43NyAyLjc3aC0uNDJDMi4zNCA4LjM2IDAgMTAuOTEgMCAxNGMwIDMuMzEgMi42OSA2IDYgNmgxMS43M2wyIDIgMS40MS0xLjQxTDQuNDEgMy44NnpNNiAxOGMtMi4yMSAwLTQtMS43OS00LTRzMS43OS00IDQtNGgxLjczbDggOEg2eiIvPjwvc3ZnPg==";
Editor.calendarImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0cHgiIGZpbGw9IiMwMDAwMDAiPjxnPjxwYXRoIGQ9Ik0wLDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvZz48Zz48cGF0aCBkPSJNMjAsNEg0QzIuOSw0LDIsNC45LDIsNnYxMmMwLDEuMSwwLjksMiwyLDJoMTZjMS4xLDAsMi0wLjksMi0yVjZDMjIsNC45LDIxLjEsNCwyMCw0eiBNOCwxMUg0VjZoNFYxMXogTTE0LDExaC00VjZoNFYxMXogTTIwLDExaC00VjZoNFYxMXogTTgsMThINHYtNWg0VjE4eiBNMTQsMThoLTR2LTVoNFYxOHogTTIwLDE4aC00di01aDRWMTh6Ii8+PC9nPjwvc3ZnPg==";
Editor.syncProblemImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMyAxMmMwIDIuMjEuOTEgNC4yIDIuMzYgNS42NEwzIDIwaDZ2LTZsLTIuMjQgMi4yNEM1LjY4IDE1LjE1IDUgMTMuNjYgNSAxMmMwLTIuNjEgMS42Ny00LjgzIDQtNS42NVY0LjI2QzUuNTUgNS4xNSAzIDguMjcgMyAxMnptOCA1aDJ2LTJoLTJ2MnpNMjEgNGgtNnY2bDIuMjQtMi4yNEMxOC4zMiA4Ljg1IDE5IDEwLjM0IDE5IDEyYzAgMi42MS0xLjY3IDQuODMtNCA1LjY1djIuMDljMy40NS0uODkgNi00LjAxIDYtNy43NCAwLTIuMjEtLjkxLTQuMi0yLjM2LTUuNjRMMjEgNHptLTEwIDloMlY3aC0ydjZ6Ii8+PC9zdmc+";
Editor.tailSpin="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9Ii0yIC0yIDQ0IDQ0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSI4LjA0MiUiIHkxPSIwJSIgeDI9IjY1LjY4MiUiIHkyPSIyMy44NjUlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM4MDgwODAiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjODA4MDgwIiBzdG9wLW9wYWNpdHk9Ii42MzEiIG9mZnNldD0iNjMuMTQ2JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjODA4MDgwIiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDEpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTM2IDE4YzAtOS45NC04LjA2LTE4LTE4LTE4IiBzdHJva2U9InVybCgjYSkiIHN0cm9rZS13aWR0aD0iNiI+CiAgICAgICAgICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybQogICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIKICAgICAgICAgICAgICAgICAgICB0eXBlPSJyb3RhdGUiCiAgICAgICAgICAgICAgICAgICAgZnJvbT0iMCAxOCAxOCIKICAgICAgICAgICAgICAgICAgICB0bz0iMzYwIDE4IDE4IgogICAgICAgICAgICAgICAgICAgIGR1cj0iMC45cyIKICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4KICAgICAgICAgICAgPC9wYXRoPgogICAgICAgICAgICA8Y2lyY2xlIGZpbGw9IiM4MDgwODAiIGN4PSIzNiIgY3k9IjE4IiByPSIxIj4KICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtCiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIgogICAgICAgICAgICAgICAgICAgIHR5cGU9InJvdGF0ZSIKICAgICAgICAgICAgICAgICAgICBmcm9tPSIwIDE4IDE4IgogICAgICAgICAgICAgICAgICAgIHRvPSIzNjAgMTggMTgiCiAgICAgICAgICAgICAgICAgICAgZHVyPSIwLjlzIgogICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAvPgogICAgICAgICAgICA8L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=";
Editor.mailImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTIyIDZjMC0xLjEtLjktMi0yLTJINGMtMS4xIDAtMiAuOS0yIDJ2MTJjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY2em0tMiAwbC04IDQuOTlMNCA2aDE2em0wIDEySDRWOGw4IDUgOC01djEweiIvPjwvc3ZnPg==";Editor.cameraImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE0LjEyIDRsMS44MyAySDIwdjEySDRWNmg0LjA1bDEuODMtMmg0LjI0TTE1IDJIOUw3LjE3IDRINGMtMS4xIDAtMiAuOS0yIDJ2MTJjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY2YzAtMS4xLS45LTItMi0yaC0zLjE3TDE1IDJ6bS0zIDdjMS42NSAwIDMgMS4zNSAzIDNzLTEuMzUgMy0zIDMtMy0xLjM1LTMtMyAxLjM1LTMgMy0zbTAtMmMtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNSA1LTIuMjQgNS01LTIuMjQtNS01LTV6Ii8+PC9zdmc+";
Editor.tagsImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjE4cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE4cHgiIGZpbGw9IiMwMDAwMDAiPjxnPjxwYXRoIGQ9Ik0wLDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvZz48Zz48Zz48cGF0aCBkPSJNMjEuNDEsMTEuNDFsLTguODMtOC44M0MxMi4yMSwyLjIxLDExLjcsMiwxMS4xNywySDRDMi45LDIsMiwyLjksMiw0djcuMTdjMCwwLjUzLDAuMjEsMS4wNCwwLjU5LDEuNDFsOC44Myw4LjgzIGMwLjc4LDAuNzgsMi4wNSwwLjc4LDIuODMsMGw3LjE3LTcuMTdDMjIuMiwxMy40NiwyMi4yLDEyLjIsMjEuNDEsMTEuNDF6IE0xMi44MywyMEw0LDExLjE3VjRoNy4xN0wyMCwxMi44M0wxMi44MywyMHoiLz48Y2lyY2xlIGN4PSI2LjUiIGN5PSI2LjUiIHI9IjEuNSIvPjwvZz48L2c+PC9zdmc+";
Editor.darkModeImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHdpZHRoPSIyNCI+PHBhdGggZD0iTTEyIDIxcS0zLjc1IDAtNi4zNzUtMi42MjVUMyAxMnEwLTMuNzUgMi42MjUtNi4zNzVUMTIgM3EuMzUgMCAuNjg4LjAyNS4zMzcuMDI1LjY2Mi4wNzUtMS4wMjUuNzI1LTEuNjM3IDEuODg3UTExLjEgNi4xNSAxMS4xIDcuNXEwIDIuMjUgMS41NzUgMy44MjVRMTQuMjUgMTIuOSAxNi41IDEyLjlxMS4zNzUgMCAyLjUyNS0uNjEzIDEuMTUtLjYxMiAxLjg3NS0xLjYzNy4wNS4zMjUuMDc1LjY2MlEyMSAxMS42NSAyMSAxMnEwIDMuNzUtMi42MjUgNi4zNzVUMTIgMjFabTAtMnEyLjIgMCAzLjk1LTEuMjEyIDEuNzUtMS4yMTMgMi41NS0zLjE2My0uNS4xMjUtMSAuMi0uNS4wNzUtMSAuMDc1LTMuMDc1IDAtNS4yMzgtMi4xNjJROS4xIDEwLjU3NSA5LjEgNy41cTAtLjUuMDc1LTF0LjItMXEtMS45NS44LTMuMTYyIDIuNTVRNSA5LjggNSAxMnEwIDIuOSAyLjA1IDQuOTVROS4xIDE5IDEyIDE5Wm0tLjI1LTYuNzVaIi8+PC9zdmc+";
Editor.lightModeImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHdpZHRoPSIyNCI+PHBhdGggZD0iTTEyIDE1cTEuMjUgMCAyLjEyNS0uODc1VDE1IDEycTAtMS4yNS0uODc1LTIuMTI1VDEyIDlxLTEuMjUgMC0yLjEyNS44NzVUOSAxMnEwIDEuMjUuODc1IDIuMTI1VDEyIDE1Wm0wIDJxLTIuMDc1IDAtMy41MzctMS40NjNRNyAxNC4wNzUgNyAxMnQxLjQ2My0zLjUzOFE5LjkyNSA3IDEyIDd0My41MzggMS40NjJRMTcgOS45MjUgMTcgMTJxMCAyLjA3NS0xLjQ2MiAzLjUzN1ExNC4wNzUgMTcgMTIgMTdaTTIgMTNxLS40MjUgMC0uNzEyLS4yODhRMSAxMi40MjUgMSAxMnQuMjg4LS43MTNRMS41NzUgMTEgMiAxMWgycS40MjUgMCAuNzEzLjI4N1E1IDExLjU3NSA1IDEydC0uMjg3LjcxMlE0LjQyNSAxMyA0IDEzWm0xOCAwcS0uNDI1IDAtLjcxMi0uMjg4UTE5IDEyLjQyNSAxOSAxMnQuMjg4LS43MTNRMTkuNTc1IDExIDIwIDExaDJxLjQyNSAwIC43MTIuMjg3LjI4OC4yODguMjg4LjcxM3QtLjI4OC43MTJRMjIuNDI1IDEzIDIyIDEzWm0tOC04cS0uNDI1IDAtLjcxMi0uMjg4UTExIDQuNDI1IDExIDRWMnEwLS40MjUuMjg4LS43MTNRMTEuNTc1IDEgMTIgMXQuNzEzLjI4N1ExMyAxLjU3NSAxMyAydjJxMCAuNDI1LS4yODcuNzEyUTEyLjQyNSA1IDEyIDVabTAgMThxLS40MjUgMC0uNzEyLS4yODhRMTEgMjIuNDI1IDExIDIydi0ycTAtLjQyNS4yODgtLjcxMlExMS41NzUgMTkgMTIgMTl0LjcxMy4yODhRMTMgMTkuNTc1IDEzIDIwdjJxMCAuNDI1LS4yODcuNzEyUTEyLjQyNSAyMyAxMiAyM1pNNS42NSA3LjA1IDQuNTc1IDZxLS4zLS4yNzUtLjI4OC0uNy4wMTMtLjQyNS4yODgtLjcyNS4zLS4zLjcyNS0uM3QuNy4zTDcuMDUgNS42NXEuMjc1LjMuMjc1LjcgMCAuNC0uMjc1LjctLjI3NS4zLS42ODcuMjg3LS40MTMtLjAxMi0uNzEzLS4yODdaTTE4IDE5LjQyNWwtMS4wNS0xLjA3NXEtLjI3NS0uMy0uMjc1LS43MTIgMC0uNDEzLjI3NS0uNjg4LjI3NS0uMy42ODgtLjI4Ny40MTIuMDEyLjcxMi4yODdMMTkuNDI1IDE4cS4zLjI3NS4yODguNy0uMDEzLjQyNS0uMjg4LjcyNS0uMy4zLS43MjUuM3QtLjctLjNaTTE2Ljk1IDcuMDVxLS4zLS4yNzUtLjI4Ny0uNjg4LjAxMi0uNDEyLjI4Ny0uNzEyTDE4IDQuNTc1cS4yNzUtLjMuNy0uMjg4LjQyNS4wMTMuNzI1LjI4OC4zLjMuMy43MjV0LS4zLjdMMTguMzUgNy4wNXEtLjMuMjc1LS43LjI3NS0uNCAwLS43LS4yNzVaTTQuNTc1IDE5LjQyNXEtLjMtLjMtLjMtLjcyNXQuMy0uN2wxLjA3NS0xLjA1cS4zLS4yNzUuNzEzLS4yNzUuNDEyIDAgLjY4Ny4yNzUuMy4yNzUuMjg4LjY4OC0uMDEzLjQxMi0uMjg4LjcxMkw2IDE5LjQyNXEtLjI3NS4zLS43LjI4Ny0uNDI1LS4wMTItLjcyNS0uMjg3Wk0xMiAxMloiLz48L3N2Zz4=";
Editor.spinImage="data:image/gif;base64,R0lGODlhDAAMAPUxAEVriVp7lmCAmmGBm2OCnGmHn3OPpneSqYKbr4OcsIScsI2kto6kt46lt5KnuZmtvpquvpuvv56ywaCzwqK1xKu7yay9yq+/zLHAzbfF0bjG0bzJ1LzK1MDN18jT28nT3M3X3tHa4dTc49Xd5Njf5dng5t3k6d/l6uDm6uru8e7x8/Dz9fT29/b4+Pj5+fj5+vr6+v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkKADEAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAADAAMAAAGR8CYcEgsOgYAIax4CCQuQldrCBEsiK8VS2hoFGOrlJDA+cZQwkLnqyoJFZKviSS0ICrE0ec0jDAwIiUeGyBFGhMPFBkhZo1BACH5BAkKAC4ALAAAAAAMAAwAhVB0kFR3k1V4k2CAmmWEnW6Lo3KOpXeSqH2XrIOcsISdsImhtIqhtJCmuJGnuZuwv52wwJ+ywZ+ywqm6yLHBzbLCzrXEz7fF0LnH0rrI0r7L1b/M1sXR2cfT28rV3czW3s/Z4Nfe5Nvi6ODm6uLn6+Ln7OLo7OXq7efs7+zw8u/y9PDy9PX3+Pr7+////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZDQJdwSCxGDAIAoVFkFBwYSyIwGE4OkCJxIdG6WkJEx8sSKj7elfBB0a5SQg1EQ0SVVMPKhDM6iUIkRR4ZFxsgJl6JQQAh+QQJCgAxACwAAAAADAAMAIVGa4lcfZdjgpxkg51nhp5ui6N3kqh5lKqFnbGHn7KIoLOQp7iRp7mSqLmTqbqarr6br7+fssGitcOitcSuvsuuv8uwwMyzw861xNC5x9K6x9K/zNbDztjE0NnG0drJ1NzQ2eDS2+LT2+LV3ePZ4Oba4ebb4ufc4+jm6+7t8PLt8PPt8fPx8/Xx9PX09vf19/j3+Pn///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGQ8CYcEgsUhQFggFSjCQmnE1jcBhqGBXiIuAQSi7FGEIgfIzCFoCXFCZiPO0hKBMiwl7ET6eUYqlWLkUnISImKC1xbUEAIfkECQoAMgAsAAAAAAwADACFTnKPT3KPVHaTYoKcb4yjcY6leZSpf5mtgZuvh5+yiqG0i6K1jqW3kae5nrHBnrLBn7LCoLPCobTDqbrIqrvIs8LOtMPPtcPPtcTPuMbRucfSvcrUvsvVwMzWxdHaydTcytXdzNbezdff0drh2ODl2+Ln3eTp4Obq4ujs5Ont5uvu6O3w6u7w6u7x7/L09vj5+vr7+vv7////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABkdAmXBILHIcicOCUqxELKKPxKAYgiYd4oMAEWo8RVmjIMScwhmBcJMKXwLCECmMGAhPI1QRwBiaSixCMDFhLSorLi8wYYxCQQAh+QQJCgAxACwAAAAADAAMAIVZepVggJphgZtnhp5vjKN2kah3kqmBmq+KobSLorWNpLaRp7mWq7ybr7+gs8KitcSktsWnuManucexwM2ywc63xtG6yNO9ytS+ytW/zNbDz9jH0tvL1d3N197S2+LU3OPU3ePV3eTX3+Xa4efb4ufd5Onl6u7r7vHs7/Lt8PLw8/Xy9Pby9fb09ff2+Pn3+Pn6+vr///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGSMCYcEgseiwSR+RS7GA4JFGF8RiWNiEiJTERgkjFGAQh/KTCGoJwpApnBkITKrwoCFWnFlEhaAxXLC9CBwAGRS4wQgELYY1CQQAh+QQJCgAzACwAAAAADAAMAIVMcI5SdZFhgZtti6JwjaR4k6mAma6Cm6+KobSLorWLo7WNo7aPpredsMCescGitMOitcSmuMaqu8ixwc2zws63xdC4xtG5x9K9ytXAzdfCztjF0NnF0drK1d3M1t7P2N/P2eDT2+LX3+Xe5Onh5+vi5+vj6Ozk6e3n7O/o7O/q7vHs7/Lt8PPu8fPx8/X3+Pn6+vv7+/v8/Pz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRcCZcEgsmkIbTOZTLIlGqZNnchm2SCgiJ6IRqljFmQUiXIVnoITQde4chC9Y+LEQxmTFRkFSNFAqDAMIRQoCAAEEDmeLQQAh+QQJCgAwACwAAAAADAAMAIVXeZRefplff5lhgZtph59yjqV2kaeAmq6FnbGFnrGLorWNpLaQp7mRqLmYrb2essGgs8Klt8apusitvcquv8u2xNC7yNO8ydS8ytTAzdfBzdfM1t7N197Q2eDU3OPX3+XZ4ObZ4ebc4+jf5erg5erg5uvp7fDu8fPv8vTz9fb09vf19/j3+Pn4+fn5+vr6+/v///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRUCYcEgspkwjEKhUVJ1QsBNp0xm2VixiSOMRvlxFGAcTJook5eEHIhQcwpWIkAFQECkNy9AQWFwyEAkPRQ4FAwQIE2llQQAh+QQJCgAvACwAAAAADAAMAIVNcY5SdZFigptph6BvjKN0kKd8lquAmq+EnbGGn7KHn7ONpLaOpbearr+csMCdscCescGhtMOnuMauvsuzws60w862xdC9ytW/y9a/zNbCztjG0drH0tvK1N3M1t7N19/U3ePb4uff5urj6Ozk6e3l6u7m6u7o7PDq7vDt8PPv8vTw8vTw8/X19vf6+vv///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGQ8CXcEgsvlytVUplJLJIpSEDUESFTELBwSgCCQEV42kjDFiMo4uQsDB2MkLHoEHUTD7DRAHC8VAiZ0QSCgYIDxhNiUEAOw==";
Editor.errorImage="data:image/gif;base64,R0lGODlhEAAQAPcAAADGAIQAAISEhP8AAP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEAAAAALAAAAAAQABAAAAhoAAEIFBigYMGBCAkGGMCQ4cGECxtKHBAAYUQCEzFSHLiQgMeGHjEGEAAg4oCQJz86LCkxpEqHAkwyRClxpEyXGmGaREmTIsmOL1GO/DkzI0yOE2sKIMlRJsWhCQHENDiUaVSpS5cmDAgAOw==";
Editor.smallPlusImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDdCMTdENjVCOEM4MTFFNDlCRjVBNDdCODU5NjNBNUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDdCMTdENjZCOEM4MTFFNDlCRjVBNDdCODU5NjNBNUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowN0IxN0Q2M0I4QzgxMUU0OUJGNUE0N0I4NTk2M0E1QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowN0IxN0Q2NEI4QzgxMUU0OUJGNUE0N0I4NTk2M0E1QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtjrjmgAAAAtSURBVHjaYvz//z8DMigvLwcLdHZ2MiKLMzEQCaivkLGsrOw/dU0cAr4GCDAARQsQbTFrv10AAAAASUVORK5CYII=";
Editor.hiResImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAA+CAMAAACLMWy1AAAAh1BMVEUAAABMTExERERBQUFBQUFFRUVAQEBCQkJAQEA6OjpDQ0NKSkpBQUFBQUFERERERERBQUFCQkJCQkJCQkJJSUlBQUFCQkJDQ0NDQ0NCQkJDQ0NBQUFBQUFCQkJBQUFCQkJCQkJDQ0NCQkJHR0dBQUFCQkJCQkJAQEBCQkJDQ0NAQEBERERCQkIk1hS2AAAAKnRSTlMAAjj96BL7PgQFRwfu3TYazKuVjRXl1V1DPCn1uLGjnWNVIgy9hU40eGqPkM38AAACG0lEQVRYw+2X63KbMBCFzwZblgGDceN74muatpLe//m6MHV3gHGFAv2RjM94MAbxzdnVsQbBDKwH8AH8MDAyafzjqYeyOG04XE7RS8nIRDXg6BlT+rA0nmtAPh+NQRDxIASIMG44rAMrGunBgHwy3uUldxggIStGKp2f+DQc2O4h4eQsX3O2IFB/oEbsjOKbStnjAEA+zJ0ylZTbgvoDn8xNyn6Dbj5Kd4GsNpABa6duQPfSdEj88TgMAhKuCWjAkgmFXPLnsD0pWd3OFGdrMugQII/eOMPEiGOzqPMIeWrcSoMCg71W1pXBPvCP+gS/OdXqQ3uW23+93XGWLl/OaBb805bNcBPoEIcVJsnHzcxpZH86u5KZ9gDby5dQCcnKqdbke4ItI4Tzd7IW9hZQt4EO6GG9b9sYuuK9Wwn8TIr2xKbF2+3Nhr+qxChJ/AI6pIfCu4z4Zowp4ZUNihz79vewzctnHDwTvQO/hCdFBzrUGDOPn2Y/F8YKT4oOATLvlhOznzmBSdFBJWtc58y7r+UVFOCQczy3wpN6pegDqHtsCPTGvH9JuTO0Dyg8icldYPk+RB6g8Aofj4m2EKBvtTmUPD9xDd1pPcSReV2U5iD/ik2yrngtvvqBfPzOvKiDTKTsCdoHZJ7pLLffgTwlJ5vJdtJV2/jiAYaLvLGhMAEDO5QcDg2M/jOw/8Zn+K3ZwJvHT7ZffgC/NvA3zcybTeIfE4EAAAAASUVORK5CYII=";
Editor.loResImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAA+CAMAAACLMWy1AAAAS1BMVEVAQEAAAAA1NTVBQUFDQ0NDQ0NFRUVERERBQUFBQUFBQUFAQEBBQUFBQUFCQkJCQkJCQkJBQUFCQkJDQ0NDQ0NCQkJCQkJCQkJGRkb5/XqTAAAAGXRSTlP+AAWODlASCsesX+Lc2LyWe3pwa1tCPjohjSJfoAAAAI1JREFUWMPt1MkKhTAMRuG0anvneXr/J71nUypKcdqI/N8yhLMKMZE1CahnClDQzMPB44ED3EgeCubgDWnWQMHpwTtKwTe+UHD4sJ94wbUEHHFGhILlYDeSnsQeabeCgsPBgB0MOZZ9oGA5GJFiJSfUULAfjLjARrhCwX7wh2YCDwVbwZkUBKqFFJRN+wOcwSgR2sREcgAAAABJRU5ErkJggg==";Editor.blankImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==";
Editor.facebookImage=IMAGE_PATH+"/facebook.png";Editor.tweetImage=IMAGE_PATH+"/tweet.png";Editor.svgBrokenImage=Graph.createSvgImage(10,10,'<rect x="0" y="0" width="10" height="10" stroke="#000" fill="transparent"/><path d="m 0 0 L 10 10 L 0 10 L 10 0" stroke="#000" fill="transparent"/>');Editor.configurationKey=".configuration";Editor.settingsKey=".drawio-config";Editor.defaultCustomLibraries=[];Editor.enableCustomLibraries=!0;Editor.enableUncompressedLibraries=!1;Editor.enableCustomProperties=!0;
Editor.enableSimpleTheme=!0;Editor.enableHashObjects=!mxClient.IS_CHROMEAPP&&!EditorUi.isElectronApp&&"1"!=urlParams.embed&&window.top==window.self;Editor.defaultIncludeDiagram=!0;Editor.enableServiceWorker="0"!=urlParams.pwa&&"serviceWorker"in navigator&&("1"==urlParams.offline||/.*\.diagrams\.net$/.test(window.location.hostname)||/.*\.draw\.io$/.test(window.location.hostname));Editor.enableWebFonts="1"!=urlParams["safe-style-src"]&&!window.mxIsElectron;Editor.enableShadowOption=!mxClient.IS_SF;
Editor.enableExportUrl=!0;Editor.enableRealtime=!0;Editor.enableRealtimeCache=!0;Editor.p2pSyncNotify=!1;Editor.compressXml=!0;Editor.defaultCompressed=!1;Editor.oneDriveInlinePicker=null!=window.urlParams&&"0"==window.urlParams.inlinePicker?!1:!0;Editor.globalVars=null;Editor.defaultBorder=5;Editor.gptApiKey=null!=urlParams["gpt-api-key"]?decodeURIComponent(urlParams["gpt-api-key"]):null;Editor.gptModel=null!=urlParams["gpt-model"]?decodeURIComponent(urlParams["gpt-model"]):"gpt-3.5-turbo";Editor.gptUrl=
null!=urlParams["gpt-url"]?decodeURIComponent(urlParams["gpt-url"]):"https://api.openai.com/v1/chat/completions";Editor.replaceSvgDataUris=!0;Editor.foreignObjectImages=!0;Editor.svgRasterScale=4;Editor.htmlRasterScale=4;Editor.config=null;Editor.configVersion=null;Editor.commonProperties=[{name:"enumerate",dispName:"Enumerate",type:"bool",defVal:!1,onChange:function($graph$$){$graph$$.refresh()}},{name:"enumerateValue",dispName:"Enumerate Value",type:"string",defVal:"",isVisible:function($state$$,
$format$$){return"1"==mxUtils.getValue($state$$.style,"enumerate","0")}},{name:"comic",dispName:"Comic",type:"bool",defVal:!1,isVisible:function($state$$,$format$$){return"1"!=mxUtils.getValue($state$$.style,"sketch","0")}},{name:"jiggle",dispName:"Jiggle",type:"float",min:0,defVal:1,isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"comic","0")||"1"==mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"fillWeight",dispName:"Fill Weight",
type:"int",defVal:-1,isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?"1":"0")&&0<$state$$.vertices.length}},{name:"hachureGap",dispName:"Hachure Gap",type:"int",defVal:-1,isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?"1":"0")&&0<$state$$.vertices.length}},{name:"hachureAngle",dispName:"Hachure Angle",type:"int",defVal:-41,isVisible:function($state$$,$format$$){return"1"==
mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?"1":"0")&&0<$state$$.vertices.length}},{name:"curveFitting",dispName:"Curve Fitting",type:"float",defVal:.95,isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"simplification",dispName:"Simplification",type:"float",defVal:0,min:0,max:1,isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"disableMultiStroke",
dispName:"Disable Multi Stroke",type:"bool",defVal:!1,isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"disableMultiStrokeFill",dispName:"Disable Multi Stroke Fill",type:"bool",defVal:!1,isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?"1":"0")&&0<$state$$.vertices.length}},{name:"dashOffset",dispName:"Dash Offset",type:"int",defVal:-1,isVisible:function($state$$,
$format$$){return"1"==mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?"1":"0")&&0<$state$$.vertices.length}},{name:"dashGap",dispName:"Dash Gap",type:"int",defVal:-1,isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?"1":"0")&&0<$state$$.vertices.length}},{name:"zigzagOffset",dispName:"ZigZag Offset",type:"int",defVal:-1,isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?
"1":"0")&&0<$state$$.vertices.length}},{name:"sketchStyle",dispName:"Sketch Style",type:"enum",defVal:"rough",enumList:[{val:"rough",dispName:"Rough"},{val:"comic",dispName:"Comic"}],isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:mxConstants.STYLE_SHADOW,dispName:mxResources.get("Shadow"),type:"bool",defVal:!1,isVisible:function($state$$,$format$$){return $state$$.containsLabel},onChange:function($graph$$,$value$$){$graph$$.setCellStyles(mxConstants.STYLE_TEXT_SHADOW,
$value$$,$graph$$.getSelectionCells())}},{name:mxConstants.STYLE_TEXT_SHADOW,dispName:"Text Shadow",type:"bool",defVal:!1,isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"shadow","0")}},{name:mxConstants.STYLE_SHADOWCOLOR,dispName:"Shadow Color",type:"color",getDefaultValue:function(){return mxConstants.SHADOWCOLOR},isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"shadow","0")}},{name:mxConstants.STYLE_SHADOW_OPACITY,dispName:"Shadow Opacity",
type:"int",min:0,max:100,getDefaultValue:function(){return 100*mxConstants.SHADOW_OPACITY},isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"shadow","0")}},{name:mxConstants.STYLE_SHADOW_OFFSET_X,dispName:"Shadow Offset X",type:"int",getDefaultValue:function(){return mxConstants.SHADOW_OFFSET_X},isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"shadow","0")}},{name:mxConstants.STYLE_SHADOW_OFFSET_Y,dispName:"Shadow Offset Y",type:"int",
getDefaultValue:function(){return mxConstants.SHADOW_OFFSET_Y},isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"shadow","0")}},{name:mxConstants.STYLE_SHADOW_BLUR,dispName:"Shadow Blur",type:"int",min:0,getDefaultValue:function(){return mxConstants.SHADOW_BLUR},isVisible:function($state$$,$format$$){return"1"==mxUtils.getValue($state$$.style,"shadow","0")}}];Editor.commonEdgeProperties=[{type:"separator"},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},
{name:"sourcePortConstraint",dispName:"Source Constraint",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"None"},{val:"north",dispName:"North"},{val:"east",dispName:"East"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"targetPortConstraint",dispName:"Target Constraint",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"None"},{val:"north",dispName:"North"},{val:"east",dispName:"East"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"jettySize",
dispName:"Jetty Size",type:"int",min:0,defVal:"auto",allowAuto:!0,isVisible:function($state$$){return"orthogonalEdgeStyle"==mxUtils.getValue($state$$.style,mxConstants.STYLE_EDGE,null)}},{name:"segment",dispName:"Segment Size",type:"int",min:0,defVal:mxConstants.ENTITY_SEGMENT,isVisible:function($state$$){return"entityRelationEdgeStyle"==mxUtils.getValue($state$$.style,mxConstants.STYLE_EDGE,null)}},{name:"fillOpacity",dispName:"Fill Opacity",type:"int",min:0,max:100,defVal:100},{name:"strokeOpacity",
dispName:"Stroke Opacity",type:"int",min:0,max:100,defVal:100},{name:"startFill",dispName:"Start Fill",type:"bool",defVal:!0},{name:"endFill",dispName:"End Fill",type:"bool",defVal:!0},{name:"perimeterSpacing",dispName:"Terminal Spacing",type:"float",defVal:0},{name:"anchorPointDirection",dispName:"Anchor Direction",type:"bool",defVal:!0},{name:"snapToPoint",dispName:"Snap to Point",type:"bool",defVal:!1},{name:"dashPattern",dispName:"Dash Pattern",type:"numbers",defVal:""},{name:"fixDash",dispName:"Fixed Dash",
type:"bool",defVal:!1},{name:"flowAnimationDuration",dispName:"Flow Duration",type:"int",defVal:500,isVisible:function($state$$){return"1"==mxUtils.getValue($state$$.style,"flowAnimation",null)}},{name:"flowAnimationTimingFunction",dispName:"Flow Timing",type:"enum",defVal:"linear",enumList:[{val:"linear",dispName:"Linear"},{val:"ease",dispName:"Ease"},{val:"ease-in",dispName:"Ease-in"},{val:"ease-out",dispName:"Ease-out"},{val:"ease-in-out",dispName:"Ease-in-out"}],isVisible:function($state$$){return"1"==
mxUtils.getValue($state$$.style,"flowAnimation",null)}},{name:"flowAnimationDirection",dispName:"Flow Direction",type:"enum",defVal:"normal",enumList:[{val:"normal",dispName:"Normal"},{val:"reverse",dispName:"Reverse"},{val:"alternate",dispName:"Alternate"},{val:"alternate-reverse",dispName:"Alternate-Reverse"}],isVisible:function($state$$){return"1"==mxUtils.getValue($state$$.style,"flowAnimation",null)}},{name:"editable",dispName:"Editable",type:"bool",defVal:!0},{name:"metaEdit",dispName:"Edit Dialog",
type:"bool",defVal:!1},{name:"backgroundOutline",dispName:"Background Outline",type:"bool",defVal:!1},{name:"bendable",dispName:"Bendable",type:"bool",defVal:!0},{name:"movable",dispName:"Movable",type:"bool",defVal:!0},{name:"cloneable",dispName:"Cloneable",type:"bool",defVal:!0},{name:"deletable",dispName:"Deletable",type:"bool",defVal:!0},{name:"noJump",dispName:"No Jumps",type:"bool",defVal:!1},{name:"ignoreEdge",dispName:"Ignore Edge",type:"bool",defVal:!1},{name:"orthogonalLoop",dispName:"Loop Routing",
type:"bool",defVal:!1},{name:"orthogonal",dispName:"Orthogonal",type:"bool",defVal:!1}].concat(Editor.commonProperties);Editor.commonVertexProperties=[{name:"colspan",dispName:"Colspan",type:"int",min:1,defVal:1,isVisible:function($state$$,$format$jscomp$43_graph$$){$format$jscomp$43_graph$$=$format$jscomp$43_graph$$.editorUi.editor.graph;return 1==$state$$.vertices.length&&0==$state$$.edges.length&&$format$jscomp$43_graph$$.isTableCell($state$$.vertices[0])}},{name:"rowspan",dispName:"Rowspan",type:"int",
min:1,defVal:1,isVisible:function($state$$,$format$jscomp$44_graph$$){$format$jscomp$44_graph$$=$format$jscomp$44_graph$$.editorUi.editor.graph;return 1==$state$$.vertices.length&&0==$state$$.edges.length&&$format$jscomp$44_graph$$.isTableCell($state$$.vertices[0])}},{type:"separator"},{name:"resizeLastRow",dispName:"Resize Last Row",type:"bool",getDefaultValue:function($state$jscomp$155_style$$,$format$$){$state$jscomp$155_style$$=$format$$.editorUi.editor.graph.getCellStyle(1==$state$jscomp$155_style$$.vertices.length&&
0==$state$jscomp$155_style$$.edges.length?$state$jscomp$155_style$$.vertices[0]:null);return"1"==mxUtils.getValue($state$jscomp$155_style$$,"resizeLastRow","0")},isVisible:function($state$$,$format$jscomp$46_graph$$){$format$jscomp$46_graph$$=$format$jscomp$46_graph$$.editorUi.editor.graph;return 1==$state$$.vertices.length&&0==$state$$.edges.length&&$format$jscomp$46_graph$$.isTable($state$$.vertices[0])}},{name:"resizeLast",dispName:"Resize Last Column",type:"bool",getDefaultValue:function($state$jscomp$157_style$$,
$format$$){$state$jscomp$157_style$$=$format$$.editorUi.editor.graph.getCellStyle(1==$state$jscomp$157_style$$.vertices.length&&0==$state$jscomp$157_style$$.edges.length?$state$jscomp$157_style$$.vertices[0]:null);return"1"==mxUtils.getValue($state$jscomp$157_style$$,"resizeLast","0")},isVisible:function($state$$,$format$jscomp$48_graph$$){$format$jscomp$48_graph$$=$format$jscomp$48_graph$$.editorUi.editor.graph;return 1==$state$$.vertices.length&&0==$state$$.edges.length&&$format$jscomp$48_graph$$.isTable($state$$.vertices[0])}},
{name:"fillOpacity",dispName:"Fill Opacity",type:"int",min:0,max:100,defVal:100},{name:"strokeOpacity",dispName:"Stroke Opacity",type:"int",min:0,max:100,defVal:100},{name:"overflow",dispName:"Text Overflow",defVal:"visible",type:"enum",enumList:[{val:"visible",dispName:"Visible"},{val:"hidden",dispName:"Hidden"},{val:"block",dispName:"Block"},{val:"fill",dispName:"Fill"},{val:"width",dispName:"Width"}]},{name:"noLabel",dispName:"Hide Label",type:"bool",defVal:!1},{name:"labelPadding",dispName:"Label Padding",
type:"float",defVal:0},{name:"direction",dispName:"Direction",type:"enum",defVal:"east",enumList:[{val:"north",dispName:"North"},{val:"east",dispName:"East"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"portConstraint",dispName:"Constraint",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"None"},{val:"north",dispName:"North"},{val:"east",dispName:"East"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"portConstraintRotation",dispName:"Rotate Constraint",
type:"bool",defVal:!1},{name:"connectable",dispName:"Connectable",type:"bool",getDefaultValue:function($state$$,$format$$){return $format$$.editorUi.editor.graph.isCellConnectable(0<$state$$.vertices.length&&0==$state$$.edges.length?$state$$.vertices[0]:null)},isVisible:function($state$$,$format$$){return 0<$state$$.vertices.length&&0==$state$$.edges.length}},{name:"allowArrows",dispName:"Allow Arrows",type:"bool",defVal:!0},{name:"snapToPoint",dispName:"Snap to Point",type:"bool",defVal:!1},{name:"perimeter",
dispName:"Perimeter",defVal:"none",type:"enum",enumList:[{val:"none",dispName:"None"},{val:"rectanglePerimeter",dispName:"Rectangle"},{val:"ellipsePerimeter",dispName:"Ellipse"},{val:"rhombusPerimeter",dispName:"Rhombus"},{val:"trianglePerimeter",dispName:"Triangle"},{val:"hexagonPerimeter2",dispName:"Hexagon"},{val:"lifelinePerimeter",dispName:"Lifeline"},{val:"orthogonalPerimeter",dispName:"Orthogonal"},{val:"backbonePerimeter",dispName:"Backbone"},{val:"calloutPerimeter",dispName:"Callout"},{val:"parallelogramPerimeter",
dispName:"Parallelogram"},{val:"trapezoidPerimeter",dispName:"Trapezoid"},{val:"stepPerimeter",dispName:"Step"},{val:"centerPerimeter",dispName:"Center"}]},{name:"fixDash",dispName:"Fixed Dash",type:"bool",defVal:!1},{name:"container",dispName:"Container",type:"bool",getDefaultValue:function($cell$jscomp$143_state$$,$format$jscomp$51_graph$$){$cell$jscomp$143_state$$=1==$cell$jscomp$143_state$$.vertices.length&&0==$cell$jscomp$143_state$$.edges.length?$cell$jscomp$143_state$$.vertices[0]:null;$format$jscomp$51_graph$$=
$format$jscomp$51_graph$$.editorUi.editor.graph;return null!=$cell$jscomp$143_state$$&&$format$jscomp$51_graph$$.isSwimlane($cell$jscomp$143_state$$)},isVisible:function($state$$,$format$$){return 1==$state$$.vertices.length&&0==$state$$.edges.length}},{name:"dropTarget",dispName:"Drop Target",type:"bool",getDefaultValue:function($cell$jscomp$144_state$$,$format$jscomp$53_graph$$){$cell$jscomp$144_state$$=1==$cell$jscomp$144_state$$.vertices.length&&0==$cell$jscomp$144_state$$.edges.length?$cell$jscomp$144_state$$.vertices[0]:
null;$format$jscomp$53_graph$$=$format$jscomp$53_graph$$.editorUi.editor.graph;return null!=$cell$jscomp$144_state$$&&($format$jscomp$53_graph$$.isSwimlane($cell$jscomp$144_state$$)||0<$format$jscomp$53_graph$$.model.getChildCount($cell$jscomp$144_state$$))},isVisible:function($state$$,$format$$){return 1==$state$$.vertices.length&&0==$state$$.edges.length}},{name:"collapsible",dispName:"Collapsible",type:"bool",getDefaultValue:function($state$$,$format$jscomp$55_graph$$){var $cell$$=1==$state$$.vertices.length&&
0==$state$$.edges.length?$state$$.vertices[0]:null;$format$jscomp$55_graph$$=$format$jscomp$55_graph$$.editorUi.editor.graph;return null!=$cell$$&&($format$jscomp$55_graph$$.isContainer($cell$$)&&"0"!=$state$$.style.collapsible||!$format$jscomp$55_graph$$.isContainer($cell$$)&&"1"==$state$$.style.collapsible)},isVisible:function($state$$,$format$$){return 1==$state$$.vertices.length&&0==$state$$.edges.length}},{name:"recursiveResize",dispName:"Resize Children",type:"bool",defVal:!0,isVisible:function($state$$,
$format$$){return 1==$state$$.vertices.length&&0==$state$$.edges.length&&!$format$$.editorUi.editor.graph.isSwimlane($state$$.vertices[0])&&null==mxUtils.getValue($state$$.style,"childLayout",null)}},{name:"expand",dispName:"Expand",type:"bool",defVal:!0},{name:"part",dispName:"Part",type:"bool",defVal:!1,isVisible:function($state$$,$format$jscomp$58_model$$){$format$jscomp$58_model$$=$format$jscomp$58_model$$.editorUi.editor.graph.model;return 0<$state$$.vertices.length?$format$jscomp$58_model$$.isVertex($format$jscomp$58_model$$.getParent($state$$.vertices[0])):
!1}},{name:"editable",dispName:"Editable",type:"bool",defVal:!0},{name:"metaEdit",dispName:"Edit Dialog",type:"bool",defVal:!1},{name:"backgroundOutline",dispName:"Background Outline",type:"bool",defVal:!1},{name:"movable",dispName:"Movable",type:"bool",defVal:!0},{name:"movableLabel",dispName:"Movable Label",type:"bool",defVal:!1,isVisible:function($geo$jscomp$50_state$$,$format$$){$geo$jscomp$50_state$$=0<$geo$jscomp$50_state$$.vertices.length?$format$$.editorUi.editor.graph.getCellGeometry($geo$jscomp$50_state$$.vertices[0]):
null;return null!=$geo$jscomp$50_state$$&&!$geo$jscomp$50_state$$.relative}},{name:"autosize",dispName:"Autosize",type:"bool",defVal:!1},{name:"fixedWidth",dispName:"Fixed Width",type:"bool",defVal:!1},{name:"resizable",dispName:"Resizable",type:"bool",defVal:!0},{name:"resizeWidth",dispName:"Resize Width",type:"bool",defVal:!1},{name:"resizeHeight",dispName:"Resize Height",type:"bool",defVal:!1},{name:"rotatable",dispName:"Rotatable",type:"bool",defVal:!0},{name:"cloneable",dispName:"Cloneable",
type:"bool",defVal:!0},{name:"deletable",dispName:"Deletable",type:"bool",defVal:!0},{name:"treeFolding",dispName:"Tree Folding",type:"bool",defVal:!1},{name:"treeMoving",dispName:"Tree Moving",type:"bool",defVal:!1},{name:"pointerEvents",dispName:"Pointer Events",type:"bool",defVal:!0,isVisible:function($state$$,$format$$){var $fillColor$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_FILLCOLOR,null);return $format$$.editorUi.editor.graph.isSwimlane($state$$.vertices[0])||null==$fillColor$$||
$fillColor$$==mxConstants.NONE||0==mxUtils.getValue($state$$.style,mxConstants.STYLE_FILL_OPACITY,100)||0==mxUtils.getValue($state$$.style,mxConstants.STYLE_OPACITY,100)||null!=$state$$.style.pointerEvents}},{name:"moveCells",dispName:"Move Cells on Fold",type:"bool",defVal:!1,isVisible:function($state$$,$format$$){return 0<$state$$.vertices.length&&$format$$.editorUi.editor.graph.isContainer($state$$.vertices[0])}}].concat(Editor.commonProperties);Editor.defaultCsvValue='##\n## Example CSV import. Use ## for comments and # for configuration. Paste CSV below.\n## The following names are reserved and should not be used (or ignored):\n## id, tooltip, placeholder(s), link and label (see below)\n##\n#\n## Node label with placeholders and HTML.\n## Default is \'%name_of_first_column%\'.\n#\n# label: %name%<br><i style="color:gray;">%position%</i><br><a href="mailto:%email%">Email</a>\n#\n## Node style (placeholders are replaced once).\n## Default is the current style for nodes.\n#\n# style: label;image=%image%;whiteSpace=wrap;html=1;rounded=1;fillColor=%fill%;strokeColor=%stroke%;\n#\n## Parent style for nodes with child nodes (placeholders are replaced once).\n#\n# parentstyle: swimlane;whiteSpace=wrap;html=1;childLayout=stackLayout;horizontal=1;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;\n#\n## Style to be used for objects not in the CSV. If this is - then such objects are ignored,\n## else they are created using this as their style, eg. whiteSpace=wrap;html=1;\n#\n# unknownStyle: -\n#\n## Optional column name that contains a reference to a named style in styles.\n## Default is the current style for nodes.\n#\n# stylename: -\n#\n## JSON for named styles of the form {"name": "style", "name": "style"} where style is a cell style with\n## placeholders that are replaced once.\n#\n# styles: -\n#\n## JSON for variables in styles of the form {"name": "value", "name": "value"} where name is a string\n## that will replace a placeholder in a style.\n#\n# vars: -\n#\n## Optional column name that contains a reference to a named label in labels.\n## Default is the current label.\n#\n# labelname: -\n#\n## JSON for named labels of the form {"name": "label", "name": "label"} where label is a cell label with\n## placeholders.\n#\n# labels: -\n#\n## Uses the given column name as the identity for cells (updates existing cells).\n## Default is no identity (empty value or -).\n#\n# identity: -\n#\n## Uses the given column name as the parent reference for cells. Default is no parent (empty or -).\n## The identity above is used for resolving the reference so it must be specified.\n#\n# parent: -\n#\n## Adds a prefix to the identity of cells to make sure they do not collide with existing cells (whose\n## IDs are numbers from 0..n, sometimes with a GUID prefix in the context of realtime collaboration).\n## Default is csvimport-.\n#\n# namespace: csvimport-\n#\n## Connections between rows ("from": source colum, "to": target column).\n## Label, style and invert are optional. Defaults are \'\', current style and false.\n## If placeholders are used in the style, they are replaced with data from the source.\n## An optional placeholders can be set to target to use data from the target instead.\n## In addition to label, an optional fromlabel and tolabel can be used to name the column\n## that contains the text for the label in the edges source or target (invert ignored).\n## In addition to those, an optional source and targetlabel can be used to specify a label\n## that contains placeholders referencing the respective columns in the source or target row.\n## The label is created in the form fromlabel + sourcelabel + label + tolabel + targetlabel.\n## Additional labels can be added by using an optional labels array with entries of the\n## form {"label": string, "x": number, "y": number, "dx": number, "dy": number} where\n## x is from -1 to 1 along the edge, y is orthogonal, and dx/dy are offsets in pixels.\n## An optional placeholders with the string value "source" or "target" can be specified\n## to replace placeholders in the additional label with data from the source or target.\n## An optional data object can be specified to define the metadata for the connector.\n## The target column may contain a comma-separated list of values.\n## Multiple connect entries are allowed.\n#\n# connect: {"from": "manager", "to": "name", "invert": true, "label": "manages", \\\n#          "style": "curved=1;endArrow=blockThin;endFill=1;fontSize=11;"}\n# connect: {"from": "refs", "to": "id", "style": "curved=1;fontSize=11;"}\n#\n## Node x-coordinate. Possible value is a column name. Default is empty. Layouts will\n## override this value.\n#\n# left: \n#\n## Node y-coordinate. Possible value is a column name. Default is empty. Layouts will\n## override this value.\n#\n# top: \n#\n## Node width. Possible value is a number (in px), auto or an @ sign followed by a column\n## name that contains the value for the width. Default is auto.\n#\n# width: auto\n#\n## Node height. Possible value is a number (in px), auto, width or an @ sign followed by a column\n## name that contains the value for the height. Default is auto.\n#\n# height: auto\n#\n## Collapsed state for vertices. Possible values are true or false. Default is false.\n#\n# collapsed: false\n#\n## Padding for autosize. Default is 0.\n#\n# padding: -12\n#\n## Comma-separated list of ignored columns for metadata. (These can be\n## used for connections and styles but will not be added as metadata.)\n#\n# ignore: id,image,fill,stroke,refs,manager\n#\n## Column to be renamed to link attribute (used as link).\n#\n# link: url\n#\n## Spacing between nodes. Default is 40.\n#\n# nodespacing: 40\n#\n## Spacing between levels of hierarchical layouts. Default is 100.\n#\n# levelspacing: 100\n#\n## Spacing between parallel edges. Default is 40. Use 0 to disable.\n#\n# edgespacing: 40\n#\n## Name or JSON of layout. Possible values are auto, none, verticaltree, horizontaltree,\n## verticalflow, horizontalflow, organic, circle, orgchart or a JSON string as used in\n## Layout, Apply. Default is auto.\n#\n# layout: auto\n#\n## ---- CSV below this line. First line are column names. ----\nname,position,id,location,manager,email,fill,stroke,refs,url,image\nTessa Miller,CFO,emi,Office 1,,me@example.com,default,#6c8ebf,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-3-128.png\nEdward Morrison,Brand Manager,emo,Office 2,Tessa Miller,me@example.com,default,#82b366,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-10-3-128.png\nAlison Donovan,System Admin,rdo,Office 3,Tessa Miller,me@example.com,default,#82b366,"emo,tva",https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-2-128.png\nEvan Valet,HR Director,tva,Office 4,Tessa Miller,me@example.com,default,#82b366,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-9-2-128.png\n';
Editor.createRoughCanvas=function($c$$){var $rc$$=rough.canvas({getContext:function(){return $c$$}});$rc$$.draw=function($drawable_o$$){var $sets$$=$drawable_o$$.sets||[];$drawable_o$$=$drawable_o$$.options||this.getDefaultOptions();for(var $i$$=0;$i$$<$sets$$.length;$i$$++){var $drawing$$=$sets$$[$i$$];switch($drawing$$.type){case "path":null!=$drawable_o$$.stroke&&this._drawToContext($c$$,$drawing$$,$drawable_o$$);break;case "fillPath":this._drawToContext($c$$,$drawing$$,$drawable_o$$);break;case "fillSketch":this.fillSketch($c$$,
$drawing$$,$drawable_o$$)}}};$rc$$.fillSketch=function($ctx$$,$drawing$$,$o$$){var $strokeColor$$=$c$$.state.strokeColor,$strokeWidth$$=$c$$.state.strokeWidth,$strokeAlpha$$=$c$$.state.strokeAlpha,$dashed$$=$c$$.state.dashed,$fweight$$=$o$$.fillWeight;0>$fweight$$&&($fweight$$=$o$$.strokeWidth/2);$c$$.setStrokeAlpha($c$$.state.fillAlpha);$c$$.setStrokeColor($o$$.fill||"");$c$$.setStrokeWidth($fweight$$);$c$$.setDashed(!1);this._drawToContext($ctx$$,$drawing$$,$o$$);$c$$.setDashed($dashed$$);$c$$.setStrokeWidth($strokeWidth$$);
$c$$.setStrokeColor($strokeColor$$);$c$$.setStrokeAlpha($strokeAlpha$$)};$rc$$._drawToContext=function($ctx$$,$drawing$$,$o$$){$ctx$$.begin();for(var $i$$=0;$i$$<$drawing$$.ops.length;$i$$++){var $item$$=$drawing$$.ops[$i$$],$data$$=$item$$.data;switch($item$$.op){case "move":$ctx$$.moveTo($data$$[0],$data$$[1]);break;case "bcurveTo":$ctx$$.curveTo($data$$[0],$data$$[1],$data$$[2],$data$$[3],$data$$[4],$data$$[5]);break;case "lineTo":$ctx$$.lineTo($data$$[0],$data$$[1])}}$ctx$$.end();"fillPath"===
$drawing$$.type&&$o$$.filled?$ctx$$.fill():$ctx$$.stroke()};return $rc$$};(function(){function $RoughCanvas$$($canvas$$,$rc$$,$shape$$){this.canvas=$canvas$$;this.rc=$rc$$;this.shape=$shape$$;this.canvas.setLineJoin("round");this.canvas.setLineCap("round");this.originalBegin=this.canvas.begin;this.canvas.begin=mxUtils.bind(this,$RoughCanvas$$.prototype.begin);this.originalEnd=this.canvas.end;this.canvas.end=mxUtils.bind(this,$RoughCanvas$$.prototype.end);this.originalRect=this.canvas.rect;this.canvas.rect=
mxUtils.bind(this,$RoughCanvas$$.prototype.rect);this.originalRoundrect=this.canvas.roundrect;this.canvas.roundrect=mxUtils.bind(this,$RoughCanvas$$.prototype.roundrect);this.originalEllipse=this.canvas.ellipse;this.canvas.ellipse=mxUtils.bind(this,$RoughCanvas$$.prototype.ellipse);this.originalLineTo=this.canvas.lineTo;this.canvas.lineTo=mxUtils.bind(this,$RoughCanvas$$.prototype.lineTo);this.originalMoveTo=this.canvas.moveTo;this.canvas.moveTo=mxUtils.bind(this,$RoughCanvas$$.prototype.moveTo);
this.originalQuadTo=this.canvas.quadTo;this.canvas.quadTo=mxUtils.bind(this,$RoughCanvas$$.prototype.quadTo);this.originalCurveTo=this.canvas.curveTo;this.canvas.curveTo=mxUtils.bind(this,$RoughCanvas$$.prototype.curveTo);this.originalArcTo=this.canvas.arcTo;this.canvas.arcTo=mxUtils.bind(this,$RoughCanvas$$.prototype.arcTo);this.originalClose=this.canvas.close;this.canvas.close=mxUtils.bind(this,$RoughCanvas$$.prototype.close);this.originalFill=this.canvas.fill;this.canvas.fill=mxUtils.bind(this,
$RoughCanvas$$.prototype.fill);this.originalStroke=this.canvas.stroke;this.canvas.stroke=mxUtils.bind(this,$RoughCanvas$$.prototype.stroke);this.originalFillAndStroke=this.canvas.fillAndStroke;this.canvas.fillAndStroke=mxUtils.bind(this,$RoughCanvas$$.prototype.fillAndStroke);this.path=[];this.passThrough=!1}$RoughCanvas$$.prototype.moveOp="M";$RoughCanvas$$.prototype.lineOp="L";$RoughCanvas$$.prototype.quadOp="Q";$RoughCanvas$$.prototype.curveOp="C";$RoughCanvas$$.prototype.closeOp="Z";$RoughCanvas$$.prototype.getStyle=
function($gradient_stroke$$,$bg$jscomp$6_fill$$){var $seed_style$$=1;if(null!=this.shape.state){var $defs_str$$=this.shape.state.cell.id;if(null!=$defs_str$$)for(var $i$$=0;$i$$<$defs_str$$.length;$i$$++)$seed_style$$=($seed_style$$<<5)-$seed_style$$+$defs_str$$.charCodeAt($i$$)<<0}$seed_style$$={strokeWidth:this.canvas.state.strokeWidth,seed:$seed_style$$,preserveVertices:!0};$defs_str$$=this.rc.getDefaultOptions();$seed_style$$.stroke=$gradient_stroke$$?this.canvas.state.strokeColor===mxConstants.NONE?
"transparent":this.canvas.state.strokeColor:mxConstants.NONE;$gradient_stroke$$=null;($seed_style$$.filled=$bg$jscomp$6_fill$$)?($seed_style$$.fill=this.canvas.state.fillColor===mxConstants.NONE?"":this.canvas.state.fillColor,$gradient_stroke$$=this.canvas.state.gradientColor===mxConstants.NONE?null:this.canvas.state.gradientColor):$seed_style$$.fill="";$seed_style$$.bowing=mxUtils.getValue(this.shape.style,"bowing",$defs_str$$.bowing);$seed_style$$.hachureAngle=mxUtils.getValue(this.shape.style,
"hachureAngle",$defs_str$$.hachureAngle);$seed_style$$.curveFitting=mxUtils.getValue(this.shape.style,"curveFitting",$defs_str$$.curveFitting);$seed_style$$.roughness=mxUtils.getValue(this.shape.style,"jiggle",$defs_str$$.roughness);$seed_style$$.simplification=mxUtils.getValue(this.shape.style,"simplification",$defs_str$$.simplification);$seed_style$$.disableMultiStroke=mxUtils.getValue(this.shape.style,"disableMultiStroke",$defs_str$$.disableMultiStroke);$seed_style$$.disableMultiStrokeFill=mxUtils.getValue(this.shape.style,
"disableMultiStrokeFill",$defs_str$$.disableMultiStrokeFill);$bg$jscomp$6_fill$$=mxUtils.getValue(this.shape.style,"hachureGap",-1);$seed_style$$.hachureGap="auto"==$bg$jscomp$6_fill$$?-1:$bg$jscomp$6_fill$$;$seed_style$$.dashGap=mxUtils.getValue(this.shape.style,"dashGap",$bg$jscomp$6_fill$$);$seed_style$$.dashOffset=mxUtils.getValue(this.shape.style,"dashOffset",$bg$jscomp$6_fill$$);$seed_style$$.zigzagOffset=mxUtils.getValue(this.shape.style,"zigzagOffset",$bg$jscomp$6_fill$$);$bg$jscomp$6_fill$$=
mxUtils.getValue(this.shape.style,"fillWeight",-1);$seed_style$$.fillWeight="auto"==$bg$jscomp$6_fill$$?-1:$bg$jscomp$6_fill$$;$bg$jscomp$6_fill$$=mxUtils.getValue(this.shape.style,"fillStyle","auto");"auto"==$bg$jscomp$6_fill$$&&($bg$jscomp$6_fill$$=[mxUtils.hex2rgb("#ffffff")],null!=this.shape.state&&$bg$jscomp$6_fill$$.push(mxUtils.hex2rgb(this.shape.state.view.graph.shapeBackgroundColor)),Editor.isDarkMode()&&$bg$jscomp$6_fill$$.push(mxUtils.hex2rgb(Editor.darkColor)),$bg$jscomp$6_fill$$=null!=
$seed_style$$.fill&&(null!=$gradient_stroke$$||0<=mxUtils.indexOf($bg$jscomp$6_fill$$,mxUtils.hex2rgb($seed_style$$.fill)))?"solid":$defs_str$$.fillStyle);$seed_style$$.fillStyle=$bg$jscomp$6_fill$$;return $seed_style$$};$RoughCanvas$$.prototype.begin=function(){this.passThrough?this.originalBegin.apply(this.canvas,arguments):this.path=[]};$RoughCanvas$$.prototype.end=function(){this.passThrough&&this.originalEnd.apply(this.canvas,arguments)};$RoughCanvas$$.prototype.addOp=function(){if(null!=this.path&&
(this.path.push(arguments[0]),2<arguments.length))for(var $i$$=2;$i$$<arguments.length;$i$$+=2)this.lastX=arguments[$i$$-1],this.lastY=arguments[$i$$],this.path.push(this.canvas.format(this.lastX)),this.path.push(this.canvas.format(this.lastY))};$RoughCanvas$$.prototype.lineTo=function($endX$$,$endY$$){this.passThrough?this.originalLineTo.apply(this.canvas,arguments):(this.addOp(this.lineOp,$endX$$,$endY$$),this.lastX=$endX$$,this.lastY=$endY$$)};$RoughCanvas$$.prototype.moveTo=function($endX$$,$endY$$){this.passThrough?
this.originalMoveTo.apply(this.canvas,arguments):(this.addOp(this.moveOp,$endX$$,$endY$$),this.lastX=$endX$$,this.lastY=$endY$$,this.firstX=$endX$$,this.firstY=$endY$$)};$RoughCanvas$$.prototype.close=function(){this.passThrough?this.originalClose.apply(this.canvas,arguments):this.addOp(this.closeOp)};$RoughCanvas$$.prototype.quadTo=function($x1$$,$y1$$,$x2$$,$y2$$){this.passThrough?this.originalQuadTo.apply(this.canvas,arguments):(this.addOp(this.quadOp,$x1$$,$y1$$,$x2$$,$y2$$),this.lastX=$x2$$,
this.lastY=$y2$$)};$RoughCanvas$$.prototype.curveTo=function($x1$$,$y1$$,$x2$$,$y2$$,$x3$$,$y3$$){this.passThrough?this.originalCurveTo.apply(this.canvas,arguments):(this.addOp(this.curveOp,$x1$$,$y1$$,$x2$$,$y2$$,$x3$$,$y3$$),this.lastX=$x3$$,this.lastY=$y3$$)};$RoughCanvas$$.prototype.arcTo=function($rx$$,$ry$$,$angle$$,$largeArcFlag$$,$sweepFlag$$,$x$$,$y$$){if(this.passThrough)this.originalArcTo.apply(this.canvas,arguments);else{var $curves$$=mxUtils.arcToCurves(this.lastX,this.lastY,$rx$$,$ry$$,
$angle$$,$largeArcFlag$$,$sweepFlag$$,$x$$,$y$$);if(null!=$curves$$)for(var $i$$=0;$i$$<$curves$$.length;$i$$+=6)this.curveTo($curves$$[$i$$],$curves$$[$i$$+1],$curves$$[$i$$+2],$curves$$[$i$$+3],$curves$$[$i$$+4],$curves$$[$i$$+5]);this.lastX=$x$$;this.lastY=$y$$}};$RoughCanvas$$.prototype.rect=function($x$$,$y$$,$w$$,$h$$){this.passThrough?this.originalRect.apply(this.canvas,arguments):(this.path=[],this.nextShape=this.rc.generator.rectangle($x$$,$y$$,$w$$,$h$$,this.getStyle(!0,!0)))};$RoughCanvas$$.prototype.ellipse=
function($x$$,$y$$,$w$$,$h$$){this.passThrough?this.originalEllipse.apply(this.canvas,arguments):(this.path=[],this.nextShape=this.rc.generator.ellipse($x$$+$w$$/2,$y$$+$h$$/2,$w$$,$h$$,this.getStyle(!0,!0)))};$RoughCanvas$$.prototype.roundrect=function($x$$,$y$$,$w$$,$h$$,$dx$$,$dy$$){this.passThrough?this.originalRoundrect.apply(this.canvas,arguments):(this.begin(),this.moveTo($x$$+$dx$$,$y$$),this.lineTo($x$$+$w$$-$dx$$,$y$$),this.quadTo($x$$+$w$$,$y$$,$x$$+$w$$,$y$$+$dy$$),this.lineTo($x$$+$w$$,
$y$$+$h$$-$dy$$),this.quadTo($x$$+$w$$,$y$$+$h$$,$x$$+$w$$-$dx$$,$y$$+$h$$),this.lineTo($x$$+$dx$$,$y$$+$h$$),this.quadTo($x$$,$y$$+$h$$,$x$$,$y$$+$h$$-$dy$$),this.lineTo($x$$,$y$$+$dy$$),this.quadTo($x$$,$y$$,$x$$+$dx$$,$y$$))};$RoughCanvas$$.prototype.drawPath=function($style$$){if(0<this.path.length){this.passThrough=!0;try{this.rc.path(this.path.join(" "),$style$$)}catch($e$$){}this.passThrough=!1}else if(null!=this.nextShape){for(var $key$$ in $style$$)this.nextShape.options[$key$$]=$style$$[$key$$];
$style$$.stroke!=mxConstants.NONE&&null!=$style$$.stroke||delete this.nextShape.options.stroke;$style$$.filled||delete this.nextShape.options.fill;this.passThrough=!0;this.rc.draw(this.nextShape);this.passThrough=!1}};$RoughCanvas$$.prototype.stroke=function(){this.passThrough?this.originalStroke.apply(this.canvas,arguments):this.drawPath(this.getStyle(!0,!1))};$RoughCanvas$$.prototype.fill=function(){this.passThrough?this.originalFill.apply(this.canvas,arguments):this.drawPath(this.getStyle(!1,!0))};
$RoughCanvas$$.prototype.fillAndStroke=function(){this.passThrough?this.originalFillAndStroke.apply(this.canvas,arguments):this.drawPath(this.getStyle(!0,!0))};$RoughCanvas$$.prototype.destroy=function(){this.canvas.lineTo=this.originalLineTo;this.canvas.moveTo=this.originalMoveTo;this.canvas.close=this.originalClose;this.canvas.quadTo=this.originalQuadTo;this.canvas.curveTo=this.originalCurveTo;this.canvas.arcTo=this.originalArcTo;this.canvas.close=this.originalClose;this.canvas.fill=this.originalFill;
this.canvas.stroke=this.originalStroke;this.canvas.fillAndStroke=this.originalFillAndStroke;this.canvas.begin=this.originalBegin;this.canvas.end=this.originalEnd;this.canvas.rect=this.originalRect;this.canvas.ellipse=this.originalEllipse;this.canvas.roundrect=this.originalRoundrect};mxShape.prototype.createRoughCanvas=function($c$$){return new $RoughCanvas$$($c$$,Editor.createRoughCanvas($c$$),this)};var $shapeCreateHandJiggle$$=mxShape.prototype.createHandJiggle;mxShape.prototype.createHandJiggle=
function($c$$){return this.outline||null==this.style||"0"==mxUtils.getValue(this.style,"sketch","0")?$shapeCreateHandJiggle$$.apply(this,arguments):"comic"==mxUtils.getValue(this.style,"sketchStyle","rough")?this.createComicCanvas($c$$):this.createRoughCanvas($c$$)};var $imageShapePaintVertexShape$$=mxImageShape.prototype.paintVertexShape;mxImageShape.prototype.paintVertexShape=function($c$$,$x$$,$y$$,$w$$,$h$$){null!=$c$$.handJiggle&&$c$$.handJiggle.passThrough||$imageShapePaintVertexShape$$.apply(this,
arguments)};var $shapePaint$$=mxShape.prototype.paint;mxShape.prototype.paint=function($c$$){var $addTolerance$$=$c$$.addTolerance,$events$$=!0;null!=this.style&&($events$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1"));if(null!=$c$$.handJiggle&&$c$$.handJiggle.constructor==$RoughCanvas$$&&!this.outline){$c$$.save();var $fill$$=this.fill,$stroke$$=this.stroke;this.stroke=this.fill=null;var $configurePointerEvents$$=this.configurePointerEvents,$setStrokeColor$$=$c$$.setStrokeColor;
$c$$.setStrokeColor=function(){};var $setFillColor$$=$c$$.setFillColor;$c$$.setFillColor=function(){};$events$$||null==$fill$$||(this.configurePointerEvents=function(){});$c$$.handJiggle.passThrough=!0;$shapePaint$$.apply(this,arguments);$c$$.handJiggle.passThrough=!1;$c$$.setFillColor=$setFillColor$$;$c$$.setStrokeColor=$setStrokeColor$$;this.configurePointerEvents=$configurePointerEvents$$;this.stroke=$stroke$$;this.fill=$fill$$;$c$$.restore();$events$$&&null!=$fill$$&&($c$$.addTolerance=function(){})}$shapePaint$$.apply(this,
arguments);$c$$.addTolerance=$addTolerance$$};var $shapePaintGlassEffect$$=mxShape.prototype.paintGlassEffect;mxShape.prototype.paintGlassEffect=function($c$$,$x$$,$y$$,$w$$,$h$$,$arc$$){null!=$c$$.handJiggle&&$c$$.handJiggle.constructor==$RoughCanvas$$?($c$$.handJiggle.passThrough=!0,$shapePaintGlassEffect$$.apply(this,arguments),$c$$.handJiggle.passThrough=!1):$shapePaintGlassEffect$$.apply(this,arguments)}})();Editor.fastCompress=function($data$$){return null==$data$$||0==$data$$.length||"undefined"===
typeof pako?$data$$:Graph.arrayBufferToString(pako.deflateRaw($data$$))};Editor.fastDecompress=function($data$$){return null==$data$$||0==$data$$.length||"undefined"===typeof pako?$data$$:pako.inflateRaw(Graph.stringToArrayBuffer(atob($data$$)),{to:"string"})};Editor.extractGraphModel=function($doc2_node$$,$allowMxFile$$,$checked$$){if(null!=$doc2_node$$&&"undefined"!==typeof pako){var $data$jscomp$110_diagrams_tmp$$=$doc2_node$$.ownerDocument.getElementsByTagName("div"),$config$$=[];if(null!=$data$jscomp$110_diagrams_tmp$$&&
0<$data$jscomp$110_diagrams_tmp$$.length)for(var $i$$=0;$i$$<$data$jscomp$110_diagrams_tmp$$.length;$i$$++)if("mxgraph"==$data$jscomp$110_diagrams_tmp$$[$i$$].getAttribute("class")){$config$$.push($data$jscomp$110_diagrams_tmp$$[$i$$]);break}0<$config$$.length&&($data$jscomp$110_diagrams_tmp$$=$config$$[0].getAttribute("data-mxgraph"),null!=$data$jscomp$110_diagrams_tmp$$?($config$$=JSON.parse($data$jscomp$110_diagrams_tmp$$),null!=$config$$&&null!=$config$$.xml&&($doc2_node$$=mxUtils.parseXml($config$$.xml),
$doc2_node$$=$doc2_node$$.documentElement)):($config$$=$config$$[0].getElementsByTagName("div"),0<$config$$.length&&($data$jscomp$110_diagrams_tmp$$=mxUtils.getTextContent($config$$[0]),$data$jscomp$110_diagrams_tmp$$=Graph.decompress($data$jscomp$110_diagrams_tmp$$,null,$checked$$),0<$data$jscomp$110_diagrams_tmp$$.length&&($doc2_node$$=mxUtils.parseXml($data$jscomp$110_diagrams_tmp$$),$doc2_node$$=$doc2_node$$.documentElement))))}if(null!=$doc2_node$$&&"svg"==$doc2_node$$.nodeName)if($data$jscomp$110_diagrams_tmp$$=
$doc2_node$$.getAttribute("content"),null!=$data$jscomp$110_diagrams_tmp$$&&"<"!=$data$jscomp$110_diagrams_tmp$$.charAt(0)&&"%"!=$data$jscomp$110_diagrams_tmp$$.charAt(0)&&($data$jscomp$110_diagrams_tmp$$=unescape(window.atob?atob($data$jscomp$110_diagrams_tmp$$):Base64.decode(cont,$data$jscomp$110_diagrams_tmp$$))),null!=$data$jscomp$110_diagrams_tmp$$&&"%"==$data$jscomp$110_diagrams_tmp$$.charAt(0)&&($data$jscomp$110_diagrams_tmp$$=decodeURIComponent($data$jscomp$110_diagrams_tmp$$)),null!=$data$jscomp$110_diagrams_tmp$$&&
0<$data$jscomp$110_diagrams_tmp$$.length)$doc2_node$$=mxUtils.parseXml($data$jscomp$110_diagrams_tmp$$).documentElement;else throw{message:mxResources.get("notADiagramFile")};null==$doc2_node$$||$allowMxFile$$||($config$$=null,"diagram"==$doc2_node$$.nodeName?$config$$=$doc2_node$$:"mxfile"==$doc2_node$$.nodeName&&($data$jscomp$110_diagrams_tmp$$=$doc2_node$$.getElementsByTagName("diagram"),0<$data$jscomp$110_diagrams_tmp$$.length&&($config$$=$data$jscomp$110_diagrams_tmp$$[Math.max(0,Math.min($data$jscomp$110_diagrams_tmp$$.length-
1,urlParams.page||0))])),null!=$config$$&&($doc2_node$$=Editor.parseDiagramNode($config$$,$checked$$)));null==$doc2_node$$||"mxGraphModel"==$doc2_node$$.nodeName||$allowMxFile$$&&"mxfile"==$doc2_node$$.nodeName||($doc2_node$$=null);return $doc2_node$$};Editor.parseDiagramNode=function($diagramNode$jscomp$1_temp$$,$checked$jscomp$4_doc$jscomp$7_tmp$$,$allowRecurse$$){var $text$$=mxUtils.trim(mxUtils.getTextContent($diagramNode$jscomp$1_temp$$)),$node$$=null;0<$text$$.length?($checked$jscomp$4_doc$jscomp$7_tmp$$=
Graph.decompress($text$$,null,$checked$jscomp$4_doc$jscomp$7_tmp$$),null!=$checked$jscomp$4_doc$jscomp$7_tmp$$&&0<$checked$jscomp$4_doc$jscomp$7_tmp$$.length&&($node$$=mxUtils.parseXml($checked$jscomp$4_doc$jscomp$7_tmp$$).documentElement)):($diagramNode$jscomp$1_temp$$=mxUtils.getChildNodes($diagramNode$jscomp$1_temp$$),0<$diagramNode$jscomp$1_temp$$.length&&($node$$=$diagramNode$jscomp$1_temp$$[0],$allowRecurse$$&&($node$$=Editor.parseDiagramNode($node$$,$checked$jscomp$4_doc$jscomp$7_tmp$$,!1)),
$checked$jscomp$4_doc$jscomp$7_tmp$$=mxUtils.createXmlDocument(),$checked$jscomp$4_doc$jscomp$7_tmp$$.appendChild($checked$jscomp$4_doc$jscomp$7_tmp$$.importNode($node$$,!0)),$node$$=$checked$jscomp$4_doc$jscomp$7_tmp$$.documentElement));return $node$$};Editor.getDiagramNodeXml=function($diagramNode$$){var $text$$=mxUtils.getTextContent($diagramNode$$),$xml$$=null;0<$text$$.length?$xml$$=Graph.decompress($text$$):null!=$diagramNode$$.firstChild&&($xml$$=mxUtils.getXml($diagramNode$$.firstChild));
return $xml$$};Editor.extractGraphModelFromPdf=function($base64$jscomp$1_f$$){$base64$jscomp$1_f$$=$base64$jscomp$1_f$$.substring($base64$jscomp$1_f$$.indexOf(",")+1);$base64$jscomp$1_f$$=window.atob&&!mxClient.IS_SF?atob($base64$jscomp$1_f$$):Base64.decode($base64$jscomp$1_f$$,!0);if("%PDF-1.7"==$base64$jscomp$1_f$$.substring(0,8)){var $blockStart_curline_streamEnd$$=$base64$jscomp$1_f$$.indexOf("EmbeddedFile");if(-1<$blockStart_curline_streamEnd$$){var $result$$=$base64$jscomp$1_f$$.indexOf("stream",
$blockStart_curline_streamEnd$$)+9;if(0<$base64$jscomp$1_f$$.substring($blockStart_curline_streamEnd$$,$result$$).indexOf("application#2Fvnd.jgraph.mxfile"))return $blockStart_curline_streamEnd$$=$base64$jscomp$1_f$$.indexOf("endstream",$result$$-1),pako.inflateRaw(Graph.stringToArrayBuffer($base64$jscomp$1_f$$.substring($result$$,$blockStart_curline_streamEnd$$)),{to:"string"})}return null}$result$$=null;$blockStart_curline_streamEnd$$="";for(var $checked$$=0,$pos$$=0,$obj$$=[],$buf$$=null;$pos$$<
$base64$jscomp$1_f$$.length;){var $b$$=$base64$jscomp$1_f$$.charCodeAt($pos$$);$pos$$+=1;10!=$b$$&&($blockStart_curline_streamEnd$$+=String.fromCharCode($b$$));$b$$=="/Subject (%3Cmxfile".charCodeAt($checked$$)?$checked$$++:$checked$$=0;if(19==$checked$$){var $end$$=$base64$jscomp$1_f$$.indexOf("%3C%2Fmxfile%3E)",$pos$$)+15;$pos$$-=9;if($end$$>$pos$$){$result$$=$base64$jscomp$1_f$$.substring($pos$$,$end$$);break}}10==$b$$&&("endobj"==$blockStart_curline_streamEnd$$?$buf$$=null:"obj"==$blockStart_curline_streamEnd$$.substring($blockStart_curline_streamEnd$$.length-
3,$blockStart_curline_streamEnd$$.length)||"xref"==$blockStart_curline_streamEnd$$||"trailer"==$blockStart_curline_streamEnd$$?($buf$$=[],$obj$$[$blockStart_curline_streamEnd$$.split(" ")[0]]=$buf$$):null!=$buf$$&&$buf$$.push($blockStart_curline_streamEnd$$),$blockStart_curline_streamEnd$$="")}null==$result$$&&($result$$=Editor.extractGraphModelFromXref($obj$$));null!=$result$$&&($result$$=decodeURIComponent($result$$.replace(/\\\(/g,"(").replace(/\\\)/g,")")));return $result$$};Editor.extractGraphModelFromXref=
function($obj$$){var $arr$$=$obj$$.trailer,$result$$=null;null!=$arr$$&&($arr$$=/.* \/Info (\d+) (\d+) R/g.exec($arr$$.join("\n")),null!=$arr$$&&0<$arr$$.length&&($arr$$=$obj$$[$arr$$[1]],null!=$arr$$&&($arr$$=/.* \/Subject (\d+) (\d+) R/g.exec($arr$$.join("\n")),null!=$arr$$&&0<$arr$$.length&&($obj$$=$obj$$[$arr$$[1]],null!=$obj$$&&($obj$$=$obj$$.join("\n"),$result$$=$obj$$.substring(1,$obj$$.length-1))))));return $result$$};Editor.extractParserError=function($errors$jscomp$1_node$$,$defaultCause_divs$$){var $cause$$=
null;$errors$jscomp$1_node$$=null!=$errors$jscomp$1_node$$?$errors$jscomp$1_node$$.getElementsByTagName("parsererror"):null;null!=$errors$jscomp$1_node$$&&0<$errors$jscomp$1_node$$.length&&($cause$$=$defaultCause_divs$$||mxResources.get("invalidChars"),$defaultCause_divs$$=$errors$jscomp$1_node$$[0].getElementsByTagName("div"),0<$defaultCause_divs$$.length&&($cause$$=mxUtils.getTextContent($defaultCause_divs$$[0])));return null!=$cause$$?mxUtils.trim($cause$$):$cause$$};Editor.addRetryToError=function($e$jscomp$71_err$$,
$retry$$){null!=$e$jscomp$71_err$$&&($e$jscomp$71_err$$=null!=$e$jscomp$71_err$$.error?$e$jscomp$71_err$$.error:$e$jscomp$71_err$$,null==$e$jscomp$71_err$$.retry&&($e$jscomp$71_err$$.retry=$retry$$))};Editor.mermaidToDrawio=function($graph$$,$diagramtype$$,$exta$$){if("function"===typeof mxMermaidToDrawio)return mxMermaidToDrawio($graph$$,$diagramtype$$,$exta$$)};Editor.configure=function($config$$){if(null!=$config$$){Editor.config=$config$$;Editor.configVersion=$config$$.version;$config$$.debug&&
(urlParams.test="1");null!=$config$$.defaultFonts&&(Menus.prototype.defaultFonts=$config$$.defaultFonts);null!=$config$$.presetColors&&(ColorDialog.prototype.presetColors=$config$$.presetColors);null!=$config$$.defaultColors&&(ColorDialog.prototype.defaultColors=$config$$.defaultColors);null!=$config$$.colorNames&&(ColorDialog.prototype.colorNames=$config$$.colorNames);null!=$config$$.defaultColorSchemes&&(StyleFormatPanel.prototype.defaultColorSchemes=$config$$.defaultColorSchemes);null!=$config$$.defaultEdgeLength&&
(Graph.prototype.defaultEdgeLength=$config$$.defaultEdgeLength);null!=$config$$.selectParentLayer&&(Graph.selectParentLayer=$config$$.selectParentLayer);null!=$config$$.autosaveDelay&&(DrawioFile.prototype.autosaveDelay=$config$$.autosaveDelay);null!=$config$$.templateFile&&(EditorUi.templateFile=$config$$.templateFile);null!=$config$$.styles&&(Array.isArray($config$$.styles)?Editor.styles=$config$$.styles:EditorUi.debug("Configuration Error: Array expected for styles"));null!=$config$$.globalVars&&
(Editor.globalVars=$config$$.globalVars);null!=$config$$.compressXml&&(Editor.defaultCompressed=$config$$.compressXml,Editor.compressXml=$config$$.compressXml);null!=$config$$.includeDiagram&&(Editor.defaultIncludeDiagram=$config$$.includeDiagram);null!=$config$$.simpleLabels&&(Editor.simpleLabels=$config$$.simpleLabels);null!=$config$$.oneDriveInlinePicker&&(Editor.oneDriveInlinePicker=$config$$.oneDriveInlinePicker);null!=$config$$.enableCssDarkMode&&(Editor.enableCssDarkMode=$config$$.enableCssDarkMode);
null!=$config$$.darkColor&&(Editor.darkColor=$config$$.darkColor);null!=$config$$.lightColor&&(Editor.lightColor=$config$$.lightColor);null!=$config$$.settingsName&&(Editor.configurationKey="."+$config$$.settingsName+"-configuration",Editor.settingsKey="."+$config$$.settingsName+"-config",mxSettings.key=Editor.settingsKey);null!=$config$$.customFonts&&(Menus.prototype.defaultFonts=$config$$.customFonts.concat(Menus.prototype.defaultFonts));null!=$config$$.customPresetColors&&(ColorDialog.prototype.presetColors=
$config$$.customPresetColors.concat(ColorDialog.prototype.presetColors));null!=$config$$.customColorSchemes&&(StyleFormatPanel.prototype.defaultColorSchemes=$config$$.customColorSchemes.concat(StyleFormatPanel.prototype.defaultColorSchemes));if(null!=$config$$.css){var $s$jscomp$60_val$jscomp$5_w$$=document.createElement("style");$s$jscomp$60_val$jscomp$5_w$$.setAttribute("type","text/css");$s$jscomp$60_val$jscomp$5_w$$.appendChild(document.createTextNode($config$$.css));var $h$jscomp$168_t$$=document.getElementsByTagName("script")[0];
$h$jscomp$168_t$$.parentNode.insertBefore($s$jscomp$60_val$jscomp$5_w$$,$h$jscomp$168_t$$)}null!=$config$$.expandLibraries&&(Sidebar.prototype.expandLibraries=$config$$.expandLibraries);null!=$config$$.appendCustomLibraries&&(Sidebar.prototype.appendCustomLibraries=$config$$.appendCustomLibraries);null!=$config$$.libraries&&(Sidebar.prototype.customEntries=$config$$.libraries);null!=$config$$.enabledLibraries&&(Array.isArray($config$$.enabledLibraries)?Sidebar.prototype.enabledLibraries=$config$$.enabledLibraries:
EditorUi.debug("Configuration Error: Array expected for enabledLibraries"));null!=$config$$.defaultLibraries&&(Sidebar.prototype.defaultEntries=$config$$.defaultLibraries);null!=$config$$.defaultCustomLibraries&&(Editor.defaultCustomLibraries=$config$$.defaultCustomLibraries);null!=$config$$.enableCustomLibraries&&(Editor.enableCustomLibraries=$config$$.enableCustomLibraries);null!=$config$$.defaultVertexStyle&&(Graph.prototype.defaultVertexStyle=$config$$.defaultVertexStyle);null!=$config$$.defaultEdgeStyle&&
(Graph.prototype.defaultEdgeStyle=$config$$.defaultEdgeStyle);null!=$config$$.defaultPageVisible&&(Graph.prototype.defaultPageVisible=$config$$.defaultPageVisible);null!=$config$$.defaultGridEnabled&&(Graph.prototype.defaultGridEnabled=$config$$.defaultGridEnabled);null!=$config$$.zoomWheel&&(Graph.zoomWheel=$config$$.zoomWheel);null!=$config$$.zoomFactor&&($s$jscomp$60_val$jscomp$5_w$$=parseFloat($config$$.zoomFactor),!isNaN($s$jscomp$60_val$jscomp$5_w$$)&&1<$s$jscomp$60_val$jscomp$5_w$$?Graph.prototype.zoomFactor=
$s$jscomp$60_val$jscomp$5_w$$:EditorUi.debug("Configuration Error: Float > 1 expected for zoomFactor"));null!=$config$$.defaultGridSize&&($s$jscomp$60_val$jscomp$5_w$$=parseInt($config$$.defaultGridSize),!isNaN($s$jscomp$60_val$jscomp$5_w$$)&&0<$s$jscomp$60_val$jscomp$5_w$$?mxGraph.prototype.gridSize=$s$jscomp$60_val$jscomp$5_w$$:EditorUi.debug("Configuration Error: Int > 0 expected for defaultGridSize"));null!=$config$$.gridSteps&&($s$jscomp$60_val$jscomp$5_w$$=parseInt($config$$.gridSteps),!isNaN($s$jscomp$60_val$jscomp$5_w$$)&&
0<$s$jscomp$60_val$jscomp$5_w$$?mxGraphView.prototype.gridSteps=$s$jscomp$60_val$jscomp$5_w$$:EditorUi.debug("Configuration Error: Int > 0 expected for gridSteps"));null!=$config$$.pageFormat&&($s$jscomp$60_val$jscomp$5_w$$=parseInt($config$$.pageFormat.width),$h$jscomp$168_t$$=parseInt($config$$.pageFormat.height),!isNaN($s$jscomp$60_val$jscomp$5_w$$)&&0<$s$jscomp$60_val$jscomp$5_w$$&&!isNaN($h$jscomp$168_t$$)&&0<$h$jscomp$168_t$$?(mxGraph.prototype.defaultPageFormat=new mxRectangle(0,0,$s$jscomp$60_val$jscomp$5_w$$,
$h$jscomp$168_t$$),mxGraph.prototype.pageFormat=mxGraph.prototype.defaultPageFormat):EditorUi.debug("Configuration Error: {width: int, height: int} expected for pageFormat"));null!=$config$$.thumbWidth&&(Sidebar.prototype.thumbWidth=$config$$.thumbWidth);null!=$config$$.thumbHeight&&(Sidebar.prototype.thumbHeight=$config$$.thumbHeight);null!=$config$$.emptyLibraryXml&&(EditorUi.prototype.emptyLibraryXml=$config$$.emptyLibraryXml);null!=$config$$.emptyDiagramXml&&(EditorUi.prototype.emptyDiagramXml=
$config$$.emptyDiagramXml);null!=$config$$.sidebarWidth&&(EditorUi.prototype.hsplitPosition=$config$$.sidebarWidth);null!=$config$$.updateDefaultStyle&&(EditorUi.prototype.updateDefaultStyle=$config$$.updateDefaultStyle);null!=$config$$.sidebarTitles&&(Sidebar.prototype.sidebarTitles=$config$$.sidebarTitles);null!=$config$$.sidebarTitleSize&&($s$jscomp$60_val$jscomp$5_w$$=parseInt($config$$.sidebarTitleSize),!isNaN($s$jscomp$60_val$jscomp$5_w$$)&&0<$s$jscomp$60_val$jscomp$5_w$$?Sidebar.prototype.sidebarTitleSize=
$s$jscomp$60_val$jscomp$5_w$$:EditorUi.debug("Configuration Error: Int > 0 expected for sidebarTitleSize"));null!=$config$$.fontCss&&("string"===typeof $config$$.fontCss?Editor.configureFontCss($config$$.fontCss):EditorUi.debug("Configuration Error: String expected for fontCss"));null!=$config$$.autosaveDelay&&($s$jscomp$60_val$jscomp$5_w$$=parseInt($config$$.autosaveDelay),!isNaN($s$jscomp$60_val$jscomp$5_w$$)&&0<$s$jscomp$60_val$jscomp$5_w$$?DrawioFile.prototype.autosaveDelay=$s$jscomp$60_val$jscomp$5_w$$:
EditorUi.debug("Configuration Error: Int > 0 expected for autosaveDelay"));null!=$config$$.maxImageBytes&&(EditorUi.prototype.maxImageBytes=$config$$.maxImageBytes);null!=$config$$.maxImageSize&&(EditorUi.prototype.maxImageSize=$config$$.maxImageSize);null!=$config$$.shareCursorPosition&&(EditorUi.prototype.shareCursorPosition=$config$$.shareCursorPosition);null!=$config$$.showRemoteCursors&&(EditorUi.prototype.showRemoteCursors=$config$$.showRemoteCursors);null!=$config$$.restrictExport&&(DrawioFile.RESTRICT_EXPORT=
$config$$.restrictExport);null!=$config$$.replaceSvgDataUris&&(Editor.replaceSvgDataUris=$config$$.replaceSvgDataUris);null!=$config$$.foreignObjectImages&&(Editor.foreignObjectImages=$config$$.foreignObjectImages);null!=$config$$.shadowColor&&(mxConstants.SHADOW_COLOR=$config$$.shadowColor);null!=$config$$.shadowOpacity&&(mxConstants.SHADOW_OPACITY=$config$$.shadowOpacity);null!=$config$$.shadowOffsetX&&(mxConstants.SHADOW_OFFSET_X=$config$$.shadowOffsetX);null!=$config$$.shadowOffsetY&&(mxConstants.SHADOW_OFFSET_Y=
$config$$.shadowOffsetY);null!=$config$$.shadowBlur&&(mxConstants.SHADOW_BLUR=$config$$.shadowBlur);null!=$config$$.gptApiKey&&(Editor.gptApiKey=$config$$.gptApiKey);null!=$config$$.gptModel&&(Editor.gptModel=$config$$.gptModel);null!=$config$$.gptUrl&&(Editor.gptUrl=$config$$.gptUrl)}};Editor.isSettingsEnabled=function(){return"undefined"!==typeof window.mxSettings&&(isLocalStorage||mxClient.IS_CHROMEAPP)};Editor.configureFontCss=function($fontCss_parts$$){if(null!=$fontCss_parts$$){Editor.prototype.fontCss=
$fontCss_parts$$;var $t$$=document.getElementsByTagName("script")[0];if(null!=$t$$&&null!=$t$$.parentNode){var $i$jscomp$173_s$$=document.createElement("style");$i$jscomp$173_s$$.setAttribute("type","text/css");$i$jscomp$173_s$$.appendChild(document.createTextNode($fontCss_parts$$));$t$$.parentNode.insertBefore($i$jscomp$173_s$$,$t$$);$fontCss_parts$$=$fontCss_parts$$.split("url(");for($i$jscomp$173_s$$=1;$i$jscomp$173_s$$<$fontCss_parts$$.length;$i$jscomp$173_s$$++){var $idx$jscomp$6_url$$=$fontCss_parts$$[$i$jscomp$173_s$$].indexOf(")");
$idx$jscomp$6_url$$=Editor.trimCssUrl($fontCss_parts$$[$i$jscomp$173_s$$].substring(0,$idx$jscomp$6_url$$));var $l$$=document.createElement("link");$l$$.setAttribute("rel","preload");$l$$.setAttribute("href",$idx$jscomp$6_url$$);$l$$.setAttribute("as","font");$l$$.setAttribute("crossorigin","");$t$$.parentNode.insertBefore($l$$,$t$$)}}}};Editor.trimCssUrl=function($str$$){return $str$$.replace(RegExp("^[\\s\"']+","g"),"").replace(RegExp("[\\s\"']+$","g"),"")};Editor.GOOGLE_FONTS="https://fonts.googleapis.com/css?family=";
Editor.GOOGLE_FONTS_CSS2="https://fonts.googleapis.com/css2?family=";Editor.GUID_ALPHABET="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_";Editor.GUID_LENGTH=20;Editor.guid=function($len$jscomp$7_length$$){$len$jscomp$7_length$$=null!=$len$jscomp$7_length$$?$len$jscomp$7_length$$:Editor.GUID_LENGTH;for(var $rtn$$=[],$i$$=0;$i$$<$len$jscomp$7_length$$;$i$$++)$rtn$$.push(Editor.GUID_ALPHABET.charAt(Math.floor(Math.random()*Editor.GUID_ALPHABET.length)));return $rtn$$.join("")};Editor.updateStatusInterval=
1E4;Editor.prototype.appName="draw.io";Editor.prototype.diagramFileTypes=[{description:"diagramXmlDesc",extension:"drawio",mimeType:"text/xml"},{description:"diagramPngDesc",extension:"png",mimeType:"image/png"},{description:"diagramSvgDesc",extension:"svg",mimeType:"image/svg"},{description:"diagramHtmlDesc",extension:"html",mimeType:"text/html"}];Editor.prototype.libraryFileTypes=[{description:"Library (.drawiolib, .xml)",extensions:["drawiolib","xml"]}];Editor.prototype.fileExtensions=[{ext:"html",
title:"filetypeHtml"},{ext:"png",title:"filetypePng"},{ext:"svg",title:"filetypeSvg"}];Editor.prototype.timeout=25E3;Editor.prototype.editButtonLink=null!=urlParams.edit?decodeURIComponent(urlParams.edit):null;Editor.prototype.crossOriginImages=!mxClient.IS_IE;var $editorSetGraphXml$$=Editor.prototype.setGraphXml;Editor.prototype.setGraphXml=function($node$$){$node$$=null!=$node$$&&"mxlibrary"!=$node$$.nodeName?this.extractGraphModel($node$$):null;if(null!=$node$$){var $bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$=
Editor.extractParserError($node$$,mxResources.get("invalidOrMissingFile"));if($bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$)throw EditorUi.debug("Editor.setGraphXml ParserError",[this],"node",[$node$$],"cause",[$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$]),Error(mxResources.get("notADiagramFile")+" ("+$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$+")");if("mxGraphModel"==$node$$.nodeName){$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$=$node$$.getAttribute("style")||"default-style2";if("1"==
urlParams.embed||null!=$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$&&""!=$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$)$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$!=this.graph.currentStyle&&($i$$=null!=this.graph.themes?this.graph.themes[$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$]:mxUtils.load(STYLE_PATH+"/"+$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$+".xml").getDocumentElement(),null!=$i$$&&($dec2$$=new mxCodec($i$$.ownerDocument),$dec2$$.decode($i$$,this.graph.getStylesheet())));
else{var $i$$=null!=this.graph.themes?this.graph.themes["default-old"]:mxUtils.load(STYLE_PATH+"/default-old.xml").getDocumentElement();if(null!=$i$$){var $dec2$$=new mxCodec($i$$.ownerDocument);$dec2$$.decode($i$$,this.graph.getStylesheet())}}this.graph.currentStyle=$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$;this.graph.mathEnabled="1"==urlParams.math||"1"==$node$$.getAttribute("math");$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$=$node$$.getAttribute("backgroundImage");null!=$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$?
this.graph.setBackgroundImage(this.graph.parseBackgroundImage($bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$)):this.graph.setBackgroundImage(null);this.graph.useCssTransforms=!mxClient.NO_FO&&this.isChromelessView()&&this.graph.isCssTransformsSupported();this.graph.updateCssTransform();this.graph.setShadowVisible("1"==$node$$.getAttribute("shadow"),!1);if($bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$=$node$$.getAttribute("extFonts"))try{for($bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$=$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$.split("|").map(function($ef_parts$$){$ef_parts$$=
$ef_parts$$.split("^");return{name:$ef_parts$$[0],url:$ef_parts$$[1]}}),$i$$=0;$i$$<$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$.length;$i$$++)this.graph.addExtFont($bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$[$i$$].name,$bgImg$jscomp$1_cause$jscomp$1_extFonts_style$$[$i$$].url)}catch($e$$){console.log("ExtFonts format error: "+$e$$.message)}else null!=this.graph.extFonts&&0<this.graph.extFonts.length&&(this.graph.extFonts=[])}$editorSetGraphXml$$.apply(this,arguments)}else throw{message:mxResources.get("notADiagramFile")||
"Invalid data",toString:function(){return this.message}};};var $editorGetGraphXml$$=Editor.prototype.getGraphXml;Editor.prototype.getGraphXml=function($ignoreSelection$$,$resolveReferences$$){$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:!0;var $node$$=$editorGetGraphXml$$.apply(this,arguments);null!=this.graph.currentStyle&&"default-style2"!=this.graph.currentStyle&&$node$$.setAttribute("style",this.graph.currentStyle);var $bgImg$$=this.graph.getBackgroundImageObject(this.graph.backgroundImage,
$resolveReferences$$);null!=$bgImg$$&&$node$$.setAttribute("backgroundImage",JSON.stringify($bgImg$$));$node$$.setAttribute("math",this.graph.mathEnabled?"1":"0");$node$$.setAttribute("shadow",this.graph.shadowVisible?"1":"0");null!=this.graph.extFonts&&0<this.graph.extFonts.length&&($bgImg$$=this.graph.extFonts.map(function($ef$$){return $ef$$.name+"^"+$ef$$.url}),$node$$.setAttribute("extFonts",$bgImg$$.join("|")));return $node$$};Editor.prototype.isDataSvg=function($svg$$){try{var $tmp$$=mxUtils.parseXml($svg$$).documentElement.getAttribute("content");
if(null!=$tmp$$&&(null!=$tmp$$&&"<"!=$tmp$$.charAt(0)&&"%"!=$tmp$$.charAt(0)&&($tmp$$=unescape(window.atob?atob($tmp$$):Base64.decode(cont,$tmp$$))),null!=$tmp$$&&"%"==$tmp$$.charAt(0)&&($tmp$$=decodeURIComponent($tmp$$)),null!=$tmp$$&&0<$tmp$$.length)){var $node$$=mxUtils.parseXml($tmp$$).documentElement;return"mxfile"==$node$$.nodeName||"mxGraphModel"==$node$$.nodeName}}catch($e$$){}return!1};Editor.prototype.extractGraphModel=function($node$$,$allowMxFile$$,$checked$$){return Editor.extractGraphModel.apply(this,
arguments)};var $editorResetGraph$$=Editor.prototype.resetGraph;Editor.prototype.resetGraph=function(){this.graph.mathEnabled="1"==urlParams.math;this.graph.view.x0=null;this.graph.view.y0=null;this.graph.useCssTransforms=!mxClient.NO_FO&&this.isChromelessView()&&this.graph.isCssTransformsSupported();this.graph.updateCssTransform();$editorResetGraph$$.apply(this,arguments)};var $editorUpdateGraphComponents$$=Editor.prototype.updateGraphComponents;Editor.prototype.updateGraphComponents=function(){$editorUpdateGraphComponents$$.apply(this,
arguments);this.graph.useCssTransforms=!mxClient.NO_FO&&this.isChromelessView()&&this.graph.isCssTransformsSupported();this.graph.updateCssTransform()};Editor.initMath=function($src$$,$config$$){if("undefined"===typeof window.MathJax&&!mxClient.IS_IE&&!mxClient.IS_IE11){var $mathJaxDone$$=function(){$rendering$$=null;if(0<Editor.mathJaxQueue.length)Editor.doMathJaxRender(Editor.mathJaxQueue.shift());else Editor.onMathJaxDone()};$src$$=null!=$src$$?$src$$:DRAW_MATH_URL+"/startup.js";Editor.mathJaxQueue=
[];var $rendering$$=null;Editor.doMathJaxRender=function($container$$){try{null==$rendering$$?(MathJax.typesetClear([$container$$]),MathJax.typeset([$container$$]),$mathJaxDone$$()):$rendering$$!=$container$$&&Editor.mathJaxQueue.push($container$$)}catch($e$jscomp$0$$){MathJax.typesetClear([$container$$]),null!=$e$jscomp$0$$.retry?($rendering$$=$container$$,$e$jscomp$0$$.retry.then(function(){MathJax.typesetPromise([$container$$]).then($mathJaxDone$$)["catch"](function($e$$){console.log("Error in MathJax.typesetPromise: "+
$e$$.toString());$mathJaxDone$$()})})["catch"](function($e$$){console.log("Error in MathJax.retry: "+$e$$.toString());$mathJaxDone$$()})):null!=window.console&&console.log("Error in MathJax.typeset: "+$e$jscomp$0$$.toString())}};window.MathJax=null!=$config$$?$config$$:{options:{skipHtmlTags:{"[+]":["text"]}},loader:{load:["html"==urlParams["math-output"]?"output/chtml":"output/svg","input/tex","input/asciimath","ui/safe"]},startup:{pageReady:function(){for(var $i$$=0;$i$$<Editor.mathJaxQueue.length;$i$$++)Editor.doMathJaxRender(Editor.mathJaxQueue[$i$$])}}};
Editor.MathJaxRender=function($container$$){"undefined"!==typeof MathJax&&"function"===typeof MathJax.typeset?Editor.doMathJaxRender($container$$):Editor.mathJaxQueue.push($container$$)};Editor.onMathJaxDone=function(){};var $editorInit$$=Editor.prototype.init;Editor.prototype.init=function(){$editorInit$$.apply(this,arguments);var $renderMath$$=mxUtils.bind(this,function($sender$$,$evt$$){null!=this.graph.container&&this.graph.mathEnabled&&Editor.MathJaxRender(this.graph.container)});this.graph.model.addListener(mxEvent.CHANGE,
$renderMath$$);this.graph.addListener(mxEvent.REFRESH,$renderMath$$)};$config$$=document.getElementsByTagName("script");if(null!=$config$$&&0<$config$$.length){var $s$$=document.createElement("script");$s$$.setAttribute("type","text/javascript");$s$$.setAttribute("src",$src$$);$config$$[0].parentNode.appendChild($s$$)}}};Editor.prototype.csvToArray=function($$jscomp$iter$0_text$$){if(0<$$jscomp$iter$0_text$$.length){var $p$$="",$row$$=[""],$i$$=0,$s$$=!0,$$jscomp$key$l_l$$;$$jscomp$iter$0_text$$=
$jscomp.makeIterator($$jscomp$iter$0_text$$);for($$jscomp$key$l_l$$=$$jscomp$iter$0_text$$.next();!$$jscomp$key$l_l$$.done;$$jscomp$key$l_l$$=$$jscomp$iter$0_text$$.next())$$jscomp$key$l_l$$=$$jscomp$key$l_l$$.value,'"'===$$jscomp$key$l_l$$?($s$$&&$$jscomp$key$l_l$$===$p$$&&($row$$[$i$$]+=$$jscomp$key$l_l$$),$s$$=!$s$$):","===$$jscomp$key$l_l$$&&$s$$?$$jscomp$key$l_l$$=$row$$[++$i$$]="":$row$$[$i$$]+=$$jscomp$key$l_l$$,$p$$=$$jscomp$key$l_l$$;return $row$$}return[]};Editor.prototype.getProxiedUrl=
function($url$$){if((/test\.draw\.io$/.test(window.location.hostname)||/app\.diagrams\.net$/.test(window.location.hostname))&&!this.isCorsEnabledForUrl($url$$)){var $base64$$=EditorUi.isVisioFilename($url$$);$base64$$=/\.png$/i.test($url$$)||/\.pdf$/i.test($url$$)||$base64$$;var $nocache$$="t="+(new Date).getTime();$url$$=PROXY_URL+"?url="+encodeURIComponent($url$$)+"&"+$nocache$$+($base64$$?"&base64=1":"")}return $url$$};Editor.prototype.isCorsEnabledForUrl=function($url$$){if(mxClient.IS_CHROMEAPP||
EditorUi.isElectronApp||$url$$.substring(0,window.location.origin.length)==window.location.origin)return!0;null!=urlParams.cors&&null==this.corsRegExp&&(this.corsRegExp=new RegExp(decodeURIComponent(urlParams.cors)));return null!=this.corsRegExp&&this.corsRegExp.test($url$$)||"https://raw.githubusercontent.com/"===$url$$.substring(0,34)||"https://fonts.googleapis.com/"===$url$$.substring(0,29)||"https://fonts.gstatic.com/"===$url$$.substring(0,26)};Editor.prototype.createImageUrlConverter=function(){var $converter$$=
new mxUrlConverter;$converter$$.updateBaseUrl();var $convert$$=$converter$$.convert,$self$$=this;$converter$$.convert=function($src$$){null!=$src$$&&navigator.onLine&&("http://"!=$src$$.substring(0,7)&&"https://"!=$src$$.substring(0,8)||$src$$.substring(0,$converter$$.baseUrl.length)==$converter$$.baseUrl||$self$$.crossOriginImages&&$self$$.isCorsEnabledForUrl($src$$)?"chrome-extension://"!=$src$$.substring(0,19)&&($src$$=$convert$$.apply(this,arguments)):$src$$=PROXY_URL+"?url="+encodeURIComponent($src$$));
return $src$$};return $converter$$};Editor.createSvgDataUri=function($svg$$){return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent($svg$$)))};Editor.prototype.convertImageToDataUri=function($url$$,$callback$$,$error$$,$convertScale$$,$forceConvert$$){try{var $acceptResponse$$=!0,$timeoutThread$$=window.setTimeout(mxUtils.bind(this,function(){$acceptResponse$$=!1;$callback$$($url$$)}),this.timeout),$svgError$$=mxUtils.bind(this,function(){null!=$convertScale$$?this.convertImageToDataUri($url$$,
$callback$$,$error$$,$convertScale$$,!0):$callback$$($url$$)});if(/(\.svg)$/i.test($url$$)&&!$forceConvert$$)mxUtils.get($url$$,mxUtils.bind(this,function($req$$){window.clearTimeout($timeoutThread$$);$acceptResponse$$&&(200>$req$$.getStatus()||299<$req$$.getStatus()?$svgError$$():$callback$$(Editor.createSvgDataUri($req$$.getText())))}),mxUtils.bind(this,function(){window.clearTimeout($timeoutThread$$);$acceptResponse$$&&$svgError$$()}));else{var $img$$=new Image;this.crossOriginImages&&($img$$.crossOrigin=
"anonymous");$img$$.onload=function(){window.clearTimeout($timeoutThread$$);if($acceptResponse$$)try{$convertScale$$=null!=$convertScale$$&&$forceConvert$$?$convertScale$$:1;var $canvas$$=document.createElement("canvas"),$ctx$$=$canvas$$.getContext("2d");$ctx$$.scale($convertScale$$,$convertScale$$);$canvas$$.height=$img$$.height*$convertScale$$;$canvas$$.width=$img$$.width*$convertScale$$;$ctx$$.drawImage($img$$,0,0);$callback$$($canvas$$.toDataURL())}catch($e$$){$callback$$($url$$)}};$img$$.onerror=
function(){window.clearTimeout($timeoutThread$$);$acceptResponse$$&&(null!=$error$$?$error$$():$callback$$($url$$))};$img$$.src=$url$$}}catch($e$$){null!=$error$$?$error$$():$callback$$($url$$)}};Editor.prototype.convertImages=function($svgRoot$$,$callback$$,$convertImages_imageCache$$,$converter$$){function $next$$(){0<$pending$$.length?$pending$$.shift()():$callback$$($svgRoot$$)}null==$converter$$&&($converter$$=this.createImageUrlConverter());var $pending$$=[],$cache$$=$convertImages_imageCache$$||
{};$convertImages_imageCache$$=mxUtils.bind(this,function($images$jscomp$1_tagName$$,$srcAttr$$){$images$jscomp$1_tagName$$=$svgRoot$$.getElementsByTagName($images$jscomp$1_tagName$$);for(var $i$$=0;$i$$<$images$jscomp$1_tagName$$.length;$i$$++)mxUtils.bind(this,function($img$$){$pending$$.push(mxUtils.bind(this,function(){try{if(null!=$img$$){var $src$$=$converter$$.convert($img$$.getAttribute($srcAttr$$));if(null!=$src$$&&"data:"!=$src$$.substring(0,5)){var $tmp$$=$cache$$[$src$$];null==$tmp$$?
this.convertImageToDataUri($src$$,function($uri$$){null!=$uri$$&&($cache$$[$src$$]=$uri$$,$img$$.setAttribute($srcAttr$$,$uri$$));$next$$()},null,Editor.svgRasterScale):($img$$.setAttribute($srcAttr$$,$tmp$$),$next$$())}else null!=$src$$&&($img$$.setAttribute($srcAttr$$,$src$$),$next$$())}}catch($e$$){$next$$()}}))})($images$jscomp$1_tagName$$[$i$$])});$convertImages_imageCache$$("image","xlink:href");$convertImages_imageCache$$("img","src");$next$$()};Editor.base64Encode=function($str$$){for(var $out$$=
"",$i$$=0,$len$$=$str$$.length,$c1$$,$c2$$,$c3$$;$i$$<$len$$;){$c1$$=$str$$.charCodeAt($i$$++)&255;if($i$$==$len$$){$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c1$$>>2);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c1$$&3)<<4);$out$$+="==";break}$c2$$=$str$$.charCodeAt($i$$++);if($i$$==$len$$){$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c1$$>>2);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c1$$&
3)<<4|($c2$$&240)>>4);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c2$$&15)<<2);$out$$+="=";break}$c3$$=$str$$.charCodeAt($i$$++);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c1$$>>2);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c1$$&3)<<4|($c2$$&240)>>4);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c2$$&15)<<2|($c3$$&192)>>6);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c3$$&
63)}return $out$$};Editor.prototype.loadUrl=function($url$$,$success$$,$error$$,$forceBinary$$,$retry$$,$dataUriPrefix$$,$noBinary$$,$headers$$){try{var $binary$$=!$noBinary$$&&($forceBinary$$||/(\.png)($|\?)/i.test($url$$)||/(\.jpe?g)($|\?)/i.test($url$$)||/(\.gif)($|\?)/i.test($url$$)||/(\.pdf)($|\?)/i.test($url$$));$retry$$=null!=$retry$$?$retry$$:!0;var $fn$$=mxUtils.bind(this,function(){mxUtils.get($url$$,mxUtils.bind(this,function($bin_req$$){if(200<=$bin_req$$.getStatus()&&299>=$bin_req$$.getStatus()){if(null!=
$success$$){var $data$jscomp$111_tmp$$=$bin_req$$.getText();if($binary$$){if((9==document.documentMode||10==document.documentMode)&&"undefined"!==typeof window.mxUtilsBinaryToArray){$bin_req$$=mxUtilsBinaryToArray($bin_req$$.request.responseBody).toArray();$data$jscomp$111_tmp$$=Array($bin_req$$.length);for(var $i$$=0;$i$$<$bin_req$$.length;$i$$++)$data$jscomp$111_tmp$$[$i$$]=String.fromCharCode($bin_req$$[$i$$]);$data$jscomp$111_tmp$$=$data$jscomp$111_tmp$$.join("")}$dataUriPrefix$$=null!=$dataUriPrefix$$?
$dataUriPrefix$$:"data:image/png;base64,";$data$jscomp$111_tmp$$=$dataUriPrefix$$+Editor.base64Encode($data$jscomp$111_tmp$$)}$success$$($data$jscomp$111_tmp$$)}}else null!=$error$$&&(0==$bin_req$$.getStatus()?$error$$({message:mxResources.get("accessDenied")},$bin_req$$):404==$bin_req$$.getStatus()?$error$$({message:mxResources.get("fileNotFound"),code:$bin_req$$.getStatus()},$bin_req$$):$error$$({message:this.getErrorMessage($bin_req$$)},$bin_req$$))}),function($req$$){null!=$error$$&&$error$$({message:mxResources.get("error")+
" "+$req$$.getStatus()})},$binary$$,this.timeout,function(){$retry$$&&null!=$error$$&&$error$$({code:App.ERROR_TIMEOUT,retry:$fn$$})},$headers$$)});$fn$$()}catch($e$$){null!=$error$$&&$error$$($e$$)}};Editor.prototype.getErrorMessage=function($req$$){var $msg$$=mxResources.get("error")+" "+$req$$.getStatus();try{var $data$$=$req$$.getText(),$obj$$=JSON.parse($data$$);null!=$obj$$&&null!=$obj$$.error&&null!=$obj$$.error.message&&($msg$$=$obj$$.error.message+" ("+$msg$$+")")}catch($e$$){}return $msg$$};
Editor.prototype.absoluteCssFonts=function($fontCss$jscomp$1_path$$){var $result$$=null;if(null!=$fontCss$jscomp$1_path$$){var $parts$$=$fontCss$jscomp$1_path$$.split("url(");if(0<$parts$$.length){$result$$=[$parts$$[0]];$fontCss$jscomp$1_path$$=window.location.pathname;var $idx$jscomp$7_temp$$=null!=$fontCss$jscomp$1_path$$?$fontCss$jscomp$1_path$$.lastIndexOf("/"):-1;0<=$idx$jscomp$7_temp$$&&($fontCss$jscomp$1_path$$=$fontCss$jscomp$1_path$$.substring(0,$idx$jscomp$7_temp$$+1));$idx$jscomp$7_temp$$=
document.getElementsByTagName("base");var $base$$=null;null!=$idx$jscomp$7_temp$$&&0<$idx$jscomp$7_temp$$.length&&($base$$=$idx$jscomp$7_temp$$[0].getAttribute("href"));for(var $i$$=1;$i$$<$parts$$.length;$i$$++)if($idx$jscomp$7_temp$$=$parts$$[$i$$].indexOf(")"),0<$idx$jscomp$7_temp$$){var $url$$=Editor.trimCssUrl($parts$$[$i$$].substring(0,$idx$jscomp$7_temp$$));this.graph.isRelativeUrl($url$$)&&($url$$=null!=$base$$?$base$$+$url$$:window.location.protocol+"//"+window.location.hostname+("/"==$url$$.charAt(0)?
"":$fontCss$jscomp$1_path$$)+$url$$);$result$$.push('url("'+$url$$+'"'+$parts$$[$i$$].substring($idx$jscomp$7_temp$$))}else $result$$.push($parts$$[$i$$])}else $result$$=[$fontCss$jscomp$1_path$$]}return null!=$result$$?$result$$.join(""):null};Editor.prototype.mapFontUrl=function($mime$$,$url$$,$fn$$){/^https?:\/\//.test($url$$)&&!this.isCorsEnabledForUrl($url$$)&&($url$$=PROXY_URL+"?url="+encodeURIComponent($url$$));$fn$$($mime$$,$url$$)};Editor.prototype.embedCssFonts=function($fontCss$jscomp$2_i$$,
$then$$){var $parts$$=$fontCss$jscomp$2_i$$.split("url("),$waiting$$=0;null==this.cachedFonts&&(this.cachedFonts={});var $finish$$=mxUtils.bind(this,function(){if(0==$waiting$$){for(var $result$$=[$parts$$[0]],$j$$=1;$j$$<$parts$$.length;$j$$++){var $idx$$=$parts$$[$j$$].indexOf(")");$result$$.push('url("');$result$$.push(this.cachedFonts[Editor.trimCssUrl($parts$$[$j$$].substring(0,$idx$$))]);$result$$.push('"'+$parts$$[$j$$].substring($idx$$))}$then$$($result$$.join(""))}});if(0<$parts$$.length){for($fontCss$jscomp$2_i$$=
1;$fontCss$jscomp$2_i$$<$parts$$.length;$fontCss$jscomp$2_i$$++){var $idx$jscomp$0$$=$parts$$[$fontCss$jscomp$2_i$$].indexOf(")"),$format$$=null,$fmtIdx$$=$parts$$[$fontCss$jscomp$2_i$$].indexOf("format(",$idx$jscomp$0$$);0<$fmtIdx$$&&($format$$=Editor.trimCssUrl($parts$$[$fontCss$jscomp$2_i$$].substring($fmtIdx$$+7,$parts$$[$fontCss$jscomp$2_i$$].indexOf(")",$fmtIdx$$))));mxUtils.bind(this,function($url$$){if(null==this.cachedFonts[$url$$]){this.cachedFonts[$url$$]=$url$$;$waiting$$++;var $mime$$=
"application/x-font-ttf";if("svg"==$format$$||/(\.svg)($|\?)/i.test($url$$))$mime$$="image/svg+xml";else if("otf"==$format$$||"embedded-opentype"==$format$$||/(\.otf)($|\?)/i.test($url$$))$mime$$="application/x-font-opentype";else if("woff"==$format$$||/(\.woff)($|\?)/i.test($url$$))$mime$$="application/font-woff";else if("woff2"==$format$$||/(\.woff2)($|\?)/i.test($url$$))$mime$$="application/font-woff2";else if("eot"==$format$$||/(\.eot)($|\?)/i.test($url$$))$mime$$="application/vnd.ms-fontobject";
else if("sfnt"==$format$$||/(\.sfnt)($|\?)/i.test($url$$))$mime$$="application/font-sfnt";this.mapFontUrl($mime$$,$url$$,mxUtils.bind(this,function($realMime$$,$realUrl$$){this.loadUrl($realUrl$$,mxUtils.bind(this,function($uri$$){this.cachedFonts[$url$$]=$uri$$;$waiting$$--;$finish$$()}),mxUtils.bind(this,function($err$$){$waiting$$--;$finish$$()}),!0,null,"data:"+$realMime$$+";charset=utf-8;base64,")}))}})(Editor.trimCssUrl($parts$$[$fontCss$jscomp$2_i$$].substring(0,$idx$jscomp$0$$)),$format$$)}$finish$$()}else $then$$($fontCss$jscomp$2_i$$)};
Editor.prototype.loadFonts=function($then$$){null!=this.fontCss&&null==this.resolvedFontCss?this.embedCssFonts(this.fontCss,mxUtils.bind(this,function($resolvedFontCss$$){this.resolvedFontCss=$resolvedFontCss$$;null!=$then$$&&$then$$()})):null!=$then$$&&$then$$()};Editor.prototype.createGoogleFontCache=function(){var $cache$$={},$key$$;for($key$$ in Graph.fontMapping)Graph.isCssFontUrl($key$$)&&($cache$$[$key$$]=Graph.fontMapping[$key$$]);return $cache$$};Editor.prototype.embedExtFonts=function($callback$$){var $extFonts$$=
this.graph.getCustomFonts();if(0<$extFonts$$.length){var $content$$=[],$waiting$$=0;null==this.cachedGoogleFonts&&(this.cachedGoogleFonts=this.createGoogleFontCache());for(var $googleCssDone$$=mxUtils.bind(this,function(){0==$waiting$$&&this.embedCssFonts($content$$.join(""),$callback$$)}),$i$$=0;$i$$<$extFonts$$.length;$i$$++)mxUtils.bind(this,function($fontName$$,$fontUrl$$){Graph.isCssFontUrl($fontUrl$$)?null==this.cachedGoogleFonts[$fontUrl$$]?($waiting$$++,this.loadUrl(Graph.rewriteGoogleFontUrl($fontUrl$$),
mxUtils.bind(this,function($css$$){this.cachedGoogleFonts[$fontUrl$$]=$css$$;$content$$.push($css$$+"\n");$waiting$$--;$googleCssDone$$()}),mxUtils.bind(this,function($err$$){$waiting$$--;$content$$.push("@import url("+$fontUrl$$+");\n");$googleCssDone$$()}))):$content$$.push(this.cachedGoogleFonts[$fontUrl$$]+"\n"):$content$$.push('@font-face {font-family: "'+$fontName$$+'";src: url("'+$fontUrl$$+'")}\n')})($extFonts$$[$i$$].name,$extFonts$$[$i$$].url);$googleCssDone$$()}else $callback$$()};Editor.prototype.addMathCss=
function($defs$jscomp$1_svgRoot$$){$defs$jscomp$1_svgRoot$$=$defs$jscomp$1_svgRoot$$.getElementsByTagName("defs");if(null!=$defs$jscomp$1_svgRoot$$&&0<$defs$jscomp$1_svgRoot$$.length)for(var $styles$$=document.getElementsByTagName("style"),$i$$=0;$i$$<$styles$$.length;$i$$++){var $content$$=mxUtils.getTextContent($styles$$[$i$$]);0>$content$$.indexOf("mxPageSelector")&&0<$content$$.indexOf("MathJax")&&$defs$jscomp$1_svgRoot$$[0].appendChild($styles$$[$i$$].cloneNode(!0))}};Editor.prototype.addFontCss=
function($imports_svgRoot$$,$fontCss$jscomp$3_other$$){$fontCss$jscomp$3_other$$=null!=$fontCss$jscomp$3_other$$?$fontCss$jscomp$3_other$$:this.absoluteCssFonts(this.fontCss);if(null!=$fontCss$jscomp$3_other$$){var $defs$$=$imports_svgRoot$$.getElementsByTagName("defs"),$style$jscomp$81_svgDoc$$=$imports_svgRoot$$.ownerDocument;0==$defs$$.length?($defs$$=null!=$style$jscomp$81_svgDoc$$.createElementNS?$style$jscomp$81_svgDoc$$.createElementNS(mxConstants.NS_SVG,"defs"):$style$jscomp$81_svgDoc$$.createElement("defs"),
null!=$imports_svgRoot$$.firstChild?$imports_svgRoot$$.insertBefore($defs$$,$imports_svgRoot$$.firstChild):$imports_svgRoot$$.appendChild($defs$$)):$defs$$=$defs$$[0];var $lines$$=$fontCss$jscomp$3_other$$.split("\n");$imports_svgRoot$$=[];$fontCss$jscomp$3_other$$=[];for(var $i$$=0;$i$$<$lines$$.length;$i$$++)"@import"==$lines$$[$i$$].substring(0,7)?$imports_svgRoot$$.push($lines$$[$i$$]):$fontCss$jscomp$3_other$$.push($lines$$[$i$$]);$style$jscomp$81_svgDoc$$=null!=$style$jscomp$81_svgDoc$$.createElementNS?
$style$jscomp$81_svgDoc$$.createElementNS(mxConstants.NS_SVG,"style"):$style$jscomp$81_svgDoc$$.createElement("style");$style$jscomp$81_svgDoc$$.setAttribute("type","text/css");0<$imports_svgRoot$$.length&&(mxUtils.setTextContent($style$jscomp$81_svgDoc$$,$imports_svgRoot$$.join("\n")),$defs$$.appendChild($style$jscomp$81_svgDoc$$));0<$fontCss$jscomp$3_other$$.length&&($style$jscomp$81_svgDoc$$=$style$jscomp$81_svgDoc$$.cloneNode(!1),mxUtils.setTextContent($style$jscomp$81_svgDoc$$,$fontCss$jscomp$3_other$$.join("\n")),
$defs$$.appendChild($style$jscomp$81_svgDoc$$))}};Editor.prototype.isExportToCanvas=function(){return mxClient.IS_CHROMEAPP||this.useCanvasForExport};Editor.prototype.getMaxCanvasScale=function($w$$,$h$$,$scale$$){var $max$$=mxClient.IS_FF?8192:16384;return Math.min($scale$$,Math.min($max$$/$w$$,$max$$/$h$$))};Editor.prototype.exportToCanvas=function($callback$$,$width$$,$imageCache$$,$background$jscomp$0$$,$error$$,$limitHeight$$,$ignoreSelection$$,$scale$$,$transparentBackground$$,$addShadow$$,
$converter$$,$graph$$,$border$$,$noCrop$$,$grid$$,$theme$$,$exportType$$,$cells$$){try{$limitHeight$$=null!=$limitHeight$$?$limitHeight$$:!0;$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:!0;$graph$$=null!=$graph$$?$graph$$:this.graph;$border$$=null!=$border$$?$border$$:0;var $bg$$=$transparentBackground$$?null:$graph$$.background;$bg$$==mxConstants.NONE&&($bg$$=null);null==$bg$$&&($bg$$=$background$jscomp$0$$);null==$bg$$&&0==$transparentBackground$$&&($bg$$="dark"==$theme$$?Editor.darkColor:
"#ffffff");this.convertImages($graph$$.getSvg(null,null,$border$$,$noCrop$$,null,$ignoreSelection$$,null,null,null,$addShadow$$,null,$theme$$,$exportType$$,$cells$$),mxUtils.bind(this,function($svgRoot$$){try{var $img$$=new Image;$img$$.onload=mxUtils.bind(this,function(){try{var $drawImage$$=function(){mxClient.IS_SF?window.setTimeout(function(){$ctx$$.drawImage($img$$,0,0);$callback$$($canvas$$,$svgRoot$$)},0):($ctx$$.drawImage($img$$,0,0),$callback$$($canvas$$,$svgRoot$$))},$canvas$$=document.createElement("canvas"),
$w$$=parseInt($svgRoot$$.getAttribute("width")),$h$$=parseInt($svgRoot$$.getAttribute("height"));$scale$$=null!=$scale$$?$scale$$:1;null!=$width$$&&($scale$$=$limitHeight$$?Math.min(1,Math.min(3*$width$$/(4*$h$$),$width$$/$w$$)):$width$$/$w$$);$scale$$=this.getMaxCanvasScale($w$$,$h$$,$scale$$);$w$$=Math.ceil($scale$$*$w$$);$h$$=Math.ceil($scale$$*$h$$);$canvas$$.setAttribute("width",$w$$);$canvas$$.setAttribute("height",$h$$);var $ctx$$=$canvas$$.getContext("2d");null!=$bg$$&&($ctx$$.beginPath(),
$ctx$$.rect(0,0,$w$$,$h$$),$ctx$$.fillStyle=$bg$$,$ctx$$.fill());1!=$scale$$&&$ctx$$.scale($scale$$,$scale$$);if($grid$$){var $view$$=$graph$$.view,$curViewScale$$=$view$$.scale;$view$$.scale=1;var $gridImage$$=btoa(unescape(encodeURIComponent($view$$.createSvgGrid($view$$.gridColor))));$view$$.scale=$curViewScale$$;$gridImage$$="data:image/svg+xml;base64,"+$gridImage$$;var $phase$$=$graph$$.gridSize*$view$$.gridSteps*$scale$$,$b$$=$graph$$.getGraphBounds(),$tx$$=$view$$.translate.x*$curViewScale$$,
$ty$$=$view$$.translate.y*$curViewScale$$,$x0$$=$tx$$+($b$$.x-$tx$$)/$curViewScale$$-$border$$,$y0$$=$ty$$+($b$$.y-$ty$$)/$curViewScale$$-$border$$,$background$$=new Image;$background$$.onload=function(){try{for(var $i$jscomp$186_x$$=-Math.round($phase$$-mxUtils.mod(($tx$$-$x0$$)*$scale$$,$phase$$)),$y$$=-Math.round($phase$$-mxUtils.mod(($ty$$-$y0$$)*$scale$$,$phase$$));$i$jscomp$186_x$$<$w$$;$i$jscomp$186_x$$+=$phase$$)for(var $j$$=$y$$;$j$$<$h$$;$j$$+=$phase$$)$ctx$$.drawImage($background$$,$i$jscomp$186_x$$/
$scale$$,$j$$/$scale$$);$drawImage$$()}catch($e$$){null!=$error$$&&$error$$($e$$)}};$background$$.onerror=function($e$$){null!=$error$$&&$error$$($e$$)};$background$$.src=$gridImage$$}else $drawImage$$()}catch($e$$){null!=$error$$&&$error$$($e$$)}});$img$$.onerror=function($e$$){null!=$error$$&&$error$$($e$$)};$addShadow$$&&this.graph.addSvgShadow($svgRoot$$);this.graph.mathEnabled&&this.addMathCss($svgRoot$$);var $done$$=mxUtils.bind(this,function(){try{null!=this.resolvedFontCss&&this.addFontCss($svgRoot$$,
this.resolvedFontCss),$img$$.src=Editor.createSvgDataUri(mxUtils.getXml($svgRoot$$))}catch($e$$){null!=$error$$&&$error$$($e$$)}});this.embedExtFonts(mxUtils.bind(this,function($extFontsEmbeddedCss$$){try{null!=$extFontsEmbeddedCss$$&&this.addFontCss($svgRoot$$,$extFontsEmbeddedCss$$),this.loadFonts($done$$)}catch($e$$){null!=$error$$&&$error$$($e$$)}}))}catch($e$$){null!=$error$$&&$error$$($e$$)}}),$imageCache$$,$converter$$)}catch($e$$){null!=$error$$&&$error$$($e$$)}};Editor.crcTable=[];for(var $n$jscomp$0$$=
0;256>$n$jscomp$0$$;$n$jscomp$0$$++)for(var $c$jscomp$0$$=$n$jscomp$0$$,$k$$=0;8>$k$$;$k$$++)$c$jscomp$0$$=1==($c$jscomp$0$$&1)?3988292384^$c$jscomp$0$$>>>1:$c$jscomp$0$$>>>1,Editor.crcTable[$n$jscomp$0$$]=$c$jscomp$0$$;Editor.updateCRC=function($c$$,$data$$,$off$$,$len$$){for(var $n$$=0;$n$$<$len$$;$n$$++)$c$$=Editor.crcTable[($c$$^$data$$.charCodeAt($off$$+$n$$))&255]^$c$$>>>8;return $c$$};Editor.crc32=function($str$$){for(var $crc$$=-1,$i$$=0;$i$$<$str$$.length;$i$$++)$crc$$=$crc$$>>>8^Editor.crcTable[($crc$$^
$str$$.charCodeAt($i$$))&255];return($crc$$^-1)>>>0};Editor.writeGraphModelToPng=function($base64$jscomp$3_data$jscomp$114_f$$,$type$$,$chunkData_dpm_key$$,$crc$jscomp$2_value$$,$error$jscomp$43_result$$){function $fread$$($d$$,$count$$){var $start$$=$pos$$;$pos$$+=$count$$;return $d$$.substring($start$$,$pos$$)}function $_freadint$$($bytes$jscomp$7_d$$){$bytes$jscomp$7_d$$=$fread$$($bytes$jscomp$7_d$$,4);return $bytes$jscomp$7_d$$.charCodeAt(3)+($bytes$jscomp$7_d$$.charCodeAt(2)<<8)+($bytes$jscomp$7_d$$.charCodeAt(1)<<
16)+($bytes$jscomp$7_d$$.charCodeAt(0)<<24)}function $writeInt$$($num$$){return String.fromCharCode($num$$>>24&255,$num$$>>16&255,$num$$>>8&255,$num$$&255)}$base64$jscomp$3_data$jscomp$114_f$$=$base64$jscomp$3_data$jscomp$114_f$$.substring($base64$jscomp$3_data$jscomp$114_f$$.indexOf(",")+1);$base64$jscomp$3_data$jscomp$114_f$$=window.atob?atob($base64$jscomp$3_data$jscomp$114_f$$):Base64.decode($base64$jscomp$3_data$jscomp$114_f$$,!0);var $pos$$=0;if($fread$$($base64$jscomp$3_data$jscomp$114_f$$,
8)!=String.fromCharCode(137)+"PNG"+String.fromCharCode(13,10,26,10))null!=$error$jscomp$43_result$$&&$error$jscomp$43_result$$();else if($fread$$($base64$jscomp$3_data$jscomp$114_f$$,4),"IHDR"!=$fread$$($base64$jscomp$3_data$jscomp$114_f$$,4))null!=$error$jscomp$43_result$$&&$error$jscomp$43_result$$();else{$fread$$($base64$jscomp$3_data$jscomp$114_f$$,17);$error$jscomp$43_result$$=$base64$jscomp$3_data$jscomp$114_f$$.substring(0,$pos$$);do{var $n$$=$_freadint$$($base64$jscomp$3_data$jscomp$114_f$$);
if("IDAT"==$fread$$($base64$jscomp$3_data$jscomp$114_f$$,4)){$error$jscomp$43_result$$=$base64$jscomp$3_data$jscomp$114_f$$.substring(0,$pos$$-8);"pHYs"==$type$$&&"dpi"==$chunkData_dpm_key$$?($chunkData_dpm_key$$=Math.round($crc$jscomp$2_value$$/.0254),$chunkData_dpm_key$$=$writeInt$$($chunkData_dpm_key$$)+$writeInt$$($chunkData_dpm_key$$)+String.fromCharCode(1)):$chunkData_dpm_key$$=$chunkData_dpm_key$$+String.fromCharCode(0)+("zTXt"==$type$$?String.fromCharCode(0):"")+$crc$jscomp$2_value$$;$crc$jscomp$2_value$$=
4294967295;$crc$jscomp$2_value$$=Editor.updateCRC($crc$jscomp$2_value$$,$type$$,0,4);$crc$jscomp$2_value$$=Editor.updateCRC($crc$jscomp$2_value$$,$chunkData_dpm_key$$,0,$chunkData_dpm_key$$.length);$error$jscomp$43_result$$+=$writeInt$$($chunkData_dpm_key$$.length)+$type$$+$chunkData_dpm_key$$+$writeInt$$($crc$jscomp$2_value$$^4294967295);$error$jscomp$43_result$$+=$base64$jscomp$3_data$jscomp$114_f$$.substring($pos$$-8,$base64$jscomp$3_data$jscomp$114_f$$.length);break}$error$jscomp$43_result$$+=
$base64$jscomp$3_data$jscomp$114_f$$.substring($pos$$-8,$pos$$-4+$n$$);$fread$$($base64$jscomp$3_data$jscomp$114_f$$,$n$$);$fread$$($base64$jscomp$3_data$jscomp$114_f$$,4)}while($n$$);return"data:image/png;base64,"+(window.btoa?btoa($error$jscomp$43_result$$):Base64.encode($error$jscomp$43_result$$,!0))}};if(window.ColorDialog){FilenameDialog.filenameHelpLink="https://www.drawio.com/doc/faq/save-file-formats";var $colorDialogAddRecentColor$$=ColorDialog.addRecentColor;ColorDialog.addRecentColor=function($color$$,
$max$$){$colorDialogAddRecentColor$$.apply(this,arguments);mxSettings.setRecentColors(ColorDialog.recentColors);mxSettings.save()};var $colorDialogResetRecentColors$$=ColorDialog.resetRecentColors;ColorDialog.resetRecentColors=function(){$colorDialogResetRecentColors$$.apply(this,arguments);mxSettings.setRecentColors(ColorDialog.recentColors);mxSettings.save()}}"undefined"!==typeof window.EditDataDialog&&(EditDataDialog.getDisplayIdForCell=function($ui$$,$cell$$){var $id$$=null;null!=$ui$$.editor.graph.getModel().getParent($cell$$)?
$id$$=$cell$$.getId():null!=$ui$$.currentPage&&($id$$=$ui$$.currentPage.getId());return $id$$});if(null!=window.StyleFormatPanel){var $formatInit$$=Format.prototype.init;Format.prototype.init=function(){$formatInit$$.apply(this,arguments);this.editorUi.editor.addListener("fileLoaded",this.update)};var $formatRefresh$$=Format.prototype.refresh;Format.prototype.refresh=function(){null!=this.editorUi.getCurrentFile()||"1"==urlParams.embed||this.editorUi.editor.chromeless?$formatRefresh$$.apply(this,
arguments):this.clear()};DiagramFormatPanel.prototype.isMathOptionVisible=function($div$$){return"simple"==Editor.currentTheme||"sketch"==Editor.currentTheme||"min"==Editor.currentTheme};var $diagramFormatPanelAddOptions$$=DiagramFormatPanel.prototype.addOptions;DiagramFormatPanel.prototype.addOptions=function($div$$){$div$$=$diagramFormatPanelAddOptions$$.apply(this,arguments);var $ui$$=this.editorUi,$graph$$=$ui$$.editor.graph;if($graph$$.isEnabled()){var $file$$=$ui$$.getCurrentFile();null!=$file$$&&
$file$$.isAutosaveOptional()&&$div$$.appendChild(this.createOption(mxResources.get("autosave"),function(){return $ui$$.editor.autosave},function($checked$$){$ui$$.editor.setAutosave($checked$$);$ui$$.editor.autosave&&$file$$.isModified()&&$file$$.fileChanged()},{install:function($apply$$){this.listener=function(){$apply$$($ui$$.editor.autosave)};$ui$$.editor.addListener("autosaveChanged",this.listener)},destroy:function(){$ui$$.editor.removeListener(this.listener)}}))}if(this.isMathOptionVisible()&&
$graph$$.isEnabled()&&"undefined"!==typeof MathJax){var $option$$=this.createOption(mxResources.get("mathematicalTypesetting"),function(){return $graph$$.mathEnabled},function($checked$$){$ui$$.actions.get("mathematicalTypesetting").funct()},{install:function($apply$$){this.listener=function(){$apply$$($graph$$.mathEnabled)};$ui$$.addListener("mathEnabledChanged",this.listener)},destroy:function(){$ui$$.removeListener(this.listener)}});$div$$.appendChild($option$$);var $help$$=$ui$$.menus.createHelpLink("https://www.drawio.com/doc/faq/math-typesetting");
$help$$.style.position="relative";$help$$.style.marginLeft="6px";$option$$.appendChild($help$$)}return $div$$};mxCellRenderer.prototype.defaultVertexShape.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"absoluteArcSize",dispName:"Abs. Arc Size",type:"bool",defVal:!1}];mxCellRenderer.defaultShapes.link.prototype.customProperties=[{name:"width",dispName:"Width",type:"float",min:0,defVal:4}];mxCellRenderer.defaultShapes.flexArrow.prototype.customProperties=
[{name:"width",dispName:"Width",type:"float",min:0,defVal:10},{name:"startWidth",dispName:"Start Width",type:"float",min:0,defVal:20},{name:"endWidth",dispName:"End Width",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.process.prototype.customProperties=[{name:"size",dispName:"Indent",type:"float",min:0,max:.5,defVal:.1}];mxCellRenderer.defaultShapes.rhombus.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,max:50,defVal:mxConstants.LINE_ARCSIZE},{name:"double",
dispName:"Double",type:"bool",defVal:!1}];mxCellRenderer.defaultShapes.partialRectangle.prototype.customProperties=[{name:"top",dispName:"Top Line",type:"bool",defVal:!0},{name:"bottom",dispName:"Bottom Line",type:"bool",defVal:!0},{name:"left",dispName:"Left Line",type:"bool",defVal:!0},{name:"right",dispName:"Right Line",type:"bool",defVal:!0}];mxCellRenderer.defaultShapes.parallelogram.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},
{name:"size",dispName:"Slope Angle",type:"float",min:0,max:1,defVal:.2}];mxCellRenderer.defaultShapes.hexagon.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"size",dispName:"Slope Angle",type:"float",min:0,max:1,defVal:.25}];mxCellRenderer.defaultShapes.triangle.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE}];mxCellRenderer.defaultShapes.document.prototype.customProperties=
[{name:"size",dispName:"Size",type:"float",defVal:.3,min:0,max:1}];mxCellRenderer.defaultShapes.internalStorage.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"dx",dispName:"Left Line",type:"float",min:0,defVal:20},{name:"dy",dispName:"Top Line",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.cube.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,defVal:20},{name:"darkOpacity",dispName:"Dark Opacity",
type:"float",min:-1,max:1,defVal:0},{name:"darkOpacity2",dispName:"Dark Opacity 2",type:"float",min:-1,max:1,defVal:0}];mxCellRenderer.defaultShapes.step.prototype.customProperties=[{name:"size",dispName:"Notch Size",type:"float",min:0,defVal:20},{name:"fixedSize",dispName:"Fixed Size",type:"bool",defVal:!0}];mxCellRenderer.defaultShapes.trapezoid.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"size",dispName:"Slope Angle",
type:"float",min:0,max:1,defVal:.2}];mxCellRenderer.defaultShapes.tape.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.4}];mxCellRenderer.defaultShapes.note.prototype.customProperties=[{name:"size",dispName:"Fold Size",type:"float",min:0,defVal:30},{name:"darkOpacity",dispName:"Dark Opacity",type:"float",min:-1,max:1,defVal:0}];mxCellRenderer.defaultShapes.card.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},
{name:"size",dispName:"Cutoff Size",type:"float",min:0,defVal:30}];mxCellRenderer.defaultShapes.callout.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"base",dispName:"Callout Width",type:"float",min:0,defVal:20},{name:"size",dispName:"Callout Length",type:"float",min:0,defVal:30},{name:"position",dispName:"Callout Position",type:"float",min:0,max:1,defVal:.5},{name:"position2",dispName:"Callout Tip Position",type:"float",
min:0,max:1,defVal:.5}];mxCellRenderer.defaultShapes.folder.prototype.customProperties=[{name:"tabWidth",dispName:"Tab Width",type:"float"},{name:"tabHeight",dispName:"Tab Height",type:"float"},{name:"tabPosition",dispName:"Tap Position",type:"enum",enumList:[{val:"left",dispName:"Left"},{val:"right",dispName:"Right"}]}];mxCellRenderer.defaultShapes.swimlane.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:15},{name:"absoluteArcSize",dispName:"Abs. Arc Size",
type:"bool",defVal:!1},{name:"startSize",dispName:"Header Size",type:"float"},{name:"swimlaneHead",dispName:"Head Border",type:"bool",defVal:!0},{name:"swimlaneBody",dispName:"Body Border",type:"bool",defVal:!0},{name:"horizontal",dispName:"Horizontal",type:"bool",defVal:!0},{name:"separatorColor",dispName:"Separator Color",type:"color",defVal:null}];mxCellRenderer.defaultShapes.table.prototype.customProperties=[{name:"rowLines",dispName:"Row Lines",type:"bool",defVal:!0},{name:"columnLines",dispName:"Column Lines",
type:"bool",defVal:!0},{name:"fixedRows",dispName:"Fixed Rows",type:"bool",defVal:!1},{name:"resizeLast",dispName:"Resize Last Column",type:"bool",defVal:!1},{name:"resizeLastRow",dispName:"Resize Last Row",type:"bool",defVal:!1}].concat(mxCellRenderer.defaultShapes.swimlane.prototype.customProperties).concat(mxCellRenderer.defaultShapes.partialRectangle.prototype.customProperties);mxCellRenderer.defaultShapes.tableRow.prototype.customProperties=mxCellRenderer.defaultShapes.swimlane.prototype.customProperties.concat(mxCellRenderer.defaultShapes.partialRectangle.prototype.customProperties);
mxCellRenderer.defaultShapes.doubleEllipse.prototype.customProperties=[{name:"margin",dispName:"Indent",type:"float",min:0,defVal:4}];mxCellRenderer.defaultShapes.ext.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:15},{name:"double",dispName:"Double",type:"bool",defVal:!1},{name:"margin",dispName:"Indent",type:"float",min:0,defVal:0}];mxCellRenderer.defaultShapes.curlyBracket.prototype.customProperties=[{name:"rounded",dispName:"Rounded",type:"bool",defVal:!0},
{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.5}];mxCellRenderer.defaultShapes.image.prototype.customProperties=[{name:"imageAspect",dispName:"Fixed Image Aspect",type:"bool",defVal:!0}];mxCellRenderer.defaultShapes.label.prototype.customProperties=[{name:"imageAspect",dispName:"Fixed Image Aspect",type:"bool",defVal:!0},{name:"imageAlign",dispName:"Image Align",type:"enum",enumList:[{val:"left",dispName:"Left"},{val:"center",dispName:"Center"},{val:"right",dispName:"Right"}],defVal:"left"},
{name:"imageVerticalAlign",dispName:"Image Vertical Align",type:"enum",enumList:[{val:"top",dispName:"Top"},{val:"middle",dispName:"Middle"},{val:"bottom",dispName:"Bottom"}],defVal:"middle"},{name:"imageWidth",dispName:"Image Width",type:"float",min:0,defVal:24},{name:"imageHeight",dispName:"Image Height",type:"float",min:0,defVal:24},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:12},{name:"absoluteArcSize",dispName:"Abs. Arc Size",type:"bool",defVal:!1}];mxCellRenderer.defaultShapes.dataStorage.prototype.customProperties=
[{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.1}];mxCellRenderer.defaultShapes.manualInput.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,defVal:30},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.loopLimit.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,defVal:20},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.offPageConnector.prototype.customProperties=
[{name:"size",dispName:"Size",type:"float",min:0,defVal:38},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.display.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.25}];mxCellRenderer.defaultShapes.singleArrow.prototype.customProperties=[{name:"arrowWidth",dispName:"Arrow Width",type:"float",min:0,max:1,defVal:.3},{name:"arrowSize",dispName:"Arrowhead Length",type:"float",min:0,max:1,defVal:.2}];mxCellRenderer.defaultShapes.doubleArrow.prototype.customProperties=
[{name:"arrowWidth",dispName:"Arrow Width",type:"float",min:0,max:1,defVal:.3},{name:"arrowSize",dispName:"Arrowhead Length",type:"float",min:0,max:1,defVal:.2}];mxCellRenderer.defaultShapes.cross.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.2}];mxCellRenderer.defaultShapes.corner.prototype.customProperties=[{name:"dx",dispName:"Width1",type:"float",min:0,defVal:20},{name:"dy",dispName:"Width2",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.tee.prototype.customProperties=
[{name:"dx",dispName:"Width1",type:"float",min:0,defVal:20},{name:"dy",dispName:"Width2",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.umlLifeline.prototype.customProperties=[{name:"participant",dispName:"Participant",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"Default"},{val:"umlActor",dispName:"Actor"},{val:"umlBoundary",dispName:"Boundary"},{val:"umlEntity",dispName:"Entity"},{val:"umlControl",dispName:"Control"}]},{name:"size",dispName:"Height",type:"float",defVal:40,
min:0}];mxCellRenderer.defaultShapes.umlFrame.prototype.customProperties=[{name:"width",dispName:"Title Width",type:"float",defVal:60,min:0},{name:"height",dispName:"Title Height",type:"float",defVal:30,min:0}];StyleFormatPanel.prototype.defaultColorSchemes=[[{fill:"",stroke:""},{fill:"#f5f5f5",stroke:"#666666",font:"#333333"},{fill:"#dae8fc",stroke:"#6c8ebf"},{fill:"#d5e8d4",stroke:"#82b366"},{fill:"#ffe6cc",stroke:"#d79b00"},{fill:"#fff2cc",stroke:"#d6b656"},{fill:"#f8cecc",stroke:"#b85450"},{fill:"#e1d5e7",
stroke:"#9673a6"}],[{fill:"",stroke:""},{fill:"#60a917",stroke:"#2D7600",font:"#ffffff"},{fill:"#008a00",stroke:"#005700",font:"#ffffff"},{fill:"#1ba1e2",stroke:"#006EAF",font:"#ffffff"},{fill:"#0050ef",stroke:"#001DBC",font:"#ffffff"},{fill:"#6a00ff",stroke:"#3700CC",font:"#ffffff"},{fill:"#d80073",stroke:"#A50040",font:"#ffffff"},{fill:"#a20025",stroke:"#6F0000",font:"#ffffff"}],[{fill:"#e51400",stroke:"#B20000",font:"#ffffff"},{fill:"#fa6800",stroke:"#C73500",font:"#000000"},{fill:"#f0a30a",stroke:"#BD7000",
font:"#000000"},{fill:"#e3c800",stroke:"#B09500",font:"#000000"},{fill:"#6d8764",stroke:"#3A5431",font:"#ffffff"},{fill:"#647687",stroke:"#314354",font:"#ffffff"},{fill:"#76608a",stroke:"#432D57",font:"#ffffff"},{fill:"#a0522d",stroke:"#6D1F00",font:"#ffffff"}],[{fill:"",stroke:""},{fill:mxConstants.NONE,stroke:""},{fill:"#fad7ac",stroke:"#b46504"},{fill:"#fad9d5",stroke:"#ae4132"},{fill:"#b0e3e6",stroke:"#0e8088"},{fill:"#b1ddf0",stroke:"#10739e"},{fill:"#d0cee2",stroke:"#56517e"},{fill:"#bac8d3",
stroke:"#23445d"}],[{fill:"",stroke:""},{fill:"#f5f5f5",stroke:"#666666",gradient:"#b3b3b3"},{fill:"#dae8fc",stroke:"#6c8ebf",gradient:"#7ea6e0"},{fill:"#d5e8d4",stroke:"#82b366",gradient:"#97d077"},{fill:"#ffcd28",stroke:"#d79b00",gradient:"#ffa500"},{fill:"#fff2cc",stroke:"#d6b656",gradient:"#ffd966"},{fill:"#f8cecc",stroke:"#b85450",gradient:"#ea6b66"},{fill:"#e6d0de",stroke:"#996185",gradient:"#d5739d"}],[{fill:"",stroke:""},{fill:"#eeeeee",stroke:"#36393d"},{fill:"#f9f7ed",stroke:"#36393d"},
{fill:"#ffcc99",stroke:"#36393d"},{fill:"#cce5ff",stroke:"#36393d"},{fill:"#ffff88",stroke:"#36393d"},{fill:"#cdeb8b",stroke:"#36393d"},{fill:"#ffcccc",stroke:"#36393d"}]];StyleFormatPanel.prototype.customColorSchemes=null;StyleFormatPanel.prototype.findCommonProperties=function($cell$$,$properties$$,$addAll$$){if(null!=$properties$$){var $handleCustomProp$$=function($custProperties$$){if(null!=$custProperties$$)if($addAll$$)for(var $i$$=0;$i$$<$custProperties$$.length;$i$$++)$properties$$[$custProperties$$[$i$$].name]=
$custProperties$$[$i$$];else for(var $key$$ in $properties$$){var $found$$=!1;for($i$$=0;$i$$<$custProperties$$.length;$i$$++)if($custProperties$$[$i$$].name==$key$$&&$custProperties$$[$i$$].type==$properties$$[$key$$].type){$found$$=!0;break}$found$$||delete $properties$$[$key$$]}},$state$$=this.editorUi.editor.graph.view.getState($cell$$);null!=$state$$&&null!=$state$$.shape&&($state$$.shape.commonCustomPropAdded||($state$$.shape.commonCustomPropAdded=!0,$state$$.shape.customProperties=$state$$.shape.customProperties||
[],$state$$.cell.vertex?Array.prototype.push.apply($state$$.shape.customProperties,Editor.commonVertexProperties):Array.prototype.push.apply($state$$.shape.customProperties,Editor.commonEdgeProperties)),$handleCustomProp$$($state$$.shape.customProperties));$cell$$=$cell$$.getAttribute("customProperties");if(null!=$cell$$)try{$handleCustomProp$$(JSON.parse($cell$$))}catch($e$$){}}};var $styleFormatPanelInit$$=StyleFormatPanel.prototype.init;StyleFormatPanel.prototype.init=function(){var $sstate$$=
this.editorUi.getSelectionState();null!=this.defaultColorSchemes&&0<this.defaultColorSchemes.length&&"image"!=$sstate$$.style.shape&&!$sstate$$.containsLabel&&0<$sstate$$.cells.length&&this.container.appendChild(this.addStyles(this.createPanel()));$styleFormatPanelInit$$.apply(this,arguments);if(Editor.enableCustomProperties){for(var $properties$$={},$vertices$$=$sstate$$.vertices,$edges$$=$sstate$$.edges,$i$$=0;$i$$<$vertices$$.length;$i$$++)this.findCommonProperties($vertices$$[$i$$],$properties$$,
0==$i$$);for($i$$=0;$i$$<$edges$$.length;$i$$++)this.findCommonProperties($edges$$[$i$$],$properties$$,0==$vertices$$.length&&0==$i$$);null!=Object.getOwnPropertyNames&&0<Object.getOwnPropertyNames($properties$$).length&&this.container.appendChild(this.addProperties(this.createPanel(),$properties$$,$sstate$$))}};var $styleFormatPanelAddStyleOps$$=StyleFormatPanel.prototype.addStyleOps;StyleFormatPanel.prototype.addStyleOps=function($div$$){var $ss$$=this.editorUi.getSelectionState();1==$ss$$.cells.length?
this.addActions($div$$,["copyStyle","pasteStyle"]):1<=$ss$$.cells.length&&this.addActions($div$$,["pasteStyle","pasteData"]);$styleFormatPanelAddStyleOps$$.apply(this,arguments);return $div$$};EditorUi.prototype.propertiesCollapsed=!0;BaseFormatPanel.prototype.addProperties=function($div$$,$insertElem_properties$$,$j$jscomp$18_state$$,$hideId_prop$$){function $applyStyleVal$$($i$$,$newVal$$,$prop$$,$delIndex$$,$changedProps_input$$){if(null!=$prop$$.valueChanged)$prop$$.valueChanged($newVal$$,$changedProps_input$$);
else{$graph$$.getModel().beginUpdate();try{$changedProps_input$$=[];var $changedVals$$=[];if(null!=$prop$$.index){for(var $allVals$$=[],$curVal$$=$prop$$.parentRow.nextSibling;$curVal$$&&$curVal$$.getAttribute("data-pName")==$i$$;)$allVals$$.push($curVal$$.getAttribute("data-pValue")),$curVal$$=$curVal$$.nextSibling;$prop$$.index<$allVals$$.length?null!=$delIndex$$?$allVals$$.splice($delIndex$$,1):$allVals$$[$prop$$.index]=$newVal$$:$allVals$$.push($newVal$$);null!=$prop$$.size&&$allVals$$.length>
$prop$$.size&&($allVals$$=$allVals$$.slice(0,$prop$$.size));$newVal$$=$allVals$$.join(",");null!=$prop$$.countProperty&&($graph$$.setCellStyles($prop$$.countProperty,$allVals$$.length,$graph$$.getSelectionCells()),$changedProps_input$$.push($prop$$.countProperty),$changedVals$$.push($allVals$$.length))}$graph$$.setCellStyles($i$$,$newVal$$,$graph$$.getSelectionCells());$changedProps_input$$.push($i$$);$changedVals$$.push($newVal$$);if(null!=$prop$$.dependentProps)for($i$$=0;$i$$<$prop$$.dependentProps.length;$i$$++){var $defVal$$=
$prop$$.dependentPropsDefVal[$i$$],$vals$$=$prop$$.dependentPropsVals[$i$$];if($vals$$.length>$newVal$$)$vals$$=$vals$$.slice(0,$newVal$$);else for(var $j$$=$vals$$.length;$j$$<$newVal$$;$j$$++)$vals$$.push($defVal$$);$vals$$=$vals$$.join(",");$graph$$.setCellStyles($prop$$.dependentProps[$i$$],$vals$$,$graph$$.getSelectionCells());$changedProps_input$$.push($prop$$.dependentProps[$i$$]);$changedVals$$.push($vals$$)}if("function"==typeof $prop$$.onChange)$prop$$.onChange($graph$$,$newVal$$);$that$$.editorUi.fireEvent(new mxEventObject("styleChanged",
"keys",$changedProps_input$$,"values",$changedVals$$,"cells",$graph$$.getSelectionCells()))}finally{$graph$$.getModel().endUpdate()}}}function $setElementPos$$($td$$,$elem$$,$adjustHeight$$){var $divPos$$=mxUtils.getOffset($div$$,!0),$pos$$=mxUtils.getOffset($td$$,!0);$elem$$.style.position="absolute";$elem$$.style.left=$pos$$.x-$divPos$$.x+"px";$elem$$.style.top=$pos$$.y-$divPos$$.y+"px";$elem$$.style.width=$td$$.offsetWidth+"px";$elem$$.style.height=$td$$.offsetHeight-($adjustHeight$$?4:0)+"px";
$elem$$.style.zIndex=5}function $createColorBtn$$($pName$$,$pValue$$,$prop$$){var $clrDiv$$=document.createElement("div");$clrDiv$$.style.width="32px";$clrDiv$$.style.height="4px";$clrDiv$$.style.margin="2px";$clrDiv$$.style.border="1px solid black";$clrDiv$$.style.background=$pValue$$&&"none"!=$pValue$$?$pValue$$:"url('"+Dialog.prototype.noColorImage+"')";btn=mxUtils.button("",mxUtils.bind($that$$,function($evt$$){this.editorUi.pickColor($pValue$$,function($color$$){$clrDiv$$.style.background="none"==
$color$$?"url('"+Dialog.prototype.noColorImage+"')":$color$$;$applyStyleVal$$($pName$$,$color$$,$prop$$)});mxEvent.consume($evt$$)}));btn.style.height="12px";btn.style.width="40px";btn.className="geColorBtn";btn.appendChild($clrDiv$$);return btn}function $createDynArrList$$($pName$$,$pValue$jscomp$2_vals$$,$subType$$,$defVal$$,$countProperty$$,$myRow$$,$flipBkg$$){null!=$pValue$jscomp$2_vals$$&&($pValue$jscomp$2_vals$$=$pValue$jscomp$2_vals$$.split(","),$secondLevel$$.push({name:$pName$$,values:$pValue$jscomp$2_vals$$,
type:$subType$$,defVal:$defVal$$,countProperty:$countProperty$$,parentRow:$myRow$$,isDeletable:!0,flipBkg:$flipBkg$$}));btn=mxUtils.button("+",mxUtils.bind($that$$,function($evt$$){for(var $beforeElem$$=$myRow$$,$arrItem$jscomp$1_index$$=0;null!=$beforeElem$$.nextSibling;)if($beforeElem$$.nextSibling.getAttribute("data-pName")==$pName$$)$beforeElem$$=$beforeElem$$.nextSibling,$arrItem$jscomp$1_index$$++;else break;var $newProp$$={type:$subType$$,parentRow:$myRow$$,index:$arrItem$jscomp$1_index$$,
isDeletable:!0,defVal:$defVal$$,countProperty:$countProperty$$};$arrItem$jscomp$1_index$$=$createPropertyRow$$($pName$$,"",$newProp$$,0==$arrItem$jscomp$1_index$$%2,$flipBkg$$);$applyStyleVal$$($pName$$,$defVal$$,$newProp$$);$beforeElem$$.parentNode.insertBefore($arrItem$jscomp$1_index$$,$beforeElem$$.nextSibling);mxEvent.consume($evt$$)}));btn.style.height="16px";btn.style.width="25px";btn.className="geColorBtn";return btn}function $createStaticArrList$$($pName$$,$curVals_pValue$$,$subType$$,$defVal$$,
$size$$,$myRow$$,$flipBkg$$){if(0<$size$$){var $vals$$=Array($size$$);$curVals_pValue$$=null!=$curVals_pValue$$?$curVals_pValue$$.split(","):[];for(var $i$$=0;$i$$<$size$$;$i$$++)$vals$$[$i$$]=null!=$curVals_pValue$$[$i$$]?$curVals_pValue$$[$i$$]:null!=$defVal$$?$defVal$$:"";$secondLevel$$.push({name:$pName$$,values:$vals$$,type:$subType$$,defVal:$defVal$$,parentRow:$myRow$$,flipBkg:$flipBkg$$,size:$size$$})}return document.createElement("div")}function $createCheckbox$$($pName$$,$pValue$$,$prop$$){var $input$$=
document.createElement("input");$input$$.type="checkbox";$input$$.checked="1"==$pValue$$;mxEvent.addListener($input$$,"change",function(){$applyStyleVal$$($pName$$,$input$$.checked?"1":"0",$prop$$)});return $input$$}function $createPropertyRow$$($pName$$,$pValue$$,$prop$$,$isOdd$$,$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$){var $label$jscomp$18_op$$=$prop$$.dispName,$pType$$=$prop$$.type,$row$$=document.createElement("tr");$row$$.className="gePropRow"+($delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$?
"Dark":"")+($isOdd$$?"Alt":"")+" gePropNonHeaderRow";$row$$.setAttribute("data-pName",$pName$$);$row$$.setAttribute("data-pValue",$pValue$$);$isOdd$$=!1;null!=$prop$$.index&&($row$$.setAttribute("data-index",$prop$$.index),$label$jscomp$18_op$$=(null!=$label$jscomp$18_op$$?$label$jscomp$18_op$$:"")+"["+$prop$$.index+"]",$isOdd$$=!0);var $td$$=document.createElement("td");$td$$.className="gePropRowCell";$label$jscomp$18_op$$=mxResources.get($label$jscomp$18_op$$,null,$label$jscomp$18_op$$);mxUtils.write($td$$,
$label$jscomp$18_op$$);$td$$.setAttribute("title",$label$jscomp$18_op$$);$isOdd$$&&($td$$.style.textAlign="right");$row$$.appendChild($td$$);$td$$=document.createElement("td");$td$$.className="gePropRowCell";if("color"==$pType$$)$td$$.appendChild($createColorBtn$$($pName$$,$pValue$$,$prop$$));else if("bool"==$pType$$||"boolean"==$pType$$)$td$$.appendChild($createCheckbox$$($pName$$,$pValue$$,$prop$$));else if("enum"==$pType$$){var $pEnumList$$=$prop$$.enumList;for($delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$=
0;$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$<$pEnumList$$.length;$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$++)if($label$jscomp$18_op$$=$pEnumList$$[$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$],$label$jscomp$18_op$$.val==$pValue$$){mxUtils.write($td$$,mxResources.get($label$jscomp$18_op$$.dispName,null,$label$jscomp$18_op$$.dispName));break}mxEvent.addListener($td$$,"click",mxUtils.bind($that$$,function(){var $select$$=document.createElement("select");$setElementPos$$($td$$,$select$$);for(var $i$$=
0;$i$$<$pEnumList$$.length;$i$$++){var $op$$=$pEnumList$$[$i$$],$opElem$$=document.createElement("option");$opElem$$.value=mxUtils.htmlEntities($op$$.val);mxUtils.write($opElem$$,mxResources.get($op$$.dispName,null,$op$$.dispName));$select$$.appendChild($opElem$$)}$select$$.value=$pValue$$;$div$$.appendChild($select$$);mxEvent.addListener($select$$,"change",function(){var $newVal$$=mxUtils.htmlEntities($select$$.value);$applyStyleVal$$($pName$$,$newVal$$,$prop$$)});$select$$.focus();mxEvent.addListener($select$$,
"blur",function(){$div$$.removeChild($select$$)})}))}else"dynamicArr"==$pType$$?$td$$.appendChild($createDynArrList$$($pName$$,$pValue$$,$prop$$.subType,$prop$$.subDefVal,$prop$$.countProperty,$row$$,$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$)):"staticArr"==$pType$$?$td$$.appendChild($createStaticArrList$$($pName$$,$pValue$$,$prop$$.subType,$prop$$.subDefVal,$prop$$.size,$row$$,$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$)):"readOnly"==$pType$$?($delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$=document.createElement("input"),
$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$.setAttribute("readonly",""),$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$.value=$pValue$$,$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$.style.width="96px",$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$.style.borderWidth="0px",$td$$.appendChild($delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$)):($td$$.innerHTML=mxUtils.htmlEntities(decodeURIComponent($pValue$$)),mxEvent.addListener($td$$,"click",mxUtils.bind($that$$,function(){function $setInputVal$$(){var $inputVal$$=
$input$$.value;$inputVal$$=0==$inputVal$$.length&&"string"!=$pType$$&&"numbers"!=$pType$$?0:$inputVal$$;$prop$$.allowAuto&&(null!=$inputVal$$.trim&&"auto"==$inputVal$$.trim().toLowerCase()?($inputVal$$="auto",$pType$$="string"):($inputVal$$=parseFloat($inputVal$$),$inputVal$$=isNaN($inputVal$$)?0:$inputVal$$));null!=$prop$$.min&&$inputVal$$<$prop$$.min?$inputVal$$=$prop$$.min:null!=$prop$$.max&&$inputVal$$>$prop$$.max&&($inputVal$$=$prop$$.max);var $newVal$$=null;try{$newVal$$="numbers"==$pType$$?
$inputVal$$.match(/\d+/g).map(Number).join(" "):encodeURIComponent(("int"==$pType$$?parseInt($inputVal$$):$inputVal$$)+"")}catch($e$$){}$applyStyleVal$$($pName$$,$newVal$$,$prop$$,null,$input$$)}var $input$$=document.createElement("input");$setElementPos$$($td$$,$input$$,!0);$input$$.value=decodeURIComponent($pValue$$);$input$$.className="gePropEditor";"int"!=$pType$$&&"float"!=$pType$$||$prop$$.allowAuto||($input$$.type="number",$input$$.step="int"==$pType$$?"1":"any",null!=$prop$$.min&&($input$$.min=
parseFloat($prop$$.min)),null!=$prop$$.max&&($input$$.max=parseFloat($prop$$.max)));$div$$.appendChild($input$$);mxEvent.addListener($input$$,"keypress",function($e$$){13==$e$$.keyCode&&$setInputVal$$()});$input$$.focus();mxEvent.addListener($input$$,"blur",function(){$setInputVal$$()})})));$prop$$.isDeletable&&($delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$=mxUtils.button("-",mxUtils.bind($that$$,function($evt$$){$applyStyleVal$$($pName$$,"",$prop$$,$prop$$.index);mxEvent.consume($evt$$)})),$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$.style.height=
"16px",$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$.style.width="25px",$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$.style.float="right",$delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$.className="geColorBtn",$td$$.appendChild($delBtn_flipBkg$jscomp$3_i$jscomp$194_inp$$));$row$$.appendChild($td$$);return $row$$}var $that$$=this,$graph$$=this.editorUi.editor.graph,$secondLevel$$=[];$div$$.style.position="relative";$div$$.style.padding="0";var $grid$$=document.createElement("table");$grid$$.className="geProperties";
$grid$$.style.whiteSpace="nowrap";$grid$$.style.width="100%";var $cellId$jscomp$1_hrow_i$$=document.createElement("tr");$cellId$jscomp$1_hrow_i$$.className="gePropHeader";var $isOdd_th$$=document.createElement("th");$isOdd_th$$.className="gePropHeaderCell";var $collapseImg$$=document.createElement("img");$collapseImg$$.src=Sidebar.prototype.expandedImage;$collapseImg$$.style.verticalAlign="middle";$isOdd_th$$.appendChild($collapseImg$$);mxUtils.write($isOdd_th$$,mxResources.get("property"));$cellId$jscomp$1_hrow_i$$.style.cursor=
"pointer";var $onFold$$=function(){var $rows$$=$grid$$.querySelectorAll(".gePropNonHeaderRow");if($that$$.editorUi.propertiesCollapsed){$collapseImg$$.src=Sidebar.prototype.collapsedImage;var $display$$="none";for(var $e$jscomp$93_r$$=$div$$.childNodes.length-1;0<=$e$jscomp$93_r$$;$e$jscomp$93_r$$--)try{var $child$$=$div$$.childNodes[$e$jscomp$93_r$$],$nodeName$$=$child$$.nodeName.toUpperCase();"INPUT"!=$nodeName$$&&"SELECT"!=$nodeName$$||$div$$.removeChild($child$$)}catch($ex$$){}}else $collapseImg$$.src=
Sidebar.prototype.expandedImage,$display$$="";for($e$jscomp$93_r$$=0;$e$jscomp$93_r$$<$rows$$.length;$e$jscomp$93_r$$++)$rows$$[$e$jscomp$93_r$$].style.display=$display$$};mxEvent.addListener($cellId$jscomp$1_hrow_i$$,"click",function(){$that$$.editorUi.propertiesCollapsed=!$that$$.editorUi.propertiesCollapsed;$onFold$$()});$cellId$jscomp$1_hrow_i$$.appendChild($isOdd_th$$);$isOdd_th$$=document.createElement("th");$isOdd_th$$.className="gePropHeaderCell";$isOdd_th$$.innerHTML=mxResources.get("value");
$cellId$jscomp$1_hrow_i$$.appendChild($isOdd_th$$);$grid$$.appendChild($cellId$jscomp$1_hrow_i$$);var $flipBkg$$=$isOdd_th$$=!1;$cellId$jscomp$1_hrow_i$$=null;1==$j$jscomp$18_state$$.vertices.length&&0==$j$jscomp$18_state$$.edges.length?$cellId$jscomp$1_hrow_i$$=$j$jscomp$18_state$$.vertices[0].id:0==$j$jscomp$18_state$$.vertices.length&&1==$j$jscomp$18_state$$.edges.length&&($cellId$jscomp$1_hrow_i$$=$j$jscomp$18_state$$.edges[0].id);null==$cellId$jscomp$1_hrow_i$$||$hideId_prop$$||$grid$$.appendChild($createPropertyRow$$("id",
mxUtils.htmlEntities($cellId$jscomp$1_hrow_i$$),{dispName:"ID",type:"readOnly"},!0,!1));for(var $arrItem_key$$ in $insertElem_properties$$)if($hideId_prop$$=$insertElem_properties$$[$arrItem_key$$],"function"!=typeof $hideId_prop$$.isVisible||$hideId_prop$$.isVisible($j$jscomp$18_state$$,this)){var $pValue$$=null!=$hideId_prop$$.getValue?$hideId_prop$$.getValue():null!=$j$jscomp$18_state$$.style[$arrItem_key$$]?mxUtils.htmlEntities($j$jscomp$18_state$$.style[$arrItem_key$$]+""):null!=$hideId_prop$$.getDefaultValue?
$hideId_prop$$.getDefaultValue($j$jscomp$18_state$$,this):$hideId_prop$$.defVal;if("separator"==$hideId_prop$$.type)$flipBkg$$=!$flipBkg$$;else{if("staticArr"==$hideId_prop$$.type)$hideId_prop$$.size=parseInt($j$jscomp$18_state$$.style[$hideId_prop$$.sizeProperty]||$insertElem_properties$$[$hideId_prop$$.sizeProperty].defVal)||0;else if(null!=$hideId_prop$$.dependentProps){var $dependentProps$$=$hideId_prop$$.dependentProps,$dependentPropsVals$$=[],$dependentPropsDefVal$$=[];for($cellId$jscomp$1_hrow_i$$=
0;$cellId$jscomp$1_hrow_i$$<$dependentProps$$.length;$cellId$jscomp$1_hrow_i$$++){var $propVal$$=$j$jscomp$18_state$$.style[$dependentProps$$[$cellId$jscomp$1_hrow_i$$]];$dependentPropsDefVal$$.push($insertElem_properties$$[$dependentProps$$[$cellId$jscomp$1_hrow_i$$]].subDefVal);$dependentPropsVals$$.push(null!=$propVal$$?$propVal$$.split(","):[])}$hideId_prop$$.dependentPropsDefVal=$dependentPropsDefVal$$;$hideId_prop$$.dependentPropsVals=$dependentPropsVals$$}$grid$$.appendChild($createPropertyRow$$($arrItem_key$$,
$pValue$$,$hideId_prop$$,$isOdd_th$$,$flipBkg$$));$isOdd_th$$=!$isOdd_th$$}}for($cellId$jscomp$1_hrow_i$$=0;$cellId$jscomp$1_hrow_i$$<$secondLevel$$.length;$cellId$jscomp$1_hrow_i$$++)for($hideId_prop$$=$secondLevel$$[$cellId$jscomp$1_hrow_i$$],$insertElem_properties$$=$hideId_prop$$.parentRow,$j$jscomp$18_state$$=0;$j$jscomp$18_state$$<$hideId_prop$$.values.length;$j$jscomp$18_state$$++)$arrItem_key$$=$createPropertyRow$$($hideId_prop$$.name,$hideId_prop$$.values[$j$jscomp$18_state$$],{type:$hideId_prop$$.type,
parentRow:$hideId_prop$$.parentRow,isDeletable:$hideId_prop$$.isDeletable,index:$j$jscomp$18_state$$,defVal:$hideId_prop$$.defVal,countProperty:$hideId_prop$$.countProperty,size:$hideId_prop$$.size},0==$j$jscomp$18_state$$%2,$hideId_prop$$.flipBkg),$insertElem_properties$$.parentNode.insertBefore($arrItem_key$$,$insertElem_properties$$.nextSibling),$insertElem_properties$$=$arrItem_key$$;$div$$.appendChild($grid$$);$onFold$$();return $div$$};StyleFormatPanel.prototype.addStyles=function($div$$){if(null!=
this.defaultColorSchemes){var $addHoverState$$=function($elt$$){mxEvent.addListener($elt$$,"mouseenter",function(){$elt$$.style.opacity="1"});mxEvent.addListener($elt$$,"mouseleave",function(){$elt$$.style.opacity="0.5"})},$ui$$=this.editorUi,$graph$$=$ui$$.editor.graph,$picker$$=document.createElement("div");$picker$$.style.whiteSpace="nowrap";$picker$$.style.paddingLeft="24px";$picker$$.style.paddingRight="20px";$div$$.style.paddingLeft="16px";$div$$.style.paddingBottom="6px";$div$$.style.position=
"relative";$div$$.appendChild($picker$$);var $stylenames$$="plain-gray plain-blue plain-green plain-turquoise plain-orange plain-yellow plain-red plain-pink plain-purple gray blue green turquoise orange yellow red pink purple".split(" "),$switcher$$=document.createElement("div");$switcher$$.style.whiteSpace="nowrap";$switcher$$.style.position="relative";$switcher$$.style.textAlign="center";$switcher$$.style.width="210px";for(var $dots$$=[],$bottom$jscomp$15_i$$=0;$bottom$jscomp$15_i$$<this.defaultColorSchemes.length;$bottom$jscomp$15_i$$++){var $dot$$=
document.createElement("div");$dot$$.style.display="inline-block";$dot$$.style.width="6px";$dot$$.style.height="6px";$dot$$.style.marginLeft="4px";$dot$$.style.marginRight="3px";$dot$$.style.borderRadius="3px";$dot$$.style.cursor="pointer";$dot$$.style.background="transparent";$dot$$.style.border="1px solid #b5b6b7";mxUtils.bind(this,function($index$$){mxEvent.addListener($dot$$,"click",mxUtils.bind(this,function(){$setScheme$$($index$$)}))})($bottom$jscomp$15_i$$);$dots$$.push($dot$$);$switcher$$.appendChild($dot$$)}var $setScheme$$=
mxUtils.bind(this,function($index$$){null!=$dots$$[$index$$]&&(null!=this.format.currentScheme&&null!=$dots$$[this.format.currentScheme]&&($dots$$[this.format.currentScheme].style.background="transparent"),this.format.currentScheme=$index$$,$updateScheme$$(this.defaultColorSchemes[this.format.currentScheme]),$dots$$[this.format.currentScheme].style.background="#84d7ff")}),$updateScheme$$=mxUtils.bind(this,function($colorsets$$){var $addButton$$=mxUtils.bind(this,function($colorset$$){var $btn$$=mxUtils.button("",
mxUtils.bind(this,function($evt$$){$graph$$.getModel().beginUpdate();try{for(var $cells$$=$ui$$.getSelectionState().cells,$i$$=0;$i$$<$cells$$.length;$i$$++){for(var $style$$=$graph$$.getModel().getStyle($cells$$[$i$$]),$j$$=0;$j$$<$stylenames$$.length;$j$$++)$style$$=mxUtils.removeStylename($style$$,$stylenames$$[$j$$]);var $defaults$$=$graph$$.getModel().isVertex($cells$$[$i$$])?$graph$$.defaultVertexStyle:$graph$$.defaultEdgeStyle;null!=$colorset$$?(mxEvent.isShiftDown($evt$$)||($style$$=""==$colorset$$.fill?
mxUtils.setStyle($style$$,mxConstants.STYLE_FILLCOLOR,null):mxUtils.setStyle($style$$,mxConstants.STYLE_FILLCOLOR,$colorset$$.fill||mxUtils.getValue($defaults$$,mxConstants.STYLE_FILLCOLOR,null)),$style$$=mxUtils.setStyle($style$$,mxConstants.STYLE_GRADIENTCOLOR,$colorset$$.gradient||mxUtils.getValue($defaults$$,mxConstants.STYLE_GRADIENTCOLOR,null)),mxEvent.isControlDown($evt$$)||mxClient.IS_MAC&&mxEvent.isMetaDown($evt$$)||!$graph$$.getModel().isVertex($cells$$[$i$$])||($style$$=mxUtils.setStyle($style$$,
mxConstants.STYLE_FONTCOLOR,$colorset$$.font||mxUtils.getValue($defaults$$,mxConstants.STYLE_FONTCOLOR,null)))),mxEvent.isAltDown($evt$$)||($style$$=""==$colorset$$.stroke?mxUtils.setStyle($style$$,mxConstants.STYLE_STROKECOLOR,null):mxUtils.setStyle($style$$,mxConstants.STYLE_STROKECOLOR,$colorset$$.stroke||mxUtils.getValue($defaults$$,mxConstants.STYLE_STROKECOLOR,null)))):($style$$=mxUtils.setStyle($style$$,mxConstants.STYLE_FILLCOLOR,mxUtils.getValue($defaults$$,mxConstants.STYLE_FILLCOLOR,"#ffffff")),
$style$$=mxUtils.setStyle($style$$,mxConstants.STYLE_STROKECOLOR,mxUtils.getValue($defaults$$,mxConstants.STYLE_STROKECOLOR,"#000000")),$style$$=mxUtils.setStyle($style$$,mxConstants.STYLE_GRADIENTCOLOR,mxUtils.getValue($defaults$$,mxConstants.STYLE_GRADIENTCOLOR,null)),$graph$$.getModel().isVertex($cells$$[$i$$])&&($style$$=mxUtils.setStyle($style$$,mxConstants.STYLE_FONTCOLOR,mxUtils.getValue($defaults$$,mxConstants.STYLE_FONTCOLOR,null))));$graph$$.getModel().setStyle($cells$$[$i$$],$style$$)}}finally{$graph$$.getModel().endUpdate()}}));
$btn$$.className="geStyleButton";$btn$$.style.width="36px";$btn$$.style.height=10>=this.defaultColorSchemes.length?"24px":"30px";$btn$$.style.margin="0px 6px 6px 0px";if(null!=$colorset$$){var $b$jscomp$20_bg$$=Editor.isDarkMode()?"2px solid":"1px solid";null!=$colorset$$.border&&($b$jscomp$20_bg$$=$colorset$$.border);null!=$colorset$$.gradient?mxClient.IS_IE&&10>document.documentMode?$btn$$.style.filter="progid:DXImageTransform.Microsoft.Gradient(StartColorStr='"+$colorset$$.fill+"', EndColorStr='"+
$colorset$$.gradient+"', GradientType=0)":$btn$$.style.backgroundImage="linear-gradient("+$colorset$$.fill+" 0px,"+$colorset$$.gradient+" 100%)":$colorset$$.fill==mxConstants.NONE?$btn$$.style.background="url('"+Dialog.prototype.noColorImage+"')":$btn$$.style.backgroundColor=""==$colorset$$.fill?mxUtils.getValue($graph$$.defaultVertexStyle,mxConstants.STYLE_FILLCOLOR,Editor.isDarkMode()?Editor.darkColor:"#ffffff"):$colorset$$.fill||mxUtils.getValue($graph$$.defaultVertexStyle,mxConstants.STYLE_FILLCOLOR,
Editor.isDarkMode()?Editor.darkColor:"#ffffff");$btn$$.style.border=$colorset$$.stroke==mxConstants.NONE?$b$jscomp$20_bg$$+" transparent":""==$colorset$$.stroke?$b$jscomp$20_bg$$+" "+mxUtils.getValue($graph$$.defaultVertexStyle,mxConstants.STYLE_STROKECOLOR,Editor.isDarkMode()?"#ffffff":Editor.darkColor):$b$jscomp$20_bg$$+" "+($colorset$$.stroke||mxUtils.getValue($graph$$.defaultVertexStyle,mxConstants.STYLE_STROKECOLOR,Editor.isDarkMode()?"#ffffff":Editor.darkColor));null!=$colorset$$.title&&$btn$$.setAttribute("title",
$colorset$$.title)}else{$b$jscomp$20_bg$$=mxUtils.getValue($graph$$.defaultVertexStyle,mxConstants.STYLE_FILLCOLOR,"#ffffff");var $bd$$=mxUtils.getValue($graph$$.defaultVertexStyle,mxConstants.STYLE_STROKECOLOR,"#000000");$btn$$.style.backgroundColor=$b$jscomp$20_bg$$;$btn$$.style.border="1px solid "+$bd$$}$btn$$.style.borderRadius="0";$picker$$.appendChild($btn$$)});$picker$$.innerText="";for(var $i$jscomp$0$$=0;$i$jscomp$0$$<$colorsets$$.length;$i$jscomp$0$$++)0<$i$jscomp$0$$&&0==mxUtils.mod($i$jscomp$0$$,
4)&&mxUtils.br($picker$$),$addButton$$($colorsets$$[$i$jscomp$0$$])});null==this.format.currentScheme?$setScheme$$(Math.min($dots$$.length-1,Editor.isDarkMode()?1:"1"==urlParams.sketch?5:0)):$setScheme$$(this.format.currentScheme);$bottom$jscomp$15_i$$=10>=this.defaultColorSchemes.length?28:8;var $left$$=document.createElement("div");$left$$.style.cssText="position:absolute;left:10px;top:8px;bottom:"+$bottom$jscomp$15_i$$+"px;width:20px;margin:4px;opacity:0.5;background-repeat:no-repeat;background-position:center center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQBAMAAADQT4M0AAAAIVBMVEUAAAB2dnZ4eHh3d3d1dXVxcXF2dnZ2dnZ2dnZxcXF2dnYmb3w1AAAACnRSTlMAfCTkhhvb7cQSPH2JPgAAADRJREFUCNdjwACMAmBKaiGYs2oJmLPKAZ3DabU8AMRTXpUKopislqFyVzCAuUZgikkBZjoAcMYLnp53P/UAAAAASUVORK5CYII=);";
mxEvent.addListener($left$$,"click",mxUtils.bind(this,function(){$setScheme$$(mxUtils.mod(this.format.currentScheme-1,this.defaultColorSchemes.length))}));var $right$$=document.createElement("div");$right$$.style.cssText="position:absolute;left:202px;top:8px;bottom:"+$bottom$jscomp$15_i$$+"px;width:20px;margin:4px;opacity:0.5;background-repeat:no-repeat;background-position:center center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQBAMAAADQT4M0AAAAIVBMVEUAAAB2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnYBuwCcAAAACnRSTlMAfCTkhhvb7cQSPH2JPgAAADZJREFUCNdjQAOMAmBKaiGY8loF5rKswsZlrVo8AUiFrTICcbIWK8A5DF1gDoMymMPApIAwHwCS0Qx/U7qCBQAAAABJRU5ErkJggg==);";
1<this.defaultColorSchemes.length&&($div$$.appendChild($left$$),$div$$.appendChild($right$$));mxEvent.addListener($right$$,"click",mxUtils.bind(this,function(){$setScheme$$(mxUtils.mod(this.format.currentScheme+1,this.defaultColorSchemes.length))}));$addHoverState$$($left$$);$addHoverState$$($right$$);$updateScheme$$(this.defaultColorSchemes[this.format.currentScheme]);10>=this.defaultColorSchemes.length&&$div$$.appendChild($switcher$$)}return $div$$}}Graph.fontMapping={"https://fonts.googleapis.com/css?family=Architects+Daughter":'@font-face { font-family: "Architects Daughter"; src: url('+
STYLE_PATH+'/fonts/ArchitectsDaughter-Regular.ttf) format("truetype"); }'};Graph.customFontElements={};Graph.isGoogleFontUrl=function($url$$){return $url$$.substring(0,Editor.GOOGLE_FONTS.length)==Editor.GOOGLE_FONTS||$url$$.substring(0,Editor.GOOGLE_FONTS_CSS2.length)==Editor.GOOGLE_FONTS_CSS2};Graph.isCssFontUrl=function($url$$){return Graph.isGoogleFontUrl($url$$)};Graph.rewriteGoogleFontUrl=function($url$$){null!=$url$$&&$url$$.substring(0,Editor.GOOGLE_FONTS.length)==Editor.GOOGLE_FONTS&&($url$$=
Editor.GOOGLE_FONTS_CSS2+$url$$.substring(Editor.GOOGLE_FONTS.length)+":wght@400;500");return $url$$};Graph.createFontElement=function($elt$jscomp$23_name$$,$url$$){var $style$$=Graph.fontMapping[$url$$];null==$style$$&&Graph.isCssFontUrl($url$$)?($elt$jscomp$23_name$$=document.createElement("link"),$elt$jscomp$23_name$$.setAttribute("rel","stylesheet"),$elt$jscomp$23_name$$.setAttribute("type","text/css"),$elt$jscomp$23_name$$.setAttribute("charset","UTF-8"),$elt$jscomp$23_name$$.setAttribute("href",
Graph.rewriteGoogleFontUrl($url$$))):(null==$style$$&&($style$$='@font-face {\nfont-family: "'+$elt$jscomp$23_name$$+'";\nsrc: url("'+$url$$+'");\n}'),$elt$jscomp$23_name$$=document.createElement("style"),mxUtils.write($elt$jscomp$23_name$$,$style$$));return $elt$jscomp$23_name$$};Graph.addRecentCustomFont=function($key$$,$entry$$){};Graph.addFont=function($name$$,$head$jscomp$2_url$$,$callback$$){if(null!=$name$$&&0<$name$$.length&&null!=$head$jscomp$2_url$$&&0<$head$jscomp$2_url$$.length){var $key$$=
$name$$.toLowerCase();if("helvetica"!=$key$$&&"arial"!=$name$$&&"sans-serif"!=$key$$){var $entry$jscomp$1_realUrl$$=Graph.customFontElements[$key$$];null!=$entry$jscomp$1_realUrl$$&&$entry$jscomp$1_realUrl$$.url!=$head$jscomp$2_url$$&&($entry$jscomp$1_realUrl$$.elt.parentNode.removeChild($entry$jscomp$1_realUrl$$.elt),$entry$jscomp$1_realUrl$$=null);null==$entry$jscomp$1_realUrl$$?($entry$jscomp$1_realUrl$$=$head$jscomp$2_url$$,"http:"==$head$jscomp$2_url$$.substring(0,5)&&($entry$jscomp$1_realUrl$$=
PROXY_URL+"?url="+encodeURIComponent($head$jscomp$2_url$$)),$entry$jscomp$1_realUrl$$={name:$name$$,url:$head$jscomp$2_url$$,elt:Graph.createFontElement($name$$,$entry$jscomp$1_realUrl$$)},Graph.customFontElements[$key$$]=$entry$jscomp$1_realUrl$$,$head$jscomp$2_url$$=document.getElementsByTagName("head")[0],null!=$callback$$&&("link"==$entry$jscomp$1_realUrl$$.elt.nodeName.toLowerCase()?($entry$jscomp$1_realUrl$$.elt.onload=$callback$$,$entry$jscomp$1_realUrl$$.elt.onerror=$callback$$):$callback$$()),
null!=$head$jscomp$2_url$$&&$head$jscomp$2_url$$.appendChild($entry$jscomp$1_realUrl$$.elt)):null!=$callback$$&&$callback$$()}else null!=$callback$$&&$callback$$()}else null!=$callback$$&&$callback$$();return $name$$};Graph.getFontUrl=function($font$jscomp$3_name$$,$url$$){$font$jscomp$3_name$$=Graph.customFontElements[$font$jscomp$3_name$$.toLowerCase()];null!=$font$jscomp$3_name$$&&($url$$=$font$jscomp$3_name$$.url);return $url$$};Graph.processFontAttributes=function($elt$jscomp$24_elts$$){$elt$jscomp$24_elts$$=
$elt$jscomp$24_elts$$.getElementsByTagName("*");for(var $i$$=0;$i$$<$elt$jscomp$24_elts$$.length;$i$$++){var $url$$=$elt$jscomp$24_elts$$[$i$$].getAttribute("data-font-src");if(null!=$url$$){var $name$$="FONT"==$elt$jscomp$24_elts$$[$i$$].nodeName?$elt$jscomp$24_elts$$[$i$$].getAttribute("face"):$elt$jscomp$24_elts$$[$i$$].style.fontFamily;null!=$name$$&&Graph.addFont($name$$,$url$$)}}};Graph.processFontStyle=function($style$$){if(null!=$style$$){var $url$$=mxUtils.getValue($style$$,"fontSource",
null);if(null!=$url$$){var $name$$=mxUtils.getValue($style$$,mxConstants.STYLE_FONTFAMILY,null);null!=$name$$&&Graph.addFont($name$$,decodeURIComponent($url$$))}}return $style$$};Graph.prototype.defaultThemeName="default-style2";Graph.prototype.lastPasteXml=null;Graph.prototype.pasteCounter=0;Graph.prototype.defaultScrollbars="0"!=urlParams.sb;Graph.prototype.defaultPageVisible="0"!=urlParams.pv;Graph.prototype.shadowId="dropShadow";Graph.prototype.svgShadowColor="#3D4574";Graph.prototype.svgShadowOpacity=
"0.4";Graph.prototype.svgShadowBlur="1.7";Graph.prototype.svgShadowSize="3";Graph.prototype.hiddenTags=[];Graph.prototype.defaultMathEnabled=!1;var $graphInit$$=Graph.prototype.init;Graph.prototype.init=function(){function $setMouseEvent$$($evt$$){$mouseEvent$$=$evt$$}$graphInit$$.apply(this,arguments);this.hiddenTags=[];window.mxFreehand&&(this.freehand=new mxFreehand(this));var $mouseEvent$$=null;mxEvent.addListener(this.container,"mouseenter",$setMouseEvent$$);mxEvent.addListener(this.container,
"mousemove",$setMouseEvent$$);mxEvent.addListener(this.container,"mouseleave",function($evt$$){$mouseEvent$$=null});this.isMouseInsertPoint=function(){return null!=$mouseEvent$$};var $getInsertPoint$$=this.getInsertPoint;this.getInsertPoint=function(){return null!=$mouseEvent$$?this.getPointForEvent($mouseEvent$$):$getInsertPoint$$.apply(this,arguments)};var $layoutManagerGetLayout$$=this.layoutManager.getLayout;this.layoutManager.getLayout=function($cell$$){var $style$$=this.graph.getCellStyle($cell$$);
if(null!=$style$$&&"rack"==$style$$.childLayout){var $rackLayout$$=new mxStackLayout(this.graph,!1);$rackLayout$$.gridSize=null!=$style$$.rackUnitSize?parseFloat($style$$.rackUnitSize):"undefined"!==typeof mxRackContainer?mxRackContainer.unitSize:20;$rackLayout$$.marginLeft=$style$$.marginLeft||0;$rackLayout$$.marginRight=$style$$.marginRight||0;$rackLayout$$.marginTop=$style$$.marginTop||0;$rackLayout$$.marginBottom=$style$$.marginBottom||0;$rackLayout$$.allowGaps=$style$$.allowGaps||0;$rackLayout$$.horizontal=
"1"==mxUtils.getValue($style$$,"horizontalRack","0");$rackLayout$$.resizeParent=!1;$rackLayout$$.fill=!0;return $rackLayout$$}return $layoutManagerGetLayout$$.apply(this,arguments)};this.updateGlobalUrlVariables()};var $graphPostProcessCellStyle$$=Graph.prototype.postProcessCellStyle;Graph.prototype.postProcessCellStyle=function($cell$$,$style$$){return Graph.processFontStyle($graphPostProcessCellStyle$$.apply(this,arguments))};var $mxSvgCanvas2DUpdateTextNodes$$=mxSvgCanvas2D.prototype.updateTextNodes;
mxSvgCanvas2D.prototype.updateTextNodes=function($x$$,$y$$,$w$$,$h$$,$align$$,$valign$$,$wrap$$,$overflow$$,$clip$$,$rotation$$,$dir$$,$g$$){$mxSvgCanvas2DUpdateTextNodes$$.apply(this,arguments);Graph.processFontAttributes($g$$)};var $mxTextRedraw$$=mxText.prototype.redraw;mxText.prototype.redraw=function(){$mxTextRedraw$$.apply(this,arguments);null!=this.node&&"DIV"==this.node.nodeName&&Graph.processFontAttributes(this.node)};Graph.prototype.createTagsDialog=function($isEnabled$$,$invert$$,$addFn$$,
$helpButton$$){function $removeInvisibleSelectionCells$$(){for(var $cells$$=$graph$$.getSelectionCells(),$visible$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++)$graph$$.isCellVisible($cells$$[$i$$])&&$visible$$.push($cells$$[$i$$]);$graph$$.setSelectionCells($visible$$)}function $setAllVisible$$($visible$$){$graph$$.setHiddenTags($visible$$?[]:$allTags$$.slice());$removeInvisibleSelectionCells$$();$graph$$.refresh()}function $refreshTags$$($tags$$,$selected$$){$tagCloud$$.innerText="";if(0<$tags$$.length){var $table$$=
document.createElement("table");$table$$.setAttribute("cellpadding","2");$table$$.style.boxSizing="border-box";$table$$.style.tableLayout="fixed";$table$$.style.width="100%";var $tbody$$=document.createElement("tbody");if(null!=$tags$$&&0<$tags$$.length)for(var $i$$=0;$i$$<$tags$$.length;$i$$++)(function($tag$$){function $selectCells$$(){var $cells$$=$graph$$.getCellsForTags([$tag$$],null,null,!0);$graph$$.isEnabled()?$graph$$.setSelectionCells($cells$$):$graph$$.highlightCells($cells$$,null,null,
70)}var $visible$$=0>mxUtils.indexOf($graph$$.hiddenTags,$tag$$),$row$$=document.createElement("tr"),$td$$=document.createElement("td");$td$$.style.align="center";$td$$.style.width="16px";var $img$$=document.createElement("img");$img$$.setAttribute("src",$visible$$?Editor.visibleImage:Editor.hiddenImage);$img$$.setAttribute("title",mxResources.get($visible$$?"hideIt":"show",[$tag$$]));mxUtils.setOpacity($img$$,$visible$$?75:25);$img$$.className="geAdaptiveAsset";$img$$.style.verticalAlign="middle";
$img$$.style.cursor="pointer";$img$$.style.width="16px";if($invert$$||Editor.isDarkMode())$img$$.style.filter="invert(100%)";$td$$.appendChild($img$$);mxEvent.addListener($img$$,"click",function($evt$$){mxEvent.isShiftDown($evt$$)?$setAllVisible$$(0<=mxUtils.indexOf($graph$$.hiddenTags,$tag$$)):($graph$$.toggleHiddenTag($tag$$),$removeInvisibleSelectionCells$$(),$graph$$.refresh());mxEvent.consume($evt$$)});$row$$.appendChild($td$$);$td$$=document.createElement("td");$td$$.style.align="center";$td$$.style.width=
"16px";$img$$=document.createElement("img");$img$$.setAttribute("src",Editor.selectImage);$img$$.setAttribute("title",mxResources.get("select"));mxUtils.setOpacity($img$$,$visible$$?75:25);$img$$.className="geAdaptiveAsset";$img$$.style.verticalAlign="middle";$img$$.style.cursor="pointer";$img$$.style.width="16px";if($invert$$||Editor.isDarkMode())$img$$.style.filter="invert(100%)";mxEvent.addListener($img$$,"click",function($evt$$){$setAllVisible$$(!0);$selectCells$$();mxEvent.consume($evt$$)});
$td$$.appendChild($img$$);$row$$.appendChild($td$$);$td$$=document.createElement("td");$td$$.style.overflow="hidden";$td$$.style.whiteSpace="nowrap";$td$$.style.textOverflow="ellipsis";$td$$.style.verticalAlign="middle";$td$$.style.cursor="pointer";$td$$.setAttribute("title",$tag$$);a=document.createElement("a");mxUtils.write(a,$tag$$);a.style.textOverflow="ellipsis";a.style.position="relative";mxUtils.setOpacity(a,$visible$$?100:40);$td$$.appendChild(a);mxEvent.addListener($td$$,"click",function($evt$$){if(mxEvent.isShiftDown($evt$$))$setAllVisible$$(!0),
$selectCells$$();else if($visible$$&&0<$graph$$.hiddenTags.length)$setAllVisible$$(!0);else{var $temp$$=$allTags$$.slice(),$index$$=mxUtils.indexOf($temp$$,$tag$$);$temp$$.splice($index$$,1);$graph$$.setHiddenTags($temp$$);$removeInvisibleSelectionCells$$();$graph$$.refresh()}mxEvent.consume($evt$$)});$row$$.appendChild($td$$);if($graph$$.isEnabled()){$td$$=document.createElement("td");$td$$.style.verticalAlign="middle";$td$$.style.textAlign="center";$td$$.style.width="18px";if(null==$selected$$){$td$$.style.align=
"center";$td$$.style.width="16px";$img$$=document.createElement("img");$img$$.setAttribute("src",Editor.trashImage);$img$$.setAttribute("title",mxResources.get("removeIt",[$tag$$]));mxUtils.setOpacity($img$$,$visible$$?75:25);$img$$.className="geAdaptiveAsset";$img$$.style.verticalAlign="middle";$img$$.style.cursor="pointer";$img$$.style.width="16px";if($invert$$||Editor.isDarkMode())$img$$.style.filter="invert(100%)";mxEvent.addListener($img$$,"click",function($evt$$){var $idx$$=mxUtils.indexOf($allTags$$,
$tag$$);0<=$idx$$&&$allTags$$.splice($idx$$,1);$graph$$.removeTagsForCells($graph$$.model.getDescendants($graph$$.model.getRoot()),[$tag$$]);$graph$$.refresh();mxEvent.consume($evt$$)});$td$$.appendChild($img$$)}else{var $cb2$$=document.createElement("input");$cb2$$.setAttribute("type","checkbox");$cb2$$.style.margin="0px";$cb2$$.defaultChecked=null!=$selected$$&&0<=mxUtils.indexOf($selected$$,$tag$$);$cb2$$.checked=$cb2$$.defaultChecked;$cb2$$.style.background="transparent";$cb2$$.setAttribute("title",
mxResources.get($cb2$$.defaultChecked?"removeIt":"add",[$tag$$]));mxEvent.addListener($cb2$$,"change",function($evt$$){$cb2$$.checked?$graph$$.addTagsForCells($graph$$.getSelectionCells(),[$tag$$]):$graph$$.removeTagsForCells($graph$$.getSelectionCells(),[$tag$$]);mxEvent.consume($evt$$)});$td$$.appendChild($cb2$$)}$row$$.appendChild($td$$)}$tbody$$.appendChild($row$$)})($tags$$[$i$$]);$table$$.appendChild($tbody$$);$tagCloud$$.appendChild($table$$)}}var $graph$$=this,$allTags$$=$graph$$.hiddenTags.slice(),
$div$$=document.createElement("div");$div$$.style.userSelect="none";$div$$.style.overflow="hidden";$div$$.style.padding="10px";$div$$.style.height="100%";var $tagCloud$$=document.createElement("div");$tagCloud$$.style.boxSizing="border-box";$tagCloud$$.style.borderRadius="4px";$tagCloud$$.style.userSelect="none";$tagCloud$$.style.overflow="auto";$tagCloud$$.style.position="absolute";$tagCloud$$.style.left="10px";$tagCloud$$.style.right="10px";$tagCloud$$.style.top="10px";$tagCloud$$.style.border=
$graph$$.isEnabled()?"1px solid #808080":"none";$tagCloud$$.style.bottom=$graph$$.isEnabled()?"48px":"10px";$div$$.appendChild($tagCloud$$);var $resetBtn$$=mxUtils.button(mxResources.get("reset"),function($evt$$){$graph$$.setHiddenTags([]);mxEvent.isShiftDown($evt$$)||($allTags$$=$graph$$.hiddenTags.slice());$removeInvisibleSelectionCells$$();$graph$$.refresh()});$resetBtn$$.setAttribute("title",mxResources.get("reset"));$resetBtn$$.className="geBtn";$resetBtn$$.style.margin="0 4px 0 0";var $addBtn$$=
mxUtils.button(mxResources.get("add"),function(){null!=$addFn$$&&$addFn$$($allTags$$,function($newAllTags$$){$allTags$$=$newAllTags$$;$refreshUi$$()})});$addBtn$$.setAttribute("title",mxResources.get("add"));$addBtn$$.className="geBtn";$addBtn$$.style.margin="0";$graph$$.addListener(mxEvent.ROOT,function(){$allTags$$=$graph$$.hiddenTags.slice()});var $refreshUi$$=mxUtils.bind(this,function($sender$jscomp$45_tags$$,$evt$jscomp$209_i$$){if($isEnabled$$()){$sender$jscomp$45_tags$$=$graph$$.getAllTags();
for($evt$jscomp$209_i$$=0;$evt$jscomp$209_i$$<$sender$jscomp$45_tags$$.length;$evt$jscomp$209_i$$++)0>mxUtils.indexOf($allTags$$,$sender$jscomp$45_tags$$[$evt$jscomp$209_i$$])&&$allTags$$.push($sender$jscomp$45_tags$$[$evt$jscomp$209_i$$]);$allTags$$.sort();$graph$$.isSelectionEmpty()?$refreshTags$$($allTags$$):$refreshTags$$($allTags$$,$graph$$.getCommonTagsForCells($graph$$.getSelectionCells()))}});$graph$$.selectionModel.addListener(mxEvent.CHANGE,$refreshUi$$);$graph$$.model.addListener(mxEvent.CHANGE,
$refreshUi$$);$graph$$.addListener(mxEvent.REFRESH,$refreshUi$$);var $footer$$=document.createElement("div");$footer$$.style.display="flex";$footer$$.style.alignItems="center";$footer$$.style.boxSizing="border-box";$footer$$.style.whiteSpace="nowrap";$footer$$.style.position="absolute";$footer$$.style.overflow="hidden";$footer$$.style.bottom="6px";$footer$$.style.height="42px";$footer$$.style.right="10px";$footer$$.style.left="10px";$graph$$.isEnabled()&&($footer$$.appendChild($resetBtn$$),$footer$$.appendChild($addBtn$$),
$div$$.appendChild($footer$$));null!=$helpButton$$&&$footer$$.appendChild($helpButton$$);return{div:$div$$,refresh:$refreshUi$$}};Graph.prototype.getCustomFonts=function(){var $fonts$$=this.extFonts;$fonts$$=null!=$fonts$$?$fonts$$.slice():[];for(var $key$$ in Graph.customFontElements){var $font$$=Graph.customFontElements[$key$$];$fonts$$.push({name:$font$$.name,url:$font$$.url})}return $fonts$$};Graph.prototype.setFont=function($name$$,$url$$){Graph.addFont($name$$,$url$$);var $temp$$=Editor.guid();
document.execCommand("fontname",!1,$temp$$);for(var $fonts$$=this.cellEditor.textarea.getElementsByTagName("font"),$elt$$=null,$i$$=0;$i$$<$fonts$$.length;$i$$++)if($fonts$$[$i$$].getAttribute("face")==$temp$$){$elt$$=$fonts$$[$i$$];break}null!=$elt$$?($fonts$$[$i$$].setAttribute("face",$name$$),null!=$url$$?$fonts$$[$i$$].setAttribute("data-font-src",$url$$):$fonts$$[$i$$].removeAttribute("data-font-src")):document.execCommand("fontname",!1,$name$$)};var $graphIsFastZoomEnabled$$=Graph.prototype.isFastZoomEnabled;
Graph.prototype.isFastZoomEnabled=function(){return $graphIsFastZoomEnabled$$.apply(this,arguments)&&(!this.shadowVisible||!mxClient.IS_SF)};Graph.prototype.updateGlobalUrlVariables=function(){this.globalVars=Editor.globalVars;if(null!=urlParams.vars)try{this.globalVars=null!=this.globalVars?mxUtils.clone(this.globalVars):{};var $vars$$=JSON.parse(decodeURIComponent(urlParams.vars));if(null!=$vars$$)for(var $key$$ in $vars$$)this.globalVars[$key$$]=$vars$$[$key$$]}catch($e$$){null!=window.console&&
console.log("Error in vars URL parameter: "+$e$$)}};Graph.prototype.getExportVariables=function(){return null!=this.globalVars?mxUtils.clone(this.globalVars):{}};var $graphGetGlobalVariable$$=Graph.prototype.getGlobalVariable;Graph.prototype.getGlobalVariable=function($name$$){var $val$$=$graphGetGlobalVariable$$.apply(this,arguments);null==$val$$&&null!=this.globalVars&&($val$$=this.globalVars[$name$$]);return $val$$};Graph.prototype.getDefaultStylesheet=function(){if(null==this.defaultStylesheet){var $node$$=
this.themes["default-style2"];this.defaultStylesheet=(new mxCodec($node$$.ownerDocument)).decode($node$$)}return this.defaultStylesheet};Graph.prototype.isViewer=function(){return urlParams.viewer};Graph.prototype.adaptBackgroundPage=function($image$$,$theme$$){if(null!=$image$$&&null!=$image$$.src&&Graph.isPageLink($image$$.originalSrc))try{var $i$jscomp$204_svg$$=Graph.getSvgFromDataUri($image$$.src);if(null!=$i$jscomp$204_svg$$){var $doc$$=(new DOMParser).parseFromString($i$jscomp$204_svg$$,"text/xml"),
$styles$$=$doc$$.getElementsByTagName("style"),$css$$=mxUtils.htmlEntities(Graph.createSvgDarkModeCss(),!1);for($i$jscomp$204_svg$$=0;$i$jscomp$204_svg$$<$styles$$.length;$i$jscomp$204_svg$$++)if($styles$$[$i$jscomp$204_svg$$].innerHTML==$css$$){$styles$$[$i$jscomp$204_svg$$].parentNode.removeChild($styles$$[$i$jscomp$204_svg$$]);break}if("dark"==$theme$$||"auto"==$theme$$){var $style$$=Graph.createSvgDarkModeStyle($doc$$,$theme$$);$doc$$.getElementsByTagName("defs")[0].appendChild($style$$)}$image$$=
new mxImage(Editor.createSvgDataUri(mxUtils.getXml($doc$$.documentElement)),$image$$.width,$image$$.height,$image$$.x,$image$$.y)}}catch($e$$){}return $image$$};var $graphGetSvg$$=Graph.prototype.getSvg;Graph.prototype.getSvg=function($background$$,$scale$$,$border$$,$nocrop$$,$crisp$$,$ignoreSelection$$,$showText$$,$imgExport$$,$linkTarget$$,$hasShadow$$,$incExtFonts$$,$theme$$,$exportType$$,$cells$$,$noCssClass$$){var $temp$$=null,$tempFg$$=null,$tempBg$$=null;Editor.enableCssDarkMode||null==this.themes||
null==$theme$$||"dark"==$theme$$==("darkTheme"==this.defaultThemeName)||($temp$$=this.stylesheet,$tempFg$$=this.shapeForegroundColor,$tempBg$$=this.shapeBackgroundColor,this.shapeForegroundColor="darkTheme"==this.defaultThemeName?"#000000":Editor.lightColor,this.shapeBackgroundColor="darkTheme"==this.defaultThemeName?"#ffffff":Editor.darkColor,this.stylesheet=this.getDefaultStylesheet(),this.refresh());var $bgImg$$=null;Editor.enableCssDarkMode&&null!=this.backgroundImage&&($bgImg$$=this.backgroundImage,
this.backgroundImage=this.adaptBackgroundPage($bgImg$$,$theme$$));var $result$$=$graphGetSvg$$.apply(this,arguments);if(Editor.enableCssDarkMode&&("dark"==$theme$$||"auto"==$theme$$)){var $cssClass$jscomp$2_style$$=$noCssClass$$?null:"ge-export-svg-"+$theme$$;null!=$cssClass$jscomp$2_style$$&&$result$$.setAttribute("class",$cssClass$jscomp$2_style$$);$cssClass$jscomp$2_style$$=Graph.createSvgDarkModeStyle($result$$.ownerDocument,$theme$$,$cssClass$jscomp$2_style$$,$background$$);$result$$.getElementsByTagName("defs")[0].appendChild($cssClass$jscomp$2_style$$)}var $extFonts$$=
this.getCustomFonts();if($incExtFonts$$&&0<$extFonts$$.length){var $svgDoc$$=$result$$.ownerDocument;$cssClass$jscomp$2_style$$=null!=$svgDoc$$.createElementNS?$svgDoc$$.createElementNS(mxConstants.NS_SVG,"style"):$svgDoc$$.createElement("style");null!=$svgDoc$$.setAttributeNS?$cssClass$jscomp$2_style$$.setAttributeNS("type","text/css"):$cssClass$jscomp$2_style$$.setAttribute("type","text/css");for(var $prefix$$="",$postfix$$="",$i$$=0;$i$$<$extFonts$$.length;$i$$++){var $fontName$$=$extFonts$$[$i$$].name,
$fontUrl$$=$extFonts$$[$i$$].url;Graph.isCssFontUrl($fontUrl$$)?$prefix$$+="@import url("+Graph.rewriteGoogleFontUrl($fontUrl$$)+");\n":$postfix$$+='@font-face {\nfont-family: "'+$fontName$$+'";\nsrc: url("'+$fontUrl$$+'");\n}\n'}$cssClass$jscomp$2_style$$.appendChild($svgDoc$$.createTextNode($prefix$$+$postfix$$));$result$$.getElementsByTagName("defs")[0].appendChild($cssClass$jscomp$2_style$$)}this.mathEnabled&&(document.body.appendChild($result$$),Editor.MathJaxRender($result$$),$result$$.parentNode.removeChild($result$$),
$cssClass$jscomp$2_style$$=$result$$.ownerDocument.getElementById("MJX-SVG-styles"),null!=$cssClass$jscomp$2_style$$&&$result$$.getElementsByTagName("defs")[0].appendChild($cssClass$jscomp$2_style$$.cloneNode(!0)));null!=$bgImg$$&&(this.backgroundImage=$bgImg$$);null!=$temp$$&&(this.shapeBackgroundColor=$tempBg$$,this.shapeForegroundColor=$tempFg$$,this.stylesheet=$temp$$,this.refresh());return $result$$};var $cellRendererDestroy$$=mxCellRenderer.prototype.destroy;mxCellRenderer.prototype.destroy=
function($state$$){$cellRendererDestroy$$.apply(this,arguments);null!=$state$$.secondLabel&&($state$$.secondLabel.destroy(),$state$$.secondLabel=null)};mxCellRenderer.prototype.getShapesForState=function($state$$){return[$state$$.shape,$state$$.text,$state$$.secondLabel,$state$$.control]};var $graphViewResetValidationState$$=mxGraphView.prototype.resetValidationState;mxGraphView.prototype.resetValidationState=function(){$graphViewResetValidationState$$.apply(this,arguments);this.enumerationState=
0};var $graphViewStateValidated$$=mxGraphView.prototype.stateValidated;mxGraphView.prototype.stateValidated=function($state$$){null!=$state$$.shape&&this.redrawEnumerationState($state$$);return $graphViewStateValidated$$.apply(this,arguments)};mxGraphView.prototype.createEnumerationValue=function($state$jscomp$177_value$$){$state$jscomp$177_value$$=decodeURIComponent(mxUtils.getValue($state$jscomp$177_value$$.style,"enumerateValue",""));""==$state$jscomp$177_value$$&&($state$jscomp$177_value$$=++this.enumerationState);
return'<div style="padding:2px;border:1px solid gray;background:yellow;border-radius:2px;">'+mxUtils.htmlEntities($state$jscomp$177_value$$)+"</div>"};mxGraphView.prototype.redrawEnumerationState=function($bounds$jscomp$92_state$$){var $enumerate_shape$$="1"==mxUtils.getValue($bounds$jscomp$92_state$$.style,"enumerate",0);$enumerate_shape$$&&null==$bounds$jscomp$92_state$$.secondLabel?($bounds$jscomp$92_state$$.secondLabel=new mxText("",new mxRectangle,mxConstants.ALIGN_LEFT,mxConstants.ALIGN_BOTTOM),
$bounds$jscomp$92_state$$.secondLabel.size=12,$bounds$jscomp$92_state$$.secondLabel.state=$bounds$jscomp$92_state$$,$bounds$jscomp$92_state$$.secondLabel.dialect=mxConstants.DIALECT_STRICTHTML,this.graph.cellRenderer.initializeLabel($bounds$jscomp$92_state$$,$bounds$jscomp$92_state$$.secondLabel)):$enumerate_shape$$||null==$bounds$jscomp$92_state$$.secondLabel||($bounds$jscomp$92_state$$.secondLabel.destroy(),$bounds$jscomp$92_state$$.secondLabel=null);$enumerate_shape$$=$bounds$jscomp$92_state$$.secondLabel;
if(null!=$enumerate_shape$$){var $s$$=$bounds$jscomp$92_state$$.view.scale,$value$$=this.createEnumerationValue($bounds$jscomp$92_state$$);$bounds$jscomp$92_state$$=this.graph.model.isVertex($bounds$jscomp$92_state$$.cell)?new mxRectangle($bounds$jscomp$92_state$$.x+$bounds$jscomp$92_state$$.width-4*$s$$,$bounds$jscomp$92_state$$.y+4*$s$$,0,0):mxRectangle.fromPoint($bounds$jscomp$92_state$$.view.getPoint($bounds$jscomp$92_state$$));$enumerate_shape$$.bounds.equals($bounds$jscomp$92_state$$)&&$enumerate_shape$$.value==
$value$$&&$enumerate_shape$$.scale==$s$$||($enumerate_shape$$.bounds=$bounds$jscomp$92_state$$,$enumerate_shape$$.value=$value$$,$enumerate_shape$$.scale=$s$$,$enumerate_shape$$.redraw())}};var $graphRefresh$$=Graph.prototype.refresh;Graph.prototype.refresh=function(){$graphRefresh$$.apply(this,arguments);this.refreshBackgroundImage()};Graph.prototype.refreshBackgroundImage=function(){null!=this.backgroundImage&&null!=this.backgroundImage.originalSrc&&(this.setBackgroundImage(this.backgroundImage),
this.view.validateBackgroundImage())};var $graphLoadStylesheet$$=Graph.prototype.loadStylesheet;Graph.prototype.loadStylesheet=function(){$graphLoadStylesheet$$.apply(this,arguments);this.currentStyle="default-style2"};Graph.prototype.handleCustomLink=function($href$jscomp$14_link$$,$cell$$){"data:action/json,"==$href$jscomp$14_link$$.substring(0,17)&&($href$jscomp$14_link$$=JSON.parse($href$jscomp$14_link$$.substring(17)),null!=$href$jscomp$14_link$$.actions&&this.executeCustomActions($href$jscomp$14_link$$.actions,
null,$cell$$))};Graph.prototype.executeCustomActions=function($actions$$,$done$$,$cell$$){if(this.executingCustomActions)this.stoppingCustomActions=!0,null!=this.pendingWaitThread&&window.clearTimeout(this.pendingWaitThread),null!=this.pendingExecuteNextAction&&this.pendingExecuteNextAction(),this.fireEvent(new mxEventObject("stopExecutingCustomActions"));else{this.executingCustomActions=!0;var $updatingModel$$=!1,$waitCounter$$=0,$index$$=0,$beginUpdate$$=mxUtils.bind(this,function(){$updatingModel$$||
($updatingModel$$=!0,this.model.beginUpdate())}),$endUpdate$$=mxUtils.bind(this,function(){$updatingModel$$&&($updatingModel$$=!1,this.model.endUpdate())}),$waitAndExecute$$=mxUtils.bind(this,function(){0<$waitCounter$$&&$waitCounter$$--;0==$waitCounter$$&&$executeNextAction$$()}),$executeNextAction$$=mxUtils.bind(this,function(){if($index$$<$actions$$.length){var $stop$$=this.stoppingCustomActions,$action$$=$actions$$[$index$$++],$animations$$=[];if(null!=$action$$.open)if($endUpdate$$(),this.isCustomLink($action$$.open)){if(!this.customLinkClicked($action$$.open,
$cell$$))return}else this.openLink($action$$.open);null==$action$$.wait||$stop$$||(this.pendingExecuteNextAction=mxUtils.bind(this,function(){this.pendingWaitThread=this.pendingExecuteNextAction=null;$waitAndExecute$$()}),$waitCounter$$++,this.pendingWaitThread=window.setTimeout(this.pendingExecuteNextAction,""!=$action$$.wait?parseInt($action$$.wait):1E3),$endUpdate$$());null!=$action$$.opacity&&null!=$action$$.opacity.value&&Graph.setOpacityForNodes(this.getNodesForCells(this.getCellsForAction($action$$.opacity,
!0)),$action$$.opacity.value);null!=$action$$.fadeIn&&($waitCounter$$++,Graph.fadeNodes(this.getNodesForCells(this.getCellsForAction($action$$.fadeIn,!0)),0,1,$waitAndExecute$$,$stop$$?0:$action$$.fadeIn.delay));null!=$action$$.fadeOut&&($waitCounter$$++,Graph.fadeNodes(this.getNodesForCells(this.getCellsForAction($action$$.fadeOut,!0)),1,0,$waitAndExecute$$,$stop$$?0:$action$$.fadeOut.delay));null!=$action$$.wipeIn&&($animations$$=$animations$$.concat(this.createWipeAnimations(this.getCellsForAction($action$$.wipeIn,
!0),!0)));null!=$action$$.wipeOut&&($animations$$=$animations$$.concat(this.createWipeAnimations(this.getCellsForAction($action$$.wipeOut,!0),!1)));null!=$action$$.toggle&&($beginUpdate$$(),this.toggleCells(this.getCellsForAction($action$$.toggle,!0)));if(null!=$action$$.show){$beginUpdate$$();var $cells$jscomp$102_i$jscomp$206_temp$$=this.getCellsForAction($action$$.show,!0);Graph.setOpacityForNodes(this.getNodesForCells($cells$jscomp$102_i$jscomp$206_temp$$),1);this.setCellsVisible($cells$jscomp$102_i$jscomp$206_temp$$,
!0)}null!=$action$$.hide&&($beginUpdate$$(),$cells$jscomp$102_i$jscomp$206_temp$$=this.getCellsForAction($action$$.hide,!0),Graph.setOpacityForNodes(this.getNodesForCells($cells$jscomp$102_i$jscomp$206_temp$$),0),this.setCellsVisible($cells$jscomp$102_i$jscomp$206_temp$$,!1));null!=$action$$.toggleStyle&&null!=$action$$.toggleStyle.key&&($beginUpdate$$(),this.toggleCellStyles($action$$.toggleStyle.key,null!=$action$$.toggleStyle.defaultValue?$action$$.toggleStyle.defaultValue:"0",this.getCellsForAction($action$$.toggleStyle,
!0)));null!=$action$$.style&&null!=$action$$.style.key&&($beginUpdate$$(),this.setCellStyles($action$$.style.key,$action$$.style.value,this.getCellsForAction($action$$.style,!0)));$cells$jscomp$102_i$jscomp$206_temp$$=[];null!=$action$$.select&&this.isEnabled()&&($cells$jscomp$102_i$jscomp$206_temp$$=this.getCellsForAction($action$$.select),this.setSelectionCells($cells$jscomp$102_i$jscomp$206_temp$$));null!=$action$$.highlight&&($cells$jscomp$102_i$jscomp$206_temp$$=this.getCellsForAction($action$$.highlight),
this.highlightCells($cells$jscomp$102_i$jscomp$206_temp$$,$action$$.highlight.color,$action$$.highlight.duration,$action$$.highlight.opacity));null!=$action$$.scroll&&($cells$jscomp$102_i$jscomp$206_temp$$=this.getCellsForAction($action$$.scroll));null!=$action$$.viewbox&&this.fitWindow($action$$.viewbox,$action$$.viewbox.border);0<$cells$jscomp$102_i$jscomp$206_temp$$.length&&this.scrollCellToVisible($cells$jscomp$102_i$jscomp$206_temp$$[0]);null!=$cell$$&&null!=$action$$.explore&&Graph.exploreFromCell(this,
$cell$$,$action$$.explore);if(null!=$action$$.tags){if(null!=$action$$.tags.toggle){var $hidden_tags$$=$action$$.tags.toggle;0==$hidden_tags$$.length&&($hidden_tags$$=this.getAllTags());for($cells$jscomp$102_i$jscomp$206_temp$$=0;$cells$jscomp$102_i$jscomp$206_temp$$<$hidden_tags$$.length;$cells$jscomp$102_i$jscomp$206_temp$$++)this.toggleHiddenTag($hidden_tags$$[$cells$jscomp$102_i$jscomp$206_temp$$])}$hidden_tags$$=null;null!=$action$$.tags.hidden&&($hidden_tags$$=$hidden_tags$$.concat($action$$.tags.hidden));
if(null!=$action$$.tags.visible){null==$hidden_tags$$&&($hidden_tags$$=[]);var $all$$=this.getAllTags();for($cells$jscomp$102_i$jscomp$206_temp$$=0;$cells$jscomp$102_i$jscomp$206_temp$$<$all$$.length;$cells$jscomp$102_i$jscomp$206_temp$$++)0>mxUtils.indexOf($action$$.tags.visible,$all$$[$cells$jscomp$102_i$jscomp$206_temp$$])&&0>mxUtils.indexOf($hidden_tags$$,$all$$[$cells$jscomp$102_i$jscomp$206_temp$$])&&$hidden_tags$$.push($all$$[$cells$jscomp$102_i$jscomp$206_temp$$])}null!=$hidden_tags$$&&this.setHiddenTags($hidden_tags$$);
this.refresh()}0<$animations$$.length&&($waitCounter$$++,this.executeAnimations($animations$$,$waitAndExecute$$,$stop$$?1:$action$$.steps,$stop$$?0:$action$$.delay));0==$waitCounter$$?$executeNextAction$$():$endUpdate$$()}else this.stoppingCustomActions=this.executingCustomActions=!1,$endUpdate$$(),null!=$done$$&&$done$$()});$executeNextAction$$()}};Graph.prototype.doUpdateCustomLinksForCell=function($mapping$$,$cell$$){var $href$$=this.getLinkForCell($cell$$);null!=$href$$&&"data:action/json,"==
$href$$.substring(0,17)&&this.setLinkForCell($cell$$,this.updateCustomLink($mapping$$,$href$$));if(this.isHtmlLabel($cell$$)){var $temp$$=document.createElement("div");$temp$$.innerHTML=Graph.sanitizeHtml(this.getLabel($cell$$));for(var $links$$=$temp$$.getElementsByTagName("a"),$changed$$=!1,$i$$=0;$i$$<$links$$.length;$i$$++)$href$$=$links$$[$i$$].getAttribute("href"),null!=$href$$&&"data:action/json,"==$href$$.substring(0,17)&&($links$$[$i$$].setAttribute("href",this.updateCustomLink($mapping$$,
$href$$)),$changed$$=!0);$changed$$&&this.labelChanged($cell$$,$temp$$.innerHTML)}};Graph.prototype.updateCustomLink=function($mapping$$,$href$$){if("data:action/json,"==$href$$.substring(0,17))try{var $link$$=JSON.parse($href$$.substring(17));null!=$link$$.actions&&(this.updateCustomLinkActions($mapping$$,$link$$.actions),$href$$="data:action/json,"+JSON.stringify($link$$))}catch($e$$){}return $href$$};Graph.prototype.updateCustomLinkActions=function($mapping$$,$actions$$){for(var $i$$=0;$i$$<$actions$$.length;$i$$++){var $action$$=
$actions$$[$i$$],$name$$;for($name$$ in $action$$)this.updateCustomLinkAction($mapping$$,$action$$[$name$$],"cells"),this.updateCustomLinkAction($mapping$$,$action$$[$name$$],"excludeCells")}};Graph.prototype.updateCustomLinkAction=function($mapping$$,$action$$,$name$$){if(null!=$action$$&&null!=$action$$[$name$$]){for(var $result$$=[],$i$$=0;$i$$<$action$$[$name$$].length;$i$$++)if("*"==$action$$[$name$$][$i$$])$result$$.push($action$$[$name$$][$i$$]);else{var $temp$$=$mapping$$[$action$$[$name$$][$i$$]];
null!=$temp$$?""!=$temp$$&&$result$$.push($temp$$):$result$$.push($action$$[$name$$][$i$$])}$action$$[$name$$]=$result$$}};Graph.prototype.getCellsForAction=function($action$$,$layers$jscomp$1_result$$){$layers$jscomp$1_result$$=this.getCellsById($action$$.cells).concat(this.getCellsForTags($action$$.tags,null,$layers$jscomp$1_result$$));if(null!=$action$$.excludeCells){for(var $temp$$=[],$i$$=0;$i$$<$layers$jscomp$1_result$$.length;$i$$++)0>$action$$.excludeCells.indexOf($layers$jscomp$1_result$$[$i$$].id)&&
$temp$$.push($layers$jscomp$1_result$$[$i$$]);$layers$jscomp$1_result$$=$temp$$}return $layers$jscomp$1_result$$};Graph.prototype.getCellsById=function($ids$$){var $result$$=[];if(null!=$ids$$)for(var $i$$=0;$i$$<$ids$$.length;$i$$++)if("*"==$ids$$[$i$$]){var $parent$$=this.model.getRoot();$result$$=$result$$.concat(this.model.filterDescendants(function($cell$$){return $cell$$!=$parent$$},$parent$$))}else{var $cell$jscomp$0$$=this.model.getCell($ids$$[$i$$]);null!=$cell$jscomp$0$$&&$result$$.push($cell$jscomp$0$$)}return $result$$};
var $graphIsCellVisible$$=Graph.prototype.isCellVisible;Graph.prototype.isCellVisible=function($cell$$){return $graphIsCellVisible$$.apply(this,arguments)&&!this.isAllTagsHidden(this.getTagsForCell($cell$$))};Graph.prototype.setHiddenTags=function($tags$$){this.hiddenTags=$tags$$;this.fireEvent(new mxEventObject("hiddenTagsChanged"))};Graph.prototype.toggleHiddenTag=function($tag$$){var $idx$$=mxUtils.indexOf(this.hiddenTags,$tag$$);0>$idx$$?this.hiddenTags.push($tag$$):0<=$idx$$&&this.hiddenTags.splice($idx$$,
1);this.fireEvent(new mxEventObject("hiddenTagsChanged"))};Graph.prototype.isAllTagsHidden=function($tags$jscomp$5_tmp$$){if(null==$tags$jscomp$5_tmp$$||0==$tags$jscomp$5_tmp$$.length||0==this.hiddenTags.length)return!1;$tags$jscomp$5_tmp$$=$tags$jscomp$5_tmp$$.split(" ");if($tags$jscomp$5_tmp$$.length>this.hiddenTags.length)return!1;for(var $i$$=0;$i$$<$tags$jscomp$5_tmp$$.length;$i$$++)if(0>mxUtils.indexOf(this.hiddenTags,$tags$jscomp$5_tmp$$[$i$$]))return!1;return!0};Graph.prototype.getCellsForTags=
function($tagList$$,$cells$$,$includeLayers$$,$checkVisible$$){var $result$$=[];if(null!=$tagList$$){$cells$$=null!=$cells$$?$cells$$:this.model.getDescendants(this.model.getRoot());for(var $tagCount$$=0,$lookup$$={},$i$$=0;$i$$<$tagList$$.length;$i$$++)0<$tagList$$[$i$$].length&&($lookup$$[$tagList$$[$i$$]]=!0,$tagCount$$++);for($i$$=0;$i$$<$cells$$.length;$i$$++)if($includeLayers$$&&this.model.getParent($cells$$[$i$$])==this.model.root||this.model.isVertex($cells$$[$i$$])||this.model.isEdge($cells$$[$i$$])){var $tags$jscomp$6_tmp$$=
this.getTagsForCell($cells$$[$i$$]),$match$$=!1;if(0<$tags$jscomp$6_tmp$$.length&&($tags$jscomp$6_tmp$$=$tags$jscomp$6_tmp$$.split(" "),$tags$jscomp$6_tmp$$.length>=$tagList$$.length)){for(var $j$$=$match$$=0;$j$$<$tags$jscomp$6_tmp$$.length&&$match$$<$tagCount$$;$j$$++)null!=$lookup$$[$tags$jscomp$6_tmp$$[$j$$]]&&$match$$++;$match$$=$match$$==$tagCount$$}$match$$&&(1!=$checkVisible$$||this.isCellVisible($cells$$[$i$$]))&&$result$$.push($cells$$[$i$$])}}return $result$$};Graph.prototype.getAllTags=
function(){return this.getTagsForCells(this.model.getDescendants(this.model.getRoot()))};Graph.prototype.getCommonTagsForCells=function($cells$$){for(var $commonTokens$$=null,$validTags$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $tags$jscomp$7_tokens$$=this.getTagsForCell($cells$$[$i$$]);$validTags$$=[];if(0<$tags$jscomp$7_tokens$$.length){$tags$jscomp$7_tokens$$=$tags$jscomp$7_tokens$$.split(" ");for(var $temp$$={},$j$$=0;$j$$<$tags$jscomp$7_tokens$$.length;$j$$++)if(null==$commonTokens$$||null!=
$commonTokens$$[$tags$jscomp$7_tokens$$[$j$$]])$temp$$[$tags$jscomp$7_tokens$$[$j$$]]=!0,$validTags$$.push($tags$jscomp$7_tokens$$[$j$$]);$commonTokens$$=$temp$$}else return[]}return $validTags$$};Graph.prototype.getTagsForCells=function($cells$$){for(var $tokens$$=[],$temp$$={},$i$$=0;$i$$<$cells$$.length;$i$$++){var $t$jscomp$20_tags$$=this.getTagsForCell($cells$$[$i$$]);if(0<$t$jscomp$20_tags$$.length){$t$jscomp$20_tags$$=$t$jscomp$20_tags$$.split(" ");for(var $j$$=0;$j$$<$t$jscomp$20_tags$$.length;$j$$++)null==
$temp$$[$t$jscomp$20_tags$$[$j$$]]&&($temp$$[$t$jscomp$20_tags$$[$j$$]]=!0,$tokens$$.push($t$jscomp$20_tags$$[$j$$]))}}return $tokens$$};Graph.prototype.getTagsForCell=function($cell$$){return this.getAttributeForCell($cell$$,"tags","")};Graph.prototype.addTagsForCells=function($cells$$,$tagList$$){if(0<$cells$$.length&&0<$tagList$$.length){this.model.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){for(var $temp$$=this.getTagsForCell($cells$$[$i$$]),$tags$$=$temp$$.split(" "),$changed$$=
!1,$j$$=0;$j$$<$tagList$$.length;$j$$++){var $tag$$=mxUtils.trim($tagList$$[$j$$]);""!=$tag$$&&0>mxUtils.indexOf($tags$$,$tag$$)&&($temp$$=0<$temp$$.length?$temp$$+" "+$tag$$:$tag$$,$changed$$=!0)}$changed$$&&this.setAttributeForCell($cells$$[$i$$],"tags",$temp$$)}}finally{this.model.endUpdate()}}};Graph.prototype.removeTagsForCells=function($cells$$,$tagList$$){if(0<$cells$$.length&&0<$tagList$$.length){this.model.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $tags$$=this.getTagsForCell($cells$$[$i$$]);
if(0<$tags$$.length){for(var $tokens$$=$tags$$.split(" "),$changed$$=!1,$j$$=0;$j$$<$tagList$$.length;$j$$++){var $idx$$=mxUtils.indexOf($tokens$$,$tagList$$[$j$$]);0<=$idx$$&&($tokens$$.splice($idx$$,1),$changed$$=!0)}$changed$$&&this.setAttributeForCell($cells$$[$i$$],"tags",$tokens$$.join(" "))}}}finally{this.model.endUpdate()}}};Graph.prototype.toggleCells=function($cells$$){this.model.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++)this.model.setVisible($cells$$[$i$$],!this.model.isVisible($cells$$[$i$$]))}finally{this.model.endUpdate()}};
Graph.prototype.setCellsVisible=function($cells$$,$visible$$){this.model.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++)this.model.setVisible($cells$$[$i$$],$visible$$)}finally{this.model.endUpdate()}};Graph.prototype.highlightCells=function($cells$$,$color$$,$duration$$,$opacity$$){for(var $i$$=0;$i$$<$cells$$.length;$i$$++)this.highlightCell($cells$$[$i$$],$color$$,$duration$$,$opacity$$)};Graph.prototype.highlightCell=function($cell$jscomp$157_state$$,$color$$,$duration$$,$opacity$$,
$strokeWidth$jscomp$2_sw$$){$color$$=null!=$color$$?$color$$:mxConstants.DEFAULT_VALID_COLOR;$duration$$=null!=$duration$$?$duration$$:1E3;$cell$jscomp$157_state$$=this.view.getState($cell$jscomp$157_state$$);var $hl$$=null;null!=$cell$jscomp$157_state$$&&($strokeWidth$jscomp$2_sw$$=null!=$strokeWidth$jscomp$2_sw$$?$strokeWidth$jscomp$2_sw$$:4,$strokeWidth$jscomp$2_sw$$=Math.max($strokeWidth$jscomp$2_sw$$+1,mxUtils.getValue($cell$jscomp$157_state$$.style,mxConstants.STYLE_STROKEWIDTH,1)+$strokeWidth$jscomp$2_sw$$),
$hl$$=new mxCellHighlight(this,$color$$,$strokeWidth$jscomp$2_sw$$,!1),null!=$opacity$$&&($hl$$.opacity=$opacity$$),$hl$$.highlight($cell$jscomp$157_state$$),window.setTimeout(function(){null!=$hl$$.shape&&(mxUtils.setPrefixedStyle($hl$$.shape.node.style,"transition","all 1200ms ease-in-out"),$hl$$.shape.node.style.opacity=0);window.setTimeout(function(){$hl$$.destroy()},1200)},$duration$$));return $hl$$};Graph.prototype.addSvgShadow=function($svgRoot$$,$group$jscomp$3_tokens$jscomp$7_vb$$,$createOnly$$,
$extend$$){$createOnly$$=null!=$createOnly$$?$createOnly$$:!1;$extend$$=null!=$extend$$?$extend$$:!0;var $defsElt$jscomp$1_svgDoc$$=$svgRoot$$.ownerDocument,$filter$$=null!=$defsElt$jscomp$1_svgDoc$$.createElementNS?$defsElt$jscomp$1_svgDoc$$.createElementNS(mxConstants.NS_SVG,"filter"):$defsElt$jscomp$1_svgDoc$$.createElement("filter");$filter$$.setAttribute("id",this.shadowId);var $blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$=null!=$defsElt$jscomp$1_svgDoc$$.createElementNS?$defsElt$jscomp$1_svgDoc$$.createElementNS(mxConstants.NS_SVG,
"feGaussianBlur"):$defsElt$jscomp$1_svgDoc$$.createElement("feGaussianBlur");$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("in","SourceAlpha");$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("stdDeviation",this.svgShadowBlur);$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("result","blur");$filter$$.appendChild($blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$);$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$=
null!=$defsElt$jscomp$1_svgDoc$$.createElementNS?$defsElt$jscomp$1_svgDoc$$.createElementNS(mxConstants.NS_SVG,"feOffset"):$defsElt$jscomp$1_svgDoc$$.createElement("feOffset");$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("in","blur");$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("dx",this.svgShadowSize);$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("dy",this.svgShadowSize);$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("result",
"offsetBlur");$filter$$.appendChild($blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$);$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$=null!=$defsElt$jscomp$1_svgDoc$$.createElementNS?$defsElt$jscomp$1_svgDoc$$.createElementNS(mxConstants.NS_SVG,"feFlood"):$defsElt$jscomp$1_svgDoc$$.createElement("feFlood");$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("flood-color",this.svgShadowColor);$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("flood-opacity",
this.svgShadowOpacity);$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("result","offsetColor");$filter$$.appendChild($blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$);$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$=null!=$defsElt$jscomp$1_svgDoc$$.createElementNS?$defsElt$jscomp$1_svgDoc$$.createElementNS(mxConstants.NS_SVG,"feComposite"):$defsElt$jscomp$1_svgDoc$$.createElement("feComposite");$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("in",
"offsetColor");$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("in2","offsetBlur");$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("operator","in");$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("result","offsetBlur");$filter$$.appendChild($blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$);$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$=null!=$defsElt$jscomp$1_svgDoc$$.createElementNS?$defsElt$jscomp$1_svgDoc$$.createElementNS(mxConstants.NS_SVG,
"feBlend"):$defsElt$jscomp$1_svgDoc$$.createElement("feBlend");$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("in","SourceGraphic");$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.setAttribute("in2","offsetBlur");$filter$$.appendChild($blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$);$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$=$svgRoot$$.getElementsByTagName("defs");0==$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$.length?
($defsElt$jscomp$1_svgDoc$$=null!=$defsElt$jscomp$1_svgDoc$$.createElementNS?$defsElt$jscomp$1_svgDoc$$.createElementNS(mxConstants.NS_SVG,"defs"):$defsElt$jscomp$1_svgDoc$$.createElement("defs"),null!=$svgRoot$$.firstChild?$svgRoot$$.insertBefore($defsElt$jscomp$1_svgDoc$$,$svgRoot$$.firstChild):$svgRoot$$.appendChild($defsElt$jscomp$1_svgDoc$$)):$defsElt$jscomp$1_svgDoc$$=$blur_composite$jscomp$1_defs$jscomp$3_feBlend_flood_offset$$[0];$defsElt$jscomp$1_svgDoc$$.appendChild($filter$$);$createOnly$$||
($group$jscomp$3_tokens$jscomp$7_vb$$=null!=$group$jscomp$3_tokens$jscomp$7_vb$$?$group$jscomp$3_tokens$jscomp$7_vb$$:$svgRoot$$.getElementsByTagName("g")[0],null!=$group$jscomp$3_tokens$jscomp$7_vb$$&&($group$jscomp$3_tokens$jscomp$7_vb$$.setAttribute("filter","url(#"+this.shadowId+")"),!isNaN(parseInt($svgRoot$$.getAttribute("width")))&&$extend$$&&($svgRoot$$.setAttribute("width",parseInt($svgRoot$$.getAttribute("width"))+6),$svgRoot$$.setAttribute("height",parseInt($svgRoot$$.getAttribute("height"))+
6),$group$jscomp$3_tokens$jscomp$7_vb$$=$svgRoot$$.getAttribute("viewBox"),null!=$group$jscomp$3_tokens$jscomp$7_vb$$&&0<$group$jscomp$3_tokens$jscomp$7_vb$$.length&&($group$jscomp$3_tokens$jscomp$7_vb$$=$group$jscomp$3_tokens$jscomp$7_vb$$.split(" "),3<$group$jscomp$3_tokens$jscomp$7_vb$$.length&&(w=parseFloat($group$jscomp$3_tokens$jscomp$7_vb$$[2])+6,h=parseFloat($group$jscomp$3_tokens$jscomp$7_vb$$[3])+6,$svgRoot$$.setAttribute("viewBox",$group$jscomp$3_tokens$jscomp$7_vb$$[0]+" "+$group$jscomp$3_tokens$jscomp$7_vb$$[1]+
" "+w+" "+h))))));return $filter$$};Graph.prototype.setShadowVisible=function($value$$,$fireEvent$$){mxClient.IS_SVG&&!mxClient.IS_SF&&($fireEvent$$=null!=$fireEvent$$?$fireEvent$$:!0,(this.shadowVisible=$value$$)?this.view.getDrawPane().setAttribute("filter","url(#"+this.shadowId+")"):this.view.getDrawPane().removeAttribute("filter"),$fireEvent$$&&this.fireEvent(new mxEventObject("shadowVisibleChanged")))};Graph.prototype.selectUnlockedLayer=function(){if(null==this.defaultParent){var $childCount$$=
this.model.getChildCount(this.model.root),$index$$=0;do var $cell$$=this.model.getChildAt(this.model.root,$index$$);while($index$$++<$childCount$$&&"1"==mxUtils.getValue(this.getCellStyle($cell$$),"locked","0"));null!=$cell$$&&this.setDefaultParent($cell$$)}};mxStencilRegistry.libraries.mockup=[SHAPES_PATH+"/mockup/mxMockupButtons.js"];mxStencilRegistry.libraries.arrows2=[SHAPES_PATH+"/mxArrows.js"];mxStencilRegistry.libraries.atlassian=[STENCIL_PATH+"/atlassian.xml",SHAPES_PATH+"/mxAtlassian.js"];
mxStencilRegistry.libraries.bpmn=[SHAPES_PATH+"/mxBasic.js",STENCIL_PATH+"/bpmn.xml",SHAPES_PATH+"/bpmn/mxBpmnShape2.js"];mxStencilRegistry.libraries.bpmn2=[SHAPES_PATH+"/mxBasic.js",STENCIL_PATH+"/bpmn.xml",SHAPES_PATH+"/bpmn/mxBpmnShape2.js"];mxStencilRegistry.libraries.c4=[SHAPES_PATH+"/mxC4.js"];mxStencilRegistry.libraries.cisco19=[SHAPES_PATH+"/mxCisco19.js",STENCIL_PATH+"/cisco19.xml"];mxStencilRegistry.libraries.cisco_safe=[SHAPES_PATH+"/mxCiscoSafe.js",STENCIL_PATH+"/cisco_safe/architecture.xml",
STENCIL_PATH+"/cisco_safe/business_icons.xml",STENCIL_PATH+"/cisco_safe/capability.xml",STENCIL_PATH+"/cisco_safe/design.xml",STENCIL_PATH+"/cisco_safe/iot_things_icons.xml",STENCIL_PATH+"/cisco_safe/people_places_things_icons.xml",STENCIL_PATH+"/cisco_safe/security_icons.xml",STENCIL_PATH+"/cisco_safe/technology_icons.xml",STENCIL_PATH+"/cisco_safe/threat.xml"];mxStencilRegistry.libraries.dfd=[SHAPES_PATH+"/mxDFD.js"];mxStencilRegistry.libraries.er=[SHAPES_PATH+"/er/mxER.js"];mxStencilRegistry.libraries.kubernetes=
[SHAPES_PATH+"/mxKubernetes.js",STENCIL_PATH+"/kubernetes.xml",STENCIL_PATH+"/kubernetes2.xml"];mxStencilRegistry.libraries.flowchart=[SHAPES_PATH+"/mxFlowchart.js",STENCIL_PATH+"/flowchart.xml"];mxStencilRegistry.libraries.ios=[SHAPES_PATH+"/mockup/mxMockupiOS.js"];mxStencilRegistry.libraries.rackGeneral=[SHAPES_PATH+"/rack/mxRack.js",STENCIL_PATH+"/rack/general.xml"];mxStencilRegistry.libraries.rackF5=[STENCIL_PATH+"/rack/f5.xml"];mxStencilRegistry.libraries.lean_mapping=[SHAPES_PATH+"/mxLeanMap.js",
STENCIL_PATH+"/lean_mapping.xml"];mxStencilRegistry.libraries.basic=[SHAPES_PATH+"/mxBasic.js",STENCIL_PATH+"/basic.xml"];mxStencilRegistry.libraries.ios7icons=[STENCIL_PATH+"/ios7/icons.xml"];mxStencilRegistry.libraries.ios7ui=[SHAPES_PATH+"/ios7/mxIOS7Ui.js",STENCIL_PATH+"/ios7/misc.xml"];mxStencilRegistry.libraries.android=[SHAPES_PATH+"/mxAndroid.js",STENCIL_PATH+"/android/android.xml"];mxStencilRegistry.libraries["electrical/abstract"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/abstract.xml"];
mxStencilRegistry.libraries["electrical/logic_gates"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/logic_gates.xml"];mxStencilRegistry.libraries["electrical/miscellaneous"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/miscellaneous.xml"];mxStencilRegistry.libraries["electrical/signal_sources"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/signal_sources.xml"];mxStencilRegistry.libraries["electrical/electro-mechanical"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+
"/electrical/electro-mechanical.xml"];mxStencilRegistry.libraries["electrical/transmission"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/transmission.xml"];mxStencilRegistry.libraries.infographic=[SHAPES_PATH+"/mxInfographic.js"];mxStencilRegistry.libraries["mockup/buttons"]=[SHAPES_PATH+"/mockup/mxMockupButtons.js"];mxStencilRegistry.libraries["mockup/containers"]=[SHAPES_PATH+"/mockup/mxMockupContainers.js"];mxStencilRegistry.libraries["mockup/forms"]=[SHAPES_PATH+"/mockup/mxMockupForms.js"];
mxStencilRegistry.libraries["mockup/graphics"]=[SHAPES_PATH+"/mockup/mxMockupGraphics.js",STENCIL_PATH+"/mockup/misc.xml"];mxStencilRegistry.libraries["mockup/markup"]=[SHAPES_PATH+"/mockup/mxMockupMarkup.js"];mxStencilRegistry.libraries["mockup/misc"]=[SHAPES_PATH+"/mockup/mxMockupMisc.js",STENCIL_PATH+"/mockup/misc.xml"];mxStencilRegistry.libraries["mockup/navigation"]=[SHAPES_PATH+"/mockup/mxMockupNavigation.js",STENCIL_PATH+"/mockup/misc.xml"];mxStencilRegistry.libraries["mockup/text"]=[SHAPES_PATH+
"/mockup/mxMockupText.js"];mxStencilRegistry.libraries.floorplan=[SHAPES_PATH+"/mxFloorplan.js",STENCIL_PATH+"/floorplan.xml"];mxStencilRegistry.libraries.bootstrap=[SHAPES_PATH+"/mxBootstrap.js",SHAPES_PATH+"/mxBasic.js",STENCIL_PATH+"/bootstrap.xml"];mxStencilRegistry.libraries.gmdl=[SHAPES_PATH+"/mxGmdl.js",STENCIL_PATH+"/gmdl.xml"];mxStencilRegistry.libraries.gcp2=[SHAPES_PATH+"/mxGCP2.js",STENCIL_PATH+"/gcp2.xml"];mxStencilRegistry.libraries.ibm=[SHAPES_PATH+"/mxIBM.js",STENCIL_PATH+"/ibm.xml"];
mxStencilRegistry.libraries.cabinets=[SHAPES_PATH+"/mxCabinets.js",STENCIL_PATH+"/cabinets.xml"];mxStencilRegistry.libraries.archimate=[SHAPES_PATH+"/mxArchiMate.js"];mxStencilRegistry.libraries.archimate3=[SHAPES_PATH+"/mxArchiMate3.js"];mxStencilRegistry.libraries.sysml=[SHAPES_PATH+"/mxSysML.js"];mxStencilRegistry.libraries.eip=[SHAPES_PATH+"/mxEip.js",STENCIL_PATH+"/eip.xml"];mxStencilRegistry.libraries.networks=[SHAPES_PATH+"/mxNetworks.js",STENCIL_PATH+"/networks.xml"];mxStencilRegistry.libraries.aws3d=
[SHAPES_PATH+"/mxAWS3D.js",STENCIL_PATH+"/aws3d.xml"];mxStencilRegistry.libraries.aws4=[SHAPES_PATH+"/mxAWS4.js",STENCIL_PATH+"/aws4.xml"];mxStencilRegistry.libraries.aws4b=[SHAPES_PATH+"/mxAWS4.js",STENCIL_PATH+"/aws4.xml"];mxStencilRegistry.libraries.uml25=[SHAPES_PATH+"/mxUML25.js"];mxStencilRegistry.libraries.veeam=[STENCIL_PATH+"/veeam/2d.xml",STENCIL_PATH+"/veeam/3d.xml",STENCIL_PATH+"/veeam/veeam.xml"];mxStencilRegistry.libraries.veeam2=[STENCIL_PATH+"/veeam/2d.xml",STENCIL_PATH+"/veeam/3d.xml",
STENCIL_PATH+"/veeam/veeam2.xml"];mxStencilRegistry.libraries.pid2inst=[SHAPES_PATH+"/pid2/mxPidInstruments.js"];mxStencilRegistry.libraries.pid2misc=[SHAPES_PATH+"/pid2/mxPidMisc.js",STENCIL_PATH+"/pid/misc.xml"];mxStencilRegistry.libraries.pid2valves=[SHAPES_PATH+"/pid2/mxPidValves.js"];mxStencilRegistry.libraries.pidFlowSensors=[STENCIL_PATH+"/pid/flow_sensors.xml"];mxStencilRegistry.libraries.salesforce=[STENCIL_PATH+"/salesforce.xml"];mxStencilRegistry.libraries.emoji=[SHAPES_PATH+"/emoji/mxEmoji.js"];
mxMarker.getPackageForType=function($type$$){var $name$$=null;null!=$type$$&&0<$type$$.length&&("ER"==$type$$.substring(0,2)?$name$$="mxgraph.er":"sysML"==$type$$.substring(0,5)&&($name$$="mxgraph.sysml"));return $name$$};var $mxMarkerCreateMarker$$=mxMarker.createMarker;mxMarker.createMarker=function($canvas$$,$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){if(null!=$type$$&&null==mxMarker.markers[$type$$]){var $name$$=this.getPackageForType($type$$);null!=$name$$&&mxStencilRegistry.getStencil($name$$)}return $mxMarkerCreateMarker$$.apply(this,
arguments)};var $mxStencilDrawShape$$=mxStencil.prototype.drawShape;mxStencil.prototype.drawShape=function($canvas$$,$shape$$,$x$$,$y$$,$w$$,$h$$){"1"==mxUtils.getValue($shape$$.style,"lineShape",null)&&$canvas$$.setFillColor(mxUtils.getValue($shape$$.style,mxConstants.STYLE_STROKECOLOR,this.stroke));return $mxStencilDrawShape$$.apply(this,arguments)};PrintDialog.prototype.create=function($editorUi$$,$buttons_i$jscomp$221_span$$){function $validatePageRange$$(){$pagesToInput$$.value=Math.max(1,Math.min($pageCount$$,
Math.max(parseInt($pagesToInput$$.value),parseInt($pagesFromInput$$.value))));$pagesFromInput$$.value=Math.max(1,Math.min($pageCount$$,Math.min(parseInt($pagesToInput$$.value),parseInt($pagesFromInput$$.value))))}function $preview$$($print$$){function $printGraph$$($thisGraph$$,$pv$$,$extFonts$jscomp$0$$,$anchorId_pageId$$){var $prev$jscomp$0$$=$thisGraph$$.useCssTransforms,$prevTranslate$$=$thisGraph$$.currentTranslate,$prevScale$$=$thisGraph$$.currentScale,$prevViewTranslate$$=$thisGraph$$.view.translate,
$prevViewScale$$=$thisGraph$$.view.scale;$thisGraph$$.useCssTransforms&&($thisGraph$$.useCssTransforms=!1,$thisGraph$$.currentTranslate=new mxPoint(0,0),$thisGraph$$.currentScale=1,$thisGraph$$.view.translate=new mxPoint(0,0),$thisGraph$$.view.scale=1);var $gb$jscomp$1_layout$$=$thisGraph$$.getGraphBounds(),$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$=0,$fontName$jscomp$2_tempFg$jscomp$1_y0$$=0,$bg$jscomp$10_enableFlowAnimation_pf$$=$accessor$$.get(),$h$jscomp$173_scale$$=1/$thisGraph$$.pageScale,
$autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$=$fitRadio$$.checked;if($autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$){$h$jscomp$173_scale$$=parseInt($sheetsAcrossInput$$.value);var $v$$=parseInt($sheetsDownInput$$.value);$h$jscomp$173_scale$$=Math.min($bg$jscomp$10_enableFlowAnimation_pf$$.height*$v$$/($gb$jscomp$1_layout$$.height/$thisGraph$$.view.scale),$bg$jscomp$10_enableFlowAnimation_pf$$.width*$h$jscomp$173_scale$$/($gb$jscomp$1_layout$$.width/$thisGraph$$.view.scale))}else $h$jscomp$173_scale$$=
parseInt($zoomInput$$.value)/(100*$thisGraph$$.pageScale),isNaN($h$jscomp$173_scale$$)&&($printScale$$=1/$thisGraph$$.pageScale,$zoomInput$$.value="100 %");$bg$jscomp$10_enableFlowAnimation_pf$$=mxRectangle.fromRectangle($bg$jscomp$10_enableFlowAnimation_pf$$);$bg$jscomp$10_enableFlowAnimation_pf$$.width=Math.ceil($bg$jscomp$10_enableFlowAnimation_pf$$.width*$printScale$$);$bg$jscomp$10_enableFlowAnimation_pf$$.height=Math.ceil($bg$jscomp$10_enableFlowAnimation_pf$$.height*$printScale$$);$h$jscomp$173_scale$$*=
$printScale$$;!$autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$&&$thisGraph$$.pageVisible?($gb$jscomp$1_layout$$=$thisGraph$$.getPageLayout(),$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$-=$gb$jscomp$1_layout$$.x*$bg$jscomp$10_enableFlowAnimation_pf$$.width,$fontName$jscomp$2_tempFg$jscomp$1_y0$$-=$gb$jscomp$1_layout$$.y*$bg$jscomp$10_enableFlowAnimation_pf$$.height):$autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$=!0;$anchorId_pageId$$=null!=$anchorId_pageId$$?"page/id,"+$anchorId_pageId$$:null;if(null==
$pv$$){$pv$$=PrintDialog.createPrintPreview($thisGraph$$,$h$jscomp$173_scale$$,$bg$jscomp$10_enableFlowAnimation_pf$$,0,$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$,$fontName$jscomp$2_tempFg$jscomp$1_y0$$,$autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$);$pv$$.pageSelector=!1;$pv$$.mathEnabled=!1;$selectionOnlyRadio$$.checked&&($pv$$.isCellVisible=function($cell$$){return $thisGraph$$.isCellSelected($cell$$)});$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$=$editorUi$$.getCurrentFile();null!=$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$&&
($pv$$.title=$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$.getTitle());var $writeHead$$=$pv$$.writeHead;$pv$$.writeHead=function($doc$$){$writeHead$$.apply(this,arguments);mxClient.IS_GC&&($doc$$.writeln('<style type="text/css">'),$doc$$.writeln("@media print {"),$doc$$.writeln(".MathJax svg { shape-rendering: crispEdges; }"),$doc$$.writeln("}"),$doc$$.writeln("</style>"));null!=$editorUi$$.editor.fontCss&&($doc$$.writeln('<style type="text/css">'),$doc$$.writeln(mxUtils.htmlEntities($editorUi$$.editor.fontCss,
!1,!1,!1)),$doc$$.writeln("</style>"));for(var $extFonts$$=$thisGraph$$.getCustomFonts(),$i$$=0;$i$$<$extFonts$$.length;$i$$++){var $fontName$$=$extFonts$$[$i$$].name,$fontUrl$$=$extFonts$$[$i$$].url;Graph.isCssFontUrl($fontUrl$$)?$doc$$.writeln('<link rel="stylesheet" href="'+mxUtils.htmlEntities(Graph.rewriteGoogleFontUrl($fontUrl$$))+'" charset="UTF-8" type="text/css">'):($doc$$.writeln('<style type="text/css">'),$doc$$.writeln('@font-face {\nfont-family: "'+mxUtils.htmlEntities($fontName$$)+'";\nsrc: url("'+
mxUtils.htmlEntities($fontUrl$$)+'");\n}'),$doc$$.writeln("</style>"))}};if(Editor.enableCssDarkMode){var $printGetBackgroundImage$$=$pv$$.getBackgroundImage;$pv$$.getBackgroundImage=function(){return $graph$$.adaptBackgroundPage($printGetBackgroundImage$$.apply(this,arguments))}}if("undefined"!==typeof MathJax){var $printPreviewRenderPage$$=$pv$$.renderPage;$pv$$.renderPage=function($w$$,$h$$,$dx$$,$dy$$,$content$$,$pageNumber$$){var $prev$$=mxClient.NO_FO,$result$$=$printPreviewRenderPage$$.apply(this,
arguments);mxClient.NO_FO=$prev$$;this.graph.mathEnabled?this.mathEnabled=this.mathEnabled||!0:$result$$.className="geDisableMathJax";return $result$$}}$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$=null;$fontName$jscomp$2_tempFg$jscomp$1_y0$$=$graph$$.shapeForegroundColor;$autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$=$graph$$.shapeBackgroundColor;$bg$jscomp$10_enableFlowAnimation_pf$$=$graph$$.enableFlowAnimation;$graph$$.enableFlowAnimation=!1;null!=$graph$$.themes&&"darkTheme"==$graph$$.defaultThemeName&&
($file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$=$graph$$.stylesheet,$graph$$.stylesheet=$graph$$.getDefaultStylesheet(),$graph$$.shapeForegroundColor="#000000",$graph$$.shapeBackgroundColor="#ffffff",$graph$$.refresh());$pv$$.open(null,null,$extFonts$jscomp$0$$,!0,$anchorId_pageId$$);$graph$$.enableFlowAnimation=$bg$jscomp$10_enableFlowAnimation_pf$$;null!=$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$&&($graph$$.shapeForegroundColor=$fontName$jscomp$2_tempFg$jscomp$1_y0$$,$graph$$.shapeBackgroundColor=
$autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$,$graph$$.stylesheet=$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$,$graph$$.refresh())}else{$bg$jscomp$10_enableFlowAnimation_pf$$=$thisGraph$$.background;if(null==$bg$jscomp$10_enableFlowAnimation_pf$$||""==$bg$jscomp$10_enableFlowAnimation_pf$$||$bg$jscomp$10_enableFlowAnimation_pf$$==mxConstants.NONE)$bg$jscomp$10_enableFlowAnimation_pf$$="#ffffff";$pv$$.backgroundColor=$bg$jscomp$10_enableFlowAnimation_pf$$;$pv$$.autoOrigin=$autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$;
$pv$$.appendGraph($thisGraph$$,$h$jscomp$173_scale$$,$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$,$fontName$jscomp$2_tempFg$jscomp$1_y0$$,$extFonts$jscomp$0$$,!0,$anchorId_pageId$$);$extFonts$jscomp$0$$=$thisGraph$$.getCustomFonts();if(null!=$pv$$.wnd)for($file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$=0;$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$<$extFonts$jscomp$0$$.length;$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$++)$fontName$jscomp$2_tempFg$jscomp$1_y0$$=$extFonts$jscomp$0$$[$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$].name,
$autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$=$extFonts$jscomp$0$$[$file$jscomp$7_i$jscomp$223_temp$jscomp$45_x0$$].url,Graph.isCssFontUrl($autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$)?$pv$$.wnd.document.writeln('<link rel="stylesheet" href="'+mxUtils.htmlEntities($autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$)+'" charset="UTF-8" type="text/css">'):($pv$$.wnd.document.writeln('<style type="text/css">'),$pv$$.wnd.document.writeln('@font-face {\nfont-family: "'+mxUtils.htmlEntities($fontName$jscomp$2_tempFg$jscomp$1_y0$$)+
'";\nsrc: url("'+mxUtils.htmlEntities($autoOrigin$jscomp$2_fontUrl$jscomp$2_tempBg$$)+'");\n}'),$pv$$.wnd.document.writeln("</style>"))}$prev$jscomp$0$$&&($thisGraph$$.useCssTransforms=$prev$jscomp$0$$,$thisGraph$$.currentTranslate=$prevTranslate$$,$thisGraph$$.currentScale=$prevScale$$,$thisGraph$$.view.translate=$prevViewTranslate$$,$thisGraph$$.view.scale=$prevViewScale$$);return $pv$$}var $printScale$$=parseInt($pageScaleInput$$.value)/100;isNaN($printScale$$)&&($printScale$$=1,$pageScaleInput$$.value=
"100 %");mxClient.IS_SF&&($printScale$$*=.75);var $darkStylesheet$$=null,$darkFg$$=$graph$$.shapeForegroundColor,$darkBg$$=$graph$$.shapeBackgroundColor;null!=$graph$$.themes&&"darkTheme"==$graph$$.defaultThemeName&&($darkStylesheet$$=$graph$$.stylesheet,$graph$$.stylesheet=$graph$$.getDefaultStylesheet(),$graph$$.shapeForegroundColor="#000000",$graph$$.shapeBackgroundColor="#ffffff",$graph$$.refresh());var $pagesFrom_tempGraph$$=$pagesFromInput$$.value,$pageVisible_pagesTo$$=$pagesToInput$$.value,
$doc$jscomp$0$$=!$allPagesRadio$$.checked,$pv$jscomp$0$$=null;if(EditorUi.isElectronApp)PrintDialog.electronPrint($editorUi$$,$allPagesRadio$$.checked,$pagesFrom_tempGraph$$,$pageVisible_pagesTo$$,$fitRadio$$.checked,$sheetsAcrossInput$$.value,$sheetsDownInput$$.value,parseInt($zoomInput$$.value)/100,parseInt($pageScaleInput$$.value)/100,$accessor$$.get());else{$doc$jscomp$0$$&&($doc$jscomp$0$$=$selectionOnlyRadio$$.checked||$pagesFrom_tempGraph$$==$currentPage$$&&$pageVisible_pagesTo$$==$currentPage$$);
if(!$doc$jscomp$0$$&&null!=$editorUi$$.pages&&$editorUi$$.pages.length){var $i0_mathEnabled$$=0;$doc$jscomp$0$$=$editorUi$$.pages.length-1;$allPagesRadio$$.checked||($i0_mathEnabled$$=parseInt($pagesFrom_tempGraph$$)-1,$doc$jscomp$0$$=parseInt($pageVisible_pagesTo$$)-1);for(var $i$jscomp$0$$=$i0_mathEnabled$$;$i$jscomp$0$$<=$doc$jscomp$0$$;$i$jscomp$0$$++){var $page$$=$editorUi$$.pages[$i$jscomp$0$$];$pagesFrom_tempGraph$$=$page$$==$editorUi$$.currentPage?$graph$$:null;if(null==$pagesFrom_tempGraph$$){$pagesFrom_tempGraph$$=
$editorUi$$.createTemporaryGraph($graph$$.stylesheet);$pagesFrom_tempGraph$$.shapeForegroundColor=$graph$$.shapeForegroundColor;$pagesFrom_tempGraph$$.shapeBackgroundColor=$graph$$.shapeBackgroundColor;$pageVisible_pagesTo$$=!0;$i0_mathEnabled$$=!1;var $bg$$=null,$bgImage$$=null;null==$page$$.viewState&&null==$page$$.root&&$editorUi$$.updatePageRoot($page$$);null!=$page$$.viewState&&($pageVisible_pagesTo$$=$page$$.viewState.pageVisible,$i0_mathEnabled$$=$page$$.viewState.mathEnabled,$bg$$=$page$$.viewState.background,
$bgImage$$=$page$$.viewState.backgroundImage,$pagesFrom_tempGraph$$.extFonts=$page$$.viewState.extFonts);null!=$bgImage$$&&null!=$bgImage$$.originalSrc&&($bgImage$$=$editorUi$$.createImageForPageLink($bgImage$$.originalSrc,$page$$));$pagesFrom_tempGraph$$.background=$bg$$;$pagesFrom_tempGraph$$.backgroundImage=null!=$bgImage$$?new mxImage($bgImage$$.src,$bgImage$$.width,$bgImage$$.height,$bgImage$$.x,$bgImage$$.y):null;$pagesFrom_tempGraph$$.pageVisible=$pageVisible_pagesTo$$;$pagesFrom_tempGraph$$.mathEnabled=
$i0_mathEnabled$$;var $graphGetGraphBounds$$=$pagesFrom_tempGraph$$.getGraphBounds;$pagesFrom_tempGraph$$.getGraphBounds=function(){var $bounds$$=$graphGetGraphBounds$$.apply(this,arguments),$img$$=this.backgroundImage;if(null!=$img$$&&null!=$img$$.width&&null!=$img$$.height){var $t$$=this.view.translate,$s$$=this.view.scale;$bounds$$=mxRectangle.fromRectangle($bounds$$);$bounds$$.add(new mxRectangle(($t$$.x+$img$$.x)*$s$$,($t$$.y+$img$$.y)*$s$$,$img$$.width*$s$$,$img$$.height*$s$$))}return $bounds$$};
var $graphGetGlobalVariable$$=$pagesFrom_tempGraph$$.getGlobalVariable;$pagesFrom_tempGraph$$.getGlobalVariable=function($name$$){return"page"==$name$$?$page$$.getName():"pagenumber"==$name$$?$i$jscomp$0$$+1:"pagecount"==$name$$?null!=$editorUi$$.pages?$editorUi$$.pages.length:1:$graphGetGlobalVariable$$.apply(this,arguments)};document.body.appendChild($pagesFrom_tempGraph$$.container);$editorUi$$.updatePageRoot($page$$);$pagesFrom_tempGraph$$.model.setRoot($page$$.root)}$pv$jscomp$0$$=$printGraph$$($pagesFrom_tempGraph$$,
$pv$jscomp$0$$,$i$jscomp$0$$!=$doc$jscomp$0$$,$page$$.getId());$pagesFrom_tempGraph$$!=$graph$$&&$pagesFrom_tempGraph$$.container.parentNode.removeChild($pagesFrom_tempGraph$$.container)}}else $pv$jscomp$0$$=$printGraph$$($graph$$);null==$pv$jscomp$0$$||null==$pv$jscomp$0$$.wnd?$editorUi$$.handleError({message:mxResources.get("errorUpdatingPreview")}):($pv$jscomp$0$$.mathEnabled&&($doc$jscomp$0$$=$pv$jscomp$0$$.wnd.document,$print$$&&($pv$jscomp$0$$.wnd.IMMEDIATE_PRINT=!0),$doc$jscomp$0$$.writeln('<script type="text/javascript" src="js/math-print.js">\x3c/script>')),
$pv$jscomp$0$$.closeDocument(),Graph.rewritePageLinks($pv$jscomp$0$$.wnd.document),!$pv$jscomp$0$$.mathEnabled&&$print$$&&PrintDialog.printPreview($pv$jscomp$0$$));null!=$darkStylesheet$$&&($graph$$.shapeForegroundColor=$darkFg$$,$graph$$.shapeBackgroundColor=$darkBg$$,$graph$$.stylesheet=$darkStylesheet$$,$graph$$.refresh())}}var $graph$$=$editorUi$$.editor.graph,$div$$=document.createElement("div"),$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$=document.createElement("h3");
$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.style.width="100%";$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.style.textAlign="center";$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.style.marginTop="0px";mxUtils.write($cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$,$buttons_i$jscomp$221_span$$||mxResources.get("print"));$div$$.appendChild($cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$);
var $pageCount$$=1,$currentPage$$=1;$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$=document.createElement("div");$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.style.cssText="border-bottom:1px solid lightGray;padding-bottom:12px;margin-bottom:12px;";var $allPagesRadio$$=document.createElement("input");$allPagesRadio$$.style.cssText="margin-right:8px;margin-bottom:8px;";$allPagesRadio$$.setAttribute("value","all");$allPagesRadio$$.setAttribute("type","radio");
$allPagesRadio$$.setAttribute("name","pages-printdialog");$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($allPagesRadio$$);$buttons_i$jscomp$221_span$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$221_span$$,mxResources.get("printAllPages"));$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($buttons_i$jscomp$221_span$$);mxUtils.br($cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$);var $pagesRadio$$=
$allPagesRadio$$.cloneNode(!0);$allPagesRadio$$.setAttribute("checked","checked");$pagesRadio$$.setAttribute("value","range");$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($pagesRadio$$);$buttons_i$jscomp$221_span$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$221_span$$,mxResources.get("pages")+":");$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($buttons_i$jscomp$221_span$$);var $pagesFromInput$$=document.createElement("input");
$pagesFromInput$$.style.cssText="margin:0 8px 0 8px;";$pagesFromInput$$.setAttribute("value","1");$pagesFromInput$$.setAttribute("type","number");$pagesFromInput$$.setAttribute("min","1");$pagesFromInput$$.style.width="50px";$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($pagesFromInput$$);$buttons_i$jscomp$221_span$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$221_span$$,mxResources.get("to"));$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($buttons_i$jscomp$221_span$$);
var $pagesToInput$$=$pagesFromInput$$.cloneNode(!0);$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($pagesToInput$$);mxEvent.addListener($pagesFromInput$$,"focus",function(){$pagesRadio$$.checked=!0});mxEvent.addListener($pagesToInput$$,"focus",function(){$pagesRadio$$.checked=!0});mxEvent.addListener($pagesFromInput$$,"change",$validatePageRange$$);mxEvent.addListener($pagesToInput$$,"change",$validatePageRange$$);if(null!=$editorUi$$.pages&&($pageCount$$=$editorUi$$.pages.length,
null!=$editorUi$$.currentPage))for($buttons_i$jscomp$221_span$$=0;$buttons_i$jscomp$221_span$$<$editorUi$$.pages.length;$buttons_i$jscomp$221_span$$++)if($editorUi$$.currentPage==$editorUi$$.pages[$buttons_i$jscomp$221_span$$]){$currentPage$$=$buttons_i$jscomp$221_span$$+1;$pagesFromInput$$.value=$currentPage$$;$pagesToInput$$.value=$currentPage$$;break}$pagesFromInput$$.setAttribute("max",$pageCount$$);$pagesToInput$$.setAttribute("max",$pageCount$$);$editorUi$$.isPagesEnabled()?1<$pageCount$$&&
($div$$.appendChild($cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$),$pagesRadio$$.checked=!0):$pagesRadio$$.checked=!0;mxUtils.br($cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$);var $selectionOnlyRadio$$=document.createElement("input");$selectionOnlyRadio$$.setAttribute("value","all");$selectionOnlyRadio$$.setAttribute("type","radio");$selectionOnlyRadio$$.style.marginRight="8px";$graph$$.isSelectionEmpty()&&$selectionOnlyRadio$$.setAttribute("disabled",
"disabled");var $adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$=document.createElement("div");$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.style.marginBottom="10px";1==$pageCount$$?($selectionOnlyRadio$$.setAttribute("type","checkbox"),$selectionOnlyRadio$$.style.marginBottom="12px",$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.appendChild($selectionOnlyRadio$$)):($selectionOnlyRadio$$.setAttribute("name","pages-printdialog"),$selectionOnlyRadio$$.style.marginBottom=
"8px",$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($selectionOnlyRadio$$));$buttons_i$jscomp$221_span$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$221_span$$,mxResources.get("selectionOnly"));$selectionOnlyRadio$$.parentNode.appendChild($buttons_i$jscomp$221_span$$);1==$pageCount$$&&mxUtils.br($selectionOnlyRadio$$.parentNode);var $adjustRadio$$=document.createElement("input");$adjustRadio$$.style.marginRight="8px";$adjustRadio$$.setAttribute("value",
"adjust");$adjustRadio$$.setAttribute("type","radio");$adjustRadio$$.setAttribute("name","printZoom");$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.appendChild($adjustRadio$$);$buttons_i$jscomp$221_span$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$221_span$$,mxResources.get("adjustTo"));$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.appendChild($buttons_i$jscomp$221_span$$);var $zoomInput$$=document.createElement("input");$zoomInput$$.style.cssText=
"margin:0 8px 0 8px;";$zoomInput$$.setAttribute("value","100 %");$zoomInput$$.style.width="50px";$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.appendChild($zoomInput$$);mxEvent.addListener($zoomInput$$,"focus",function(){$adjustRadio$$.checked=!0});$div$$.appendChild($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$);$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$=$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.cloneNode(!1);
var $fitRadio$$=$adjustRadio$$.cloneNode(!0);$fitRadio$$.setAttribute("value","fit");$adjustRadio$$.setAttribute("checked","checked");$buttons_i$jscomp$221_span$$=document.createElement("div");$buttons_i$jscomp$221_span$$.style.cssText="display:inline-block;vertical-align:top;padding-top:2px;";$buttons_i$jscomp$221_span$$.appendChild($fitRadio$$);$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($buttons_i$jscomp$221_span$$);$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$=
document.createElement("table");$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.style.display="inline-block";var $tbody$$=document.createElement("tbody"),$row1$$=document.createElement("tr"),$row2$$=$row1$$.cloneNode(!0),$td1$$=document.createElement("td"),$td2$$=$td1$$.cloneNode(!0),$td3$$=$td1$$.cloneNode(!0),$td4$$=$td1$$.cloneNode(!0),$td5$$=$td1$$.cloneNode(!0),$td6$$=$td1$$.cloneNode(!0);$td1$$.style.textAlign="right";$td4$$.style.textAlign="right";mxUtils.write($td1$$,
mxResources.get("fitTo"));var $sheetsAcrossInput$$=document.createElement("input");$sheetsAcrossInput$$.style.cssText="margin:0 8px 0 8px;";$sheetsAcrossInput$$.setAttribute("value","1");$sheetsAcrossInput$$.setAttribute("min","1");$sheetsAcrossInput$$.setAttribute("type","number");$sheetsAcrossInput$$.style.width="40px";$td2$$.appendChild($sheetsAcrossInput$$);$buttons_i$jscomp$221_span$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$221_span$$,mxResources.get("fitToSheetsAcross"));
$td3$$.appendChild($buttons_i$jscomp$221_span$$);mxUtils.write($td4$$,mxResources.get("fitToBy"));var $sheetsDownInput$$=$sheetsAcrossInput$$.cloneNode(!0);$td5$$.appendChild($sheetsDownInput$$);mxEvent.addListener($sheetsAcrossInput$$,"focus",function(){$fitRadio$$.checked=!0});mxEvent.addListener($sheetsDownInput$$,"focus",function(){$fitRadio$$.checked=!0});$buttons_i$jscomp$221_span$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$221_span$$,mxResources.get("fitToSheetsDown"));
$td6$$.appendChild($buttons_i$jscomp$221_span$$);$row1$$.appendChild($td1$$);$row1$$.appendChild($td2$$);$row1$$.appendChild($td3$$);$row2$$.appendChild($td4$$);$row2$$.appendChild($td5$$);$row2$$.appendChild($td6$$);$tbody$$.appendChild($row1$$);$tbody$$.appendChild($row2$$);$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.appendChild($tbody$$);$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$);
$div$$.appendChild($cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$);$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$=document.createElement("div");$buttons_i$jscomp$221_span$$=document.createElement("div");$buttons_i$jscomp$221_span$$.style.fontWeight="bold";$buttons_i$jscomp$221_span$$.style.marginBottom="12px";mxUtils.write($buttons_i$jscomp$221_span$$,mxResources.get("paperSize"));$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($buttons_i$jscomp$221_span$$);
$buttons_i$jscomp$221_span$$=document.createElement("div");$buttons_i$jscomp$221_span$$.style.marginBottom="12px";var $accessor$$=PageSetupDialog.addPageFormatPanel($buttons_i$jscomp$221_span$$,"printdialog",$editorUi$$.editor.graph.pageFormat||mxConstants.PAGE_FORMAT_A4_PORTRAIT);$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($buttons_i$jscomp$221_span$$);$buttons_i$jscomp$221_span$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$221_span$$,mxResources.get("pageScale"));
$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($buttons_i$jscomp$221_span$$);var $pageScaleInput$$=document.createElement("input");$pageScaleInput$$.style.cssText="margin:0 8px 0 8px;";$pageScaleInput$$.setAttribute("value","100 %");$pageScaleInput$$.style.width="60px";$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.appendChild($pageScaleInput$$);$div$$.appendChild($cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$);$buttons_i$jscomp$221_span$$=
document.createElement("div");$buttons_i$jscomp$221_span$$.style.cssText="text-align:right;margin:48px 0 0 0;";$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$=mxUtils.button(mxResources.get("cancel"),function(){$editorUi$$.hideDialog()});$cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$.className="geBtn";$editorUi$$.editor.cancelFirst&&$buttons_i$jscomp$221_span$$.appendChild($cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$);$editorUi$$.isOffline()||
($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$=mxUtils.button(mxResources.get("help"),function(){$graph$$.openLink("https://www.drawio.com/doc/faq/print-diagram")}),$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.className="geBtn",$buttons_i$jscomp$221_span$$.appendChild($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$));PrintDialog.previewEnabled&&($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$=mxUtils.button(mxResources.get("preview"),
function(){$editorUi$$.hideDialog();$preview$$(!1)}),$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.className="geBtn",$buttons_i$jscomp$221_span$$.appendChild($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$));$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$=mxUtils.button(mxResources.get(PrintDialog.previewEnabled?"print":"ok"),function(){$editorUi$$.hideDialog();$preview$$(!0)});$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.className=
"geBtn gePrimaryBtn";$buttons_i$jscomp$221_span$$.appendChild($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$);$editorUi$$.editor.cancelFirst||$buttons_i$jscomp$221_span$$.appendChild($cancelBtn$jscomp$4_fitSection_pageScaleSection_pagesSection_title$$);$div$$.appendChild($buttons_i$jscomp$221_span$$);this.container=$div$$};var $changePageSetupExecute$$=ChangePageSetup.prototype.execute;ChangePageSetup.prototype.execute=function(){null==this.page&&(this.page=this.ui.currentPage);
if(this.page!=this.ui.currentPage){if(null!=this.page.viewState){this.ignoreColor||(this.page.viewState.background=this.color);if(!this.ignoreImage){var $img$$=this.image;null!=$img$$&&null!=$img$$.src&&Graph.isPageLink($img$$.src)&&($img$$={originalSrc:$img$$.src});this.page.viewState.backgroundImage=$img$$}null!=this.format&&(this.page.viewState.pageFormat=this.format);null!=this.mathEnabled&&(this.page.viewState.mathEnabled=this.mathEnabled);null!=this.shadowVisible&&(this.page.viewState.shadowVisible=
this.shadowVisible)}}else $changePageSetupExecute$$.apply(this,arguments),null!=this.mathEnabled&&this.mathEnabled!=this.ui.isMathEnabled()&&(this.ui.setMathEnabled(this.mathEnabled),this.mathEnabled=!this.mathEnabled),null!=this.shadowVisible&&this.shadowVisible!=this.ui.editor.graph.shadowVisible&&(this.ui.editor.graph.setShadowVisible(this.shadowVisible),this.shadowVisible=!this.shadowVisible)};Editor.prototype.useCanvasForExport=!1;try{var $canvas$jscomp$0$$=document.createElement("canvas"),$img$jscomp$0$$=
new Image;$img$jscomp$0$$.onload=function(){try{$canvas$jscomp$0$$.getContext("2d").drawImage($img$jscomp$0$$,0,0);var $result$$=$canvas$jscomp$0$$.toDataURL("image/png");Editor.prototype.useCanvasForExport=null!=$result$$&&6<$result$$.length}catch($e$$){}};$img$jscomp$0$$.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1px" height="1px" version="1.1"><foreignObject pointer-events="all" width="1" height="1"><div xmlns="http://www.w3.org/1999/xhtml"></div></foreignObject></svg>')))}catch($e$$){}Editor.prototype.useCanvasForExport=
!1})();
(function(){var $codec$$=new mxObjectCodec(new ChangePageSetup,["ui","previousColor","previousImage","previousFormat"]);$codec$$.beforeDecode=function($dec$$,$node$$,$obj$$){$obj$$.ui=$dec$$.ui;return $node$$};$codec$$.afterDecode=function($dec$$,$node$$,$obj$$){$obj$$.previousColor=$obj$$.color;$obj$$.previousImage=$obj$$.image;$obj$$.previousFormat=$obj$$.format;null!=$obj$$.foldingEnabled&&($obj$$.foldingEnabled=!$obj$$.foldingEnabled);null!=$obj$$.mathEnabled&&($obj$$.mathEnabled=!$obj$$.mathEnabled);null!=
$obj$$.shadowVisible&&($obj$$.shadowVisible=!$obj$$.shadowVisible);return $obj$$};mxCodecRegistry.register($codec$$)})();(function(){var $codec$$=new mxObjectCodec(new ChangeGridColor,["ui"]);$codec$$.beforeDecode=function($dec$$,$node$$,$obj$$){$obj$$.ui=$dec$$.ui;return $node$$};mxCodecRegistry.register($codec$$)})();(function(){EditorUi.VERSION="24.0.4";EditorUi.compactUi="atlas"!=Editor.currentTheme||window.DRAWIO_PUBLIC_BUILD;Editor.isDarkMode()&&(mxGraphView.prototype.gridColor=mxGraphView.prototype.defaultDarkGridColor);EditorUi.enableLogging="1"!=urlParams.stealth&&"1"!=urlParams.lockdown&&(/.*\.draw\.io$/.test(window.location.hostname)||/.*\.diagrams\.net$/.test(window.location.hostname))&&"https://preprod.diagrams.net/"!=window.location.hostname&&"support.draw.io"!=window.location.hostname;EditorUi.drawHost=
window.DRAWIO_BASE_URL;EditorUi.lightboxHost=window.DRAWIO_LIGHTBOX_URL;EditorUi.lastErrorMessage=null;EditorUi.ignoredAnonymizedChars="\n\t`~!@#$%^&*()_+{}|:\"<>?-=[];'./,\n\t";EditorUi.templateFile=TEMPLATE_PATH+"/index.xml";EditorUi.cacheUrl=window.REALTIME_URL;null==EditorUi.cacheUrl&&"undefined"!==typeof DrawioFile&&(DrawioFile.SYNC="none");Editor.cacheTimeout=1E4;EditorUi.enablePlantUml=EditorUi.enableLogging;EditorUi.isElectronApp=null!=window&&null!=window.process&&null!=window.process.versions&&
null!=window.process.versions.electron;EditorUi.nativeFileSupport=!mxClient.IS_OP&&!EditorUi.isElectronApp&&"1"!=urlParams.extAuth&&"showSaveFilePicker"in window&&"showOpenFilePicker"in window;EditorUi.enableDrafts=!mxClient.IS_CHROMEAPP&&isLocalStorage&&"0"!=urlParams.drafts;EditorUi.scratchpadHelpLink="https://www.drawio.com/doc/faq/scratchpad";EditorUi.enableHtmlEditOption=!0;EditorUi.mermaidDiagramTypes="flowchart classDiagram sequenceDiagram stateDiagram mindmap graph erDiagram requirementDiagram journey gantt pie gitGraph".split(" ");
EditorUi.defaultMermaidConfig={theme:"neutral",arrowMarkerAbsolute:!1,flowchart:{htmlLabels:!1},sequence:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,fontFamily:'"Open-Sans", "sans-serif"',numberSectionStyles:4,axisFormat:"%Y-%m-%d"}};
EditorUi.logError=function($message$$,$url$$,$linenumber$$,$colno$$,$err$$,$severity$$,$quiet$$){if(null!=$message$$){$err$$=null!=$err$$?$err$$:Error($message$$);$err$$.stack=null!=$err$$.stack?$err$$.stack:"";$severity$$=null!=$severity$$?$severity$$:0>$message$$.indexOf("NetworkError")&&0>$message$$.indexOf("SecurityError")&&0>$message$$.indexOf("NS_ERROR_FAILURE")&&0>$message$$.indexOf("out of memory")?"SEVERE":"CONFIG";try{EditorUi.enableLogging&&"1"!=urlParams.dev&&$message$$!=EditorUi.lastErrorMessage&&
0>$message$$.indexOf("extension:")&&0>$message$$.indexOf("ResizeObserver loop completed with undelivered notifications")&&0>$err$$.stack.indexOf("extension:")&&0>$err$$.stack.indexOf("<anonymous>:")&&0>$err$$.stack.indexOf("/math/es5/")&&(EditorUi.lastErrorMessage=$message$$,(new Image).src=(null!=window.DRAWIO_LOG_URL?window.DRAWIO_LOG_URL:"")+"/log?severity="+$severity$$+"&v="+encodeURIComponent(EditorUi.VERSION)+"&msg=clientError:"+encodeURIComponent($message$$)+":url:"+encodeURIComponent(window.location.href)+
":lnum:"+encodeURIComponent($linenumber$$)+(null!=$colno$$?":colno:"+encodeURIComponent($colno$$):"")+(""!=$err$$.stack?"&stack="+encodeURIComponent($err$$.stack):""))}catch($e$$){}try{$quiet$$||null==window.console||console.error($severity$$,$message$$,$url$$,$linenumber$$,$colno$$,$err$$)}catch($e$10$$){}}};EditorUi.logEvent=function($data$$){if("1"==urlParams.dev)EditorUi.debug("logEvent",$data$$);else if(EditorUi.enableLogging)try{var $logDomain$$=null!=window.DRAWIO_LOG_URL?window.DRAWIO_LOG_URL:
"";(new Image).src=$logDomain$$+"/images/1x1.png?v="+encodeURIComponent(EditorUi.VERSION)+(null!=$data$$?"&data="+encodeURIComponent(JSON.stringify($data$$)):"")}catch($e$$){}};EditorUi.sendReport=function($data$$,$maxLength$$){if("1"==urlParams.dev)EditorUi.debug("sendReport",$data$$);else if(EditorUi.enableLogging)try{$maxLength$$=null!=$maxLength$$?$maxLength$$:5E4,$data$$.length>$maxLength$$&&($data$$=$data$$.substring(0,$maxLength$$)+"\n...[SHORTENED]"),mxUtils.post("/email","version="+encodeURIComponent(EditorUi.VERSION)+
"&url="+encodeURIComponent(window.location.href)+"&data="+encodeURIComponent($data$$))}catch($e$$){}};EditorUi.debug=function(){try{if(null!=window.console){for(var $args$$=[(new Date).toISOString()],$i$$=0;$i$$<arguments.length;$i$$++)$args$$.push(arguments[$i$$]);console.log.apply(console,$args$$)}}catch($e$$){}};EditorUi.removeChildNodes=function($node$$){for(;null!=$node$$.firstChild;)$node$$.removeChild($node$$.firstChild)};EditorUi.prototype.emptyDiagramXml='<mxGraphModel><root><mxCell id="0"/><mxCell id="1" parent="0"/></root></mxGraphModel>';
EditorUi.prototype.emptyLibraryXml="<mxlibrary>[]</mxlibrary>";EditorUi.prototype.mode=null;EditorUi.prototype.timeout=Editor.prototype.timeout;EditorUi.prototype.defaultCustomShapeStyle="shape=stencil(tZRtTsQgEEBPw1+DJR7AoN6DbWftpAgE0Ortd/jYRGq72R+YNE2YgTePloEJGWblgA18ZuKFDcMj5/Sm8boZq+BgjCX4pTyqk6ZlKROitwusOMXKQDODx5iy4pXxZ5qTHiFHawxB0JrQZH7lCabQ0Fr+XWC1/E8zcsT/gAi+Subo2/3Mh6d/oJb5nU1b5tW7r2knautaa3T+U32o7f7vZwpJkaNDLORJjcu7t59m2jXxqX9un+tt022acsfmoKaQZ+vhhswZtS6Ne/ThQGt0IV0N3Yyv6P3CeT9/tHO0XFI5cAE=);whiteSpace=wrap;html=1;";
EditorUi.prototype.maxBackgroundSize=1600;EditorUi.prototype.maxImageSize=1200;EditorUi.prototype.maxTextWidth=520;EditorUi.prototype.resampleThreshold=1E5;EditorUi.prototype.maxImageBytes=2E6;EditorUi.prototype.maxBackgroundBytes=25E5;EditorUi.prototype.maxTextBytes=5E5;EditorUi.prototype.currentFile=null;EditorUi.prototype.printPdfExport=!1;EditorUi.prototype.pdfPageExport=!0;EditorUi.prototype.formatEnabled="0"!=urlParams.format;EditorUi.prototype.insertTemplateEnabled=!0;EditorUi.prototype.closableScratchpad=
!0;EditorUi.prototype.embedExportBorder=8;EditorUi.prototype.embedExportBackground=null;EditorUi.prototype.shareCursorPosition=!0;EditorUi.prototype.showRemoteCursors=!0;(function(){EditorUi.prototype.useCanvasForExport=!1;EditorUi.prototype.jpgSupported=!1;EditorUi.prototype.webpSupported=!1;try{var $cnv$$=document.createElement("canvas");EditorUi.prototype.canvasSupported=!(!$cnv$$.getContext||!$cnv$$.getContext("2d"))}catch($e$$){}try{var $canvas$$=document.createElement("canvas"),$img$$=new Image;
$img$$.onload=function(){try{$canvas$$.getContext("2d").drawImage($img$$,0,0);var $result$$=$canvas$$.toDataURL("image/png");EditorUi.prototype.useCanvasForExport=null!=$result$$&&6<$result$$.length}catch($e$11$$){}};$img$$.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1px" height="1px" version="1.1"><foreignObject pointer-events="all" width="1" height="1"><div xmlns="http://www.w3.org/1999/xhtml"></div></foreignObject></svg>')))}catch($e$12$$){}try{$canvas$$=
document.createElement("canvas");$canvas$$.width=$canvas$$.height=1;var $uri$$=$canvas$$.toDataURL("image/jpeg");EditorUi.prototype.jpgSupported=null!==$uri$$.match("image/jpeg");$uri$$=$canvas$$.toDataURL("image/webp");EditorUi.prototype.webpSupported=null!==$uri$$.match("image/webp")}catch($e$13$$){}})();EditorUi.prototype.createButtonContainer=function(){var $div$$=document.createElement("div");$div$$.className="geButtonContainer";$div$$.style.overflow="1"==urlParams.embed?"hidden":"";return $div$$};
EditorUi.prototype.openLink=function($url$$,$target$$,$allowOpener$$){return this.editor.graph.openLink($url$$,$target$$,$allowOpener$$)};EditorUi.prototype.showSplash=function($force$$){};EditorUi.prototype.getLocalData=function($key$$,$fn$$){$fn$$(localStorage.getItem($key$$))};EditorUi.prototype.setLocalData=function($key$$,$data$$,$fn$$){localStorage.setItem($key$$,$data$$);null!=$fn$$&&$fn$$()};EditorUi.prototype.removeLocalData=function($key$$,$fn$$){localStorage.removeItem($key$$);$fn$$()};
EditorUi.prototype.setShareCursorPosition=function($value$$){this.shareCursorPosition=$value$$;this.fireEvent(new mxEventObject("shareCursorPositionChanged"))};EditorUi.prototype.isShareCursorPosition=function(){return this.shareCursorPosition};EditorUi.prototype.setShowRemoteCursors=function($value$$){this.showRemoteCursors=$value$$;this.fireEvent(new mxEventObject("showRemoteCursorsChanged"))};EditorUi.prototype.isShowRemoteCursors=function(){return this.showRemoteCursors};EditorUi.prototype.setMathEnabled=
function($value$$){this.editor.graph.mathEnabled=$value$$;this.editor.updateGraphComponents();this.editor.graph.refresh();this.editor.graph.defaultMathEnabled=$value$$;this.fireEvent(new mxEventObject("mathEnabledChanged"))};EditorUi.prototype.isMathEnabled=function($value$$){return this.editor.graph.mathEnabled};EditorUi.prototype.isStandaloneApp=function(){return mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||this.isOfflineApp()};EditorUi.prototype.isOfflineApp=function(){return"1"==urlParams.offline};
EditorUi.prototype.isOffline=function($ignoreStealth$$){return this.isOfflineApp()||!navigator.onLine||!$ignoreStealth$$&&("1"==urlParams.stealth||"1"==urlParams.lockdown)};EditorUi.prototype.isExternalDataComms=function(){return"1"!=urlParams.offline&&!this.isOffline()&&!this.isOfflineApp()};EditorUi.prototype.createSpinner=function($x$$,$y$$,$size$$){var $autoPosition$$=null==$x$$||null==$y$$;$size$$=null!=$size$$?$size$$:24;var $spinner$$=new Spinner({lines:12,length:$size$$,width:Math.round($size$$/
3),radius:Math.round($size$$/2),rotate:0,color:Editor.isDarkMode()?"#c0c0c0":"#000",speed:1.5,trail:60,shadow:!1,hwaccel:!1,zIndex:2E9}),$defaultTimeout$$=this.timeout,$oldSpin$$=$spinner$$.spin,$thread$$=null,$retry$$=null,$resume$$=mxUtils.bind(this,function($fn$$){null!=$fn$$&&$fn$$()});$spinner$$.spin=function($container$$,$label$$,$error$$,$timeout$$){$timeout$$=null!=$timeout$$?$timeout$$:$defaultTimeout$$;var $result$jscomp$74_status$$=!1;if(!this.active){var $start$$=Date.now();null!=$error$$&&
($thread$$=window.setTimeout(function(){$spinner$$.stop();$thread$$=null;$error$$({code:App.ERROR_TIMEOUT,message:mxResources.get("timeout"),retry:$retry$$})},$timeout$$));$oldSpin$$.call(this,$container$$);this.active=!0;null!=$label$$&&($autoPosition$$&&($y$$=Math.max(document.body.clientHeight||0,document.documentElement.clientHeight||0)/2,$x$$=document.body.clientWidth/2-2),$result$jscomp$74_status$$=document.createElement("div"),$result$jscomp$74_status$$.style.position="absolute",$result$jscomp$74_status$$.style.whiteSpace=
"nowrap",$result$jscomp$74_status$$.style.background="#4B4243",$result$jscomp$74_status$$.style.color="white",$result$jscomp$74_status$$.style.fontFamily=Editor.defaultHtmlFont,$result$jscomp$74_status$$.style.fontSize="9pt",$result$jscomp$74_status$$.style.padding="6px",$result$jscomp$74_status$$.style.paddingLeft="10px",$result$jscomp$74_status$$.style.paddingRight="10px",$result$jscomp$74_status$$.style.zIndex=2E9,$result$jscomp$74_status$$.style.left=Math.max(0,$x$$)+"px",$result$jscomp$74_status$$.style.top=
Math.max(0,$y$$+70)+"px",mxUtils.setPrefixedStyle($result$jscomp$74_status$$.style,"borderRadius","6px"),mxUtils.setPrefixedStyle($result$jscomp$74_status$$.style,"transform","translate(-50%,-50%)"),Editor.isDarkMode()||mxUtils.setPrefixedStyle($result$jscomp$74_status$$.style,"boxShadow","2px 2px 3px 0px #ddd"),"..."!=$label$$.substring($label$$.length-3,$label$$.length)&&"!"!=$label$$.charAt($label$$.length-1)&&($label$$+="..."),$result$jscomp$74_status$$.innerHTML=mxUtils.htmlEntities($label$$),
$container$$.appendChild($result$jscomp$74_status$$),$spinner$$.status=$result$jscomp$74_status$$);this.pause=mxUtils.bind(this,function(){var $fn$$=$resume$$;this.active&&($timeout$$=Math.max(0,$timeout$$-(Date.now()-$start$$)),$fn$$=mxUtils.bind(this,function($continueFn$$){this.spin($container$$,$label$$,$error$$,$timeout$$);if(null!=$continueFn$$)try{$continueFn$$(),$retry$$=mxUtils.bind(this,function(){this.spin($container$$,$label$$,$error$$,$timeout$$);try{$continueFn$$()}catch($e$$){null!=
$error$$&&$error$$($e$$)}})}catch($e$$){null!=$error$$&&$error$$($e$$)}}));this.stop();return $fn$$});$result$jscomp$74_status$$=!0}return $result$jscomp$74_status$$};var $oldStop$$=$spinner$$.stop;$spinner$$.stop=function(){$oldStop$$.call(this);this.active&&(this.active=!1,null!=$thread$$&&(window.clearTimeout($thread$$),$thread$$=null),null!=$spinner$$.status&&null!=$spinner$$.status.parentNode&&$spinner$$.status.parentNode.removeChild($spinner$$.status),$spinner$$.status=null)};$spinner$$.pause=
function(){return $resume$$};return $spinner$$};EditorUi.prototype.isCompatibleString=function($data$$){try{var $doc$$=mxUtils.parseXml($data$$),$node$$=this.editor.extractGraphModel($doc$$.documentElement,!0);return null!=$node$$&&0==$node$$.getElementsByTagName("parsererror").length}catch($e$$){}return!1};EditorUi.isVisioFilename=function($filename$$){return/(\.v(dx|sdx?))($|\?)/i.test($filename$$)||/(\.vs(x|sx?))($|\?)/i.test($filename$$)};EditorUi.prototype.isVisioData=function($data$$){return 8<
$data$$.length&&(208==$data$$.charCodeAt(0)&&207==$data$$.charCodeAt(1)&&17==$data$$.charCodeAt(2)&&224==$data$$.charCodeAt(3)&&161==$data$$.charCodeAt(4)&&177==$data$$.charCodeAt(5)&&26==$data$$.charCodeAt(6)&&225==$data$$.charCodeAt(7)||80==$data$$.charCodeAt(0)&&75==$data$$.charCodeAt(1)&&3==$data$$.charCodeAt(2)&&4==$data$$.charCodeAt(3)||80==$data$$.charCodeAt(0)&&75==$data$$.charCodeAt(1)&&3==$data$$.charCodeAt(2)&&6==$data$$.charCodeAt(3))};EditorUi.prototype.isRemoteVisioData=function($data$$){return 8<
$data$$.length&&(208==$data$$.charCodeAt(0)&&207==$data$$.charCodeAt(1)&&17==$data$$.charCodeAt(2)&&224==$data$$.charCodeAt(3)&&161==$data$$.charCodeAt(4)&&177==$data$$.charCodeAt(5)&&26==$data$$.charCodeAt(6)&&225==$data$$.charCodeAt(7)||60==$data$$.charCodeAt(0)&&63==$data$$.charCodeAt(1)&&120==$data$$.charCodeAt(2)&&109==$data$$.charCodeAt(3)&&108==$data$$.charCodeAt(3))};var $editorUiCreateKeyHandler$$=EditorUi.prototype.createKeyHandler;EditorUi.prototype.createKeyHandler=function($editor$$){var $keyHandler$$=
$editorUiCreateKeyHandler$$.apply(this,arguments);if(!this.editor.chromeless||this.editor.editable){var $keyHandlerGetFunction$$=$keyHandler$$.getFunction,$graph$$=this.editor.graph,$ui$$=this;$keyHandler$$.getFunction=function($evt$$){if($graph$$.isSelectionEmpty()&&null!=$ui$$.pages&&0<$ui$$.pages.length){var $idx$$=$ui$$.getSelectedPageIndex();if(mxEvent.isShiftDown($evt$$)){if(37==$evt$$.keyCode)return function(){0<$idx$$&&$ui$$.movePage($idx$$,$idx$$-1)};if(38==$evt$$.keyCode)return function(){0<
$idx$$&&$ui$$.movePage($idx$$,0)};if(39==$evt$$.keyCode)return function(){$idx$$<$ui$$.pages.length-1&&$ui$$.movePage($idx$$,$idx$$+1)};if(40==$evt$$.keyCode)return function(){$idx$$<$ui$$.pages.length-1&&$ui$$.movePage($idx$$,$ui$$.pages.length-1)}}else if(mxEvent.isControlDown($evt$$)||mxClient.IS_MAC&&mxEvent.isMetaDown($evt$$)){if(37==$evt$$.keyCode)return function(){0<$idx$$&&$ui$$.selectNextPage(!1)};if(38==$evt$$.keyCode)return function(){0<$idx$$&&$ui$$.selectPage($ui$$.pages[0])};if(39==
$evt$$.keyCode)return function(){$idx$$<$ui$$.pages.length-1&&$ui$$.selectNextPage(!0)};if(40==$evt$$.keyCode)return function(){$idx$$<$ui$$.pages.length-1&&$ui$$.selectPage($ui$$.pages[$ui$$.pages.length-1])}}}return!(65<=$evt$$.keyCode&&90>=$evt$$.keyCode)||$graph$$.isSelectionEmpty()||mxEvent.isAltDown($evt$$)||mxEvent.isShiftDown($evt$$)||mxEvent.isControlDown($evt$$)||mxClient.IS_MAC&&mxEvent.isMetaDown($evt$$)?$keyHandlerGetFunction$$.apply(this,arguments):null}}return $keyHandler$$};var $editorUiExtractGraphModelFromHtml$$=
EditorUi.prototype.extractGraphModelFromHtml;EditorUi.prototype.extractGraphModelFromHtml=function($data$$){var $result$$=$editorUiExtractGraphModelFromHtml$$.apply(this,arguments);if(null==$result$$)try{var $idx$$=$data$$.indexOf("&lt;mxfile ");if(0<=$idx$$){var $idx2$$=$data$$.lastIndexOf("&lt;/mxfile&gt;");$idx2$$>$idx$$&&($result$$=$data$$.substring($idx$$,$idx2$$+15).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\\&quot;/g,'"').replace(/\n/g,""))}else{var $doc$$=mxUtils.parseXml($data$$),
$node$$=this.editor.extractGraphModel($doc$$.documentElement,null!=this.pages||"hidden"==this.diagramContainer.style.visibility);$result$$=null!=$node$$?mxUtils.getXml($node$$):""}}catch($e$$){}return $result$$};EditorUi.prototype.validateFileData=function($data$$){if(null!=$data$$&&0<$data$$.length){var $index$$=$data$$.indexOf('<meta charset="utf-8">');0<=$index$$&&($data$$=$data$$.slice(0,$index$$)+'<meta charset="utf-8"/>'+$data$$.slice($index$$+23-1,$data$$.length));$data$$=Graph.zapGremlins($data$$)}return $data$$};
EditorUi.prototype.replaceFileData=function($data$jscomp$123_node$$){$data$jscomp$123_node$$=this.validateFileData($data$jscomp$123_node$$);$data$jscomp$123_node$$=null!=$data$jscomp$123_node$$&&0<$data$jscomp$123_node$$.length?mxUtils.parseXml($data$jscomp$123_node$$).documentElement:null;var $graph$jscomp$77_tmp$$=null!=$data$jscomp$123_node$$?this.editor.extractGraphModel($data$jscomp$123_node$$,!0):null;null!=$graph$jscomp$77_tmp$$&&($data$jscomp$123_node$$=$graph$jscomp$77_tmp$$);if(null!=$data$jscomp$123_node$$){$graph$jscomp$77_tmp$$=
this.editor.graph;$graph$jscomp$77_tmp$$.model.beginUpdate();try{var $oldPages$$=null!=this.pages?this.pages.slice():null,$nodes$$=$data$jscomp$123_node$$.getElementsByTagName("diagram");if(1<$nodes$$.length||1==$nodes$$.length&&$nodes$$[0].hasAttribute("name")){this.fileNode=$data$jscomp$123_node$$;this.pages=null!=this.pages?this.pages:[];for(var $i$$=$nodes$$.length-1;0<=$i$$;$i$$--){var $page$$=this.updatePageRoot(new DiagramPage($nodes$$[$i$$]));null==$page$$.getName()&&$page$$.setName(mxResources.get("pageWithNumber",
[$i$$+1]));$graph$jscomp$77_tmp$$.model.execute(new ChangePage(this,$page$$,0==$i$$?$page$$:null,0))}}else null==this.fileNode&&(this.fileNode=$data$jscomp$123_node$$.ownerDocument.createElement("mxfile"),this.currentPage=new DiagramPage($data$jscomp$123_node$$.ownerDocument.createElement("diagram")),this.currentPage.setName(mxResources.get("pageWithNumber",[1])),$graph$jscomp$77_tmp$$.model.execute(new ChangePage(this,this.currentPage,this.currentPage,0))),this.editor.setGraphXml($data$jscomp$123_node$$),
null!=this.currentPage&&(this.currentPage.root=this.editor.graph.model.root,$graph$jscomp$77_tmp$$.model.execute(new ChangePage(this,this.currentPage,this.currentPage,0)));if(null!=$oldPages$$)for($i$$=0;$i$$<$oldPages$$.length;$i$$++)$graph$jscomp$77_tmp$$.model.execute(new ChangePage(this,$oldPages$$[$i$$],null))}finally{$graph$jscomp$77_tmp$$.model.endUpdate()}}};EditorUi.prototype.createFileData=function($md_node$$,$graph$$,$file$jscomp$8_props$$,$url$$,$forceXml$$,$forceSvg$$,$forceHtml$$,$embeddedCallback$$,
$ignoreSelection$$,$compact$$,$uncompressed_xml$$,$scale$$,$border$$){$graph$$=null!=$graph$$?$graph$$:this.editor.graph;$forceXml$$=null!=$forceXml$$?$forceXml$$:!1;$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:!0;$uncompressed_xml$$=null!=$uncompressed_xml$$?$uncompressed_xml$$:!Editor.defaultCompressed;var $redirect$$=null;if(null==$file$jscomp$8_props$$||$file$jscomp$8_props$$.getMode()==App.MODE_DEVICE||$file$jscomp$8_props$$.getMode()==App.MODE_BROWSER)var $editLink$$="_blank";
else $redirect$$=$editLink$$=$url$$;if(null==$md_node$$)return"";var $data$$=$md_node$$;if("mxfile"!=$data$$.nodeName.toLowerCase()){if($uncompressed_xml$$){var $diagramNode$jscomp$3_text$$=$md_node$$.ownerDocument.createElement("diagram");$diagramNode$jscomp$3_text$$.setAttribute("name",mxResources.get("pageWithNumber",[1]));$diagramNode$jscomp$3_text$$.setAttribute("id",Editor.guid());$diagramNode$jscomp$3_text$$.appendChild($md_node$$)}else{$diagramNode$jscomp$3_text$$=Graph.zapGremlins(mxUtils.getXml($md_node$$));
$data$$=Graph.compress($diagramNode$jscomp$3_text$$);if(Graph.decompress($data$$)!=$diagramNode$jscomp$3_text$$)return $diagramNode$jscomp$3_text$$;$diagramNode$jscomp$3_text$$=$md_node$$.ownerDocument.createElement("diagram");$diagramNode$jscomp$3_text$$.setAttribute("name",mxResources.get("pageWithNumber",[1]));$diagramNode$jscomp$3_text$$.setAttribute("id",Editor.guid());mxUtils.setTextContent($diagramNode$jscomp$3_text$$,$data$$)}$data$$=$md_node$$.ownerDocument.createElement("mxfile");$data$$.appendChild($diagramNode$jscomp$3_text$$)}$compact$$?
($data$$=$data$$.cloneNode(!0),$data$$.removeAttribute("modified"),$data$$.removeAttribute("host"),$data$$.removeAttribute("agent"),$data$$.removeAttribute("etag"),$data$$.removeAttribute("userAgent"),$data$$.removeAttribute("version"),$data$$.removeAttribute("editor"),$data$$.removeAttribute("type")):($data$$.removeAttribute("userAgent"),$data$$.removeAttribute("version"),$data$$.removeAttribute("editor"),$data$$.removeAttribute("pages"),$data$$.removeAttribute("type"),mxClient.IS_CHROMEAPP?$data$$.setAttribute("host",
"Chrome"):EditorUi.isElectronApp?$data$$.setAttribute("host","Electron"):$data$$.setAttribute("host",window.location.hostname),$data$$.setAttribute("modified",(new Date).toISOString()),$data$$.setAttribute("agent",null!=navigator.userAgent?navigator.userAgent:navigator.appVersion),$data$$.setAttribute("version",EditorUi.VERSION),$data$$.setAttribute("etag",Editor.guid()),$md_node$$=null!=$file$jscomp$8_props$$?$file$jscomp$8_props$$.getMode():this.mode,null!=$md_node$$&&$data$$.setAttribute("type",
$md_node$$),1<$data$$.getElementsByTagName("diagram").length&&null!=this.pages&&$data$$.setAttribute("pages",this.pages.length));null!=$scale$$&&($data$$=$data$$.cloneNode(!0),$data$$.setAttribute("scale",$scale$$));null!=$border$$&&($data$$=$data$$.cloneNode(!0),$data$$.setAttribute("border",$border$$));$uncompressed_xml$$=$uncompressed_xml$$?mxUtils.getPrettyXml($data$$):mxUtils.getXml($data$$);if(!$forceSvg$$&&!$forceXml$$&&($forceHtml$$||null!=$file$jscomp$8_props$$&&/(\.html)$/i.test($file$jscomp$8_props$$.getTitle())))$uncompressed_xml$$=
this.getHtml2(mxUtils.getXml($data$$),$graph$$,null!=$file$jscomp$8_props$$?$file$jscomp$8_props$$.getTitle():null,$editLink$$,$redirect$$);else if($forceSvg$$||!$forceXml$$&&null!=$file$jscomp$8_props$$&&/(\.svg)$/i.test($file$jscomp$8_props$$.getTitle()))null==$file$jscomp$8_props$$||$file$jscomp$8_props$$.getMode()!=App.MODE_DEVICE&&$file$jscomp$8_props$$.getMode()!=App.MODE_BROWSER||($url$$=null),$file$jscomp$8_props$$=this.getSvgFileProperties($data$$),$uncompressed_xml$$=this.getEmbeddedSvg($uncompressed_xml$$,
$graph$$,$url$$,null,$embeddedCallback$$,$ignoreSelection$$,$redirect$$,null,null,$file$jscomp$8_props$$.scale,$file$jscomp$8_props$$.border);return $uncompressed_xml$$};EditorUi.prototype.getXmlFileData=function($appendPage_ignoreSelection$$,$currentPage$jscomp$2_i$$,$uncompressed$$,$resolveReferences$$){$appendPage_ignoreSelection$$=null!=$appendPage_ignoreSelection$$?$appendPage_ignoreSelection$$:!0;$currentPage$jscomp$2_i$$=null!=$currentPage$jscomp$2_i$$?$currentPage$jscomp$2_i$$:!1;$uncompressed$$=
null!=$uncompressed$$?$uncompressed$$:!Editor.defaultCompressed;var $node$$=this.editor.getGraphXml($appendPage_ignoreSelection$$,$resolveReferences$$);if($appendPage_ignoreSelection$$&&null!=this.fileNode&&null!=this.currentPage)if($appendPage_ignoreSelection$$=function($clone$$){var $modelNode_models_text$jscomp$25_tmp$$=$clone$$.getElementsByTagName("mxGraphModel");$modelNode_models_text$jscomp$25_tmp$$=0<$modelNode_models_text$jscomp$25_tmp$$.length?$modelNode_models_text$jscomp$25_tmp$$[0]:null;
null==$modelNode_models_text$jscomp$25_tmp$$&&$uncompressed$$?($modelNode_models_text$jscomp$25_tmp$$=mxUtils.trim(mxUtils.getTextContent($clone$$)),$clone$$=$clone$$.cloneNode(!1),0<$modelNode_models_text$jscomp$25_tmp$$.length&&($modelNode_models_text$jscomp$25_tmp$$=Graph.decompress($modelNode_models_text$jscomp$25_tmp$$),null!=$modelNode_models_text$jscomp$25_tmp$$&&0<$modelNode_models_text$jscomp$25_tmp$$.length&&$clone$$.appendChild(mxUtils.parseXml($modelNode_models_text$jscomp$25_tmp$$).documentElement))):
null==$modelNode_models_text$jscomp$25_tmp$$||$uncompressed$$?$clone$$=$clone$$.cloneNode(!0):($clone$$=$clone$$.cloneNode(!1),mxUtils.setTextContent($clone$$,Graph.compressNode($modelNode_models_text$jscomp$25_tmp$$)));$node$$.appendChild($clone$$)},EditorUi.removeChildNodes(this.currentPage.node),mxUtils.setTextContent(this.currentPage.node,Graph.compressNode($node$$)),$node$$=this.fileNode.cloneNode(!1),$currentPage$jscomp$2_i$$)$appendPage_ignoreSelection$$(this.currentPage.node);else for($currentPage$jscomp$2_i$$=
0;$currentPage$jscomp$2_i$$<this.pages.length;$currentPage$jscomp$2_i$$++){var $page$$=this.pages[$currentPage$jscomp$2_i$$],$currNode$$=$page$$.node;if($page$$!=this.currentPage)if($page$$.needsUpdate){var $enc$jscomp$2_temp$$=new mxCodec(mxUtils.createXmlDocument());$enc$jscomp$2_temp$$=$enc$jscomp$2_temp$$.encode(new mxGraphModel($page$$.root));this.editor.graph.saveViewState($page$$.viewState,$enc$jscomp$2_temp$$,null,$resolveReferences$$);EditorUi.removeChildNodes($currNode$$);mxUtils.setTextContent($currNode$$,
Graph.compressNode($enc$jscomp$2_temp$$));delete $page$$.needsUpdate}else $resolveReferences$$&&(this.updatePageRoot($page$$),null!=$page$$.viewState.backgroundImage&&(null!=$page$$.viewState.backgroundImage.originalSrc?$page$$.viewState.backgroundImage=this.createImageForPageLink($page$$.viewState.backgroundImage.originalSrc,$page$$):Graph.isPageLink($page$$.viewState.backgroundImage.src)&&($page$$.viewState.backgroundImage=this.createImageForPageLink($page$$.viewState.backgroundImage.src,$page$$))),
null!=$page$$.viewState.backgroundImage&&null!=$page$$.viewState.backgroundImage.originalSrc&&($enc$jscomp$2_temp$$=new mxCodec(mxUtils.createXmlDocument()),$enc$jscomp$2_temp$$=$enc$jscomp$2_temp$$.encode(new mxGraphModel($page$$.root)),this.editor.graph.saveViewState($page$$.viewState,$enc$jscomp$2_temp$$,null,$resolveReferences$$),$currNode$$=$currNode$$.cloneNode(!1),mxUtils.setTextContent($currNode$$,Graph.compressNode($enc$jscomp$2_temp$$))));$appendPage_ignoreSelection$$($currNode$$)}return $node$$};
EditorUi.prototype.anonymizeString=function($text$$,$zeros$$){for(var $result$$=[],$i$$=0;$i$$<$text$$.length;$i$$++){var $c$$=$text$$.charAt($i$$);0<=EditorUi.ignoredAnonymizedChars.indexOf($c$$)?$result$$.push($c$$):isNaN(parseInt($c$$))?$c$$.toLowerCase()!=$c$$?$result$$.push(String.fromCharCode(65+Math.round(25*Math.random()))):$c$$.toUpperCase()!=$c$$?$result$$.push(String.fromCharCode(97+Math.round(25*Math.random()))):/\s/.test($c$$)?$result$$.push(" "):$result$$.push("?"):$result$$.push($zeros$$?
"0":Math.round(9*Math.random()))}return $result$$.join("")};EditorUi.prototype.anonymizePatch=function($patch$$){if(null!=$patch$$[EditorUi.DIFF_INSERT])for(var $anonymizeCellDiffs_i$$=0;$anonymizeCellDiffs_i$$<$patch$$[EditorUi.DIFF_INSERT].length;$anonymizeCellDiffs_i$$++)try{var $clone$$=mxUtils.parseXml($patch$$[EditorUi.DIFF_INSERT][$anonymizeCellDiffs_i$$].data).documentElement.cloneNode(!1);null!=$clone$$.getAttribute("name")&&$clone$$.setAttribute("name",this.anonymizeString($clone$$.getAttribute("name")));
$patch$$[EditorUi.DIFF_INSERT][$anonymizeCellDiffs_i$$].data=mxUtils.getXml($clone$$)}catch($e$$){$patch$$[EditorUi.DIFF_INSERT][$anonymizeCellDiffs_i$$].data=$e$$.message}if(null!=$patch$$[EditorUi.DIFF_UPDATE]){for(var $pageId$$ in $patch$$[EditorUi.DIFF_UPDATE]){var $diff$$=$patch$$[EditorUi.DIFF_UPDATE][$pageId$$];null!=$diff$$.name&&($diff$$.name=this.anonymizeString($diff$$.name));null!=$diff$$.cells&&($anonymizeCellDiffs_i$$=mxUtils.bind(this,function($key$$){var $cellDiffs$$=$diff$$.cells[$key$$];
if(null!=$cellDiffs$$){for(var $cellId$$ in $cellDiffs$$)null!=$cellDiffs$$[$cellId$$].value&&($cellDiffs$$[$cellId$$].value="["+$cellDiffs$$[$cellId$$].value.length+"]"),null!=$cellDiffs$$[$cellId$$].xmlValue&&($cellDiffs$$[$cellId$$].xmlValue="["+$cellDiffs$$[$cellId$$].xmlValue.length+"]"),null!=$cellDiffs$$[$cellId$$].style&&($cellDiffs$$[$cellId$$].style="["+$cellDiffs$$[$cellId$$].style.length+"]"),mxUtils.isEmptyObject($cellDiffs$$[$cellId$$])&&delete $cellDiffs$$[$cellId$$];mxUtils.isEmptyObject($cellDiffs$$)&&
delete $diff$$.cells[$key$$]}}),$anonymizeCellDiffs_i$$(EditorUi.DIFF_INSERT),$anonymizeCellDiffs_i$$(EditorUi.DIFF_UPDATE),mxUtils.isEmptyObject($diff$$.cells)&&delete $diff$$.cells);mxUtils.isEmptyObject($diff$$)&&delete $patch$$[EditorUi.DIFF_UPDATE][$pageId$$]}mxUtils.isEmptyObject($patch$$[EditorUi.DIFF_UPDATE])&&delete $patch$$[EditorUi.DIFF_UPDATE]}return $patch$$};EditorUi.prototype.anonymizeAttributes=function($node$$,$zeros$$){if(null!=$node$$.attributes)for(var $i$$=0;$i$$<$node$$.attributes.length;$i$$++)"as"!=
$node$$.attributes[$i$$].name&&$node$$.setAttribute($node$$.attributes[$i$$].name,this.anonymizeString($node$$.attributes[$i$$].value,$zeros$$));if(null!=$node$$.childNodes)for($i$$=0;$i$$<$node$$.childNodes.length;$i$$++)this.anonymizeAttributes($node$$.childNodes[$i$$],$zeros$$)};EditorUi.prototype.anonymizeNode=function($node$$,$nodes$jscomp$26_zeros$$){$nodes$jscomp$26_zeros$$=$node$$.getElementsByTagName("mxCell");for(var $i$$=0;$i$$<$nodes$jscomp$26_zeros$$.length;$i$$++)null!=$nodes$jscomp$26_zeros$$[$i$$].getAttribute("value")&&
$nodes$jscomp$26_zeros$$[$i$$].setAttribute("value","["+$nodes$jscomp$26_zeros$$[$i$$].getAttribute("value").length+"]"),null!=$nodes$jscomp$26_zeros$$[$i$$].getAttribute("xmlValue")&&$nodes$jscomp$26_zeros$$[$i$$].setAttribute("xmlValue","["+$nodes$jscomp$26_zeros$$[$i$$].getAttribute("xmlValue").length+"]"),null!=$nodes$jscomp$26_zeros$$[$i$$].getAttribute("style")&&$nodes$jscomp$26_zeros$$[$i$$].setAttribute("style","["+$nodes$jscomp$26_zeros$$[$i$$].getAttribute("style").length+"]"),null!=$nodes$jscomp$26_zeros$$[$i$$].parentNode&&
"root"!=$nodes$jscomp$26_zeros$$[$i$$].parentNode.nodeName&&null!=$nodes$jscomp$26_zeros$$[$i$$].parentNode.parentNode&&($nodes$jscomp$26_zeros$$[$i$$].setAttribute("id",$nodes$jscomp$26_zeros$$[$i$$].parentNode.getAttribute("id")),$nodes$jscomp$26_zeros$$[$i$$].parentNode.parentNode.replaceChild($nodes$jscomp$26_zeros$$[$i$$],$nodes$jscomp$26_zeros$$[$i$$].parentNode));return $node$$};EditorUi.prototype.synchronizeCurrentFile=function($forceReload$$){var $currentFile$$=this.getCurrentFile();null!=
$currentFile$$&&($currentFile$$.savingFile?this.handleError({message:mxResources.get("busy")}):!$forceReload$$&&$currentFile$$.invalidChecksum?$currentFile$$.handleFileError(null,!0):this.spinner.spin(document.body,mxResources.get("updatingDocument"))&&($currentFile$$.clearAutosave(),this.editor.setStatus(""),$forceReload$$?$currentFile$$.reloadFile(mxUtils.bind(this,function(){$currentFile$$.handleFileSuccess("manual"==DrawioFile.SYNC)}),mxUtils.bind(this,function($err$$){$currentFile$$.handleFileError($err$$,
!0)})):$currentFile$$.synchronizeFile(mxUtils.bind(this,function(){$currentFile$$.handleFileSuccess("manual"==DrawioFile.SYNC)}),mxUtils.bind(this,function($err$$){$currentFile$$.handleFileError($err$$,!0)}))))};EditorUi.prototype.getFileData=function($forceXml$jscomp$1_result$$,$forceSvg$$,$forceHtml$$,$embeddedCallback$$,$ignoreSelection$$,$currentPage$$,$node$$,$compact$$,$file$$,$uncompressed$$,$resolveReferences$$,$scale$$,$border$$){$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:
!0;$currentPage$$=null!=$currentPage$$?$currentPage$$:!1;$uncompressed$$=null!=$uncompressed$$?$uncompressed$$:!Editor.defaultCompressed;var $graph$$=this.editor.graph;if($forceSvg$$||!$forceXml$jscomp$1_result$$&&null!=$file$$&&/(\.svg)$/i.test($file$$.getTitle())){var $darkTheme$$=null!=$graph$$.themes&&"darkTheme"==$graph$$.defaultThemeName;if($darkTheme$$||null!=this.pages&&this.currentPage!=this.pages[0]){var $graphGetGlobalVariable$$=$graph$$.getGlobalVariable;$graph$$=this.createTemporaryGraph($darkTheme$$?
$graph$$.getDefaultStylesheet():$graph$$.getStylesheet());$graph$$.setBackgroundImage=this.editor.graph.setBackgroundImage;$graph$$.background=this.editor.graph.background;var $page$$=null!=this.pages?this.pages[0]:null;null==$page$$||this.currentPage==$page$$?$graph$$.setBackgroundImage(this.editor.graph.backgroundImage):null!=$page$$.viewState&&null!=$page$$.viewState&&$graph$$.setBackgroundImage($page$$.viewState.backgroundImage);$graph$$.getGlobalVariable=function($name$$){return"page"==$name$$&&
null!=$page$$?$page$$.getName():"pagenumber"==$name$$?1:$graphGetGlobalVariable$$.apply(this,arguments)};document.body.appendChild($graph$$.container);null!=$page$$&&$graph$$.model.setRoot($page$$.root)}}$node$$=null!=$node$$?$node$$:this.getXmlFileData($ignoreSelection$$,$currentPage$$,$uncompressed$$,$resolveReferences$$);$file$$=null!=$file$$?$file$$:this.getCurrentFile();$forceXml$jscomp$1_result$$=this.createFileData($node$$,$graph$$,$file$$,window.location.href,$forceXml$jscomp$1_result$$,$forceSvg$$,
$forceHtml$$,$embeddedCallback$$,$ignoreSelection$$,$compact$$,$uncompressed$$,$scale$$,$border$$);$graph$$!=this.editor.graph&&$graph$$.container.parentNode.removeChild($graph$$.container);return $forceXml$jscomp$1_result$$};EditorUi.prototype.getHtml=function($node$jscomp$55_text$$,$graph$jscomp$80_s$$,$title$$,$data$jscomp$126_editLink$$,$redirect$$,$ignoreSelection$jscomp$8_x0$$){$ignoreSelection$jscomp$8_x0$$=null!=$ignoreSelection$jscomp$8_x0$$?$ignoreSelection$jscomp$8_x0$$:!0;var $bg$jscomp$11_bounds$$=
null,$js$$=EditorUi.drawHost+"/js/embed-static.min.js";if(null!=$graph$jscomp$80_s$$){$bg$jscomp$11_bounds$$=$ignoreSelection$jscomp$8_x0$$?$graph$jscomp$80_s$$.getGraphBounds():$graph$jscomp$80_s$$.getBoundingBox($graph$jscomp$80_s$$.getSelectionCells());var $scale$jscomp$28_y0$$=$graph$jscomp$80_s$$.view.scale;$ignoreSelection$jscomp$8_x0$$=Math.floor($bg$jscomp$11_bounds$$.x/$scale$jscomp$28_y0$$-$graph$jscomp$80_s$$.view.translate.x);$scale$jscomp$28_y0$$=Math.floor($bg$jscomp$11_bounds$$.y/$scale$jscomp$28_y0$$-
$graph$jscomp$80_s$$.view.translate.y);$bg$jscomp$11_bounds$$=$graph$jscomp$80_s$$.background;null==$redirect$$&&($graph$jscomp$80_s$$=this.getBasenames().join(";"),0<$graph$jscomp$80_s$$.length&&($js$$=EditorUi.drawHost+"/embed.js?s="+$graph$jscomp$80_s$$));$node$jscomp$55_text$$.setAttribute("x0",$ignoreSelection$jscomp$8_x0$$);$node$jscomp$55_text$$.setAttribute("y0",$scale$jscomp$28_y0$$)}null!=$node$jscomp$55_text$$&&($node$jscomp$55_text$$.setAttribute("pan","1"),$node$jscomp$55_text$$.setAttribute("zoom",
"1"),$node$jscomp$55_text$$.setAttribute("resize","0"),$node$jscomp$55_text$$.setAttribute("fit","0"),$node$jscomp$55_text$$.setAttribute("border","20"),$node$jscomp$55_text$$.setAttribute("links","1"),null!=$data$jscomp$126_editLink$$&&$node$jscomp$55_text$$.setAttribute("edit",$data$jscomp$126_editLink$$));null!=$redirect$$&&($redirect$$=$redirect$$.replace(/&/g,"&amp;"));$node$jscomp$55_text$$=null!=$node$jscomp$55_text$$?Graph.zapGremlins(mxUtils.getXml($node$jscomp$55_text$$)):"";$data$jscomp$126_editLink$$=
Graph.compress($node$jscomp$55_text$$);Graph.decompress($data$jscomp$126_editLink$$)!=$node$jscomp$55_text$$&&($data$jscomp$126_editLink$$=encodeURIComponent($node$jscomp$55_text$$));return(null==$redirect$$?'\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]--\x3e\n':"")+"<!DOCTYPE html>\n<html"+(null!=$redirect$$?' xmlns="http://www.w3.org/1999/xhtml">':">")+"\n<head>\n"+(null==$redirect$$?null!=$title$$?"<title>"+mxUtils.htmlEntities($title$$)+"</title>\n":"":"<title>draw.io</title>\n")+
(null!=$redirect$$?'<meta http-equiv="refresh" content="0;URL=\''+$redirect$$+"'\"/>\n":"")+"</head>\n<body"+(null==$redirect$$&&null!=$bg$jscomp$11_bounds$$&&$bg$jscomp$11_bounds$$!=mxConstants.NONE?' style="background-color:'+$bg$jscomp$11_bounds$$+';">':">")+'\n<div class="mxgraph" style="position:relative;overflow:auto;width:100%;">\n<div style="width:1px;height:1px;overflow:hidden;">'+$data$jscomp$126_editLink$$+"</div>\n</div>\n"+(null==$redirect$$?'<script type="text/javascript" src="'+$js$$+
'">\x3c/script>':'<a style="position:absolute;top:50%;left:50%;margin-top:-128px;margin-left:-64px;" href="'+$redirect$$+'" target="_blank"><img border="0" src="'+EditorUi.drawHost+'/images/drawlogo128.png"/></a>')+"\n</body>\n</html>\n"};EditorUi.prototype.getHtml2=function($data$jscomp$127_xml$$,$graph$jscomp$81_js$$,$title$$,$editLink$$,$redirect$$){$graph$jscomp$81_js$$=window.DRAWIO_VIEWER_URL||EditorUi.drawHost+"/js/viewer-static.min.js";null!=$redirect$$&&($redirect$$=$redirect$$.replace(/&/g,
"&amp;"));$data$jscomp$127_xml$$={highlight:"#0000ff",nav:this.editor.graph.foldingEnabled,resize:!0,xml:Graph.zapGremlins($data$jscomp$127_xml$$),toolbar:"pages zoom layers lightbox"};null!=this.pages&&null!=this.currentPage&&($data$jscomp$127_xml$$.page=mxUtils.indexOf(this.pages,this.currentPage));return(null==$redirect$$?'\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]--\x3e\n':"")+"<!DOCTYPE html>\n<html"+(null!=$redirect$$?' xmlns="http://www.w3.org/1999/xhtml">':
">")+"\n<head>\n"+(null==$redirect$$?null!=$title$$?"<title>"+mxUtils.htmlEntities($title$$)+"</title>\n":"":"<title>draw.io</title>\n")+(null!=$redirect$$?'<meta http-equiv="refresh" content="0;URL=\''+$redirect$$+"'\"/>\n":"")+'<meta charset="utf-8"/>\n</head>\n<body>\n<div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="'+mxUtils.htmlEntities(JSON.stringify($data$jscomp$127_xml$$))+'"></div>\n'+(null==$redirect$$?'<script type="text/javascript" src="'+$graph$jscomp$81_js$$+
'">\x3c/script>':'<a style="position:absolute;top:50%;left:50%;margin-top:-128px;margin-left:-64px;" href="'+$redirect$$+'" target="_blank"><img border="0" src="'+EditorUi.drawHost+'/images/drawlogo128.png"/></a>')+"\n</body>\n</html>\n"};EditorUi.prototype.setFileData=function($data$jscomp$128_nodes$jscomp$27_tmp$$){$data$jscomp$128_nodes$jscomp$27_tmp$$=this.validateFileData($data$jscomp$128_nodes$jscomp$27_tmp$$);this.pages=this.fileNode=this.currentPage=null;var $layerIdsMap_node$jscomp$56_page$$=
null!=$data$jscomp$128_nodes$jscomp$27_tmp$$&&0<$data$jscomp$128_nodes$jscomp$27_tmp$$.length?mxUtils.parseXml($data$jscomp$128_nodes$jscomp$27_tmp$$).documentElement:null,$cause$$=Editor.extractParserError($layerIdsMap_node$jscomp$56_page$$,mxResources.get("invalidOrMissingFile"));if($cause$$)throw EditorUi.debug("EditorUi.setFileData ParserError",[this],"data",[$data$jscomp$128_nodes$jscomp$27_tmp$$],"node",[$layerIdsMap_node$jscomp$56_page$$],"cause",[$cause$$]),Error(mxResources.get("notADiagramFile")+
" ("+$cause$$+")");$data$jscomp$128_nodes$jscomp$27_tmp$$=null!=$layerIdsMap_node$jscomp$56_page$$?this.editor.extractGraphModel($layerIdsMap_node$jscomp$56_page$$,!0):null;null!=$data$jscomp$128_nodes$jscomp$27_tmp$$&&($layerIdsMap_node$jscomp$56_page$$=$data$jscomp$128_nodes$jscomp$27_tmp$$);if(null!=$layerIdsMap_node$jscomp$56_page$$&&"mxfile"==$layerIdsMap_node$jscomp$56_page$$.nodeName&&($data$jscomp$128_nodes$jscomp$27_tmp$$=$layerIdsMap_node$jscomp$56_page$$.getElementsByTagName("diagram"),
0<$data$jscomp$128_nodes$jscomp$27_tmp$$.length)){$cause$$=this.getHashObject();var $selectedPage$$=null;this.fileNode=$layerIdsMap_node$jscomp$56_page$$;this.pages=[];for(var $i$$=0;$i$$<$data$jscomp$128_nodes$jscomp$27_tmp$$.length;$i$$++)if(null==$data$jscomp$128_nodes$jscomp$27_tmp$$[$i$$].getAttribute("id")&&$data$jscomp$128_nodes$jscomp$27_tmp$$[$i$$].setAttribute("id",$i$$),$layerIdsMap_node$jscomp$56_page$$=new DiagramPage($data$jscomp$128_nodes$jscomp$27_tmp$$[$i$$]),null==$layerIdsMap_node$jscomp$56_page$$.getName()&&
$layerIdsMap_node$jscomp$56_page$$.setName(mxResources.get("pageWithNumber",[$i$$+1])),this.pages.push($layerIdsMap_node$jscomp$56_page$$),null==$cause$$.pageId&&null!=urlParams["page-id"]&&$layerIdsMap_node$jscomp$56_page$$.getId()==urlParams["page-id"]||null!=$cause$$.pageId&&$layerIdsMap_node$jscomp$56_page$$.getId()==$cause$$.pageId)$selectedPage$$=$layerIdsMap_node$jscomp$56_page$$;this.currentPage=null!=$selectedPage$$?$selectedPage$$:this.pages[Math.max(0,Math.min(this.pages.length-1,urlParams.page||
0))];$layerIdsMap_node$jscomp$56_page$$=this.currentPage.node}null==this.fileNode&&null!=$layerIdsMap_node$jscomp$56_page$$&&(this.fileNode=$layerIdsMap_node$jscomp$56_page$$.ownerDocument.createElement("mxfile"),this.currentPage=new DiagramPage($layerIdsMap_node$jscomp$56_page$$.ownerDocument.createElement("diagram")),this.currentPage.setName(mxResources.get("pageWithNumber",[1])),this.pages=[this.currentPage]);this.editor.setGraphXml($layerIdsMap_node$jscomp$56_page$$);null!=this.currentPage&&(this.currentPage.root=
this.editor.graph.model.root,this.scrollToPage());if(null!=urlParams["layer-ids"])try{var $layerIds$$=decodeURIComponent(urlParams["layer-ids"]).split(" ");$layerIdsMap_node$jscomp$56_page$$={};for($i$$=0;$i$$<$layerIds$$.length;$i$$++)$layerIdsMap_node$jscomp$56_page$$[$layerIds$$[$i$$]]=!0;var $model$$=this.editor.graph.getModel(),$children$$=$model$$.getChildren($model$$.root);for($i$$=0;$i$$<$children$$.length;$i$$++){var $child$$=$children$$[$i$$];$model$$.setVisible($child$$,$layerIdsMap_node$jscomp$56_page$$[$child$$.id]||
!1)}}catch($e$$){}};EditorUi.prototype.getBaseFilename=function($ignorePageName$$){var $basename$jscomp$1_file$$=this.getCurrentFile();$basename$jscomp$1_file$$=null!=$basename$jscomp$1_file$$&&null!=$basename$jscomp$1_file$$.getTitle()?$basename$jscomp$1_file$$.getTitle():this.defaultFilename;if(/(\.xml)$/i.test($basename$jscomp$1_file$$)||/(\.html)$/i.test($basename$jscomp$1_file$$)||/(\.svg)$/i.test($basename$jscomp$1_file$$)||/(\.png)$/i.test($basename$jscomp$1_file$$))$basename$jscomp$1_file$$=
$basename$jscomp$1_file$$.substring(0,$basename$jscomp$1_file$$.lastIndexOf("."));/(\.drawio)$/i.test($basename$jscomp$1_file$$)&&($basename$jscomp$1_file$$=$basename$jscomp$1_file$$.substring(0,$basename$jscomp$1_file$$.lastIndexOf(".")));!$ignorePageName$$&&null!=this.pages&&1<this.pages.length&&null!=this.currentPage&&null!=this.currentPage.node.getAttribute("name")&&0<this.currentPage.getName().length&&($basename$jscomp$1_file$$=$basename$jscomp$1_file$$+"-"+this.currentPage.getName());return $basename$jscomp$1_file$$};
EditorUi.prototype.downloadFile=function($format$$,$uncompressed$$,$addShadow$$,$ignoreSelection$$,$currentPage$$,$pageVisible$$,$transparent$$,$scale$$,$border$$,$grid$$,$includeXml$$,$pageRange$$){try{$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:this.editor.graph.isSelectionEmpty();var $basename$$=this.getBaseFilename(!$currentPage$$),$filename$$=$basename$$+("xml"==$format$$||"pdf"==$format$$&&$includeXml$$?".drawio":"")+"."+$format$$;if("xml"==$format$$){var $data$jscomp$0$$=
Graph.xmlDeclaration+"\n"+this.getFileData(!0,null,null,null,$ignoreSelection$$,$currentPage$$,null,null,null,$uncompressed$$);this.saveData($filename$$,$format$$,$data$jscomp$0$$,"text/xml")}else if("html"==$format$$)$data$jscomp$0$$=this.getHtml2(this.getFileData(!0),this.editor.graph,$basename$$),this.saveData($filename$$,$format$$,$data$jscomp$0$$,"text/html");else if("svg"!=$format$$&&"xmlsvg"!=$format$$||!this.spinner.spin(document.body,mxResources.get("export")))"xmlpng"==$format$$?$filename$$=
$basename$$+".png":"jpeg"==$format$$&&($filename$$=$basename$$+".jpg"),this.saveRequest($filename$$,$format$$,mxUtils.bind(this,function($newTitle$$,$base64$$){try{var $prev$$=this.editor.graph.pageVisible;0==$pageVisible$$&&(this.editor.graph.pageVisible=$pageVisible$$);var $req$$=this.createDownloadRequest($newTitle$$,$format$$,$ignoreSelection$$,$base64$$,$transparent$$,$currentPage$$,$scale$$,$border$$,$grid$$,$includeXml$$,$pageRange$$,void 0,void 0);this.editor.graph.pageVisible=$prev$$;return $req$$}catch($e$$){this.handleError($e$$)}}));
else{var $svg$jscomp$0$$=null,$saveSvg$$=mxUtils.bind(this,function($data$$){$data$$.length<=MAX_REQUEST_SIZE?this.saveData($filename$$,"svg",$data$$,"image/svg+xml"):this.handleError({message:mxResources.get("drawingTooLarge")},mxResources.get("error"),mxUtils.bind(this,function(){mxUtils.popup($svg$jscomp$0$$)}))});if("svg"==$format$$){var $bg$$=this.editor.graph.background;if($transparent$$||$bg$$==mxConstants.NONE)$bg$$=null;var $svgRoot$$=this.editor.graph.getSvg($bg$$,null,null,null,null,$ignoreSelection$$);
$addShadow$$&&this.editor.graph.addSvgShadow($svgRoot$$);this.editor.convertImages($svgRoot$$,mxUtils.bind(this,mxUtils.bind(this,function($svgRoot2$$){this.spinner.stop();$saveSvg$$(Graph.xmlDeclaration+"\n"+Graph.svgDoctype+"\n"+mxUtils.getXml($svgRoot2$$))})))}else $filename$$=$basename$$+".svg",$svg$jscomp$0$$=this.getFileData(!1,!0,null,mxUtils.bind(this,function($svg$$){this.spinner.stop();$saveSvg$$($svg$$)}),$ignoreSelection$$)}}catch($e$$){this.handleError($e$$)}};EditorUi.prototype.createDownloadRequest=
function($filename$jscomp$10_params$$,$format$$,$ignoreSelection$jscomp$10_val$$,$base64$$,$transparent$$,$currentPage$$,$scale$$,$border$$,$grid$$,$includeXml$$,$pageRange$$,$w$$,$h$$){$filename$jscomp$10_params$$=this.downloadRequestBuilder($filename$jscomp$10_params$$,$format$$,$ignoreSelection$jscomp$10_val$$,$base64$$,$transparent$$,$currentPage$$,$scale$$,$border$$,$grid$$,$includeXml$$,$pageRange$$,$w$$,$h$$);$format$$="";for(var $p$$ in $filename$jscomp$10_params$$)$ignoreSelection$jscomp$10_val$$=
$filename$jscomp$10_params$$[$p$$],null!=$ignoreSelection$jscomp$10_val$$&&($format$$+=$p$$+"="+encodeURIComponent($ignoreSelection$jscomp$10_val$$)+"&");return new mxXmlRequest(EXPORT_URL,$format$$)};EditorUi.prototype.downloadRequestBuilder=function($filename$$,$format$$,$data$jscomp$131_ignoreSelection$$,$base64$$,$extras_transparent$$,$bg$jscomp$13_currentPage$jscomp$6_i$$,$scale$$,$border$$,$grid$$,$embed_includeXml$$,$pageRange$$,$w$$,$h$$){var $graph$$=this.editor.graph,$bounds$$=$graph$$.getGraphBounds();
$data$jscomp$131_ignoreSelection$$=this.getFileData(!0,null,null,null,$data$jscomp$131_ignoreSelection$$,0==$bg$jscomp$13_currentPage$jscomp$6_i$$?!1:"xmlpng"!=$format$$,null,null,null,!Editor.defaultCompressed,"pdf"==$format$$);var $from$$=null,$to$$=null,$allPages$$=null;if(!EditorUi.isElectronApp&&($bounds$$.width*$bounds$$.height>MAX_AREA||$data$jscomp$131_ignoreSelection$$.length>MAX_REQUEST_SIZE))throw{message:mxResources.get("drawingTooLarge")};$embed_includeXml$$=$embed_includeXml$$?"1":"0";
"pdf"==$format$$&&(null!=$pageRange$$?($from$$=$pageRange$$.from,$to$$=$pageRange$$.to):0==$bg$jscomp$13_currentPage$jscomp$6_i$$&&($allPages$$="1"));"xmlpng"==$format$$&&($embed_includeXml$$="1",$format$$="png");if(("xmlpng"==$format$$||"svg"==$format$$)&&null!=this.pages&&null!=this.currentPage)for($bg$jscomp$13_currentPage$jscomp$6_i$$=0;$bg$jscomp$13_currentPage$jscomp$6_i$$<this.pages.length;$bg$jscomp$13_currentPage$jscomp$6_i$$++)if(this.pages[$bg$jscomp$13_currentPage$jscomp$6_i$$]==this.currentPage){$from$$=
$bg$jscomp$13_currentPage$jscomp$6_i$$;break}$bg$jscomp$13_currentPage$jscomp$6_i$$=$graph$$.background;"png"!=$format$$&&"pdf"!=$format$$&&"svg"!=$format$$||!$extras_transparent$$?$extras_transparent$$||null!=$bg$jscomp$13_currentPage$jscomp$6_i$$&&$bg$jscomp$13_currentPage$jscomp$6_i$$!=mxConstants.NONE||($bg$jscomp$13_currentPage$jscomp$6_i$$="#ffffff"):$bg$jscomp$13_currentPage$jscomp$6_i$$=mxConstants.NONE;$extras_transparent$$={globalVars:$graph$$.getExportVariables()};$grid$$&&($extras_transparent$$.grid=
{size:$graph$$.gridSize,steps:$graph$$.view.gridSteps,color:$graph$$.view.gridColor});Graph.translateDiagram&&($extras_transparent$$.diagramLanguage=Graph.diagramLanguage);return{format:$format$$,from:$from$$,to:$to$$,allPages:$allPages$$,bg:null!=$bg$jscomp$13_currentPage$jscomp$6_i$$?$bg$jscomp$13_currentPage$jscomp$6_i$$:mxConstants.NONE,base64:$base64$$,embedXml:$embed_includeXml$$,xml:$data$jscomp$131_ignoreSelection$$,filename:null!=$filename$$?$filename$$:"",extras:JSON.stringify($extras_transparent$$),
scale:$scale$$,border:$border$$,w:$w$$&&isFinite($w$$)?$w$$:null,h:$h$$&&isFinite($h$$)?$h$$:null}};EditorUi.prototype.setMode=function($mode$$,$remember$$){this.mode=$mode$$};EditorUi.prototype.getDiagramId=function(){var $id$$=window.location.hash;null!=$id$$&&0<$id$$.length&&($id$$=$id$$.substring(1));if(null!=$id$$&&1<$id$$.length){var $idx$$=$id$$.indexOf("#");0<=$idx$$&&($id$$=$id$$.substring(0,$idx$$))}return $id$$};EditorUi.prototype.getHashObject=function(){var $id$jscomp$13_temp$$=window.location.hash,
$result$$={};if(null!=$id$jscomp$13_temp$$&&0<$id$jscomp$13_temp$$.length){var $last$$=$id$jscomp$13_temp$$.lastIndexOf("#");if(0<$last$$){$id$jscomp$13_temp$$=decodeURIComponent($id$jscomp$13_temp$$.substring($last$$+1));try{$result$$=JSON.parse($id$jscomp$13_temp$$)}catch($e$$){}}}return $result$$};EditorUi.prototype.updateHashObject=function(){if(null!=this.currentFile&&null!=this.currentPage&&""!=this.currentFile.getHash()){var $obj$$=this.getHashObject();$obj$$.pageId=this.currentPage.getId();
this.setHashObject($obj$$)}else this.setHashObject(null)};EditorUi.prototype.setHashObject=function($obj$$){if(Editor.enableHashObjects){var $id$$=window.location.hash;if(null==$id$$||""==$id$$)$id$$="#";var $last$$=$id$$.lastIndexOf("#");0<$last$$&&($id$$=$id$$.substring(0,$last$$));try{null==$obj$$||mxUtils.isEmptyObject($obj$$)||($id$$=$id$$+"#"+encodeURIComponent(JSON.stringify($obj$$)))}catch($e$$){}0<$last$$&&0<$id$$.lastIndexOf("#")?window.location.hash=$id$$:window.location.replace($id$$)}};
EditorUi.prototype.loadDescriptor=function($desc$$,$success$$,$error$$){var $hash$$=window.location.hash,$loadData$$=mxUtils.bind(this,function($data$$){var $realData$$=null!=$desc$$.data?$desc$$.data:"";null!=$data$$&&0<$data$$.length&&(0<$realData$$.length&&($realData$$+="\n"),$realData$$+=$data$$);$data$$=new LocalFile(this,"csv"!=$desc$$.format&&0<$realData$$.length?$realData$$:this.emptyDiagramXml,null!=urlParams.title?decodeURIComponent(urlParams.title):this.defaultFilename,!0);$data$$.getHash=
function(){return $hash$$};this.fileLoaded($data$$);"csv"==$desc$$.format&&this.importCsv($realData$$,mxUtils.bind(this,function($cells$$){this.editor.undoManager.clear();this.editor.setModified(!1);this.editor.setStatus("")}));if(null!=$desc$$.update){var $interval$$=null!=$desc$$.interval?parseInt($desc$$.interval):6E4,$currentThread$$=null,$doUpdate$$=mxUtils.bind(this,function(){var $page$$=this.currentPage;mxUtils.post($desc$$.update,"xml="+encodeURIComponent(mxUtils.getXml(this.editor.getGraphXml())),
mxUtils.bind(this,function($req$$){$page$$===this.currentPage&&(200<=$req$$.getStatus()&&300>=$req$$.getStatus()?(this.updateDiagram($req$$.getText()),$schedule$$()):this.handleError({message:mxResources.get("error")+" "+$req$$.getStatus()}))}),mxUtils.bind(this,function($err$$){this.handleError($err$$)}))}),$schedule$$=mxUtils.bind(this,function(){window.clearTimeout($currentThread$$);$currentThread$$=window.setTimeout($doUpdate$$,$interval$$)});this.editor.addListener("pageSelected",mxUtils.bind(this,
function(){$schedule$$();$doUpdate$$()}));$schedule$$();$doUpdate$$()}null!=$success$$&&$success$$()});if(null!=$desc$$.url&&0<$desc$$.url.length){var $url$$=this.editor.getProxiedUrl($desc$$.url);this.editor.loadUrl($url$$,mxUtils.bind(this,function($data$$){$loadData$$($data$$)}),mxUtils.bind(this,function($err$$){null!=$error$$&&$error$$($err$$)}))}else $loadData$$("")};EditorUi.prototype.updateDiagram=function($node$jscomp$57_xml$$){function $createOverlay$$($desc$$){var $overlay$$=new mxCellOverlay($desc$$.image||
$graph$$.warningImage,$desc$$.tooltip,$desc$$.align,$desc$$.valign,$desc$$.offset);$overlay$$.addListener(mxEvent.CLICK,function($sender$$,$evt$$){$ui$$.alert($desc$$.tooltip)});return $overlay$$}var $doc$$=null,$ui$$=this;if(null!=$node$jscomp$57_xml$$&&0<$node$jscomp$57_xml$$.length&&($doc$$=mxUtils.parseXml($node$jscomp$57_xml$$),$node$jscomp$57_xml$$=null!=$doc$$?$doc$$.documentElement:null,null!=$node$jscomp$57_xml$$&&"updates"==$node$jscomp$57_xml$$.nodeName)){var $graph$$=this.editor.graph,
$model$$=$graph$$.getModel();$model$$.beginUpdate();var $fit$$=null;try{for($node$jscomp$57_xml$$=$node$jscomp$57_xml$$.firstChild;null!=$node$jscomp$57_xml$$;){if("update"==$node$jscomp$57_xml$$.nodeName){var $cell$$=$model$$.getCell($node$jscomp$57_xml$$.getAttribute("id"));if(null!=$cell$$){try{var $value$$=$node$jscomp$57_xml$$.getAttribute("value");if(null!=$value$$){var $valueNode$$=mxUtils.parseXml($value$$).documentElement;if(null!=$valueNode$$)if("1"==$valueNode$$.getAttribute("replace-value"))$model$$.setValue($cell$$,
$valueNode$$);else for(var $attrs$$=$valueNode$$.attributes,$j$$=0;$j$$<$attrs$$.length;$j$$++)$graph$$.setAttributeForCell($cell$$,$attrs$$[$j$$].nodeName,0<$attrs$$[$j$$].nodeValue.length?$attrs$$[$j$$].nodeValue:null)}}catch($e$$){null!=window.console&&console.log("Error in value for "+$cell$$.id+": "+$e$$)}try{var $style$$=$node$jscomp$57_xml$$.getAttribute("style");null!=$style$$&&$graph$$.model.setStyle($cell$$,$style$$)}catch($e$14$$){null!=window.console&&console.log("Error in style for "+
$cell$$.id+": "+$e$14$$)}try{var $icon$$=$node$jscomp$57_xml$$.getAttribute("icon");if(null!=$icon$$){var $desc$jscomp$0$$=0<$icon$$.length?JSON.parse($icon$$):null;null!=$desc$jscomp$0$$&&$desc$jscomp$0$$.append||$graph$$.removeCellOverlays($cell$$);null!=$desc$jscomp$0$$&&$graph$$.addCellOverlay($cell$$,$createOverlay$$($desc$jscomp$0$$))}}catch($e$15$$){null!=window.console&&console.log("Error in icon for "+$cell$$.id+": "+$e$15$$)}try{var $geo$$=$node$jscomp$57_xml$$.getAttribute("geometry");
if(null!=$geo$$){$geo$$=JSON.parse($geo$$);var $curr$$=$graph$$.getCellGeometry($cell$$);if(null!=$curr$$){$curr$$=$curr$$.clone();for(key in $geo$$){var $val$$=parseFloat($geo$$[key]);"dx"==key?$curr$$.x+=$val$$:"dy"==key?$curr$$.y+=$val$$:"dw"==key?$curr$$.width+=$val$$:"dh"==key?$curr$$.height+=$val$$:$curr$$[key]=parseFloat($geo$$[key])}$graph$$.model.setGeometry($cell$$,$curr$$)}}}catch($e$16$$){null!=window.console&&console.log("Error in icon for "+$cell$$.id+": "+$e$16$$)}}}else if("model"==
$node$jscomp$57_xml$$.nodeName){for(var $dataNode$$=$node$jscomp$57_xml$$.firstChild;null!=$dataNode$$&&$dataNode$$.nodeType!=mxConstants.NODETYPE_ELEMENT;)$dataNode$$=$dataNode$$.nextSibling;null!=$dataNode$$&&(new mxCodec($node$jscomp$57_xml$$.firstChild)).decode($dataNode$$,$model$$)}else if("view"==$node$jscomp$57_xml$$.nodeName){if($node$jscomp$57_xml$$.hasAttribute("scale")&&($graph$$.view.scale=parseFloat($node$jscomp$57_xml$$.getAttribute("scale"))),$node$jscomp$57_xml$$.hasAttribute("dx")||
$node$jscomp$57_xml$$.hasAttribute("dy"))$graph$$.view.translate=new mxPoint(parseFloat($node$jscomp$57_xml$$.getAttribute("dx")||0),parseFloat($node$jscomp$57_xml$$.getAttribute("dy")||0))}else"fit"==$node$jscomp$57_xml$$.nodeName&&($fit$$=$node$jscomp$57_xml$$.hasAttribute("max-scale")?parseFloat($node$jscomp$57_xml$$.getAttribute("max-scale")):1);$node$jscomp$57_xml$$=$node$jscomp$57_xml$$.nextSibling}}finally{$model$$.endUpdate()}null!=$fit$$&&this.chromelessResize&&this.chromelessResize(!0,$fit$$)}return $doc$$};
EditorUi.prototype.getCopyFilename=function($extension_file$$,$JSCompiler_temp_const$$){var $title$jscomp$42_y$$=null!=$extension_file$$&&null!=$extension_file$$.getTitle()?$extension_file$$.getTitle():this.defaultFilename;$extension_file$$="";var $dot$jscomp$4_m$$=$title$jscomp$42_y$$.lastIndexOf(".");0<=$dot$jscomp$4_m$$&&($extension_file$$=$title$jscomp$42_y$$.substring($dot$jscomp$4_m$$),$title$jscomp$42_y$$=$title$jscomp$42_y$$.substring(0,$dot$jscomp$4_m$$));if($JSCompiler_temp_const$$){$JSCompiler_temp_const$$=
$title$jscomp$42_y$$;var $s$jscomp$inline_92_today$$=new Date;$title$jscomp$42_y$$=$s$jscomp$inline_92_today$$.getFullYear();$dot$jscomp$4_m$$=$s$jscomp$inline_92_today$$.getMonth()+1;var $d$$=$s$jscomp$inline_92_today$$.getDate(),$h$$=$s$jscomp$inline_92_today$$.getHours(),$mi$$=$s$jscomp$inline_92_today$$.getMinutes();$s$jscomp$inline_92_today$$=$s$jscomp$inline_92_today$$.getSeconds();$title$jscomp$42_y$$=$JSCompiler_temp_const$$+(" "+($title$jscomp$42_y$$+"-"+$dot$jscomp$4_m$$+"-"+$d$$+"-"+$h$$+
"-"+$mi$$+"-"+$s$jscomp$inline_92_today$$))}return $title$jscomp$42_y$$=mxResources.get("copyOf",[$title$jscomp$42_y$$])+$extension_file$$};EditorUi.prototype.logIfModified=function($file$$,$discarded$$){try{null!=$file$$&&$discarded$$&&EditorUi.debug("File.closed",[$file$$])}catch($e$$){}};EditorUi.prototype.fileLoaded=function($file$jscomp$13_fn$$,$noDialogs$$,$success$$){console.trace("EditorUI fileLoaded file, noDialogs, success",$file$jscomp$13_fn$$,$noDialogs$$,$success$$);var $oldFile$$=this.getCurrentFile();
this.fileEditable=this.fileLoadedError=null;this.setCurrentFile(null);var $result$$=!1;this.hideDialog();null!=$oldFile$$&&($oldFile$$.removeListener(this.descriptorChangedListener),this.logIfModified($oldFile$$,!0),$oldFile$$.close());this.editor.graph.model.clear();this.editor.undoManager.clear();var $noFile$$=mxUtils.bind(this,function(){this.setGraphEnabled(!1);this.setCurrentFile(null);null!=$oldFile$$&&this.updateDocumentTitle();this.editor.graph.model.clear();this.editor.undoManager.clear();
this.setBackgroundImage(null);!$noDialogs$$&&null!=window.location.hash&&0<window.location.hash.length&&(window.location.hash="");null!=this.fname&&(this.fnameWrapper.style.display="none",this.fname.innerText="",this.fname.setAttribute("title",mxResources.get("rename")));this.editor.setStatus("");this.updateUi();$noDialogs$$||this.showSplash()});if(null!=$file$jscomp$13_fn$$)try{mxClient.IS_SF&&"min"==uiTheme&&(this.diagramContainer.style.visibility="");this.openingFile=!0;this.setCurrentFile($file$jscomp$13_fn$$);
console.trace("set current file and listen",$file$jscomp$13_fn$$);$file$jscomp$13_fn$$.addListener("descriptorChanged",this.descriptorChangedListener);$file$jscomp$13_fn$$.addListener("contentChanged",this.descriptorChangedListener);$file$jscomp$13_fn$$.open();delete this.openingFile;this.setGraphEnabled(!0);this.setMode($file$jscomp$13_fn$$.getMode());this.editor.graph.model.prefix=Editor.guid()+"-";this.editor.undoManager.clear();this.descriptorChanged();this.updateUi();$file$jscomp$13_fn$$.isEditable()?
$file$jscomp$13_fn$$.isModified()?($file$jscomp$13_fn$$.addUnsavedStatus(),null!=$file$jscomp$13_fn$$.backupPatch&&$file$jscomp$13_fn$$.patch([$file$jscomp$13_fn$$.backupPatch])):this.editor.setStatus(""):this.editor.setStatus('<span class="geStatusAlert">'+mxUtils.htmlEntities(mxResources.get("readOnly"))+"</span>");!this.editor.isChromelessView()||this.editor.editable?(this.editor.graph.selectUnlockedLayer(),this.showLayersDialog(),this.restoreLibraries(),window.self!==window.top&&window.focus()):
this.editor.graph.isLightboxView()&&this.lightboxFit();this.chromelessResize&&this.chromelessResize();null!=$success$$&&$success$$();this.editor.fireEvent(new mxEventObject("fileLoaded"));$result$$=!0;if(!this.isOffline()&&null!=$file$jscomp$13_fn$$.getMode()){var $theme$$="1"==urlParams.sketch?"sketch":uiTheme;if(null==$theme$$)$theme$$="default";else if("sketch"==$theme$$||"min"==$theme$$)$theme$$+=Editor.isDarkMode()?"-dark":"-light"}EditorUi.debug("File.opened",[$file$jscomp$13_fn$$]);"1"==urlParams.viewerOnlyMsg&&
this.showAlert(mxResources.get("viewerOnlyMsg"));if(this.editor.editable&&this.mode==$file$jscomp$13_fn$$.getMode()&&$file$jscomp$13_fn$$.getMode()!=App.MODE_DEVICE&&null!=$file$jscomp$13_fn$$.getMode())try{this.addRecent({id:$file$jscomp$13_fn$$.getHash(),title:$file$jscomp$13_fn$$.getTitle(),mode:$file$jscomp$13_fn$$.getMode()})}catch($e$$){}try{mxSettings.setOpenCounter(mxSettings.getOpenCounter()+1),mxSettings.save()}catch($e$17$$){}}catch($e$18$$){this.fileLoadedError=$e$18$$;if(null!=$file$jscomp$13_fn$$)try{$file$jscomp$13_fn$$.close()}catch($e2$$){}$file$jscomp$13_fn$$=
mxUtils.bind(this,function(){null!=urlParams.url&&this.spinner.spin(document.body,mxResources.get("reconnecting"))?window.location.search=this.getSearch(["url"]):null!=$oldFile$$?this.fileLoaded($oldFile$$)||$noFile$$():$noFile$$()});$noDialogs$$?$file$jscomp$13_fn$$():this.handleError($e$18$$,mxResources.get("errorLoadingFile"),$file$jscomp$13_fn$$,!0,null,null,!0)}else $noFile$$();return $result$$};EditorUi.prototype.getHashValueForPages=function($pages$$,$details$$){var $hash$$=0,$model$$=new mxGraphModel,
$codec$$=new mxCodec;null!=$details$$&&($details$$.byteCount=0,$details$$.attrCount=0,$details$$.eltCount=0,$details$$.nodeCount=0);for(var $i$$=0;$i$$<$pages$$.length;$i$$++){this.updatePageRoot($pages$$[$i$$]);var $diagram$$=$pages$$[$i$$].node.cloneNode(!1);$diagram$$.removeAttribute("name");$model$$.root=$pages$$[$i$$].root;var $xmlNode$$=$codec$$.encode($model$$);this.editor.graph.saveViewState($pages$$[$i$$].viewState,$xmlNode$$,!0);$xmlNode$$.removeAttribute("pageWidth");$xmlNode$$.removeAttribute("pageHeight");
$diagram$$.appendChild($xmlNode$$);null!=$details$$&&($details$$.eltCount+=$diagram$$.getElementsByTagName("*").length,$details$$.nodeCount+=$diagram$$.getElementsByTagName("mxCell").length);$hash$$=($hash$$<<5)-$hash$$+this.hashValue($diagram$$,function($obj$$,$key$$,$value$$,$isXml$$){return!$isXml$$||"mxGeometry"!=$obj$$.nodeName&&"mxPoint"!=$obj$$.nodeName||"x"!=$key$$&&"y"!=$key$$&&"width"!=$key$$&&"height"!=$key$$?$isXml$$&&"mxCell"==$obj$$.nodeName&&"previous"==$key$$?null:$value$$:Math.round($value$$)},
$details$$)<<0}return $hash$$};EditorUi.prototype.hashValue=function($obj$jscomp$40_str$$,$replacer_temp$$,$details$$){var $hash$$=0;if(null!=$obj$jscomp$40_str$$&&"object"===typeof $obj$jscomp$40_str$$&&"number"===typeof $obj$jscomp$40_str$$.nodeType&&"string"===typeof $obj$jscomp$40_str$$.nodeName&&"function"===typeof $obj$jscomp$40_str$$.getAttribute){null!=$obj$jscomp$40_str$$.nodeName&&($hash$$^=this.hashValue($obj$jscomp$40_str$$.nodeName,$replacer_temp$$,$details$$));if(null!=$obj$jscomp$40_str$$.attributes){null!=
$details$$&&($details$$.attrCount+=$obj$jscomp$40_str$$.attributes.length);for(var $i$$=0;$i$$<$obj$jscomp$40_str$$.attributes.length;$i$$++){var $key$$=$obj$jscomp$40_str$$.attributes[$i$$].name,$value$$=null!=$replacer_temp$$?$replacer_temp$$($obj$jscomp$40_str$$,$key$$,$obj$jscomp$40_str$$.attributes[$i$$].value,!0):$obj$jscomp$40_str$$.attributes[$i$$].value;null!=$value$$&&($hash$$^=this.hashValue($key$$,$replacer_temp$$,$details$$)+this.hashValue($value$$,$replacer_temp$$,$details$$))}}if(null!=
$obj$jscomp$40_str$$.childNodes)for($i$$=0;$i$$<$obj$jscomp$40_str$$.childNodes.length;$i$$++)$hash$$=($hash$$<<5)-$hash$$+this.hashValue($obj$jscomp$40_str$$.childNodes[$i$$],$replacer_temp$$,$details$$)<<0}else if(null!=$obj$jscomp$40_str$$&&"function"!==typeof $obj$jscomp$40_str$$){$obj$jscomp$40_str$$=String($obj$jscomp$40_str$$);$replacer_temp$$=0;null!=$details$$&&($details$$.byteCount+=$obj$jscomp$40_str$$.length);for($i$$=0;$i$$<$obj$jscomp$40_str$$.length;$i$$++)$replacer_temp$$=($replacer_temp$$<<
5)-$replacer_temp$$+$obj$jscomp$40_str$$.charCodeAt($i$$)<<0;$hash$$^=$replacer_temp$$}return $hash$$};EditorUi.prototype.descriptorChanged=function(){};EditorUi.prototype.restoreLibraries=function(){};EditorUi.prototype.saveLibrary=function($name$$,$images$$,$file$$,$mode$$,$noSpin$$,$noReload$$,$fn$$){};EditorUi.prototype.isScratchpadEnabled=function(){return isLocalStorage||mxClient.IS_CHROMEAPP};EditorUi.prototype.toggleScratchpad=function(){this.isScratchpadEnabled()&&(null==this.scratchpad?
StorageFile.getFileContent(this,".scratchpad",mxUtils.bind(this,function($xml$$){null==$xml$$&&($xml$$=this.emptyLibraryXml);this.loadLibrary(new StorageLibrary(this,$xml$$,".scratchpad"))})):this.closeLibrary(this.scratchpad))};EditorUi.prototype.createLibraryDataFromImages=function($images$$){if(!Editor.defaultCompressed)for(var $doc$jscomp$16_i$$=0;$doc$jscomp$16_i$$<$images$$.length;$doc$jscomp$16_i$$++)null!=$images$$[$doc$jscomp$16_i$$].xml&&"<"!=$images$$[$doc$jscomp$16_i$$].xml.charAt(0)&&
($images$$[$doc$jscomp$16_i$$].xml=mxUtils.trim(Graph.decompress($images$$[$doc$jscomp$16_i$$].xml)));$doc$jscomp$16_i$$=mxUtils.createXmlDocument();var $library$$=$doc$jscomp$16_i$$.createElement("mxlibrary");mxUtils.setTextContent($library$$,JSON.stringify($images$$,null,2));$doc$jscomp$16_i$$.appendChild($library$$);return mxUtils.getXml($doc$jscomp$16_i$$,"\n")};EditorUi.prototype.closeLibrary=function($file$$){null!=$file$$&&(this.removeLibrarySidebar($file$$.getHash()),$file$$.constructor!=
LocalLibrary&&mxSettings.removeCustomLibrary($file$$.getHash()),".scratchpad"==$file$$.title&&(this.scratchpad=null))};EditorUi.prototype.removeLibrarySidebar=function($id$$){var $elts$$=this.sidebar.palettes[$id$$];if(null!=$elts$$){for(var $i$$=0;$i$$<$elts$$.length;$i$$++)$elts$$[$i$$].parentNode.removeChild($elts$$[$i$$]);delete this.sidebar.palettes[$id$$]}};EditorUi.prototype.repositionLibrary=function($nextChild$$,$append$jscomp$1_content$jscomp$6_elts$$){var $c$$=this.sidebar.getEntryContainer();
if(!this.sidebar.appendCustomLibraries||null!=$nextChild$$||!$append$jscomp$1_content$jscomp$6_elts$$){null==$nextChild$$&&($append$jscomp$1_content$jscomp$6_elts$$=this.sidebar.palettes["L.scratchpad"],null==$append$jscomp$1_content$jscomp$6_elts$$&&($append$jscomp$1_content$jscomp$6_elts$$=this.sidebar.palettes.search),null!=$append$jscomp$1_content$jscomp$6_elts$$&&($nextChild$$=$append$jscomp$1_content$jscomp$6_elts$$[$append$jscomp$1_content$jscomp$6_elts$$.length-1].nextSibling));$nextChild$$=
null!=$nextChild$$?$nextChild$$:$c$$.firstChild.nextSibling.nextSibling;$append$jscomp$1_content$jscomp$6_elts$$=$c$$.lastChild;var $title$$=$append$jscomp$1_content$jscomp$6_elts$$.previousSibling;$c$$.insertBefore($append$jscomp$1_content$jscomp$6_elts$$,$nextChild$$);$c$$.insertBefore($title$$,$append$jscomp$1_content$jscomp$6_elts$$)}};EditorUi.prototype.loadLibrary=function($file$$,$expand$$){var $doc$$=mxUtils.parseXml($file$$.getData());if("mxlibrary"==$doc$$.documentElement.nodeName){var $images$$=
JSON.parse(mxUtils.getTextContent($doc$$.documentElement));this.libraryLoaded($file$$,$images$$,$doc$$.documentElement.getAttribute("title"),$expand$$)}else throw{message:mxResources.get("notALibraryFile")};};EditorUi.prototype.getLibraryStorageHint=function($file$$){return""};EditorUi.prototype.showSidebar=function(){null!=this.sidebarWindow?this.sidebarWindow.window.setVisible(!0):this.toggleShapesPanel(!0)};EditorUi.prototype.libraryLoaded=function($file$jscomp$0$$,$images$$,$optionalTitle_tmp$$,
$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$){if(null!=this.sidebar){$file$jscomp$0$$.constructor!=LocalLibrary&&mxSettings.addCustomLibrary($file$jscomp$0$$.getHash());var $library$$=null;if($file$jscomp$0$$.constructor!=StorageLibrary||".scratchpad"!=$file$jscomp$0$$.title){null==this.openLibraries&&(this.openLibraries=[]);for(var $elts$jscomp$5_i$$=0;$elts$jscomp$5_i$$<this.openLibraries.length;$elts$jscomp$5_i$$++)if(this.openLibraries[$elts$jscomp$5_i$$].file.getHash()==$file$jscomp$0$$.getHash()){mxUtils.remove(this.openLibraries[$elts$jscomp$5_i$$],
this.openLibraries);break}$library$$={file:$file$jscomp$0$$,images:$images$$,title:$optionalTitle_tmp$$,expand:$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$};this.openLibraries.push($library$$)}else this.scratchpad=$file$jscomp$0$$;$elts$jscomp$5_i$$=this.sidebar.palettes[$file$jscomp$0$$.getHash()];$elts$jscomp$5_i$$=null!=$elts$jscomp$5_i$$?$elts$jscomp$5_i$$[$elts$jscomp$5_i$$.length-1].nextSibling:null;this.removeLibrarySidebar($file$jscomp$0$$.getHash());var $dropTarget$$=null,
$addImages$$=mxUtils.bind(this,function($imgs$$,$content$$){0==$imgs$$.length&&$file$jscomp$0$$.isEditable()?(null==$dropTarget$$&&($dropTarget$$=document.createElement("div"),$dropTarget$$.className="geDropTarget",mxUtils.write($dropTarget$$,mxResources.get("dragElementsHere"))),$content$$.appendChild($dropTarget$$)):this.addLibraryEntries($imgs$$,$content$$)});null!=this.sidebar&&null!=$images$$&&this.sidebar.addEntries($images$$);null==$optionalTitle_tmp$$&&($optionalTitle_tmp$$=$file$jscomp$0$$.getTitle(),
null!=$optionalTitle_tmp$$&&/(\.xml)$/i.test($optionalTitle_tmp$$)&&($optionalTitle_tmp$$=$optionalTitle_tmp$$.substring(0,$optionalTitle_tmp$$.lastIndexOf("."))));var $contentDiv$$=this.sidebar.addPalette($file$jscomp$0$$.getHash(),$optionalTitle_tmp$$,null!=$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$?$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$:!0,mxUtils.bind(this,function($content$$){$addImages$$($images$$,$content$$)}));null!=$library$$&&($library$$.div=
$contentDiv$$);this.repositionLibrary($elts$jscomp$5_i$$,"L.scratchpad"!=$file$jscomp$0$$.getHash());var $title$jscomp$0$$=$contentDiv$$.parentNode.previousSibling;$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$=$title$jscomp$0$$.getAttribute("title");null!=$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$&&0<$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$.length&&".scratchpad"!=$file$jscomp$0$$.title&&$title$jscomp$0$$.setAttribute("title",this.getLibraryStorageHint($file$jscomp$0$$)+
"\n"+$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$);var $buttons$$=document.createElement("div");$buttons$$.style.position="absolute";$buttons$$.style.right="0px";$buttons$$.style.top="0px";$buttons$$.style.padding="8px";$buttons$$.style.backgroundColor="inherit";$title$jscomp$0$$.style.position="relative";var $btn$$=document.createElement("img");$btn$$.className="geAdaptiveAsset";$btn$$.setAttribute("src",Editor.crossImage);$btn$$.setAttribute("title",mxResources.get("close"));
$btn$$.setAttribute("valign","absmiddle");$btn$$.setAttribute("border","0");$btn$$.style.position="relative";$btn$$.style.top="2px";$btn$$.style.width="14px";$btn$$.style.cursor="pointer";$btn$$.style.margin="0 3px";var $saveBtn$$=null;if(".scratchpad"!=$file$jscomp$0$$.title||this.closableScratchpad)$buttons$$.appendChild($btn$$),mxEvent.addListener($btn$$,"click",mxUtils.bind(this,function($evt$$){if(!mxEvent.isConsumed($evt$$)){var $fn$$=mxUtils.bind(this,function(){null!=$library$$&&mxUtils.remove($library$$,
this.openLibraries);this.closeLibrary($file$jscomp$0$$)});null!=$saveBtn$$?this.confirm(mxResources.get("allChangesLost"),null,$fn$$,mxResources.get("cancel"),mxResources.get("discardChanges")):$fn$$();mxEvent.consume($evt$$)}}));if($file$jscomp$0$$.isEditable()){var $graph$$=this.editor.graph,$spinBtn$$=null;$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$=mxUtils.bind(this,function($evt$$){this.showLibraryDialog($file$jscomp$0$$.getTitle(),$contentDiv$$,$images$$,$file$jscomp$0$$,
$file$jscomp$0$$.getMode());mxEvent.consume($evt$$)});var $saveLibrary$$=mxUtils.bind(this,function($evt$jscomp$0$$){$file$jscomp$0$$.setModified(!0);$file$jscomp$0$$.isAutosave()?(null!=$spinBtn$$&&null!=$spinBtn$$.parentNode&&$spinBtn$$.parentNode.removeChild($spinBtn$$),$spinBtn$$=$btn$$.cloneNode(!1),$spinBtn$$.setAttribute("src",Editor.spinImage),$spinBtn$$.setAttribute("title",mxResources.get("saving")),$spinBtn$$.style.cursor="default",$spinBtn$$.style.marginRight="2px",$spinBtn$$.style.marginTop=
"-2px",$buttons$$.insertBefore($spinBtn$$,$buttons$$.firstChild),$title$jscomp$0$$.style.paddingRight=18*$buttons$$.childNodes.length+"px",this.saveLibrary($file$jscomp$0$$.getTitle(),$images$$,$file$jscomp$0$$,$file$jscomp$0$$.getMode(),!0,!0,function(){null!=$spinBtn$$&&null!=$spinBtn$$.parentNode&&($spinBtn$$.parentNode.removeChild($spinBtn$$),$title$jscomp$0$$.style.paddingRight=18*$buttons$$.childNodes.length+"px")})):null==$saveBtn$$&&($saveBtn$$=$btn$$.cloneNode(!1),$saveBtn$$.setAttribute("src",
Editor.saveImage),$saveBtn$$.setAttribute("title",mxResources.get("save")),$buttons$$.insertBefore($saveBtn$$,$buttons$$.firstChild),mxEvent.addListener($saveBtn$$,"click",mxUtils.bind(this,function($evt$$){this.saveLibrary($file$jscomp$0$$.getTitle(),$images$$,$file$jscomp$0$$,$file$jscomp$0$$.getMode(),$file$jscomp$0$$.constructor==LocalLibrary,!0,function(){null==$saveBtn$$||$file$jscomp$0$$.isModified()||($title$jscomp$0$$.style.paddingRight=18*$buttons$$.childNodes.length+"px",$saveBtn$$.parentNode.removeChild($saveBtn$$),
$saveBtn$$=null)});mxEvent.consume($evt$$)})),$title$jscomp$0$$.style.paddingRight=18*$buttons$$.childNodes.length+"px")}),$addCells$$=mxUtils.bind(this,function($cells$jscomp$112_xml$$,$bounds$jscomp$96_entry$$,$evt$$,$title$$){$cells$jscomp$112_xml$$=$graph$$.cloneCells(mxUtils.sortCells($graph$$.model.getTopmostCells($cells$jscomp$112_xml$$)));for(var $i$$=0;$i$$<$cells$jscomp$112_xml$$.length;$i$$++){var $geo$$=$graph$$.getCellGeometry($cells$jscomp$112_xml$$[$i$$]);null!=$geo$$&&$geo$$.translate(-$bounds$jscomp$96_entry$$.x,
-$bounds$jscomp$96_entry$$.y)}$contentDiv$$.appendChild(this.sidebar.createVertexTemplateFromCells($cells$jscomp$112_xml$$,$bounds$jscomp$96_entry$$.width,$bounds$jscomp$96_entry$$.height,$title$$||"",!0,null,!1));$cells$jscomp$112_xml$$=mxUtils.getXml(this.editor.graph.encodeCells($cells$jscomp$112_xml$$));Editor.defaultCompressed&&($cells$jscomp$112_xml$$=Graph.compress($cells$jscomp$112_xml$$));$bounds$jscomp$96_entry$$={xml:$cells$jscomp$112_xml$$,w:$bounds$jscomp$96_entry$$.width,h:$bounds$jscomp$96_entry$$.height};
null!=$title$$&&($bounds$jscomp$96_entry$$.title=$title$$);$images$$.push($bounds$jscomp$96_entry$$);$saveLibrary$$($evt$$);null!=$dropTarget$$&&null!=$dropTarget$$.parentNode&&0<$images$$.length&&($dropTarget$$.parentNode.removeChild($dropTarget$$),$dropTarget$$=null)}),$addSelection$$=mxUtils.bind(this,function($evt$$){if($graph$$.isSelectionEmpty())$graph$$.getRubberband().isActive()?($graph$$.getRubberband().execute($evt$$),$graph$$.getRubberband().reset()):this.showError(mxResources.get("error"),
mxResources.get("nothingIsSelected"),mxResources.get("ok"));else{var $cells$$=$graph$$.getSelectionCells(),$bounds$$=$graph$$.view.getBounds($cells$$);if(null!=$bounds$$&&0<$bounds$$.width&&0<$bounds$$.height){var $s$$=$graph$$.view.scale;$bounds$$.x/=$s$$;$bounds$$.y/=$s$$;$bounds$$.width/=$s$$;$bounds$$.height/=$s$$;$bounds$$.x-=$graph$$.view.translate.x;$bounds$$.y-=$graph$$.view.translate.y;$addCells$$($cells$$,$bounds$$)}else this.showError(mxResources.get("error"),mxResources.get("invalidSel"),
mxResources.get("ok"))}mxEvent.consume($evt$$)});mxEvent.addGestureListeners($contentDiv$$,function(){},mxUtils.bind(this,function($evt$$){$graph$$.isMouseDown&&null!=$graph$$.panningManager&&null!=$graph$$.graphHandler.first&&($graph$$.graphHandler.suspend(),null!=$graph$$.graphHandler.hint&&($graph$$.graphHandler.hint.style.visibility="hidden"),$contentDiv$$.style.backgroundColor=Editor.isDarkMode()?"#000000":"#fefefe",$contentDiv$$.style.cursor="copy",$graph$$.panningManager.stop(),$graph$$.autoScroll=
!1,mxEvent.consume($evt$$))}),mxUtils.bind(this,function($evt$$){$graph$$.isMouseDown&&null!=$graph$$.panningManager&&null!=$graph$$.graphHandler&&($contentDiv$$.style.backgroundColor="",$contentDiv$$.style.cursor="default",this.sidebar.showTooltips=!0,$graph$$.panningManager.stop(),$graph$$.graphHandler.reset(),$graph$$.isMouseDown=!1,$graph$$.autoScroll=!0,$addSelection$$($evt$$),mxEvent.consume($evt$$))}));mxEvent.addListener($contentDiv$$,"mouseleave",mxUtils.bind(this,function($evt$$){$graph$$.isMouseDown&&
null!=$graph$$.graphHandler.first&&($graph$$.graphHandler.resume(),null!=$graph$$.graphHandler.hint&&($graph$$.graphHandler.hint.style.visibility="visible"),$contentDiv$$.style.backgroundColor="",$contentDiv$$.style.cursor="",$graph$$.autoScroll=!0)}));Graph.fileSupport&&(mxEvent.addListener($contentDiv$$,"dragover",mxUtils.bind(this,function($evt$$){$contentDiv$$.style.backgroundColor=Editor.isDarkMode()?"#000000":"#fefefe";$evt$$.dataTransfer.dropEffect="copy";$contentDiv$$.style.cursor="copy";
this.sidebar.hideTooltip();$evt$$.stopPropagation();$evt$$.preventDefault()})),mxEvent.addListener($contentDiv$$,"drop",mxUtils.bind(this,function($evt$$){$contentDiv$$.style.cursor="";$contentDiv$$.style.backgroundColor="";0<$evt$$.dataTransfer.files.length&&this.importFiles($evt$$.dataTransfer.files,0,0,this.maxImageSize,mxUtils.bind(this,function($cells$jscomp$114_data$jscomp$134_style$$,$mimeType$$,$x$$,$y$$,$w$$,$h$$,$img$$,$doneFn$$,$file$$){if(null!=$cells$jscomp$114_data$jscomp$134_style$$&&
"image/"==$mimeType$$.substring(0,6))$cells$jscomp$114_data$jscomp$134_style$$="shape=image;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=0;aspect=fixed;image="+this.convertDataUri($cells$jscomp$114_data$jscomp$134_style$$),$cells$jscomp$114_data$jscomp$134_style$$=[new mxCell("",new mxGeometry(0,0,$w$$,$h$$),$cells$jscomp$114_data$jscomp$134_style$$)],$cells$jscomp$114_data$jscomp$134_style$$[0].vertex=!0,$addCells$$($cells$jscomp$114_data$jscomp$134_style$$,new mxRectangle(0,0,$w$$,
$h$$),$evt$$,mxEvent.isAltDown($evt$$)?null:$img$$.substring(0,$img$$.lastIndexOf(".")).replace(/_/g," ")),null!=$dropTarget$$&&null!=$dropTarget$$.parentNode&&0<$images$$.length&&($dropTarget$$.parentNode.removeChild($dropTarget$$),$dropTarget$$=null);else{var $done$$=!1,$doImport$$=mxUtils.bind(this,function($doc$$,$theMimeType_xml$$){null!=$doc$$&&"application/pdf"==$theMimeType_xml$$&&($theMimeType_xml$$=Editor.extractGraphModelFromPdf($doc$$),null!=$theMimeType_xml$$&&0<$theMimeType_xml$$.length&&
($doc$$=$theMimeType_xml$$));if(null!=$doc$$)if($doc$$=mxUtils.parseXml($doc$$),"mxlibrary"==$doc$$.documentElement.nodeName)try{var $i$jscomp$240_temp$$=JSON.parse(mxUtils.getTextContent($doc$$.documentElement));$addImages$$($i$jscomp$240_temp$$,$contentDiv$$);$images$$=$images$$.concat($i$jscomp$240_temp$$);$saveLibrary$$($evt$$);this.spinner.stop();$done$$=!0}catch($e$$){}else if("mxfile"==$doc$$.documentElement.nodeName)try{var $pages$$=$doc$$.documentElement.getElementsByTagName("diagram");for($i$jscomp$240_temp$$=
0;$i$jscomp$240_temp$$<$pages$$.length;$i$jscomp$240_temp$$++){var $cells$$=this.stringToCells(Editor.getDiagramNodeXml($pages$$[$i$jscomp$240_temp$$])),$size$$=this.editor.graph.getBoundingBoxFromGeometry($cells$$);$addCells$$($cells$$,new mxRectangle(0,0,$size$$.width,$size$$.height),$evt$$)}$done$$=!0}catch($e$19$$){null!=window.console&&console.log("error in drop handler:",$e$19$$)}$done$$||(this.spinner.stop(),this.handleError({message:mxResources.get("errorLoadingFile")}));null!=$dropTarget$$&&
null!=$dropTarget$$.parentNode&&0<$images$$.length&&($dropTarget$$.parentNode.removeChild($dropTarget$$),$dropTarget$$=null)});null!=$file$$&&null!=$img$$&&EditorUi.isVisioFilename($img$$)?this.importVisio($file$$,function($xml$$){$doImport$$($xml$$,"text/xml")},null,$img$$):(new XMLHttpRequest).upload&&this.isRemoteFileFormat($cells$jscomp$114_data$jscomp$134_style$$,$img$$)&&null!=$file$$?this.isExternalDataComms()?this.parseFile($file$$,mxUtils.bind(this,function($xhr$$){4==$xhr$$.readyState&&
(this.spinner.stop(),200<=$xhr$$.status&&299>=$xhr$$.status?$doImport$$($xhr$$.responseText,"text/xml"):this.handleError({message:mxResources.get(413==$xhr$$.status?"drawingTooLarge":"invalidOrMissingFile")},mxResources.get("errorLoadingFile")))})):(this.spinner.stop(),this.showError(mxResources.get("error"),mxResources.get("notInOffline"))):$doImport$$($cells$jscomp$114_data$jscomp$134_style$$,$mimeType$$)}}));$evt$$.stopPropagation();$evt$$.preventDefault()})),mxEvent.addListener($contentDiv$$,
"dragleave",function($evt$$){$contentDiv$$.style.cursor="";$contentDiv$$.style.backgroundColor="";$evt$$.stopPropagation();$evt$$.preventDefault()}));$btn$$=$btn$$.cloneNode(!1);$btn$$.setAttribute("src",Editor.editImage);$btn$$.setAttribute("title",mxResources.get("edit"));$buttons$$.insertBefore($btn$$,$buttons$$.firstChild);mxEvent.addListener($btn$$,"click",$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$);$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$=$btn$$.cloneNode(!1);
$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$.setAttribute("src",Editor.plusImage);$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$.setAttribute("title",mxResources.get("add"));$buttons$$.insertBefore($btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$,$buttons$$.firstChild);mxEvent.addListener($btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$,"click",$addSelection$$);".scratchpad"==$file$jscomp$0$$.title&&(this.addSelectionToScratchpad=$addSelection$$);
this.isOffline()||".scratchpad"!=$file$jscomp$0$$.title||null==EditorUi.scratchpadHelpLink||($btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$=document.createElement("span"),$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$.setAttribute("title",mxResources.get("help")),$btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$.style.cssText="color:#a3a3a3;text-decoration:none;margin-right:2px;cursor:pointer;",mxUtils.write($btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$,
"?"),mxEvent.addGestureListeners($btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$,mxUtils.bind(this,function($evt$$){this.openLink(EditorUi.scratchpadHelpLink);mxEvent.consume($evt$$)})),$buttons$$.insertBefore($btn2$jscomp$1_editLibrary_expand$jscomp$1_link$jscomp$20_tip$$,$buttons$$.firstChild))}$title$jscomp$0$$.appendChild($buttons$$);$title$jscomp$0$$.style.paddingRight=18*$buttons$$.childNodes.length+"px";this.editor.fireEvent(new mxEventObject("libraryLoaded"))}};EditorUi.prototype.addLibraryEntries=
function($imgs$$,$content$$){for(var $i$$=0;$i$$<$imgs$$.length;$i$$++)try{var $img$$=$imgs$$[$i$$],$data$$=$img$$.data;if(null!=$data$$){$data$$=this.convertDataUri($data$$);var $elt$jscomp$26_s$$="shape=image;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=0;";"fixed"==$img$$.aspect&&($elt$jscomp$26_s$$+="aspect=fixed;");$elt$jscomp$26_s$$=$elt$jscomp$26_s$$+"image="+$data$$+";";null!=$img$$.style&&($elt$jscomp$26_s$$+=$img$$.style);$content$$.appendChild(this.sidebar.createVertexTemplate($elt$jscomp$26_s$$,
$img$$.w,$img$$.h,"",$img$$.title||"",!1,null,!0))}else if(null!=$img$$.xml){var $cells$$=this.stringToCells("<"==$img$$.xml.charAt(0)?$img$$.xml:Graph.decompress($img$$.xml));0<$cells$$.length&&$content$$.appendChild(this.sidebar.createVertexTemplateFromCells($cells$$,$img$$.w,$img$$.h,$img$$.title||"",!0,null,!0))}}catch($e$$){$elt$jscomp$26_s$$=this.sidebar.createVertexTemplateFromCells(null,$img$$.w,$img$$.h,mxResources.get("error")+": "+$e$$.message,!0,null,!0),$elt$jscomp$26_s$$.style.backgroundImage=
"url("+Editor.svgBrokenImage.src+")",$content$$.appendChild($elt$jscomp$26_s$$)}};EditorUi.prototype.getResource=function($obj$$){return null!=$obj$$?$obj$$[mxLanguage]||$obj$$.main:null};EditorUi.prototype.footerHeight=0;"1"==urlParams.savesidebar&&(Sidebar.prototype.thumbWidth=64,Sidebar.prototype.thumbHeight=64);EditorUi.initTheme=function(){"atlas"!=Editor.currentTheme||window.DRAWIO_PUBLIC_BUILD||(mxClient.link("stylesheet",STYLE_PATH+"/atlas.css"),"undefined"!==typeof Toolbar&&(Toolbar.prototype.unselectedBackground=
"linear-gradient(rgb(255, 255, 255) 0px, rgb(242, 242, 242) 100%)",Toolbar.prototype.selectedBackground="rgb(242, 242, 242)"),Editor.prototype.initialTopSpacing=3,EditorUi.prototype.menubarHeight=41,EditorUi.prototype.toolbarHeight=38);"sketch"!=Editor.currentTheme||window.DRAWIO_PUBLIC_BUILD||(Editor.configurationKey=".sketch-configuration",Editor.settingsKey=".sketch-config")};EditorUi.initTheme();EditorUi.prototype.showImageDialog=function($dlg$jscomp$16_title$$,$value$$,$fn$$,$ignoreExisting$$,
$convertDataUri$$,$withCrop$$,$initClipPath$$){$dlg$jscomp$16_title$$=new ImageDialog(this,$dlg$jscomp$16_title$$,$value$$,$fn$$,$ignoreExisting$$,$convertDataUri$$,$withCrop$$,$initClipPath$$);this.showDialog($dlg$jscomp$16_title$$.container,Graph.fileSupport?480:360,Graph.fileSupport?200:90,!0,!0);$dlg$jscomp$16_title$$.init()};EditorUi.prototype.showLocalStorageDialog=function($dlg$jscomp$17_title$$,$key$$,$buttons$$,$elt$$,$helpLink$$,$applyFn$$){var $value$$=localStorage.getItem($key$$);$dlg$jscomp$17_title$$=
new TextareaDialog(this,$dlg$jscomp$17_title$$,null!=$value$$?JSON.stringify(JSON.parse($value$$),null,2):"",mxUtils.bind(this,function($newValue$$){if(null!=$newValue$$)try{if(null!=$applyFn$$&&$applyFn$$($newValue$$),$newValue$$==$value$$)this.hideDialog();else{if(0<$newValue$$.length){var $obj$$=JSON.parse($newValue$$);localStorage.setItem($key$$,JSON.stringify($obj$$))}else localStorage.removeItem($key$$);this.hideDialog();this.alert(mxResources.get("restartForChangeRequired"))}}catch($e$$){this.handleError($e$$)}}),
null,mxResources.get("close"),null,null,null,!0,null,null,$helpLink$$,$buttons$$,$elt$$);this.showDialog($dlg$jscomp$17_title$$.container,660,480,!0,!1);$dlg$jscomp$17_title$$.init()};EditorUi.prototype.showBackgroundImageDialog=function($apply$jscomp$4_dlg$$,$img$$,$color$jscomp$0$$,$showColor$$){$apply$jscomp$4_dlg$$=null!=$apply$jscomp$4_dlg$$?$apply$jscomp$4_dlg$$:mxUtils.bind(this,function($change$jscomp$6_image$$,$failed$$,$color$$,$shadowVisible$$){$failed$$||($change$jscomp$6_image$$=new ChangePageSetup(this,
$showColor$$?$color$$:null,$change$jscomp$6_image$$),$change$jscomp$6_image$$.ignoreColor=!$showColor$$,null!=$shadowVisible$$&&$showColor$$&&($change$jscomp$6_image$$.shadowVisible=$shadowVisible$$),this.editor.graph.model.execute($change$jscomp$6_image$$))});$apply$jscomp$4_dlg$$=new BackgroundImageDialog(this,$apply$jscomp$4_dlg$$,$img$$,$color$jscomp$0$$,$showColor$$);this.showDialog($apply$jscomp$4_dlg$$.container,400,$showColor$$?240:220,!0,!0);$apply$jscomp$4_dlg$$.init()};EditorUi.prototype.showLibraryDialog=
function($dlg$jscomp$19_name$$,$sidebar$$,$images$$,$file$$,$mode$$){$dlg$jscomp$19_name$$=new LibraryDialog(this,$dlg$jscomp$19_name$$,$sidebar$$,$images$$,$file$$,$mode$$);this.showDialog($dlg$jscomp$19_name$$.container,640,440,!0,!1,mxUtils.bind(this,function($cancel$$){$cancel$$&&null==this.getCurrentFile()&&"1"!=urlParams.embed&&this.showSplash()}));$dlg$jscomp$19_name$$.init()};var $editorUiCreateFormat$$=EditorUi.prototype.createFormat;EditorUi.prototype.createFormat=function($container$$){var $format$$=
$editorUiCreateFormat$$.apply(this,arguments);this.editor.graph.addListener("viewStateChanged",mxUtils.bind(this,function($evt$$){this.editor.graph.isSelectionEmpty()&&$format$$.refresh()}));return $format$$};EditorUi.prototype.handleError=function($btn3$jscomp$2_resp$$,$title$jscomp$0$$,$fn$$,$invokeFnOnClose$$,$fn3$jscomp$2_notFoundMessage$$,$fileHash$$,$disableLogging_msg$$){var $resume$$=null!=this.spinner&&null!=this.spinner.pause?this.spinner.pause():function(){},$e$$=null!=$btn3$jscomp$2_resp$$&&
null!=$btn3$jscomp$2_resp$$.error?$btn3$jscomp$2_resp$$.error:$btn3$jscomp$2_resp$$;if(null!=$btn3$jscomp$2_resp$$&&("1"==urlParams.test||null!=$btn3$jscomp$2_resp$$.stack)&&null!=$btn3$jscomp$2_resp$$.message)try{$disableLogging_msg$$||EditorUi.logError("Caught: "+(""==$btn3$jscomp$2_resp$$.message&&null!=$btn3$jscomp$2_resp$$.name)?$btn3$jscomp$2_resp$$.name:$btn3$jscomp$2_resp$$.message,$btn3$jscomp$2_resp$$.filename,$btn3$jscomp$2_resp$$.lineNumber,$btn3$jscomp$2_resp$$.columnNumber,$btn3$jscomp$2_resp$$,
"INFO"),"1"!=urlParams.test&&!$disableLogging_msg$$||null==window.console||console.error("EditorUi.handleError:",$btn3$jscomp$2_resp$$)}catch($e$20$$){}if(null!=$e$$||null!=$title$jscomp$0$$){$disableLogging_msg$$=mxUtils.htmlEntities(mxResources.get("unknownError"),!1);var $btn$$=mxResources.get("ok"),$retry$$=null;$title$jscomp$0$$=null!=$title$jscomp$0$$?$title$jscomp$0$$:mxResources.get("error");if(null!=$e$$){null!=$e$$.retry&&($btn$$=mxResources.get("cancel"),$retry$$=function(){$resume$$();
$e$$.retry()});if(404==$e$$.code||404==$e$$.status||403==$e$$.code){$disableLogging_msg$$=403==$e$$.code?null!=$e$$.message?mxUtils.htmlEntities($e$$.message,!1):mxUtils.htmlEntities(mxResources.get("accessDenied"),!1):null!=$fn3$jscomp$2_notFoundMessage$$?$fn3$jscomp$2_notFoundMessage$$:mxUtils.htmlEntities(mxResources.get("fileNotFoundOrDenied")+(null!=this.drive&&null!=this.drive.user?" ("+this.drive.user.email+")":""),!1);var $id$$=null!=$fn3$jscomp$2_notFoundMessage$$?null:null!=$fileHash$$?
$fileHash$$:window.location.hash;if(null!=$id$$&&("#G"==$id$$.substring(0,2)||"#Uhttps%3A%2F%2Fdrive.google.com%2Fuc%3Fid%3D"==$id$$.substring(0,45))&&(null!=$btn3$jscomp$2_resp$$&&null!=$btn3$jscomp$2_resp$$.error&&(null!=$btn3$jscomp$2_resp$$.error.errors&&0<$btn3$jscomp$2_resp$$.error.errors.length&&"fileAccess"==$btn3$jscomp$2_resp$$.error.errors[0].reason||null!=$btn3$jscomp$2_resp$$.error.data&&0<$btn3$jscomp$2_resp$$.error.data.length&&"fileAccess"==$btn3$jscomp$2_resp$$.error.data[0].reason)||
404==$e$$.code||404==$e$$.status)){$id$$="#U"==$id$$.substring(0,2)?$id$$.substring(45,$id$$.lastIndexOf("%26ex")):$id$$.substring(2);this.showError($title$jscomp$0$$,$disableLogging_msg$$,mxResources.get("tryOpeningViaThisPage"),mxUtils.bind(this,function(){this.editor.graph.openLink("https://drive.google.com/open?id="+$id$$);null!=$invokeFnOnClose$$&&$invokeFnOnClose$$()}),$retry$$,mxResources.get("changeUser"),mxUtils.bind(this,function(){function $fillUsersSelect$$(){$usersSelect$$.innerText=
"";for(var $i$$=0;$i$$<$driveUsers$$.length;$i$$++){var $option$$=document.createElement("option");mxUtils.write($option$$,$driveUsers$$[$i$$].displayName);$option$$.value=$i$$;$usersSelect$$.appendChild($option$$);$option$$=document.createElement("option");$option$$.innerHTML="&nbsp;&nbsp;&nbsp;";mxUtils.write($option$$,"<"+$driveUsers$$[$i$$].email+">");$option$$.setAttribute("disabled","disabled");$usersSelect$$.appendChild($option$$)}$option$$=document.createElement("option");mxUtils.write($option$$,
mxResources.get("addAccount"));$option$$.value=$driveUsers$$.length;$usersSelect$$.appendChild($option$$)}var $driveUsers$$=this.drive.getUsersList(),$div$jscomp$23_dlg$$=document.createElement("div"),$title$$=document.createElement("div");$title$$.style.marginBottom="6px";mxUtils.write($title$$,mxResources.get("changeUser")+": ");$div$jscomp$23_dlg$$.appendChild($title$$);var $usersSelect$$=document.createElement("select");$usersSelect$$.style.width="100%";$fillUsersSelect$$();mxEvent.addListener($usersSelect$$,
"change",mxUtils.bind(this,function(){var $userIndex$$=$usersSelect$$.value,$existingAccount$$=$driveUsers$$.length!=$userIndex$$;$existingAccount$$&&this.drive.setUser($driveUsers$$[$userIndex$$]);this.drive.authorize($existingAccount$$,mxUtils.bind(this,function(){$existingAccount$$||($driveUsers$$=this.drive.getUsersList(),$fillUsersSelect$$())}),mxUtils.bind(this,function($resp$$){this.handleError($resp$$)}),!0)}));$div$jscomp$23_dlg$$.appendChild($usersSelect$$);$div$jscomp$23_dlg$$=new CustomDialog(this,
$div$jscomp$23_dlg$$,mxUtils.bind(this,function(){this.loadFile(window.location.hash.substr(1),!0)}));this.showDialog($div$jscomp$23_dlg$$.container,300,100,!0,!0)}),mxResources.get("cancel"),mxUtils.bind(this,function(){this.hideDialog();null!=$fn$$&&$fn$$()}),520,150);return}}null!=$e$$.message?$disableLogging_msg$$=""==$e$$.message&&null!=$e$$.name?mxUtils.htmlEntities($e$$.name,!1):mxUtils.htmlEntities($e$$.message,!1):null!=$e$$.response&&null!=$e$$.response.error?$disableLogging_msg$$=mxUtils.htmlEntities($e$$.response.error,
!1):"undefined"!==typeof window.App&&($e$$.code==App.ERROR_TIMEOUT?$disableLogging_msg$$=mxUtils.htmlEntities(mxResources.get("timeout"),!1):$e$$.code==App.ERROR_BUSY?$disableLogging_msg$$=mxUtils.htmlEntities(mxResources.get("busy"),!1):"string"===typeof $e$$&&0<$e$$.length&&($disableLogging_msg$$=mxUtils.htmlEntities($e$$,!1)))}$fn3$jscomp$2_notFoundMessage$$=$btn3$jscomp$2_resp$$=null;null!=$e$$&&null!=$e$$.helpLink?($btn3$jscomp$2_resp$$=mxResources.get("help"),$fn3$jscomp$2_notFoundMessage$$=
mxUtils.bind(this,function(){return this.editor.graph.openLink($e$$.helpLink)})):null!=$e$$&&null!=$e$$.ownerEmail&&($btn3$jscomp$2_resp$$=mxResources.get("contactOwner"),$disableLogging_msg$$+=mxUtils.htmlEntities(" ("+$btn3$jscomp$2_resp$$+": "+$e$$.ownerEmail+")",!1),$fn3$jscomp$2_notFoundMessage$$=mxUtils.bind(this,function(){return this.openLink("mailto:"+mxUtils.htmlEntities($e$$.ownerEmail))}));this.showError($title$jscomp$0$$,$disableLogging_msg$$,$btn$$,$fn$$,$retry$$,null,null,$btn3$jscomp$2_resp$$,
$fn3$jscomp$2_notFoundMessage$$,null,null,null,$invokeFnOnClose$$?$fn$$:null)}else null!=$fn$$&&$fn$$()};EditorUi.prototype.alert=function($dlg$jscomp$21_msg$$,$fn$$,$optionalWidth$$){$dlg$jscomp$21_msg$$=new ErrorDialog(this,null,$dlg$jscomp$21_msg$$,mxResources.get("ok"),$fn$$);this.showDialog($dlg$jscomp$21_msg$$.container,$optionalWidth$$||340,100,!0,!1);$dlg$jscomp$21_msg$$.init()};EditorUi.prototype.confirm=function($dlg$jscomp$22_msg$$,$okFn$$,$cancelFn$$,$okLabel$$,$cancelLabel$$,$closable$$){$dlg$jscomp$22_msg$$=
null!=$dlg$jscomp$22_msg$$?$dlg$jscomp$22_msg$$:"";var $resume$$=null!=this.spinner&&null!=this.spinner.pause?this.spinner.pause():function(){},$height$$=Math.min(220,28*Math.ceil(Math.max(1,$dlg$jscomp$22_msg$$.length)/50));$dlg$jscomp$22_msg$$=new ConfirmDialog(this,$dlg$jscomp$22_msg$$,function(){$resume$$();null!=$okFn$$&&$okFn$$()},function(){$resume$$();null!=$cancelFn$$&&$cancelFn$$()},$okLabel$$,$cancelLabel$$,null,null,null,null,$height$$);this.showDialog($dlg$jscomp$22_msg$$.container,340,
46+$height$$,!0,$closable$$);$dlg$jscomp$22_msg$$.init()};EditorUi.prototype.showBanner=function($id$$,$div$jscomp$24_text$$,$onclick$$,$doNotShowAgainOnClose$$,$small$$,$positionCss$$,$t1$$,$t2$$,$to$$){var $css$jscomp$6_result$$=!1;if(!(this.bannerShowing||this["hideBanner"+$id$$]||isLocalStorage&&null!=mxSettings.settings&&null!=mxSettings.settings["close"+$id$$])){$positionCss$$=null!=$positionCss$$?$positionCss$$:"bottom:10px;left:50%;";$t1$$=null!=$t1$$?$t1$$:"translate(-50%,120%)";$t2$$=null!=
$t2$$?$t2$$:"translate(-50%,0%)";var $delay$$=$small$$?500:1E3;$css$jscomp$6_result$$=$small$$?"padding:4px;border-radius:6px;font-size:11px;height:12px;font-weight:normal;":"font-size:16px;padding:18px 34px 12px 20px;font-weight:bold;";var $banner$$=document.createElement("div");$banner$$.style.cssText="position:absolute;"+$positionCss$$+";max-width:90%;white-space:nowrap;cursor:pointer;z-index:"+mxPopupMenu.prototype.zIndex+";"+$css$jscomp$6_result$$;mxUtils.setPrefixedStyle($banner$$.style,"transform",
$t1$$);mxUtils.setPrefixedStyle($banner$$.style,"transition","all "+$delay$$+"ms ease");$banner$$.className="geBtn gePrimaryBtn"+($small$$?" geSmallBanner":"");Editor.isDarkMode()||mxUtils.setPrefixedStyle($banner$$.style,"box-shadow","1px 1px 2px 0px #ddd");null!=$to$$&&mxUtils.setPrefixedStyle($banner$$.style,"transform-origin",$to$$);if(!$small$$){var $img$$=document.createElement("img");$img$$.setAttribute("src",IMAGE_PATH+"/logo.png");$img$$.setAttribute("border","0");$img$$.setAttribute("align",
"absmiddle");$img$$.style.cssText="margin-top:-4px;margin-left:8px;margin-right:12px;width:26px;height:26px;";$banner$$.appendChild($img$$);$img$$=document.createElement("img");$img$$.setAttribute("src",Dialog.prototype.closeImage);$img$$.setAttribute("title",mxResources.get($doNotShowAgainOnClose$$?"doNotShowAgain":"close"));$img$$.setAttribute("border","0");$img$$.style.cssText=($small$$?"right:6px;top:9px;":"right:10px;top:12px;")+"position:absolute;filter:invert(1);padding:6px;margin:-6px;cursor:default;";
$banner$$.appendChild($img$$)}mxUtils.write($banner$$,$div$jscomp$24_text$$);document.body.appendChild($banner$$);this.bannerShowing=!0;$div$jscomp$24_text$$=document.createElement("div");$div$jscomp$24_text$$.style.cssText="display:flex;align-items:center;justify-content:center;padding-top:6px;font-size:11px;text-align:center;font-weight:normal;";var $chk$$=document.createElement("input");$chk$$.setAttribute("type","checkbox");$chk$$.setAttribute("id","geDoNotShowAgainCheckbox");$chk$$.style.marginRight=
"6px";if(!$doNotShowAgainOnClose$$){$div$jscomp$24_text$$.appendChild($chk$$);var $label$$=document.createElement("label");$label$$.setAttribute("for","geDoNotShowAgainCheckbox");mxUtils.write($label$$,mxResources.get("doNotShowAgain"));$div$jscomp$24_text$$.appendChild($label$$);$banner$$.style.paddingBottom=$small$$?"16px":"30px";$banner$$.appendChild($div$jscomp$24_text$$)}var $onclose$$=mxUtils.bind(this,function(){null!=$banner$$.parentNode&&($banner$$.parentNode.removeChild($banner$$),this.bannerShowing=
!1,$chk$$.checked||$doNotShowAgainOnClose$$)&&(this["hideBanner"+$id$$]=!0,isLocalStorage&&null!=mxSettings.settings&&(mxSettings.settings["close"+$id$$]=Date.now(),mxSettings.save()))});null!=$img$$&&mxEvent.addListener($img$$,"click",mxUtils.bind(this,function($e$$){mxEvent.consume($e$$);$onclose$$()}));var $hide$$=mxUtils.bind(this,function(){mxUtils.setPrefixedStyle($banner$$.style,"transform",$t1$$);window.setTimeout(mxUtils.bind(this,function(){$onclose$$()}),$delay$$)});mxEvent.addListener($banner$$,
"click",mxUtils.bind(this,function($e$$){var $source$$=mxEvent.getSource($e$$);$source$$!=$chk$$&&$source$$!=$label$$?(null!=$onclick$$&&$onclick$$(),$onclose$$(),mxEvent.consume($e$$)):$hide$$()}));window.setTimeout(mxUtils.bind(this,function(){mxUtils.setPrefixedStyle($banner$$.style,"transform",$t2$$)}),$delay$$/2);window.setTimeout($hide$$,$small$$?4E3:3E4);$css$jscomp$6_result$$=!0}return $css$jscomp$6_result$$};EditorUi.prototype.setCurrentFile=function($file$$){null!=$file$$&&($file$$.opened=
new Date);this.currentFile=$file$$};EditorUi.prototype.getCurrentFile=function(){return this.currentFile};EditorUi.prototype.isExportToCanvas=function(){return this.editor.isExportToCanvas()};EditorUi.prototype.createImageDataUri=function($canvas$jscomp$22_data$$,$xml$$,$format$$,$dpi$$){$canvas$jscomp$22_data$$=$canvas$jscomp$22_data$$.toDataURL("image/"+$format$$);if(null!=$canvas$jscomp$22_data$$&&6<$canvas$jscomp$22_data$$.length)null!=$xml$$&&($canvas$jscomp$22_data$$=Editor.writeGraphModelToPng($canvas$jscomp$22_data$$,
"tEXt","mxfile",encodeURIComponent($xml$$))),0<$dpi$$&&($canvas$jscomp$22_data$$=Editor.writeGraphModelToPng($canvas$jscomp$22_data$$,"pHYs","dpi",$dpi$$));else throw{message:mxResources.get("unknownError")};return $canvas$jscomp$22_data$$};EditorUi.prototype.saveCanvas=function($canvas$jscomp$23_data$$,$xml$$,$format$$,$filename$jscomp$12_ignorePageName$$,$dpi$$){var $ext$$="jpeg"==$format$$?"jpg":$format$$;$filename$jscomp$12_ignorePageName$$=this.getBaseFilename($filename$jscomp$12_ignorePageName$$)+
(null!=$xml$$?".drawio":"")+"."+$ext$$;$canvas$jscomp$23_data$$=this.createImageDataUri($canvas$jscomp$23_data$$,$xml$$,$format$$,$dpi$$);this.saveData($filename$jscomp$12_ignorePageName$$,$ext$$,$canvas$jscomp$23_data$$.substring($canvas$jscomp$23_data$$.lastIndexOf(",")+1),"image/"+$format$$,!0)};EditorUi.prototype.isLocalFileSave=function(){return"remote"!=urlParams.save&&(mxClient.IS_IE||"undefined"!==typeof window.Blob&&"undefined"!==typeof window.URL)&&9!=document.documentMode&&8!=document.documentMode&&
7!=document.documentMode||this.isOfflineApp()||mxClient.IS_IOS};EditorUi.prototype.showTextDialog=function($dlg$jscomp$23_title$$,$text$$){$dlg$jscomp$23_title$$=new TextareaDialog(this,$dlg$jscomp$23_title$$,$text$$,null,null,mxResources.get("close"));this.showDialog($dlg$jscomp$23_title$$.container,620,460,!0,!0,null,null,null,null,!0);$dlg$jscomp$23_title$$.init();document.execCommand("selectall",!1,null)};EditorUi.prototype.doSaveLocalFile=function($blob$jscomp$15_data$$,$filename$$,$mimeType$$,
$base64Encoded$$,$format$$,$defaultExtension_useDownload$$){"text/xml"!=$mimeType$$||/(\.drawio)$/i.test($filename$$)||/(\.xml)$/i.test($filename$$)||/(\.svg)$/i.test($filename$$)||/(\.html)$/i.test($filename$$)||($filename$$=$filename$$+"."+(null!=$defaultExtension_useDownload$$?$defaultExtension_useDownload$$:"drawio"));if(window.Blob&&navigator.msSaveOrOpenBlob)$blob$jscomp$15_data$$=$base64Encoded$$?this.base64ToBlob($blob$jscomp$15_data$$,$mimeType$$):new Blob([$blob$jscomp$15_data$$],{type:$mimeType$$}),
navigator.msSaveOrOpenBlob($blob$jscomp$15_data$$,$filename$$);else if(mxClient.IS_IE)$mimeType$$=window.open("about:blank","_blank"),null==$mimeType$$?mxUtils.popup($blob$jscomp$15_data$$,!0):($mimeType$$.document.write($blob$jscomp$15_data$$),$mimeType$$.document.close(),$mimeType$$.document.execCommand("SaveAs",!0,$filename$$),$mimeType$$.close());else if(mxClient.IS_IOS&&this.isOffline())navigator.standalone||null==$mimeType$$||"image/"!=$mimeType$$.substring(0,6)?this.showTextDialog($filename$$+
":",$blob$jscomp$15_data$$):this.openInNewWindow($blob$jscomp$15_data$$,$mimeType$$,$base64Encoded$$);else{var $a$$=document.createElement("a");$defaultExtension_useDownload$$=(null==navigator.userAgent||0>navigator.userAgent.indexOf("PaleMoon/"))&&"undefined"!==typeof $a$$.download;if(mxClient.IS_GC&&null!=navigator.userAgent){var $raw$$=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);$defaultExtension_useDownload$$=65==($raw$$?parseInt($raw$$[2],10):!1)?!1:$defaultExtension_useDownload$$}if($defaultExtension_useDownload$$||
this.isOffline()){$a$$.href=URL.createObjectURL($base64Encoded$$?this.base64ToBlob($blob$jscomp$15_data$$,$mimeType$$):new Blob([$blob$jscomp$15_data$$],{type:$mimeType$$}));$defaultExtension_useDownload$$?$a$$.download=$filename$$:$a$$.setAttribute("target","_blank");document.body.appendChild($a$$);try{window.setTimeout(function(){URL.revokeObjectURL($a$$.href)},2E4),$a$$.click(),$a$$.parentNode.removeChild($a$$)}catch($e$$){}}else this.createEchoRequest($blob$jscomp$15_data$$,$filename$$,$mimeType$$,
$base64Encoded$$,$format$$).simulate(document,"_blank")}};EditorUi.prototype.createEchoRequest=function($data$jscomp$139_param$$,$filename$$,$mimeType$$,$base64Encoded$$,$format$$,$base64Response$$){$data$jscomp$139_param$$="xml="+encodeURIComponent($data$jscomp$139_param$$);return new mxXmlRequest(SAVE_URL,$data$jscomp$139_param$$+(null!=$mimeType$$?"&mime="+$mimeType$$:"")+(null!=$format$$?"&format="+$format$$:"")+(null!=$base64Response$$?"&base64="+$base64Response$$:"")+(null!=$filename$$?"&filename="+
encodeURIComponent($filename$$):"")+($base64Encoded$$?"&binary=1":""))};EditorUi.prototype.saveLocalFile=function($data$$,$filename$$,$mimeType$$,$base64Encoded$$,$disabled_format$$,$allowBrowser$$,$allowTab$$,$defaultExtension$$){$allowBrowser$$=null!=$allowBrowser$$?$allowBrowser$$:!1;$allowTab$$=null!=$allowTab$$?$allowTab$$:"vsdx"!=$disabled_format$$&&(!mxClient.IS_IOS||!navigator.standalone);var $saveFunction$$=mxUtils.bind(this,function($newTitle$$,$mode$$,$input$$,$folderId$jscomp$0$$){try{if("_blank"==
$mode$$)if(null!=$mimeType$$&&"image/"==$mimeType$$.substring(0,6))this.openInNewWindow($data$$,$mimeType$$,$base64Encoded$$);else if(null!=$mimeType$$&&"text/html"==$mimeType$$.substring(0,9)){var $dlg$$=new EmbedDialog(this,$data$$);this.showDialog($dlg$$.container,450,240,!0,!0);$dlg$$.init()}else{var $win$$=window.open("about:blank");null==$win$$?mxUtils.popup($data$$,!0):($win$$.document.write("<pre>"+mxUtils.htmlEntities($data$$,!1)+"</pre>"),$win$$.document.close())}else if($mode$$==App.MODE_DEVICE||
"download"==$mode$$)this.doSaveLocalFile($data$$,$newTitle$$,$mimeType$$,$base64Encoded$$,null,$defaultExtension$$);else if(null!=$newTitle$$&&0<$newTitle$$.length){var $saveFile$$=mxUtils.bind(this,function($folderId$$){try{this.exportFile($data$$,$newTitle$$,$mimeType$$,$base64Encoded$$,$mode$$,$folderId$$)}catch($e$$){this.handleError($e$$)}});null!=$folderId$jscomp$0$$?$saveFile$$($folderId$jscomp$0$$):this.pickFolder($mode$$,$saveFile$$)}}catch($e$$){this.handleError($e$$)}});$disabled_format$$=
[];$allowBrowser$$||$disabled_format$$.push(App.MODE_BROWSER);$allowTab$$||$disabled_format$$.push("_blank");var $dlg$jscomp$0$$=new SaveDialog(this,$filename$$,mxUtils.bind(this,function($input$$,$mode$$,$folderId$$){$saveFunction$$($input$$.value,$mode$$,$input$$,$folderId$$);this.hideDialog(null,null,$dlg$jscomp$0$$.container)}),$disabled_format$$,$data$$,$mimeType$$,$base64Encoded$$);this.showDialog($dlg$jscomp$0$$.container,420,110,!0,!1,mxUtils.bind(this,function(){this.hideDialog()}));$dlg$jscomp$0$$.init()};
EditorUi.prototype.openInNewWindow=function($data$jscomp$141_temp$$,$mimeType$$,$base64Encoded$$){var $win$$=window.open("about:blank");null==$win$$||null==$win$$.document?mxUtils.popup($data$jscomp$141_temp$$,!0):("image/svg+xml"!=$mimeType$$||mxClient.IS_SVG?"image/svg+xml"!=$mimeType$$||$base64Encoded$$?($data$jscomp$141_temp$$=$base64Encoded$$?$data$jscomp$141_temp$$:btoa(unescape(encodeURIComponent($data$jscomp$141_temp$$))),$win$$.document.write('<html><img style="max-width:100%;" src="data:'+
$mimeType$$+";base64,"+$data$jscomp$141_temp$$+'"/></html>')):$win$$.document.write("<html>"+$data$jscomp$141_temp$$+"</html>"):$win$$.document.write("<html><pre>"+mxUtils.htmlEntities($data$jscomp$141_temp$$,!1)+"</pre></html>"),$win$$.document.close())};var $editoUiAddChromelessToolbarItems$$=EditorUi.prototype.addChromelessToolbarItems;EditorUi.prototype.isChromelessImageExportEnabled=function(){return"draw.io"!=this.getServiceName()||/.*\.draw\.io$/.test(window.location.hostname)||/.*\.diagrams\.net$/.test(window.location.hostname)};
EditorUi.prototype.addChromelessToolbarItems=function($addButton$$){if(null!=urlParams.tags){this.tagsDialog=this.tagsComponent=null;var $tagsButton$$=$addButton$$(mxUtils.bind(this,function($evt$$){null==this.tagsComponent&&(this.tagsComponent=this.editor.graph.createTagsDialog(mxUtils.bind(this,function(){return null!=this.tagsDialog}),!0),this.tagsComponent.div.getElementsByTagName("div")[0].style.position="",mxUtils.setPrefixedStyle(this.tagsComponent.div.style,"borderRadius","5px"),this.tagsComponent.div.className=
"geScrollable",this.tagsComponent.div.style.maxHeight="160px",this.tagsComponent.div.style.maxWidth="120px",this.tagsComponent.div.style.padding="4px",this.tagsComponent.div.style.overflow="auto",this.tagsComponent.div.style.height="auto",this.tagsComponent.div.style.position="fixed",this.tagsComponent.div.style.fontFamily=Editor.defaultHtmlFont,mxClient.IS_IE||mxClient.IS_IE11?(this.tagsComponent.div.style.backgroundColor="#ffffff",this.tagsComponent.div.style.border="2px solid black",this.tagsComponent.div.style.color=
"#000000"):(this.tagsComponent.div.style.backgroundColor="#000000",this.tagsComponent.div.style.color="#ffffff",mxUtils.setOpacity(this.tagsComponent.div,80)));if(null!=this.tagsDialog)this.tagsDialog.parentNode.removeChild(this.tagsDialog),this.tagsDialog=null;else{this.tagsDialog=this.tagsComponent.div;mxEvent.addListener(this.tagsDialog,"mouseleave",mxUtils.bind(this,function(){null!=this.tagsDialog&&(this.tagsDialog.parentNode.removeChild(this.tagsDialog),this.tagsDialog=null)}));var $r$jscomp$14_style$$=
$tagsButton$$.getBoundingClientRect();this.tagsDialog.style.left=$r$jscomp$14_style$$.left+"px";this.tagsDialog.style.bottom=parseInt(this.chromelessToolbar.style.bottom)+this.chromelessToolbar.offsetHeight+4+"px";$r$jscomp$14_style$$=mxUtils.getCurrentStyle(this.editor.graph.container);this.tagsDialog.style.zIndex=$r$jscomp$14_style$$.zIndex;document.body.appendChild(this.tagsDialog);this.tagsComponent.refresh();this.editor.fireEvent(new mxEventObject("tagsDialogShown"))}mxEvent.consume($evt$$)}),
Editor.tagsImage,mxResources.get("tags"));this.editor.graph.getModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){var $tags$$=this.editor.graph.getAllTags();$tagsButton$$.style.display=0<$tags$$.length?"":"none"}))}$editoUiAddChromelessToolbarItems$$.apply(this,arguments);this.editor.addListener("tagsDialogShown",mxUtils.bind(this,function(){null!=this.layersDialog&&(this.layersDialog.parentNode.removeChild(this.layersDialog),this.layersDialog=null)}));this.editor.addListener("layersDialogShown",
mxUtils.bind(this,function(){null!=this.tagsDialog&&(this.tagsDialog.parentNode.removeChild(this.tagsDialog),this.tagsDialog=null)}));this.editor.addListener("pageSelected",mxUtils.bind(this,function(){null!=this.tagsDialog&&(this.tagsDialog.parentNode.removeChild(this.tagsDialog),this.tagsDialog=null);null!=this.layersDialog&&(this.layersDialog.parentNode.removeChild(this.layersDialog),this.layersDialog=null)}));mxEvent.addListener(this.editor.graph.container,"click",mxUtils.bind(this,function(){null!=
this.tagsDialog&&(this.tagsDialog.parentNode.removeChild(this.tagsDialog),this.tagsDialog=null);null!=this.layersDialog&&(this.layersDialog.parentNode.removeChild(this.layersDialog),this.layersDialog=null)}));if(this.isExportToCanvas()&&this.isChromelessImageExportEnabled()){this.exportDialog=null;var $exportButton$$=$addButton$$(mxUtils.bind(this,function($evt$$){var $clickHandler$$=mxUtils.bind(this,function(){mxEvent.removeListener(this.editor.graph.container,"click",$clickHandler$$);null!=this.exportDialog&&
(this.exportDialog.parentNode.removeChild(this.exportDialog),this.exportDialog=null)});if(null!=this.exportDialog)$clickHandler$$.apply(this);else{this.exportDialog=document.createElement("div");var $r$jscomp$15_style$$=$exportButton$$.getBoundingClientRect();mxUtils.setPrefixedStyle(this.exportDialog.style,"borderRadius","5px");this.exportDialog.style.position="fixed";this.exportDialog.style.textAlign="center";this.exportDialog.style.fontFamily=Editor.defaultHtmlFont;this.exportDialog.style.backgroundColor=
"#000000";this.exportDialog.style.width="50px";this.exportDialog.style.height="50px";this.exportDialog.style.padding="4px 2px 4px 2px";this.exportDialog.style.color="#ffffff";mxUtils.setOpacity(this.exportDialog,80);this.exportDialog.style.left=$r$jscomp$15_style$$.left+"px";this.exportDialog.style.bottom=parseInt(this.chromelessToolbar.style.bottom)+this.chromelessToolbar.offsetHeight+4+"px";$r$jscomp$15_style$$=mxUtils.getCurrentStyle(this.editor.graph.container);this.exportDialog.style.zIndex=
$r$jscomp$15_style$$.zIndex;var $spinner$$=new Spinner({lines:8,length:6,width:5,radius:6,rotate:0,color:"#fff",speed:1.5,trail:60,shadow:!1,hwaccel:!1,top:"28px",zIndex:2E9});$spinner$$.spin(this.exportDialog);document.body.appendChild(this.exportDialog);mxEvent.addListener(this.editor.graph.container,"click",$clickHandler$$);this.editor.exportToCanvas(mxUtils.bind(this,function($canvas$jscomp$24_img$$){$spinner$$.stop();this.exportDialog.style.width="auto";this.exportDialog.style.height="auto";
this.exportDialog.style.padding="10px";var $data$$=this.createImageDataUri($canvas$jscomp$24_img$$,null,"png");$canvas$jscomp$24_img$$=document.createElement("img");$canvas$jscomp$24_img$$.style.maxWidth="140px";$canvas$jscomp$24_img$$.style.maxHeight="140px";$canvas$jscomp$24_img$$.style.cursor="pointer";$canvas$jscomp$24_img$$.style.backgroundColor="white";$canvas$jscomp$24_img$$.setAttribute("title",mxResources.get("openInNewWindow"));$canvas$jscomp$24_img$$.setAttribute("border","0");$canvas$jscomp$24_img$$.setAttribute("src",
$data$$);this.exportDialog.appendChild($canvas$jscomp$24_img$$);mxEvent.addListener($canvas$jscomp$24_img$$,"click",mxUtils.bind(this,function(){this.openInNewWindow($data$$.substring($data$$.indexOf(",")+1),"image/png",!0);$clickHandler$$.apply(this,arguments)}))}),null,this.thumbImageCache,null,mxUtils.bind(this,function($e$$){$spinner$$.stop();null!=this.exportDialog&&null!=this.exportDialog.parentNode&&(this.exportDialog.parentNode.removeChild(this.exportDialog),this.exportDialog=null);this.handleError($e$$)}),
null,null,null,null,null,null,null,Editor.defaultBorder)}mxEvent.consume($evt$$)}),Editor.cameraImage,mxResources.get("export"))}};EditorUi.prototype.saveData=function($filename$$,$format$$,$data$$,$mime$$,$base64Encoded$$){this.isLocalFileSave()?this.saveLocalFile($data$$,$filename$$,$mime$$,$base64Encoded$$,$format$$):this.saveRequest($filename$$,$format$$,mxUtils.bind(this,function($newTitle$$,$base64$$){return this.createEchoRequest($data$$,$newTitle$$,$mime$$,$base64Encoded$$,$format$$,$base64$$)}),
$data$$,$base64Encoded$$,$mime$$)};EditorUi.prototype.saveRequest=function($filename$$,$format$$,$fn$$,$data$$,$base64Encoded$jscomp$5_disabled$$,$mimeType$$,$allowTab$$){$allowTab$$=null!=$allowTab$$?$allowTab$$:!mxClient.IS_IOS||!navigator.standalone;var $saveFunction$$=mxUtils.bind(this,function($newTitle$$,$mode$$,$doSave$jscomp$1_input$$,$folderId$jscomp$0$$){if("_blank"==$mode$$||null!=$newTitle$$&&0<$newTitle$$.length){var $xhr$$=$fn$$("_blank"==$mode$$?null:$newTitle$$,$mode$$==App.MODE_DEVICE||
"download"==$mode$$||null==$mode$$||"_blank"==$mode$$?"0":"1");null!=$xhr$$&&($mode$$==App.MODE_DEVICE||"download"==$mode$$||"_blank"==$mode$$?$xhr$$.simulate(document,"_blank"):($doSave$jscomp$1_input$$=mxUtils.bind(this,function($folderId$$){$mimeType$$=null!=$mimeType$$?$mimeType$$:"pdf"==$format$$?"application/pdf":"image/"+$format$$;if(null!=$data$$)try{this.exportFile($data$$,$newTitle$$,$mimeType$$,!0,$mode$$,$folderId$$)}catch($e$$){this.handleError($e$$)}else this.spinner.spin(document.body,
mxResources.get("saving"))&&$xhr$$.send(mxUtils.bind(this,function(){this.spinner.stop();if(200<=$xhr$$.getStatus()&&299>=$xhr$$.getStatus())try{this.exportFile($xhr$$.getText(),$newTitle$$,$mimeType$$,!0,$mode$$,$folderId$$)}catch($e$21$$){this.handleError($e$21$$)}else this.handleError({message:mxResources.get("errorSavingFile")})}),mxUtils.bind(this,function($resp$$){this.spinner.stop();this.handleError($resp$$)}))}),null!=$folderId$jscomp$0$$?$doSave$jscomp$1_input$$($folderId$jscomp$0$$):this.pickFolder($mode$$,
$doSave$jscomp$1_input$$)))}});$base64Encoded$jscomp$5_disabled$$=[App.MODE_BROWSER];$allowTab$$||$base64Encoded$jscomp$5_disabled$$.push("_blank");var $dlg$$=new SaveDialog(this,$filename$$,mxUtils.bind(this,function($input$$,$mode$$,$folderId$$){$saveFunction$$($input$$.value,$mode$$,$input$$,$folderId$$);this.hideDialog(null,null,$dlg$$.container)}),$base64Encoded$jscomp$5_disabled$$,null,"application/pdf");this.showDialog($dlg$$.container,420,110,!0,!1,mxUtils.bind(this,function(){this.hideDialog()}));
$dlg$$.init()};EditorUi.prototype.isServices=function($count$$){return 1!=$count$$};EditorUi.prototype.getEditBlankXml=function(){return this.getFileData(!0)};EditorUi.prototype.exportFile=function($data$$,$filename$$,$mimeType$$,$base64Encoded$$,$mode$$,$folderId$$){};EditorUi.prototype.getServiceForName=function($name$$){return null};EditorUi.prototype.getTitleForService=function($name$$){return mxResources.get($name$$)};EditorUi.prototype.pickFolder=function($mode$$,$fn$$,$enabled$$){$fn$$(null)};
EditorUi.prototype.exportSvg=function($scale$$,$transparentBackground$$,$ignoreSelection$$,$addShadow$$,$editable$$,$embedImages$$,$border$$,$noCrop$$,$currentPage$$,$linkTarget$$,$theme$$,$exportType$$,$embedFonts$$,$saveFn$$){if(this.spinner.spin(document.body,mxResources.get("exporting"),mxUtils.bind(this,function($err$$){Editor.addRetryToError($err$$,mxUtils.bind(this,function(){this.exportSvg($scale$$,$transparentBackground$$,$ignoreSelection$$,$addShadow$$,$editable$$,$embedImages$$,$border$$,
$noCrop$$,$currentPage$$,$linkTarget$$,$theme$$,$exportType$$,$embedFonts$$,$saveFn$$)}));this.handleError($err$$)})))try{var $selectionEmpty$$=this.editor.graph.isSelectionEmpty();$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:$selectionEmpty$$;var $bg$$=$transparentBackground$$?null:this.editor.graph.background;$bg$$==mxConstants.NONE&&($bg$$=null);null==$bg$$&&0==$transparentBackground$$&&($bg$$="dark"!=$theme$$||Editor.enableCssDarkMode?"#ffffff":Editor.darkColor);var $graphAddForeignObjectWarning$$=
this.editor.graph.addForeignObjectWarning;Editor.foreignObjectImages&&(this.editor.graph.addForeignObjectWarning=function(){});var $svgRoot$jscomp$0$$=this.editor.graph.getSvg($bg$$,$scale$$,$border$$,$noCrop$$,null,$ignoreSelection$$,null,null,"blank"==$linkTarget$$?"_blank":"self"==$linkTarget$$?"_top":null,null,!$embedFonts$$,$theme$$,$exportType$$);this.editor.graph.addForeignObjectWarning=$graphAddForeignObjectWarning$$;$addShadow$$&&this.editor.graph.addSvgShadow($svgRoot$jscomp$0$$);var $filename$$=
this.getBaseFilename()+($editable$$?".drawio":"")+".svg";$saveFn$$=null!=$saveFn$$?$saveFn$$:mxUtils.bind(this,function($svg$$){this.isLocalFileSave()||$svg$$.length<=MAX_REQUEST_SIZE?this.saveData($filename$$,"svg",$svg$$,"image/svg+xml"):this.handleError({message:mxResources.get("drawingTooLarge")},mxResources.get("error"),mxUtils.bind(this,function(){mxUtils.popup($svg$$)}))});var $doSave$$=mxUtils.bind(this,function($svgRoot$$){this.spinner.stop();$editable$$&&$svgRoot$$.setAttribute("content",
this.getFileData(!0,null,null,null,$ignoreSelection$$,$currentPage$$,null,null,null,null,null,$scale$$,$border$$));$saveFn$$(Graph.xmlDeclaration+"\n"+($editable$$?Graph.svgFileComment+"\n":"")+Graph.svgDoctype+"\n"+mxUtils.getXml($svgRoot$$))});this.editor.graph.mathEnabled&&this.editor.addMathCss($svgRoot$jscomp$0$$);var $processResult$$=mxUtils.bind(this,function($svgRoot$$){Editor.replaceSvgDataUris&&$embedImages$$&&this.embedSvgImages($svgRoot$$);Editor.foreignObjectImages&&$embedFonts$$?this.replaceAlternateContent($svgRoot$$,
$theme$$,$doSave$$):$doSave$$($svgRoot$$)});Editor.replaceSvgDataUris&&$embedImages$$&&null!=this.editor.graph.backgroundImage&&null!=this.editor.graph.backgroundImage.originalSrc&&this.embedSvgImages($svgRoot$jscomp$0$$);var $done$$=mxUtils.bind(this,function($svgRoot$$){$embedImages$$&&!this.isOffline()&&this.canvasSupported?(null==this.thumbImageCache&&(this.thumbImageCache={}),this.editor.convertImages($svgRoot$$,$processResult$$,this.thumbImageCache)):$processResult$$($svgRoot$$)});$embedFonts$$?
this.embedFonts($svgRoot$jscomp$0$$,$done$$):(this.editor.addFontCss($svgRoot$jscomp$0$$),$done$$($svgRoot$jscomp$0$$))}catch($e$$){this.handleError($e$$)}};EditorUi.prototype.replaceAlternateContent=function($root$$,$styles$jscomp$5_switches_theme$$,$callback$$){function $replaceElt$$($switchElt$$,$x$$,$y$$,$size$$,$src$$){var $node$$=mxUtils.createElementNs($root$$.ownerDocument,mxConstants.NS_SVG,"image");$node$$.setAttribute("x",$x$$);$node$$.setAttribute("y",$y$$+.5);$node$$.setAttribute("width",
$size$$.width);$node$$.setAttribute("height",$size$$.height);null==$node$$.setAttributeNS?$node$$.setAttribute("xlink:href",$src$$):$node$$.setAttributeNS(mxConstants.NS_XLINK,"xlink:href",$src$$);$switchElt$$.replaceChild($node$$,$switchElt$$.lastChild);$done$$()}function $next$jscomp$0$$(){if($i$$<$convert$$.length)$convert$$[$i$$++]($next$jscomp$0$$)}var $css$$="";$styles$jscomp$5_switches_theme$$=$root$$.getElementsByTagName("style");for(var $i$$=0;$i$$<$styles$jscomp$5_switches_theme$$.length;$i$$++)$css$$+=
$styles$jscomp$5_switches_theme$$[$i$$].innerHTML;$styles$jscomp$5_switches_theme$$=$root$$.getElementsByTagName("switch");counter=$styles$jscomp$5_switches_theme$$.length;var $done$$=mxUtils.bind(this,function(){counter--;0==counter&&$callback$$($root$$)}),$sizeCache$$={},$imgCache$$={},$convert$$=[];for($i$$=0;$i$$<$styles$jscomp$5_switches_theme$$.length;$i$$++)mxUtils.bind(this,function($switchElt$$){var $divs$$=$switchElt$$.getElementsByTagName("div");if(0<$divs$$.length)try{var $temp$$=$divs$$[0].cloneNode(!0),
$x$$=parseInt($temp$$.style.marginLeft),$y$$=parseInt($temp$$.style.paddingTop),$measure$$=$temp$$.getElementsByTagName("div")[1],$vertical$$=$divs$$=!1,$alignItems$$=$temp$$.style.alignItems,$justifyContent$$=$temp$$.style.justifyContent;if(null!=$temp$$.style.writingMode){var $w$$=$temp$$.style.writingMode;$vertical$$="vertical-"==$w$$.substring(0,9);$divs$$="-rl"==$w$$.substring($w$$.length-3)}var $h$$=!$vertical$$&&"1px"==$temp$$.style.width||$vertical$$&&"1px"==$temp$$.style.height;if(!$vertical$$&&
"1px"==$temp$$.style.height||$vertical$$&&"1px"==$temp$$.style.width)$temp$$.style.alignItems=$vertical$$&&$divs$$?"unsafe flex-end":"unsafe flex-start";$h$$&&($temp$$.style.justifyContent="unsafe flex-start");$temp$$.style.paddingTop="";$temp$$.style.marginLeft="";var $html$$=$temp$$.outerHTML,$size$$=$sizeCache$$[$html$$];null==$size$$&&($temp$$.style.position="absolute",$temp$$.style.visibility="hidden",document.body.appendChild($temp$$),$w$$=1,$w$$="1px"==$temp$$.style.width?$measure$$.offsetWidth:
parseInt($temp$$.style.width),$h$$=1,$h$$="1px"==$temp$$.style.height?$measure$$.offsetHeight:parseInt($temp$$.style.height),document.body.removeChild($temp$$),$size$$=new mxRectangle($x$$,$y$$,$w$$,$h$$),$sizeCache$$[$html$$]=$size$$);"1px"==$temp$$.style.height&&("unsafe center"==$alignItems$$?$y$$-=$size$$.height/2:"unsafe flex-end"==$alignItems$$&&($y$$-=$size$$.height));if("1px"==$temp$$.style.width)if(!$vertical$$&&"unsafe center"==$justifyContent$$||$vertical$$&&"unsafe center"==$alignItems$$)$x$$-=
$size$$.width/2;else if(!$vertical$$&&"unsafe flex-end"==$justifyContent$$||$vertical$$&&(!$divs$$&&"unsafe flex-end"==$alignItems$$||$divs$$&&"unsafe flex-start"==$alignItems$$))$x$$-=$size$$.width;$size$$.height+=parseInt($measure$$.style.fontSize)/4;$convert$$.push(mxUtils.bind(this,function($next$$){var $cachedSrc$$=$imgCache$$[$html$$];null==$cachedSrc$$?Graph.htmlToPng($html$$,$size$$.width,$size$$.height,mxUtils.bind(this,function($src$$){$replaceElt$$($switchElt$$,$x$$,$y$$,$size$$,$src$$);
$imgCache$$[$html$$]=$src$$;$next$$()}),$css$$):($replaceElt$$($switchElt$$,$x$$,$y$$,$size$$,$cachedSrc$$),$next$$())}))}catch($e$$){$done$$()}else $done$$()})($styles$jscomp$5_switches_theme$$[$i$$]);0==counter&&$callback$$($root$$);$i$$=0;$next$jscomp$0$$()};EditorUi.prototype.embedSvgImages=function($imgs$jscomp$2_root$$){var $href$jscomp$17_temp$$=$imgs$jscomp$2_root$$.getElementsByTagName("image");$imgs$jscomp$2_root$$=[];for(var $i$$=0;$i$$<$href$jscomp$17_temp$$.length;$i$$++)$imgs$jscomp$2_root$$.push($href$jscomp$17_temp$$[$i$$]);
for($i$$=0;$i$$<$imgs$jscomp$2_root$$.length;$i$$++)try{var $node$$=$imgs$jscomp$2_root$$[$i$$];$href$jscomp$17_temp$$=null;$href$jscomp$17_temp$$=null==$node$$.getAttributeNS?$node$$.getAttribute("xlink:href"):$node$$.getAttributeNS(mxConstants.NS_XLINK,"href");var $svg$$=this.getSvgSubtree($href$jscomp$17_temp$$);null!=$svg$$&&($svg$$.setAttribute("x",$node$$.getAttribute("x")),$svg$$.setAttribute("y",$node$$.getAttribute("y")),$svg$$.setAttribute("width",$node$$.getAttribute("width")),$svg$$.setAttribute("height",
$node$$.getAttribute("height")),$node$$.parentNode.replaceChild($svg$$,$node$$))}catch($e$$){}};EditorUi.prototype.getSvgSubtree=function($href$jscomp$18_svg$$){var $data$jscomp$146_styles$$=Graph.getSvgFromDataUri($href$jscomp$18_svg$$);$href$jscomp$18_svg$$=null;if(null!=$data$jscomp$146_styles$$&&($href$jscomp$18_svg$$=mxUtils.parseXml($data$jscomp$146_styles$$).documentElement,$data$jscomp$146_styles$$=$href$jscomp$18_svg$$.getElementsByTagName("style"),0<$data$jscomp$146_styles$$.length)){var $id$$=
"svg-image-"+Editor.guid();$href$jscomp$18_svg$$.setAttribute("id",$id$$);for(var $doc$$=document.implementation.createHTMLDocument(""),$styleElement$$=document.createElement("style"),$j$$=0;$j$$<$data$jscomp$146_styles$$.length;$j$$++){$styleElement$$.textContent=$data$jscomp$146_styles$$[$j$$].textContent;$doc$$.body.appendChild($styleElement$$);for(var $modifiedCss$$="",$k$$=0;$k$$<$styleElement$$.sheet.cssRules.length;$k$$++){var $rule$$=$styleElement$$.sheet.cssRules[$k$$];if(null!=$rule$$.selectorText){for(var $tokens$$=
$rule$$.selectorText.split(","),$l$$=0;$l$$<$tokens$$.length;$l$$++)$tokens$$[$l$$]="#"+$id$$+" "+$tokens$$[$l$$];$rule$$.selectorText=$tokens$$.join(",");$modifiedCss$$+=$rule$$.cssText+"\n"}}$data$jscomp$146_styles$$[$j$$].textContent=$modifiedCss$$}}return $href$jscomp$18_svg$$};EditorUi.prototype.addRadiobox=function($div$$,$radioGroupName$$,$label$$,$checked$$,$disabled$$,$disableNewline$$,$visible$$){return this.addCheckbox($div$$,$label$$,$checked$$,$disabled$$,$disableNewline$$,$visible$$,
!0,$radioGroupName$$)};EditorUi.prototype.addCheckbox=function($div$$,$label$$,$checked$$,$disabled$$,$disableNewline$$,$visible$$,$asRadio_id$$,$radioGroupName$$){$visible$$=null!=$visible$$?$visible$$:!0;var $cb$$=document.createElement("input");$cb$$.style.marginRight="8px";$cb$$.style.marginTop="16px";$cb$$.setAttribute("type",$asRadio_id$$?"radio":"checkbox");$asRadio_id$$="geCheckbox-"+Editor.guid();$cb$$.id=$asRadio_id$$;null!=$radioGroupName$$&&$cb$$.setAttribute("name",$radioGroupName$$);
$checked$$&&($cb$$.setAttribute("checked","checked"),$cb$$.defaultChecked=!0);$disabled$$&&$cb$$.setAttribute("disabled","disabled");$visible$$&&($div$$.appendChild($cb$$),$checked$$=document.createElement("label"),mxUtils.write($checked$$,$label$$),$checked$$.setAttribute("for",$asRadio_id$$),$div$$.appendChild($checked$$),$disableNewline$$||mxUtils.br($div$$));return $cb$$};EditorUi.prototype.addEditButton=function($div$$,$lightbox$$){var $edit$$=this.addCheckbox($div$$,mxResources.get("edit")+
":",!0,null,!0);$edit$$.style.marginLeft="24px";var $blankOption_customOption_file$$=this.getCurrentFile(),$editUrl$$="";null!=$blankOption_customOption_file$$&&$blankOption_customOption_file$$.getMode()!=App.MODE_DEVICE&&$blankOption_customOption_file$$.getMode()!=App.MODE_BROWSER&&($editUrl$$=window.location.href);var $editSelect$$=document.createElement("select");$editSelect$$.style.maxWidth="200px";$editSelect$$.style.width="auto";$editSelect$$.style.marginLeft="8px";$editSelect$$.style.marginRight=
"10px";$editSelect$$.className="geBtn";$blankOption_customOption_file$$=document.createElement("option");$blankOption_customOption_file$$.setAttribute("value","blank");mxUtils.write($blankOption_customOption_file$$,mxResources.get("makeCopy"));$editSelect$$.appendChild($blankOption_customOption_file$$);$blankOption_customOption_file$$=document.createElement("option");$blankOption_customOption_file$$.setAttribute("value","custom");mxUtils.write($blankOption_customOption_file$$,mxResources.get("custom")+
"...");$editSelect$$.appendChild($blankOption_customOption_file$$);$div$$.appendChild($editSelect$$);mxEvent.addListener($editSelect$$,"change",mxUtils.bind(this,function(){if("custom"==$editSelect$$.value){var $dlg2$$=new FilenameDialog(this,$editUrl$$,mxResources.get("ok"),function($value$$){null!=$value$$?$editUrl$$=$value$$:$editSelect$$.value="blank"},mxResources.get("url"),null,null,null,null,function(){$editSelect$$.value="blank"});this.showDialog($dlg2$$.container,300,80,!0,!1);$dlg2$$.init()}}));
mxEvent.addListener($edit$$,"change",mxUtils.bind(this,function(){$edit$$.checked&&(null==$lightbox$$||$lightbox$$.checked)?$editSelect$$.removeAttribute("disabled"):$editSelect$$.setAttribute("disabled","disabled")}));mxUtils.br($div$$);return{getLink:function(){return $edit$$.checked?"blank"===$editSelect$$.value?"_blank":$editUrl$$:null},getEditInput:function(){return $edit$$},getEditSelect:function(){return $editSelect$$}}};EditorUi.prototype.addLinkSection=function($div$jscomp$0$$,$frameOption_showFrameOption$$){function $updateLinkColor$$(){var $div$$=
document.createElement("div");$div$$.style.width="100%";$div$$.style.height="100%";$div$$.style.boxSizing="border-box";null!=$linkColor$$&&$linkColor$$!=mxConstants.NONE?($div$$.style.border="1px solid black",$div$$.style.backgroundColor=$linkColor$$):($div$$.style.backgroundPosition="center center",$div$$.style.backgroundRepeat="no-repeat",$div$$.style.backgroundImage="url('"+Dialog.prototype.closeImage+"')");$linkButton$$.innerText="";$linkButton$$.appendChild($div$$)}mxUtils.write($div$jscomp$0$$,
mxResources.get("links")+":");var $linkSelect$$=document.createElement("select");$linkSelect$$.style.width="100px";$linkSelect$$.style.padding="0px";$linkSelect$$.style.marginLeft="8px";$linkSelect$$.style.marginRight="10px";$linkSelect$$.className="geBtn";var $autoOption_blankOption$$=document.createElement("option");$autoOption_blankOption$$.setAttribute("value","auto");mxUtils.write($autoOption_blankOption$$,mxResources.get("automatic"));$linkSelect$$.appendChild($autoOption_blankOption$$);$autoOption_blankOption$$=
document.createElement("option");$autoOption_blankOption$$.setAttribute("value","blank");mxUtils.write($autoOption_blankOption$$,mxResources.get("openInNewWindow"));$linkSelect$$.appendChild($autoOption_blankOption$$);$autoOption_blankOption$$=document.createElement("option");$autoOption_blankOption$$.setAttribute("value","self");mxUtils.write($autoOption_blankOption$$,mxResources.get("openInThisWindow"));$linkSelect$$.appendChild($autoOption_blankOption$$);$frameOption_showFrameOption$$&&($frameOption_showFrameOption$$=
document.createElement("option"),$frameOption_showFrameOption$$.setAttribute("value","frame"),mxUtils.write($frameOption_showFrameOption$$,mxResources.get("openInThisWindow")+" ("+mxResources.get("iframe")+")"),$linkSelect$$.appendChild($frameOption_showFrameOption$$));$div$jscomp$0$$.appendChild($linkSelect$$);mxUtils.write($div$jscomp$0$$,mxResources.get("borderColor")+":");var $linkColor$$="#0000ff",$linkButton$$=null;$linkButton$$=mxUtils.button("",mxUtils.bind(this,function($evt$$){this.pickColor($linkColor$$||
"none",function($color$$){$linkColor$$=$color$$;$updateLinkColor$$()});mxEvent.consume($evt$$)}));$updateLinkColor$$();$linkButton$$.style.padding=mxClient.IS_FF?"4px 2px 4px 2px":"4px";$linkButton$$.style.marginLeft="4px";$linkButton$$.style.height="22px";$linkButton$$.style.width="22px";$linkButton$$.style.position="relative";$linkButton$$.style.top=mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_EDGE?"6px":"1px";$linkButton$$.className="geColorBtn";$div$jscomp$0$$.appendChild($linkButton$$);mxUtils.br($div$jscomp$0$$);
return{getColor:function(){return $linkColor$$},getTarget:function(){return $linkSelect$$.value},focus:function(){$linkSelect$$.focus()}}};EditorUi.prototype.createUrlParameters=function($linkTarget$$,$linkColor$$,$allPages$$,$lightbox$$,$editLink$$,$layers$$,$params$$){$params$$=null!=$params$$?$params$$:[];$lightbox$$&&("https://viewer.diagrams.net"==EditorUi.lightboxHost&&"1"!=urlParams.dev||$params$$.push("lightbox=1"),"auto"!=$linkTarget$$&&$params$$.push("target="+$linkTarget$$),null!=$linkColor$$&&
$linkColor$$!=mxConstants.NONE&&$params$$.push("highlight="+("#"==$linkColor$$.charAt(0)?$linkColor$$.substring(1):$linkColor$$)),null!=$editLink$$&&0<$editLink$$.length&&$params$$.push("edit="+encodeURIComponent($editLink$$)),$layers$$&&$params$$.push("layers=1"),this.editor.graph.foldingEnabled&&$params$$.push("nav=1"));$allPages$$&&null!=this.currentPage&&null!=this.pages&&this.currentPage!=this.pages[0]&&$params$$.push("page-id="+this.currentPage.getId());return $params$$};EditorUi.prototype.createLink=
function($file$jscomp$23_linkTarget$$,$addTitle_linkColor$$,$allPages$jscomp$2_data$$,$lightbox$$,$editLink$$,$layers$$,$url$$,$ignoreFile$$,$params$$,$useOpenParameter$$){$params$$=this.createUrlParameters($file$jscomp$23_linkTarget$$,$addTitle_linkColor$$,$allPages$jscomp$2_data$$,$lightbox$$,$editLink$$,$layers$$,$params$$);$file$jscomp$23_linkTarget$$=this.getCurrentFile();$addTitle_linkColor$$=!0;null!=$url$$?$allPages$jscomp$2_data$$="#U"+encodeURIComponent($url$$):($file$jscomp$23_linkTarget$$=
this.getCurrentFile(),$ignoreFile$$||null==$file$jscomp$23_linkTarget$$||$file$jscomp$23_linkTarget$$.constructor!=window.DriveFile?$allPages$jscomp$2_data$$="#R"+encodeURIComponent($allPages$jscomp$2_data$$?this.getFileData(!0,null,null,null,null,null,null,!0,null,!1):Graph.compress(mxUtils.getXml(this.editor.getGraphXml()))):($allPages$jscomp$2_data$$="#"+$file$jscomp$23_linkTarget$$.getHash(),$addTitle_linkColor$$=!1));$addTitle_linkColor$$&&null!=$file$jscomp$23_linkTarget$$&&null!=$file$jscomp$23_linkTarget$$.getTitle()&&
$file$jscomp$23_linkTarget$$.getTitle()!=this.defaultFilename&&$params$$.push("title="+encodeURIComponent($file$jscomp$23_linkTarget$$.getTitle()));$useOpenParameter$$&&1<$allPages$jscomp$2_data$$.length&&($params$$.push("open="+$allPages$jscomp$2_data$$.substring(1)),$allPages$jscomp$2_data$$="");return($lightbox$$&&"1"!=urlParams.dev?EditorUi.lightboxHost:mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||!/.*\.draw\.io$/.test(window.location.hostname)?EditorUi.drawHost:"https://"+window.location.host)+
"/"+(0<$params$$.length?"?"+$params$$.join("&"):"")+$allPages$jscomp$2_data$$};EditorUi.prototype.createHtml=function($fetchParam_publicUrl$$,$value$$,$initialZoom_tb$$,$linkTarget$$,$linkColor$$,$fit$$,$allPages$$,$layers$$,$tags$$,$lightbox$$,$editLink$$,$fn$$){this.getBasenames();var $data$$={};""!=$linkColor$$&&$linkColor$$!=mxConstants.NONE&&($data$$.highlight=$linkColor$$);"auto"!==$linkTarget$$&&($data$$.target=$linkTarget$$);$lightbox$$||($data$$.lightbox=!1);$data$$.nav=this.editor.graph.foldingEnabled;
$initialZoom_tb$$=parseInt($initialZoom_tb$$);isNaN($initialZoom_tb$$)||100==$initialZoom_tb$$||($data$$.zoom=$initialZoom_tb$$/100);$initialZoom_tb$$=[];$allPages$$&&($initialZoom_tb$$.push("pages"),$data$$.resize=!0,null!=this.pages&&null!=this.currentPage&&($data$$.page=mxUtils.indexOf(this.pages,this.currentPage)));$value$$&&($initialZoom_tb$$.push("zoom"),$data$$.resize=!0);$layers$$&&$initialZoom_tb$$.push("layers");$tags$$&&$initialZoom_tb$$.push("tags");0<$initialZoom_tb$$.length&&($lightbox$$&&
$initialZoom_tb$$.push("lightbox"),$data$$.toolbar=$initialZoom_tb$$.join(" "));null!=$editLink$$&&0<$editLink$$.length&&($data$$.edit=$editLink$$);null!=$fetchParam_publicUrl$$?$data$$.url=$fetchParam_publicUrl$$:$data$$.xml=this.getFileData(!0,null,null,null,null,!$allPages$$);$value$$='<div class="mxgraph" style="'+($fit$$?"max-width:100%;":"")+(""!=$initialZoom_tb$$?"border:1px solid transparent;":"")+'" data-mxgraph="'+mxUtils.htmlEntities(JSON.stringify($data$$))+'"></div>';$fetchParam_publicUrl$$=
null!=$fetchParam_publicUrl$$?"&fetch="+encodeURIComponent($fetchParam_publicUrl$$):"";$fn$$($value$$,'<script type="text/javascript" src="'+(0<$fetchParam_publicUrl$$.length?("1"==urlParams.dev?"https://test.draw.io/embed2.js?dev=1":EditorUi.lightboxHost+"/embed2.js?")+$fetchParam_publicUrl$$:"1"==urlParams.dev?"https://test.draw.io/js/viewer-static.min.js":window.DRAWIO_VIEWER_URL?window.DRAWIO_VIEWER_URL:EditorUi.lightboxHost+"/js/viewer-static.min.js")+'">\x3c/script>')};EditorUi.prototype.showHtmlDialog=
function($btnLabel$jscomp$1_dlg$$,$helpLink$$,$publicUrl$$,$fn$$){var $div$$=document.createElement("div");$div$$.style.whiteSpace="nowrap";var $copyRadio_hd$$=document.createElement("h3");mxUtils.write($copyRadio_hd$$,mxResources.get("html"));$copyRadio_hd$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:12px";$div$$.appendChild($copyRadio_hd$$);var $h$$=document.createElement("div");$h$$.style.cssText="border-bottom:1px solid lightGray;padding-bottom:8px;margin-bottom:12px;";
var $publicUrlRadio$$=document.createElement("input");$publicUrlRadio$$.style.cssText="margin-right:8px;margin-top:8px;margin-bottom:8px;";$publicUrlRadio$$.setAttribute("value","url");$publicUrlRadio$$.setAttribute("type","radio");$publicUrlRadio$$.setAttribute("name","type-embedhtmldialog");$copyRadio_hd$$=$publicUrlRadio$$.cloneNode(!0);$copyRadio_hd$$.setAttribute("value","copy");$h$$.appendChild($copyRadio_hd$$);var $span$$=document.createElement("span");mxUtils.write($span$$,mxResources.get("includeCopyOfMyDiagram"));
$h$$.appendChild($span$$);mxUtils.br($h$$);$h$$.appendChild($publicUrlRadio$$);$span$$=document.createElement("span");mxUtils.write($span$$,mxResources.get("publicDiagramUrl"));$h$$.appendChild($span$$);var $file$$=this.getCurrentFile();null==$publicUrl$$&&null!=$file$$&&$file$$.constructor==window.DriveFile&&($span$$=document.createElement("a"),$span$$.style.paddingLeft="12px",$span$$.style.color="gray",$span$$.style.cursor="pointer",mxUtils.write($span$$,mxResources.get("share")),$h$$.appendChild($span$$),
mxEvent.addListener($span$$,"click",mxUtils.bind(this,function(){this.hideDialog();this.drive.showPermissions($file$$.getId(),$file$$)})));$copyRadio_hd$$.setAttribute("checked","checked");null==$publicUrl$$&&$publicUrlRadio$$.setAttribute("disabled","disabled");$div$$.appendChild($h$$);var $linkSection$$=this.addLinkSection($div$$),$zoom$$=this.addCheckbox($div$$,mxResources.get("zoom"),!0,null,!0);mxUtils.write($div$$,":");var $zoomInput$$=document.createElement("input");$zoomInput$$.setAttribute("type",
"text");$zoomInput$$.style.marginRight="16px";$zoomInput$$.style.width="60px";$zoomInput$$.style.marginLeft="4px";$zoomInput$$.style.marginRight="12px";$zoomInput$$.value="100%";$div$$.appendChild($zoomInput$$);var $fit$$=this.addCheckbox($div$$,mxResources.get("fit"),!0);$h$$=null!=this.pages&&1<this.pages.length;var $allPages$$=$allPages$$=this.addCheckbox($div$$,mxResources.get("allPages"),$h$$,!$h$$),$layers$$=this.addCheckbox($div$$,mxResources.get("layers"),!0),$tags$$=this.addCheckbox($div$$,
mxResources.get("tags"),!0),$lightbox$$=this.addCheckbox($div$$,mxResources.get("lightbox"),!0),$editSection$$=null;$h$$=380;if(EditorUi.enableHtmlEditOption){$editSection$$=this.addEditButton($div$$,$lightbox$$);var $edit$$=$editSection$$.getEditInput();$edit$$.style.marginBottom="16px";$h$$+=50;mxEvent.addListener($lightbox$$,"change",function(){$lightbox$$.checked?$edit$$.removeAttribute("disabled"):$edit$$.setAttribute("disabled","disabled");$edit$$.checked&&$lightbox$$.checked?$editSection$$.getEditSelect().removeAttribute("disabled"):
$editSection$$.getEditSelect().setAttribute("disabled","disabled")})}$btnLabel$jscomp$1_dlg$$=new CustomDialog(this,$div$$,mxUtils.bind(this,function(){$fn$$($publicUrlRadio$$.checked?$publicUrl$$:null,$zoom$$.checked,$zoomInput$$.value,$linkSection$$.getTarget(),$linkSection$$.getColor(),$fit$$.checked,$allPages$$.checked,$layers$$.checked,$tags$$.checked,$lightbox$$.checked,null!=$editSection$$?$editSection$$.getLink():null)}),null,$btnLabel$jscomp$1_dlg$$,$helpLink$$);this.showDialog($btnLabel$jscomp$1_dlg$$.container,
340,$h$$,!0,!0);$copyRadio_hd$$.focus()};EditorUi.prototype.showPublishLinkDialog=function($dy$jscomp$62_title$$,$dlg$$,$hasPages$jscomp$1_width$$,$height$$,$fn$$,$showFrameOption$$,$helpLink$$,$footer$$){var $div$$=document.createElement("div");$div$$.style.whiteSpace="nowrap";var $hd$$=document.createElement("h3");mxUtils.write($hd$$,$dy$jscomp$62_title$$||mxResources.get("publish"));$hd$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:12px";$div$$.appendChild($hd$$);var $file$$=
this.getCurrentFile();$dy$jscomp$62_title$$=0;if(null==$file$$||$file$$.constructor!=window.DriveFile||$dlg$$)$helpLink$$=null!=$helpLink$$?$helpLink$$:"https://www.drawio.com/doc/faq/publish-diagram-as-link";else{$dy$jscomp$62_title$$=80;$helpLink$$=null!=$helpLink$$?$helpLink$$:"https://www.drawio.com/doc/faq/google-drive-publicly-publish-diagram";$hd$$=document.createElement("div");$hd$$.style.cssText="border-bottom:1px solid lightGray;padding-bottom:14px;padding-top:6px;margin-bottom:14px;text-align:center;";
var $shareBtn_testLink$jscomp$1_text$$=document.createElement("div");$shareBtn_testLink$jscomp$1_text$$.style.whiteSpace="normal";mxUtils.write($shareBtn_testLink$jscomp$1_text$$,mxResources.get("linkAccountRequired"));$hd$$.appendChild($shareBtn_testLink$jscomp$1_text$$);$shareBtn_testLink$jscomp$1_text$$=mxUtils.button(mxResources.get("share"),mxUtils.bind(this,function(){this.drive.showPermissions($file$$.getId(),$file$$)}));$shareBtn_testLink$jscomp$1_text$$.style.marginTop="12px";$shareBtn_testLink$jscomp$1_text$$.className=
"geBtn";$hd$$.appendChild($shareBtn_testLink$jscomp$1_text$$);$div$$.appendChild($hd$$);$shareBtn_testLink$jscomp$1_text$$=document.createElement("a");$shareBtn_testLink$jscomp$1_text$$.style.paddingLeft="12px";$shareBtn_testLink$jscomp$1_text$$.style.color="gray";$shareBtn_testLink$jscomp$1_text$$.style.fontSize="11px";$shareBtn_testLink$jscomp$1_text$$.style.cursor="pointer";mxUtils.write($shareBtn_testLink$jscomp$1_text$$,mxResources.get("check"));$hd$$.appendChild($shareBtn_testLink$jscomp$1_text$$);
mxEvent.addListener($shareBtn_testLink$jscomp$1_text$$,"click",mxUtils.bind(this,function(){this.spinner.spin(document.body,mxResources.get("loading"))&&this.getPublicUrl(this.getCurrentFile(),mxUtils.bind(this,function($dlg$jscomp$29_url$$){this.spinner.stop();$dlg$jscomp$29_url$$=new ErrorDialog(this,null,mxResources.get(null!=$dlg$jscomp$29_url$$?"diagramIsPublic":"diagramIsNotPublic"),mxResources.get("ok"));this.showDialog($dlg$jscomp$29_url$$.container,300,80,!0,!1);$dlg$jscomp$29_url$$.init()}))}))}var $widthInput$$=
null,$heightInput$$=null;if(null!=$hasPages$jscomp$1_width$$||null!=$height$$)$dy$jscomp$62_title$$+=30,mxUtils.write($div$$,mxResources.get("width")+":"),$widthInput$$=document.createElement("input"),$widthInput$$.setAttribute("type","text"),$widthInput$$.style.marginRight="16px",$widthInput$$.style.width="50px",$widthInput$$.style.marginLeft="6px",$widthInput$$.style.marginRight="16px",$widthInput$$.style.marginBottom="10px",$widthInput$$.value="100%",$div$$.appendChild($widthInput$$),mxUtils.write($div$$,
mxResources.get("height")+":"),$heightInput$$=document.createElement("input"),$heightInput$$.setAttribute("type","text"),$heightInput$$.style.width="50px",$heightInput$$.style.marginLeft="6px",$heightInput$$.style.marginBottom="10px",$heightInput$$.value=$height$$+"px",$div$$.appendChild($heightInput$$),mxUtils.br($div$$);var $linkSection$$=this.addLinkSection($div$$,$showFrameOption$$);$hasPages$jscomp$1_width$$=null!=this.pages&&1<this.pages.length;var $allPages$$=null;if(null==$file$$||$file$$.constructor!=
window.DriveFile||$dlg$$)$allPages$$=this.addCheckbox($div$$,mxResources.get("allPages"),$hasPages$jscomp$1_width$$,!$hasPages$jscomp$1_width$$);var $lightbox$$=this.addCheckbox($div$$,mxResources.get("lightbox"),!0,null,null,!$showFrameOption$$),$editSection$$=this.addEditButton($div$$,$lightbox$$),$edit$$=$editSection$$.getEditInput();$showFrameOption$$&&($edit$$.style.marginLeft=$lightbox$$.style.marginLeft,$lightbox$$.style.display="none",$dy$jscomp$62_title$$-=20);var $layers$$=this.addCheckbox($div$$,
mxResources.get("layers"),!0);$layers$$.style.marginLeft=$edit$$.style.marginLeft;$layers$$.style.marginTop="8px";var $tags$$=this.addCheckbox($div$$,mxResources.get("tags"),!0);$tags$$.style.marginLeft=$edit$$.style.marginLeft;$tags$$.style.marginBottom="16px";$tags$$.style.marginTop="16px";mxEvent.addListener($lightbox$$,"change",function(){$lightbox$$.checked?($layers$$.removeAttribute("disabled"),$edit$$.removeAttribute("disabled")):($layers$$.setAttribute("disabled","disabled"),$edit$$.setAttribute("disabled",
"disabled"));$edit$$.checked&&$lightbox$$.checked?$editSection$$.getEditSelect().removeAttribute("disabled"):$editSection$$.getEditSelect().setAttribute("disabled","disabled")});$dlg$$=new CustomDialog(this,$div$$,mxUtils.bind(this,function(){$fn$$($linkSection$$.getTarget(),$linkSection$$.getColor(),null==$allPages$$?!0:$allPages$$.checked,$lightbox$$.checked,$editSection$$.getLink(),$layers$$.checked,null!=$widthInput$$?$widthInput$$.value:null,null!=$heightInput$$?$heightInput$$.value:null,$tags$$.checked)}),
null,mxResources.get("create"),$helpLink$$,$footer$$);this.showDialog($dlg$$.container,340,300+$dy$jscomp$62_title$$,!0,!0);null!=$widthInput$$?($widthInput$$.focus(),mxClient.IS_GC||mxClient.IS_FF||5<=document.documentMode?$widthInput$$.select():document.execCommand("selectAll",!1,null)):$linkSection$$.focus()};EditorUi.prototype.showRemoteExportDialog=function($btnLabel$jscomp$2_dlg$$,$helpLink$$,$callback$$,$hideInclude$$,$showZoomBorder$$){var $div$$=document.createElement("div");$div$$.style.whiteSpace=
"nowrap";var $graph$jscomp$86_hd$$=document.createElement("h3");mxUtils.write($graph$jscomp$86_hd$$,mxResources.get("image"));$graph$jscomp$86_hd$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:"+($showZoomBorder$$?"10":"4")+"px";$div$$.appendChild($graph$jscomp$86_hd$$);if($showZoomBorder$$){mxUtils.write($div$$,mxResources.get("zoom")+":");var $zoomInput$$=document.createElement("input");$zoomInput$$.setAttribute("type","text");$zoomInput$$.style.marginRight="16px";$zoomInput$$.style.width=
"60px";$zoomInput$$.style.marginLeft="4px";$zoomInput$$.style.marginRight="12px";$zoomInput$$.value=this.lastExportZoom||"100%";$div$$.appendChild($zoomInput$$);mxUtils.write($div$$,mxResources.get("borderWidth")+":");var $borderInput$$=document.createElement("input");$borderInput$$.setAttribute("type","text");$borderInput$$.style.marginRight="16px";$borderInput$$.style.width="60px";$borderInput$$.style.marginLeft="4px";$borderInput$$.value=this.lastExportBorder||"0";$div$$.appendChild($borderInput$$);
mxUtils.br($div$$)}var $selection$$=this.addCheckbox($div$$,mxResources.get("selectionOnly"),!1,this.editor.graph.isSelectionEmpty()),$include$$=$hideInclude$$?null:this.addCheckbox($div$$,mxResources.get("includeCopyOfMyDiagram"),Editor.defaultIncludeDiagram);$graph$jscomp$86_hd$$=this.editor.graph;var $transparent$$=$hideInclude$$?null:this.addCheckbox($div$$,mxResources.get("transparentBackground"),$graph$jscomp$86_hd$$.background==mxConstants.NONE||null==$graph$jscomp$86_hd$$.background);null!=
$transparent$$&&($transparent$$.style.marginBottom="16px");$btnLabel$jscomp$2_dlg$$=new CustomDialog(this,$div$$,mxUtils.bind(this,function(){var $scale$$=parseInt($zoomInput$$.value)/100||1,$border$$=parseInt($borderInput$$.value)||0;$callback$$(!$selection$$.checked,null!=$include$$?$include$$.checked:!1,null!=$transparent$$?$transparent$$.checked:!1,$scale$$,$border$$)}),null,$btnLabel$jscomp$2_dlg$$,$helpLink$$);this.showDialog($btnLabel$jscomp$2_dlg$$.container,300,($showZoomBorder$$?25:0)+($hideInclude$$?
125:210),!0,!0)};EditorUi.prototype.showExportDialog=function($autoOption$jscomp$1_sizes_title$$,$embedOption$$,$btnLabel$jscomp$3_dlg$$,$helpLink$$,$callback$$,$cropOption_lightOption$$,$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$,$format$$,$darkOption_exportOption$$){$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$=null!=$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$?$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$:Editor.defaultIncludeDiagram;var $div$$=
document.createElement("div");$div$$.style.whiteSpace="nowrap";var $graph$$=this.editor.graph,$height$$="jpeg"==$format$$||"webp"==$format$$?220:300,$hd$jscomp$5_i$$=document.createElement("h3");mxUtils.write($hd$jscomp$5_i$$,$autoOption$jscomp$1_sizes_title$$);$hd$jscomp$5_i$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:10px";$div$$.appendChild($hd$jscomp$5_i$$);mxUtils.write($div$$,mxResources.get("zoom")+":");var $zoomInput$$=document.createElement("input");$zoomInput$$.setAttribute("type",
"text");$zoomInput$$.style.marginRight="16px";$zoomInput$$.style.width="60px";$zoomInput$$.style.marginLeft="4px";$zoomInput$$.style.marginRight="12px";$zoomInput$$.value=this.lastExportZoom||"100%";$div$$.appendChild($zoomInput$$);mxUtils.write($div$$,mxResources.get("borderWidth")+":");var $borderInput$$=document.createElement("input");$borderInput$$.setAttribute("type","text");$borderInput$$.style.marginRight="16px";$borderInput$$.style.width="60px";$borderInput$$.style.marginLeft="4px";$borderInput$$.value=
this.lastExportBorder||"0";$div$$.appendChild($borderInput$$);mxUtils.br($div$$);var $selection$$=this.addCheckbox($div$$,mxResources.get("selectionOnly"),!1,$graph$$.isSelectionEmpty()),$cb6$$=document.createElement("input");$cb6$$.style.marginTop="16px";$cb6$$.style.marginRight="8px";$cb6$$.style.marginLeft="24px";$cb6$$.setAttribute("disabled","disabled");$cb6$$.setAttribute("type","checkbox");var $exportSelect$$=document.createElement("select");$exportSelect$$.style.marginTop="16px";$exportSelect$$.style.marginLeft=
"8px";$autoOption$jscomp$1_sizes_title$$=["selectionOnly","diagram","page"];for($hd$jscomp$5_i$$=0;$hd$jscomp$5_i$$<$autoOption$jscomp$1_sizes_title$$.length;$hd$jscomp$5_i$$++)if(!$graph$$.isSelectionEmpty()||"selectionOnly"!=$autoOption$jscomp$1_sizes_title$$[$hd$jscomp$5_i$$]){var $opt$$=document.createElement("option");mxUtils.write($opt$$,mxResources.get($autoOption$jscomp$1_sizes_title$$[$hd$jscomp$5_i$$]));$opt$$.setAttribute("value",$autoOption$jscomp$1_sizes_title$$[$hd$jscomp$5_i$$]);$exportSelect$$.appendChild($opt$$)}$darkOption_exportOption$$?
(mxUtils.write($div$$,mxResources.get("size")+":"),$div$$.appendChild($exportSelect$$),mxUtils.br($div$$),$height$$+=26,mxEvent.addListener($exportSelect$$,"change",function(){"selectionOnly"==$exportSelect$$.value&&($selection$$.checked=!0)})):$cropOption_lightOption$$&&($div$$.appendChild($cb6$$),mxUtils.write($div$$,mxResources.get("crop")),mxUtils.br($div$$),$height$$+=30,mxEvent.addListener($selection$$,"change",function(){$selection$$.checked?$cb6$$.removeAttribute("disabled"):$cb6$$.setAttribute("disabled",
"disabled")}));$graph$$.isSelectionEmpty()?$darkOption_exportOption$$&&($selection$$.style.display="none",$selection$$.nextSibling.style.display="none",$selection$$.nextSibling.nextSibling.style.display="none",$height$$-=30):($exportSelect$$.value="diagram",$cb6$$.setAttribute("checked","checked"),$cb6$$.defaultChecked=!0,mxEvent.addListener($selection$$,"change",function(){$exportSelect$$.value=$selection$$.checked?"selectionOnly":"diagram"}));var $transparent$$=this.addCheckbox($div$$,mxResources.get("transparentBackground"),
!1,null,null,"jpeg"!=$format$$&&"webp"!=$format$$),$themeSelect$$=null;if(Editor.isDarkMode()||Editor.enableCssDarkMode)$themeSelect$$=document.createElement("select"),$themeSelect$$.style.maxWidth="260px",$themeSelect$$.style.marginLeft="8px",$themeSelect$$.style.marginTop="16px",$cropOption_lightOption$$=document.createElement("option"),$cropOption_lightOption$$.setAttribute("value","light"),mxUtils.write($cropOption_lightOption$$,mxResources.get("light")),$themeSelect$$.appendChild($cropOption_lightOption$$),
$darkOption_exportOption$$=document.createElement("option"),$darkOption_exportOption$$.setAttribute("value","dark"),mxUtils.write($darkOption_exportOption$$,mxResources.get("dark")),$themeSelect$$.appendChild($darkOption_exportOption$$),Editor.enableCssDarkMode&&"svg"==$format$$&&($autoOption$jscomp$1_sizes_title$$=document.createElement("option"),$autoOption$jscomp$1_sizes_title$$.setAttribute("value","auto"),mxUtils.write($autoOption$jscomp$1_sizes_title$$,mxResources.get("automatic")),$themeSelect$$.appendChild($autoOption$jscomp$1_sizes_title$$)),
mxUtils.write($div$$,mxResources.get("appearance")+":"),$div$$.appendChild($themeSelect$$),mxUtils.br($div$$),Editor.isDarkMode()||Editor.cssDarkMode?$darkOption_exportOption$$.setAttribute("selected","selected"):$cropOption_lightOption$$.setAttribute("selected","selected"),$height$$+=26;var $shadow$$=this.addCheckbox($div$$,mxResources.get("shadow"),$graph$$.shadowVisible),$grid$$=null;if("png"==$format$$||"jpeg"==$format$$||"webp"==$format$$)$grid$$=this.addCheckbox($div$$,mxResources.get("grid"),
!1,this.isOffline()||!this.canvasSupported,!1,!0),$height$$+=30;var $include$$=this.addCheckbox($div$$,mxResources.get("includeCopyOfMyDiagram"),$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$,null,null,"jpeg"!=$format$$&&"webp"!=$format$$);$include$$.style.marginBottom="16px";var $cb5$$=document.createElement("input");$cb5$$.style.marginBottom="16px";$cb5$$.style.marginRight="8px";$cb5$$.setAttribute("type","checkbox");var $cb7$$=document.createElement("input");$cb7$$.style.marginBottom=
"16px";$cb7$$.style.marginRight="8px";$cb7$$.setAttribute("type","checkbox");$embedOption$$&&($cb5$$.checked=null!=this.lastEmbedImages?this.lastEmbedImages:!0,$div$$.appendChild($cb5$$),mxUtils.write($div$$,mxResources.get("embedImages")),mxUtils.br($div$$),$cb7$$.checked=null!=this.lastEmbedFonts?this.lastEmbedImages:!0,$div$$.appendChild($cb7$$),mxUtils.write($div$$,mxResources.get("embedFonts")),mxUtils.br($div$$),$height$$+=60);var $linkSelect$$=document.createElement("select");$linkSelect$$.style.maxWidth=
"260px";$linkSelect$$.style.marginLeft="8px";$autoOption$jscomp$1_sizes_title$$=document.createElement("option");$autoOption$jscomp$1_sizes_title$$.setAttribute("value","auto");mxUtils.write($autoOption$jscomp$1_sizes_title$$,mxResources.get("automatic"));$linkSelect$$.appendChild($autoOption$jscomp$1_sizes_title$$);$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$=document.createElement("option");$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$.setAttribute("value","blank");mxUtils.write($blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$,
mxResources.get("openInNewWindow"));$linkSelect$$.appendChild($blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$);$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$=document.createElement("option");$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$.setAttribute("value","self");mxUtils.write($blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$,mxResources.get("openInThisWindow"));$linkSelect$$.appendChild($blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$);$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$=
document.createElement("div");mxUtils.write($blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$,mxResources.get("LinksLost"));$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$.style.margin="7px";$blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$.style.display="none";"svg"==$format$$&&(mxUtils.write($div$$,mxResources.get("links")+":"),$div$$.appendChild($linkSelect$$),$div$$.appendChild($blankOption$jscomp$2_defaultInclude_linkLost_selfOption$$),mxUtils.br($div$$),mxUtils.br($div$$),
$height$$+=50);$btnLabel$jscomp$3_dlg$$=new CustomDialog(this,$div$$,mxUtils.bind(this,function(){this.lastExportBorder=$borderInput$$.value;this.lastExportZoom=$zoomInput$$.value;this.lastEmbedImages=$cb5$$.checked;this.lastEmbedFonts=$cb7$$.checked;$callback$$($zoomInput$$.value,$transparent$$.checked,!$selection$$.checked,$shadow$$.checked,$include$$.checked,$cb5$$.checked&&$embedOption$$,$borderInput$$.value,$cb6$$.checked,!1,$linkSelect$$.value,null!=$grid$$?$grid$$.checked:null,null!=$themeSelect$$?
$themeSelect$$.value:null,$exportSelect$$.value,$cb7$$.checked)}),null,$btnLabel$jscomp$3_dlg$$,$helpLink$$);this.showDialog($btnLabel$jscomp$3_dlg$$.container,340,$height$$,!0,!0,null,null,null,null,!0);$zoomInput$$.focus();mxClient.IS_GC||mxClient.IS_FF||5<=document.documentMode?$zoomInput$$.select():document.execCommand("selectAll",!1,null)};EditorUi.prototype.showEmbedImageDialog=function($fn$$,$dlg$jscomp$32_title$$,$imageLabel$$,$shadowEnabled$$,$helpLink$$){var $div$$=document.createElement("div");
$div$$.style.whiteSpace="nowrap";var $graph$$=this.editor.graph;if(null!=$dlg$jscomp$32_title$$){var $hd$$=document.createElement("h3");mxUtils.write($hd$$,$dlg$jscomp$32_title$$);$hd$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:4px";$div$$.appendChild($hd$$)}var $fit$$=this.addCheckbox($div$$,mxResources.get("fit"),!0),$shadow$$=this.addCheckbox($div$$,mxResources.get("shadow"),$graph$$.shadowVisible&&$shadowEnabled$$,!$shadowEnabled$$),$image$$=this.addCheckbox($div$$,
$imageLabel$$),$lightbox$$=this.addCheckbox($div$$,mxResources.get("lightbox"),!0),$editSection$$=this.addEditButton($div$$,$lightbox$$),$edit$$=$editSection$$.getEditInput(),$hasLayers$$=1<$graph$$.model.getChildCount($graph$$.model.getRoot()),$layers$$=this.addCheckbox($div$$,mxResources.get("layers"),$hasLayers$$,!$hasLayers$$);$layers$$.style.marginLeft=$edit$$.style.marginLeft;$layers$$.style.marginBottom="12px";$layers$$.style.marginTop="8px";mxEvent.addListener($lightbox$$,"change",function(){$lightbox$$.checked?
($hasLayers$$&&$layers$$.removeAttribute("disabled"),$edit$$.removeAttribute("disabled")):($layers$$.setAttribute("disabled","disabled"),$edit$$.setAttribute("disabled","disabled"));$edit$$.checked&&$lightbox$$.checked?$editSection$$.getEditSelect().removeAttribute("disabled"):$editSection$$.getEditSelect().setAttribute("disabled","disabled")});$dlg$jscomp$32_title$$=new CustomDialog(this,$div$$,mxUtils.bind(this,function(){$fn$$($fit$$.checked,$shadow$$.checked,$image$$.checked,$lightbox$$.checked,
$editSection$$.getLink(),$layers$$.checked)}),null,mxResources.get("embed"),$helpLink$$);this.showDialog($dlg$jscomp$32_title$$.container,280,300,!0,!0)};EditorUi.prototype.createEmbedImage=function($fit$$,$data$jscomp$149_shadow$$,$retina$$,$lightbox$$,$edit$$,$layers$$,$fn$$,$err$$){function $doUpdate$$($dataUri$$){var $onclick$$=" ",$css$$="";$lightbox$$&&($onclick$$=" onclick=\"(function(img){if(img.wnd!=null&&!img.wnd.closed){img.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&&evt.source==img.wnd){img.wnd.postMessage(decodeURIComponent(img.getAttribute('src')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);img.wnd=window.open('"+
EditorUi.lightboxHost+"/?client=1"+(null!=$page$$?"&page="+$page$$:"")+($edit$$?"&edit=_blank":"")+($layers$$?"&layers=1":"")+"');}})(this);\"",$css$$+="cursor:pointer;");$fit$$&&($css$$+="max-width:100%;");var $atts$$="";$retina$$&&($atts$$=' width="'+Math.round($bounds$$.width)+'" height="'+Math.round($bounds$$.height)+'"');$fn$$('<img src="'+$dataUri$$+'"'+$atts$$+(""!=$css$$?' style="'+$css$$+'"':"")+$onclick$$+"/>")}var $bounds$$=this.editor.graph.getGraphBounds(),$page$$=this.getSelectedPageIndex();
if(this.isExportToCanvas())this.editor.exportToCanvas(mxUtils.bind(this,function($canvas$jscomp$25_data$$){var $xml$$=$lightbox$$?this.getFileData(!0):null;$canvas$jscomp$25_data$$=this.createImageDataUri($canvas$jscomp$25_data$$,$xml$$,"png");$doUpdate$$($canvas$jscomp$25_data$$)}),null,null,null,mxUtils.bind(this,function($e$$){$err$$({message:mxResources.get("unknownError")})}),null,!0,$retina$$?2:1,null,$data$jscomp$149_shadow$$,null,null,Editor.defaultBorder);else if($data$jscomp$149_shadow$$=
this.getFileData(!0),$bounds$$.width*$bounds$$.height<=MAX_AREA&&$data$jscomp$149_shadow$$.length<=MAX_REQUEST_SIZE){var $size$$="";$retina$$&&($size$$="&w="+Math.round(2*$bounds$$.width)+"&h="+Math.round(2*$bounds$$.height));var $req$$=new mxXmlRequest(EXPORT_URL,"format=png&base64=1&embedXml="+($lightbox$$?"1":"0")+$size$$+"&xml="+encodeURIComponent($data$jscomp$149_shadow$$));$req$$.send(mxUtils.bind(this,function(){200<=$req$$.getStatus()&&299>=$req$$.getStatus()?$doUpdate$$("data:image/png;base64,"+
$req$$.getText()):$err$$({message:mxResources.get("unknownError")})}))}else $err$$({message:mxResources.get("drawingTooLarge")})};EditorUi.prototype.createEmbedSvg=function($fit$jscomp$5_w$$,$page$jscomp$12_shadow$$,$image$$,$lightbox$$,$edit$jscomp$7_h$$,$layers$$,$fn$$){var $svgRoot$jscomp$0$$=this.editor.graph.getSvg(null,null,null,null,null,null,null,null,null,null,!$image$$),$links$$=$svgRoot$jscomp$0$$.getElementsByTagName("a");if(null!=$links$$)for(var $i$$=0;$i$$<$links$$.length;$i$$++){var $href$$=
$links$$[$i$$].getAttribute("href");null!=$href$$&&"#"==$href$$.charAt(0)&&"_blank"==$links$$[$i$$].getAttribute("target")&&$links$$[$i$$].removeAttribute("target")}$lightbox$$&&$svgRoot$jscomp$0$$.setAttribute("content",this.getFileData(!0));$page$jscomp$12_shadow$$&&this.editor.graph.addSvgShadow($svgRoot$jscomp$0$$);if($image$$){var $onclick$$=" ",$css$$="";$lightbox$$&&($onclick$$="onclick=\"(function(img){if(img.wnd!=null&&!img.wnd.closed){img.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&&evt.source==img.wnd){img.wnd.postMessage(decodeURIComponent(img.getAttribute('src')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);img.wnd=window.open('"+
EditorUi.lightboxHost+"/?client=1"+($edit$jscomp$7_h$$?"&edit=_blank":"")+($layers$$?"&layers=1":"")+"');}})(this);\"",$css$$+="cursor:pointer;");$fit$jscomp$5_w$$&&($css$$+="max-width:100%;");this.editor.convertImages($svgRoot$jscomp$0$$,mxUtils.bind(this,function($svgRoot$$){$fn$$('<img src="'+Editor.createSvgDataUri(mxUtils.getXml($svgRoot$$))+'"'+(""!=$css$$?' style="'+$css$$+'"':"")+$onclick$$+"/>")}))}else $css$$="",$lightbox$$&&($page$jscomp$12_shadow$$=this.getSelectedPageIndex(),$svgRoot$jscomp$0$$.setAttribute("onclick",
"(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&&src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&&!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&&evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('"+EditorUi.lightboxHost+"/?client=1"+(null!=$page$jscomp$12_shadow$$?
"&page="+$page$jscomp$12_shadow$$:"")+($edit$jscomp$7_h$$?"&edit=_blank":"")+($layers$$?"&layers=1":"")+"');}}})(this);"),$css$$+="cursor:pointer;"),$fit$jscomp$5_w$$&&($fit$jscomp$5_w$$=parseInt($svgRoot$jscomp$0$$.getAttribute("width")),$edit$jscomp$7_h$$=parseInt($svgRoot$jscomp$0$$.getAttribute("height")),$svgRoot$jscomp$0$$.setAttribute("viewBox","-0.5 -0.5 "+$fit$jscomp$5_w$$+" "+$edit$jscomp$7_h$$),$css$$+="max-width:100%;max-height:"+$edit$jscomp$7_h$$+"px;",$svgRoot$jscomp$0$$.removeAttribute("height")),
""!=$css$$&&$svgRoot$jscomp$0$$.setAttribute("style",$css$$),this.editor.addFontCss($svgRoot$jscomp$0$$),this.editor.graph.mathEnabled&&this.editor.addMathCss($svgRoot$jscomp$0$$),$fn$$(mxUtils.getXml($svgRoot$jscomp$0$$))};EditorUi.prototype.timeSince=function($date$$){$date$$=Math.floor((new Date-$date$$)/1E3);var $interval$$=Math.floor($date$$/31536E3);if(1<$interval$$)return $interval$$+" "+mxResources.get("years");$interval$$=Math.floor($date$$/2592E3);if(1<$interval$$)return $interval$$+" "+
mxResources.get("months");$interval$$=Math.floor($date$$/86400);if(1<$interval$$)return $interval$$+" "+mxResources.get("days");$interval$$=Math.floor($date$$/3600);if(1<$interval$$)return $interval$$+" "+mxResources.get("hours");$interval$$=Math.floor($date$$/60);return 1<$interval$$?$interval$$+" "+mxResources.get("minutes"):1==$interval$$?$interval$$+" "+mxResources.get("minute"):null};EditorUi.prototype.decodeNodeIntoGraph=function($node$$,$graph$$){if(null!=$node$$){var $diagramNode$$=null;if("diagram"==
$node$$.nodeName)$diagramNode$$=$node$$;else if("mxfile"==$node$$.nodeName){var $diagrams$jscomp$1_prev$$=$node$$.getElementsByTagName("diagram");if(0<$diagrams$jscomp$1_prev$$.length){$diagramNode$$=$diagrams$jscomp$1_prev$$[0];var $graphGetGlobalVariable$$=$graph$$.getGlobalVariable;$graph$$.getGlobalVariable=function($name$$){return"page"==$name$$?$diagramNode$$.getAttribute("name")||mxResources.get("pageWithNumber",[1]):"pagenumber"==$name$$?1:$graphGetGlobalVariable$$.apply(this,arguments)}}}null!=
$diagramNode$$&&($node$$=Editor.parseDiagramNode($diagramNode$$))}$diagrams$jscomp$1_prev$$=this.editor.graph;try{this.editor.graph=$graph$$,this.editor.setGraphXml($node$$)}catch($e$$){}finally{this.editor.graph=$diagrams$jscomp$1_prev$$}return $node$$};EditorUi.prototype.getSvgFileProperties=function($node$$){return this.getPngFileProperties($node$$)};EditorUi.prototype.getPngFileProperties=function($node$$){var $scale$$=1,$border$$=0;if(null!=$node$$){if($node$$.hasAttribute("scale")){var $temp$$=
parseFloat($node$$.getAttribute("scale"));!isNaN($temp$$)&&0<$temp$$&&($scale$$=$temp$$)}$node$$.hasAttribute("border")&&($temp$$=parseInt($node$$.getAttribute("border")),!isNaN($temp$$)&&0<$temp$$&&($border$$=$temp$$))}return{scale:$scale$$,border:$border$$}};EditorUi.prototype.getEmbeddedPng=function($success$$,$error$$,$optionalData$$,$scale$$,$border$$){try{var $graph$$=this.editor.graph,$darkTheme$$=null!=$graph$$.themes&&"darkTheme"==$graph$$.defaultThemeName,$diagramData$$=null;if(null!=$optionalData$$&&
0<$optionalData$$.length)$graph$$=this.createTemporaryGraph($darkTheme$$?$graph$$.getDefaultStylesheet():$graph$$.getStylesheet()),document.body.appendChild($graph$$.container),this.decodeNodeIntoGraph(this.editor.extractGraphModel(mxUtils.parseXml($optionalData$$).documentElement,!0),$graph$$),$diagramData$$=$optionalData$$;else if($darkTheme$$||null!=this.pages&&this.currentPage!=this.pages[0]){$graph$$=this.createTemporaryGraph($darkTheme$$?$graph$$.getDefaultStylesheet():$graph$$.getStylesheet());
var $graphGetGlobalVariable$$=$graph$$.getGlobalVariable;$graph$$.setBackgroundImage=this.editor.graph.setBackgroundImage;var $page$$=this.pages[0];this.currentPage==$page$$?$graph$$.setBackgroundImage(this.editor.graph.backgroundImage):null!=$page$$.viewState&&null!=$page$$.viewState&&$graph$$.setBackgroundImage($page$$.viewState.backgroundImage);$graph$$.getGlobalVariable=function($name$$){return"page"==$name$$?$page$$.getName():"pagenumber"==$name$$?1:$graphGetGlobalVariable$$.apply(this,arguments)};
document.body.appendChild($graph$$.container);$graph$$.model.setRoot($page$$.root)}this.editor.exportToCanvas(mxUtils.bind(this,function($canvas$$){try{null==$diagramData$$&&($diagramData$$=this.getFileData(!0,null,null,null,null,null,null,null,null,!1));var $data$$=$canvas$$.toDataURL("image/png");$data$$=Editor.writeGraphModelToPng($data$$,"tEXt","mxfile",encodeURIComponent($diagramData$$));$success$$($data$$.substring($data$$.lastIndexOf(",")+1));$graph$$!=this.editor.graph&&$graph$$.container.parentNode.removeChild($graph$$.container)}catch($e$$){null!=
$error$$&&$error$$($e$$)}}),null,null,null,mxUtils.bind(this,function($e$$){null!=$error$$&&$error$$($e$$)}),null,null,$scale$$,null,$graph$$.shadowVisible,null,$graph$$,$border$$,null,null,null,"diagram",null)}catch($e$$){null!=$error$$&&$error$$($e$$)}};EditorUi.prototype.getEmbeddedSvg=function($xml$$,$graph$$,$url$$,$noHeader$$,$callback$$,$ignoreSelection$jscomp$13_svgRoot$$,$bg$jscomp$15_redirect$$,$embedImages$$,$background$$,$scale$$,$border$$,$shadow$$,$theme$$){$embedImages$$=null!=$embedImages$$?
$embedImages$$:!0;$border$$=null!=$border$$?$border$$:0;$bg$jscomp$15_redirect$$=null!=$background$$?$background$$:$graph$$.background;$bg$jscomp$15_redirect$$==mxConstants.NONE&&($bg$jscomp$15_redirect$$=null);$ignoreSelection$jscomp$13_svgRoot$$=$graph$$.getSvg($bg$jscomp$15_redirect$$,$scale$$,$border$$,null,null,$ignoreSelection$jscomp$13_svgRoot$$,null,null,null,$graph$$.shadowVisible||$shadow$$,null,$theme$$,"diagram");($graph$$.shadowVisible||$shadow$$)&&$graph$$.addSvgShadow($ignoreSelection$jscomp$13_svgRoot$$,
null,null,0==$border$$);null!=$xml$$&&$ignoreSelection$jscomp$13_svgRoot$$.setAttribute("content",$xml$$);null!=$url$$&&$ignoreSelection$jscomp$13_svgRoot$$.setAttribute("resource",$url$$);var $done$$=mxUtils.bind(this,function($result$jscomp$81_svgRoot$$){$result$jscomp$81_svgRoot$$=($noHeader$$?"":Graph.xmlDeclaration+"\n"+Graph.svgFileComment+"\n"+Graph.svgDoctype+"\n")+mxUtils.getXml($result$jscomp$81_svgRoot$$);null!=$callback$$&&$callback$$($result$jscomp$81_svgRoot$$);return $result$jscomp$81_svgRoot$$});
$graph$$.mathEnabled&&this.editor.addMathCss($ignoreSelection$jscomp$13_svgRoot$$);if(null!=$callback$$)this.embedFonts($ignoreSelection$jscomp$13_svgRoot$$,mxUtils.bind(this,function($svgRoot$jscomp$0$$){$embedImages$$?this.editor.convertImages($svgRoot$jscomp$0$$,mxUtils.bind(this,function($svgRoot$$){$done$$($svgRoot$$)})):$done$$($svgRoot$jscomp$0$$)}));else return $done$$($ignoreSelection$jscomp$13_svgRoot$$)};EditorUi.prototype.embedFonts=function($svgRoot$$,$callback$$){this.editor.loadFonts(mxUtils.bind(this,
function(){try{null!=this.editor.resolvedFontCss&&this.editor.addFontCss($svgRoot$$,this.editor.resolvedFontCss),this.editor.embedExtFonts(mxUtils.bind(this,function($extFontsEmbeddedCss$$){try{null!=$extFontsEmbeddedCss$$&&this.editor.addFontCss($svgRoot$$,$extFontsEmbeddedCss$$),$callback$$($svgRoot$$)}catch($e$$){$callback$$($svgRoot$$)}}))}catch($e$$){$callback$$($svgRoot$$)}}))};EditorUi.prototype.exportImage=function($scale$$,$transparentBackground$$,$ignoreSelection$$,$addShadow$$,$editable$$,
$border$$,$noCrop$$,$currentPage$$,$format$$,$grid$$,$dpi$$,$theme$$,$exportType$$){$format$$=null!=$format$$?$format$$:"png";if(this.spinner.spin(document.body,mxResources.get("exporting"),mxUtils.bind(this,function($err$$){Editor.addRetryToError($err$$,mxUtils.bind(this,function(){this.exportImage($scale$$,$transparentBackground$$,$ignoreSelection$$,$addShadow$$,$editable$$,$border$$,$noCrop$$,$currentPage$$,$format$$,$grid$$,$dpi$$,$theme$$,$exportType$$)}));this.handleError($err$$)}))){var $selectionEmpty$$=
this.editor.graph.isSelectionEmpty();$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:$selectionEmpty$$;null==this.thumbImageCache&&(this.thumbImageCache={});try{this.editor.exportToCanvas(mxUtils.bind(this,function($canvas$$){this.spinner.stop();try{this.saveCanvas($canvas$$,$editable$$?this.getFileData(!0,null,null,null,$ignoreSelection$$,$currentPage$$,null,null,null,null,null,$scale$$,$border$$):null,$format$$,null==this.pages||0==this.pages.length,$dpi$$)}catch($e$$){this.handleError($e$$)}}),
null,this.thumbImageCache,null,mxUtils.bind(this,function($e$$){this.spinner.stop();this.handleError($e$$)}),null,$ignoreSelection$$,$scale$$||1,$transparentBackground$$,$addShadow$$,null,null,$border$$,$noCrop$$,$grid$$,$theme$$,$exportType$$)}catch($e$$){this.spinner.stop(),this.handleError($e$$)}}};EditorUi.prototype.isCorsEnabledForUrl=function($url$$){return this.editor.isCorsEnabledForUrl($url$$)};EditorUi.prototype.importXml=function($mapping$jscomp$9_xml$$,$dx$$,$dy$$,$crop$$,$noErrorHandling$$,
$addNewPage_pages$$,$applyDefaultStyles$$){$dx$$=null!=$dx$$?$dx$$:0;$dy$$=null!=$dy$$?$dy$$:0;var $cells$$=[];try{var $graph$$=this.editor.graph;if(null!=$mapping$jscomp$9_xml$$&&0<$mapping$jscomp$9_xml$$.length){$graph$$.model.beginUpdate();try{var $doc$$=mxUtils.parseXml($mapping$jscomp$9_xml$$);$mapping$jscomp$9_xml$$={};var $node$$=this.editor.extractGraphModel($doc$$.documentElement,null!=this.pages);if(null!=$node$$&&"mxfile"==$node$$.nodeName&&null!=this.pages){var $diagrams$$=$node$$.getElementsByTagName("diagram");
if(1==$diagrams$$.length&&!$addNewPage_pages$$){if($node$$=Editor.parseDiagramNode($diagrams$$[0]),null!=this.currentPage&&($mapping$jscomp$9_xml$$[$diagrams$$[0].getAttribute("id")]=this.currentPage.getId(),this.isBlankFile())){var $name$$=$diagrams$$[0].getAttribute("name");null!=$name$$&&""!=$name$$&&this.editor.graph.model.execute(new RenamePage(this,this.currentPage,$name$$))}}else if(0<$diagrams$$.length){$addNewPage_pages$$=[];var $i$jscomp$247_i0$$=0;null!=this.pages&&1==this.pages.length&&
this.isDiagramEmpty()&&($mapping$jscomp$9_xml$$[$diagrams$$[0].getAttribute("id")]=this.pages[0].getId(),$node$$=Editor.parseDiagramNode($diagrams$$[0]),$crop$$=!1,$i$jscomp$247_i0$$=1);for(;$i$jscomp$247_i0$$<$diagrams$$.length;$i$jscomp$247_i0$$++){var $oldId$$=$diagrams$$[$i$jscomp$247_i0$$].getAttribute("id");$diagrams$$[$i$jscomp$247_i0$$].removeAttribute("id");var $page$$=this.updatePageRoot(new DiagramPage($diagrams$$[$i$jscomp$247_i0$$]));$mapping$jscomp$9_xml$$[$oldId$$]=$diagrams$$[$i$jscomp$247_i0$$].getAttribute("id");
var $index$$=this.pages.length;null==$page$$.getName()&&$page$$.setName(mxResources.get("pageWithNumber",[$index$$+1]));$graph$$.model.execute(new ChangePage(this,$page$$,$page$$,$index$$,!0));$addNewPage_pages$$.push($page$$)}this.updatePageLinks($mapping$jscomp$9_xml$$,$addNewPage_pages$$)}}if(null!=$node$$&&"mxGraphModel"===$node$$.nodeName){$cells$$=$graph$$.importGraphModel($node$$,$dx$$,$dy$$,$crop$$);if(null!=$cells$$)for($i$jscomp$247_i0$$=0;$i$jscomp$247_i0$$<$cells$$.length;$i$jscomp$247_i0$$++)this.updatePageLinksForCell($mapping$jscomp$9_xml$$,
$cells$$[$i$jscomp$247_i0$$]);var $bgImg$$=$graph$$.parseBackgroundImage($node$$.getAttribute("backgroundImage"));if(null!=$bgImg$$&&null!=$bgImg$$.originalSrc){this.updateBackgroundPageLink($mapping$jscomp$9_xml$$,$bgImg$$);var $change$$=new ChangePageSetup(this,null,$bgImg$$);$change$$.ignoreColor=!0;$graph$$.model.execute($change$$)}}$applyDefaultStyles$$&&$graph$$.pasteCellStyles($graph$$.includeDescendants($cells$$),$graph$$.defaultVertexStyle,$graph$$.defaultEdgeStyle)}finally{$graph$$.model.endUpdate()}}}catch($e$$){if($noErrorHandling$$)throw $e$$;
this.handleError($e$$)}return $cells$$};EditorUi.prototype.updatePageLinks=function($mapping$$,$pages$$){for(var $i$$=0;$i$$<$pages$$.length;$i$$++)this.updatePageLinksForCell($mapping$$,$pages$$[$i$$].root),null!=$pages$$[$i$$].viewState&&this.updateBackgroundPageLink($mapping$$,$pages$$[$i$$].viewState.backgroundImage)};EditorUi.prototype.updateBackgroundPageLink=function($mapping$$,$obj$$){try{if(null!=$obj$$&&Graph.isPageLink($obj$$.originalSrc)){var $newId$$=$mapping$$[$obj$$.originalSrc.substring($obj$$.originalSrc.indexOf(",")+
1)];null!=$newId$$&&($obj$$.originalSrc="data:page/id,"+$newId$$)}}catch($e$$){}};EditorUi.prototype.updatePageLinksForCell=function($mapping$$,$cell$$){var $temp$$=document.createElement("div"),$graph$$=this.editor.graph,$href$$=$graph$$.getLinkForCell($cell$$);null!=$href$$&&$graph$$.setLinkForCell($cell$$,this.updatePageLink($mapping$$,$href$$));if($graph$$.isHtmlLabel($cell$$)){$temp$$.innerHTML=Graph.sanitizeHtml($graph$$.getLabel($cell$$));for(var $links$$=$temp$$.getElementsByTagName("a"),
$changed$$=!1,$i$$=0;$i$$<$links$$.length;$i$$++)$href$$=$links$$[$i$$].getAttribute("href"),null!=$href$$&&($links$$[$i$$].setAttribute("href",this.updatePageLink($mapping$$,$href$$)),$changed$$=!0);$changed$$&&$graph$$.labelChanged($cell$$,$temp$$.innerHTML)}for($i$$=0;$i$$<$graph$$.model.getChildCount($cell$$);$i$$++)this.updatePageLinksForCell($mapping$$,$graph$$.model.getChildAt($cell$$,$i$$))};EditorUi.prototype.updatePageLink=function($mapping$$,$href$$){if(Graph.isPageLink($href$$)){var $newId$$=
$mapping$$[$href$$.substring($href$$.indexOf(",")+1)];$href$$=null!=$newId$$?"data:page/id,"+$newId$$:null}else if("data:action/json,"==$href$$.substring(0,17))try{var $link$$=JSON.parse($href$$.substring(17));if(null!=$link$$.actions){for(var $i$$=0;$i$$<$link$$.actions.length;$i$$++){var $action$$=$link$$.actions[$i$$];if(null!=$action$$.open&&Graph.isPageLink($action$$.open)){var $oldId$$=$action$$.open.substring($action$$.open.indexOf(",")+1);$newId$$=$mapping$$[$oldId$$];null!=$newId$$?$action$$.open=
"data:page/id,"+$newId$$:null==this.getPageById($oldId$$)&&delete $action$$.open}}$href$$="data:action/json,"+JSON.stringify($link$$)}}catch($e$$){}return $href$$};EditorUi.prototype.isRemoteVisioFormat=function($filename$$){return/(\.v(sd|dx))($|\?)/i.test($filename$$)||/(\.vs(s|x))($|\?)/i.test($filename$$)};EditorUi.prototype.importVisio=function($file$$,$done$$,$error$$,$filename$$,$customParam$$){var $onerror$$=mxUtils.bind(this,function($e$$){this.loadingExtensions=!1;null!=$error$$?$error$$($e$$):
this.handleError($e$$)});this.createTimeout(null,mxUtils.bind(this,function($timeout$$){$filename$$=null!=$filename$$?$filename$$:$file$$.name;var $handleError$$=mxUtils.bind(this,function($e$$){$timeout$$.clear()&&$onerror$$($e$$)}),$delayed$$=mxUtils.bind(this,function(){this.loadingExtensions=!1;if(this.doImportVisio){var $formData_remote$$=this.isRemoteVisioFormat($filename$$);try{var $dot$$=$filename$$.lastIndexOf(".");if(0<=$dot$$&&$dot$$<$filename$$.length)$filename$$.substring($dot$$+1).toUpperCase();
else{var $slash$$=$filename$$.lastIndexOf("/");0<=$slash$$&&$slash$$<$filename$$.length&&($filename$$=$filename$$.substring($slash$$+1))}}catch($e$$){}if($formData_remote$$)if(null==VSD_CONVERT_URL||this.isOffline())$handleError$$({message:"draw.io"!=this.getServiceName()?mxResources.get("vsdNoConfig"):mxResources.get("serviceUnavailableOrBlocked")});else{$formData_remote$$=new FormData;$formData_remote$$.append("file1",$file$$,$filename$$);var $xhr$$=new XMLHttpRequest;$xhr$$.open("POST",VSD_CONVERT_URL+
(/(\.vss|\.vsx)$/.test($filename$$)?"?stencil=1":""));$xhr$$.responseType="blob";this.addRemoteServiceSecurityCheck($xhr$$);null!=$customParam$$&&$xhr$$.setRequestHeader("x-convert-custom",$customParam$$);$xhr$$.onreadystatechange=mxUtils.bind(this,function(){if(4==$xhr$$.readyState&&$timeout$$.clear())if(200<=$xhr$$.status&&299>=$xhr$$.status)try{var $resp$$=$xhr$$.response;if("text/xml"==$resp$$.type){var $reader$$=new FileReader;$reader$$.onload=mxUtils.bind(this,function($e$$){try{$done$$($e$$.target.result)}catch($e$22$$){$handleError$$({message:mxResources.get("errorLoadingFile")})}});
$reader$$.readAsText($resp$$)}else this.doImportVisio($resp$$,$done$$,$handleError$$,$filename$$)}catch($e$23$$){$handleError$$($e$23$$)}else try{""==$xhr$$.responseType||"text"==$xhr$$.responseType?$handleError$$({message:$xhr$$.responseText}):($reader$$=new FileReader,$reader$$.onload=function(){try{$handleError$$({message:JSON.parse($reader$$.result).Message})}catch($e$24$$){$handleError$$($e$24$$)}},$reader$$.readAsText($xhr$$.response))}catch($e$25$$){$handleError$$({})}});$xhr$$.send($formData_remote$$)}else if($timeout$$.clear())try{this.doImportVisio($file$$,
$done$$,$handleError$$,$filename$$)}catch($e$26$$){$handleError$$($e$26$$)}}else $handleError$$({message:mxResources.get("serviceUnavailableOrBlocked")})});this.doImportVisio||this.loadingExtensions||this.isOffline(!0)?$delayed$$():(this.loadingExtensions=!0,mxscript("js/extensions.min.js",$delayed$$,null,null,null,$handleError$$))}),$onerror$$)};EditorUi.prototype.importGraphML=function($xmlData$$,$done$$,$error$$){var $onerror$$=mxUtils.bind(this,function($e$$){this.loadingExtensions=!1;null!=$error$$?
$error$$($e$$):this.handleError($e$$)});this.createTimeout(null,mxUtils.bind(this,function($timeout$$){var $handleError$$=mxUtils.bind(this,function($e$$){$timeout$$.clear()&&$onerror$$($e$$)}),$delayed$$=mxUtils.bind(this,function(){this.loadingExtensions=!1;if($timeout$$.clear())if(this.doImportGraphML)try{this.doImportGraphML($xmlData$$,$done$$,$onerror$$)}catch($e$$){$handleError$$($e$$)}else $handleError$$({message:mxResources.get("serviceUnavailableOrBlocked")})});this.doImportGraphML||this.loadingExtensions||
this.isOffline(!0)?$delayed$$():(this.loadingExtensions=!0,mxscript("js/extensions.min.js",$delayed$$,null,null,null,$handleError$$))}),$onerror$$)};EditorUi.prototype.exportVisio=function($currentPage$$){if(this.spinner.spin(document.body,mxResources.get("loading"))){var $onerror$$=mxUtils.bind(this,function($e$$){this.loadingExtensions=!1;this.handleError($e$$)});this.createTimeout(null,mxUtils.bind(this,function($timeout$$){var $handleError$$=mxUtils.bind(this,function($e$$){$timeout$$.clear()&&
$onerror$$($e$$)}),$delayed$$=mxUtils.bind(this,function(){this.loadingExtensions=!1;if($timeout$$.clear())if("undefined"!==typeof VsdxExport)try{this.spinner.stop(),(new VsdxExport(this)).exportCurrentDiagrams($currentPage$$)||$handleError$$({message:mxResources.get("unknownError")})}catch($e$$){$handleError$$($e$$)}else $handleError$$({message:mxResources.get("serviceUnavailableOrBlocked")})});"undefined"!==typeof VsdxExport||this.loadingExtensions||this.isOffline(!0)?window.setTimeout($delayed$$,
0):(this.loadingExtensions=!0,mxscript("js/extensions.min.js",$delayed$$,null,null,null,$handleError$$))}),$onerror$$)}};EditorUi.prototype.convertLucidChart=function($data$$,$success$$,$error$$){var $onerror$$=mxUtils.bind(this,function($e$$){this.loadingExtensions=!1;null!=$error$$?$error$$($e$$):this.handleError($e$$)});this.createTimeout(null,mxUtils.bind(this,function($timeout$$){var $handleError$$=mxUtils.bind(this,function($e$$){$timeout$$.clear()&&$onerror$$($e$$)}),$delayed$$=mxUtils.bind(this,
function(){this.loadingExtensions=!1;if($timeout$$.clear())if("undefined"!==typeof window.LucidImporter)try{var $obj$$=JSON.parse($data$$);$success$$(LucidImporter.importState($obj$$));try{if(null!=window.console&&"1"==urlParams.test){var $args$$=[(new Date).toISOString(),"convertLucidChart",$obj$$];null!=$obj$$.state&&$args$$.push(JSON.parse($obj$$.state));if(null!=$obj$$.svgThumbs)for(var $i$$=0;$i$$<$obj$$.svgThumbs.length;$i$$++)$args$$.push(Editor.createSvgDataUri($obj$$.svgThumbs[$i$$]));null!=
$obj$$.thumb&&$args$$.push($obj$$.thumb);console.log.apply(console,$args$$)}}catch($e$$){}}catch($e$27$$){null!=window.console&&console.error($e$27$$),$handleError$$($e$27$$)}else $handleError$$({message:mxResources.get("serviceUnavailableOrBlocked")})});"undefined"!==typeof window.LucidImporter||this.loadingExtensions||this.isOffline(!0)?window.setTimeout($delayed$$,0):(this.loadingExtensions=!0,"1"==urlParams.dev?mxscript("js/diagramly/Extensions.js",function(){mxscript("js/orgchart/bridge.min.js",
function(){mxscript("js/orgchart/bridge.collections.min.js",function(){mxscript("js/orgchart/OrgChart.Layout.min.js",function(){mxscript("js/orgchart/mxOrgChartLayout.js",$delayed$$,null,null,null,$handleError$$)},null,null,null,$handleError$$)},null,null,null,$handleError$$)},null,null,null,$handleError$$)},null,null,null,$handleError$$):mxscript("js/extensions.min.js",$delayed$$,null,null,null,$handleError$$))}),$onerror$$)};EditorUi.prototype.createMermaidXml=function($input$jscomp$18_node$$,$config$$,
$cell$jscomp$162_data$$,$w$$,$h$$){var $graph$$=new Graph(document.createElement("div"));$cell$jscomp$162_data$$=$graph$$.insertVertex(null,null,null,0,0,$w$$,$h$$,"shape=image;noLabel=1;verticalAlign=top;imageAspect=1;image="+$cell$jscomp$162_data$$+";");$graph$$.setAttributeForCell($cell$jscomp$162_data$$,"mermaidData",JSON.stringify({data:$input$jscomp$18_node$$,config:$config$$},null,2));$input$jscomp$18_node$$=(new mxCodec).encode($graph$$.getModel());return mxUtils.getXml($input$jscomp$18_node$$)};
EditorUi.prototype.generateOpenAiMermaidDiagram=function($prompt$$,$success$$,$error$$){var $retryCount$$=0,$fn$$=mxUtils.bind(this,function(){this.spinner.spin(document.body,mxResources.get("loading"))&&this.createTimeout(4E4,mxUtils.bind(this,function($timeout$$){var $req$jscomp$0$$=new mxXmlRequest("https://www.draw.io/generate/v2",$prompt$$,"POST"),$handleError$$=mxUtils.bind(this,function($e$$){$timeout$$.clear()&&(this.spinner.stop(),$error$$($e$$))});$req$jscomp$0$$.send(mxUtils.bind(this,
function($req$$){if($timeout$$.isAlive())if(200<=$req$$.getStatus()&&299>=$req$$.getStatus())this.tryAndHandle(mxUtils.bind(this,function(){var $result$$=mxUtils.trim($req$$.getText());this.generateMermaidImage($result$$,null,mxUtils.bind(this,function($data$$,$w$$,$h$$){this.tryAndHandle(mxUtils.bind(this,function(){$timeout$$.clear()&&(EditorUi.debug("EditorUi.generateOpenAiMermaidDiagram","\nprompt:",$prompt$$,"\nresult:",$result$$),this.spinner.stop(),$success$$($result$$,$data$$,$w$$,$h$$))}),
$handleError$$)}),$handleError$$,mxUtils.bind(this,function($e$$){3>$retryCount$$++?$timeout$$.clear()&&(this.spinner.stop(),$fn$$()):$handleError$$($e$$)}))}),$handleError$$);else{var $e$jscomp$0$$={message:mxResources.get("error")+" "+$req$$.getStatus()};try{$e$jscomp$0$$=JSON.parse($req$$.getText()),$e$jscomp$0$$=$e$jscomp$0$$.error}catch($e$28$$){}$handleError$$($e$jscomp$0$$)}}),$handleError$$)}),$error$$)});$fn$$()};EditorUi.prototype.removeMermaidComments=function($data$jscomp$155_lines$$){$data$jscomp$155_lines$$=
$data$jscomp$155_lines$$.split("\n");for(var $result$$=[],$i$$=0;$i$$<$data$jscomp$155_lines$$.length;$i$$++)"%%"!=$data$jscomp$155_lines$$[$i$$].substring(0,2)&&$result$$.push($data$jscomp$155_lines$$[$i$$]);return $result$$.join("\n")};EditorUi.prototype.extractMermaidDeclaration=function($text$jscomp$31_value$$){$text$jscomp$31_value$$=mxUtils.trim($text$jscomp$31_value$$);"o\n\n"==$text$jscomp$31_value$$.substring(0,3)&&($text$jscomp$31_value$$=$text$jscomp$31_value$$.substring(3));var $lines$jscomp$4_tokens$$=
$text$jscomp$31_value$$.split("```");$lines$jscomp$4_tokens$$=1<$lines$jscomp$4_tokens$$.length?$lines$jscomp$4_tokens$$:$text$jscomp$31_value$$.split("<pre>");$lines$jscomp$4_tokens$$=1<$lines$jscomp$4_tokens$$.length?$lines$jscomp$4_tokens$$:$text$jscomp$31_value$$.split("~~~");$lines$jscomp$4_tokens$$=1<$lines$jscomp$4_tokens$$.length?$lines$jscomp$4_tokens$$:$text$jscomp$31_value$$.split("%%");$lines$jscomp$4_tokens$$=1<$lines$jscomp$4_tokens$$.length?$lines$jscomp$4_tokens$$:$text$jscomp$31_value$$.split("(Begins)");
$text$jscomp$31_value$$=mxUtils.trim(1>=$lines$jscomp$4_tokens$$.length?$text$jscomp$31_value$$:$lines$jscomp$4_tokens$$[1]);$lines$jscomp$4_tokens$$=$text$jscomp$31_value$$.split("\n");var $type$$=1<$lines$jscomp$4_tokens$$.length?$lines$jscomp$4_tokens$$[1]:null;if(null!=$type$$){var $dash$$=$type$$.indexOf("-");0<$dash$$&&($type$$=$type$$.substring(0,$dash$$))}if(0<$lines$jscomp$4_tokens$$.length&&"mermaid"==mxUtils.trim($lines$jscomp$4_tokens$$[0])||null!=$type$$&&0<=mxUtils.indexOf(EditorUi.mermaidDiagramTypes,
$type$$))$lines$jscomp$4_tokens$$.shift(),$text$jscomp$31_value$$=mxUtils.trim($lines$jscomp$4_tokens$$.join("\n")),$lines$jscomp$4_tokens$$=$text$jscomp$31_value$$.split("\n");$type$$=$lines$jscomp$4_tokens$$[0].split(" ")[0].replace(/:$/,"");$dash$$=$type$$.indexOf("-");0<$dash$$&&($type$$=$type$$.substring(0,$dash$$));try{"mindmap"==$type$$&&2<$lines$jscomp$4_tokens$$.length&&($text$jscomp$31_value$$=extractMermaidMindmap($lines$jscomp$4_tokens$$))}catch($e$$){}0>mxUtils.indexOf(EditorUi.mermaidDiagramTypes,
$type$$)&&($text$jscomp$31_value$$=null);return $text$jscomp$31_value$$};EditorUi.prototype.generateMermaidImage=function($data$$,$config$$,$success$$,$error$$,$parseErrorHandler$$){$data$$=this.removeMermaidComments($data$$);var $onerror$$=mxUtils.bind(this,function($e$$){this.loadingMermaid=!1;null!=$error$$?$error$$($e$$):this.handleError($e$$)}),$delayed$$=mxUtils.bind(this,function(){try{this.loadingMermaid=!1;$config$$=null!=$config$$?$config$$:mxUtils.clone(EditorUi.defaultMermaidConfig);$config$$.securityLevel=
"strict";$config$$.startOnLoad=!1;Editor.isDarkMode()&&($config$$.theme="dark");var $renderCallback$$=mxUtils.bind(this,function($svg$$){try{if(mxClient.IS_IE||mxClient.IS_IE11)$svg$$=$svg$$.replace(/ xmlns:\S*="http:\/\/www.w3.org\/XML\/1998\/namespace"/g,"").replace(/ (NS xml|\S*):space="preserve"/g,' xml:space="preserve"');var $svgs$$=mxUtils.parseXml($svg$$).getElementsByTagName("svg");if(0<$svgs$$.length&&"error"!=$svgs$$[0].getAttribute("aria-roledescription")){var $w$$=parseFloat($svgs$$[0].getAttribute("width")),
$h$$=parseFloat($svgs$$[0].getAttribute("height"));if(isNaN($w$$)||isNaN($h$$))try{var $viewBox$$=$svgs$$[0].getAttribute("viewBox").split(/\s+/);$w$$=parseFloat($viewBox$$[2]);$h$$=parseFloat($viewBox$$[3])}catch($e$$){$w$$=$w$$||100,$h$$=$h$$||100}$success$$(this.convertDataUri(Editor.createSvgDataUri($svg$$)),$w$$,$h$$)}else null!=$parseErrorHandler$$?$parseErrorHandler$$():$error$$({message:mxResources.get("invalidInput")})}catch($e$29$$){$error$$($e$29$$)}});mermaid.mermaidAPI.initialize($config$$);
mermaid.mermaidAPI.render("geMermaidOutput-"+(new Date).getTime(),$data$$).then(function($result$$){$renderCallback$$($result$$.svg)}).catch(function($e$$){null!=$parseErrorHandler$$?$parseErrorHandler$$($e$$):$error$$($e$$)})}catch($e$$){$error$$($e$$)}});"undefined"!==typeof mermaid||this.loadingMermaid||this.isOffline(!0)?window.setTimeout($delayed$$,0):(this.loadingMermaid=!0,"1"==urlParams.dev?("1"==urlParams.mermaidToDrawioTest&&mxMermaidToDrawio.addListener(mxUtils.bind(this,function($modelXml$$){this.importXml($modelXml$$,
null,null,null,null,null,!0)})),mxscript("js/mermaid/mermaid.min.js",$delayed$$,null,null,null,$onerror$$)):mxscript("js/extensions.min.js",$delayed$$,null,null,null,$onerror$$))};EditorUi.prototype.generatePlantUmlImage=function($data$jscomp$0$$,$type$$,$success$$,$error$$){function $append3bytes$$($b1$$,$b2$$,$b3$$){c1=$b1$$>>2;c2=($b1$$&3)<<4|$b2$$>>4;c3=($b2$$&15)<<2|$b3$$>>6;c4=$b3$$&63;r="";r+=$encode6bit$$(c1&63);r+=$encode6bit$$(c2&63);r+=$encode6bit$$(c3&63);return r+=$encode6bit$$(c4&63)}
function $encode6bit$$($b$$){if(10>$b$$)return String.fromCharCode(48+$b$$);$b$$-=10;if(26>$b$$)return String.fromCharCode(65+$b$$);$b$$-=26;if(26>$b$$)return String.fromCharCode(97+$b$$);$b$$-=26;return 0==$b$$?"-":1==$b$$?"_":"?"}var $xhr$$=new XMLHttpRequest;$xhr$$.open("GET",("txt"==$type$$?PLANT_URL+"/txt/":"png"==$type$$?PLANT_URL+"/png/":PLANT_URL+"/svg/")+function($data$$){r="";for(i=0;i<$data$$.length;i+=3)r=i+2==$data$$.length?r+$append3bytes$$($data$$.charCodeAt(i),$data$$.charCodeAt(i+
1),0):i+1==$data$$.length?r+$append3bytes$$($data$$.charCodeAt(i),0,0):r+$append3bytes$$($data$$.charCodeAt(i),$data$$.charCodeAt(i+1),$data$$.charCodeAt(i+2));return r}(Graph.arrayBufferToString(pako.deflateRaw($data$jscomp$0$$))),!0);"txt"!=$type$$&&($xhr$$.responseType="blob");$xhr$$.onload=function($e$jscomp$0$$){if(200<=this.status&&300>this.status)if("txt"==$type$$)$success$$(this.response);else{var $reader$$=new FileReader;$reader$$.readAsDataURL(this.response);$reader$$.onloadend=function($e$$){var $img$$=
new Image;$img$$.onload=function(){try{var $w$$=$img$$.width,$h$$=$img$$.height;if(0==$w$$&&0==$h$$){var $data$$=$reader$$.result,$comma$$=$data$$.indexOf(","),$svgText$$=decodeURIComponent(escape(atob($data$$.substring($comma$$+1)))),$svgs$$=mxUtils.parseXml($svgText$$).getElementsByTagName("svg");0<$svgs$$.length&&($w$$=parseFloat($svgs$$[0].getAttribute("width")),$h$$=parseFloat($svgs$$[0].getAttribute("height")))}$success$$($reader$$.result,$w$$,$h$$)}catch($e$30$$){$error$$($e$30$$)}};$img$$.src=
$reader$$.result};$reader$$.onerror=function($e$$){$error$$($e$$)}}else $error$$($e$jscomp$0$$)};$xhr$$.onerror=function($e$$){$error$$($e$$)};$xhr$$.send()};EditorUi.prototype.insertAsPreText=function($text$$,$x$$,$y$$){var $graph$$=this.editor.graph,$cell$$=null;$graph$$.getModel().beginUpdate();try{$cell$$=$graph$$.insertVertex(null,null,"<pre>"+$text$$+"</pre>",$x$$,$y$$,1,1,"text;html=1;align=left;verticalAlign=top;"),$graph$$.updateCellSize($cell$$,!0)}finally{$graph$$.getModel().endUpdate()}return $cell$$};
EditorUi.prototype.insertTextAt=function($text$$,$dx$$,$dy$$,$html$$,$asImage_cell$$,$crop$$,$resizeImages$$,$addNewPage$$){$crop$$=null!=$crop$$?$crop$$:!0;$resizeImages$$=null!=$resizeImages$$?$resizeImages$$:!0;if(null!=$text$$)if(Graph.fileSupport&&(new XMLHttpRequest).upload&&this.isRemoteFileFormat($text$$))this.isOffline()?this.showError(mxResources.get("error"),mxResources.get("notInOffline")):this.parseFileData($text$$.replace(/\s+/g," "),mxUtils.bind(this,function($xhr$$){4==$xhr$$.readyState&&
200<=$xhr$$.status&&299>=$xhr$$.status&&this.editor.graph.setSelectionCells(this.insertTextAt($xhr$$.responseText,$dx$$,$dy$$,!0))}));else if("data:"==$text$$.substring(0,5)||!this.isOffline()&&($asImage_cell$$||/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test($text$$))){var $graph$$=this.editor.graph;if("data:application/pdf;base64,"==$text$$.substring(0,28)){var $xml$jscomp$0$$=Editor.extractGraphModelFromPdf($text$$);if(null!=$xml$jscomp$0$$&&0<$xml$jscomp$0$$.length)return this.importXml($xml$jscomp$0$$,
$dx$$,$dy$$,$crop$$,!0,$addNewPage$$)}if(Editor.isPngDataUrl($text$$)&&($xml$jscomp$0$$=Editor.extractGraphModelFromPng($text$$),null!=$xml$jscomp$0$$&&0<$xml$jscomp$0$$.length))return this.importXml($xml$jscomp$0$$,$dx$$,$dy$$,$crop$$,!0,$addNewPage$$);if("data:image/svg+xml;"==$text$$.substring(0,19))try{$xml$jscomp$0$$=null;"data:image/svg+xml;base64,"==$text$$.substring(0,26)?($xml$jscomp$0$$=$text$$.substring($text$$.indexOf(",")+1),$xml$jscomp$0$$=window.atob&&!mxClient.IS_SF?atob($xml$jscomp$0$$):
Base64.decode($xml$jscomp$0$$,!0)):$xml$jscomp$0$$=decodeURIComponent($text$$.substring($text$$.indexOf(",")+1));var $result$$=this.importXml($xml$jscomp$0$$,$dx$$,$dy$$,$crop$$,!0,$addNewPage$$);if(0<$result$$.length)return $result$$}catch($e$$){}this.loadImage($text$$,mxUtils.bind(this,function($h$jscomp$187_img$$){if("data:"==$text$$.substring(0,5))this.resizeImage($h$jscomp$187_img$$,$text$$,mxUtils.bind(this,function($data2$$,$w2$$,$h2$$){$graph$$.setSelectionCell($graph$$.insertVertex(null,
null,"",$graph$$.snap($dx$$),$graph$$.snap($dy$$),$w2$$,$h2$$,"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image="+this.convertDataUri($data2$$)+";"))}),$resizeImages$$,this.maxImageSize);else{var $s$$=Math.min(1,Math.min(this.maxImageSize/$h$jscomp$187_img$$.width,this.maxImageSize/$h$jscomp$187_img$$.height)),$w$$=Math.round($h$jscomp$187_img$$.width*$s$$);$h$jscomp$187_img$$=Math.round($h$jscomp$187_img$$.height*$s$$);$graph$$.setSelectionCell($graph$$.insertVertex(null,
null,"",$graph$$.snap($dx$$),$graph$$.snap($dy$$),$w$$,$h$jscomp$187_img$$,"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image="+$text$$+";"))}}),mxUtils.bind(this,function(){var $cell$$=null;$graph$$.getModel().beginUpdate();try{$cell$$=$graph$$.insertVertex($graph$$.getDefaultParent(),null,$text$$,$graph$$.snap($dx$$),$graph$$.snap($dy$$),1,1,"text;"+($html$$?"html=1;":"")),$graph$$.updateCellSize($cell$$),$graph$$.fireEvent(new mxEventObject("textInserted",
"cells",[$cell$$]))}finally{$graph$$.getModel().endUpdate()}$graph$$.setSelectionCell($cell$$)}))}else{$text$$=Graph.zapGremlins(mxUtils.trim($text$$));if(this.isCompatibleString($text$$))return this.importXml($text$$,$dx$$,$dy$$,$crop$$,null,$addNewPage$$);if(0<$text$$.length)if(this.isLucidChartData($text$$))this.convertLucidChart($text$$,mxUtils.bind(this,function($xml$$){this.editor.graph.setSelectionCells(this.importXml($xml$$,$dx$$,$dy$$,$crop$$,null,$addNewPage$$))}),mxUtils.bind(this,function($e$$){this.handleError($e$$)}));
else{$graph$$=this.editor.graph;$asImage_cell$$=null;$graph$$.getModel().beginUpdate();try{$asImage_cell$$=$graph$$.insertVertex($graph$$.getDefaultParent(),null,"",$graph$$.snap($dx$$),$graph$$.snap($dy$$),1,1,"text;whiteSpace=wrap;"+($html$$?"html=1;":""));$graph$$.fireEvent(new mxEventObject("textInserted","cells",[$asImage_cell$$]));$html$$&&($text$$=$graph$$.sanitizeHtml($text$$));$text$$.length>this.maxTextBytes&&($text$$=$text$$.substring(0,this.maxTextBytes)+"...");$asImage_cell$$.value=$text$$;
$graph$$.updateCellSize($asImage_cell$$);if(0<this.maxTextWidth&&$asImage_cell$$.geometry.width>this.maxTextWidth){var $size$$=$graph$$.getPreferredSizeForCell($asImage_cell$$,this.maxTextWidth);$asImage_cell$$.geometry.width=$size$$.width;$asImage_cell$$.geometry.height=$size$$.height}Graph.isLink($asImage_cell$$.value)&&$graph$$.setLinkForCell($asImage_cell$$,$asImage_cell$$.value);$asImage_cell$$.geometry.width+=$graph$$.gridSize;$asImage_cell$$.geometry.height+=$graph$$.gridSize}finally{$graph$$.getModel().endUpdate()}return[$asImage_cell$$]}}return[]};
EditorUi.prototype.formatFileSize=function($size$$){var $i$$=-1;do $size$$/=1024,$i$$++;while(1024<$size$$);return Math.max($size$$,.1).toFixed(1)+" kB; MB; GB; TB;PB;EB;ZB;YB".split(";")[$i$$]};EditorUi.prototype.convertDataUri=function($uri$$){if("data:"==$uri$$.substring(0,5)){var $semi$$=$uri$$.indexOf(";");0<$semi$$&&($uri$$=$uri$$.substring(0,$semi$$)+$uri$$.substring($uri$$.indexOf(",",$semi$$+1)))}return $uri$$};EditorUi.prototype.isRemoteFileFormat=function($data$$,$filename$$){return/("contentType":\s*"application\/gliffy\+json")/.test($data$$)};
EditorUi.prototype.isLucidChartData=function($data$$){return null!=$data$$&&('{"state":"{\\"Properties\\":'==$data$$.substring(0,26)||'{"Properties":'==$data$$.substring(0,14))};EditorUi.prototype.importLocalFile=function($device$$,$noSplash$$){if($device$$&&Graph.fileSupport){if(null==this.importFileInputElt){var $input$$=document.createElement("input");$input$$.setAttribute("type","file");mxEvent.addListener($input$$,"change",mxUtils.bind(this,function(){null!=$input$$.files&&(this.importFiles($input$$.files,
null,null,this.maxImageSize),$input$$.type="",$input$$.type="file",$input$$.value="")}));$input$$.style.display="none";document.body.appendChild($input$$);this.importFileInputElt=$input$$}this.importFileInputElt.click()}else{window.openNew=!1;window.openKey="import";window.listBrowserFiles=mxUtils.bind(this,function($success$$,$error$$){StorageFile.listFiles(this,"F",$success$$,$error$$)});window.openBrowserFile=mxUtils.bind(this,function($title$$,$success$$,$error$$){StorageFile.getFileContent(this,
$title$$,$success$$,$error$$)});window.deleteBrowserFile=mxUtils.bind(this,function($title$$,$success$$,$error$$){StorageFile.deleteFile(this,$title$$,$success$$,$error$$)});if(!$noSplash$$){var $prevValue$$=Editor.useLocalStorage;Editor.useLocalStorage=!$device$$}window.openFile=new OpenFile(mxUtils.bind(this,function($cancel$$){this.hideDialog($cancel$$)}));window.openFile.setConsumer(mxUtils.bind(this,function($file$jscomp$27_xml$$,$filename$$){null!=$filename$$&&Graph.fileSupport&&/(\.v(dx|sdx?))($|\?)/i.test($filename$$)?
($file$jscomp$27_xml$$=new Blob([$file$jscomp$27_xml$$],{type:"application/octet-stream"}),this.importVisio($file$jscomp$27_xml$$,mxUtils.bind(this,function($xml$$){this.importXml($xml$$,0,0,!0)}),null,$filename$$)):this.editor.graph.setSelectionCells(this.importXml($file$jscomp$27_xml$$,0,0,!0))}));this.showDialog((new OpenDialog(this)).container,Editor.useLocalStorage?640:360,Editor.useLocalStorage?480:220,!0,!0,function(){window.openFile=null});if(!$noSplash$$){var $dlg$$=this.dialog,$dlgClose$$=
$dlg$$.close;this.dialog.close=mxUtils.bind(this,function($cancel$$){Editor.useLocalStorage=$prevValue$$;$dlgClose$$.apply($dlg$$,arguments);$cancel$$&&null==this.getCurrentFile()&&"1"!=urlParams.embed&&this.showSplash()})}}};EditorUi.prototype.importZipFile=function($file$$,$success$$,$onerror$$){var $ui$$=this,$delayed$$=mxUtils.bind(this,function(){this.loadingExtensions=!1;"undefined"!==typeof JSZip?JSZip.loadAsync($file$$).then(function($zip$$){if(mxUtils.isEmptyObject($zip$$.files))$onerror$$();
else{var $JSCompiler_object_inline_version_214$$=0,$JSCompiler_object_inline_zipEntry_215$$,$drawioFound$$=!1;$zip$$.forEach(function($name$jscomp$113_relativePath_version$$,$zipEntry$$){$name$jscomp$113_relativePath_version$$=$zipEntry$$.name.toLowerCase();"diagram/diagram.xml"==$name$jscomp$113_relativePath_version$$?($drawioFound$$=!0,$zipEntry$$.async("string").then(function($str$$){0==$str$$.indexOf("<mxfile ")?$success$$($str$$):$onerror$$()})):0==$name$jscomp$113_relativePath_version$$.indexOf("versions/")&&
($name$jscomp$113_relativePath_version$$=parseInt($name$jscomp$113_relativePath_version$$.substr(9)),$name$jscomp$113_relativePath_version$$>$JSCompiler_object_inline_version_214$$&&($JSCompiler_object_inline_version_214$$=$name$jscomp$113_relativePath_version$$,$JSCompiler_object_inline_zipEntry_215$$=$zipEntry$$))});0<$JSCompiler_object_inline_version_214$$?$JSCompiler_object_inline_zipEntry_215$$.async("string").then(function($data$$){(new XMLHttpRequest).upload&&$ui$$.isRemoteFileFormat($data$$,
$file$$.name)?$ui$$.isOffline()?$ui$$.showError(mxResources.get("error"),mxResources.get("notInOffline"),null,$onerror$$):$ui$$.parseFileData($data$$,mxUtils.bind(this,function($xhr$$){4==$xhr$$.readyState&&(200<=$xhr$$.status&&299>=$xhr$$.status?$success$$($xhr$$.responseText):$onerror$$())}),$file$$.name):$onerror$$()}):$drawioFound$$||$onerror$$()}},function($e$$){$onerror$$($e$$)}):$onerror$$()});"undefined"!==typeof JSZip||this.loadingExtensions||this.isOffline(!0)?$delayed$$():(this.loadingExtensions=
!0,mxscript("js/extensions.min.js",$delayed$$,null,null,null,$onerror$$))};EditorUi.prototype.importFile=function($data$$,$graph$jscomp$97_mimeType$jscomp$13_xml$$,$dx$$,$dy$$,$parseCallback_w$$,$h$$,$filename$$,$done$$,$containsModel_file$jscomp$29_semi$$,$crop$$,$ignoreEmbeddedXml$$,$evt$$){$crop$$=null!=$crop$$?$crop$$:!0;var $async$$=!1,$cells$$=null,$handleResult$$=mxUtils.bind(this,function($xml$$){var $importedCells$$=null;null!=$xml$$&&"<mxlibrary"==$xml$$.substring(0,10)?(this.loadLibrary(new LocalLibrary(this,
$xml$$,$filename$$)),this.showSidebar()):$importedCells$$=this.importXml($xml$$,$dx$$,$dy$$,$crop$$,null,null!=$evt$$?mxEvent.isControlDown($evt$$):null);null!=$done$$&&$done$$($importedCells$$)});"image"==$graph$jscomp$97_mimeType$jscomp$13_xml$$.substring(0,5)?($containsModel_file$jscomp$29_semi$$=!1,"image/png"==$graph$jscomp$97_mimeType$jscomp$13_xml$$.substring(0,9)&&($graph$jscomp$97_mimeType$jscomp$13_xml$$=$ignoreEmbeddedXml$$?null:this.extractGraphModelFromPng($data$$),null!=$graph$jscomp$97_mimeType$jscomp$13_xml$$&&
0<$graph$jscomp$97_mimeType$jscomp$13_xml$$.length&&($cells$$=this.importXml($graph$jscomp$97_mimeType$jscomp$13_xml$$,$dx$$,$dy$$,$crop$$,null,null!=$evt$$?mxEvent.isControlDown($evt$$):null),$containsModel_file$jscomp$29_semi$$=!0)),$containsModel_file$jscomp$29_semi$$||($graph$jscomp$97_mimeType$jscomp$13_xml$$=this.editor.graph,$containsModel_file$jscomp$29_semi$$=$data$$.indexOf(";"),0<$containsModel_file$jscomp$29_semi$$&&($data$$=$data$$.substring(0,$containsModel_file$jscomp$29_semi$$)+$data$$.substring($data$$.indexOf(",",
$containsModel_file$jscomp$29_semi$$+1))),$crop$$&&$graph$jscomp$97_mimeType$jscomp$13_xml$$.isGridEnabled()&&($dx$$=$graph$jscomp$97_mimeType$jscomp$13_xml$$.snap($dx$$),$dy$$=$graph$jscomp$97_mimeType$jscomp$13_xml$$.snap($dy$$)),$cells$$=[$graph$jscomp$97_mimeType$jscomp$13_xml$$.insertVertex(null,null,"",$dx$$,$dy$$,$parseCallback_w$$,$h$$,"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image="+$data$$+";")])):/(\.*<graphml )/.test($data$$)?
($async$$=!0,this.importGraphML($data$$,$handleResult$$)):null!=$containsModel_file$jscomp$29_semi$$&&null!=$filename$$&&EditorUi.isVisioFilename($filename$$)?($async$$=!0,this.importVisio($containsModel_file$jscomp$29_semi$$,$handleResult$$)):(new XMLHttpRequest).upload&&this.isRemoteFileFormat($data$$,$filename$$)?this.isOffline()?this.showError(mxResources.get("error"),mxResources.get("notInOffline")):($async$$=!0,$parseCallback_w$$=mxUtils.bind(this,function($xhr$$){4==$xhr$$.readyState&&(200<=
$xhr$$.status&&299>=$xhr$$.status?$handleResult$$($xhr$$.responseText):null!=$done$$&&($done$$(null),this.showError(mxResources.get("error"),413==$xhr$$.status?mxResources.get("diagramTooLarge"):mxResources.get("unknownError"))))}),null!=$data$$?this.parseFileData($data$$,$parseCallback_w$$,$filename$$):this.parseFile($containsModel_file$jscomp$29_semi$$,$parseCallback_w$$,$filename$$)):0==$data$$.indexOf("PK")&&null!=$containsModel_file$jscomp$29_semi$$?($async$$=!0,this.importZipFile($containsModel_file$jscomp$29_semi$$,
$handleResult$$,mxUtils.bind(this,function(){$cells$$=this.insertTextAt(this.validateFileData($data$$),$dx$$,$dy$$,!0,null,$crop$$);$done$$($cells$$)}))):/(\.v(sd|dx))($|\?)/i.test($filename$$)||/(\.vs(s|x))($|\?)/i.test($filename$$)||($cells$$=this.insertTextAt(this.validateFileData($data$$),$dx$$,$dy$$,!0,null,$crop$$,null,null!=$evt$$?mxEvent.isControlDown($evt$$):null));$async$$||null==$done$$||$done$$($cells$$);return $cells$$};EditorUi.prototype.importFiles=function($files$$,$x$jscomp$0$$,$y$jscomp$0$$,
$maxSize$$,$fn$$,$resultFn$$,$filterFn$$,$barrierFn$$,$resizeDialog$$,$maxBytes$$,$resampleThreshold$$,$ignoreEmbeddedXml$$,$evt$$){$maxSize$$=null!=$maxSize$$?$maxSize$$:this.maxImageSize;$maxBytes$$=null!=$maxBytes$$?$maxBytes$$:this.maxImageBytes;var $crop$$=null!=$x$jscomp$0$$&&null!=$y$jscomp$0$$,$resizeImages$$=!0;$x$jscomp$0$$=null!=$x$jscomp$0$$?$x$jscomp$0$$:0;$y$jscomp$0$$=null!=$y$jscomp$0$$?$y$jscomp$0$$:0;var $largeImages_tmp$$=!1;if(!mxClient.IS_CHROMEAPP&&null!=$files$$)for(var $thresh$$=
$resampleThreshold$$||this.resampleThreshold,$i$jscomp$0$$=0;$i$jscomp$0$$<$files$$.length;$i$jscomp$0$$++)if("image/svg"!==$files$$[$i$jscomp$0$$].type.substring(0,9)&&"image/"===$files$$[$i$jscomp$0$$].type.substring(0,6)&&$files$$[$i$jscomp$0$$].size>$thresh$$){$largeImages_tmp$$=!0;break}var $doImportFiles$$=mxUtils.bind(this,function(){var $graph$$=this.editor.graph,$gs$$=$graph$$.gridSize;$fn$$=null!=$fn$$?$fn$$:mxUtils.bind(this,function($data$$,$mimeType$$,$x$$,$y$$,$w$$,$h$$,$filename$$,
$done$$,$file$$){try{return null!=$data$$&&"<mxlibrary"==$data$$.substring(0,10)?(this.spinner.stop(),this.loadLibrary(new LocalLibrary(this,$data$$,$filename$$)),this.showSidebar(),null):"atlassian"!=this.getServiceName()&&"1"!=urlParams.embed&&this.isCompatibleString($data$$)&&1==$files$$.length&&this.isBlankFile()&&!this.canUndo()?(this.spinner.stop(),this.fileLoaded(new LocalFile(this,$data$$,$filename$$,!0)),null):this.importFile($data$$,$mimeType$$,$x$$,$y$$,$w$$,$h$$,$filename$$,$done$$,$file$$,
$crop$$,$ignoreEmbeddedXml$$,$evt$$)}catch($e$$){return this.handleError($e$$),null}});$resultFn$$=null!=$resultFn$$?$resultFn$$:mxUtils.bind(this,function($cells$$){$graph$$.setSelectionCells($cells$$)});if(this.spinner.spin(document.body,mxResources.get("loading")))for(var $count$$=$files$$.length,$remain$$=$count$$,$queue$$=[],$barrier$$=mxUtils.bind(this,function($index$jscomp$136_j$$,$fnc$$){$queue$$[$index$jscomp$136_j$$]=$fnc$$;if(0==--$remain$$){this.spinner.stop();if(null!=$barrierFn$$)$barrierFn$$($queue$$);
else{var $cells$$=[];$graph$$.getModel().beginUpdate();try{for($index$jscomp$136_j$$=0;$index$jscomp$136_j$$<$queue$$.length;$index$jscomp$136_j$$++){var $tmp$$=$queue$$[$index$jscomp$136_j$$]();null!=$tmp$$&&($cells$$=$cells$$.concat($tmp$$))}}finally{$graph$$.getModel().endUpdate()}}$resultFn$$($cells$$)}}),$i$$=0;$i$$<$count$$;$i$$++)mxUtils.bind(this,function($index$$){var $file$$=$files$$[$index$$];if(null!=$file$$){var $reader$$=new FileReader;$reader$$.onload=mxUtils.bind(this,function($e$$){if(null==
$filterFn$$||$filterFn$$($file$$))try{if("image/"==$file$$.type.substring(0,6))if("image/svg"==$file$$.type.substring(0,9)){var $data$$=Graph.clipSvgDataUri($e$$.target.result),$comma$jscomp$1_containsModel$$=$data$$.indexOf(","),$svgText$$=decodeURIComponent(escape(atob($data$$.substring($comma$jscomp$1_containsModel$$+1)))),$root$$=mxUtils.parseXml($svgText$$),$svgs$jscomp$0$$=$root$$.getElementsByTagName("svg");if(0<$svgs$jscomp$0$$.length){var $svgRoot$jscomp$0$$=$svgs$jscomp$0$$[0],$cont$$=$ignoreEmbeddedXml$$?
null:$svgRoot$jscomp$0$$.getAttribute("content");null!=$cont$$&&"<"!=$cont$$.charAt(0)&&"%"!=$cont$$.charAt(0)&&($cont$$=unescape(window.atob?atob($cont$$):Base64.decode($cont$$,!0)));null!=$cont$$&&"%"==$cont$$.charAt(0)&&($cont$$=decodeURIComponent($cont$$));null==$cont$$||"<mxfile "!==$cont$$.substring(0,8)&&"<mxGraphModel "!==$cont$$.substring(0,14)?$barrier$$($index$$,mxUtils.bind(this,function(){try{if(null!=$root$$){var $svgs$$=$root$$.getElementsByTagName("svg");if(0<$svgs$$.length){var $svgRoot$$=
$svgs$$[0],$w$$=$svgRoot$$.getAttribute("width"),$h$$=$svgRoot$$.getAttribute("height");$w$$=null!=$w$$&&"%"!=$w$$.charAt($w$$.length-1)?parseFloat($w$$):NaN;$h$$=null!=$h$$&&"%"!=$h$$.charAt($h$$.length-1)?parseFloat($h$$):NaN;var $vb$$=$svgRoot$$.getAttribute("viewBox");if(null==$vb$$||0==$vb$$.length)$svgRoot$$.setAttribute("viewBox","0 0 "+$w$$+" "+$h$$);else if(isNaN($w$$)||isNaN($h$$)){var $tokens$$=$vb$$.split(" ");3<$tokens$$.length&&($w$$=parseFloat($tokens$$[2]),$h$$=parseFloat($tokens$$[3]))}$data$$=
Editor.createSvgDataUri(mxUtils.getXml($svgRoot$$));var $s$$=Math.min(1,Math.min($maxSize$$/Math.max(1,$w$$)),$maxSize$$/Math.max(1,$h$$)),$cells$$=$fn$$($data$$,$file$$.type,$x$jscomp$0$$+$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,Math.max(1,Math.round($w$$*$s$$)),Math.max(1,Math.round($h$$*$s$$)),$file$$.name);if(null!=$cells$$&&(isNaN($w$$)||isNaN($h$$))){var $img$$=new Image;$img$$.onload=mxUtils.bind(this,function(){$w$$=Math.max(1,$img$$.width);$h$$=Math.max(1,$img$$.height);$cells$$[0].geometry.width=
$w$$;$cells$$[0].geometry.height=$h$$;$svgRoot$$.setAttribute("viewBox","0 0 "+$w$$+" "+$h$$);$data$$=Editor.createSvgDataUri(mxUtils.getXml($svgRoot$$));var $semi$$=$data$$.indexOf(";");0<$semi$$&&($data$$=$data$$.substring(0,$semi$$)+$data$$.substring($data$$.indexOf(",",$semi$$+1)));$graph$$.setCellStyles("image",$data$$,[$cells$$[0]])});$img$$.src=Editor.createSvgDataUri(mxUtils.getXml($svgRoot$$))}return $cells$$}}}catch($e$31$$){}return null})):$barrier$$($index$$,mxUtils.bind(this,function(){return $fn$$($cont$$,
"text/xml",$x$jscomp$0$$+$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,0,0,$file$$.name)}))}else $barrier$$($index$$,mxUtils.bind(this,function(){return null}))}else{$comma$jscomp$1_containsModel$$=!1;if("image/png"==$file$$.type){var $xml$$=$ignoreEmbeddedXml$$?null:this.extractGraphModelFromPng($e$$.target.result);if(null!=$xml$$&&0<$xml$$.length){var $img$jscomp$0$$=new Image;$img$jscomp$0$$.src=$e$$.target.result;$barrier$$($index$$,mxUtils.bind(this,function(){return $fn$$($xml$$,"text/xml",$x$jscomp$0$$+
$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,$img$jscomp$0$$.width,$img$jscomp$0$$.height,$file$$.name)}));$comma$jscomp$1_containsModel$$=!0}}$comma$jscomp$1_containsModel$$||(mxClient.IS_CHROMEAPP?(this.spinner.stop(),this.showError(mxResources.get("error"),mxResources.get("dragAndDropNotSupported"),mxResources.get("cancel"),mxUtils.bind(this,function(){}),null,mxResources.get("ok"),mxUtils.bind(this,function(){this.actions.get("import").funct()}))):this.loadImage($e$$.target.result,mxUtils.bind(this,
function($img$$){this.resizeImage($img$$,$e$$.target.result,mxUtils.bind(this,function($data2$$,$w2$$,$h2$$){$barrier$$($index$$,mxUtils.bind(this,function(){if(null!=$data2$$&&$data2$$.length<$maxBytes$$){var $s$$=$resizeImages$$&&this.isResampleImageSize($file$$.size,$resampleThreshold$$)?Math.min(1,Math.min($maxSize$$/$w2$$,$maxSize$$/$h2$$)):1;return $fn$$($data2$$,$file$$.type,$x$jscomp$0$$+$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,Math.round($w2$$*$s$$),Math.round($h2$$*$s$$),$file$$.name)}this.handleError({message:mxResources.get("imageTooBig")});
return null}))}),$resizeImages$$,$maxSize$$,$resampleThreshold$$,$file$$.size)}),mxUtils.bind(this,function(){this.handleError({message:mxResources.get("invalidOrMissingFile")})})))}else $data$$=$e$$.target.result,$fn$$($data$$,$file$$.type,$x$jscomp$0$$+$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,240,160,$file$$.name,function($cells$$){$barrier$$($index$$,function(){return $cells$$})},$file$$)}catch($e$32$$){$barrier$$($index$$,mxUtils.bind(this,function(){return null})),null!=window.console&&console.error($e$32$$,
$file$$)}else $barrier$$($index$$,mxUtils.bind(this,function(){return null}))});EditorUi.isVisioFilename($file$$.name)?$fn$$(null,$file$$.type,$x$jscomp$0$$+$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,240,160,$file$$.name,function($cells$$){$barrier$$($index$$,function(){return $cells$$})},$file$$):"image"==$file$$.type.substring(0,5)||"application/pdf"==$file$$.type?$reader$$.readAsDataURL($file$$):$reader$$.readAsText($file$$)}})($i$$)});if($largeImages_tmp$$){$largeImages_tmp$$=[];for($i$jscomp$0$$=
0;$i$jscomp$0$$<$files$$.length;$i$jscomp$0$$++)$largeImages_tmp$$.push($files$$[$i$jscomp$0$$]);$files$$=$largeImages_tmp$$;this.confirmImageResize(function($doResize$$){$resizeImages$$=$doResize$$;$doImportFiles$$()},$resizeDialog$$)}else $doImportFiles$$()};EditorUi.prototype.isBlankFile=function(){return null!=this.pages&&1==this.pages.length&&this.isDiagramEmpty()&&this.currentPage.getName()==mxResources.get("pageWithNumber",[1])};EditorUi.prototype.confirmImageResize=function($fn$$,$force$$){$force$$=
null!=$force$$?$force$$:!1;var $resume$$=null!=this.spinner&&null!=this.spinner.pause?this.spinner.pause():function(){},$resizeImages$$=isLocalStorage||mxClient.IS_CHROMEAPP?mxSettings.getResizeImages():null,$wrapper$$=function($remember$$,$resize$$){if($remember$$||$force$$)mxSettings.setResizeImages($remember$$?$resize$$:null),mxSettings.save();$resume$$();$fn$$($resize$$)};null==$resizeImages$$||$force$$?this.showDialog((new ConfirmDialog(this,mxResources.get("resizeLargeImages"),function($remember$$){$wrapper$$($remember$$,
!0)},function($remember$$){$wrapper$$($remember$$,!1)},mxResources.get("resize"),mxResources.get("actualSize"),'<img style="margin-top:8px;" src="'+Editor.loResImage+'"/>','<img style="margin-top:8px;" src="'+Editor.hiResImage+'"/>',isLocalStorage||mxClient.IS_CHROMEAPP)).container,340,isLocalStorage||mxClient.IS_CHROMEAPP?220:200,!0,!0):$wrapper$$(!1,$resizeImages$$)};EditorUi.prototype.parseFile=function($file$$,$fn$$,$filename$$){$filename$$=null!=$filename$$?$filename$$:$file$$.name;var $reader$$=
new FileReader;$reader$$.onload=mxUtils.bind(this,function(){this.parseFileData($reader$$.result,$fn$$,$filename$$)});$reader$$.readAsText($file$$)};EditorUi.prototype.parseFileData=function($data$$,$fn$$,$filename$$){var $xhr$$=new XMLHttpRequest;$xhr$$.open("POST",OPEN_URL);$xhr$$.setRequestHeader("Content-Type","application/x-www-form-urlencoded");$xhr$$.onreadystatechange=function(){$fn$$($xhr$$)};$xhr$$.send("format=xml&filename="+encodeURIComponent($filename$$)+"&data="+encodeURIComponent($data$$));
try{EditorUi.logEvent({category:"GLIFFY-IMPORT-FILE",action:"size_"+file.size})}catch($e$$){}};EditorUi.prototype.isResampleImageSize=function($size$$,$thresh$$){$thresh$$=null!=$thresh$$?$thresh$$:this.resampleThreshold;return $size$$>$thresh$$};EditorUi.prototype.resizeImage=function($img$$,$data$$,$fn$$,$enabled$$,$maxSize$$,$thresh$$,$fileSize$$){$maxSize$$=null!=$maxSize$$?$maxSize$$:this.maxImageSize;var $w$$=Math.max(1,$img$$.width),$h$$=Math.max(1,$img$$.height),$originalData$$=$data$$;if($enabled$$&&
this.isResampleImageSize(null!=$fileSize$$?$fileSize$$:$data$$.length,$thresh$$))try{var $factor$$=Math.max($w$$/$maxSize$$,$h$$/$maxSize$$);if(1<$factor$$){var $w2$$=Math.round($w$$/$factor$$),$h2$$=Math.round($h$$/$factor$$),$canvas$$=document.createElement("canvas");$canvas$$.width=$w2$$;$canvas$$.height=$h2$$;$canvas$$.getContext("2d").drawImage($img$$,0,0,$w2$$,$h2$$);var $tmp$$=$canvas$$.toDataURL();if($tmp$$.length<$data$$.length){var $canvas2$$=document.createElement("canvas");$canvas2$$.width=
$w2$$;$canvas2$$.height=$h2$$;var $tmp2$$=$canvas2$$.toDataURL();$tmp$$!==$tmp2$$&&($data$$=$tmp$$,$w$$=$w2$$,$h$$=$h2$$)}}}catch($e$$){}$enabled$$&&$originalData$$!=$data$$&&$maxSize$$>this.maxImageSize/2&&$data$$.length>this.maxImageBytes?this.resizeImage($img$$,$data$$,$fn$$,$enabled$$,$maxSize$$/1.5,$thresh$$,$fileSize$$):$fn$$($data$$,$w$$,$h$$)};EditorUi.prototype.extractGraphModelFromPng=function($data$$){return Editor.extractGraphModelFromPng($data$$)};EditorUi.prototype.loadImage=function($uri$$,
$onload$$,$onerror$$){try{var $img$$=new Image;$img$$.onload=function(){$img$$.width=0<$img$$.width?$img$$.width:120;$img$$.height=0<$img$$.height?$img$$.height:120;$onload$$($img$$)};null!=$onerror$$&&($img$$.onerror=$onerror$$);$img$$.src=$uri$$}catch($e$$){if(null!=$onerror$$)$onerror$$($e$$);else throw $e$$;}};EditorUi.prototype.getDefaultSketchMode=function(){var $defaultValue$$="1"==urlParams.sketch;return"0"!=(null!=urlParams.rough?urlParams.rough:$defaultValue$$)};var $editorUiCreateUi$$=
EditorUi.prototype.createUi;EditorUi.prototype.createUi=function(){Editor.isSettingsEnabled()&&(null!=mxSettings.settings.sidebarTitles&&(Sidebar.prototype.sidebarTitles=mxSettings.settings.sidebarTitles),this.formatWidth=mxSettings.getFormatWidth(),null!=Editor.config&&null!=Editor.config.enableCssDarkMode||null==mxSettings.settings.enableCssDarkMode||(Editor.enableCssDarkMode=mxSettings.settings.enableCssDarkMode));$editorUiCreateUi$$.apply(this,arguments);Editor.isSettingsEnabled()&&this.doSetSketchMode(null!=
mxSettings.settings.sketchMode&&null==urlParams.rough&&null==urlParams.sketch?mxSettings.settings.sketchMode:this.getDefaultSketchMode())};var $editorUiInit$$=EditorUi.prototype.init;EditorUi.prototype.init=function(){mxStencilRegistry.allowEval=mxStencilRegistry.allowEval&&!this.isOfflineApp();var $ui$$=this,$graph$$=this.editor.graph;Graph.touchStyle&&($graph$$.panningHandler.isPanningTrigger=function($me$$){var $evt$$=$me$$.getEvent();return null==$me$$.getState()&&!mxEvent.isMouseEvent($evt$$)&&
!$graph$$.freehand.isDrawing()||mxEvent.isPopupTrigger($evt$$)&&(null==$me$$.getState()||mxEvent.isControlDown($evt$$)||mxEvent.isShiftDown($evt$$))});$graph$$.cellEditor.editPlantUmlData=function($cell$$,$dlg$jscomp$34_trigger$$,$data$jscomp$0$$){var $obj$$=JSON.parse($data$jscomp$0$$);$dlg$jscomp$34_trigger$$=new TextareaDialog($ui$$,mxResources.get("plantUml")+":",$obj$$.data,function($text$$){null!=$text$$&&$ui$$.spinner.spin(document.body,mxResources.get("inserting"))&&$ui$$.generatePlantUmlImage($text$$,
$obj$$.format,function($data$$,$w$$,$h$$){$ui$$.spinner.stop();$graph$$.getModel().beginUpdate();try{if("txt"==$obj$$.format)$graph$$.labelChanged($cell$$,"<pre>"+$data$$+"</pre>"),$graph$$.updateCellSize($cell$$,!0);else{$graph$$.setCellStyles("image",$ui$$.convertDataUri($data$$),[$cell$$]);var $geo$$=$graph$$.model.getGeometry($cell$$);null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.width=$w$$,$geo$$.height=$h$$,$graph$$.cellsResized([$cell$$],[$geo$$],!1))}$graph$$.setAttributeForCell($cell$$,"plantUmlData",
JSON.stringify({data:$text$$,format:$obj$$.format}))}finally{$graph$$.getModel().endUpdate()}},function($e$$){$ui$$.handleError($e$$)})},null,null,400,220);$ui$$.showDialog($dlg$jscomp$34_trigger$$.container,420,300,!0,!0);$dlg$jscomp$34_trigger$$.init()};$graph$$.cellEditor.editMermaidData=function($cell$$,$dlg$jscomp$35_trigger$$,$data$jscomp$0$$){var $obj$$=JSON.parse($data$jscomp$0$$);$dlg$jscomp$35_trigger$$=new TextareaDialog($ui$$,mxResources.get("mermaid")+":",$obj$$.data,function($text$$){null!=
$text$$&&$ui$$.spinner.spin(document.body,mxResources.get("inserting"))&&$ui$$.generateMermaidImage($text$$,$obj$$.config,function($data$$,$w$$,$h$$){$ui$$.spinner.stop();$graph$$.getModel().beginUpdate();try{$graph$$.setCellStyles("image",$data$$,[$cell$$]);var $geo$$=$graph$$.model.getGeometry($cell$$);null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.width=Math.max($geo$$.width,$w$$),$geo$$.height=Math.max($geo$$.height,$h$$),$graph$$.cellsResized([$cell$$],[$geo$$],!1));$graph$$.setAttributeForCell($cell$$,
"mermaidData",JSON.stringify({data:$text$$,config:$obj$$.config},null,2))}finally{$graph$$.getModel().endUpdate()}},function($e$$){$ui$$.handleError($e$$)})},null,null,400,220);$ui$$.showDialog($dlg$jscomp$35_trigger$$.container,420,300,!0,!0);$dlg$jscomp$35_trigger$$.init()};var $cellEditorStartEditing$$=$graph$$.cellEditor.startEditing;$graph$$.cellEditor.startEditing=function($cell$$,$trigger$$){try{var $data$$=this.graph.getAttributeForCell($cell$$,"plantUmlData");if(null!=$data$$)this.editPlantUmlData($cell$$,
$trigger$$,$data$$);else if($data$$=this.graph.getAttributeForCell($cell$$,"mermaidData"),null!=$data$$)this.editMermaidData($cell$$,$trigger$$,$data$$);else{var $style$$=$graph$$.getCellStyle($cell$$);"1"==mxUtils.getValue($style$$,"metaEdit","0")?$ui$$.showDataDialog($cell$$):$cellEditorStartEditing$$.apply(this,arguments)}}catch($e$$){$ui$$.handleError($e$$)}};$graph$$.getLinkTitle=function($href$$){return $ui$$.getLinkTitle($href$$)};$graph$$.customLinkClicked=function($link$$,$associatedCell$$){var $done$$=
!1;try{var $bounds$$=this.getGraphBounds();$ui$$.handleCustomLink($link$$,$associatedCell$$);$done$$=!0;$ui$$.chromelessResize&&!$bounds$$.equals(this.getGraphBounds())&&($ui$$.chromelessResize(),this.scrollCellToVisible($associatedCell$$))}catch($e$$){$ui$$.handleError($e$$)}return $done$$};var $graphParseBackgroundImage$$=$graph$$.parseBackgroundImage;$graph$$.parseBackgroundImage=function($json$$){var $result$$=$graphParseBackgroundImage$$.apply(this,arguments);null!=$result$$&&null!=$result$$.src&&
Graph.isPageLink($result$$.src)&&($result$$={originalSrc:$result$$.src});return $result$$};var $graphSetBackgroundImage$$=$graph$$.setBackgroundImage;$graph$$.setBackgroundImage=function($img$$){null!=$img$$&&null!=$img$$.originalSrc&&($img$$=$ui$$.createImageForPageLink($img$$.originalSrc,$ui$$.currentPage,this));$graphSetBackgroundImage$$.apply(this,arguments)};this.editor.addListener("pageRenamed",mxUtils.bind(this,function(){$graph$$.refreshBackgroundImage()}));this.editor.addListener("pageMoved",
mxUtils.bind(this,function(){$graph$$.refreshBackgroundImage()}));this.editor.addListener("pagesPatched",mxUtils.bind(this,function($id$jscomp$20_ref$jscomp$2_sender$$,$evt$jscomp$232_patches$$){$id$jscomp$20_ref$jscomp$2_sender$$=null!=$graph$$.backgroundImage?$graph$$.backgroundImage.originalSrc:null;if(null!=$id$jscomp$20_ref$jscomp$2_sender$$){var $comma$jscomp$2_i$$=$id$jscomp$20_ref$jscomp$2_sender$$.indexOf(",");if(0<$comma$jscomp$2_i$$)for($id$jscomp$20_ref$jscomp$2_sender$$=$id$jscomp$20_ref$jscomp$2_sender$$.substring($comma$jscomp$2_i$$+
1),$evt$jscomp$232_patches$$=$evt$jscomp$232_patches$$.getProperty("patches"),$comma$jscomp$2_i$$=0;$comma$jscomp$2_i$$<$evt$jscomp$232_patches$$.length;$comma$jscomp$2_i$$++)if(null!=$evt$jscomp$232_patches$$[$comma$jscomp$2_i$$][EditorUi.DIFF_UPDATE]&&null!=$evt$jscomp$232_patches$$[$comma$jscomp$2_i$$][EditorUi.DIFF_UPDATE][$id$jscomp$20_ref$jscomp$2_sender$$]||null!=$evt$jscomp$232_patches$$[$comma$jscomp$2_i$$][EditorUi.DIFF_REMOVE]&&0<=mxUtils.indexOf($evt$jscomp$232_patches$$[$comma$jscomp$2_i$$][EditorUi.DIFF_REMOVE],
$id$jscomp$20_ref$jscomp$2_sender$$)){$graph$$.refreshBackgroundImage();break}}}));var $graphGetBackgroundImageObject$$=$graph$$.getBackgroundImageObject;$graph$$.getBackgroundImageObject=function($obj$$,$resolveReferences$$){var $result$$=$graphGetBackgroundImageObject$$.apply(this,arguments);if(null!=$result$$&&null!=$result$$.originalSrc)if(!$resolveReferences$$)$result$$={src:$result$$.originalSrc};else if($resolveReferences$$&&null!=this.themes&&"darkTheme"==this.defaultThemeName){var $temp$$=
this.stylesheet,$tempFg$$=this.shapeForegroundColor,$tempBg$$=this.shapeBackgroundColor;this.stylesheet=this.getDefaultStylesheet();this.shapeBackgroundColor="#ffffff";this.shapeForegroundColor="#000000";$result$$=$ui$$.createImageForPageLink($result$$.originalSrc);this.shapeBackgroundColor=$tempBg$$;this.shapeForegroundColor=$tempFg$$;this.stylesheet=$temp$$}return $result$$};this.isOffline()||"undefined"===typeof window.EditDataDialog||(EditDataDialog.placeholderHelpLink="https://www.drawio.com/doc/faq/predefined-placeholders");
if(/viewer\.diagrams\.net$/.test(window.location.hostname)||/embed\.diagrams\.net$/.test(window.location.hostname))this.editor.editBlankUrl="https://app.diagrams.net/";var $editorGetEditBlankUrl$$=$ui$$.editor.getEditBlankUrl;this.editor.getEditBlankUrl=function($params$$){$params$$=null!=$params$$?$params$$:"";"1"==urlParams.dev&&($params$$+=(0<$params$$.length?"&":"?")+"dev=1");return $editorGetEditBlankUrl$$.apply(this,arguments)};var $graphAddClickHandler$$=$graph$$.addClickHandler;$graph$$.addClickHandler=
function($highlight$$,$beforeClick$$,$onClick$$){var $tmp$$=$beforeClick$$;$beforeClick$$=function($evt$$,$href$$,$cell$$){if(null==$href$$){var $source$$=mxEvent.getSource($evt$$);"a"==$source$$.nodeName.toLowerCase()&&($href$$=$source$$.getAttribute("href"))}null!=$href$$&&$graph$$.isCustomLink($href$$)&&(mxEvent.isTouchEvent($evt$$)||!mxEvent.isPopupTrigger($evt$$))&&$graph$$.customLinkClicked($href$$,$cell$$)&&mxEvent.consume($evt$$);null!=$tmp$$&&$tmp$$($evt$$,$href$$,$cell$$)};$graphAddClickHandler$$.call(this,
$highlight$$,$beforeClick$$,$onClick$$)};$editorUiInit$$.apply(this,arguments);mxClient.IS_SVG&&this.editor.graph.addSvgShadow($graph$$.view.canvas.ownerSVGElement,null,!0);if(null!=this.menus){var $menusAddPopupMenuItems$$=Menus.prototype.addPopupMenuItems;this.menus.addPopupMenuItems=function($menu$$,$cell$$,$evt$$){$graph$$.isSelectionEmpty()&&"simple"==Editor.currentTheme&&this.addMenuItems($menu$$,["zoomIn","zoomOut","-"],null,$evt$$);$menusAddPopupMenuItems$$.apply(this,arguments);$graph$$.isSelectionEmpty()||
null==$ui$$.addSelectionToScratchpad||this.addMenuItems($menu$$,["-","addToScratchpad"],null,$evt$$);$graph$$.isSelectionEmpty()&&"simple"==Editor.currentTheme&&this.addMenuItems($menu$$,["-","exitGroup","home"],null,$evt$$)};var $menusAddPopupMenuEditItems$$=Menus.prototype.addPopupMenuEditItems;this.menus.addPopupMenuEditItems=function($menu$$,$cell$$,$evt$$){if($ui$$.editor.graph.isSelectionEmpty())$menusAddPopupMenuEditItems$$.apply(this,arguments),$ui$$.menus.addMenuItems($menu$$,["copyAsImage"],
null,$evt$$);else if(this.isShowCellEditItems()?this.addPopupDeleteItem($menu$$,$cell$$,$evt$$):this.addPopupMenuArrangeItems($menu$$,$cell$$,$evt$$),this.addMenuItems($menu$$,"- cut copy copyAsImage duplicate -".split(" "),null,$evt$$),this.isShowCellEditItems()||this.addPopupDeleteItem($menu$$,$cell$$,$evt$$),this.addMenuItems($menu$$,["lockUnlock","-"],null,$evt$$),!this.isShowStyleItems()){if(1==$graph$$.getSelectionCount()&&!$graph$$.isCellLocked($cell$$)&&$graph$$.isCellEditable($cell$$)&&(this.addSubmenu("editCell",
$menu$$,null,mxResources.get("edit")),$menu$$.addSeparator(),$graph$$.getModel().isEdge($cell$$))){this.addSubmenu("line",$menu$$);var $geo$jscomp$55_ss$$=$graph$$.getModel().getGeometry($cell$$);null!=$geo$jscomp$55_ss$$&&null!=$geo$jscomp$55_ss$$.points&&0<$geo$jscomp$55_ss$$.points.length&&this.addMenuItems($menu$$,["clearWaypoints"],null,$evt$$)}1==$graph$$.getSelectionCount()&&this.addMenuItems($menu$$,["enterGroup"],null,$evt$$);$geo$jscomp$55_ss$$=$ui$$.getSelectionState();null!=$geo$jscomp$55_ss$$.mergeCell?
this.addMenuItem($menu$$,"mergeCells"):(1<$geo$jscomp$55_ss$$.style.colspan||1<$geo$jscomp$55_ss$$.style.rowspan)&&this.addMenuItem($menu$$,"unmergeCells")}};this.menus.isShowStyleItems=function(){return"simple"!=Editor.currentTheme&&"sketch"!=Editor.currentTheme&&"min"!=Editor.currentTheme};this.menus.isShowHistoryItems=function(){return"simple"!=Editor.currentTheme};this.menus.isShowArrangeItems=this.menus.isShowStyleItems;this.menus.isShowCellEditItems=this.menus.isShowStyleItems}$ui$$.actions.get("print").funct=
function(){$ui$$.showDialog((new PrintDialog($ui$$)).container,360,null!=$ui$$.pages&&1<$ui$$.pages.length?470:390,!0,!0)};this.defaultFilename=mxResources.get("untitledDiagram");var $graphGetExportVariables$$=$graph$$.getExportVariables;$graph$$.getExportVariables=function(){var $vars$$=$graphGetExportVariables$$.apply(this,arguments),$file$$=$ui$$.getCurrentFile();null!=$file$$&&($vars$$.filename=$file$$.getTitle());$vars$$.pagecount=null!=$ui$$.pages?$ui$$.pages.length:1;$vars$$.page=null!=$ui$$.currentPage?
$ui$$.currentPage.getName():"";$vars$$.pagenumber=null!=$ui$$.pages&&null!=$ui$$.currentPage?mxUtils.indexOf($ui$$.pages,$ui$$.currentPage)+1:1;return $vars$$};var $graphGetGlobalVariable$$=$graph$$.getGlobalVariable;$graph$$.getGlobalVariable=function($name$$){var $file$$=$ui$$.getCurrentFile();return"filename"==$name$$&&null!=$file$$?$file$$.getTitle():"page"==$name$$&&null!=$ui$$.currentPage?$ui$$.currentPage.getName():"pagenumber"==$name$$?null!=$ui$$.currentPage&&null!=$ui$$.pages?mxUtils.indexOf($ui$$.pages,
$ui$$.currentPage)+1:1:"pagecount"==$name$$?null!=$ui$$.pages?$ui$$.pages.length:1:$graphGetGlobalVariable$$.apply(this,arguments)};var $lastFilename$$=null,$lastFile$$=null;this.addListener("fileDescriptorChanged",mxUtils.bind(this,function(){var $file$$=this.getCurrentFile(),$filename$$=null!=$file$$&&null!=$file$$.getTitle()?$file$$.getTitle():this.defaultFilename;$lastFilename$$!=$filename$$&&$file$$==$lastFile$$&&($graph$$.invalidateDescendantsWithPlaceholders($graph$$.model.getRoot()),$graph$$.view.validate());
$lastFilename$$=$filename$$;$lastFile$$=$file$$}));var $graphLabelLinkClicked$$=$graph$$.labelLinkClicked;$graph$$.labelLinkClicked=function($state$$,$elt$$,$evt$$){var $href$$=$elt$$.getAttribute("href");if(null==$href$$||!$graph$$.isCustomLink($href$$)||!mxEvent.isTouchEvent($evt$$)&&mxEvent.isPopupTrigger($evt$$))$graphLabelLinkClicked$$.apply(this,arguments);else{if(!$graph$$.isEnabled()||null!=$state$$&&$graph$$.isCellLocked($state$$.cell))$graph$$.customLinkClicked($href$$),$graph$$.getRubberband().reset();
mxEvent.consume($evt$$)}};this.editor.getOrCreateFilename=function(){var $filename$$=$ui$$.defaultFilename,$file$$=$ui$$.getCurrentFile();null!=$file$$&&($filename$$=null!=$file$$.getTitle()?$file$$.getTitle():$filename$$);return $filename$$};var $darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$=this.actions.get("print");$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$.setEnabled(!mxClient.IS_IOS||!navigator.standalone);
$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$.visible=$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$.isEnabled();if(!this.editor.chromeless||this.editor.editable)this.keyHandler.bindAction(70,!0,"findReplace"),this.keyHandler.bindAction(77,!0,"editGeometry",!0),this.keyHandler.bindAction(75,!0,"tags"),this.keyHandler.bindAction(65,!1,"insertText"),this.keyHandler.bindAction(83,!1,"insertNote"),this.keyHandler.bindAction(68,
!1,"insertRectangle"),this.keyHandler.bindAction(70,!1,"insertEllipse"),this.keyHandler.bindAction(76,!1,"insertLink"),this.keyHandler.bindAction(82,!1,"insertRhombus"),this.keyHandler.bindAction(67,!1,"insertEdge"),this.keyHandler.bindAction(88,!1,"insertFreehand"),this.keyHandler.bindAction(75,!0,"toggleShapes",!0),this.keyHandler.bindAction(54,!0,"convertDarkModeColors",!0),this.altShiftActions[81]="copyStyle",this.altShiftActions[87]="pasteStyle",this.altShiftActions[83]="synchronize","1"==urlParams.embedInline&&
$graph$$.addListener(mxEvent.ESCAPE,function($sender$$,$evt$$){null!=$evt$$&&$graph$$.isEnabled()&&!$graph$$.isEditing()&&null!=$evt$$.getProperty("event")&&$ui$$.actions.get("exit").funct()}),this.installImagePasteHandler(),this.installNativeClipboardHandler();this.addListener("realtimeStateChanged",mxUtils.bind(this,function(){this.updateUserElement()}));this.spinner=this.createSpinner(null,null,24);Graph.fileSupport&&$graph$$.addListener(mxEvent.EDITING_STARTED,mxUtils.bind(this,function($evt$jscomp$0$$){var $textElt$$=
$graph$$.cellEditor.text2,$dropElt$$=null;null!=$textElt$$&&(mxEvent.addListener($textElt$$,"dragleave",function($evt$$){null!=$dropElt$$&&($dropElt$$.parentNode.removeChild($dropElt$$),$dropElt$$=null);$evt$$.stopPropagation();$evt$$.preventDefault()}),mxEvent.addListener($textElt$$,"dragover",mxUtils.bind(this,function($evt$$){null==$dropElt$$&&(!mxClient.IS_IE||10<document.documentMode)&&($dropElt$$=this.highlightElement($textElt$$));$evt$$.stopPropagation();$evt$$.preventDefault()})),mxEvent.addListener($textElt$$,
"drop",mxUtils.bind(this,function($evt$$){null!=$dropElt$$&&($dropElt$$.parentNode.removeChild($dropElt$$),$dropElt$$=null);if(0<$evt$$.dataTransfer.files.length)this.importFiles($evt$$.dataTransfer.files,0,0,this.maxImageSize,function($data$$,$mimeType$$,$x$$,$y$$,$w$$,$h$$){$graph$$.insertImage($data$$,$w$$,$h$$)},function(){},function($file$$){return"image/"==$file$$.type.substring(0,6)},function($queue$$){for(var $i$$=0;$i$$<$queue$$.length;$i$$++)$queue$$[$i$$]()},mxEvent.isControlDown($evt$$));
else if(0<=mxUtils.indexOf($evt$$.dataTransfer.types,"text/uri-list")){var $uri$$=$evt$$.dataTransfer.getData("text/uri-list");/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test($uri$$)?this.loadImage(decodeURIComponent($uri$$),mxUtils.bind(this,function($h$jscomp$195_img$$){var $w$$=Math.max(1,$h$jscomp$195_img$$.width);$h$jscomp$195_img$$=Math.max(1,$h$jscomp$195_img$$.height);var $maxSize$jscomp$4_s$$=this.maxImageSize;$maxSize$jscomp$4_s$$=Math.min(1,Math.min($maxSize$jscomp$4_s$$/Math.max(1,$w$$)),$maxSize$jscomp$4_s$$/
Math.max(1,$h$jscomp$195_img$$));$graph$$.insertImage(decodeURIComponent($uri$$),$w$$*$maxSize$jscomp$4_s$$,$h$jscomp$195_img$$*$maxSize$jscomp$4_s$$)})):document.execCommand("insertHTML",!1,$evt$$.dataTransfer.getData("text/plain"))}else 0<=mxUtils.indexOf($evt$$.dataTransfer.types,"text/html")?document.execCommand("insertHTML",!1,$evt$$.dataTransfer.getData("text/html")):0<=mxUtils.indexOf($evt$$.dataTransfer.types,"text/plain")&&document.execCommand("insertHTML",!1,$evt$$.dataTransfer.getData("text/plain"));
$evt$$.stopPropagation();$evt$$.preventDefault()})))}));Editor.isSettingsEnabled()&&($darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$=this.editor.graph.view,$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$.setUnit(mxSettings.getUnit()),$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$.addListener("unitChanged",function($sender$$,$evt$$){mxSettings.setUnit($evt$$.getProperty("unit"));
mxSettings.save()}),this.ruler=!this.canvasSupported||9==document.documentMode||"1"!=urlParams.ruler&&!mxSettings.isRulerOn()||this.editor.isChromelessView()&&!this.editor.editable?null:new mxDualRuler(this,$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$.unit),this.refresh());if("1"==urlParams.styledev){$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$=document.getElementById("geFooter");null!=$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$&&
(this.styleInput=document.createElement("input"),this.styleInput.setAttribute("type","text"),this.styleInput.style.position="absolute",this.styleInput.style.top="14px",this.styleInput.style.left="2px",this.styleInput.style.width="98%",this.styleInput.style.visibility="hidden",this.styleInput.style.opacity="0.9",mxEvent.addListener(this.styleInput,"change",mxUtils.bind(this,function(){this.editor.graph.getModel().setStyle(this.editor.graph.getSelectionCell(),this.styleInput.value)})),$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$.appendChild(this.styleInput),
this.editor.graph.getSelectionModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function($cell$jscomp$172_sender$jscomp$50_style$$,$evt$$){0<this.editor.graph.getSelectionCount()?($cell$jscomp$172_sender$jscomp$50_style$$=this.editor.graph.getSelectionCell(),$cell$jscomp$172_sender$jscomp$50_style$$=this.editor.graph.getModel().getStyle($cell$jscomp$172_sender$jscomp$50_style$$),this.styleInput.value=$cell$jscomp$172_sender$jscomp$50_style$$||"",this.styleInput.style.visibility="visible"):this.styleInput.style.visibility=
"hidden"})));var $isSelectionAllowed$$=this.isSelectionAllowed;this.isSelectionAllowed=function($evt$$){return mxEvent.getSource($evt$$)==this.styleInput?!0:$isSelectionAllowed$$.apply(this,arguments)}}$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$=document.getElementById("geInfo");null!=$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$&&$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$.parentNode.removeChild($darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$);
if(Graph.fileSupport&&(!this.editor.chromeless||this.editor.editable)){var $dropElt$jscomp$0$$=null;mxEvent.addListener($graph$$.container,"dragleave",function($evt$$){$graph$$.isEnabled()&&(null!=$dropElt$jscomp$0$$&&($dropElt$jscomp$0$$.parentNode.removeChild($dropElt$jscomp$0$$),$dropElt$jscomp$0$$=null),$evt$$.stopPropagation(),$evt$$.preventDefault())});mxEvent.addListener($graph$$.container,"dragover",mxUtils.bind(this,function($evt$$){null==$dropElt$jscomp$0$$&&(!mxClient.IS_IE||10<document.documentMode)&&
($dropElt$jscomp$0$$=this.highlightElement($graph$$.container));null!=this.sidebar&&this.sidebar.hideTooltip();$evt$$.stopPropagation();$evt$$.preventDefault()}));mxEvent.addListener($graph$$.container,"drop",mxUtils.bind(this,function($evt$$){null!=$dropElt$jscomp$0$$&&($dropElt$jscomp$0$$.parentNode.removeChild($dropElt$jscomp$0$$),$dropElt$jscomp$0$$=null);if($graph$$.isEnabled()){var $data$jscomp$175_div$jscomp$35_pre_pt$$=mxUtils.convertPoint($graph$$.container,mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$)),
$a$jscomp$10_files$jscomp$1_imgs$$=$evt$$.dataTransfer.files,$tr$$=$graph$$.view.translate,$scale$$=$graph$$.view.scale,$x$$=$data$jscomp$175_div$jscomp$35_pre_pt$$.x/$scale$$-$tr$$.x,$y$$=$data$jscomp$175_div$jscomp$35_pre_pt$$.y/$scale$$-$tr$$.y;if(0<$a$jscomp$10_files$jscomp$1_imgs$$.length)"1"!=urlParams.embed&&mxEvent.isShiftDown($evt$$)?(this.isBlankFile()&&!this.canUndo()&&null!=this.getCurrentFile()&&this.fileLoaded(null),this.openFiles($a$jscomp$10_files$jscomp$1_imgs$$,!0)):(mxEvent.isAltDown($evt$$)&&
($y$$=$x$$=null),this.importFiles($a$jscomp$10_files$jscomp$1_imgs$$,$x$$,$y$$,this.maxImageSize,null,null,null,null,mxEvent.isControlDown($evt$$),null,null,mxEvent.isShiftDown($evt$$),$evt$$));else{mxEvent.isAltDown($evt$$)&&($y$$=$x$$=0);var $uri$$=0<=mxUtils.indexOf($evt$$.dataTransfer.types,"text/uri-list")?$evt$$.dataTransfer.getData("text/uri-list"):null;$data$jscomp$175_div$jscomp$35_pre_pt$$=this.extractGraphModelFromEvent($evt$$,null!=this.pages);if(null!=$data$jscomp$175_div$jscomp$35_pre_pt$$)$graph$$.setSelectionCells(this.importXml($data$jscomp$175_div$jscomp$35_pre_pt$$,
$x$$,$y$$,!0));else if(0<=mxUtils.indexOf($evt$$.dataTransfer.types,"text/html")){var $html$$=$evt$$.dataTransfer.getData("text/html");$data$jscomp$175_div$jscomp$35_pre_pt$$=document.createElement("div");$data$jscomp$175_div$jscomp$35_pre_pt$$.innerHTML=Graph.sanitizeHtml($html$$);var $asImage$$=null;$a$jscomp$10_files$jscomp$1_imgs$$=$data$jscomp$175_div$jscomp$35_pre_pt$$.getElementsByTagName("img");null!=$a$jscomp$10_files$jscomp$1_imgs$$&&1==$a$jscomp$10_files$jscomp$1_imgs$$.length?($html$$=
$a$jscomp$10_files$jscomp$1_imgs$$[0].getAttribute("src"),null==$html$$&&($html$$=$a$jscomp$10_files$jscomp$1_imgs$$[0].getAttribute("srcset")),/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test($html$$)||($asImage$$=!0)):($a$jscomp$10_files$jscomp$1_imgs$$=$data$jscomp$175_div$jscomp$35_pre_pt$$.getElementsByTagName("a"),null!=$a$jscomp$10_files$jscomp$1_imgs$$&&1==$a$jscomp$10_files$jscomp$1_imgs$$.length?$html$$=$a$jscomp$10_files$jscomp$1_imgs$$[0].getAttribute("href"):($data$jscomp$175_div$jscomp$35_pre_pt$$=
$data$jscomp$175_div$jscomp$35_pre_pt$$.getElementsByTagName("pre"),null!=$data$jscomp$175_div$jscomp$35_pre_pt$$&&1==$data$jscomp$175_div$jscomp$35_pre_pt$$.length&&($html$$=mxUtils.getTextContent($data$jscomp$175_div$jscomp$35_pre_pt$$[0]))));var $resizeImages$$=!0,$doInsert$$=mxUtils.bind(this,function(){$graph$$.setSelectionCells(this.insertTextAt($html$$,$x$$,$y$$,!0,$asImage$$,null,$resizeImages$$,mxEvent.isControlDown($evt$$)))});$asImage$$&&null!=$html$$&&$html$$.length>this.resampleThreshold?
this.confirmImageResize(function($doResize$$){$resizeImages$$=$doResize$$;$doInsert$$()},mxEvent.isControlDown($evt$$)):$doInsert$$()}else null!=$uri$$&&/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test($uri$$)?this.loadImage(decodeURIComponent($uri$$),mxUtils.bind(this,function($h$jscomp$196_img$$){var $w$$=Math.max(1,$h$jscomp$196_img$$.width);$h$jscomp$196_img$$=Math.max(1,$h$jscomp$196_img$$.height);var $maxSize$jscomp$5_s$$=this.maxImageSize;$maxSize$jscomp$5_s$$=Math.min(1,Math.min($maxSize$jscomp$5_s$$/
Math.max(1,$w$$)),$maxSize$jscomp$5_s$$/Math.max(1,$h$jscomp$196_img$$));$graph$$.setSelectionCell($graph$$.insertVertex(null,null,"",$x$$,$y$$,$w$$*$maxSize$jscomp$5_s$$,$h$jscomp$196_img$$*$maxSize$jscomp$5_s$$,"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image="+$uri$$+";"))}),mxUtils.bind(this,function($img$$){$graph$$.setSelectionCells(this.insertTextAt($uri$$,$x$$,$y$$,!0))})):0<=mxUtils.indexOf($evt$$.dataTransfer.types,
"text/plain")&&$graph$$.setSelectionCells(this.insertTextAt($evt$$.dataTransfer.getData("text/plain"),$x$$,$y$$,!0))}}$evt$$.stopPropagation();$evt$$.preventDefault()}),!1)}$graph$$.enableFlowAnimation=!0;this.initPages();"1"==urlParams.embed&&this.initializeEmbedMode();$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$=mxUtils.bind(this,function(){$graph$$.refresh();$graph$$.view.validateBackground();this.updateDocumentTitle();this.updateTabContainer();
this.hideShapePicker()});this.addListener("darkModeChanged",$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$);this.addListener("currentThemeChanged",mxUtils.bind(this,function(){null!=this.sidebar&&this.sidebar.updateEntries();this.updateButtonContainer();this.updateDocumentTitle();this.refresh()}));$graph$$.addListener("enabledChanged",mxUtils.bind(this,function(){$graph$$.isEnabled()||this.hideShapePicker()}));$ui$$=this;mxWindow.prototype.fit=function(){if(Editor.inlineFullscreen||
null==$ui$$.embedViewport)mxUtils.fit(this.div);else{var $left$$=parseInt(this.div.offsetLeft),$width$$=parseInt(this.div.offsetWidth),$right$$=$ui$$.embedViewport.x+$ui$$.embedViewport.width,$top$$=parseInt(this.div.offsetTop),$height$$=parseInt(this.div.offsetHeight),$bottom$$=$ui$$.embedViewport.y+$ui$$.embedViewport.height;this.div.style.left=Math.max($ui$$.embedViewport.x,Math.min($left$$,$right$$-$width$$))+"px";this.div.style.top=Math.max($ui$$.embedViewport.y,Math.min($top$$,$bottom$$-$height$$))+
"px";this.div.style.height=Math.min($ui$$.embedViewport.height,parseInt(this.div.style.height))+"px";this.div.style.width=Math.min($ui$$.embedViewport.width,parseInt(this.div.style.width))+"px"}};if(!this.editor.chromeless||this.editor.editable)if("simple"==Editor.currentTheme||"sketch"==Editor.currentTheme)$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$=Editor.currentTheme,Editor.currentTheme="",this.doSetCurrentTheme($darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$,
0,mxUtils.bind(this,function(){"1"==urlParams.embedInline?this.initializeInlineEmbedMode():(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<Editor.smallScreenWidth&&this.toggleFormatPanel(!1);this.fireEvent(new mxEventObject("themeInitialized"))}));if("atlas"!=Editor.currentTheme)if(mxClient.IS_IE||mxClient.IS_IE11||"0"==urlParams.dark||"atlas"==Editor.currentTheme||"1"==urlParams.embed&&"1"!=urlParams.dark&&"auto"!=urlParams.dark&&"dark"!=Editor.currentTheme&&
"1"!=urlParams.atlas||($darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$=!1,this.isAutoDarkModeSupported()&&this.isAutoDarkMode()?$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$=window.matchMedia("(prefers-color-scheme: dark)").matches:null==urlParams.dark&&Editor.isSettingsEnabled()&&!0===mxSettings.settings.darkMode&&($darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$=
!0),!$darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$&&"1"!=urlParams.dark&&"dark"!=Editor.currentTheme)||(null!=urlParams.contrast&&(Editor.enableCssDarkMode="0"!=urlParams.contrast),this.setDarkMode(!0)),this.isAutoDarkModeSupported())try{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",mxUtils.bind(this,function($e$$){this.isAutoDarkMode()&&this.setDarkMode($e$$.matches)}))}catch($e$$){this.actions.get("autoMode").setEnabled(!1)}else Editor.isSettingsEnabled()&&
!0===mxSettings.settings.darkMode&&($darkMode_footer$jscomp$3_info$jscomp$1_printAction_theme$jscomp$10_themeChangeListener_view$$=!0);this.installSettings();screen.width<=Editor.smallScreenWidth&&(this.formatWidth=0);"1"==urlParams.prefetchFonts&&$ui$$.editor.loadFonts()};var $editorUiWindowResized$$=EditorUi.prototype.windowResized;EditorUi.prototype.windowResized=function(){if("simple"==Editor.currentTheme){var $iw$$=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,
$limit$$=Editor.smallScreenWidth;null!=this.lastWindowWidth&&this.lastWindowWidth>=$limit$$&&$iw$$<$limit$$?this.isFormatPanelVisible()&&this.toggleFormatPanel(!1):null!=this.lastWindowWidth&&this.lastWindowWidth<$limit$$&&$iw$$>=$limit$$&&(this.isFormatPanelVisible()||this.toggleFormatPanel(!0));this.lastWindowWidth=$iw$$}$editorUiWindowResized$$.apply(this,arguments)};EditorUi.prototype.initializeInlineEmbedMode=function(){var $footer$$=this.sketchFooterMenuElt,$toolbar$$=this.sketchMainMenuElt,
$picker$$=this.sketchPickerMenuElt,$graph$$=this.editor.graph;$picker$$.style.transform="";mxEvent.addGestureListeners(this.diagramContainer.parentNode,mxUtils.bind(this,function($evt$$){mxEvent.getSource($evt$$)==this.diagramContainer.parentNode&&(this.embedExitPoint=new mxPoint(mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$)),this.sendEmbeddedSvgExport())}));document.body.style.cursor="text";var $div$$=document.createElement("div");$div$$.style.position="absolute";$div$$.style.width="10px";
$div$$.style.height="10px";$div$$.style.borderRadius="5px";$div$$.style.border="1px solid gray";$div$$.style.background="#ffffff";$div$$.style.cursor="row-resize";this.diagramContainer.parentNode.appendChild($div$$);this.bottomResizer=$div$$;var $x0$$=null,$y0$$=null,$w0$$=null,$h0$$=null;mxEvent.addGestureListeners($div$$,mxUtils.bind(this,function($evt$$){$h0$$=parseInt(this.diagramContainer.style.height);$y0$$=mxEvent.getClientY($evt$$);$graph$$.popupMenuHandler.hideMenu();mxEvent.consume($evt$$)}));
$div$$=$div$$.cloneNode(!1);$div$$.style.cursor="col-resize";this.diagramContainer.parentNode.appendChild($div$$);this.rightResizer=$div$$;mxEvent.addGestureListeners($div$$,mxUtils.bind(this,function($evt$$){$w0$$=parseInt(this.diagramContainer.style.width);$x0$$=mxEvent.getClientX($evt$$);$graph$$.popupMenuHandler.hideMenu();mxEvent.consume($evt$$)}));mxEvent.addGestureListeners(document.body,null,mxUtils.bind(this,function($evt$$){var $changed$$=!1;null!=$x0$$&&(this.diagramContainer.style.width=
Math.max(20,$w0$$+mxEvent.getClientX($evt$$)-$x0$$)+"px",$changed$$=!0);null!=$y0$$&&(this.diagramContainer.style.height=Math.max(20,$h0$$+mxEvent.getClientY($evt$$)-$y0$$)+"px",$changed$$=!0);$changed$$&&((window.opener||window.parent).postMessage(JSON.stringify({event:"resize",fullscreen:Editor.inlineFullscreen,rect:this.diagramContainer.getBoundingClientRect()}),"*"),this.inlineSizeChanged(),this.refresh())}),function($evt$$){null==$x0$$&&null==$y0$$||mxEvent.consume($evt$$);$y0$$=$x0$$=null});
document.body.style.backgroundColor="transparent";this.diagramContainer.style.borderRadius="4px";this.bottomResizer.style.visibility="hidden";this.rightResizer.style.visibility="hidden";this.sketchMenubarElt.style.display="none";$toolbar$$.style.visibility="hidden";$footer$$.style.visibility="hidden";$picker$$.style.display="none";this.addListener("editInlineStart",mxUtils.bind(this,function($evt$$){this.inlineSizeChanged();this.fitWindows()}));this.addListener("darkModeChanged",mxUtils.bind(this,
function($evt$$){Editor.enableCssDarkMode||this.inlineSizeChanged()}));this.addListener("editInlineStop",mxUtils.bind(this,function($evt$$){this.diagramContainer.style.width="10px";this.diagramContainer.style.height="10px";this.diagramContainer.style.border="";this.bottomResizer.style.visibility="hidden";this.rightResizer.style.visibility="hidden";$toolbar$$.style.visibility="hidden";$footer$$.style.visibility="hidden";$picker$$.style.display="none"}));this.windowResized=mxUtils.bind(this,function(){});
this.inlineSizeChanged()};EditorUi.prototype.installImagePasteHandler=function(){if(!mxClient.IS_IE){var $graph$$=this.editor.graph;$graph$$.container.addEventListener("paste",mxUtils.bind(this,function($evt$$){if(!mxEvent.isConsumed($evt$$))try{for(var $data$jscomp$0$$=$evt$$.clipboardData||$evt$$.originalEvent.clipboardData,$containsText$$=!1,$i$jscomp$0$$=0;$i$jscomp$0$$<$data$jscomp$0$$.types.length;$i$jscomp$0$$++)if("text/"===$data$jscomp$0$$.types[$i$jscomp$0$$].substring(0,5)){$containsText$$=
!0;break}if(!$containsText$$){var $items$$=$data$jscomp$0$$.items;for(index in $items$$){var $item$$=$items$$[index];if("file"===$item$$.kind){if($graph$$.isEditing())this.importFiles([$item$$.getAsFile()],0,0,this.maxImageSize,function($data$$,$mimeType$$,$x$$,$y$$,$w$$,$h$$){$graph$$.insertImage($data$$,$w$$,$h$$)},function(){},function($file$$){return"image/"==$file$$.type.substring(0,6)},function($queue$$){for(var $i$$=0;$i$$<$queue$$.length;$i$$++)$queue$$[$i$$]()});else{var $pt$$=this.editor.graph.getInsertPoint();
this.importFiles([$item$$.getAsFile()],$pt$$.x,$pt$$.y,this.maxImageSize);mxEvent.consume($evt$$)}break}}}}catch($e$$){}}),!1)}};EditorUi.prototype.installNativeClipboardHandler=function(){function $clearInput$$(){window.setTimeout(function(){$textInput$$.innerHTML="&nbsp;";$textInput$$.focus();document.execCommand("selectAll",!1,null)},0)}var $graph$$=this.editor.graph,$textInput$$=document.createElement("div");$textInput$$.setAttribute("autocomplete","off");$textInput$$.setAttribute("autocorrect",
"off");$textInput$$.setAttribute("autocapitalize","off");$textInput$$.setAttribute("spellcheck","false");$textInput$$.style.textRendering="optimizeSpeed";$textInput$$.style.fontFamily="monospace";$textInput$$.style.wordBreak="break-all";$textInput$$.style.background="transparent";$textInput$$.style.color="transparent";$textInput$$.style.position="absolute";$textInput$$.style.whiteSpace="nowrap";$textInput$$.style.overflow="hidden";$textInput$$.style.display="block";$textInput$$.style.fontSize="1";
$textInput$$.style.zIndex="-1";$textInput$$.style.resize="none";$textInput$$.style.outline="none";$textInput$$.style.width="1px";$textInput$$.style.height="1px";mxUtils.setOpacity($textInput$$,0);$textInput$$.contentEditable=!0;$textInput$$.innerHTML="&nbsp;";var $restoreFocus$$=!1;this.keyHandler.bindControlKey(88,null);this.keyHandler.bindControlKey(67,null);this.keyHandler.bindControlKey(86,null);mxEvent.addListener(document,"keydown",mxUtils.bind(this,function($evt$jscomp$257_x0$$){var $source$jscomp$51_y0$$=
mxEvent.getSource($evt$jscomp$257_x0$$);null==$graph$$.container||!$graph$$.isEnabled()||$graph$$.isMouseDown||$graph$$.isEditing()||null!=this.dialog||"INPUT"==$source$jscomp$51_y0$$.nodeName||"TEXTAREA"==$source$jscomp$51_y0$$.nodeName||224!=$evt$jscomp$257_x0$$.keyCode&&(mxClient.IS_MAC||17!=$evt$jscomp$257_x0$$.keyCode)&&(!mxClient.IS_MAC||91!=$evt$jscomp$257_x0$$.keyCode&&93!=$evt$jscomp$257_x0$$.keyCode)||$restoreFocus$$||($textInput$$.style.left=$graph$$.container.scrollLeft+10+"px",$textInput$$.style.top=
$graph$$.container.scrollTop+10+"px",$evt$jscomp$257_x0$$=$graph$$.container.scrollLeft,$source$jscomp$51_y0$$=$graph$$.container.scrollTop,$graph$$.container.appendChild($textInput$$),$restoreFocus$$=!0,$textInput$$.focus(),document.execCommand("selectAll",!1,null),$graph$$.container.scrollLeft=$evt$jscomp$257_x0$$,$graph$$.container.scrollTop=$source$jscomp$51_y0$$)}));mxEvent.addListener(document,"keyup",mxUtils.bind(this,function($evt$$){var $keyCode$$=$evt$$.keyCode;window.setTimeout(mxUtils.bind(this,
function(){!$restoreFocus$$||224!=$keyCode$$&&17!=$keyCode$$&&91!=$keyCode$$&&93!=$keyCode$$||($restoreFocus$$=!1,$graph$$.isEditing()||null!=this.dialog||null==$graph$$.container||$graph$$.container.focus(),$textInput$$.parentNode.removeChild($textInput$$),null==this.dialog&&mxUtils.clearSelection())}),0)}));mxEvent.addListener($textInput$$,"copy",mxUtils.bind(this,function($evt$$){if($graph$$.isEnabled())try{mxClipboard.copy($graph$$),this.copyCells($textInput$$),$clearInput$$()}catch($e$$){this.handleError($e$$)}}));
mxEvent.addListener($textInput$$,"cut",mxUtils.bind(this,function($evt$$){if($graph$$.isEnabled())try{mxClipboard.copy($graph$$),this.copyCells($textInput$$,!0),$clearInput$$()}catch($e$$){this.handleError($e$$)}}));mxEvent.addListener($textInput$$,"paste",mxUtils.bind(this,function($evt$$){if($graph$$.isEnabled()&&!$graph$$.isCellLocked($graph$$.getDefaultParent()))try{if($textInput$$.innerHTML="&nbsp;",$textInput$$.focus(),null!=$evt$$.clipboardData&&(Graph.removePasteFormatting($textInput$$.firstChild),
this.pasteCells($evt$$,$textInput$$,!0,!0)),!mxEvent.isConsumed($evt$$)){var $x0$$=$graph$$.container.scrollLeft,$y0$$=$graph$$.container.scrollTop;window.setTimeout(mxUtils.bind(this,function(){try{$graph$$.container.scrollLeft=$x0$$,$graph$$.container.scrollTop=$y0$$,Graph.removePasteFormatting($textInput$$.firstChild),this.pasteCells($evt$$,$textInput$$,!1,!0)}catch($e$$){this.handleError($e$$)}}),0)}}catch($e$$){this.handleError($e$$)}}),!0);var $isSelectionAllowed2$$=this.isSelectionAllowed;
this.isSelectionAllowed=function($evt$$){return mxEvent.getSource($evt$$)==$textInput$$?!0:$isSelectionAllowed2$$.apply(this,arguments)}};EditorUi.prototype.setCurrentTheme=function($value$$,$noRestart$$){mxSettings.setUi($value$$);($noRestart$$=this.doSetCurrentTheme($value$$)||$noRestart$$)||this.alert(mxResources.get("restartForChangeRequired"))};EditorUi.prototype.isDefaultTheme=function($theme$$){return""==$theme$$||"dark"==$theme$$||"default"==$theme$$||"kennedy"==$theme$$||null==$theme$$};
EditorUi.prototype.doSetCurrentTheme=function($value$$,$delay$$,$post$$){function $isSimple$$($theme$$){return"simple"==$theme$$||0==$delay$$&&"sketch"==$theme$$}$delay$$=null!=$delay$$?$delay$$:150;var $curr$$=Editor.currentTheme,$transition$$=$isSimple$$($curr$$)&&this.isDefaultTheme($value$$)||this.isDefaultTheme($curr$$)&&$isSimple$$($value$$),$noRestart$$=$transition$$&&"sketch"!=$value$$&&"sketch"!=$curr$$;$transition$$&&!this.themeSwitching&&(Editor.currentTheme=$value$$,this.themeSwitching=
!0,mxUtils.setPrefixedStyle(this.container.style,"transition","all "+$delay$$+"ms ease-in-out"),0==$delay$$&&(this.container.style.opacity="0"),window.setTimeout(mxUtils.bind(this,function(){var $scrollState$$=this.saveScrollState();this.editor.graph.stopEditing(!1);this.container.style.opacity="0";window.setTimeout(mxUtils.bind(this,function(){$isSimple$$($curr$$)&&this.isDefaultTheme($value$$)?(this.menubarContainer.style.display="",this.toolbarContainer.style.display="block",this.tabContainer.style.display=
"flex",this.hsplit.style.display="block",this.menubarHeight=App.prototype.menubarHeight):this.isDefaultTheme($curr$$)&&$isSimple$$($value$$)&&(this.menubarContainer.style.display="none",this.toolbarContainer.style.display="none",this.menubarHeight=0,"simple"!=$value$$?(this.tabContainer.style.display="none",this.hsplit.style.display="none",this.hsplitPosition=0):this.tabContainer.style.display="flex");this.switchTheme($value$$);window.setTimeout(mxUtils.bind(this,function(){this.fireEvent(new mxEventObject("currentThemeChanged"));
this.editor.fireEvent(new mxEventObject("statusChanged"));this.editor.graph.refresh();this.restoreScrollState($scrollState$$);this.container.style.opacity="";window.setTimeout(mxUtils.bind(this,function(){mxUtils.setPrefixedStyle(this.container.style,"transition",null);delete this.themeSwitching;isLocalStorage&&$isSimple$$($value$$)&&this.setTabContainerVisible(null!=mxSettings.settings.pages?mxSettings.settings.pages:!0);null!=$post$$&&$post$$()}),$delay$$)}),$delay$$)}),$delay$$)}),0));return $noRestart$$};
EditorUi.prototype.saveScrollState=function(){var $t$$=this.editor.graph.view.translate,$x$$=this.diagramContainer.scrollLeft,$y$$=this.diagramContainer.scrollTop;null!=this.embedViewport&&(Editor.inlineFullscreen?($x$$-=this.embedViewport.x,$y$$-=this.embedViewport.y):($x$$+=this.embedViewport.x,$y$$+=this.embedViewport.y));return{x:$x$$,y:$y$$,tx:$t$$.x,ty:$t$$.y}};EditorUi.prototype.restoreScrollState=function($state$$){var $s$$=this.editor.graph.view.scale,$t$$=this.editor.graph.view.translate;
this.diagramContainer.scrollLeft=$state$$.x+($t$$.x-$state$$.tx)*$s$$;this.diagramContainer.scrollTop=$state$$.y+($t$$.y-$state$$.ty)*$s$$};EditorUi.prototype.installStatusMinimizer=function($parent$$){$parent$$=null!=$parent$$?$parent$$:this.statusContainer.parentNode;var $visible$$=!1;mxEvent.addListener($parent$$,"mouseenter",mxUtils.bind(this,function(){"sketch"==Editor.currentTheme&&""!=this.editor.getStatus()&&(this.statusContainer.style.display="inline-flex")}));mxEvent.addListener($parent$$,
"mouseleave",mxUtils.bind(this,function(){"sketch"!=Editor.currentTheme||$visible$$||(this.statusContainer.style.display="none")}));var $statusChanged$$=mxUtils.bind(this,function(){if("sketch"==Editor.currentTheme){var $elt$jscomp$29_empty_title$$=null!=this.statusContainer.firstChild&&"function"===typeof this.statusContainer.firstChild.getAttribute?this.statusContainer.firstChild:null;$visible$$=null!=$elt$jscomp$29_empty_title$$&&null!=$elt$jscomp$29_empty_title$$.getAttribute("class");if(!$visible$$&&
null!=$elt$jscomp$29_empty_title$$){$elt$jscomp$29_empty_title$$=$elt$jscomp$29_empty_title$$.getAttribute("title");var $file$jscomp$39_key$$=this.getCurrentFile();$file$jscomp$39_key$$=null!=$file$jscomp$39_key$$?$file$jscomp$39_key$$.savingStatusKey:DrawioFile.prototype.savingStatusKey;$elt$jscomp$29_empty_title$$==mxResources.get($file$jscomp$39_key$$)+"..."&&(this.statusContainer.innerHTML='<div><img title="'+mxUtils.htmlEntities(mxResources.get($file$jscomp$39_key$$))+'..."src="'+Editor.tailSpin+
'"></div>',$visible$$=!0)}this.statusContainer.style.display="none";$elt$jscomp$29_empty_title$$=32>=$parent$$.clientWidth;$parent$$.style.visibility=$elt$jscomp$29_empty_title$$&&""==this.editor.getStatus()?"hidden":"";if($elt$jscomp$29_empty_title$$||$visible$$)this.statusContainer.style.display="inline-flex",$visible$$=!0}else"simple"==Editor.currentTheme?(this.statusContainer.style.display="inline-flex",this.statusContainer.style.display=0==this.statusContainer.clientWidth?"none":"inline-flex"):
this.statusContainer.style.display="inline-flex"});this.editor.addListener("statusChanged",$statusChanged$$);$statusChanged$$()};EditorUi.prototype.switchTheme=function($closeButton_value$$){this.isDefaultTheme($closeButton_value$$)&&null!=this.formatContainer&&(this.formatContainer.style.left="",this.formatContainer.style.zIndex="1",this.formatContainer.style.border="",null!=this.footerContainer&&this.footerContainer.parentNode!=this.formatContainer.parentNode&&this.footerContainer.parentNode.insertBefore(this.formatContainer,
this.footerContainer),null!=this.sidebarContainer&&this.formatContainer.parentNode!=this.sidebarContainer.parentNode&&this.formatContainer.parentNode.insertBefore(this.sidebarContainer,this.formatContainer));this.destroyWindows();this.updateUserElement();this.updateDefaultStyles();this.switchThemeConstants($closeButton_value$$);this.switchCssForTheme($closeButton_value$$);this.createWrapperForTheme($closeButton_value$$);this.createMainMenuForTheme($closeButton_value$$);this.createFooterMenuForTheme($closeButton_value$$);
this.createPickerMenuForTheme($closeButton_value$$);this.createMenubarForTheme($closeButton_value$$);this.sidebarContainer.style.display="";if("sketch"==$closeButton_value$$){this.createFormatWindow();this.formatContainer.style.left="0px";this.formatContainer.style.top="0px";this.formatContainer.style.width="";this.formatContainer.style.zIndex="";this.formatContainer.style.border="none";var $libs$$=Editor.enableCustomLibraries&&("1"!=urlParams.embed||"1"==urlParams.libraries);this.createShapesWindow();
this.sidebarContainer.className="";this.sidebarContainer.style.position="absolute";this.sidebarContainer.style.left="0px";this.sidebarContainer.style.top="0px";this.sidebarContainer.style.bottom=$libs$$?"32px":"0px";this.sidebarContainer.style.width="100%"}null!=this.format&&($closeButton_value$$=this.isDefaultTheme($closeButton_value$$)||"atlas"==$closeButton_value$$,this.format.showCloseButton!=$closeButton_value$$&&(this.format.showCloseButton=$closeButton_value$$,this.format.refresh()))};EditorUi.prototype.getWindows=
function(){var $wnd$$=[this.sidebarWindow,this.formatWindow,this.freehandWindow];null!=this.actions&&($wnd$$=$wnd$$.concat([this.actions.outlineWindow,this.actions.layersWindow]));null!=this.menus&&($wnd$$=$wnd$$.concat([this.menus.tagsWindow,this.menus.findWindow,this.menus.findReplaceWindow,this.menus.commentsWindow]));return $wnd$$};EditorUi.prototype.fitWindows=function(){for(var $wnd$$=this.getWindows(),$i$$=0;$i$$<$wnd$$.length;$i$$++)null!=$wnd$$[$i$$]&&$wnd$$[$i$$].window.fit()};EditorUi.prototype.hideWindows=
function(){for(var $wnd$$=this.getWindows(),$i$$=0;$i$$<$wnd$$.length;$i$$++)null!=$wnd$$[$i$$]&&$wnd$$[$i$$].window.setVisible(!1)};EditorUi.prototype.destroyWindows=function(){null!=this.sidebarWindow&&(this.sidebarWindow.destroy(),this.sidebarWindow=null);null!=this.formatWindow&&(this.formatWindow.destroy(),this.formatWindow=null);null!=this.freehandWindow&&(this.freehandWindow.destroy(),this.freehandWindow=null);null!=this.actions.outlineWindow&&(this.actions.outlineWindow.destroy(),this.actions.outlineWindow=
null);null!=this.actions.layersWindow&&(this.actions.layersWindow.destroy(),this.actions.layersWindow=null);null!=this.menus&&(null!=this.menus.chatWindow&&(this.menus.chatWindow.destroy(),this.menus.chatWindow=null),null!=this.menus.tagsWindow&&(this.menus.tagsWindow.destroy(),this.menus.tagsWindow=null),null!=this.menus.findWindow&&(this.menus.findWindow.destroy(),this.menus.findWindow=null),null!=this.menus.findReplaceWindow&&(this.menus.findReplaceWindow.destroy(),this.menus.findReplaceWindow=
null),null!=this.menus.commentsWindow&&(this.menus.commentsWindow.destroy(),this.menus.commentsWindow=null))};EditorUi.prototype.switchThemeConstants=function($value$$){var $graph$$=this.editor.graph;$graph$$.defaultEdgeLength=Graph.prototype.defaultEdgeLength;$graph$$.defaultGridEnabled=Graph.prototype.defaultGridEnabled;$graph$$.defaultPageVisible=Graph.prototype.defaultPageVisible;null!=this.menus&&(this.menus.autoPopup="simple"!=$value$$&&"sketch"!=$value$$);if("simple"==$value$$||"sketch"==$value$$){Editor.fitWindowBorders=
new mxRectangle(60,30,30,30);if(null==Editor.config||null==Editor.config.defaultEdgeLength)$graph$$.defaultEdgeLength=120;null==urlParams.grid&&($graph$$.defaultGridEnabled=!1);null==urlParams.pv&&($graph$$.defaultPageVisible=!1)}else Editor.fitWindowBorders=null};EditorUi.prototype.switchCssForTheme=function($value$$){null!=this.sketchStyleElt&&(this.sketchStyleElt.parentNode.removeChild(this.sketchStyleElt),this.sketchStyleElt=null)};EditorUi.prototype.createWrapperForTheme=function($value$$){null!=
this.sketchWrapperElt&&null!=this.sketchWrapperElt.parentNode&&(this.tabContainer.parentNode.insertBefore(this.diagramContainer,this.tabContainer),this.sketchWrapperElt.parentNode.removeChild(this.sketchWrapperElt))};EditorUi.prototype.createMainMenuForTheme=function($value$$){};EditorUi.prototype.isPageMenuVisible=function(){return null!=this.pages&&("0"!=urlParams.pages||1<this.pages.length||Editor.pagesVisible)};EditorUi.prototype.createFooterMenuForTheme=function($value$$){};EditorUi.prototype.createPickerMenuForTheme=
function($value$$){};EditorUi.prototype.getNetworkStatus=function(){var $err$jscomp$20_status$$=null;if(this.isOffline(!0))$err$jscomp$20_status$$=mxResources.get("offline");else{var $file$$=this.getCurrentFile();null!=$file$$&&($file$$.invalidChecksum?$err$jscomp$20_status$$=mxResources.get("error")+": "+mxResources.get("checksum"):null==$file$$.sync||$file$$.sync.enabled&&$file$$.sync.isRealtimeActive()||"atlassian"==this.getServiceName()?null==$file$$.sync||$file$$.sync.isConnected()?$file$$.isRealtimeEnabled()&&
$file$$.isRealtimeSupported()&&1<$file$$.getRealtimeState()&&($err$jscomp$20_status$$=$file$$.getRealtimeError(),$err$jscomp$20_status$$=mxResources.get("realtimeCollaboration")+": "+(null!=$err$jscomp$20_status$$&&null!=$err$jscomp$20_status$$.message?$err$jscomp$20_status$$.message:mxResources.get("error"))):$err$jscomp$20_status$$=mxResources.get("notConnected"):$err$jscomp$20_status$$=mxResources.get("realtimeCollaboration")+": "+mxResources.get("disabled"))}return $err$jscomp$20_status$$};EditorUi.prototype.createMenubarForTheme=
function($elt$jscomp$30_value$$){null!=this.statusContainer&&(this.statusContainer.style.flexGrow="",this.statusContainer.style.flexShrink="",this.statusContainer.style.width="",this.statusContainer.style.marginTop="",this.statusContainer.style.justifyContent="",this.statusContainer.style.opacity="",this.menubar.container.appendChild(this.statusContainer));null!=this.userElement&&this.menubarContainer.appendChild(this.userElement);$elt$jscomp$30_value$$=this.menubar.langIcon;null!=$elt$jscomp$30_value$$&&
($elt$jscomp$30_value$$.style.position="absolute",$elt$jscomp$30_value$$.style.height="18px",$elt$jscomp$30_value$$.style.width="18px",$elt$jscomp$30_value$$.style.flexShrink="",$elt$jscomp$30_value$$.style.opacity="",this.menubarContainer.parentNode.insertBefore($elt$jscomp$30_value$$,this.menubarContainer));null!=this.buttonContainer&&(this.buttonContainer.style.display="",this.buttonContainer.style.padding="",this.menubar.container.appendChild(this.buttonContainer))};EditorUi.prototype.createMenu=
function($key$$,$img$$,$className$$,$clickFn_elt$$){$className$$=null!=$className$$?$className$$:"geToolbarButton";var $menu$$=this.menus.get($key$$);$clickFn_elt$$=this.menubar.addMenu(mxResources.get($key$$),$menu$$.funct,null,$clickFn_elt$$);$clickFn_elt$$.className=$className$$;$clickFn_elt$$.style.display="inline-block";$clickFn_elt$$.style.cursor="pointer";$clickFn_elt$$.style.height="24px";$clickFn_elt$$.setAttribute("title",mxResources.get($key$$));this.menus.menuCreated($menu$$,$clickFn_elt$$,
$className$$);null!=$img$$&&($clickFn_elt$$.style.backgroundImage="url("+$img$$+")",$clickFn_elt$$.style.backgroundPosition="center center",$clickFn_elt$$.style.backgroundRepeat="no-repeat",$clickFn_elt$$.style.backgroundSize="100% 100%",$clickFn_elt$$.style.width="24px",$clickFn_elt$$.innerText="");return $clickFn_elt$$};EditorUi.prototype.createToolbarButton=function($img$$,$title$$,$fn$$,$size$$){$size$$=null!=$size$$?$size$$:24;var $btn$$=document.createElement("a");$btn$$.className="geToolbarButton geAdaptiveAsset";
$btn$$.setAttribute("title",$title$$);$btn$$.style.backgroundImage="url("+$img$$+")";$btn$$.style.backgroundPosition="center center";$btn$$.style.backgroundRepeat="no-repeat";$btn$$.style.backgroundSize="100% 100%";$btn$$.style.display="inline-block";$btn$$.style.cursor="pointer";$btn$$.style.marginLeft="6px";$btn$$.style.width=$size$$+"px";$btn$$.style.height=$size$$+"px";null!=$fn$$&&(mxEvent.addListener($btn$$,mxClient.IS_POINTER?"pointerdown":"mousedown",mxUtils.bind(this,function($evt$$){$evt$$.preventDefault()})),
mxEvent.addListener($btn$$,"click",function($evt$$){"disabled"!=$btn$$.getAttribute("disabled")&&$fn$$($evt$$);mxEvent.consume($evt$$)}));return $btn$$};EditorUi.prototype.createMenuItem=function($key$$,$img$$,$ignoreState$$){var $action$$=this.actions.get($key$$),$fn$$=null!=$action$$?$action$$.funct:null,$btn$$=this.createToolbarButton($img$$,mxResources.get($key$$)+(null!=$action$$&&null!=$action$$.shortcut?" ("+$action$$.shortcut+")":""),$fn$$);null==$action$$||$ignoreState$$||($key$$=function(){$action$$.isEnabled()?
($btn$$.removeAttribute("disabled"),$btn$$.style.cursor="pointer"):($btn$$.setAttribute("disabled","disabled"),$btn$$.style.cursor="default");$btn$$.style.opacity=$action$$.isEnabled()?"":"0.2"},this.editor.graph.addListener("enabledChanged",$key$$),$action$$.addListener("stateChanged",$key$$),$key$$());return $btn$$};EditorUi.prototype.createFormatWindow=function(){if(null==this.formatWindow){var $ih$jscomp$2_x$$=Math.max(10,this.diagramContainer.parentNode.clientWidth-256),$h$$="1"==urlParams.embedInline?
580:"1"==urlParams.sketch?580:Math.min(566,this.editor.graph.container.clientHeight-10);this.formatWindow=new WrapperWindow(this,mxResources.get("format"),$ih$jscomp$2_x$$,60,240,$h$$,mxUtils.bind(this,function($container$$){$container$$.appendChild(this.formatContainer)}));this.formatWindow.window.addListener(mxEvent.SHOW,mxUtils.bind(this,function(){this.formatWindow.window.fit()}));var $toggleMinimized$$=this.formatWindow.window.toggleMinimized,$w$$=240;this.formatWindow.window.toggleMinimized=
function(){$toggleMinimized$$.apply(this,arguments);this.minimized?($w$$=parseInt(this.div.style.width),this.div.style.width="140px",this.table.style.width="140px",this.div.style.left=parseInt(this.div.style.left)+$w$$-140+"px"):(this.div.style.width=$w$$+"px",this.table.style.width=this.div.style.width,this.div.style.left=Math.max(0,parseInt(this.div.style.left)-$w$$+140)+"px");this.fit()};mxEvent.addListener(this.formatWindow.window.title,"dblclick",mxUtils.bind(this,function($evt$$){mxEvent.getSource($evt$$)==
this.formatWindow.window.title&&this.formatWindow.window.toggleMinimized()}));this.formatWindow.window.minimumSize=new mxRectangle(0,0,240,80);"sketch"==Editor.currentTheme?($ih$jscomp$2_x$$=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,(1200>(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)||708>$ih$jscomp$2_x$$)&&this.formatWindow.window.toggleMinimized()):this.formatWindow.window.setVisible(!1)}};var $editorUiToggleFormatPanel$$=
EditorUi.prototype.toggleFormatPanel;EditorUi.prototype.toggleFormatPanel=function($visible$$){var $wnd$$=this.formatWindow;null!=$wnd$$?$wnd$$.window.setVisible(null!=$visible$$?$visible$$:!this.isFormatPanelVisible()):$editorUiToggleFormatPanel$$.apply(this,arguments)};EditorUi.prototype.toggleShapesPanel=function($visible$$){if(this.isShapesPanelVisible()!=$visible$$){var $size$$=EditorUi.prototype.hsplitPosition;0==$size$$&&($size$$=this.defaultSidebarWidth);var $x$$=this.hsplitPosition,$doRefresh$$=
mxUtils.bind(this,function(){this.hsplitPosition=$tmp$$;this.refresh();this.diagramContainer.scrollLeft-=$x$$-this.hsplitPosition}),$tmp$$=$visible$$?$size$$:0;mxUtils.setPrefixedStyle(this.sidebarContainer.style,"transform",0==$tmp$$?"translateX(0)":"translateX(-100%)");0!=$tmp$$&&$doRefresh$$();window.setTimeout(mxUtils.bind(this,function(){mxUtils.setPrefixedStyle(this.sidebarContainer.style,"transform",0==$tmp$$?"translateX(-100%)":"translateX(0)");mxUtils.setPrefixedStyle(this.sidebarContainer.style,
"transition","transform 0.3s ease-in-out");mxUtils.setPrefixedStyle(this.sidebarContainer.style,"transform-origin","top left");window.setTimeout(mxUtils.bind(this,function(){mxUtils.setPrefixedStyle(this.sidebarContainer.style,"transition",null);mxUtils.setPrefixedStyle(this.sidebarContainer.style,"transform",null);mxUtils.setPrefixedStyle(this.sidebarContainer.style,"transform-origin",null);0==$tmp$$&&$doRefresh$$()}),300)}),10)}};EditorUi.prototype.isShapesPanelVisible=function(){return 0<this.hsplitPosition};
var $editorUiIsFormatPanelVisible$$=EditorUi.prototype.isFormatPanelVisible;EditorUi.prototype.isFormatPanelVisible=function(){var $wnd$$=this.formatWindow;return null!=$wnd$$?$wnd$$.window.isVisible():$editorUiIsFormatPanelVisible$$.apply(this,arguments)};var $editorUiRefresh$$=EditorUi.prototype.refresh;EditorUi.prototype.refresh=function($sizeDidChange$$){if(null!=this.sketchWrapperElt&&null!=this.sketchWrapperElt.parentNode){$sizeDidChange$$=null!=$sizeDidChange$$?$sizeDidChange$$:!0;if("1"!=
urlParams.embedInline){var $effHsplitPosition$jscomp$1_w$$=this.container.clientWidth;this.container==document.body&&($effHsplitPosition$jscomp$1_w$$=document.body.clientWidth||document.documentElement.clientWidth);var $off$$=this.getDiagramContainerOffset();var $x$$=$off$$.x;var $y$$=$off$$.y;"simple"==Editor.currentTheme&&($y$$+=this.sketchMainMenuElt.offsetHeight);this.diagramContainer.style.top=$y$$+"px";this.diagramContainer.style.bottom="0";"simple"==Editor.currentTheme?(this.hsplit.style.top=
this.sketchMainMenuElt.offsetHeight+"px",this.sidebarContainer.style.top=this.hsplit.style.top,this.formatContainer.style.top=this.hsplit.style.top,$effHsplitPosition$jscomp$1_w$$=Math.max(0,Math.min((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-this.formatWidth,Math.min(this.hsplitPosition,$effHsplitPosition$jscomp$1_w$$-this.splitSize-40))),this.sidebarContainer.style.width=$effHsplitPosition$jscomp$1_w$$+"px",this.diagramContainer.style.left=$effHsplitPosition$jscomp$1_w$$+
$x$$+"px",this.tabContainer.style.left=$effHsplitPosition$jscomp$1_w$$+"px",this.tabContainer.style.right=this.formatWidth+"px",this.sketchMainMenuElt.style.left="0px",this.sketchMainMenuElt.style.right="0px",this.hsplit.style.left=$effHsplitPosition$jscomp$1_w$$+"px",this.diagramContainer.style.right=this.formatWidth+"px",this.formatContainer.style.width=this.formatWidth+"px",this.hsplit.style.bottom=this.tabContainer.offsetHeight+"px",this.diagramContainer.style.bottom=this.hsplit.style.bottom,
this.checkTabScrollerOverflow()):(this.diagramContainer.style.left=$off$$.x+"px",this.diagramContainer.style.right="0")}$sizeDidChange$$&&this.editor.graph.sizeDidChange()}else $editorUiRefresh$$.apply(this,arguments)};EditorUi.prototype.createShapesPanel=function($container$$){var $addMenu_div$$=mxUtils.bind(this,function($elt$jscomp$33_id$$){$elt$jscomp$33_id$$=this.createMenu($elt$jscomp$33_id$$,null,"geTitle");$elt$jscomp$33_id$$.style.cssText="position:absolute;border-width:1px;cusor:pointer;border-style:none;height:24px;bottom:0px;text-align:center;padding:8px 6px 0 6px;border-top-style:solid;width:50%;height:32px;box-sizing:border-box;font-size:11px;";
$container$$.appendChild($elt$jscomp$33_id$$);return $elt$jscomp$33_id$$});if(Editor.enableCustomLibraries&&("1"!=urlParams.embed||"1"==urlParams.libraries))if(null!=this.actions.get("newLibrary"))$addMenu_div$$=document.createElement("div"),$addMenu_div$$.style.cssText="position:absolute;border-width:1px;cusor:pointer;border-style:none;height:24px;bottom:0px;text-align:center;padding:8px 6px 0 6px;border-top-style:solid;width:50%;height:32px;box-sizing:border-box;font-size:11px;",$addMenu_div$$.className=
"geTitle",mxUtils.write($addMenu_div$$,mxResources.get("newLibrary")),$container$$.appendChild($addMenu_div$$),mxEvent.addListener($addMenu_div$$,"click",this.actions.get("newLibrary").funct),$addMenu_div$$=$addMenu_div$$.cloneNode(!1),$addMenu_div$$.style.left="50%",$addMenu_div$$.style.borderLeftStyle="solid",mxUtils.write($addMenu_div$$,mxResources.get("openLibrary")),$container$$.appendChild($addMenu_div$$),mxEvent.addListener($addMenu_div$$,"click",this.actions.get("openLibrary").funct);else{var $elt$$=
$addMenu_div$$("newLibrary");$elt$$.style.fontSize="11px";$elt$$.style.left="0";$elt$$=$addMenu_div$$("openLibraryFrom");$elt$$.style.borderLeftStyle="solid";$elt$$.style.fontSize="11px";$elt$$.style.left="50%"}$container$$.appendChild(this.sidebarContainer);$container$$.style.overflow="hidden"};EditorUi.prototype.createShapesWindow=function(){if(null==this.sidebarWindow){var $w$$=Math.min(this.diagramContainer.parentNode.clientWidth-10,218),$h$$="1"==urlParams.embedInline?650:Math.min(this.diagramContainer.parentNode.clientHeight,
650),$simpleTheme$$="simple"==Editor.currentTheme||"sketch"==Editor.currentTheme;this.sidebarWindow=new WrapperWindow(this,mxResources.get("shapes"),$simpleTheme$$&&"1"!=urlParams.embedInline?66:10,$simpleTheme$$&&"1"!=urlParams.embedInline?Math.max(30,(this.diagramContainer.parentNode.clientHeight-$h$$)/2):56,$w$$-6,$h$$-6,mxUtils.bind(this,function($container$$){this.createShapesPanel($container$$)}));this.sidebarWindow.window.addListener(mxEvent.SHOW,mxUtils.bind(this,function(){this.sidebarWindow.window.fit()}));
this.sidebarWindow.window.minimumSize=new mxRectangle(0,0,90,90);this.sidebarWindow.window.setVisible(!1)}};EditorUi.prototype.setSketchMode=function($value$$){this.spinner.spin(document.body,mxResources.get("working")+"...")&&window.setTimeout(mxUtils.bind(this,function(){this.spinner.stop();this.doSetSketchMode($value$$);null==urlParams.rough&&(mxSettings.settings.sketchMode=$value$$,mxSettings.save());this.fireEvent(new mxEventObject("sketchModeChanged"))}),0)};Editor.createMinimalCss=function(){return(Editor.isDarkMode()?
"html body .geMenubarContainer .geMenuItem .geMenuItem, html body .geMenubarContainer a.geMenuItem { color: #353535; }html body .geToolbarContainer .geMenuItem, html body .geToolbarContainer .geToolbarButton, html body .geMenubarContainer .geMenuItem .geMenuItem, html body .geMenubarContainer a.geMenuItem,html body .geMenubarContainer .geToolbarButton { filter: invert(1); }html > body.geEditor > div > a.geItem { background-color: "+Editor.darkColor+"; color: #cccccc; border-color: #505759; }html body .mxCellEditor { color: #f0f0f0; }":
"div.diagramContainer button.gePrimaryBtn, .mxWindow button.gePrimaryBtn, .geDialog button.gePrimaryBtn, html body .gePrimaryBtn { background: #29b6f2 !important; color: #fff !important; border: none !important; box-shadow: none !important; }html body .gePrimaryBtn:hover:not([disabled]) { background: #12a2e0 !important; }")+'html body .geStatus { overflow: hidden; text-overflow: ellipsis; }html body .geStatus > *:not([class]) { vertical-align:top; }html > body > div > a.geItem { background-color: #ffffff; color: #707070; border-top: 1px solid lightgray; border-left: 1px solid lightgray; }html body .mxWindow { z-index: 3; font-size: 12px; }html body table.mxWindow { font-size: 12px; }html body button.geBtn:active { opacity: 0.6; }html body a.geMenuItem { opacity: 0.75; cursor: pointer; user-select: none; }html body a.geMenuItem[disabled] { opacity: 0.2; }html body a.geMenuItem[disabled]:active { opacity: 0.2; }html body a.geMenuItem:active { opacity: 0.2; }html body .geToolbarButton:active { opacity: 0.15; }html body .geStatus:active { opacity: 0.5; }.geStatus > div { box-sizing: border-box; max-width: 100%; text-overflow: ellipsis; }html table.mxPopupMenu tr.mxPopupMenuItemHover:active { opacity: 0.7; }html body .mxWindow input[type="checkbox"] {padding: 0px; }.mxWindow button, .geDialog select, .mxWindow select { display:inline-block; }html body .mxWindow .geColorBtn, html body .geDialog .geColorBtn { background: none; }html body div.diagramContainer button:active, html body .mxWindow button:active, html body .geDialog button:active { opacity: 0.6; }.geBtn button { min-width:72px !important; }div.geToolbarContainer a.geButton { margin:0px; padding: 0 2px 4px 2px; } html body div.geToolbarContainer a.geColorBtn { margin: 2px; } table.mxWindow td.mxWindowPane button.geColorBtn { padding:0px; box-sizing: border-box; }html body .geMenuItem { font-size:14px; text-decoration: none; font-weight: normal; padding: 6px 10px 6px 10px; border: none; border-radius: 5px; color: #353535; box-shadow: inset 0 0 0 1px rgba(0,0,0,.11), inset 0 -1px 0 0 rgba(0,0,0,.08), 0 1px 2px 0 rgba(0,0,0,.04); '+
(EditorUi.isElectronApp?"app-region: no-drag; ":"")+"}div.mxWindow td.mxWindowPane button { background-image: none; float: none; }html div.geVerticalHandle { position:absolute;bottom:0px;left:50%;cursor:row-resize;width:11px;height:11px;background:white;margin-bottom:-6px; margin-left:-6px; border: none; border-radius: 6px; box-shadow: inset 0 0 0 1px rgba(0,0,0,.11), inset 0 -1px 0 0 rgba(0,0,0,.08), 0 1px 2px 0 rgba(0,0,0,.04); }html div.mxRubberband { border:1px solid; border-color: #29b6f2 !important; background:rgba(41,182,242,0.4) !important; } html body div.mxPopupMenu { border-radius:5px; border:1px solid #c0c0c0; padding:5px 0 5px 0; box-shadow: 0px 4px 17px -4px rgba(96,96,96,1); } html table.mxPopupMenu td.mxPopupMenuItem { color: "+
(Editor.isDarkMode()?"#cccccc":"#353535")+"; font-size: 14px; padding-top: 4px; padding-bottom: 4px; }html table.mxPopupMenu tr.mxPopupMenuItemHover { background-color: "+(Editor.isDarkMode()?"#000000":"#29b6f2")+"; }html tr.mxPopupMenuItemHover td.mxPopupMenuItem, html tr.mxPopupMenuItemHover td.mxPopupMenuItem span { color: "+(Editor.isDarkMode()?"#cccccc":"#ffffff")+" !important; }html tr.mxPopupMenuItem, html td.mxPopupMenuItem { transition-property: none !important; }html body td.mxWindowTitle { padding-right: 14px; }"};
EditorUi.prototype.setAndPersistDarkMode=function($value$$){var $actual$jscomp$1_theme$$=$value$$;"auto"==$value$$&&($actual$jscomp$1_theme$$=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches);this.setDarkMode($actual$jscomp$1_theme$$);mxSettings.settings.darkMode=$value$$;mxSettings.save();$actual$jscomp$1_theme$$=mxSettings.getUi();null==urlParams.ui&&"auto"!=$value$$&&"atlas"!=$actual$jscomp$1_theme$$&&"min"!=$actual$jscomp$1_theme$$&&"sketch"!=$actual$jscomp$1_theme$$&&
"simple"!=$actual$jscomp$1_theme$$&&this.setCurrentTheme($value$$?"dark":"kennedy",!0)};EditorUi.prototype.setAndPersistLanguage=function($value$$){mxSettings.setLanguage($value$$);mxSettings.save();mxClient.language=$value$$;mxResources.loadDefaultBundle=!1;mxResources.add(RESOURCE_BASE)};EditorUi.prototype.isRulerVisible=function(){return null!=this.ruler};EditorUi.prototype.setRulerVisible=function($after_visible$$){var $before$$=this.getDiagramContainerOffset();mxSettings.setRulerOn($after_visible$$);
mxSettings.save();$after_visible$$||null==this.ruler?$after_visible$$&&null==this.ruler&&(this.ruler=new mxDualRuler(this,this.editor.graph.view.unit)):(this.ruler.destroy(),this.ruler=null);this.refresh();this.fireEvent(new mxEventObject("rulerVisibleChanged"));$after_visible$$=this.getDiagramContainerOffset();this.diagramContainer.scrollLeft+=$after_visible$$.x-$before$$.x;this.diagramContainer.scrollTop+=$after_visible$$.x-$before$$.x};EditorUi.prototype.isAutoDarkModeSupported=function(){return null!=
window.matchMedia};EditorUi.prototype.isAutoDarkMode=function($ignoreUrl$$){return!$ignoreUrl$$&&"auto"==urlParams.dark||Editor.isSettingsEnabled()&&("auto"==mxSettings.settings.darkMode||"draw.io"==this.getServiceName()&&"1"!=urlParams.embed&&(!this.editor.chromeless||this.editor.editable)&&null==mxSettings.settings.darkMode)};EditorUi.prototype.setCssDarkModeEnabled=function($value$$){var $prev$$=Editor.isDarkMode()||Editor.cssDarkMode;$prev$$&&this.setDarkMode(!1);Editor.enableCssDarkMode=$value$$;
mxSettings.settings.enableCssDarkMode=Editor.enableCssDarkMode;mxSettings.save();this.setDarkMode($prev$$);this.fireEvent(new mxEventObject("cssDarkModeEnabledChanged"))};EditorUi.prototype.setDarkMode=function($value$$){this.doSetDarkMode($value$$,mxUtils.bind(this,function(){this.fireEvent(new mxEventObject("darkModeChanged"))}),mxUtils.bind(this,function($e$$){null!=window.console&&console.error($e$$);this.editor.setStatus($e$$.message)}))};EditorUi.prototype.createDarkStyle=function(){var $darkStyle$$=
document.createElement("link");$darkStyle$$.setAttribute("rel","stylesheet");$darkStyle$$.setAttribute("href",STYLE_PATH+"/dark.css");$darkStyle$$.setAttribute("charset","UTF-8");$darkStyle$$.setAttribute("type","text/css");return $darkStyle$$};EditorUi.setGraphDarkMode=function($graph$$,$container$$,$darkMode$$){$graph$$.view.defaultGridColor=$darkMode$$?mxGraphView.prototype.defaultDarkGridColor:mxGraphView.prototype.defaultGridColor;$graph$$.view.gridColor=$graph$$.view.defaultGridColor;$graph$$.defaultPageBackgroundColor=
"1"==urlParams.embedInline?"transparent":$darkMode$$?Editor.darkColor:"#ffffff";$graph$$.defaultPageBorderColor=$darkMode$$?"#000000":"#ffffff";$graph$$.shapeBackgroundColor=$darkMode$$?Editor.darkColor:"#ffffff";$graph$$.shapeForegroundColor=$darkMode$$?Editor.lightColor:"#000000";$graph$$.defaultThemeName=$darkMode$$?"darkTheme":"default-style2";$graph$$.graphHandler.previewColor=$darkMode$$?"#cccccc":"black";mxGraphHandler.prototype.previewColor=$graph$$.graphHandler.previewColor;null!=$container$$&&
($container$$.style.backgroundColor="1"==urlParams.embedInline?"transparent":$darkMode$$?Editor.darkColor:"#ffffff");$graph$$.loadStylesheet();Graph.prototype.defaultPageBackgroundColor=$graph$$.defaultPageBackgroundColor;Graph.prototype.defaultPageBorderColor=$graph$$.defaultPageBorderColor;Graph.prototype.shapeBackgroundColor=$graph$$.shapeBackgroundColor;Graph.prototype.shapeForegroundColor=$graph$$.shapeForegroundColor;Graph.prototype.defaultThemeName=$graph$$.defaultThemeName};EditorUi.prototype.setCssDarkMode=
function($value$$){var $node$$=mxUtils.isAncestorNode(document.body,this.container)?this.container:this.editor.graph.container;null!=$node$$&&($value$$?$node$$.classList.add("geDarkMode"):$node$$.classList.remove("geDarkMode"))};EditorUi.prototype.doSetDarkMode=function($value$$,$success$$,$error$$){if(Editor.enableCssDarkMode)this.setCssDarkMode($value$$),Editor.cssDarkMode=$value$$,$success$$();else{var $delayed$$=mxUtils.bind(this,function(){if(Editor.darkMode!=$value$$){var $graph$$=this.editor.graph;
Editor.darkMode=$value$$;this.spinner.opts.color=Editor.isDarkMode()?"#c0c0c0":"#000";EditorUi.setGraphDarkMode($graph$$,document.body,Editor.isDarkMode());null!=this.actions.layersWindow&&($graph$$=this.actions.layersWindow.window.isVisible(),this.actions.layersWindow.window.setVisible(!1),this.actions.layersWindow.destroy(),this.actions.layersWindow=null,$graph$$&&window.setTimeout(this.actions.get("layers").funct,0));null!=this.menus&&null!=this.menus.commentsWindow&&(this.menus.commentsWindow.window.setVisible(!1),
this.menus.commentsWindow.destroy(),this.menus.commentsWindow=null);null!=this.ruler&&this.ruler.updateStyle();null!=window.StyleFormatPanel&&(StyleFormatPanel.prototype.defaultStrokeColor=Editor.isDarkMode()?"#cccccc":"black");null!=window.Format&&(Format.inactiveTabBackgroundColor=Editor.isDarkMode()?"#000000":"#e4e4e4");mxConstants.DROP_TARGET_COLOR=Editor.isDarkMode()?"#00ff00":"#0000FF";Editor.checkmarkImage=Editor.isDarkMode()&&mxClient.IS_SVG?Editor.darkCheckmarkImage:Editor.lightCheckmarkImage;
null!=this.sketchStyleElt?this.sketchStyleElt.innerHTML=Editor.createMinimalCss():null!=Editor.styleElt&&(Editor.styleElt.innerHTML=Editor.createMinimalCss())}Editor.isDarkMode()?null==this.darkStyle.parentNode&&document.getElementsByTagName("head")[0].appendChild(this.darkStyle):null!=this.darkStyle.parentNode&&this.darkStyle.parentNode.removeChild(this.darkStyle);$success$$()});if(null!=this.darkStyle)$delayed$$();else{var $darkStyle$$=this.createDarkStyle();this.createTimeout(null,mxUtils.bind(this,
function($timeout$$){$darkStyle$$.onerror=mxUtils.bind(this,function($e$$){$timeout$$.clear()&&$error$$(Error(mxResources.get("errorLoadingFile")+" "+$darkStyle$$.getAttribute("href")))});$darkStyle$$.onload=mxUtils.bind(this,function(){$timeout$$.clear()&&(this.darkStyle=$darkStyle$$,$delayed$$())});document.getElementsByTagName("head")[0].appendChild($darkStyle$$)}),mxUtils.bind(this,function(){$error$$(Error(mxResources.get("timeout")+" "+$darkStyle$$.getAttribute("href")))}))}}};EditorUi.prototype.setPagesVisible=
function($value$$){Editor.pagesVisible!=$value$$&&(Editor.pagesVisible=$value$$,mxSettings.settings.pagesVisible=$value$$,mxSettings.save(),this.fireEvent(new mxEventObject("pagesVisibleChanged")))};EditorUi.prototype.setSidebarTitles=function($value$$,$remember$$){this.sidebar.sidebarTitles!=$value$$&&(this.sidebar.sidebarTitles=$value$$,this.sidebar.refresh(),Editor.isSettingsEnabled()&&$remember$$&&(mxSettings.settings.sidebarTitles=$value$$,mxSettings.save()),this.fireEvent(new mxEventObject("sidebarTitlesChanged")))};
EditorUi.prototype.setInlineFullscreen=function($value$$){Editor.inlineFullscreen!=$value$$&&(this.diagramContainer.setAttribute("data-scrollState",JSON.stringify(this.saveScrollState())),(window.opener||window.parent).postMessage(JSON.stringify({event:"resize",fullscreen:$value$$,rect:this.diagramContainer.getBoundingClientRect()}),"*"))};EditorUi.prototype.inlineSizeChanged=function(){var $footer$$=this.sketchFooterMenuElt,$toolbar$$=this.sketchMainMenuElt,$picker$$=this.sketchPickerMenuElt,$ds$jscomp$2_graph$$=
this.editor.graph;if(Editor.inlineFullscreen)$toolbar$$.style.left="10px",$toolbar$$.style.top="10px",$picker$$.style.left="10px",$picker$$.style.top="60px",$footer$$.style.top="10px",$footer$$.style.right="12px",$footer$$.style.left="",null==this.diagramContainer.getAttribute("data-bounds")&&(this.diagramContainer.setAttribute("data-bounds",this.diagramContainer.style.top+" "+this.diagramContainer.style.left+" "+this.diagramContainer.style.width+" "+this.diagramContainer.style.height),this.diagramContainer.style.top=
"0px",this.diagramContainer.style.left="0px",this.diagramContainer.style.bottom="0px",this.diagramContainer.style.right="0px",this.diagramContainer.style.width="",this.diagramContainer.style.height="");else{var $bounds$jscomp$100_w$$=this.diagramContainer.getAttribute("data-bounds");if(null!=$bounds$jscomp$100_w$$){this.diagramContainer.removeAttribute("data-bounds");$ds$jscomp$2_graph$$.getGraphBounds();var $h$jscomp$201_tokens$$=$bounds$jscomp$100_w$$.split(" ");$ds$jscomp$2_graph$$=mxUtils.getDocumentSize();
this.diagramContainer.style.top=$h$jscomp$201_tokens$$[0];this.diagramContainer.style.left=$h$jscomp$201_tokens$$[1];$bounds$jscomp$100_w$$=parseInt($h$jscomp$201_tokens$$[2]);$h$jscomp$201_tokens$$=parseInt($h$jscomp$201_tokens$$[3]);$bounds$jscomp$100_w$$=Math.min(null!=this.minInlineWidth?Math.max(this.minInlineWidth,$bounds$jscomp$100_w$$):$bounds$jscomp$100_w$$,$ds$jscomp$2_graph$$.width-80);$h$jscomp$201_tokens$$=Math.min(null!=this.minInlineHeight?Math.max(this.minInlineHeight,$h$jscomp$201_tokens$$):
$h$jscomp$201_tokens$$,$ds$jscomp$2_graph$$.height-80);this.diagramContainer.style.width=$bounds$jscomp$100_w$$+"px";this.diagramContainer.style.height=$h$jscomp$201_tokens$$+"px";this.diagramContainer.style.bottom="";this.diagramContainer.style.right="";(window.opener||window.parent).postMessage(JSON.stringify({event:"resize",rect:this.diagramContainer.getBoundingClientRect()}),"*")}$toolbar$$.style.left=this.diagramContainer.offsetLeft+"px";$toolbar$$.style.top=this.diagramContainer.offsetTop-$toolbar$$.offsetHeight-
4+"px";$picker$$.style.display="";$picker$$.style.left=this.diagramContainer.offsetLeft-$picker$$.offsetWidth-4+"px";$picker$$.style.top=this.diagramContainer.offsetTop+"px";$footer$$.style.left=this.diagramContainer.offsetLeft+this.diagramContainer.offsetWidth-$footer$$.offsetWidth+"px";$footer$$.style.top=$toolbar$$.style.top;$footer$$.style.right="";this.bottomResizer.style.left=this.diagramContainer.offsetLeft+(this.diagramContainer.offsetWidth-this.bottomResizer.offsetWidth)/2+"px";this.bottomResizer.style.top=
this.diagramContainer.offsetTop+this.diagramContainer.offsetHeight-this.bottomResizer.offsetHeight/2-1+"px";this.rightResizer.style.left=this.diagramContainer.offsetLeft+this.diagramContainer.offsetWidth-this.rightResizer.offsetWidth/2-1+"px";this.rightResizer.style.top=this.diagramContainer.offsetTop+(this.diagramContainer.offsetHeight-this.bottomResizer.offsetHeight)/2+"px"}this.bottomResizer.style.visibility=Editor.inlineFullscreen?"hidden":"";this.rightResizer.style.visibility=this.bottomResizer.style.visibility;
$toolbar$$.style.visibility="";$footer$$.style.visibility=""};EditorUi.prototype.doSetSketchMode=function($value$$){Editor.sketchMode!=$value$$&&(Editor.sketchMode=$value$$,this.updateDefaultStyles())};EditorUi.prototype.updateDefaultStyles=function(){var $graph$$=this.editor.graph;$graph$$.defaultVertexStyle=mxUtils.clone(Graph.prototype.defaultVertexStyle);$graph$$.defaultEdgeStyle=mxUtils.clone(Graph.prototype.defaultEdgeStyle);if(null==Editor.config||null==Editor.config.defaultVertexStyle&&null==
Editor.config.defaultEdgeStyle)"sketch"==Editor.currentTheme?($graph$$.vertexFontSize=20,$graph$$.edgeFontSize=$graph$$.vertexFontSize-4):"simple"==Editor.currentTheme?($graph$$.vertexFontSize=16,$graph$$.edgeFontSize=$graph$$.vertexFontSize-4):($graph$$.vertexFontSize=Graph.prototype.vertexFontSize,$graph$$.edgeFontSize=Graph.prototype.edgeFontSize),$graph$$.defaultEdgeStyle.fontSize=$graph$$.edgeFontSize;if(null==Editor.config||null==Editor.config.defaultEdgeStyle)"simple"==Editor.currentTheme?
($graph$$.defaultEdgeStyle.edgeStyle="none",$graph$$.defaultEdgeStyle.curved="1",$graph$$.defaultEdgeStyle.rounded="0",$graph$$.defaultEdgeStyle.endSize="8",$graph$$.defaultEdgeStyle.startSize="8"):"sketch"==Editor.currentTheme&&($graph$$.defaultEdgeStyle.edgeStyle="none",$graph$$.defaultEdgeStyle.curved="1",$graph$$.defaultEdgeStyle.rounded="0",$graph$$.defaultEdgeStyle.jettySize="auto",$graph$$.defaultEdgeStyle.orthogonalLoop="1",$graph$$.defaultEdgeStyle.endArrow="open",$graph$$.defaultEdgeStyle.endSize=
"14",$graph$$.defaultEdgeStyle.startSize="14",$graph$$.defaultEdgeStyle.sourcePerimeterSpacing="8",$graph$$.defaultEdgeStyle.targetPerimeterSpacing="8");if(null==Editor.config||null==Editor.config.defaultFonts){if(null==Editor.config||null==Editor.config.defaultVertexStyle&&null==Editor.config.defaultEdgeStyle){if("sketch"==Editor.currentTheme||Editor.sketchMode)$graph$$.defaultVertexStyle.fontFamily=Editor.sketchFontFamily,$graph$$.defaultVertexStyle.fontSource=Editor.sketchFontSource,$graph$$.defaultEdgeStyle.fontFamily=
Editor.sketchFontFamily,$graph$$.defaultEdgeStyle.fontSource=Editor.sketchFontSource;Editor.sketchMode&&($graph$$.defaultVertexStyle.sketch="1",$graph$$.defaultVertexStyle.curveFitting=Editor.sketchDefaultCurveFitting,$graph$$.defaultVertexStyle.jiggle=Editor.sketchDefaultJiggle,$graph$$.defaultVertexStyle.hachureGap="4",$graph$$.defaultEdgeStyle.sketch="1",$graph$$.defaultEdgeStyle.curveFitting=Editor.sketchDefaultCurveFitting,$graph$$.defaultEdgeStyle.jiggle=Editor.sketchDefaultJiggle,$graph$$.defaultEdgeStyle.hachureGap=
"4")}this.menus.defaultFonts="sketch"==Editor.currentTheme?Menus.prototype.defaultFonts.concat(Editor.sketchFonts):Menus.prototype.defaultFonts}$graph$$.currentVertexStyle=mxUtils.clone($graph$$.defaultVertexStyle);$graph$$.currentEdgeStyle=mxUtils.clone($graph$$.defaultEdgeStyle);this.clearDefaultStyle()};EditorUi.prototype.getLinkTitle=function($href$$){var $page$jscomp$15_title$$=Graph.prototype.getLinkTitle.apply(this,arguments);if(Graph.isPageLink($href$$)){var $comma$$=$href$$.indexOf(",");
0<$comma$$&&($page$jscomp$15_title$$=this.getPageById($href$$.substring($comma$$+1)),$page$jscomp$15_title$$=null!=$page$jscomp$15_title$$?$page$jscomp$15_title$$.getName():mxResources.get("pageNotFound"))}else"data:"==$href$$.substring(0,5)&&($page$jscomp$15_title$$=this.getCustomLinkTitle($href$$));return $page$jscomp$15_title$$};EditorUi.prototype.getCustomLinkTitle=function($href$$){var $result$$=mxResources.get("action");if("data:action/json,"==$href$$.substring(0,17))try{var $link$$=JSON.parse($href$$.substring(17));
null!=$link$$&&null!=$link$$.title&&($result$$=$link$$.title)}catch($e$$){}return $result$$};EditorUi.prototype.handleCustomLink=function($href$jscomp$27_page$$,$cell$jscomp$173_comma$$){if(Graph.isPageLink($href$jscomp$27_page$$))if($cell$jscomp$173_comma$$=$href$jscomp$27_page$$.indexOf(","),$href$jscomp$27_page$$=this.getPageById($href$jscomp$27_page$$.substring($cell$jscomp$173_comma$$+1)))this.selectPage($href$jscomp$27_page$$);else throw Error(mxResources.get("pageNotFound")||"Page not found");
else this.editor.graph.handleCustomLink($href$jscomp$27_page$$,$cell$jscomp$173_comma$$)};EditorUi.prototype.installSettings=function(){if(Editor.isSettingsEnabled()){Editor.pagesVisible=mxSettings.settings.pagesVisible;ColorDialog.recentColors=mxSettings.getRecentColors();if(isLocalStorage)try{window.addEventListener("storage",mxUtils.bind(this,function($evt$$){$evt$$.key==mxSettings.key&&(mxSettings.load(),ColorDialog.recentColors=mxSettings.getRecentColors(),this.menus.customFonts=mxSettings.getCustomFonts())}),
!1)}catch($e$$){}this.fireEvent(new mxEventObject("styleChanged","keys",[],"values",[],"cells",[]));this.menus.customFonts=mxSettings.getCustomFonts();this.addListener("customFontsChanged",mxUtils.bind(this,function($sender$$,$evt$$){mxSettings.setCustomFonts(this.menus.customFonts);mxSettings.save()}));this.editor.graph.connectionHandler.setCreateTarget(mxSettings.isCreateTarget());this.fireEvent(new mxEventObject("copyConnectChanged"));this.addListener("copyConnectChanged",mxUtils.bind(this,function($sender$$,
$evt$$){mxSettings.setCreateTarget(this.editor.graph.connectionHandler.isCreateTarget());mxSettings.save()}));this.editor.graph.pageFormat=null!=this.editor.graph.defaultPageFormat?this.editor.graph.defaultPageFormat:mxSettings.getPageFormat();this.addListener("pageFormatChanged",mxUtils.bind(this,function($sender$$,$evt$$){mxSettings.setPageFormat(this.editor.graph.pageFormat);mxSettings.save()}));this.editor.graph.view.gridColor=mxSettings.getGridColor(Editor.isDarkMode());this.editor.graph.view.defaultDarkGridColor=
mxSettings.getGridColor(!0);this.editor.graph.view.defaultGridColor=mxSettings.getGridColor(!1);this.addListener("gridColorChanged",mxUtils.bind(this,function($sender$$,$evt$$){mxSettings.setGridColor(this.editor.graph.view.gridColor,Editor.isDarkMode());mxSettings.save()}));if(mxClient.IS_CHROMEAPP||EditorUi.isElectronApp)this.editor.addListener("autosaveChanged",mxUtils.bind(this,function($sender$$,$evt$$){mxSettings.setAutosave(this.editor.autosave);mxSettings.save()})),this.editor.autosave=mxSettings.getAutosave();
null!=this.sidebar&&(null!=urlParams["search-shapes"]&&null!=this.sidebar.searchShapes?(this.sidebar.searchShapes(decodeURIComponent(urlParams["search-shapes"])),this.sidebar.showEntries("search")):(this.sidebar.showPalette("search",mxSettings.settings.search),this.editor.chromeless&&!this.editor.editable||!(mxSettings.settings.isNew||8>=parseInt(mxSettings.settings.version||0))||(this.toggleScratchpad(),mxSettings.save())));this.addListener("formatWidthChanged",function(){mxSettings.setFormatWidth(this.formatWidth);
mxSettings.save()})}};EditorUi.prototype.copyImage=function($cells$$,$xml$$,$scale$$){try{null!=navigator.clipboard&&"function"===typeof window.ClipboardItem&&this.spinner.spin(document.body,mxResources.get("exporting"))&&this.editor.exportToCanvas(mxUtils.bind(this,function($canvas$$,$svgRoot$$){try{this.spinner.stop();var $dataUrl$$=this.createImageDataUri($canvas$$,$xml$$,"png"),$w$$=parseInt($svgRoot$$.getAttribute("width")),$h$$=parseInt($svgRoot$$.getAttribute("height"));this.writeImageToClipboard($dataUrl$$,
$w$$,$h$$,mxUtils.bind(this,function($e$$){this.handleError($e$$)}))}catch($e$$){this.handleError($e$$)}}),null,null,null,mxUtils.bind(this,function($e$$){this.spinner.stop();this.handleError($e$$)}),null,null,null!=$scale$$?$scale$$:4,null==this.editor.graph.background||this.editor.graph.background==mxConstants.NONE,null,null,null,10,null,null,!1,null,0<$cells$$.length?$cells$$:null)}catch($e$$){this.handleError($e$$)}};EditorUi.prototype.copyCells=function($elt$$,$removeCells$$){var $graph$$=this.editor.graph;
if($graph$$.isSelectionEmpty())$elt$$.innerText="";else{var $cells$$=mxUtils.sortCells($graph$$.model.getTopmostCells($graph$$.getSelectionCells())),$xml$$=mxUtils.getXml($graph$$.encodeCells($cells$$));mxUtils.setTextContent($elt$$,encodeURIComponent($xml$$));$removeCells$$?($graph$$.removeCells($cells$$,!1),$graph$$.lastPasteXml=null):($graph$$.lastPasteXml=$xml$$,$graph$$.pasteCounter=0);$elt$$.focus();document.execCommand("selectAll",!1,null)}};EditorUi.prototype.copyXml=function(){var $cells$$=
null;if(Editor.enableNativeCipboard){var $graph$jscomp$109_xml$$=this.editor.graph;$graph$jscomp$109_xml$$.isSelectionEmpty()||($cells$$=mxUtils.sortCells($graph$jscomp$109_xml$$.getExportableCells($graph$jscomp$109_xml$$.model.getTopmostCells($graph$jscomp$109_xml$$.getSelectionCells()))),$graph$jscomp$109_xml$$=mxUtils.getXml($graph$jscomp$109_xml$$.encodeCells($cells$$)),navigator.clipboard.writeText($graph$jscomp$109_xml$$))}return $cells$$};EditorUi.prototype.pasteXml=function($xml$$,$pasteAsLabel$$,
$compat$$,$evt$$,$cell$jscomp$174_html$$){$cell$jscomp$174_html$$=null!=$cell$jscomp$174_html$$?$cell$jscomp$174_html$$:!0;var $graph$$=this.editor.graph,$cells$jscomp$127_pt$$=null;$graph$$.lastPasteXml==$xml$$?$graph$$.pasteCounter++:($graph$$.lastPasteXml=$xml$$,$graph$$.pasteCounter=0);var $dx$$=$graph$$.pasteCounter*$graph$$.gridSize;if($compat$$||this.isCompatibleString($xml$$))$cells$jscomp$127_pt$$=this.importXml($xml$$,$dx$$,$dx$$),$graph$$.setSelectionCells($cells$jscomp$127_pt$$);else if($pasteAsLabel$$&&
1==$graph$$.getSelectionCount()){$cell$jscomp$174_html$$=$graph$$.getStartEditingCell($graph$$.getSelectionCell(),$evt$$);if(/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test($xml$$)&&"image"==$graph$$.getCurrentCellStyle($cell$jscomp$174_html$$)[mxConstants.STYLE_SHAPE])$graph$$.setCellStyles(mxConstants.STYLE_IMAGE,$xml$$,[$cell$jscomp$174_html$$]);else{$graph$$.model.beginUpdate();try{$graph$$.labelChanged($cell$jscomp$174_html$$,$xml$$),Graph.isLink($xml$$)&&$graph$$.setLinkForCell($cell$jscomp$174_html$$,
$xml$$)}finally{$graph$$.model.endUpdate()}}$graph$$.setSelectionCell($cell$jscomp$174_html$$)}else $cells$jscomp$127_pt$$=$graph$$.getInsertPoint(),$graph$$.isMouseInsertPoint()&&($dx$$=0,$graph$$.lastPasteXml==$xml$$&&0<$graph$$.pasteCounter&&$graph$$.pasteCounter--),$cells$jscomp$127_pt$$=this.insertTextAt($xml$$,$cells$jscomp$127_pt$$.x+$dx$$,$cells$jscomp$127_pt$$.y+$dx$$,$cell$jscomp$174_html$$),$graph$$.setSelectionCells($cells$jscomp$127_pt$$);$graph$$.isSelectionEmpty()||($graph$$.scrollCellToVisible($graph$$.getSelectionCell()),
null!=this.hoverIcons&&this.hoverIcons.update($graph$$.view.getState($graph$$.getSelectionCell())));return $cells$jscomp$127_pt$$};EditorUi.prototype.pasteCells=function($evt$$,$realElt$$,$content$$,$pasteAsLabel$$){if(!mxEvent.isConsumed($evt$$)){var $elt$$=$realElt$$,$asHtml$$=!1;if($content$$&&null!=$evt$$.clipboardData&&$evt$$.clipboardData.getData){var $plain_spans$$=$evt$$.clipboardData.getData("text/plain"),$data$$=!1;if(null!=$plain_spans$$&&0<$plain_spans$$.length&&"%3CmxGraphModel%3E"==
$plain_spans$$.substring(0,18))try{var $tmp$$=decodeURIComponent($plain_spans$$);this.isCompatibleString($tmp$$)&&($data$$=!0,$plain_spans$$=$tmp$$)}catch($e$$){}$data$$=$data$$?null:$evt$$.clipboardData.getData("text/html");null!=$data$$&&0<$data$$.length?($elt$$=this.parseHtmlData($data$$),$asHtml$$="text/plain"!=$elt$$.getAttribute("data-type")):null!=$plain_spans$$&&0<$plain_spans$$.length&&($elt$$=document.createElement("div"),mxUtils.setTextContent($elt$$,$data$$))}$plain_spans$$=$elt$$.getElementsByTagName("span");
if(null!=$plain_spans$$&&0<$plain_spans$$.length&&"application/vnd.lucid.chart.objects"===$plain_spans$$[0].getAttribute("data-lucid-type"))$content$$=$plain_spans$$[0].getAttribute("data-lucid-content"),null!=$content$$&&0<$content$$.length&&(this.convertLucidChart($content$$,mxUtils.bind(this,function($xml$$){var $graph$$=this.editor.graph;$graph$$.lastPasteXml==$xml$$?$graph$$.pasteCounter++:($graph$$.lastPasteXml=$xml$$,$graph$$.pasteCounter=0);var $dx$$=$graph$$.pasteCounter*$graph$$.gridSize;
$graph$$.setSelectionCells(this.importXml($xml$$,$dx$$,$dx$$));$graph$$.scrollCellToVisible($graph$$.getSelectionCell())}),mxUtils.bind(this,function($e$$){this.handleError($e$$)})),mxEvent.consume($evt$$));else{var $xml$jscomp$0$$=$asHtml$$?$elt$$.innerHTML:mxUtils.trim(null==$elt$$.innerText?mxUtils.getTextContent($elt$$):$elt$$.innerText),$compat$$=!1;try{var $idx$$=$xml$jscomp$0$$.lastIndexOf("%3E");0<=$idx$$&&$idx$$<$xml$jscomp$0$$.length-3&&($xml$jscomp$0$$=$xml$jscomp$0$$.substring(0,$idx$$+
3))}catch($e$33$$){}try{$plain_spans$$=$elt$$.getElementsByTagName("span"),($tmp$$=null!=$plain_spans$$&&0<$plain_spans$$.length?mxUtils.trim(decodeURIComponent($plain_spans$$[0].textContent)):decodeURIComponent($xml$jscomp$0$$))&&(this.isCompatibleString($tmp$$)||0==$tmp$$.substring(0,20).replace(/\s/g,"").indexOf('{"isProtected":'))&&($compat$$=!0,$xml$jscomp$0$$=$tmp$$)}catch($e$34$$){}try{if(null!=$xml$jscomp$0$$&&0<$xml$jscomp$0$$.length){if(0==$xml$jscomp$0$$.substring(0,20).replace(/\s/g,"").indexOf('{"isProtected":')){var $delayed$$=
mxUtils.bind(this,function(){try{$xml$jscomp$0$$=(new MiroImporter).importMiroJson(JSON.parse($xml$jscomp$0$$)),this.pasteXml($xml$jscomp$0$$,$pasteAsLabel$$,$compat$$,$evt$$)}catch($e$35$$){console.log("Miro import error:",$e$35$$)}});"undefined"===typeof MiroImporter?mxscript("js/diagramly/miro/MiroImporter.js",$delayed$$):$delayed$$()}else this.pasteXml($xml$jscomp$0$$,$pasteAsLabel$$,$compat$$,$evt$$,$asHtml$$);try{mxEvent.consume($evt$$)}catch($e$36$$){}}else if(!$content$$){var $graph$jscomp$0$$=
this.editor.graph;$graph$jscomp$0$$.lastPasteXml=null;$graph$jscomp$0$$.pasteCounter=0}}catch($e$37$$){this.handleError($e$37$$)}}}$realElt$$.innerHTML="&nbsp;"};EditorUi.prototype.addFileDropHandler=function($elts$$){if(Graph.fileSupport)for(var $dropElt$$=null,$i$$=0;$i$$<$elts$$.length;$i$$++)mxEvent.addListener($elts$$[$i$$],"dragleave",function($evt$$){null!=$dropElt$$&&($dropElt$$.parentNode.removeChild($dropElt$$),$dropElt$$=null);$evt$$.stopPropagation();$evt$$.preventDefault()}),mxEvent.addListener($elts$$[$i$$],
"dragover",mxUtils.bind(this,function($evt$$){(this.editor.graph.isEnabled()||"1"!=urlParams.embed)&&null==$dropElt$$&&(!mxClient.IS_IE||10<document.documentMode&&12>document.documentMode)&&($dropElt$$=this.highlightElement());$evt$$.stopPropagation();$evt$$.preventDefault()})),mxEvent.addListener($elts$$[$i$$],"drop",mxUtils.bind(this,function($evt$$){null!=$dropElt$$&&($dropElt$$.parentNode.removeChild($dropElt$$),$dropElt$$=null);if(this.editor.graph.isEnabled()||"1"!=urlParams.embed)if(0<$evt$$.dataTransfer.files.length)this.hideDialog(),
"1"==urlParams.embed?this.importFiles($evt$$.dataTransfer.files,0,0,this.maxImageSize,null,null,null,null,!mxEvent.isControlDown($evt$$)&&!mxEvent.isShiftDown($evt$$)):this.openFiles($evt$$.dataTransfer.files,!0);else{var $data$jscomp$179_xml$$=this.extractGraphModelFromEvent($evt$$);if(null==$data$jscomp$179_xml$$){var $div$jscomp$38_imgs$jscomp$4_provider$$=null!=$evt$$.dataTransfer?$evt$$.dataTransfer:$evt$$.clipboardData;null!=$div$jscomp$38_imgs$jscomp$4_provider$$&&(10==document.documentMode||
11==document.documentMode?$data$jscomp$179_xml$$=$div$jscomp$38_imgs$jscomp$4_provider$$.getData("Text"):($data$jscomp$179_xml$$=null,$data$jscomp$179_xml$$=0<=mxUtils.indexOf($div$jscomp$38_imgs$jscomp$4_provider$$.types,"text/uri-list")?$evt$$.dataTransfer.getData("text/uri-list"):0<=mxUtils.indexOf($div$jscomp$38_imgs$jscomp$4_provider$$.types,"text/html")?$div$jscomp$38_imgs$jscomp$4_provider$$.getData("text/html"):null,null!=$data$jscomp$179_xml$$&&0<$data$jscomp$179_xml$$.length?($div$jscomp$38_imgs$jscomp$4_provider$$=
document.createElement("div"),$div$jscomp$38_imgs$jscomp$4_provider$$.innerHTML=Graph.sanitizeHtml($data$jscomp$179_xml$$),$div$jscomp$38_imgs$jscomp$4_provider$$=$div$jscomp$38_imgs$jscomp$4_provider$$.getElementsByTagName("img"),0<$div$jscomp$38_imgs$jscomp$4_provider$$.length&&($data$jscomp$179_xml$$=$div$jscomp$38_imgs$jscomp$4_provider$$[0].getAttribute("src"))):0<=mxUtils.indexOf($div$jscomp$38_imgs$jscomp$4_provider$$.types,"text/plain")&&($data$jscomp$179_xml$$=$div$jscomp$38_imgs$jscomp$4_provider$$.getData("text/plain"))),
null!=$data$jscomp$179_xml$$&&(Editor.isPngDataUrl($data$jscomp$179_xml$$)?($data$jscomp$179_xml$$=Editor.extractGraphModelFromPng($data$jscomp$179_xml$$),null!=$data$jscomp$179_xml$$&&0<$data$jscomp$179_xml$$.length&&this.openLocalFile($data$jscomp$179_xml$$,null,!0)):this.isRemoteFileFormat($data$jscomp$179_xml$$)?this.isOffline()?this.showError(mxResources.get("error"),mxResources.get("notInOffline")):(new mxXmlRequest(OPEN_URL,"format=xml&data="+encodeURIComponent($data$jscomp$179_xml$$))).send(mxUtils.bind(this,
function($req$$){200<=$req$$.getStatus()&&299>=$req$$.getStatus()?this.openLocalFile($req$$.getText(),null,!0):this.showError(mxResources.get("error"),413==$req$$.getStatus()?mxResources.get("diagramTooLarge"):mxResources.get("unknownError"))})):/^https?:\/\//.test($data$jscomp$179_xml$$)&&(null==this.getCurrentFile()?window.location.hash="#U"+encodeURIComponent($data$jscomp$179_xml$$):window.geOpenWindow((mxClient.IS_CHROMEAPP?EditorUi.drawHost+"/":"https://"+location.host+"/")+window.location.search+
"#U"+encodeURIComponent($data$jscomp$179_xml$$)))))}else this.openLocalFile($data$jscomp$179_xml$$,null,!0)}$evt$$.stopPropagation();$evt$$.preventDefault()}))};EditorUi.prototype.highlightElement=function($elt$$){var $x$$=0,$y$$=0;if(null==$elt$$){var $b$jscomp$22_h$$=document.body;var $d$jscomp$9_hl$$=document.documentElement;var $w$$=($b$jscomp$22_h$$.clientWidth||$d$jscomp$9_hl$$.clientWidth)-3;$b$jscomp$22_h$$=Math.max($b$jscomp$22_h$$.clientHeight||0,$d$jscomp$9_hl$$.clientHeight)-3}else $x$$=
$elt$$.offsetTop,$y$$=$elt$$.offsetLeft,$w$$=$elt$$.clientWidth,$b$jscomp$22_h$$=$elt$$.clientHeight;$d$jscomp$9_hl$$=document.createElement("div");$d$jscomp$9_hl$$.style.zIndex=mxPopupMenu.prototype.zIndex+2;$d$jscomp$9_hl$$.style.border="3px dotted rgb(254, 137, 12)";$d$jscomp$9_hl$$.style.pointerEvents="none";$d$jscomp$9_hl$$.style.position="absolute";$d$jscomp$9_hl$$.style.top=$x$$+"px";$d$jscomp$9_hl$$.style.left=$y$$+"px";$d$jscomp$9_hl$$.style.width=Math.max(0,$w$$-3)+"px";$d$jscomp$9_hl$$.style.height=
Math.max(0,$b$jscomp$22_h$$-3)+"px";null!=$elt$$&&$elt$$.parentNode==this.editor.graph.container?this.editor.graph.container.appendChild($d$jscomp$9_hl$$):document.body.appendChild($d$jscomp$9_hl$$);return $d$jscomp$9_hl$$};EditorUi.prototype.stringToCells=function($cells$jscomp$128_doc$jscomp$22_xml$$){$cells$jscomp$128_doc$jscomp$22_xml$$=mxUtils.parseXml($cells$jscomp$128_doc$jscomp$22_xml$$);var $node$jscomp$66_parent$$=this.editor.extractGraphModel($cells$jscomp$128_doc$jscomp$22_xml$$.documentElement);
$cells$jscomp$128_doc$jscomp$22_xml$$=[];if(null!=$node$jscomp$66_parent$$){var $codec$jscomp$8_j$$=new mxCodec($node$jscomp$66_parent$$.ownerDocument),$model$$=new mxGraphModel;$codec$jscomp$8_j$$.decode($node$jscomp$66_parent$$,$model$$);$node$jscomp$66_parent$$=$model$$.getChildAt($model$$.getRoot(),0);for($codec$jscomp$8_j$$=0;$codec$jscomp$8_j$$<$model$$.getChildCount($node$jscomp$66_parent$$);$codec$jscomp$8_j$$++)$cells$jscomp$128_doc$jscomp$22_xml$$.push($model$$.getChildAt($node$jscomp$66_parent$$,
$codec$jscomp$8_j$$))}return $cells$jscomp$128_doc$jscomp$22_xml$$};EditorUi.prototype.openFileHandle=function($data$$,$name$$,$file$$,$temp$$,$fileHandle$$){if(null!=$name$$&&0<$name$$.length){if(!this.useCanvasForExport&&/(\.png)$/i.test($name$$)||/(\.pdf)$/i.test($name$$))$name$$=$name$$.substring(0,$name$$.length-4),/(\.drawio)$/i.test($name$$)||($name$$+=".drawio");var $handleResult$$=mxUtils.bind(this,function($xml$$){$name$$=0<=$name$$.lastIndexOf(".")?$name$$.substring(0,$name$$.lastIndexOf("."))+
".drawio":$name$$+".drawio";if("<mxlibrary"==$xml$$.substring(0,10)){null==this.getCurrentFile()&&"1"!=urlParams.embed&&this.openLocalFile(this.emptyDiagramXml,this.defaultFilename,$temp$$);try{this.loadLibrary(new LocalLibrary(this,$xml$$,$name$$)),this.showSidebar()}catch($e$$){this.handleError($e$$,mxResources.get("errorLoadingFile"))}}else this.openLocalFile($xml$$,$name$$,$temp$$)});if(EditorUi.isVisioFilename($name$$))this.importVisio($file$$,mxUtils.bind(this,function($xml$$){this.spinner.stop();
$handleResult$$($xml$$)}));else if(/(\.*<graphml )/.test($data$$))this.importGraphML($data$$,mxUtils.bind(this,function($xml$$){this.spinner.stop();$handleResult$$($xml$$)}));else if(Graph.fileSupport&&(new XMLHttpRequest).upload&&this.isRemoteFileFormat($data$$,$name$$))this.isOffline()?(this.spinner.stop(),this.showError(mxResources.get("error"),mxResources.get("notInOffline"))):this.parseFile($file$$,mxUtils.bind(this,function($xhr$$){4==$xhr$$.readyState&&(this.spinner.stop(),200<=$xhr$$.status&&
299>=$xhr$$.status?$handleResult$$($xhr$$.responseText):this.handleError({message:mxResources.get(413==$xhr$$.status?"drawingTooLarge":"invalidOrMissingFile")},mxResources.get("errorLoadingFile")))}));else if(this.isLucidChartData($data$$))/(\.json)$/i.test($name$$)&&($name$$=$name$$.substring(0,$name$$.length-5)+".drawio"),this.convertLucidChart($data$$,mxUtils.bind(this,function($xml$$){this.spinner.stop();this.openLocalFile($xml$$,$name$$,$temp$$)}),mxUtils.bind(this,function($e$$){this.spinner.stop();
this.handleError($e$$)}));else if("<mxlibrary"==$data$$.substring(0,10)){this.spinner.stop();null==this.getCurrentFile()&&"1"!=urlParams.embed&&this.openLocalFile(this.emptyDiagramXml,this.defaultFilename,$temp$$);try{this.loadLibrary(new LocalLibrary(this,$data$$,$file$$.name)),this.showSidebar()}catch($e$$){this.handleError($e$$,mxResources.get("errorLoadingFile"))}}else if(0==$data$$.indexOf("PK"))this.importZipFile($file$$,mxUtils.bind(this,function($xml$$){this.spinner.stop();$handleResult$$($xml$$)}),
mxUtils.bind(this,function(){this.spinner.stop();this.openLocalFile($data$$,$name$$,$temp$$)}));else{if("image/png"==$file$$.type.substring(0,9))$data$$=this.extractGraphModelFromPng($data$$);else if("application/pdf"==$file$$.type){var $xml$jscomp$0$$=Editor.extractGraphModelFromPdf($data$$);null!=$xml$jscomp$0$$&&($fileHandle$$=null,$temp$$=!0,$data$$=$xml$jscomp$0$$)}this.spinner.stop();this.openLocalFile($data$$,$name$$,$temp$$,$fileHandle$$,null!=$fileHandle$$?$file$$:null)}}};EditorUi.prototype.openFiles=
function($files$$,$temp$$){if(this.spinner.spin(document.body,mxResources.get("loading")))for(var $i$$=0;$i$$<$files$$.length;$i$$++)mxUtils.bind(this,function($file$$){var $reader$$=new FileReader;$reader$$.onload=mxUtils.bind(this,function($e$$){try{this.openFileHandle($e$$.target.result,$file$$.name,$file$$,$temp$$)}catch($e$38$$){this.handleError($e$38$$)}});$reader$$.onerror=mxUtils.bind(this,function($e$$){this.spinner.stop();this.handleError($e$$);window.openFile=null});"image"!==$file$$.type.substring(0,
5)&&"application/pdf"!==$file$$.type||"image/svg"===$file$$.type.substring(0,9)?$reader$$.readAsText($file$$):$reader$$.readAsDataURL($file$$)})($files$$[$i$$])};EditorUi.prototype.openLocalFile=function($data$$,$name$$,$temp$$,$fileHandle$$,$desc$$){var $currentFile$$=this.getCurrentFile(),$fn$$=mxUtils.bind(this,function(){window.openFile=null;if(null==$name$$&&null!=this.getCurrentFile()&&this.isDiagramEmpty()){var $doc$$=mxUtils.parseXml($data$$);null!=$doc$$&&(this.editor.setGraphXml($doc$$.documentElement),
this.editor.graph.selectAll())}else this.fileLoaded(new LocalFile(this,$data$$,$name$$||this.defaultFilename,$temp$$,$fileHandle$$,$desc$$))});if(null!=$data$$&&0<$data$$.length)null==$currentFile$$||!$currentFile$$.isModified()&&(mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||null!=$fileHandle$$)?$fn$$():(mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||null!=$fileHandle$$)&&null!=$currentFile$$&&$currentFile$$.isModified()?this.confirm(mxResources.get("allChangesLost"),null,$fn$$,mxResources.get("cancel"),
mxResources.get("discardChanges")):(window.openFile=new OpenFile(function(){window.openFile=null}),window.openFile.setData($data$$,$name$$),window.geOpenWindow(this.getUrl(),null,mxUtils.bind(this,function(){null!=$currentFile$$&&$currentFile$$.isModified()?this.confirm(mxResources.get("allChangesLost"),null,$fn$$,mxResources.get("cancel"),mxResources.get("discardChanges")):$fn$$()})));else throw Error(mxResources.get("notADiagramFile"));};EditorUi.prototype.getBasenames=function(){var $basenames$$=
{};if(null!=this.pages)for(var $i$jscomp$264_result$$=0;$i$jscomp$264_result$$<this.pages.length;$i$jscomp$264_result$$++)this.updatePageRoot(this.pages[$i$jscomp$264_result$$]),this.addBasenamesForCell(this.pages[$i$jscomp$264_result$$].root,$basenames$$);else this.addBasenamesForCell(this.editor.graph.model.getRoot(),$basenames$$);$i$jscomp$264_result$$=[];for(var $key$$ in $basenames$$)$i$jscomp$264_result$$.push($key$$);return $i$jscomp$264_result$$};EditorUi.prototype.addBasenamesForCell=function($cell$$,
$basenames$$){function $addName$$($name$$){if(null!=$name$$){var $dot$$=$name$$.lastIndexOf(".");0<$dot$$&&($name$$=$name$$.substring($dot$$+1,$name$$.length));null==$basenames$$[$name$$]&&($basenames$$[$name$$]=!0)}}var $graph$$=this.editor.graph,$childCount$jscomp$9_style$$=$graph$$.getCellStyle($cell$$);$addName$$(mxStencilRegistry.getBasenameForStencil($childCount$jscomp$9_style$$[mxConstants.STYLE_SHAPE]));$graph$$.model.isEdge($cell$$)&&($addName$$(mxMarker.getPackageForType($childCount$jscomp$9_style$$[mxConstants.STYLE_STARTARROW])),
$addName$$(mxMarker.getPackageForType($childCount$jscomp$9_style$$[mxConstants.STYLE_ENDARROW])));$childCount$jscomp$9_style$$=$graph$$.model.getChildCount($cell$$);for(var $i$$=0;$i$$<$childCount$jscomp$9_style$$;$i$$++)this.addBasenamesForCell($graph$$.model.getChildAt($cell$$,$i$$),$basenames$$)};EditorUi.prototype.setGraphEnabled=function($enabled$$){this.diagramContainer.style.visibility=$enabled$$?"":"hidden";this.formatContainer.style.visibility=$enabled$$?"":"hidden";this.sidebarContainer.style.display=
$enabled$$?"":"none";this.hsplit.style.display=$enabled$$&&"sketch"!=Editor.currentTheme&&"min"!=Editor.currentTheme?"":"none";this.editor.graph.setEnabled($enabled$$);null!=this.tabContainer&&(this.tabContainer.style.visibility=$enabled$$?"":"hidden");null!=this.ruler&&(this.ruler.hRuler.container.style.visibility=$enabled$$?"":"hidden",this.ruler.vRuler.container.style.visibility=$enabled$$?"":"hidden");$enabled$$||this.hideWindows()};EditorUi.prototype.initializeEmbedMode=function(){this.setGraphEnabled(!1);
if((window.opener||window.parent)!=window&&("1"!=urlParams.spin||this.spinner.spin(document.body,mxResources.get("loading")))){var $initialized$$=!1;this.installMessageHandler(mxUtils.bind(this,function($xml$$,$evt$$,$modified$$,$convertToSketch$$){$initialized$$||($initialized$$=!0,this.spinner.stop(),this.addEmbedButtons(),this.setGraphEnabled(!0));if(null==$xml$$||0==$xml$$.length)$xml$$=this.emptyDiagramXml;this.setCurrentFile(new EmbedFile(this,$xml$$,{}));this.mode=App.MODE_EMBED;this.setFileData($xml$$);
if($convertToSketch$$)try{var $graph$$=this.editor.graph;$graph$$.setGridEnabled(!1);$graph$$.pageVisible=!1;var $cells$$=$graph$$.model.cells,$id$$;for($id$$ in $cells$$){var $cell$$=$cells$$[$id$$];null!=$cell$$&&null!=$cell$$.style&&($cell$$.style+=";sketch=1;"+(-1==$cell$$.style.indexOf("fontFamily=")||-1<$cell$$.style.indexOf("fontFamily=Helvetica;")?"fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;":""))}}catch($e$$){console.log($e$$)}this.editor.isChromelessView()?
this.editor.graph.isLightboxView()&&this.lightboxFit():this.showLayersDialog();this.chromelessResize&&this.chromelessResize();this.editor.undoManager.clear();this.editor.modified=null!=$modified$$?$modified$$:!1;this.updateUi();window.self!==window.top&&window.focus();null!=this.format&&this.format.refresh()}))}};EditorUi.prototype.showLayersDialog=function(){1<this.editor.graph.getModel().getChildCount(this.editor.graph.getModel().getRoot())&&(null==this.actions.layersWindow?this.actions.get("layers").funct():
this.actions.layersWindow.window.setVisible(!0))};EditorUi.prototype.getPublicUrl=function($file$$,$fn$$){null!=$file$$?$file$$.getPublicUrl($fn$$):$fn$$(null)};EditorUi.prototype.createLoadMessage=function($eventName$$){var $graph$$=this.editor.graph;return{event:$eventName$$,pageVisible:$graph$$.pageVisible,translate:$graph$$.view.translate,bounds:$graph$$.getGraphBounds(),currentPage:this.getSelectedPageIndex(),scale:$graph$$.view.scale,page:$graph$$.view.getBackgroundPageBounds()}};EditorUi.prototype.sendEmbeddedSvgExport=
function($noExit$$){try{var $graph$$=this.editor.graph;$graph$$.isEditing()&&$graph$$.stopEditing(!$graph$$.isInvokesStopCellEditing());var $parent$$=window.opener||window.parent;if(this.editor.modified){var $bg$$=$graph$$.background;if(null==$bg$$||$bg$$==mxConstants.NONE)$bg$$=this.embedExportBackground;this.getEmbeddedSvg(this.getFileData(!0,null,null,null,null,null,null,null,null,!1),$graph$$,null,!0,mxUtils.bind(this,function($svg$$){$parent$$.postMessage(JSON.stringify({event:"export",point:this.embedExitPoint,
exit:null!=$noExit$$?!$noExit$$:!0,data:Editor.createSvgDataUri($svg$$)}),"*")}),null,null,!0,$bg$$,1,this.embedExportBorder)}else $noExit$$||$parent$$.postMessage(JSON.stringify({event:"exit",point:this.embedExitPoint}),"*");$noExit$$||(this.diagramContainer.removeAttribute("data-bounds"),Editor.inlineFullscreen=!1,$graph$$.model.clear(),this.editor.undoManager.clear(),this.setBackgroundImage(null),this.editor.modified=!1,"1"!=urlParams.embed&&this.fireEvent(new mxEventObject("editInlineStop")))}catch($e$$){$noExit$$||
this.handleError($e$$)}};EditorUi.prototype.installMessageHandler=function($fn$$){var $changeListener$$=null,$ignoreChange$$=!1,$autosave$$=!1,$lastData$$=null,$msg$jscomp$1$$=mxUtils.bind(this,function($sender$$,$eventObject$$){this.editor.modified&&"0"!=urlParams.modified?null!=urlParams.modified&&this.editor.setStatus(mxUtils.htmlEntities(mxResources.get(urlParams.modified))):this.editor.setStatus("")});this.editor.graph.model.addListener(mxEvent.CHANGE,$msg$jscomp$1$$);mxEvent.addListener(window,
"message",mxUtils.bind(this,function($evt$$){if($evt$$.source==(window.opener||window.parent)){var $data$jscomp$0$$=$evt$$.data,$afterLoad$$=null,$extractDiagramXml_filename$$=mxUtils.bind(this,function($data$$){if(null!=$data$$&&"function"===typeof $data$$.charAt&&"<"!=$data$$.charAt(0))try{Editor.isPngDataUrl($data$$)?$data$$=Editor.extractGraphModelFromPng($data$$):"data:image/svg+xml;base64,"==$data$$.substring(0,26)?$data$$=atob($data$$.substring(26)):"data:image/svg+xml;utf8,"==$data$$.substring(0,
24)&&($data$$=$data$$.substring(24)),null!=$data$$&&(""==$data$$.trim()?$data$$=null:"%"==$data$$.charAt(0)?$data$$=decodeURIComponent($data$$):"<"!=$data$$.charAt(0)&&($data$$=Graph.decompress($data$$)))}catch($e$$){}return $data$$});if("json"==urlParams.proto){var $convertToSketch$$=!1;try{$data$jscomp$0$$=JSON.parse($data$jscomp$0$$),EditorUi.debug("EditorUi.installMessageHandler",[this],"evt",[$evt$$],"data",[$data$jscomp$0$$])}catch($e$$){$data$jscomp$0$$=null}try{if(null==$data$jscomp$0$$)return;
if("dialog"==$data$jscomp$0$$.action){this.showError(null!=$data$jscomp$0$$.titleKey?mxResources.get($data$jscomp$0$$.titleKey):$data$jscomp$0$$.title,null!=$data$jscomp$0$$.messageKey?mxResources.get($data$jscomp$0$$.messageKey):mxUtils.htmlEntities($data$jscomp$0$$.message),null!=$data$jscomp$0$$.buttonKey?mxResources.get($data$jscomp$0$$.buttonKey):$data$jscomp$0$$.button);null!=$data$jscomp$0$$.modified&&(this.editor.modified=$data$jscomp$0$$.modified);return}if("layout"==$data$jscomp$0$$.action){this.executeLayouts(this.editor.graph.createLayouts($data$jscomp$0$$.layouts));
return}if("prompt"==$data$jscomp$0$$.action){this.spinner.stop();var $dlg$jscomp$36_scrollState$$=new FilenameDialog(this,$data$jscomp$0$$.defaultValue||"",null!=$data$jscomp$0$$.okKey?mxResources.get($data$jscomp$0$$.okKey):$data$jscomp$0$$.ok,function($value$$){null!=$value$$?$parent$$.postMessage(JSON.stringify({event:"prompt",value:$value$$,message:$data$jscomp$0$$}),"*"):$parent$$.postMessage(JSON.stringify({event:"prompt-cancel",message:$data$jscomp$0$$}),"*")},null!=$data$jscomp$0$$.titleKey?
mxResources.get($data$jscomp$0$$.titleKey):$data$jscomp$0$$.title,null,null,null,null,function(){$parent$$.postMessage(JSON.stringify({event:"prompt-cancel",message:$data$jscomp$0$$}),"*")});this.showDialog($dlg$jscomp$36_scrollState$$.container,300,80,!0,!1);$dlg$jscomp$36_scrollState$$.init();return}if("draft"==$data$jscomp$0$$.action){var $tmp$$=$extractDiagramXml_filename$$($data$jscomp$0$$.xml);this.spinner.stop();$dlg$jscomp$36_scrollState$$=new DraftDialog(this,mxResources.get("draftFound",
[$data$jscomp$0$$.name||this.defaultFilename]),$tmp$$,mxUtils.bind(this,function(){this.hideDialog();$parent$$.postMessage(JSON.stringify({event:"draft",result:"edit",message:$data$jscomp$0$$}),"*")}),mxUtils.bind(this,function(){this.hideDialog();$parent$$.postMessage(JSON.stringify({event:"draft",result:"discard",message:$data$jscomp$0$$}),"*")}),$data$jscomp$0$$.editKey?mxResources.get($data$jscomp$0$$.editKey):null,$data$jscomp$0$$.discardKey?mxResources.get($data$jscomp$0$$.discardKey):null,
$data$jscomp$0$$.ignore?mxUtils.bind(this,function(){this.hideDialog();$parent$$.postMessage(JSON.stringify({event:"draft",result:"ignore",message:$data$jscomp$0$$}),"*")}):null);this.showDialog($dlg$jscomp$36_scrollState$$.container,640,480,!0,!1,mxUtils.bind(this,function($cancel$$){$cancel$$&&this.actions.get("exit").funct()}));try{$dlg$jscomp$36_scrollState$$.init()}catch($e$39$$){$parent$$.postMessage(JSON.stringify({event:"draft",error:$e$39$$.toString(),message:$data$jscomp$0$$}),"*")}return}if("template"==
$data$jscomp$0$$.action){this.spinner.stop();var $enableRecentDocs$$=1==$data$jscomp$0$$.enableRecent,$enableSearchDocs$$=1==$data$jscomp$0$$.enableSearch,$enableCustomTemp$$=1==$data$jscomp$0$$.enableCustomTemp;$dlg$jscomp$36_scrollState$$=new NewDialog(this,!1,$data$jscomp$0$$.templatesOnly?!1:null!=$data$jscomp$0$$.callback,mxUtils.bind(this,function($xml$$,$name$$,$url$$,$libs$$){$xml$$=$xml$$||this.emptyDiagramXml;null!=$data$jscomp$0$$.callback?$parent$$.postMessage(JSON.stringify({event:"template",
xml:$xml$$,blank:$xml$$==this.emptyDiagramXml,name:$name$$,tempUrl:$url$$,libs:$libs$$,builtIn:!0,message:$data$jscomp$0$$}),"*"):($fn$$($xml$$,$evt$$,$xml$$!=this.emptyDiagramXml,$data$jscomp$0$$.toSketch),this.editor.modified||this.editor.setStatus(""))}),null,null,null,null,null,null,null,$enableRecentDocs$$?mxUtils.bind(this,function($recentReadyCallback$$){this.remoteInvoke("getRecentDiagrams",[null],null,$recentReadyCallback$$,function(){$recentReadyCallback$$(null,"Network Error!")})}):null,
$enableSearchDocs$$?mxUtils.bind(this,function($searchStr$$,$searchReadyCallback$$){this.remoteInvoke("searchDiagrams",[$searchStr$$,null],null,$searchReadyCallback$$,function(){$searchReadyCallback$$(null,"Network Error!")})}):null,mxUtils.bind(this,function($url$$,$info$$,$name$$){$parent$$.postMessage(JSON.stringify({event:"template",docUrl:$url$$,info:$info$$,name:$name$$}),"*")}),null,null,$enableCustomTemp$$?mxUtils.bind(this,function($customTempCallback$$){this.remoteInvoke("getCustomTemplates",
null,null,$customTempCallback$$,function(){$customTempCallback$$({},0)})}):null,1==$data$jscomp$0$$.withoutType);this.showDialog($dlg$jscomp$36_scrollState$$.container,620,460,!0,!1,mxUtils.bind(this,function($cancel$$){this.sidebar.hideTooltip();$cancel$$&&this.actions.get("exit").funct()}));$dlg$jscomp$36_scrollState$$.init();return}if("textContent"==$data$jscomp$0$$.action){var $allPagesTxt$$=this.getDiagramTextContent();$parent$$.postMessage(JSON.stringify({event:"textContent",data:$allPagesTxt$$,
message:$data$jscomp$0$$}),"*");return}if("status"==$data$jscomp$0$$.action){null!=$data$jscomp$0$$.messageKey?this.editor.setStatus(mxUtils.htmlEntities(mxResources.get($data$jscomp$0$$.messageKey))):null!=$data$jscomp$0$$.message&&this.editor.setStatus(mxUtils.htmlEntities($data$jscomp$0$$.message));null!=$data$jscomp$0$$.modified&&(this.editor.modified=$data$jscomp$0$$.modified);return}if("spinner"==$data$jscomp$0$$.action){var $msg$jscomp$0$$=null!=$data$jscomp$0$$.messageKey?mxResources.get($data$jscomp$0$$.messageKey):
$data$jscomp$0$$.message;null==$data$jscomp$0$$.show||$data$jscomp$0$$.show?this.spinner.spin(document.body,$msg$jscomp$0$$):this.spinner.stop();return}if("exit"==$data$jscomp$0$$.action){this.actions.get("exit").funct();return}if("viewport"==$data$jscomp$0$$.action){null!=$data$jscomp$0$$.viewport&&(this.embedViewport=$data$jscomp$0$$.viewport,this.editor.graph.refresh(),this.fireEvent(new mxEventObject("embedViewportChanged")));return}if("fullscreenChanged"==$data$jscomp$0$$.action){$dlg$jscomp$36_scrollState$$=
null;try{var $temp$$=this.diagramContainer.getAttribute("data-scrollState");null!=$temp$$&&(this.diagramContainer.removeAttribute("data-scrollState"),$dlg$jscomp$36_scrollState$$=JSON.parse($temp$$))}catch($e$40$$){}Editor.inlineFullscreen=$data$jscomp$0$$.value;this.fireEvent(new mxEventObject("inlineFullscreenChanged"));null!=$dlg$jscomp$36_scrollState$$&&this.restoreScrollState($dlg$jscomp$36_scrollState$$);return}if("snapshot"==$data$jscomp$0$$.action){this.sendEmbeddedSvgExport(!0);return}if("export"==
$data$jscomp$0$$.action){if("png"==$data$jscomp$0$$.format||"xmlpng"==$data$jscomp$0$$.format){if(null==$data$jscomp$0$$.spin&&null==$data$jscomp$0$$.spinKey||this.spinner.spin(document.body,null!=$data$jscomp$0$$.spinKey?mxResources.get($data$jscomp$0$$.spinKey):$data$jscomp$0$$.spin)){var $xml$jscomp$0$$=null!=$data$jscomp$0$$.xml?$data$jscomp$0$$.xml:this.getFileData(!0);this.editor.graph.setEnabled(!1);var $graph$jscomp$0$$=this.editor.graph,$postDataBack$$=mxUtils.bind(this,function($uri$$,$svg$jscomp$0$$){if($data$jscomp$0$$.withSvg)$data$jscomp$0$$.withSvg=
!1,this.getEmbeddedSvg($xml$jscomp$0$$,this.editor.graph,null,!0,function($svg$$){$postDataBack$$($uri$$,$svg$$)},null,null,$data$jscomp$0$$.embedImages,this.editor.graph.background,$data$jscomp$0$$.scale,$data$jscomp$0$$.border,$data$jscomp$0$$.shadow);else{this.editor.graph.setEnabled(!0);this.spinner.stop();var $msg$$=this.createLoadMessage("export");$msg$$.format=$data$jscomp$0$$.format;$msg$$.message=$data$jscomp$0$$;$msg$$.data=$uri$$;$msg$$.svg=$svg$jscomp$0$$;$msg$$.xml=$xml$jscomp$0$$;$parent$$.postMessage(JSON.stringify($msg$$),
"*")}}),$processUri$$=mxUtils.bind(this,function($uri$$){null==$uri$$&&($uri$$=Editor.blankImage);"xmlpng"==$data$jscomp$0$$.format&&($uri$$=Editor.writeGraphModelToPng($uri$$,"tEXt","mxfile",encodeURIComponent($xml$jscomp$0$$)));$graph$jscomp$0$$!=this.editor.graph&&$graph$jscomp$0$$.container.parentNode.removeChild($graph$jscomp$0$$.container);$postDataBack$$($uri$$)}),$pageId$$=$data$jscomp$0$$.pageId||(null!=this.pages?$data$jscomp$0$$.currentPage?this.currentPage.getId():this.pages[0].getId():
null);if(this.isExportToCanvas()){var $graphReady$$=mxUtils.bind(this,function(){if(null!=this.pages&&this.currentPage.getId()!=$pageId$$){var $graphGetGlobalVariable$$=$graph$jscomp$0$$.getGlobalVariable;$graph$jscomp$0$$=this.createTemporaryGraph($graph$jscomp$0$$.getStylesheet());for(var $page$$,$i$jscomp$266_theme$$=0;$i$jscomp$266_theme$$<this.pages.length;$i$jscomp$266_theme$$++)if(this.pages[$i$jscomp$266_theme$$].getId()==$pageId$$){$page$$=this.updatePageRoot(this.pages[$i$jscomp$266_theme$$]);
break}null==$page$$&&($page$$=this.currentPage);$graph$jscomp$0$$.getGlobalVariable=function($name$$){return"page"==$name$$?$page$$.getName():"pagenumber"==$name$$?1:$graphGetGlobalVariable$$.apply(this,arguments)};document.body.appendChild($graph$jscomp$0$$.container);$graph$jscomp$0$$.model.setRoot($page$$.root)}if(null!=$data$jscomp$0$$.layerIds){var $graphModel$$=$graph$jscomp$0$$.model,$layers$$=$graphModel$$.getChildCells($graphModel$$.getRoot()),$layerIdsMap$$={};for($i$jscomp$266_theme$$=
0;$i$jscomp$266_theme$$<$data$jscomp$0$$.layerIds.length;$i$jscomp$266_theme$$++)$layerIdsMap$$[$data$jscomp$0$$.layerIds[$i$jscomp$266_theme$$]]=!0;for($i$jscomp$266_theme$$=0;$i$jscomp$266_theme$$<$layers$$.length;$i$jscomp$266_theme$$++)$graphModel$$.setVisible($layers$$[$i$jscomp$266_theme$$],$layerIdsMap$$[$layers$$[$i$jscomp$266_theme$$].id]||!1)}$i$jscomp$266_theme$$=null;$data$jscomp$0$$.keepTheme&&($i$jscomp$266_theme$$=Editor.cssDarkMode||Editor.isDarkMode()?"dark":"light");this.editor.exportToCanvas(mxUtils.bind(this,
function($canvas$$){$processUri$$($canvas$$.toDataURL("image/png"))}),$data$jscomp$0$$.width,null,$data$jscomp$0$$.background,mxUtils.bind(this,function(){$processUri$$(null)}),null,null,$data$jscomp$0$$.scale,$data$jscomp$0$$.transparent,$data$jscomp$0$$.shadow,null,$graph$jscomp$0$$,$data$jscomp$0$$.border,null,$data$jscomp$0$$.grid,$i$jscomp$266_theme$$)});null!=$data$jscomp$0$$.xml&&0<$data$jscomp$0$$.xml.length&&($ignoreChange$$=!0,this.setFileData($xml$jscomp$0$$),$ignoreChange$$=!1);$graphReady$$()}else(new mxXmlRequest(EXPORT_URL,
"format=png&embedXml="+("xmlpng"==$data$jscomp$0$$.format?"1":"0")+(null!=$pageId$$?"&pageId="+$pageId$$:"")+(null!=$data$jscomp$0$$.layerIds&&0<$data$jscomp$0$$.layerIds.length?"&extras="+encodeURIComponent(JSON.stringify({layerIds:$data$jscomp$0$$.layerIds})):"")+(null!=$data$jscomp$0$$.scale?"&scale="+$data$jscomp$0$$.scale:"")+"&base64=1&xml="+encodeURIComponent($xml$jscomp$0$$))).send(mxUtils.bind(this,function($req$$){200<=$req$$.getStatus()&&299>=$req$$.getStatus()?$postDataBack$$("data:image/png;base64,"+
$req$$.getText()):$processUri$$(null)}),mxUtils.bind(this,function(){$processUri$$(null)}))}}else if($graphReady$$=mxUtils.bind(this,function(){var $msg$$=this.createLoadMessage("export");$msg$$.message=$data$jscomp$0$$;if("html2"==$data$jscomp$0$$.format||"html"==$data$jscomp$0$$.format&&("0"!=urlParams.pages||null!=this.pages&&1<this.pages.length)){var $bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$=this.getXmlFileData();$msg$$.xml=mxUtils.getXml($bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$);
$msg$$.data=this.getFileData(null,null,!0,null,null,null,$bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$);$msg$$.format=$data$jscomp$0$$.format}else if("html"==$data$jscomp$0$$.format)$bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$=this.editor.getGraphXml(),$msg$$.data=this.getHtml($bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$,this.editor.graph),$msg$$.xml=mxUtils.getXml($bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$),$msg$$.format=$data$jscomp$0$$.format;else{mxSvgCanvas2D.prototype.foAltText=
null;$bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$=null!=$data$jscomp$0$$.background?$data$jscomp$0$$.background:this.editor.graph.background;$bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$==mxConstants.NONE&&($bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$=null);$msg$$.xml=this.getFileData(!0,null,null,null,null,null,null,null,null,!1);$msg$$.format="svg";var $postResult$$=mxUtils.bind(this,function($svg$$){this.editor.graph.setEnabled(!0);this.spinner.stop();$msg$$.data=Editor.createSvgDataUri($svg$$);
$parent$$.postMessage(JSON.stringify($msg$$),"*")}),$theme$$=null;$data$jscomp$0$$.keepTheme&&($theme$$=Editor.cssDarkMode||Editor.isDarkMode()?"dark":"light");if("xmlsvg"==$data$jscomp$0$$.format)(null==$data$jscomp$0$$.spin&&null==$data$jscomp$0$$.spinKey||this.spinner.spin(document.body,null!=$data$jscomp$0$$.spinKey?mxResources.get($data$jscomp$0$$.spinKey):$data$jscomp$0$$.spin))&&this.getEmbeddedSvg($msg$$.xml,this.editor.graph,null,!0,$postResult$$,null,null,$data$jscomp$0$$.embedImages,$bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$,
$data$jscomp$0$$.scale,$data$jscomp$0$$.border,$data$jscomp$0$$.shadow,$theme$$);else if(null==$data$jscomp$0$$.spin&&null==$data$jscomp$0$$.spinKey||this.spinner.spin(document.body,null!=$data$jscomp$0$$.spinKey?mxResources.get($data$jscomp$0$$.spinKey):$data$jscomp$0$$.spin))this.editor.graph.setEnabled(!1),$bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$=this.editor.graph.getSvg($bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$,$data$jscomp$0$$.scale,$data$jscomp$0$$.border,null,null,null,
null,null,null,this.editor.graph.shadowVisible||$data$jscomp$0$$.shadow,null,$theme$$),(this.editor.graph.shadowVisible||$data$jscomp$0$$.shadow)&&this.editor.graph.addSvgShadow($bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$),this.embedFonts($bg$jscomp$17_node$jscomp$67_svgRoot$jscomp$21_xml$$,mxUtils.bind(this,function($svgRoot$jscomp$0$$){$data$jscomp$0$$.embedImages||null==$data$jscomp$0$$.embedImages?this.editor.convertImages($svgRoot$jscomp$0$$,mxUtils.bind(this,function($svgRoot$$){$postResult$$(mxUtils.getXml($svgRoot$$))})):
$postResult$$(mxUtils.getXml($svgRoot$jscomp$0$$))}));return}$parent$$.postMessage(JSON.stringify($msg$$),"*")}),null!=$data$jscomp$0$$.xml&&0<$data$jscomp$0$$.xml.length){if(this.editor.graph.mathEnabled){var $editorOnMathJaxDone$$=Editor.onMathJaxDone;Editor.onMathJaxDone=function(){$editorOnMathJaxDone$$.apply(this,arguments);$graphReady$$()}}$ignoreChange$$=!0;this.setFileData($data$jscomp$0$$.xml);$ignoreChange$$=!1;this.editor.graph.mathEnabled||$graphReady$$()}else $graphReady$$();return}if("load"==
$data$jscomp$0$$.action){$convertToSketch$$=$data$jscomp$0$$.toSketch;$autosave$$=1==$data$jscomp$0$$.autosave;this.hideDialog();null!=$data$jscomp$0$$.modified&&null==urlParams.modified&&(urlParams.modified=$data$jscomp$0$$.modified);null!=$data$jscomp$0$$.saveAndExit&&null==urlParams.saveAndExit&&(urlParams.saveAndExit=$data$jscomp$0$$.saveAndExit);null!=$data$jscomp$0$$.noSaveBtn&&null==urlParams.noSaveBtn&&(urlParams.noSaveBtn=$data$jscomp$0$$.noSaveBtn);if(null!=$data$jscomp$0$$.rough){var $initial$$=
Editor.sketchMode;this.doSetSketchMode($data$jscomp$0$$.rough);$initial$$!=Editor.sketchMode&&this.fireEvent(new mxEventObject("sketchModeChanged"))}null!=$data$jscomp$0$$.dark&&this.setDarkMode($data$jscomp$0$$.dark);null!=$data$jscomp$0$$.border&&(this.embedExportBorder=$data$jscomp$0$$.border);null!=$data$jscomp$0$$.background&&(this.embedExportBackground=$data$jscomp$0$$.background);null!=$data$jscomp$0$$.viewport&&(this.embedViewport=$data$jscomp$0$$.viewport);this.embedExitPoint=null;if(null!=
$data$jscomp$0$$.rect){var $border$$=this.embedExportBorder;this.diagramContainer.style.left=Math.max(60,$data$jscomp$0$$.rect.left)+"px";this.diagramContainer.style.top=Math.max(40,$data$jscomp$0$$.rect.top)+"px";this.minInlineWidth=$data$jscomp$0$$.minWidth;this.minInlineHeight=$data$jscomp$0$$.minHeight;this.diagramContainer.style.border="2px solid #295fcc";this.diagramContainer.style.bottom="";this.diagramContainer.style.right="";var $maxFitScale$$=$data$jscomp$0$$.maxFitScale,$w$$=$data$jscomp$0$$.rect.width+
2*$border$$,$h0$$=$data$jscomp$0$$.rect.height+2*$border$$;$afterLoad$$=mxUtils.bind(this,function(){var $ds$jscomp$3_h$jscomp$204_prev$$=mxUtils.getDocumentSize();$w$$=Math.min(null!=this.minInlineWidth?Math.max(this.minInlineWidth,$w$$):$w$$,$ds$jscomp$3_h$jscomp$204_prev$$.width-80);$ds$jscomp$3_h$jscomp$204_prev$$=Math.min(null!=this.minInlineHeight?Math.max(this.minInlineHeight,$h0$$):$h0$$,$ds$jscomp$3_h$jscomp$204_prev$$.height-80);this.diagramContainer.style.width=$w$$+"px";this.diagramContainer.style.height=
$ds$jscomp$3_h$jscomp$204_prev$$+"px";var $graph$$=this.editor.graph;$ds$jscomp$3_h$jscomp$204_prev$$=$graph$$.maxFitScale;$graph$$.maxFitScale=$maxFitScale$$;$graph$$.fit(2*$border$$,null,null,null,null,null,$h0$$);this.setPageVisible(!1);if(null!=this.minInlineWidth&&$graph$$.getGraphBounds().width<this.minInlineWidth){var $dy$$=$graph$$.container.scrollTop;this.resetScrollbars();$graph$$.container.scrollTop=$dy$$}$graph$$.maxFitScale=$ds$jscomp$3_h$jscomp$204_prev$$;$graph$$.container.scrollTop-=
$border$$;$graph$$.container.scrollLeft-=$border$$;window.setTimeout(mxUtils.bind(this,function(){this.fireEvent(new mxEventObject("editInlineStart","data",[$data$jscomp$0$$]));$graph$$.container.focus();null!=this.formatWindow&&null!=this.formatWindow.window&&this.formatWindow.window.isVisible()&&(this.formatWindow.window.div.style.top=$graph$$.container.style.top);var $bounds$$=$graph$$.getGraphBounds();$graph$$.container.clientWidth>$bounds$$.width+2*$border$$&&($graph$$.container.scrollLeft=$bounds$$.x+
($bounds$$.width+$border$$-$graph$$.container.clientWidth)/2)}),10)})}null!=$data$jscomp$0$$.noExitBtn&&null==urlParams.noExitBtn&&(urlParams.noExitBtn=$data$jscomp$0$$.noExitBtn);null!=$data$jscomp$0$$.title&&null!=this.buttonContainer&&($tmp$$=this.createStatusDiv(""),mxUtils.write($tmp$$,$data$jscomp$0$$.title),null!=this.embedFilenameSpan&&this.embedFilenameSpan.parentNode.removeChild(this.embedFilenameSpan),this.buttonContainer.appendChild($tmp$$),this.embedFilenameSpan=$tmp$$);try{$data$jscomp$0$$.libs&&
this.sidebar.showEntries($data$jscomp$0$$.libs)}catch($e$41$$){}$data$jscomp$0$$=null!=$data$jscomp$0$$.xmlpng?this.extractGraphModelFromPng($data$jscomp$0$$.xmlpng):null!=$data$jscomp$0$$.descriptor?$data$jscomp$0$$.descriptor:$data$jscomp$0$$.xml}else{if("merge"==$data$jscomp$0$$.action){var $file$$=this.getCurrentFile();null!=$file$$&&($tmp$$=$extractDiagramXml_filename$$($data$jscomp$0$$.xml),null!=$tmp$$&&""!=$tmp$$&&$file$$.mergeFile(new LocalFile(this,$tmp$$),function(){$parent$$.postMessage(JSON.stringify({event:"merge",
message:$data$jscomp$0$$}),"*")},function($err$$){$parent$$.postMessage(JSON.stringify({event:"merge",message:$data$jscomp$0$$,error:$err$$}),"*")}))}else"remoteInvokeReady"==$data$jscomp$0$$.action?this.handleRemoteInvokeReady($parent$$):"remoteInvoke"==$data$jscomp$0$$.action?this.handleRemoteInvoke($data$jscomp$0$$,$evt$$.origin):"remoteInvokeResponse"==$data$jscomp$0$$.action?this.handleRemoteInvokeResponse($data$jscomp$0$$):$parent$$.postMessage(JSON.stringify({error:"unknownMessage",data:JSON.stringify($data$jscomp$0$$)}),
"*");return}}catch($e$42$$){this.handleError($e$42$$)}}var $getData$$=mxUtils.bind(this,function(){return"0"!=urlParams.pages||null!=this.pages&&1<this.pages.length?this.getFileData(!0):mxUtils.getXml(this.editor.getGraphXml())}),$doLoad$$=mxUtils.bind(this,function($data$$,$evt$jscomp$279_resp$$){$ignoreChange$$=!0;try{$fn$$($data$$,$evt$jscomp$279_resp$$,null,$convertToSketch$$)}catch($e$43$$){this.handleError($e$43$$)}$ignoreChange$$=!1;null!=urlParams.modified&&this.editor.setStatus("");$lastData$$=
$getData$$();$autosave$$&&null==$changeListener$$&&($changeListener$$=mxUtils.bind(this,function($data$jscomp$185_sender$$,$eventObject$jscomp$3_msg$$){$data$jscomp$185_sender$$=$getData$$();$data$jscomp$185_sender$$==$lastData$$||$ignoreChange$$||($eventObject$jscomp$3_msg$$=this.createLoadMessage("autosave"),$eventObject$jscomp$3_msg$$.xml=$data$jscomp$185_sender$$,(window.opener||window.parent).postMessage(JSON.stringify($eventObject$jscomp$3_msg$$),"*"));$lastData$$=$data$jscomp$185_sender$$}),
this.editor.graph.model.addListener(mxEvent.CHANGE,$changeListener$$),this.editor.graph.addListener("gridSizeChanged",$changeListener$$),this.editor.graph.addListener("shadowVisibleChanged",$changeListener$$),this.addListener("pageFormatChanged",$changeListener$$),this.addListener("pageScaleChanged",$changeListener$$),this.addListener("backgroundColorChanged",$changeListener$$),this.addListener("backgroundImageChanged",$changeListener$$),this.addListener("foldingEnabledChanged",$changeListener$$),
this.addListener("mathEnabledChanged",$changeListener$$),this.addListener("gridEnabledChanged",$changeListener$$),this.addListener("guidesEnabledChanged",$changeListener$$),this.addListener("pageViewChanged",$changeListener$$));if("1"==urlParams.returnbounds||"json"==urlParams.proto)$evt$jscomp$279_resp$$=this.createLoadMessage("load"),$evt$jscomp$279_resp$$.xml=$data$$,$parent$$.postMessage(JSON.stringify($evt$jscomp$279_resp$$),"*");null!=$afterLoad$$&&$afterLoad$$()});null!=$data$jscomp$0$$&&"function"===
typeof $data$jscomp$0$$.substring&&"data:application/vnd.visio;base64,"==$data$jscomp$0$$.substring(0,34)?($extractDiagramXml_filename$$="0M8R4KGxGuE"==$data$jscomp$0$$.substring(34,45)?"raw.vsd":"raw.vsdx",this.importVisio(this.base64ToBlob($data$jscomp$0$$.substring($data$jscomp$0$$.indexOf(",")+1)),function($xml$$){$doLoad$$($xml$$,$evt$$)},mxUtils.bind(this,function($e$$){this.handleError($e$$)}),$extractDiagramXml_filename$$)):null!=$data$jscomp$0$$&&"function"===typeof $data$jscomp$0$$.substring&&
(new XMLHttpRequest).upload&&this.isRemoteFileFormat($data$jscomp$0$$,"")?this.isOffline()?this.showError(mxResources.get("error"),mxResources.get("notInOffline")):this.parseFileData($data$jscomp$0$$,mxUtils.bind(this,function($xhr$$){4==$xhr$$.readyState&&(200<=$xhr$$.status&&299>=$xhr$$.status&&"<mxGraphModel"==$xhr$$.responseText.substring(0,13)?$doLoad$$($xhr$$.responseText,$evt$$):this.handleError({message:413==$xhr$$.status?mxResources.get("diagramTooLarge"):mxResources.get("unknownError")}))}),
""):null!=$data$jscomp$0$$&&"function"===typeof $data$jscomp$0$$.substring&&this.isLucidChartData($data$jscomp$0$$)?this.convertLucidChart($data$jscomp$0$$,mxUtils.bind(this,function($xml$$){$doLoad$$($xml$$)}),mxUtils.bind(this,function($e$$){this.handleError($e$$)})):null==$data$jscomp$0$$||"object"!==typeof $data$jscomp$0$$||null==$data$jscomp$0$$.format||null==$data$jscomp$0$$.data&&null==$data$jscomp$0$$.url?($data$jscomp$0$$=$extractDiagramXml_filename$$($data$jscomp$0$$),$doLoad$$($data$jscomp$0$$,
$evt$$)):this.loadDescriptor($data$jscomp$0$$,mxUtils.bind(this,function($e$$){$doLoad$$($getData$$(),$evt$$)}),mxUtils.bind(this,function($e$$){this.handleError($e$$,mxResources.get("errorLoadingFile"))}))}}));var $parent$$=window.opener||window.parent;$msg$jscomp$1$$="json"==urlParams.proto?JSON.stringify({event:"init"}):urlParams.ready||"ready";$parent$$.postMessage($msg$jscomp$1$$,"*");if("json"==urlParams.proto){var $graphOpenLink$$=this.editor.graph.openLink;this.editor.graph.openLink=function($href$$,
$target$$,$allowOpener$$){$graphOpenLink$$.apply(this,arguments);$parent$$.postMessage(JSON.stringify({event:"openLink",href:$href$$,target:$target$$,allowOpener:$allowOpener$$}),"*")}}};EditorUi.prototype.createEmbedButton=function($title$$,$fn$$,$shortcut$$,$primary$$){var $modern$$="simple"==Editor.currentTheme||"sketch"==Editor.currentTheme||"min"==Editor.currentTheme,$btn$$=document.createElement("button");$btn$$.setAttribute("title",$title$$+(null!=$shortcut$$?" ("+$shortcut$$+")":""));$btn$$.style.marginLeft=
"6px";mxUtils.write($btn$$,$title$$);$modern$$?($btn$$.className=$primary$$?"gePrimaryBtn":"",$btn$$.style.marginLeft="8px",$btn$$.style.padding="6px"):$btn$$.className="geBigButton"+($primary$$?"":" geBigStandardButton");mxEvent.addListener($btn$$,"click",$fn$$);return $btn$$};EditorUi.prototype.addEmbedButtons=function(){var $div$$=document.createElement("div");$div$$.style.display="inline-flex";$div$$.style.alignItems="center";$div$$.style.marginLeft="auto";"simple"!=Editor.currentTheme&&"sketch"!=
Editor.currentTheme&&"min"!=Editor.currentTheme&&($div$$.style.marginRight="66px",$div$$.style["float"]="right","atlas"==Editor.currentTheme&&($div$$.style.marginTop="2px"));document.createElement("button").className="geBigButton";"1"==urlParams.noSaveBtn?"0"!=urlParams.saveAndExit&&$div$$.appendChild(this.createEmbedButton("1"==urlParams.publishClose?mxResources.get("publish"):mxResources.get("saveAndExit"),this.actions.get("saveAndExit").funct,null,!0)):($div$$.appendChild(this.createEmbedButton(mxResources.get("save"),
mxUtils.bind(this,function(){this.actions.get("save").funct(!1)}),Editor.ctrlKey+"+S",!0)),"1"==urlParams.saveAndExit&&$div$$.appendChild(this.createEmbedButton(mxResources.get("saveAndExit"),this.actions.get("saveAndExit").funct)));"1"!=urlParams.noExitBtn&&$div$$.appendChild(this.createEmbedButton("1"==urlParams.publishClose?mxResources.get("close"):mxResources.get("exit"),this.actions.get("exit").funct));"simple"!=Editor.currentTheme&&"sketch"!=Editor.currentTheme&&"min"!=Editor.currentTheme||
null==this.buttonContainer?null!=this.menubar&&(this.toolbar.container.appendChild($div$$),this.toolbar.staticElements.push($div$$)):(this.buttonContainer.appendChild($div$$),this.editor.fireEvent(new mxEventObject("statusChanged")))};EditorUi.prototype.showImportCsvDialog=function(){null==this.importCsvDialog&&(this.importCsvDialog=new TextareaDialog(this,mxResources.get("csv")+":",Editor.defaultCsvValue,mxUtils.bind(this,function($newValue$$){this.importCsv($newValue$$)}),null,null,620,430,null,
!0,!0,mxResources.get("import"),this.isOffline()?null:"https://drawio-app.com/import-from-csv-to-drawio/"));this.showDialog(this.importCsvDialog.container,640,520,!0,!0,null,null,null,null,!0);this.importCsvDialog.init()};EditorUi.prototype.showCustomLayoutDialog=function($value$$){this.loadOrgChartLayouts(mxUtils.bind(this,function(){var $dlg$$=new TextareaDialog(this,mxResources.get("layout"),$value$$,mxUtils.bind(this,function($newValue$$){if(0<$newValue$$.length)try{var $list$$=JSON.parse($newValue$$);
this.executeLayouts(this.editor.graph.createLayouts($list$$));this.customLayoutConfig=$list$$;this.hideDialog()}catch($e$$){this.handleError($e$$)}}),null,null,null,null,mxUtils.bind(this,function($buttons$$,$input$$){var $copyBtn$$=mxUtils.button(mxResources.get("copy"),mxUtils.bind(this,function(){try{var $orig$$=$input$$.value;$input$$.value=JSON.stringify(JSON.parse($orig$$));$input$$.focus();mxClient.IS_GC||mxClient.IS_FF||5<=document.documentMode?$input$$.select():document.execCommand("selectAll",
!1,null);document.execCommand("copy");this.alert(mxResources.get("copiedToClipboard"));$input$$.value=$orig$$}catch($e$$){this.handleError($e$$)}}));$copyBtn$$.setAttribute("title","copy");$copyBtn$$.className="geBtn";$buttons$$.appendChild($copyBtn$$)}),!0,null,null,"https://www.drawio.com/doc/faq/apply-layouts");this.showDialog($dlg$$.container,620,460,!0,!0);$dlg$$.init()}))};EditorUi.prototype.loadOrgChartLayouts=function($fn$$){this.createTimeout(null,mxUtils.bind(this,function($timeout$$){var $onload$$=
mxUtils.bind(this,function(){this.loadingOrgChart=!1;$timeout$$.clear()&&(Graph.layoutNames.push("mxOrgChartLayout"),this.spinner.stop(),$fn$$())}),$onerror$$=mxUtils.bind(this,function($e$$){this.loadingOrgChart=!1;$timeout$$.clear()&&this.handleError($e$$)});"undefined"!==typeof mxOrgChartLayout||this.loadingOrgChart||this.isOffline(!0)?$onload$$():this.spinner.spin(document.body,mxResources.get("loading"))&&(this.loadingOrgChart=!0,"1"==urlParams.dev?mxscript("js/orgchart/bridge.min.js",function(){mxscript("js/orgchart/bridge.collections.min.js",
function(){mxscript("js/orgchart/OrgChart.Layout.min.js",function(){mxscript("js/orgchart/mxOrgChartLayout.js",$onload$$,null,null,null,$onerror$$)},null,null,null,$onerror$$)},null,null,null,$onerror$$)},null,null,null,$onerror$$):mxscript("js/orgchart.min.js",$onload$$,null,null,null,$onerror$$))}),onerror)};EditorUi.prototype.importCsv=function($text$$,$done$$){this.loadOrgChartLayouts(mxUtils.bind(this,function(){this.doImportCsv($text$$,$done$$)}))};EditorUi.prototype.doImportCsv=function($identityIndex_text$$,
$done$$){try{var $exists_ignoreCell_lines$$=$identityIndex_text$$.split("\n"),$allCells$$=[],$parents$$=[],$cells$$=[],$dups$$={};if(0<$exists_ignoreCell_lines$$.length){var $lookups$$={},$graph$$=this.editor.graph,$vars$$=null,$style$$=null,$styles$$=null,$stylename$$=null,$labelname$$=null,$unknownStyle$$=null,$labels$$=null,$parentstyle$$="whiteSpace=wrap;html=1;",$arrays_identity$$=null,$parent$$=null,$namespace$$="",$width$$="auto",$height$$="auto",$collapsed$$=!1,$left$$=null,$top$$=null,$edgespacing$$=
40,$nodespacing$$=40,$levelspacing$$=100,$padding$$=0,$afterInsert$$=mxUtils.bind(this,function(){null!=$done$$?$done$$($select$$):($graph$$.setSelectionCells($select$$),$graph$$.scrollCellToVisible($graph$$.getSelectionCell()));null!=this.chromelessResize&&window.setTimeout(mxUtils.bind(this,function(){this.chromelessResize(!0)}),0)}),$pt$jscomp$69_y$$=$graph$$.getFreeInsertPoint(),$x0$$=$pt$jscomp$69_y$$.x,$y0$$=$pt$jscomp$69_y$$.y;$pt$jscomp$69_y$$=$y0$$;var $label$$=null,$layout$$="auto";$parent$$=
null;for(var $edges$$=[],$link$$=null,$ignore$$=null,$index$jscomp$138_originY$$=0;$index$jscomp$138_originY$$<$exists_ignoreCell_lines$$.length&&"#"==$exists_ignoreCell_lines$$[$index$jscomp$138_originY$$].charAt(0);){$identityIndex_text$$=$exists_ignoreCell_lines$$[$index$jscomp$138_originY$$].replace(/\r$/,"");for($index$jscomp$138_originY$$++;$index$jscomp$138_originY$$<$exists_ignoreCell_lines$$.length&&"\\"==$identityIndex_text$$.charAt($identityIndex_text$$.length-1)&&"#"==$exists_ignoreCell_lines$$[$index$jscomp$138_originY$$].charAt(0);)$identityIndex_text$$=
$identityIndex_text$$.substring(0,$identityIndex_text$$.length-1)+mxUtils.trim($exists_ignoreCell_lines$$[$index$jscomp$138_originY$$].substring(1)),$index$jscomp$138_originY$$++;if("#"!=$identityIndex_text$$.charAt(1)){var $idx$$=$identityIndex_text$$.indexOf(":");if(0<$idx$$){var $attribs_key$$=mxUtils.trim($identityIndex_text$$.substring(1,$idx$$)),$i$jscomp$267_value$$=mxUtils.trim($identityIndex_text$$.substring($idx$$+1));"label"==$attribs_key$$?$label$$=Graph.sanitizeHtml($i$jscomp$267_value$$):
"labelname"==$attribs_key$$&&0<$i$jscomp$267_value$$.length&&"-"!=$i$jscomp$267_value$$?$labelname$$=$i$jscomp$267_value$$:"labels"==$attribs_key$$&&0<$i$jscomp$267_value$$.length&&"-"!=$i$jscomp$267_value$$?$labels$$=JSON.parse($i$jscomp$267_value$$):"style"==$attribs_key$$?$style$$=$i$jscomp$267_value$$:"parentstyle"==$attribs_key$$?$parentstyle$$=$i$jscomp$267_value$$:"unknownStyle"==$attribs_key$$&&"-"!=$i$jscomp$267_value$$?$unknownStyle$$=$i$jscomp$267_value$$:"stylename"==$attribs_key$$&&0<
$i$jscomp$267_value$$.length&&"-"!=$i$jscomp$267_value$$?$stylename$$=$i$jscomp$267_value$$:"styles"==$attribs_key$$&&0<$i$jscomp$267_value$$.length&&"-"!=$i$jscomp$267_value$$?$styles$$=JSON.parse($i$jscomp$267_value$$):"vars"==$attribs_key$$&&0<$i$jscomp$267_value$$.length&&"-"!=$i$jscomp$267_value$$?$vars$$=JSON.parse($i$jscomp$267_value$$):"identity"==$attribs_key$$&&0<$i$jscomp$267_value$$.length&&"-"!=$i$jscomp$267_value$$?$arrays_identity$$=$i$jscomp$267_value$$:"parent"==$attribs_key$$&&0<
$i$jscomp$267_value$$.length&&"-"!=$i$jscomp$267_value$$?$parent$$=$i$jscomp$267_value$$:"namespace"==$attribs_key$$&&0<$i$jscomp$267_value$$.length&&"-"!=$i$jscomp$267_value$$?$namespace$$=$i$jscomp$267_value$$:"width"==$attribs_key$$?$width$$=$i$jscomp$267_value$$:"height"==$attribs_key$$?$height$$=$i$jscomp$267_value$$:"collapsed"==$attribs_key$$&&"-"!=$i$jscomp$267_value$$?$collapsed$$="true"==$i$jscomp$267_value$$:"left"==$attribs_key$$&&0<$i$jscomp$267_value$$.length?$left$$=$i$jscomp$267_value$$:
"top"==$attribs_key$$&&0<$i$jscomp$267_value$$.length?$top$$=$i$jscomp$267_value$$:"ignore"==$attribs_key$$?$ignore$$=$i$jscomp$267_value$$.split(","):"connect"==$attribs_key$$?$edges$$.push(JSON.parse($i$jscomp$267_value$$)):"link"==$attribs_key$$?$link$$=$i$jscomp$267_value$$:"padding"==$attribs_key$$?$padding$$=parseFloat($i$jscomp$267_value$$):"edgespacing"==$attribs_key$$?$edgespacing$$=parseFloat($i$jscomp$267_value$$):"nodespacing"==$attribs_key$$?$nodespacing$$=parseFloat($i$jscomp$267_value$$):
"levelspacing"==$attribs_key$$?$levelspacing$$=parseFloat($i$jscomp$267_value$$):"layout"==$attribs_key$$&&($layout$$=$i$jscomp$267_value$$)}}}if(null==$exists_ignoreCell_lines$$[$index$jscomp$138_originY$$])throw Error(mxResources.get("invalidOrMissingFile"));var $keys$$=this.editor.csvToArray($exists_ignoreCell_lines$$[$index$jscomp$138_originY$$].replace(/\r$/,""));$idx$$=$identityIndex_text$$=null;$attribs_key$$=[];for($i$jscomp$267_value$$=0;$i$jscomp$267_value$$<$keys$$.length;$i$jscomp$267_value$$++)$arrays_identity$$==
$keys$$[$i$jscomp$267_value$$]&&($identityIndex_text$$=$i$jscomp$267_value$$),$parent$$==$keys$$[$i$jscomp$267_value$$]&&($idx$$=$i$jscomp$267_value$$),$attribs_key$$.push(mxUtils.trim($keys$$[$i$jscomp$267_value$$]).replace(/[^a-z0-9]+/ig,"_").replace(/^\d+/,"").replace(/_+$/,""));null==$label$$&&($label$$="%"+$attribs_key$$[0]+"%");if(null!=$edges$$)for(var $e$$=0;$e$$<$edges$$.length;$e$$++)null==$lookups$$[$edges$$[$e$$].to]&&($lookups$$[$edges$$[$e$$].to]={});$arrays_identity$$=[];for($i$jscomp$267_value$$=
$index$jscomp$138_originY$$+1;$i$jscomp$267_value$$<$exists_ignoreCell_lines$$.length;$i$jscomp$267_value$$++){var $values$$=this.editor.csvToArray($exists_ignoreCell_lines$$[$i$jscomp$267_value$$].replace(/\r$/,""));if(null==$values$$){var $originX$jscomp$4_short$$=40<$exists_ignoreCell_lines$$[$i$jscomp$267_value$$].length?$exists_ignoreCell_lines$$[$i$jscomp$267_value$$].substring(0,40)+"...":$exists_ignoreCell_lines$$[$i$jscomp$267_value$$];throw Error($originX$jscomp$4_short$$+" ("+$i$jscomp$267_value$$+
"):\n"+mxResources.get("containsValidationErrors"));}0<$values$$.length&&$arrays_identity$$.push($values$$)}$graph$$.model.beginUpdate();try{for($i$jscomp$267_value$$=0;$i$jscomp$267_value$$<$arrays_identity$$.length;$i$jscomp$267_value$$++){$values$$=$arrays_identity$$[$i$jscomp$267_value$$];var $cell$$=null,$id$$=null!=$identityIndex_text$$?$namespace$$+$values$$[$identityIndex_text$$]:null;$exists_ignoreCell_lines$$=!1;null!=$id$$&&($cell$$=$graph$$.model.getCell($id$$),$exists_ignoreCell_lines$$=
null==$cell$$||0<=mxUtils.indexOf($allCells$$,$cell$$));var $newCell$$=new mxCell($label$$,new mxGeometry($x0$$,$pt$jscomp$69_y$$,0,0),$style$$||"whiteSpace=wrap;html=1;");$newCell$$.collapsed=$collapsed$$;$newCell$$.vertex=!0;$newCell$$.id=$id$$;null==$cell$$||$exists_ignoreCell_lines$$||$graph$$.model.setCollapsed($cell$$,$collapsed$$);for(var $j$jscomp$0$$=0;$j$jscomp$0$$<$values$$.length;$j$jscomp$0$$++)$graph$$.setAttributeForCell($newCell$$,$attribs_key$$[$j$jscomp$0$$],$values$$[$j$jscomp$0$$]),
null==$cell$$||$exists_ignoreCell_lines$$||$graph$$.setAttributeForCell($cell$$,$attribs_key$$[$j$jscomp$0$$],$values$$[$j$jscomp$0$$]);if(null!=$labelname$$&&null!=$labels$$){var $tempLabel$$=$labels$$[$newCell$$.getAttribute($labelname$$)];null!=$tempLabel$$&&($graph$$.labelChanged($newCell$$,$tempLabel$$),null==$cell$$||$exists_ignoreCell_lines$$||$graph$$.cellLabelChanged($cell$$,$tempLabel$$))}if(null!=$stylename$$&&null!=$styles$$){var $tempStyle$$=$styles$$[$newCell$$.getAttribute($stylename$$)];
null!=$tempStyle$$&&($newCell$$.style=$tempStyle$$)}$graph$$.setAttributeForCell($newCell$$,"placeholders","1");$newCell$$.style=$graph$$.replacePlaceholders($newCell$$,$newCell$$.style,$vars$$);null==$cell$$||$exists_ignoreCell_lines$$?$graph$$.fireEvent(new mxEventObject("cellsInserted","cells",[$newCell$$])):($graph$$.model.setStyle($cell$$,$newCell$$.style),0>mxUtils.indexOf($cells$$,$cell$$)&&$cells$$.push($cell$$),$graph$$.fireEvent(new mxEventObject("cellsInserted","cells",[$cell$$])));$exists_ignoreCell_lines$$=
null!=$cell$$;$cell$$=$newCell$$;if(!$exists_ignoreCell_lines$$)for($e$$=0;$e$$<$edges$$.length;$e$$++)$lookups$$[$edges$$[$e$$].to][$cell$$.getAttribute($edges$$[$e$$].to)]=$cell$$;null!=$link$$&&"link"!=$link$$&&($graph$$.setLinkForCell($cell$$,$cell$$.getAttribute($link$$)),$graph$$.setAttributeForCell($cell$$,$link$$,null));var $size$$=this.editor.graph.getPreferredSizeForCell($cell$$);$parent$$=null!=$idx$$?$graph$$.model.getCell($namespace$$+$values$$[$idx$$]):null;if($cell$$.vertex){$originX$jscomp$4_short$$=
null!=$parent$$?0:$x0$$;$index$jscomp$138_originY$$=null!=$parent$$?0:$y0$$;null!=$left$$&&null!=$cell$$.getAttribute($left$$)&&($cell$$.geometry.x=$originX$jscomp$4_short$$+parseFloat($cell$$.getAttribute($left$$)));null!=$top$$&&null!=$cell$$.getAttribute($top$$)&&($cell$$.geometry.y=$index$jscomp$138_originY$$+parseFloat($cell$$.getAttribute($top$$)));var $widthValue$$="@"==$width$$.charAt(0)?$cell$$.getAttribute($width$$.substring(1)):null;$cell$$.geometry.width=null!=$widthValue$$&&"auto"!=$widthValue$$?
parseFloat($cell$$.getAttribute($width$$.substring(1))):"auto"==$width$$||"auto"==$widthValue$$?$size$$.width+$padding$$:parseFloat($width$$);var $heightValue$$="@"==$height$$.charAt(0)?$cell$$.getAttribute($height$$.substring(1)):null;$cell$$.geometry.height=null!=$heightValue$$&&"auto"!=$heightValue$$&&"width"!=$height$$?parseFloat($heightValue$$):"auto"==$height$$||"auto"==$heightValue$$?$size$$.height+$padding$$:"width"==$height$$?$cell$$.geometry.width:parseFloat($height$$);$pt$jscomp$69_y$$+=
$cell$$.geometry.height+$nodespacing$$}$exists_ignoreCell_lines$$?(null==$dups$$[$id$$]&&($dups$$[$id$$]=[]),$dups$$[$id$$].push($cell$$)):($allCells$$.push($cell$$),null!=$parent$$?($parent$$.style=$graph$$.replacePlaceholders($parent$$,$parentstyle$$,$vars$$),$graph$$.addCell($cell$$,$parent$$),$parents$$.push($parent$$)):$cells$$.push($graph$$.addCell($cell$$)))}for($i$jscomp$267_value$$=0;$i$jscomp$267_value$$<$parents$$.length;$i$jscomp$267_value$$++)$widthValue$$="@"==$width$$.charAt(0)?$parents$$[$i$jscomp$267_value$$].getAttribute($width$$.substring(1)):
null,$heightValue$$="@"==$height$$.charAt(0)?$parents$$[$i$jscomp$267_value$$].getAttribute($height$$.substring(1)):null,"auto"!=$width$$&&"auto"!=$widthValue$$||"auto"!=$height$$&&"auto"!=$heightValue$$||$graph$$.updateGroupBounds([$parents$$[$i$jscomp$267_value$$]],$padding$$,!0);var $roots$$=$cells$$.slice(),$select$$=$cells$$.slice();for($e$$=0;$e$$<$edges$$.length;$e$$++){var $edge$jscomp$0$$=$edges$$[$e$$];for($i$jscomp$267_value$$=0;$i$jscomp$267_value$$<$allCells$$.length;$i$jscomp$267_value$$++){$cell$$=
$allCells$$[$i$jscomp$267_value$$];var $insertEdge$$=mxUtils.bind(this,function($realCell$$,$dataCell$$,$edge$$){var $refs_tmp$$=$dataCell$$.getAttribute($edge$$.from);if(null!=$refs_tmp$$&&""!=$refs_tmp$$){$refs_tmp$$=$refs_tmp$$.split(",");for(var $j$$=0;$j$$<$refs_tmp$$.length;$j$$++){var $ref$$=$lookups$$[$edge$$.to][$refs_tmp$$[$j$$]];if(null==$ref$$&&null!=$unknownStyle$$){$ref$$=new mxCell($refs_tmp$$[$j$$],new mxGeometry($x0$$,$y0$$,0,0),$unknownStyle$$);$ref$$.style=$graph$$.replacePlaceholders($dataCell$$,
$ref$$.style,$vars$$);var $edgeCell_label$$=this.editor.graph.getPreferredSizeForCell($ref$$);$ref$$.geometry.width=$edgeCell_label$$.width+$padding$$;$ref$$.geometry.height=$edgeCell_label$$.height+$padding$$;$lookups$$[$edge$$.to][$refs_tmp$$[$j$$]]=$ref$$;$ref$$.vertex=!0;$ref$$.id=$refs_tmp$$[$j$$];$cells$$.push($graph$$.addCell($ref$$))}if(null!=$ref$$){$edgeCell_label$$=$edge$$.label;null!=$edge$$.fromlabel&&($edgeCell_label$$=($dataCell$$.getAttribute($edge$$.fromlabel)||"")+($edgeCell_label$$||
""));null!=$edge$$.sourcelabel&&($edgeCell_label$$=$graph$$.replacePlaceholders($dataCell$$,$edge$$.sourcelabel,$vars$$)+($edgeCell_label$$||""));null!=$edge$$.tolabel&&($edgeCell_label$$=($edgeCell_label$$||"")+($ref$$.getAttribute($edge$$.tolabel)||""));null!=$edge$$.targetlabel&&($edgeCell_label$$=($edgeCell_label$$||"")+$graph$$.replacePlaceholders($ref$$,$edge$$.targetlabel,$vars$$));var $edgeStyle$jscomp$5_k$jscomp$4_placeholders$$="target"==$edge$$.placeholders==!$edge$$.invert?$ref$$:$realCell$$;
$edgeStyle$jscomp$5_k$jscomp$4_placeholders$$=null!=$edge$$.style?$graph$$.replacePlaceholders($edgeStyle$jscomp$5_k$jscomp$4_placeholders$$,$edge$$.style,$vars$$):$graph$$.createCurrentEdgeStyle();$edgeCell_label$$=$graph$$.insertEdge(null,null,$edgeCell_label$$||"",$edge$$.invert?$ref$$:$realCell$$,$edge$$.invert?$realCell$$:$ref$$,$edgeStyle$jscomp$5_k$jscomp$4_placeholders$$);if(null!=$edge$$.labels)for($edgeStyle$jscomp$5_k$jscomp$4_placeholders$$=0;$edgeStyle$jscomp$5_k$jscomp$4_placeholders$$<
$edge$$.labels.length;$edgeStyle$jscomp$5_k$jscomp$4_placeholders$$++){var $def$$=$edge$$.labels[$edgeStyle$jscomp$5_k$jscomp$4_placeholders$$],$el$$=new mxCell($def$$.label||$edgeStyle$jscomp$5_k$jscomp$4_placeholders$$,new mxGeometry(null!=$def$$.x?$def$$.x:0,null!=$def$$.y?$def$$.y:0,0,0),"resizable=0;html=1;");$el$$.vertex=!0;$el$$.connectable=!1;$el$$.geometry.relative=!0;null!=$def$$.placeholders&&($el$$.value=$graph$$.replacePlaceholders("target"==$def$$.placeholders==!$edge$$.invert?$ref$$:
$realCell$$,$el$$.value,$vars$$));if(null!=$def$$.dx||null!=$def$$.dy)$el$$.geometry.offset=new mxPoint(null!=$def$$.dx?$def$$.dx:0,null!=$def$$.dy?$def$$.dy:0);$edgeCell_label$$.insert($el$$)}if(null!=$edge$$.data)for(var $key$$ in $edge$$.data)$graph$$.setAttributeForCell($edgeCell_label$$,$key$$,$edge$$.data[$key$$]);$select$$.push($edgeCell_label$$);mxUtils.remove($edge$$.invert?$realCell$$:$ref$$,$roots$$)}}}});$insertEdge$$($cell$$,$cell$$,$edge$jscomp$0$$);if(null!=$dups$$[$cell$$.id])for($j$jscomp$0$$=
0;$j$jscomp$0$$<$dups$$[$cell$$.id].length;$j$jscomp$0$$++)$insertEdge$$($cell$$,$dups$$[$cell$$.id][$j$jscomp$0$$],$edge$jscomp$0$$)}}if(null!=$ignore$$)for($i$jscomp$267_value$$=0;$i$jscomp$267_value$$<$allCells$$.length;$i$jscomp$267_value$$++)for($cell$$=$allCells$$[$i$jscomp$267_value$$],$j$jscomp$0$$=0;$j$jscomp$0$$<$ignore$$.length;$j$jscomp$0$$++)$graph$$.setAttributeForCell($cell$$,mxUtils.trim($ignore$$[$j$jscomp$0$$]),null);if(0<$cells$$.length){var $edgeLayout$$=new mxParallelEdgeLayout($graph$$);
$edgeLayout$$.spacing=$edgespacing$$;$edgeLayout$$.checkOverlap=!0;var $postProcess$$=function(){0<$edgeLayout$$.spacing&&$edgeLayout$$.execute($graph$$.getDefaultParent());for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $geo$$=$graph$$.getCellGeometry($cells$$[$i$$]);$geo$$.x=Math.round($graph$$.snap($geo$$.x));$geo$$.y=Math.round($graph$$.snap($geo$$.y));"auto"==$width$$&&($geo$$.width=Math.round($graph$$.snap($geo$$.width)));"auto"==$height$$&&($geo$$.height=Math.round($graph$$.snap($geo$$.height)))}};
if("["==$layout$$.charAt(0)){var $temp$$=$afterInsert$$;$graph$$.view.validate();this.executeLayouts($graph$$.createLayouts(JSON.parse($layout$$)),function(){$postProcess$$();$temp$$()});$afterInsert$$=null}else if("circle"==$layout$$){var $circleLayout$$=new mxCircleLayout($graph$$);$circleLayout$$.disableEdgeStyle=!1;$circleLayout$$.resetEdges=!1;var $circleLayoutIsVertexIgnored$$=$circleLayout$$.isVertexIgnored;$circleLayout$$.isVertexIgnored=function($vertex$$){return $circleLayoutIsVertexIgnored$$.apply(this,
arguments)||0>mxUtils.indexOf($cells$$,$vertex$$)};this.executeLayout(function(){$circleLayout$$.execute($graph$$.getDefaultParent());$postProcess$$()},!0,$afterInsert$$);$afterInsert$$=null}else if("horizontaltree"==$layout$$||"verticaltree"==$layout$$||"auto"==$layout$$&&$select$$.length==2*$cells$$.length-1&&1==$roots$$.length){$graph$$.view.validate();var $treeLayout$$=new mxCompactTreeLayout($graph$$,"horizontaltree"==$layout$$);$treeLayout$$.levelDistance=$nodespacing$$;$treeLayout$$.edgeRouting=
!1;$treeLayout$$.resetEdges=!1;this.executeLayout(function(){$treeLayout$$.execute($graph$$.getDefaultParent(),0<$roots$$.length?$roots$$[0]:null)},!0,$afterInsert$$);$afterInsert$$=null}else if("horizontalflow"==$layout$$||"verticalflow"==$layout$$||"auto"==$layout$$&&1==$roots$$.length){$graph$$.view.validate();var $flowLayout$$=new mxHierarchicalLayout($graph$$,"horizontalflow"==$layout$$?mxConstants.DIRECTION_WEST:mxConstants.DIRECTION_NORTH);$flowLayout$$.intraCellSpacing=$nodespacing$$;$flowLayout$$.parallelEdgeSpacing=
$edgespacing$$;$flowLayout$$.interRankCellSpacing=$levelspacing$$;$flowLayout$$.disableEdgeStyle=!1;this.executeLayout(function(){$flowLayout$$.execute($graph$$.getDefaultParent(),$select$$);$graph$$.moveCells($select$$,$x0$$,$y0$$)},!0,$afterInsert$$);$afterInsert$$=null}else if("orgchart"==$layout$$){$graph$$.view.validate();var $orgChartLayout$$=new mxOrgChartLayout($graph$$,2,$levelspacing$$,$nodespacing$$),$orgChartLayoutIsVertexIgnored$$=$orgChartLayout$$.isVertexIgnored;$orgChartLayout$$.isVertexIgnored=
function($vertex$$){return $orgChartLayoutIsVertexIgnored$$.apply(this,arguments)||0>mxUtils.indexOf($cells$$,$vertex$$)};this.executeLayout(function(){$orgChartLayout$$.execute($graph$$.getDefaultParent());$postProcess$$()},!0,$afterInsert$$);$afterInsert$$=null}else if("organic"==$layout$$||"auto"==$layout$$&&$select$$.length>$cells$$.length){$graph$$.view.validate();var $organicLayout$$=new mxFastOrganicLayout($graph$$);$organicLayout$$.forceConstant=3*$nodespacing$$;$organicLayout$$.disableEdgeStyle=
!1;$organicLayout$$.resetEdges=!1;var $organicLayoutIsVertexIgnored$$=$organicLayout$$.isVertexIgnored;$organicLayout$$.isVertexIgnored=function($vertex$$){return $organicLayoutIsVertexIgnored$$.apply(this,arguments)||0>mxUtils.indexOf($cells$$,$vertex$$)};this.executeLayout(function(){$organicLayout$$.execute($graph$$.getDefaultParent());$postProcess$$()},!0,$afterInsert$$);$afterInsert$$=null}}this.hideDialog()}finally{$graph$$.model.endUpdate()}null!=$afterInsert$$&&$afterInsert$$()}}catch($e$44$$){this.handleError($e$44$$)}};
EditorUi.prototype.getSearch=function($exclude$$){var $result$$="";if("1"!=urlParams.offline&&"1"!=urlParams.demo&&null!=$exclude$$&&0<window.location.search.length){var $amp$$="?",$key$$;for($key$$ in urlParams)0>mxUtils.indexOf($exclude$$,$key$$)&&null!=urlParams[$key$$]&&($result$$+=$amp$$+$key$$+"="+urlParams[$key$$],$amp$$="&")}else $result$$=window.location.search;return $result$$};EditorUi.prototype.getUrl=function($href$jscomp$29_pathname$$){$href$jscomp$29_pathname$$=null!=$href$jscomp$29_pathname$$?
$href$jscomp$29_pathname$$:window.location.pathname;var $parms$$=0<$href$jscomp$29_pathname$$.indexOf("?")?1:0;if("1"==urlParams.offline)$href$jscomp$29_pathname$$+=window.location.search;else{var $ignored$$="tmp libs clibs state fileId code share notitle data url embed client create title splash".split(" "),$key$$;for($key$$ in urlParams)0>mxUtils.indexOf($ignored$$,$key$$)&&($href$jscomp$29_pathname$$=0==$parms$$?$href$jscomp$29_pathname$$+"?":$href$jscomp$29_pathname$$+"&",null!=urlParams[$key$$]&&
($href$jscomp$29_pathname$$+=$key$$+"="+urlParams[$key$$],$parms$$++))}return $href$jscomp$29_pathname$$};EditorUi.prototype.showLinkDialog=function($dlg$jscomp$38_value$$,$btnLabel$$,$fn$$,$showNewWindowOption$$,$linkTarget$$){$dlg$jscomp$38_value$$=new LinkDialog(this,$dlg$jscomp$38_value$$,$btnLabel$$,$fn$$,!0,$showNewWindowOption$$,$linkTarget$$);this.showDialog($dlg$jscomp$38_value$$.container,440,120,!0,!0);$dlg$jscomp$38_value$$.init()};EditorUi.prototype.getServiceCount=function($allowBrowser$$){var $serviceCount$$=
1;null==this.drive&&"function"!==typeof window.DriveClient||$serviceCount$$++;null==this.dropbox&&"function"!==typeof window.DropboxClient||$serviceCount$$++;null==this.oneDrive&&"function"!==typeof window.OneDriveClient||$serviceCount$$++;null==this.codio&&"function"!==typeof window.CodioClient||$serviceCount$$++;null!=this.gitHub&&$serviceCount$$++;null!=this.gitLab&&$serviceCount$$++;$allowBrowser$$&&isLocalStorage&&"1"==urlParams.browser&&$serviceCount$$++;return $serviceCount$$};EditorUi.prototype.updateUi=
function(){this.updateButtonContainer();this.updateActionStates();var $editable$jscomp$4_file$$=this.getCurrentFile(),$active$$=null!=$editable$jscomp$4_file$$||"1"==urlParams.embed&&this.editor.graph.isEnabled();this.menus.get("viewPanels").setEnabled($active$$);this.menus.get("viewZoom").setEnabled($active$$);var $autoModeAction_libsEnabled_restricted$$=("1"!=urlParams.embed||"1"==urlParams.embedRT||!this.editor.graph.isEnabled())&&(null==$editable$jscomp$4_file$$||$editable$jscomp$4_file$$.isRestricted());
this.actions.get("makeCopy").setEnabled(!$autoModeAction_libsEnabled_restricted$$);this.actions.get("print").setEnabled(!$autoModeAction_libsEnabled_restricted$$);this.menus.get("exportAs").setEnabled(!$autoModeAction_libsEnabled_restricted$$);this.menus.get("embed").setEnabled(!$autoModeAction_libsEnabled_restricted$$);$autoModeAction_libsEnabled_restricted$$="1"!=urlParams.embed||this.editor.graph.isEnabled();this.menus.get("extras").setEnabled($autoModeAction_libsEnabled_restricted$$);Editor.enableCustomLibraries&&
(this.menus.get("openLibraryFrom").setEnabled($autoModeAction_libsEnabled_restricted$$),this.menus.get("newLibrary").setEnabled($autoModeAction_libsEnabled_restricted$$));$editable$jscomp$4_file$$="1"==urlParams.embed&&this.editor.graph.isEnabled()||null!=$editable$jscomp$4_file$$&&$editable$jscomp$4_file$$.isEditable();this.actions.get("image").setEnabled($active$$);this.actions.get("zoomIn").setEnabled($active$$);this.actions.get("zoomOut").setEnabled($active$$);this.actions.get("smartFit").setEnabled($active$$);
this.actions.get("resetView").setEnabled($active$$);this.actions.get("darkMode").setEnabled("atlas"!=Editor.currentTheme);this.actions.get("lightMode").setEnabled("atlas"!=Editor.currentTheme);$autoModeAction_libsEnabled_restricted$$=this.actions.get("autoMode");$autoModeAction_libsEnabled_restricted$$.setEnabled($autoModeAction_libsEnabled_restricted$$.isEnabled()&&"atlas"!=Editor.currentTheme);this.menus.get("edit").setEnabled($active$$);this.menus.get("view").setEnabled($active$$);this.menus.get("importFrom").setEnabled($editable$jscomp$4_file$$);
this.menus.get("arrange").setEnabled($editable$jscomp$4_file$$);null!=this.toolbar&&(null!=this.toolbar.edgeShapeMenu&&this.toolbar.edgeShapeMenu.setEnabled($editable$jscomp$4_file$$),null!=this.toolbar.edgeStyleMenu&&this.toolbar.edgeStyleMenu.setEnabled($editable$jscomp$4_file$$));this.updateUserElement()};EditorUi.prototype.updateButtonContainer=function(){};EditorUi.prototype.updateUserElement=function(){};EditorUi.prototype.scheduleSanityCheck=function(){};EditorUi.prototype.stopSanityCheck=
function(){};EditorUi.prototype.isDiagramActive=function(){var $file$$=this.getCurrentFile();return null!=$file$$&&$file$$.isEditable()||"1"==urlParams.embed&&this.editor.graph.isEnabled()};var $editorUiCreateSidebar$$=EditorUi.prototype.createSidebar;EditorUi.prototype.createSidebar=function($container$$){var $sidebar$$=$editorUiCreateSidebar$$.apply(this,arguments),$refreshSidebar$$=mxUtils.bind(this,function(){$sidebar$$.refresh();this.restoreOpenLibraries()});this.addListener("darkModeChanged",
mxUtils.bind(this,function(){Editor.enableCssDarkMode||$refreshSidebar$$()}));this.addListener("sketchModeChanged",$refreshSidebar$$);this.addListener("currentThemeChanged",$refreshSidebar$$);return $sidebar$$};EditorUi.prototype.restoreOpenLibraries=function(){var $temp$$=this.openLibraries;this.openLibraries=null;if(null!=$temp$$)for(var $i$$=0;$i$$<$temp$$.length;$i$$++)this.libraryLoaded($temp$$[$i$$].file,$temp$$[$i$$].images,$temp$$[$i$$].title,null!=$temp$$[$i$$].div?"none"!=$temp$$[$i$$].div.style.display:
$temp$$[$i$$].expand)};var $editorUiUpdateActionStates$$=EditorUi.prototype.updateActionStates;EditorUi.prototype.updateActionStates=function(){$editorUiUpdateActionStates$$.apply(this,arguments);var $graph$jscomp$120_state$$=this.editor.graph,$file$$=this.getCurrentFile(),$ss$$=this.getSelectionState(),$active$$=this.isDiagramActive(),$editable$$="1"==urlParams.embed&&this.editor.graph.isEnabled()||null!=$file$$&&$file$$.isEditable();this.actions.get("undo").setEnabled(this.canUndo()&&$editable$$);
this.actions.get("redo").setEnabled(this.canRedo()&&$editable$$);this.actions.get("autosave").setEnabled(null!=$file$$&&$file$$.isEditable()&&$file$$.isAutosaveOptional());this.actions.get("guides").setEnabled($active$$);this.actions.get("editData").setEnabled($graph$jscomp$120_state$$.isEnabled());this.actions.get("editConnectionPoints").setEnabled($active$$&&0==$ss$$.edges.length&&1==$ss$$.vertices.length);this.actions.get("editImage").setEnabled($active$$&&$ss$$.image&&0<$ss$$.cells.length);this.actions.get("crop").setEnabled($active$$&&
$ss$$.image&&0<$ss$$.cells.length);this.actions.get("pageSetup").setEnabled($active$$);this.actions.get("shadowVisible").setEnabled($active$$);this.actions.get("connectionArrows").setEnabled($active$$);this.actions.get("connectionPoints").setEnabled($active$$);this.actions.get("copyStyle").setEnabled($active$$&&!$graph$jscomp$120_state$$.isSelectionEmpty());this.actions.get("pasteStyle").setEnabled(null!=this.copiedStyle&&$active$$&&0<$ss$$.cells.length);this.actions.get("editGeometry").setEnabled(0<
$ss$$.vertices.length);this.actions.get("createShape").setEnabled($active$$);this.actions.get("createRevision").setEnabled($active$$);this.actions.get("moveToFolder").setEnabled(null!=$file$$);this.actions.get("makeCopy").setEnabled(null!=$file$$&&!$file$$.isRestricted());this.actions.get("editDiagram").setEnabled($active$$&&(null==$file$$||!$file$$.isRestricted()));this.actions.get("publishLink").setEnabled(null!=$file$$&&!$file$$.isRestricted());this.actions.get("removeFormat").setEnabled($graph$jscomp$120_state$$.isEnabled()&&
!$graph$jscomp$120_state$$.isSelectionEmpty()&&!$graph$jscomp$120_state$$.isEditing());this.actions.get("tags").setEnabled("hidden"!=this.diagramContainer.style.visibility);this.actions.get("layers").setEnabled("hidden"!=this.diagramContainer.style.visibility);this.actions.get("outline").setEnabled("hidden"!=this.diagramContainer.style.visibility);this.actions.get("rename").setEnabled(null!=$file$$&&$file$$.isRenamable()||"1"==urlParams.embed);this.actions.get("close").setEnabled(null!=$file$$);this.actions.get("properties").setEnabled(null!=
$file$$);this.menus.get("publish").setEnabled(null!=$file$$&&!$file$$.isRestricted());$file$$=this.actions.get("findReplace");$file$$.setEnabled("hidden"!=this.diagramContainer.style.visibility);$file$$.label=mxResources.get("find")+($graph$jscomp$120_state$$.isEnabled()?"/"+mxResources.get("replace"):"");$graph$jscomp$120_state$$=$graph$jscomp$120_state$$.view.getState($graph$jscomp$120_state$$.getSelectionCell());this.actions.get("editShape").setEnabled($active$$&&null!=$graph$jscomp$120_state$$&&
null!=$graph$jscomp$120_state$$.shape&&null!=$graph$jscomp$120_state$$.shape.stencil)};var $editoUiDestroy$$=EditorUi.prototype.destroy;EditorUi.prototype.destroy=function(){null!=this.exportDialog&&(this.exportDialog.parentNode.removeChild(this.exportDialog),this.exportDialog=null);$editoUiDestroy$$.apply(this,arguments)};null!=window.ExportDialog&&(ExportDialog.showXmlOption=!1,ExportDialog.showGifOption=!1,ExportDialog.exportFile=function($editorUi$$,$name$$,$format$$,$bg$$,$s$$,$b$$,$dpi$$,$grid$$){var $graph$$=
$editorUi$$.editor.graph;if("xml"==$format$$)$editorUi$$.hideDialog(),$editorUi$$.saveData($name$$,"xml",mxUtils.getXml($editorUi$$.editor.getGraphXml()),"text/xml");else if("svg"==$format$$)$editorUi$$.hideDialog(),$editorUi$$.saveData($name$$,"svg",mxUtils.getXml($graph$$.getSvg($bg$$,$s$$,$b$$)),"image/svg+xml");else{var $data$$=$editorUi$$.getFileData(!0,null,null,null,null,!0),$bounds$$=$graph$$.getGraphBounds(),$w$$=Math.floor($bounds$$.width*$s$$/$graph$$.view.scale),$h$$=Math.floor($bounds$$.height*
$s$$/$graph$$.view.scale);if($data$$.length<=MAX_REQUEST_SIZE&&$w$$*$h$$<MAX_AREA)if($editorUi$$.hideDialog(),"png"!=$format$$&&"jpg"!=$format$$&&"jpeg"!=$format$$||!$editorUi$$.isExportToCanvas()){var $extras$$={globalVars:$graph$$.getExportVariables()};$grid$$&&($extras$$.grid={size:$graph$$.gridSize,steps:$graph$$.view.gridSteps,color:$graph$$.view.gridColor});$editorUi$$.saveRequest($name$$,$format$$,function($newTitle$$,$base64$$){return new mxXmlRequest(EXPORT_URL,"format="+$format$$+"&base64="+
($base64$$||"0")+(null!=$newTitle$$?"&filename="+encodeURIComponent($newTitle$$):"")+"&extras="+encodeURIComponent(JSON.stringify($extras$$))+(0<$dpi$$?"&dpi="+$dpi$$:"")+"&bg="+(null!=$bg$$?$bg$$:"none")+"&w="+$w$$+"&h="+$h$$+"&border="+$b$$+"&xml="+encodeURIComponent($data$$))})}else"png"==$format$$?$editorUi$$.exportImage($s$$,null==$bg$$||"none"==$bg$$,!0,!1,!1,$b$$,!0,!1,null,$grid$$,$dpi$$):$editorUi$$.exportImage($s$$,!1,!0,!1,!1,$b$$,!0,!1,"jpeg",$grid$$);else mxUtils.alert(mxResources.get("drawingTooLarge"))}});
EditorUi.prototype.getDiagramTextContent=function(){this.editor.graph.setEnabled(!1);var $graph$$=this.editor.graph,$allPagesTxt$$="";if(null!=this.pages)for(var $i$$=0;$i$$<this.pages.length;$i$$++){var $pageGraph$$=$graph$$;this.currentPage!=this.pages[$i$$]&&($pageGraph$$=this.createTemporaryGraph($graph$$.getStylesheet()),this.updatePageRoot(this.pages[$i$$]),$pageGraph$$.model.setRoot(this.pages[$i$$].root));$allPagesTxt$$+=this.pages[$i$$].getName()+" "+$pageGraph$$.getIndexableText()+" "}else $allPagesTxt$$=
$graph$$.getIndexableText();this.editor.graph.setEnabled(!0);return $allPagesTxt$$};EditorUi.prototype.showRemotelyStoredLibrary=function($j$jscomp$32_title$$){var $selectedLibs$$={},$div$jscomp$40_dlg$$=document.createElement("div");$div$jscomp$40_dlg$$.style.whiteSpace="nowrap";var $hd$$=document.createElement("h3");mxUtils.write($hd$$,mxUtils.htmlEntities($j$jscomp$32_title$$));$hd$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:12px";$div$jscomp$40_dlg$$.appendChild($hd$$);
var $libsSection$$=document.createElement("div");$libsSection$$.style.cssText="border:1px solid lightGray;overflow: auto;height:300px";$libsSection$$.innerHTML='<div style="text-align:center;padding:8px;"><img src="'+IMAGE_PATH+'/spin.gif"></div>';var $loadedLibs$$={};try{var $custLibs$$=mxSettings.getCustomLibraries();for($j$jscomp$32_title$$=0;$j$jscomp$32_title$$<$custLibs$$.length;$j$jscomp$32_title$$++){var $l$$=$custLibs$$[$j$jscomp$32_title$$];if("R"==$l$$.substring(0,1)){var $libDesc$$=JSON.parse(decodeURIComponent($l$$.substring(1)));
$loadedLibs$$[$libDesc$$[0]]={id:$libDesc$$[0],title:$libDesc$$[1],downloadUrl:$libDesc$$[2]}}}}catch($e$$){}this.remoteInvoke("getCustomLibraries",null,null,function($libsList$$){$libsSection$$.innerText="";if(0==$libsList$$.length)$libsSection$$.innerHTML='<div style="text-align:center;padding-top:20px;color:gray;">'+mxUtils.htmlEntities(mxResources.get("noLibraries"))+"</div>";else for(var $i$$=0;$i$$<$libsList$$.length;$i$$++){var $lib$$=$libsList$$[$i$$];$loadedLibs$$[$lib$$.id]&&($selectedLibs$$[$lib$$.id]=
$lib$$);var $libCheck$$=this.addCheckbox($libsSection$$,$lib$$.title,$loadedLibs$$[$lib$$.id]);(function($lib2$$,$check$$){mxEvent.addListener($check$$,"change",function(){this.checked?$selectedLibs$$[$lib2$$.id]=$lib2$$:delete $selectedLibs$$[$lib2$$.id]})})($lib$$,$libCheck$$)}},mxUtils.bind(this,function($e$$){$libsSection$$.innerText="";var $status$$=document.createElement("div");$status$$.style.padding="8px";$status$$.style.textAlign="center";mxUtils.write($status$$,mxResources.get("error")+
": ");mxUtils.write($status$$,null!=$e$$&&null!=$e$$.message?$e$$.message:mxResources.get("unknownError"));$libsSection$$.appendChild($status$$)}));$div$jscomp$40_dlg$$.appendChild($libsSection$$);$div$jscomp$40_dlg$$=new CustomDialog(this,$div$jscomp$40_dlg$$,mxUtils.bind(this,function(){this.spinner.spin(document.body,mxResources.get("loading"));var $pendingLibs$$=0,$id$$;for($id$$ in $selectedLibs$$)null==$loadedLibs$$[$id$$]&&($pendingLibs$$++,mxUtils.bind(this,function($lib$$){this.remoteInvoke("getFileContent",
[$lib$$.downloadUrl],null,mxUtils.bind(this,function($libContent$$){$pendingLibs$$--;0==$pendingLibs$$&&this.spinner.stop();try{this.loadLibrary(new RemoteLibrary(this,$libContent$$,$lib$$)),this.showSidebar()}catch($e$45$$){this.handleError($e$45$$,mxResources.get("errorLoadingFile"))}}),mxUtils.bind(this,function(){$pendingLibs$$--;0==$pendingLibs$$&&this.spinner.stop();this.handleError(null,mxResources.get("errorLoadingFile"))}))})($selectedLibs$$[$id$$]));for($id$$ in $loadedLibs$$)$selectedLibs$$[$id$$]||
this.closeLibrary(new RemoteLibrary(this,null,$loadedLibs$$[$id$$]));0==$pendingLibs$$&&this.spinner.stop()}),null,null,"https://www.drawio.com/doc/faq/custom-libraries-confluence-cloud");this.showDialog($div$jscomp$40_dlg$$.container,340,390,!0,!0,null,null,null,null,!0)};EditorUi.prototype.remoteInvokableFns={getDiagramTextContent:{isAsync:!1},getLocalStorageFile:{isAsync:!1,allowedDomains:["app.diagrams.net"]},getLocalStorageFileNames:{isAsync:!1,allowedDomains:["app.diagrams.net"]},setMigratedFlag:{isAsync:!1,
allowedDomains:["app.diagrams.net"]}};EditorUi.prototype.remoteInvokeCallbacks=[];EditorUi.prototype.remoteInvokeQueue=[];EditorUi.prototype.handleRemoteInvokeReady=function($remoteWin$$){this.remoteWin=$remoteWin$$;for(var $i$$=0;$i$$<this.remoteInvokeQueue.length;$i$$++)$remoteWin$$.postMessage(this.remoteInvokeQueue[$i$$],"*");this.remoteInvokeQueue=[]};EditorUi.prototype.handleRemoteInvokeResponse=function($msg$$){var $msgMarkers$$=$msg$$.msgMarkers,$callback$$=this.remoteInvokeCallbacks[$msgMarkers$$.callbackId];
if(null==$callback$$)throw Error("No callback for "+(null!=$msgMarkers$$?$msgMarkers$$.callbackId:"null"));$msg$$.error?$callback$$.error&&$callback$$.error($msg$$.error.errResp):$callback$$.callback&&$callback$$.callback.apply(this,$msg$$.resp);this.remoteInvokeCallbacks[$msgMarkers$$.callbackId]=null};EditorUi.prototype.remoteInvoke=function($msg$$,$remoteFnArgs$$,$msgMarkers$$,$callback$$,$error$$){var $acceptResponse$$=!0,$timeoutThread$$=window.setTimeout(mxUtils.bind(this,function(){$acceptResponse$$=
!1;$error$$({code:App.ERROR_TIMEOUT,message:mxResources.get("timeout")})}),this.timeout),$wrapper$$=mxUtils.bind(this,function(){window.clearTimeout($timeoutThread$$);$acceptResponse$$&&$callback$$.apply(this,arguments)}),$errWrapper$$=mxUtils.bind(this,function(){window.clearTimeout($timeoutThread$$);$acceptResponse$$&&$error$$.apply(this,arguments)});$msgMarkers$$=$msgMarkers$$||{};$msgMarkers$$.callbackId=this.remoteInvokeCallbacks.length;this.remoteInvokeCallbacks.push({callback:$wrapper$$,error:$errWrapper$$});
$msg$$=JSON.stringify({event:"remoteInvoke",funtionName:$msg$$,functionArgs:$remoteFnArgs$$,msgMarkers:$msgMarkers$$});null!=this.remoteWin?this.remoteWin.postMessage($msg$$,"*"):this.remoteInvokeQueue.push($msg$$)};EditorUi.prototype.handleRemoteInvoke=function($msg$$,$origin$$){var $sendResponse$$=mxUtils.bind(this,function($resp$$,$error$$){var $respMsg$$={event:"remoteInvokeResponse",msgMarkers:$msg$$.msgMarkers};null!=$error$$?$respMsg$$.error={errResp:$error$$}:null!=$resp$$&&($respMsg$$.resp=
$resp$$);this.remoteWin.postMessage(JSON.stringify($respMsg$$),"*")});try{var $funtionName$$=$msg$$.funtionName,$functionInfo$$=this.remoteInvokableFns[$funtionName$$];if(null!=$functionInfo$$&&"function"===typeof this[$funtionName$$]){if($functionInfo$$.allowedDomains){for(var $allowed$$=!1,$i$$=0;$i$$<$functionInfo$$.allowedDomains.length;$i$$++)if($origin$$=="https://"+$functionInfo$$.allowedDomains[$i$$]){$allowed$$=!0;break}if(!$allowed$$){$sendResponse$$(null,"Invalid Call: "+$funtionName$$+
" is not allowed.");return}}var $functionArgs$$=$msg$$.functionArgs;Array.isArray($functionArgs$$)||($functionArgs$$=[]);if($functionInfo$$.isAsync)$functionArgs$$.push(function(){$sendResponse$$(Array.prototype.slice.apply(arguments))}),$functionArgs$$.push(function($err$$){$sendResponse$$(null,$err$$||"Unkown Error")}),this[$funtionName$$].apply(this,$functionArgs$$);else{var $resp$jscomp$0$$=this[$funtionName$$].apply(this,$functionArgs$$);$sendResponse$$([$resp$jscomp$0$$])}}else $sendResponse$$(null,
"Invalid Call: "+$funtionName$$+" is not found.")}catch($e$$){$sendResponse$$(null,"Invalid Call: An error occurred, "+$e$$.message)}};EditorUi.prototype.openDatabase=function($success$$,$error$$){if(null==this.database){var $indexedDB$$=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB;if(null!=$indexedDB$$)try{var $req$$=$indexedDB$$.open("database",2);$req$$.onupgradeneeded=function($e$$){try{var $db$$=$req$$.result;1>$e$$.oldVersion&&$db$$.createObjectStore("objects",{keyPath:"key"});
2>$e$$.oldVersion&&($db$$.createObjectStore("files",{keyPath:"title"}),$db$$.createObjectStore("filesInfo",{keyPath:"title"}),EditorUi.migrateStorageFiles=isLocalStorage)}catch($e$46$$){null!=$error$$&&$error$$($e$46$$)}};$req$$.onsuccess=mxUtils.bind(this,function($e$$){try{var $db$$=$req$$.result;this.database=$db$$;EditorUi.migrateStorageFiles&&(StorageFile.migrate($db$$),EditorUi.migrateStorageFiles=!1);"app.diagrams.net"!=location.host||this.drawioMigrationStarted||(this.drawioMigrationStarted=
!0,this.getDatabaseItem(".drawioMigrated3",mxUtils.bind(this,function($messageListener_value$$){if(!$messageListener_value$$||"1"==urlParams.forceMigration){var $drawioFrame$$=document.createElement("iframe");$drawioFrame$$.style.display="none";$drawioFrame$$.setAttribute("src","https://www.draw.io?embed=1&proto=json&forceMigration="+urlParams.forceMigration);document.body.appendChild($drawioFrame$$);var $collectNames$$=!0,$allDone$$=!1,$fileNames$$,$index$$=0,$markAsMigrated$$=mxUtils.bind(this,
function(){$allDone$$=!0;this.setDatabaseItem(".drawioMigrated3",!0);$drawioFrame$$.contentWindow.postMessage(JSON.stringify({action:"remoteInvoke",funtionName:"setMigratedFlag"}),"*")}),$next$$=mxUtils.bind(this,function(){$index$$++;$fetchOneFile$$()}),$fetchOneFile$$=mxUtils.bind(this,function(){try{if($index$$>=$fileNames$$.length)$markAsMigrated$$();else{var $fileTitle$$=$fileNames$$[$index$$];StorageFile.getFileContent(this,$fileTitle$$,mxUtils.bind(this,function($data$$){null==$data$$||".scratchpad"==
$fileTitle$$&&$data$$==this.emptyLibraryXml?$drawioFrame$$.contentWindow.postMessage(JSON.stringify({action:"remoteInvoke",funtionName:"getLocalStorageFile",functionArgs:[$fileTitle$$]}),"*"):$next$$()}),$next$$)}}catch($e$47$$){console.log($e$47$$)}}),$importOneFile$$=mxUtils.bind(this,function($file$$){try{this.setDatabaseItem(null,[{title:$file$$.title,size:$file$$.data.length,lastModified:Date.now(),type:$file$$.isLib?"L":"F"},{title:$file$$.title,data:$file$$.data}],$next$$,$next$$,["filesInfo",
"files"])}catch($e$48$$){console.log($e$48$$)}});$messageListener_value$$=mxUtils.bind(this,function($evt$$){try{if($evt$$.source==$drawioFrame$$.contentWindow){var $drawMsg$$={};try{$drawMsg$$=JSON.parse($evt$$.data)}catch($e$49$$){}"init"==$drawMsg$$.event?($drawioFrame$$.contentWindow.postMessage(JSON.stringify({action:"remoteInvokeReady"}),"*"),$drawioFrame$$.contentWindow.postMessage(JSON.stringify({action:"remoteInvoke",funtionName:"getLocalStorageFileNames"}),"*")):"remoteInvokeResponse"!=
$drawMsg$$.event||$allDone$$||($collectNames$$?null!=$drawMsg$$.resp&&0<$drawMsg$$.resp.length&&null!=$drawMsg$$.resp[0]?($fileNames$$=$drawMsg$$.resp[0],$collectNames$$=!1,$fetchOneFile$$()):$markAsMigrated$$():null!=$drawMsg$$.resp&&0<$drawMsg$$.resp.length&&null!=$drawMsg$$.resp[0]?$importOneFile$$($drawMsg$$.resp[0]):$next$$())}}catch($e$50$$){console.log($e$50$$)}});window.addEventListener("message",$messageListener_value$$)}})));$success$$($db$$);$db$$.onversionchange=function(){$db$$.close()}}catch($e$51$$){null!=
$error$$?$error$$($e$51$$):null!=window.console&&console.warn($e$51$$)}});$req$$.onerror=$error$$;$req$$.onblocked=function(){}}catch($e$$){null!=$error$$?$error$$($e$$):null!=window.console&&console.error($e$$)}else null!=$error$$&&$error$$(Error("IndexedDB not supported"))}else $success$$(this.database)};EditorUi.prototype.setDatabaseItem=function($key$$,$data$$,$success$$,$error$$,$storeName$$){this.openDatabase(mxUtils.bind(this,function($db$jscomp$3_i$$){try{$storeName$$=$storeName$$||"objects";
Array.isArray($storeName$$)||($storeName$$=[$storeName$$],$key$$=[$key$$],$data$$=[$data$$]);var $trx$$=$db$jscomp$3_i$$.transaction($storeName$$,"readwrite");$trx$$.oncomplete=$success$$;$trx$$.onerror=$error$$;for($db$jscomp$3_i$$=0;$db$jscomp$3_i$$<$storeName$$.length;$db$jscomp$3_i$$++)$trx$$.objectStore($storeName$$[$db$jscomp$3_i$$]).put(null!=$key$$&&null!=$key$$[$db$jscomp$3_i$$]?{key:$key$$[$db$jscomp$3_i$$],data:$data$$[$db$jscomp$3_i$$]}:$data$$[$db$jscomp$3_i$$])}catch($e$$){null!=$error$$&&
$error$$($e$$)}}),$error$$)};EditorUi.prototype.removeDatabaseItem=function($key$$,$success$$,$error$$,$storeName$$){this.openDatabase(mxUtils.bind(this,function($db$jscomp$4_i$$){try{$storeName$$=$storeName$$||"objects";Array.isArray($storeName$$)||($storeName$$=[$storeName$$],$key$$=[$key$$]);var $trx$$=$db$jscomp$4_i$$.transaction($storeName$$,"readwrite");$trx$$.oncomplete=$success$$;$trx$$.onerror=$error$$;for($db$jscomp$4_i$$=0;$db$jscomp$4_i$$<$storeName$$.length;$db$jscomp$4_i$$++)$trx$$.objectStore($storeName$$[$db$jscomp$4_i$$]).delete($key$$[$db$jscomp$4_i$$])}catch($e$$){null!=
$error$$&&$error$$($e$$)}}),$error$$)};EditorUi.prototype.getDatabaseItem=function($key$$,$success$$,$error$$,$storeName$$){this.openDatabase(mxUtils.bind(this,function($db$$){try{$storeName$$=$storeName$$||"objects";var $req$$=$db$$.transaction([$storeName$$],"readonly").objectStore($storeName$$).get($key$$);$req$$.onsuccess=function(){$success$$($req$$.result)};$req$$.onerror=$error$$}catch($e$$){null!=$error$$&&$error$$($e$$)}}),$error$$)};EditorUi.prototype.getDatabaseItems=function($success$$,
$error$$,$storeName$$){this.openDatabase(mxUtils.bind(this,function($db$$){try{$storeName$$=$storeName$$||"objects";var $req$$=$db$$.transaction([$storeName$$],"readonly").objectStore($storeName$$).openCursor(IDBKeyRange.lowerBound(0)),$items$$=[];$req$$.onsuccess=function($e$$){null==$e$$.target.result?$success$$($items$$):($items$$.push($e$$.target.result.value),$e$$.target.result.continue())};$req$$.onerror=$error$$}catch($e$$){null!=$error$$&&$error$$($e$$)}}),$error$$)};EditorUi.prototype.getDatabaseItemKeys=
function($success$$,$error$$,$storeName$$){this.openDatabase(mxUtils.bind(this,function($db$$){try{$storeName$$=$storeName$$||"objects";var $req$$=$db$$.transaction([$storeName$$],"readonly").objectStore($storeName$$).getAllKeys();$req$$.onsuccess=function(){$success$$($req$$.result)};$req$$.onerror=$error$$}catch($e$$){null!=$error$$&&$error$$($e$$)}}),$error$$)};EditorUi.prototype.commentsSupported=function(){var $file$$=this.getCurrentFile();return null!=$file$$?$file$$.commentsSupported():!1};
EditorUi.prototype.commentsRefreshNeeded=function(){var $file$$=this.getCurrentFile();return null!=$file$$?$file$$.commentsRefreshNeeded():!0};EditorUi.prototype.commentsSaveNeeded=function(){var $file$$=this.getCurrentFile();return null!=$file$$?$file$$.commentsSaveNeeded():!1};EditorUi.prototype.getComments=function($success$$,$error$$){var $file$$=this.getCurrentFile();null!=$file$$?$file$$.getComments($success$$,$error$$):$success$$([])};EditorUi.prototype.addComment=function($comment$$,$success$$,
$error$$){var $file$$=this.getCurrentFile();null!=$file$$?$file$$.addComment($comment$$,$success$$,$error$$):$success$$(Date.now())};EditorUi.prototype.canReplyToReplies=function(){var $file$$=this.getCurrentFile();return null!=$file$$?$file$$.canReplyToReplies():!0};EditorUi.prototype.canComment=function(){var $file$$=this.getCurrentFile();return null!=$file$$?$file$$.canComment():!0};EditorUi.prototype.newComment=function($content$$,$user$$){var $file$$=this.getCurrentFile();return null!=$file$$?
$file$$.newComment($content$$,$user$$):new DrawioComment(this,null,$content$$,Date.now(),Date.now(),!1,$user$$)};EditorUi.prototype.isRevisionHistorySupported=function(){var $file$$=this.getCurrentFile();return null!=$file$$&&$file$$.isRevisionHistorySupported()};EditorUi.prototype.getRevisions=function($success$$,$error$$){var $file$$=this.getCurrentFile();null!=$file$$&&$file$$.getRevisions?$file$$.getRevisions($success$$,$error$$):$error$$({message:mxResources.get("unknownError")})};EditorUi.prototype.isRevisionHistoryEnabled=
function(){var $file$$=this.getCurrentFile();return null!=$file$$&&($file$$.constructor==DriveFile&&$file$$.isEditable()||$file$$.constructor==DropboxFile)};EditorUi.prototype.getServiceName=function(){return"draw.io"};EditorUi.prototype.addRemoteServiceSecurityCheck=function($xhr$$){$xhr$$.setRequestHeader("Content-Language","da, mi, en, de-DE")};EditorUi.prototype.loadUrl=function($url$$,$success$$,$error$$,$forceBinary$$,$retry$$,$dataUriPrefix$$,$noBinary$$,$headers$$){EditorUi.logEvent("SHOULD NOT BE CALLED: loadUrl");
return this.editor.loadUrl($url$$,$success$$,$error$$,$forceBinary$$,$retry$$,$dataUriPrefix$$,$noBinary$$,$headers$$)};EditorUi.prototype.loadFonts=function($then$$){EditorUi.logEvent("SHOULD NOT BE CALLED: loadFonts");return this.editor.loadFonts($then$$)};EditorUi.prototype.createSvgDataUri=function($svg$$){EditorUi.logEvent("SHOULD NOT BE CALLED: createSvgDataUri");return Editor.createSvgDataUri($svg$$)};EditorUi.prototype.embedCssFonts=function($fontCss$$,$then$$){EditorUi.logEvent("SHOULD NOT BE CALLED: embedCssFonts");
return this.editor.embedCssFonts($fontCss$$,$then$$)};EditorUi.prototype.embedExtFonts=function($callback$$){EditorUi.logEvent("SHOULD NOT BE CALLED: embedExtFonts");return this.editor.embedExtFonts($callback$$)};EditorUi.prototype.exportToCanvas=function($callback$$,$width$$,$imageCache$$,$background$$,$error$$,$limitHeight$$,$ignoreSelection$$,$scale$$,$transparentBackground$$,$addShadow$$,$converter$$,$graph$$,$border$$,$noCrop$$,$grid$$,$theme$$){EditorUi.logEvent("SHOULD NOT BE CALLED: exportToCanvas");
return this.editor.exportToCanvas($callback$$,$width$$,$imageCache$$,$background$$,$error$$,$limitHeight$$,$ignoreSelection$$,$scale$$,$transparentBackground$$,$addShadow$$,$converter$$,$graph$$,$border$$,$noCrop$$,$grid$$,$theme$$)};EditorUi.prototype.createImageUrlConverter=function(){EditorUi.logEvent("SHOULD NOT BE CALLED: createImageUrlConverter");return this.editor.createImageUrlConverter()};EditorUi.prototype.convertImages=function($svgRoot$$,$callback$$,$imageCache$$,$converter$$){EditorUi.logEvent("SHOULD NOT BE CALLED: convertImages");
return this.editor.convertImages($svgRoot$$,$callback$$,$imageCache$$,$converter$$)};EditorUi.prototype.convertImageToDataUri=function($url$$,$callback$$){EditorUi.logEvent("SHOULD NOT BE CALLED: convertImageToDataUri");return this.editor.convertImageToDataUri($url$$,$callback$$)};EditorUi.prototype.base64Encode=function($str$$){EditorUi.logEvent("SHOULD NOT BE CALLED: base64Encode");return Editor.base64Encode($str$$)};EditorUi.prototype.updateCRC=function($crc$$,$data$$,$off$$,$len$$){EditorUi.logEvent("SHOULD NOT BE CALLED: updateCRC");
return Editor.updateCRC($crc$$,$data$$,$off$$,$len$$)};EditorUi.prototype.crc32=function($str$$){EditorUi.logEvent("SHOULD NOT BE CALLED: crc32");return Editor.crc32($str$$)};EditorUi.prototype.writeGraphModelToPng=function($data$$,$type$$,$key$$,$value$$,$error$$){EditorUi.logEvent("SHOULD NOT BE CALLED: writeGraphModelToPng");return Editor.writeGraphModelToPng($data$$,$type$$,$key$$,$value$$,$error$$)};EditorUi.prototype.getLocalStorageFileNames=function(){if("1"==localStorage.getItem(".localStorageMigrated")&&
"1"!=urlParams.forceMigration)return null;for(var $files$$=[],$i$$=0;$i$$<localStorage.length;$i$$++){var $key$$=localStorage.key($i$$),$isLib_value$$=localStorage.getItem($key$$);if(0<$key$$.length&&(".scratchpad"==$key$$||"."!=$key$$.charAt(0))&&0<$isLib_value$$.length){var $isFile$$="<mxfile "===$isLib_value$$.substring(0,8)||"<?xml"===$isLib_value$$.substring(0,5)||"\x3c!--[if IE]>"===$isLib_value$$.substring(0,12);$isLib_value$$="<mxlibrary>"===$isLib_value$$.substring(0,11);($isFile$$||$isLib_value$$)&&
$files$$.push($key$$)}}return $files$$};EditorUi.prototype.getLocalStorageFile=function($key$$){if("1"==localStorage.getItem(".localStorageMigrated")&&"1"!=urlParams.forceMigration)return null;var $value$$=localStorage.getItem($key$$);return{title:$key$$,data:$value$$,isLib:"<mxlibrary>"===$value$$.substring(0,11)}};EditorUi.prototype.setMigratedFlag=function(){localStorage.setItem(".localStorageMigrated","1")}})();
var CommentsWindow=function($editorUi$$,$x$$,$y$$,$w$$,$h$$,$saveCallback$$){function $updateNoComments$$(){for(var $divs$$=$listDiv$$.getElementsByTagName("div"),$visibleCount$$=0,$i$$=0;$i$$<$divs$$.length;$i$$++)"none"!=$divs$$[$i$$].style.display&&$divs$$[$i$$].parentNode==$listDiv$$&&$visibleCount$$++;$noComments$$.style.display=0==$visibleCount$$?"block":"none"}function $editComment$$($comment$$,$cdiv$$,$saveCallback$$,$deleteOnCancel$$){function $reset$$(){$cdiv$$.removeChild($textArea$$);
$cdiv$$.removeChild($btnDiv$$);$actionsDiv$$.style.display="block";$commentTxt$$.style.display="block"}$curEdited$$={div:$cdiv$$,comment:$comment$$,saveCallback:$saveCallback$$,deleteOnCancel:$deleteOnCancel$$};var $commentTxt$$=$cdiv$$.querySelector(".geCommentTxt"),$actionsDiv$$=$cdiv$$.querySelector(".geCommentActionsList"),$textArea$$=document.createElement("textarea");$textArea$$.className="geCommentEditTxtArea";$textArea$$.style.minHeight=$commentTxt$$.offsetHeight+"px";$textArea$$.value=$comment$$.content;
$cdiv$$.insertBefore($textArea$$,$commentTxt$$);var $btnDiv$$=document.createElement("div");$btnDiv$$.className="geCommentEditBtns";var $cancelBtn$$=mxUtils.button(mxResources.get("cancel"),function(){$deleteOnCancel$$?($cdiv$$.parentNode.removeChild($cdiv$$),$updateNoComments$$()):$reset$$();$curEdited$$=null});$cancelBtn$$.className="geCommentEditBtn";$btnDiv$$.appendChild($cancelBtn$$);var $saveBtn$$=mxUtils.button(mxResources.get("save"),function(){$commentTxt$$.innerText="";$comment$$.content=
$textArea$$.value;mxUtils.write($commentTxt$$,$comment$$.content);$reset$$();$saveCallback$$($comment$$);$curEdited$$=null});mxEvent.addListener($textArea$$,"keydown",mxUtils.bind(this,function($evt$$){mxEvent.isConsumed($evt$$)||((mxEvent.isControlDown($evt$$)||mxClient.IS_MAC&&mxEvent.isMetaDown($evt$$))&&13==$evt$$.keyCode?($saveBtn$$.click(),mxEvent.consume($evt$$)):27==$evt$$.keyCode&&($cancelBtn$$.click(),mxEvent.consume($evt$$)))}));$saveBtn$$.focus();$saveBtn$$.className="geCommentEditBtn gePrimaryBtn";
$btnDiv$$.appendChild($saveBtn$$);$cdiv$$.insertBefore($btnDiv$$,$commentTxt$$);$actionsDiv$$.style.display="none";$commentTxt$$.style.display="none";$textArea$$.focus()}function $writeCommentDate$$($comment$jscomp$3_ts$$,$dateDiv$$){$dateDiv$$.innerText="";$comment$jscomp$3_ts$$=new Date($comment$jscomp$3_ts$$.modifiedDate);var $str$$=$editorUi$$.timeSince($comment$jscomp$3_ts$$);null==$str$$&&($str$$=mxResources.get("lessThanAMinute"));mxUtils.write($dateDiv$$,mxResources.get("timeAgo",[$str$$],
"{1} ago"));$dateDiv$$.setAttribute("title",$comment$jscomp$3_ts$$.toLocaleDateString()+" "+$comment$jscomp$3_ts$$.toLocaleTimeString())}function $showBusy$$($commentDiv$$){var $busyImg$$=document.createElement("img");$busyImg$$.className="geCommentBusyImg";$busyImg$$.src=IMAGE_PATH+"/spin.gif";$commentDiv$$.appendChild($busyImg$$);$commentDiv$$.busyImg=$busyImg$$}function $showError$$($commentDiv$$){$commentDiv$$.style.border="1px solid red";$commentDiv$$.removeChild($commentDiv$$.busyImg)}function $showDone$$($commentDiv$$){$commentDiv$$.style.border=
"";$commentDiv$$.removeChild($commentDiv$$.busyImg)}function $addComment$$($comment$jscomp$0$$,$parentArr$$,$i$jscomp$278_parent$$,$level$$,$origContent_showResolved$$){function $addAction$$($name$$,$evtHandler$$,$hide$$){var $action$$=document.createElement("li");$action$$.className="geCommentAction";var $actionLnk$$=document.createElement("a");$actionLnk$$.className="geCommentActionLnk";mxUtils.write($actionLnk$$,$name$$);$action$$.appendChild($actionLnk$$);mxEvent.addListener($actionLnk$$,"click",
function($evt$$){$evtHandler$$($evt$$,$comment$jscomp$0$$);$evt$$.preventDefault();mxEvent.consume($evt$$)});$actionsList$$.appendChild($action$$);$hide$$&&($action$$.style.display="none")}function $collectReplies$$(){function $collectReplies$$($comment$$){$replies$$.push($pdiv$$);if(null!=$comment$$.replies)for(var $i$$=0;$i$$<$comment$$.replies.length;$i$$++)$pdiv$$=$pdiv$$.nextSibling,$collectReplies$$($comment$$.replies[$i$$])}var $replies$$=[],$pdiv$$=$cdiv$$;$collectReplies$$($comment$jscomp$0$$);
return{pdiv:$pdiv$$,replies:$replies$$}}function $addReply$$($initContent$$,$editIt$$,$saveCallback$$,$doResolve$$,$doReopen$$){function $doAddReply$$(){$showBusy$$($replyComment$$);$comment$jscomp$0$$.addReply($newReply$$,function($id$$){$newReply$$.id=$id$$;$comment$jscomp$0$$.replies.push($newReply$$);$showDone$$($replyComment$$);$saveCallback$$&&$saveCallback$$()},function($err$$){$doEdit$$();$showError$$($replyComment$$);$editorUi$$.handleError($err$$,null,null,null,mxUtils.htmlEntities(mxResources.get("objectNotFound")))},
$doResolve$$,$doReopen$$)}function $doEdit$$(){$editComment$$($newReply$$,$replyComment$$,function($newReply$$){$doAddReply$$()},!0)}var $pdiv$$=$collectReplies$$().pdiv,$newReply$$=$editorUi$$.newComment($initContent$$,$editorUi$$.getCurrentUser());$newReply$$.pCommentId=$comment$jscomp$0$$.id;null==$comment$jscomp$0$$.replies&&($comment$jscomp$0$$.replies=[]);var $replyComment$$=$addComment$$($newReply$$,$comment$jscomp$0$$.replies,$pdiv$$,$level$$+1);$editIt$$?$doEdit$$():$doAddReply$$()}if($origContent_showResolved$$||
!$comment$jscomp$0$$.isResolved){$noComments$$.style.display="none";var $cdiv$$=document.createElement("div");$cdiv$$.className="geCommentContainer";$cdiv$$.setAttribute("data-commentId",$comment$jscomp$0$$.id);$cdiv$$.style.marginLeft=20*$level$$+5+"px";$comment$jscomp$0$$.isResolved&&!Editor.isDarkMode()&&($cdiv$$.style.backgroundColor="ghostWhite");var $actionsDiv$$=document.createElement("div");$actionsDiv$$.className="geCommentHeader";var $headerTxt_user$$=document.createElement("img");$headerTxt_user$$.className=
"geCommentUserImg";$headerTxt_user$$.src=$comment$jscomp$0$$.user.pictureUrl||Editor.userImage;$actionsDiv$$.appendChild($headerTxt_user$$);$headerTxt_user$$=document.createElement("div");$headerTxt_user$$.className="geCommentHeaderTxt";$actionsDiv$$.appendChild($headerTxt_user$$);var $dateDiv$$=document.createElement("div");$dateDiv$$.className="geCommentUsername";mxUtils.write($dateDiv$$,$comment$jscomp$0$$.user.displayName||"");$headerTxt_user$$.appendChild($dateDiv$$);$dateDiv$$=document.createElement("div");
$dateDiv$$.className="geCommentDate";$dateDiv$$.setAttribute("data-commentId",$comment$jscomp$0$$.id);$writeCommentDate$$($comment$jscomp$0$$,$dateDiv$$);$headerTxt_user$$.appendChild($dateDiv$$);$cdiv$$.appendChild($actionsDiv$$);$actionsDiv$$=document.createElement("div");$actionsDiv$$.className="geCommentTxt";mxUtils.write($actionsDiv$$,$comment$jscomp$0$$.content||"");$cdiv$$.appendChild($actionsDiv$$);$comment$jscomp$0$$.isLocked&&($cdiv$$.style.opacity="0.5");$actionsDiv$$=document.createElement("div");
$actionsDiv$$.className="geCommentActions";var $actionsList$$=document.createElement("ul");$actionsList$$.className="geCommentActionsList";$actionsDiv$$.appendChild($actionsList$$);$readOnly$$||$comment$jscomp$0$$.isLocked||0!=$level$$&&!$canReplyToReplies$$||$addAction$$(mxResources.get("reply"),function(){$addReply$$("",!0)},$comment$jscomp$0$$.isResolved);$headerTxt_user$$=$editorUi$$.getCurrentUser();null==$headerTxt_user$$||$headerTxt_user$$.id!=$comment$jscomp$0$$.user.id||$readOnly$$||$comment$jscomp$0$$.isLocked||
($addAction$$(mxResources.get("edit"),function(){function $doEditComment$$(){$editComment$$($comment$jscomp$0$$,$cdiv$$,function(){$showBusy$$($cdiv$$);$comment$jscomp$0$$.editComment($comment$jscomp$0$$.content,function(){$showDone$$($cdiv$$)},function($err$$){$showError$$($cdiv$$);$doEditComment$$();$editorUi$$.handleError($err$$,null,null,null,mxUtils.htmlEntities(mxResources.get("objectNotFound")))})})}$doEditComment$$()},$comment$jscomp$0$$.isResolved),$addAction$$(mxResources.get("delete"),
function(){$editorUi$$.confirm(mxResources.get("areYouSure"),function(){$showBusy$$($cdiv$$);$comment$jscomp$0$$.deleteComment(function($commentTxt$jscomp$1_i$$){if(!0===$commentTxt$jscomp$1_i$$){$commentTxt$jscomp$1_i$$=$cdiv$$.querySelector(".geCommentTxt");$commentTxt$jscomp$1_i$$.innerText="";mxUtils.write($commentTxt$jscomp$1_i$$,mxResources.get("msgDeleted"));var $actions$jscomp$3_replies$$=$cdiv$$.querySelectorAll(".geCommentAction");for($commentTxt$jscomp$1_i$$=0;$commentTxt$jscomp$1_i$$<
$actions$jscomp$3_replies$$.length;$commentTxt$jscomp$1_i$$++)$actions$jscomp$3_replies$$[$commentTxt$jscomp$1_i$$].parentNode.removeChild($actions$jscomp$3_replies$$[$commentTxt$jscomp$1_i$$]);$showDone$$($cdiv$$);$cdiv$$.style.opacity="0.5"}else{$actions$jscomp$3_replies$$=$collectReplies$$($comment$jscomp$0$$).replies;for($commentTxt$jscomp$1_i$$=0;$commentTxt$jscomp$1_i$$<$actions$jscomp$3_replies$$.length;$commentTxt$jscomp$1_i$$++)$listDiv$$.removeChild($actions$jscomp$3_replies$$[$commentTxt$jscomp$1_i$$]);
for($commentTxt$jscomp$1_i$$=0;$commentTxt$jscomp$1_i$$<$parentArr$$.length;$commentTxt$jscomp$1_i$$++)if($parentArr$$[$commentTxt$jscomp$1_i$$]==$comment$jscomp$0$$){$parentArr$$.splice($commentTxt$jscomp$1_i$$,1);break}$noComments$$.style.display=0==$listDiv$$.getElementsByTagName("div").length?"block":"none"}},function($err$$){$showError$$($cdiv$$);$editorUi$$.handleError($err$$,null,null,null,mxUtils.htmlEntities(mxResources.get("objectNotFound")))})})},$comment$jscomp$0$$.isResolved));$readOnly$$||
$comment$jscomp$0$$.isLocked||0!=$level$$||$addAction$$($comment$jscomp$0$$.isResolved?mxResources.get("reopen"):mxResources.get("resolve"),function($evt$$){function $doToggle$$(){var $resolveActionLnk$$=$evt$$.target;$resolveActionLnk$$.innerText="";$comment$jscomp$0$$.isResolved=!$comment$jscomp$0$$.isResolved;mxUtils.write($resolveActionLnk$$,$comment$jscomp$0$$.isResolved?mxResources.get("reopen"):mxResources.get("resolve"));for(var $actionsDisplay$$=$comment$jscomp$0$$.isResolved?"none":"",$replies$$=
$collectReplies$$($comment$jscomp$0$$).replies,$color$$=Editor.isDarkMode()?"transparent":$comment$jscomp$0$$.isResolved?"ghostWhite":"white",$i$$=0;$i$$<$replies$$.length;$i$$++){$replies$$[$i$$].style.backgroundColor=$color$$;for(var $forOpenActions$$=$replies$$[$i$$].querySelectorAll(".geCommentAction"),$j$$=0;$j$$<$forOpenActions$$.length;$j$$++)$forOpenActions$$[$j$$]!=$resolveActionLnk$$.parentNode&&($forOpenActions$$[$j$$].style.display=$actionsDisplay$$);$resolvedChecked$$||($replies$$[$i$$].style.display=
"none")}$updateNoComments$$()}$comment$jscomp$0$$.isResolved?$addReply$$(mxResources.get("reOpened")+": ",!0,$doToggle$$,!1,!0):$addReply$$(mxResources.get("markedAsResolved"),!1,$doToggle$$,!0)});$cdiv$$.appendChild($actionsDiv$$);null!=$i$jscomp$278_parent$$?$listDiv$$.insertBefore($cdiv$$,$i$jscomp$278_parent$$.nextSibling):$listDiv$$.appendChild($cdiv$$);for($i$jscomp$278_parent$$=0;null!=$comment$jscomp$0$$.replies&&$i$jscomp$278_parent$$<$comment$jscomp$0$$.replies.length;$i$jscomp$278_parent$$++)$actionsDiv$$=
$comment$jscomp$0$$.replies[$i$jscomp$278_parent$$],$actionsDiv$$.isResolved=$comment$jscomp$0$$.isResolved,$addComment$$($actionsDiv$$,$comment$jscomp$0$$.replies,null,$level$$+1,$origContent_showResolved$$);null!=$curEdited$$&&($curEdited$$.comment.id==$comment$jscomp$0$$.id?($origContent_showResolved$$=$comment$jscomp$0$$.content,$comment$jscomp$0$$.content=$curEdited$$.comment.content,$editComment$$($comment$jscomp$0$$,$cdiv$$,$curEdited$$.saveCallback,$curEdited$$.deleteOnCancel),$comment$jscomp$0$$.content=
$origContent_showResolved$$):null==$curEdited$$.comment.id&&$curEdited$$.comment.pCommentId==$comment$jscomp$0$$.id&&($listDiv$$.appendChild($curEdited$$.div),$editComment$$($curEdited$$.comment,$curEdited$$.div,$curEdited$$.saveCallback,$curEdited$$.deleteOnCancel)));return $cdiv$$}}var $readOnly$$=!$editorUi$$.canComment(),$canReplyToReplies$$=$editorUi$$.canReplyToReplies(),$curEdited$$=null,$div$jscomp$0$$=document.createElement("div");$div$jscomp$0$$.className="geCommentsWin";$div$jscomp$0$$.style.background=
Editor.isDarkMode()?Editor.darkColor:"whiteSmoke";var $link$$=EditorUi.compactUi?"26px":"30px",$listDiv$$=document.createElement("div");$listDiv$$.className="geCommentsList";$listDiv$$.style.backgroundColor=Editor.isDarkMode()?Editor.darkColor:"whiteSmoke";$listDiv$$.style.bottom=parseInt($link$$)+7+"px";$div$jscomp$0$$.appendChild($listDiv$$);var $noComments$$=document.createElement("span");$noComments$$.style.cssText="display:none;padding-top:10px;text-align:center;";mxUtils.write($noComments$$,
mxResources.get("noCommentsFound"));var $ldiv_refreshCommentsTime$$=document.createElement("div");$ldiv_refreshCommentsTime$$.className="geToolbarContainer geCommentsToolbar";$ldiv_refreshCommentsTime$$.style.height=$link$$;$ldiv_refreshCommentsTime$$.style.padding=EditorUi.compactUi?"4px 0px 3px 0px":"1px";$link$$=document.createElement("a");$link$$.className="geButton";if(!$readOnly$$){var $addLink_refreshLink_resolvedLink$$=$link$$.cloneNode();$addLink_refreshLink_resolvedLink$$.innerHTML='<div class="geSprite geSprite-plus" style="display:inline-block;"></div>';
$addLink_refreshLink_resolvedLink$$.setAttribute("title",mxResources.get("create")+"...");mxEvent.addListener($addLink_refreshLink_resolvedLink$$,"click",function($evt$$){function $doAddComment$$(){$editComment$$($newComment$$,$newCommentDiv$$,function($newComment$$){$showBusy$$($newCommentDiv$$);$editorUi$$.addComment($newComment$$,function($id$$){$newComment$$.id=$id$$;$comments$$.push($newComment$$);$showDone$$($newCommentDiv$$)},function($err$$){$showError$$($newCommentDiv$$);$doAddComment$$();
$editorUi$$.handleError($err$$,null,null,null,mxUtils.htmlEntities(mxResources.get("objectNotFound")))})},!0)}var $newComment$$=$editorUi$$.newComment("",$editorUi$$.getCurrentUser()),$newCommentDiv$$=$addComment$$($newComment$$,$comments$$,null,0);$doAddComment$$();$evt$$.preventDefault();mxEvent.consume($evt$$)});$ldiv_refreshCommentsTime$$.appendChild($addLink_refreshLink_resolvedLink$$)}$addLink_refreshLink_resolvedLink$$=$link$$.cloneNode();$addLink_refreshLink_resolvedLink$$.innerHTML='<img class="geAdaptiveAsset" src="'+
IMAGE_PATH+'/check.png" style="width: 16px; padding: 2px;">';$addLink_refreshLink_resolvedLink$$.setAttribute("title",mxResources.get("showResolved"));$addLink_refreshLink_resolvedLink$$.className="geButton";var $resolvedChecked$$=!1;mxEvent.addListener($addLink_refreshLink_resolvedLink$$,"click",function($evt$$){this.className=($resolvedChecked$$=!$resolvedChecked$$)?"geButton geCheckedBtn":"geButton";$refresh$$();$evt$$.preventDefault();mxEvent.consume($evt$$)});$ldiv_refreshCommentsTime$$.appendChild($addLink_refreshLink_resolvedLink$$);
$editorUi$$.commentsRefreshNeeded()&&($addLink_refreshLink_resolvedLink$$=$link$$.cloneNode(),$addLink_refreshLink_resolvedLink$$.innerHTML='<img class="geAdaptiveAsset" src="'+IMAGE_PATH+'/update16.png" style="width: 16px; padding: 2px;">',$addLink_refreshLink_resolvedLink$$.setAttribute("title",mxResources.get("refresh")),$addLink_refreshLink_resolvedLink$$.className="geButton",mxEvent.addListener($addLink_refreshLink_resolvedLink$$,"click",function($evt$$){$refresh$$();$evt$$.preventDefault();
mxEvent.consume($evt$$)}),$ldiv_refreshCommentsTime$$.appendChild($addLink_refreshLink_resolvedLink$$));$editorUi$$.commentsSaveNeeded()&&($link$$=$link$$.cloneNode(),$link$$.innerHTML='<img src="'+IMAGE_PATH+'/save.png" style="width: 20px; padding: 2px;">',$link$$.setAttribute("title",mxResources.get("save")),$link$$.className="geButton geAdaptiveAsset",mxEvent.addListener($link$$,"click",function($evt$$){$saveCallback$$();$evt$$.preventDefault();mxEvent.consume($evt$$)}),$ldiv_refreshCommentsTime$$.appendChild($link$$));
$div$jscomp$0$$.appendChild($ldiv_refreshCommentsTime$$);var $comments$$=[],$refresh$$=mxUtils.bind(this,function(){this.hasError=!1;if(null!=$curEdited$$)try{$curEdited$$.div=$curEdited$$.div.cloneNode(!0);var $commentEditTxt$$=$curEdited$$.div.querySelector(".geCommentEditTxtArea"),$commentEditBtns$$=$curEdited$$.div.querySelector(".geCommentEditBtns");$curEdited$$.comment.content=$commentEditTxt$$.value;$commentEditTxt$$.parentNode.removeChild($commentEditTxt$$);$commentEditBtns$$.parentNode.removeChild($commentEditBtns$$)}catch($e$$){$editorUi$$.handleError($e$$)}$listDiv$$.innerHTML=
'<div style="padding-top:10px;text-align:center;"><img src="'+IMAGE_PATH+'/spin.gif" valign="middle"> '+mxUtils.htmlEntities(mxResources.get("loading"))+"...</div>";$canReplyToReplies$$=$editorUi$$.canReplyToReplies();$editorUi$$.commentsSupported()?$editorUi$$.getComments(function($i$jscomp$282_list$$){function $sortReplies$$($replies$$){if(null!=$replies$$){$replies$$.sort(function($r1$$,$r2$$){return new Date($r1$$.modifiedDate)-new Date($r2$$.modifiedDate)});for(var $i$$=0;$i$$<$replies$$.length;$i$$++)$sortReplies$$($replies$$[$i$$].replies)}}
$i$jscomp$282_list$$.sort(function($c1$$,$c2$$){return new Date($c1$$.modifiedDate)-new Date($c2$$.modifiedDate)});$listDiv$$.innerText="";$listDiv$$.appendChild($noComments$$);$noComments$$.style.display="block";$comments$$=$i$jscomp$282_list$$;for($i$jscomp$282_list$$=0;$i$jscomp$282_list$$<$comments$$.length;$i$jscomp$282_list$$++)$sortReplies$$($comments$$[$i$jscomp$282_list$$].replies),$addComment$$($comments$$[$i$jscomp$282_list$$],$comments$$,null,0,$resolvedChecked$$);null!=$curEdited$$&&
null==$curEdited$$.comment.id&&null==$curEdited$$.comment.pCommentId&&($listDiv$$.appendChild($curEdited$$.div),$editComment$$($curEdited$$.comment,$curEdited$$.div,$curEdited$$.saveCallback,$curEdited$$.deleteOnCancel))},mxUtils.bind(this,function($err$$){$listDiv$$.innerHTML=mxUtils.htmlEntities(mxResources.get("error")+($err$$&&$err$$.message?": "+$err$$.message:""));this.hasError=!0})):$listDiv$$.innerHTML=mxUtils.htmlEntities(mxResources.get("error"))});$refresh$$();this.refreshComments=$refresh$$;
$ldiv_refreshCommentsTime$$=mxUtils.bind(this,function(){function $processComment$$($comment$$){var $div$jscomp$43_i$$=$modDateDivsMap$$[$comment$$.id];if(null!=$div$jscomp$43_i$$)for($writeCommentDate$$($comment$$,$div$jscomp$43_i$$),$div$jscomp$43_i$$=0;null!=$comment$$.replies&&$div$jscomp$43_i$$<$comment$$.replies.length;$div$jscomp$43_i$$++)$processComment$$($comment$$.replies[$div$jscomp$43_i$$])}if(this.window.isVisible()){for(var $modDateDivs$$=$listDiv$$.querySelectorAll(".geCommentDate"),
$modDateDivsMap$$={},$i$$=0;$i$$<$modDateDivs$$.length;$i$$++){var $div$$=$modDateDivs$$[$i$$];$modDateDivsMap$$[$div$$.getAttribute("data-commentId")]=$div$$}for($i$$=0;$i$$<$comments$$.length;$i$$++)$processComment$$($comments$$[$i$$])}});setInterval($ldiv_refreshCommentsTime$$,6E4);this.refreshCommentsTime=$ldiv_refreshCommentsTime$$;this.window=new mxWindow(mxResources.get("comments"),$div$jscomp$0$$,$x$$,$y$$,$w$$,$h$$,!0,!0);this.window.minimumSize=new mxRectangle(0,0,260,200);this.window.destroyOnClose=
!1;this.window.setMaximizable(!1);this.window.setResizable(!0);this.window.setClosable(!0);this.window.setVisible(!0);this.window.addListener(mxEvent.SHOW,mxUtils.bind(this,function(){this.window.fit()}));$editorUi$$.installResizeHandler(this,!0)},ConfirmDialog=function($editorUi$$,$img$jscomp$44_message$$,$okFn$$,$cancelFn$$,$okLabel$jscomp$1_span$$,$cancelBtn$jscomp$6_cancelLabel$$,$okImg$$,$cancelImg$$,$showRememberOption$$,$btns$jscomp$1_imgSrc$$,$maxHeight$$){var $div$$=document.createElement("div");
$div$$.style.textAlign="center";$maxHeight$$=null!=$maxHeight$$?$maxHeight$$:44;var $p2$jscomp$2_p3$$=document.createElement("div");$p2$jscomp$2_p3$$.style.padding="6px";$p2$jscomp$2_p3$$.style.overflow="auto";$p2$jscomp$2_p3$$.style.maxHeight=$maxHeight$$+"px";$p2$jscomp$2_p3$$.style.lineHeight="1.2em";mxUtils.write($p2$jscomp$2_p3$$,$img$jscomp$44_message$$);$div$$.appendChild($p2$jscomp$2_p3$$);null!=$btns$jscomp$1_imgSrc$$&&($p2$jscomp$2_p3$$=document.createElement("div"),$p2$jscomp$2_p3$$.style.padding=
"6px 0 6px 0",$img$jscomp$44_message$$=document.createElement("img"),$img$jscomp$44_message$$.setAttribute("src",$btns$jscomp$1_imgSrc$$),$p2$jscomp$2_p3$$.appendChild($img$jscomp$44_message$$),$div$$.appendChild($p2$jscomp$2_p3$$));$btns$jscomp$1_imgSrc$$=document.createElement("div");$btns$jscomp$1_imgSrc$$.style.textAlign="center";$btns$jscomp$1_imgSrc$$.style.whiteSpace="nowrap";var $cb$$=document.createElement("input");$cb$$.setAttribute("type","checkbox");$cancelBtn$jscomp$6_cancelLabel$$=mxUtils.button($cancelBtn$jscomp$6_cancelLabel$$||
mxResources.get("cancel"),function(){$editorUi$$.hideDialog();null!=$cancelFn$$&&$cancelFn$$($cb$$.checked)});$cancelBtn$jscomp$6_cancelLabel$$.className="geBtn";null!=$cancelImg$$&&($cancelBtn$jscomp$6_cancelLabel$$.innerHTML=$cancelImg$$+"<br>"+$cancelBtn$jscomp$6_cancelLabel$$.innerHTML,$cancelBtn$jscomp$6_cancelLabel$$.style.paddingBottom="8px",$cancelBtn$jscomp$6_cancelLabel$$.style.paddingTop="8px",$cancelBtn$jscomp$6_cancelLabel$$.style.height="auto",$cancelBtn$jscomp$6_cancelLabel$$.style.width=
"40%");$editorUi$$.editor.cancelFirst&&$btns$jscomp$1_imgSrc$$.appendChild($cancelBtn$jscomp$6_cancelLabel$$);var $okBtn$$=mxUtils.button($okLabel$jscomp$1_span$$||mxResources.get("ok"),function(){$editorUi$$.hideDialog();null!=$okFn$$&&$okFn$$($cb$$.checked)});$btns$jscomp$1_imgSrc$$.appendChild($okBtn$$);null!=$okImg$$?($okBtn$$.innerHTML=$okImg$$+"<br>"+$okBtn$$.innerHTML+"<br>",$okBtn$$.style.paddingBottom="8px",$okBtn$$.style.paddingTop="8px",$okBtn$$.style.height="auto",$okBtn$$.className="geBtn",
$okBtn$$.style.width="40%"):$okBtn$$.className="geBtn gePrimaryBtn";$editorUi$$.editor.cancelFirst||$btns$jscomp$1_imgSrc$$.appendChild($cancelBtn$jscomp$6_cancelLabel$$);$div$$.appendChild($btns$jscomp$1_imgSrc$$);$showRememberOption$$?($btns$jscomp$1_imgSrc$$.style.marginTop="10px",$p2$jscomp$2_p3$$=document.createElement("p"),$p2$jscomp$2_p3$$.style.marginTop="20px",$p2$jscomp$2_p3$$.style.marginBottom="0px",$p2$jscomp$2_p3$$.appendChild($cb$$),$okLabel$jscomp$1_span$$=document.createElement("span"),
mxUtils.write($okLabel$jscomp$1_span$$," "+mxResources.get("rememberThisSetting")),$p2$jscomp$2_p3$$.appendChild($okLabel$jscomp$1_span$$),$div$$.appendChild($p2$jscomp$2_p3$$),mxEvent.addListener($okLabel$jscomp$1_span$$,"click",function($evt$$){$cb$$.checked=!$cb$$.checked;mxEvent.consume($evt$$)})):$btns$jscomp$1_imgSrc$$.style.marginTop="12px";this.init=function(){$okBtn$$.focus()};this.container=$div$$},HeadlessEditorUi=function(){EditorUi.call(this,new Editor(!0),document.createElement("div"),
!0)};mxUtils.extend(HeadlessEditorUi,EditorUi);HeadlessEditorUi.prototype.createUi=function(){};HeadlessEditorUi.prototype.addTrees=function(){};HeadlessEditorUi.prototype.onBeforeUnload=function(){};HeadlessEditorUi.prototype.updateActionStates=function(){};function DiagramPage($node$$,$id$$){this.node=$node$$;null!=$id$$?this.node.setAttribute("id",$id$$):null==this.getId()&&this.node.setAttribute("id",Editor.guid())}DiagramPage.prototype.node=null;DiagramPage.prototype.root=null;DiagramPage.prototype.viewState=null;DiagramPage.prototype.getId=function(){return this.node.getAttribute("id")};DiagramPage.prototype.getName=function(){return this.node.getAttribute("name")};
DiagramPage.prototype.setName=function($value$$){null==$value$$?this.node.removeAttribute("name"):this.node.setAttribute("name",$value$$)};function RenamePage($ui$$,$page$$,$name$$){this.ui=$ui$$;this.page=$page$$;this.previous=this.name=$name$$}RenamePage.prototype.execute=function(){var $tmp$$=this.page.getName();this.page.setName(this.previous);this.name=this.previous;this.previous=$tmp$$;this.ui.editor.graph.updatePlaceholders();this.ui.editor.fireEvent(new mxEventObject("pageRenamed"))};
function MovePage($ui$$,$oldIndex$$,$newIndex$$){this.ui=$ui$$;this.oldIndex=$oldIndex$$;this.newIndex=$newIndex$$}MovePage.prototype.execute=function(){this.ui.pages.splice(this.newIndex,0,this.ui.pages.splice(this.oldIndex,1)[0]);var $tmp$$=this.oldIndex;this.oldIndex=this.newIndex;this.newIndex=$tmp$$;this.ui.editor.graph.updatePlaceholders();this.ui.editor.fireEvent(new mxEventObject("pageMoved"))};
function SelectPage($ui$$,$page$$,$viewState$$){this.ui=$ui$$;this.previousPage=this.page=$page$$;null!=$page$$&&(this.ui.updatePageRoot($page$$),null!=$viewState$$&&($page$$.viewState=$viewState$$))}
SelectPage.prototype.execute=function(){var $page$$=mxUtils.indexOf(this.ui.pages,this.previousPage);if(null!=this.page&&0<=$page$$){$page$$=this.ui.currentPage;var $editor$$=this.ui.editor,$graph$$=$editor$$.graph,$data$$=Graph.compressNode($editor$$.getGraphXml(!0));mxUtils.setTextContent($page$$.node,$data$$);$page$$.viewState=$graph$$.getViewState();$page$$.root=$graph$$.model.root;null!=$page$$.model&&$page$$.model.rootChanged($page$$.root);$graph$$.view.clear($page$$.root,!0);$graph$$.clearSelection();
this.ui.currentPage=this.previousPage;this.previousPage=$page$$;$page$$=this.ui.currentPage;$graph$$.model.prefix=Editor.guid()+"-";$graph$$.model.rootChanged($page$$.root);$graph$$.setViewState($page$$.viewState);$graph$$.gridEnabled=$graph$$.gridEnabled&&(!this.ui.editor.isChromelessView()||"1"==urlParams.grid);$editor$$.graph.fireEvent(new mxEventObject(mxEvent.ROOT));$editor$$.fireEvent(new mxEventObject("pageSelected","change",this))}};
function ChangePage($ui$$,$page$$,$select$$,$index$$,$noSelect$$){SelectPage.call(this,$ui$$,$select$$);this.relatedPage=$page$$;this.index=$index$$;this.previousIndex=null;this.noSelect=$noSelect$$}mxUtils.extend(ChangePage,SelectPage);
ChangePage.prototype.execute=function(){this.ui.editor.fireEvent(new mxEventObject("beforePageChange","change",this));this.previousIndex=this.index;if(null==this.index){var $tmp$$=mxUtils.indexOf(this.ui.pages,this.relatedPage);this.ui.pages.splice($tmp$$,1);this.index=$tmp$$}else this.ui.pages.splice(this.index,0,this.relatedPage),this.index=null;this.noSelect||SelectPage.prototype.execute.apply(this,arguments)};function ReplaceDiagram($ui$$,$data$$){this.ui=$ui$$;this.data=$data$$}
ReplaceDiagram.prototype.execute=function(){var $graph$$=this.ui.editor.graph,$data$$=this.ui.editor.getGraphXml();this.ui.editor.readGraphState(this.data);this.ui.editor.updateGraphComponents();var $dec$$=new mxCodec(this.data.ownerDocument),$model$$=new mxGraphModel;$dec$$.decode(this.data,$model$$);this.data=$data$$;this.ui.currentPage&&(this.ui.currentPage.viewState=$graph$$.getViewState(),this.ui.currentPage.root=$model$$.root,null!=this.ui.currentPage.model&&this.ui.currentPage.model.rootChanged(this.ui.currentPage.model.root));
$graph$$.view.clear($graph$$.model.root,!0);$graph$$.model.rootChanged($model$$.root);$graph$$.fireEvent(new mxEventObject(mxEvent.ROOT))};EditorUi.prototype.tabContainerHeight=36;EditorUi.prototype.setTabContainerVisible=function($visible$$){this.tabContainerHeight=$visible$$?EditorUi.prototype.tabContainerHeight:0;isLocalStorage&&(mxSettings.settings.pages=0<this.tabContainerHeight,mxSettings.save());this.editor.updateGraphComponents();this.refresh()};
EditorUi.prototype.isTabContainerVisible=function(){return 0<this.tabContainerHeight};EditorUi.prototype.getSelectedPageIndex=function(){return this.getPageIndex(this.currentPage)};EditorUi.prototype.getPageIndex=function($page$$){var $result$$=null;if(null!=this.pages&&null!=$page$$)for(var $i$$=0;$i$$<this.pages.length;$i$$++)if(this.pages[$i$$]==$page$$){$result$$=$i$$;break}return $result$$};
EditorUi.prototype.getPageById=function($id$$,$pages$$){$pages$$=null!=$pages$$?$pages$$:this.pages;if(null!=$pages$$)for(var $i$$=0;$i$$<$pages$$.length;$i$$++)if($pages$$[$i$$].getId()==$id$$)return $pages$$[$i$$];return null};
EditorUi.prototype.createImageForPageLink=function($src$$,$sourcePage$$,$sourceGraph$$){var $comma$jscomp$5_page$$=$src$$.indexOf(","),$result$$=null;0<$comma$jscomp$5_page$$&&($comma$jscomp$5_page$$=this.getPageById($src$$.substring($comma$jscomp$5_page$$+1)),null!=$comma$jscomp$5_page$$&&$comma$jscomp$5_page$$!=$sourcePage$$&&($result$$=this.getImageForPage($comma$jscomp$5_page$$,$sourcePage$$,$sourceGraph$$),$result$$.originalSrc=$src$$));null==$result$$&&($result$$={originalSrc:$src$$});return $result$$};
EditorUi.prototype.pageSelected=function(){var $graph$$=this.editor.graph,$page$$=this.currentPage;null!=$page$$&&($graph$$.tooltipHandler.hide(),null==$page$$.viewState||null==$page$$.viewState.scrollTop||null==$page$$.viewState.scrollLeft?($graph$$.selectUnlockedLayer(),this.resetScrollbars(),$graph$$.isLightboxView()&&this.lightboxFit(),null!=this.chromelessResize&&($graph$$.container.scrollleft=0,$graph$$.container.scrollTop=0,this.chromelessResize())):$graph$$.setScrollbarPositions($page$$.viewState,
$graph$$.view.translate.x,$graph$$.view.translate.y),this.updateTabContainer(),this.scrollToPage())};
EditorUi.prototype.getImageForPage=function($page$jscomp$25_temp$$,$sourcePage$$,$sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$){$sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$=null!=$sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$?$sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$:this.editor.graph;var $graphGetGlobalVariable$$=$sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$.getGlobalVariable,$graph$$=this.createTemporaryGraph($sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$.getStylesheet());$graph$$.defaultPageBackgroundColor=
$sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$.defaultPageBackgroundColor;$graph$$.shapeBackgroundColor=$sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$.shapeBackgroundColor;$graph$$.shapeForegroundColor=$sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$.shapeForegroundColor;var $index$$=this.getPageIndex(null!=$sourcePage$$?$sourcePage$$:this.currentPage);$graph$$.getGlobalVariable=function($name$$){return"pagenumber"==$name$$?$index$$+1:"page"==$name$$&&null!=$sourcePage$$?$sourcePage$$.getName():
$graphGetGlobalVariable$$.apply(this,arguments)};document.body.appendChild($graph$$.container);this.updatePageRoot($page$jscomp$25_temp$$);$graph$$.model.setRoot($page$jscomp$25_temp$$.root);$page$jscomp$25_temp$$=Graph.foreignObjectWarningText;Graph.foreignObjectWarningText="";$sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$=Editor.cssDarkMode||Editor.isDarkMode()?"dark":"light";$sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$=$graph$$.getSvg(null,null,null,null,null,null,null,null,null,null,null,
$sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$,null,null,!0);var $bounds$$=$graph$$.getGraphBounds();document.body.removeChild($graph$$.container);Graph.foreignObjectWarningText=$page$jscomp$25_temp$$;return new mxImage(Editor.createSvgDataUri(mxUtils.getXml($sourceGraph$jscomp$3_svgRoot$jscomp$25_theme$$)),$bounds$$.width,$bounds$$.height,$bounds$$.x,$bounds$$.y)};
EditorUi.prototype.initPages=function(){if(!this.editor.graph.standalone){this.actions.addAction("previousPage",mxUtils.bind(this,function(){this.selectNextPage(!1)}));this.actions.addAction("nextPage",mxUtils.bind(this,function(){this.selectNextPage(!0)}));this.isPagesEnabled()&&(this.keyHandler.bindAction(33,!0,"previousPage",!0),this.keyHandler.bindAction(34,!0,"nextPage",!0));var $graph$$=this.editor.graph,$graphViewValidateBackground$$=$graph$$.view.validateBackground;$graph$$.view.validateBackground=
mxUtils.bind(this,function(){if(null!=this.tabContainer){var $prevHeight$$=this.tabContainer.style.height;this.tabContainer.style.height=null==this.fileNode||null==this.pages||1==this.pages.length&&"0"==urlParams.pages?"0px":this.tabContainerHeight+"px";$prevHeight$$!=this.tabContainer.style.height&&this.refresh(!1)}$graphViewValidateBackground$$.apply($graph$$.view,arguments);null!=$graph$$.view.backgroundImage&&this.embedSvgImages($graph$$.view.backgroundImage.node)});this.editor.graph.model.addListener(mxEvent.CHANGE,
mxUtils.bind(this,function($changes$jscomp$1_sender$$,$evt$jscomp$289_i$$){$changes$jscomp$1_sender$$=$evt$jscomp$289_i$$.getProperty("edit").changes;for($evt$jscomp$289_i$$=0;$evt$jscomp$289_i$$<$changes$jscomp$1_sender$$.length;$evt$jscomp$289_i$$++)if($changes$jscomp$1_sender$$[$evt$jscomp$289_i$$]instanceof RenamePage||$changes$jscomp$1_sender$$[$evt$jscomp$289_i$$]instanceof ChangePage||$changes$jscomp$1_sender$$[$evt$jscomp$289_i$$]instanceof mxRootChange){this.updateTabContainer();break}}));
var $graphSizeDidChange$$=$graph$$.sizeDidChange,$lastPage$$=null,$ui$$=this;$graph$$.sizeDidChange=function(){var $result$$=$graphSizeDidChange$$.apply(this,arguments);null!=$ui$$.currentPage&&$lastPage$$!=$ui$$.currentPage&&($lastPage$$=$ui$$.currentPage,$ui$$.pageSelected());return $result$$};$graph$$.addListener(mxEvent.ROOT,mxUtils.bind(this,function(){null==$graph$$.defaultParent||$graph$$.model.contains($graph$$.defaultParent)||($graph$$.setDefaultParent(null),$graph$$.selectUnlockedLayer())}));
var $pagesChanged$$=mxUtils.bind(this,function(){this.updateDocumentTitle();this.updateTabContainer()});this.addListener("currentThemeChanged",$pagesChanged$$);this.editor.addListener("pagesPatched",$pagesChanged$$);this.editor.addListener("pageRenamed",$pagesChanged$$);this.editor.addListener("pageMoved",$pagesChanged$$);this.editor.addListener("fileLoaded",$pagesChanged$$);this.editor.addListener("pageSelected",mxUtils.bind(this,function($sender$$,$evt$$){this.scrollToPage();this.updateHashObject();
this.updateTabContainer();this.updateDocumentTitle();null!=this.toolbar&&this.toolbar.updateZoom()}));this.editor.addListener("pageMoved",mxUtils.bind(this,function($sender$$,$evt$$){this.scrollToPage();this.updateHashObject()}));mxEvent.addListener(window,"resize",mxUtils.bind(this,function(){this.checkTabScrollerOverflow()}))}};
EditorUi.prototype.scrollToPage=function($page$$,$force$$){var $index$$=null!=$page$$?this.getPageIndex($page$$):this.getSelectedPageIndex(),$scrollPage$$=null!=$page$$?$page$$:this.currentPage;null!=$index$$&&null!=this.tabScroller&&this.tabScroller.children.length>$index$$&&null!=this.tabScroller.children[$index$$]&&($scrollPage$$!=this.lastScrollPage||$force$$)&&(this.tabScroller.children[$index$$].scrollIntoView({block:"nearest",inline:null!=$page$$?"nearest":"center"}),this.tabScroller.children[$index$$].className=
"geTab gePageTab geActivePage",this.lastScrollPage=$scrollPage$$)};
EditorUi.prototype.restoreViewState=function($newPage_page$$,$viewState$$,$selection$$){$newPage_page$$=null!=$newPage_page$$?this.getPageById($newPage_page$$.getId()):null;var $graph$$=this.editor.graph;null!=$newPage_page$$&&null!=this.currentPage&&null!=this.pages&&($newPage_page$$!=this.currentPage?this.selectPage($newPage_page$$,!0,$viewState$$):($graph$$.setViewState($viewState$$),this.editor.updateGraphComponents(),$graph$$.view.revalidate(),$graph$$.sizeDidChange()),$graph$$.container.scrollLeft=
$graph$$.view.translate.x*$graph$$.view.scale+$viewState$$.scrollLeft,$graph$$.container.scrollTop=$graph$$.view.translate.y*$graph$$.view.scale+$viewState$$.scrollTop,$graph$$.restoreSelection($selection$$))};
Graph.prototype.createViewState=function($node$$){var $pv$$=$node$$.getAttribute("page"),$ps$$=parseFloat($node$$.getAttribute("pageScale")),$pw$$=parseFloat($node$$.getAttribute("pageWidth")),$ph$$=parseFloat($node$$.getAttribute("pageHeight")),$bg$$=$node$$.getAttribute("background"),$bgImg$$=this.parseBackgroundImage($node$$.getAttribute("backgroundImage")),$extFonts$$=$node$$.getAttribute("extFonts");if($extFonts$$)try{$extFonts$$=$extFonts$$.split("|").map(function($ef$jscomp$2_parts$$){$ef$jscomp$2_parts$$=
$ef$jscomp$2_parts$$.split("^");return{name:$ef$jscomp$2_parts$$[0],url:$ef$jscomp$2_parts$$[1]}})}catch($e$$){console.log("ExtFonts format error: "+$e$$.message)}return{gridEnabled:"0"!=$node$$.getAttribute("grid"),gridSize:parseFloat($node$$.getAttribute("gridSize"))||mxGraph.prototype.gridSize,guidesEnabled:"0"!=$node$$.getAttribute("guides"),foldingEnabled:"0"!=$node$$.getAttribute("fold"),shadowVisible:"1"==$node$$.getAttribute("shadow"),pageVisible:this.isLightboxView()?!1:null!=$pv$$?"0"!=
$pv$$:this.defaultPageVisible,background:null!=$bg$$&&0<$bg$$.length?$bg$$:null,backgroundImage:$bgImg$$,pageScale:isNaN($ps$$)?mxGraph.prototype.pageScale:$ps$$,pageFormat:isNaN($pw$$)||isNaN($ph$$)?"undefined"===typeof mxSettings||null!=this.defaultPageFormat?mxGraph.prototype.pageFormat:mxSettings.getPageFormat():new mxRectangle(0,0,$pw$$,$ph$$),tooltips:"0"!=$node$$.getAttribute("tooltips"),connect:"0"!=$node$$.getAttribute("connect"),arrows:"0"!=$node$$.getAttribute("arrows"),mathEnabled:"1"==
$node$$.getAttribute("math"),selectionCells:null,defaultParent:null,scrollbars:this.defaultScrollbars,scale:1,hiddenTags:[],extFonts:$extFonts$$||[]}};
Graph.prototype.saveViewState=function($vs$$,$node$$,$ignoreTransient_pf$$,$bgImg$jscomp$6_resolveReferences$$){$ignoreTransient_pf$$||($node$$.setAttribute("grid",(null==$vs$$?this.defaultGridEnabled:$vs$$.gridEnabled)?"1":"0"),$node$$.setAttribute("page",(null==$vs$$?this.defaultPageVisible:$vs$$.pageVisible)?"1":"0"),$node$$.setAttribute("gridSize",null!=$vs$$?$vs$$.gridSize:mxGraph.prototype.gridSize),$node$$.setAttribute("guides",null==$vs$$||$vs$$.guidesEnabled?"1":"0"),$node$$.setAttribute("tooltips",
null==$vs$$||$vs$$.tooltips?"1":"0"),$node$$.setAttribute("connect",null==$vs$$||$vs$$.connect?"1":"0"),$node$$.setAttribute("arrows",null==$vs$$||$vs$$.arrows?"1":"0"),$node$$.setAttribute("fold",null==$vs$$||$vs$$.foldingEnabled?"1":"0"));$node$$.setAttribute("pageScale",null!=$vs$$&&null!=$vs$$.pageScale?$vs$$.pageScale:mxGraph.prototype.pageScale);$ignoreTransient_pf$$=null!=$vs$$?$vs$$.pageFormat:"undefined"===typeof mxSettings||null!=this.defaultPageFormat?mxGraph.prototype.pageFormat:mxSettings.getPageFormat();
null!=$ignoreTransient_pf$$&&($node$$.setAttribute("pageWidth",$ignoreTransient_pf$$.width),$node$$.setAttribute("pageHeight",$ignoreTransient_pf$$.height));null!=$vs$$&&(null!=$vs$$.background&&$node$$.setAttribute("background",$vs$$.background),$bgImg$jscomp$6_resolveReferences$$=this.getBackgroundImageObject($vs$$.backgroundImage,$bgImg$jscomp$6_resolveReferences$$),null!=$bgImg$jscomp$6_resolveReferences$$&&$node$$.setAttribute("backgroundImage",JSON.stringify($bgImg$jscomp$6_resolveReferences$$)));
$node$$.setAttribute("math",(null==$vs$$?this.defaultMathEnabled:$vs$$.mathEnabled)?"1":"0");$node$$.setAttribute("shadow",null!=$vs$$&&$vs$$.shadowVisible?"1":"0");null!=$vs$$&&null!=$vs$$.extFonts&&0<$vs$$.extFonts.length&&$node$$.setAttribute("extFonts",$vs$$.extFonts.map(function($ef$$){return $ef$$.name+"^"+$ef$$.url}).join("|"))};
Graph.prototype.getViewState=function(){return{defaultParent:this.defaultParent,currentRoot:this.view.currentRoot,gridEnabled:this.gridEnabled,gridSize:this.gridSize,guidesEnabled:this.graphHandler.guidesEnabled,foldingEnabled:this.foldingEnabled,shadowVisible:this.shadowVisible,scrollbars:this.scrollbars,pageVisible:this.pageVisible,background:this.background,backgroundImage:this.backgroundImage,pageScale:this.pageScale,pageFormat:this.pageFormat,tooltips:this.tooltipHandler.isEnabled(),connect:this.connectionHandler.isEnabled(),
arrows:this.connectionArrowsEnabled,scale:this.view.scale,scrollLeft:this.container.scrollLeft-this.view.translate.x*this.view.scale,scrollTop:this.container.scrollTop-this.view.translate.y*this.view.scale,translate:this.view.translate.clone(),lastPasteXml:this.lastPasteXml,pasteCounter:this.pasteCounter,mathEnabled:this.mathEnabled,hiddenTags:this.hiddenTags,extFonts:this.extFonts}};
Graph.prototype.setViewState=function($state$$,$i$$){if(null!=$state$$){this.lastPasteXml=$state$$.lastPasteXml;this.pasteCounter=$state$$.pasteCounter||0;this.mathEnabled=$state$$.mathEnabled;this.gridEnabled=$state$$.gridEnabled;this.gridSize=$state$$.gridSize;this.graphHandler.guidesEnabled=$state$$.guidesEnabled;this.foldingEnabled=$state$$.foldingEnabled;this.setShadowVisible($state$$.shadowVisible,!1);this.scrollbars=$state$$.scrollbars;this.pageVisible=!this.isViewer()&&$state$$.pageVisible;
this.background=$state$$.background;this.pageScale=$state$$.pageScale;this.pageFormat=$state$$.pageFormat;this.view.currentRoot=$state$$.currentRoot;this.defaultParent=$state$$.defaultParent;this.connectionArrowsEnabled=$state$$.arrows;this.setTooltips($state$$.tooltips);this.setConnectable($state$$.connect);this.setBackgroundImage($state$$.backgroundImage);this.hiddenTags=$state$$.hiddenTags;var $oldExtFonts$$=this.extFonts;this.extFonts=$state$$.extFonts||[];if($i$$&&null!=$oldExtFonts$$)for($i$$=
0;$i$$<$oldExtFonts$$.length;$i$$++){var $fontElem$$=document.getElementById("extFont_"+$oldExtFonts$$[$i$$].name);null!=$fontElem$$&&$fontElem$$.parentNode.removeChild($fontElem$$)}for($i$$=0;$i$$<this.extFonts.length;$i$$++)this.addExtFont(this.extFonts[$i$$].name,this.extFonts[$i$$].url,!0);this.view.scale=null!=$state$$.scale?$state$$.scale:1;null==this.view.currentRoot||this.model.contains(this.view.currentRoot)||(this.view.currentRoot=null);null==this.defaultParent||this.model.contains(this.defaultParent)||
(this.setDefaultParent(null),this.selectUnlockedLayer());null!=$state$$.translate&&(this.view.translate=$state$$.translate)}else this.view.currentRoot=null,this.view.scale=1,this.gridEnabled=this.defaultGridEnabled,this.gridSize=mxGraph.prototype.gridSize,this.pageScale=mxGraph.prototype.pageScale,this.pageFormat="undefined"===typeof mxSettings||null!=this.defaultPageFormat?mxGraph.prototype.pageFormat:mxSettings.getPageFormat(),this.pageVisible=this.defaultPageVisible,this.backgroundImage=this.background=
null,this.scrollbars=this.defaultScrollbars,this.foldingEnabled=this.graphHandler.guidesEnabled=!0,this.setShadowVisible(!1,!1),this.defaultParent=null,this.setTooltips(!0),this.setConnectable(!0),this.lastPasteXml=null,this.pasteCounter=0,this.mathEnabled=this.defaultMathEnabled,this.connectionArrowsEnabled=!0,this.hiddenTags=[],this.extFonts=[];this.preferPageSize=this.pageBreaksVisible=this.pageVisible;this.fireEvent(new mxEventObject("viewStateChanged","state",$state$$))};
Graph.prototype.setScrollbarPositions=function($state$$,$dx$$,$dy$$){null!=$state$$&&null!=$state$$.scrollLeft&&null!=$state$$.scrollTop&&(this.container.scrollLeft=$dx$$*this.view.scale+$state$$.scrollLeft,this.container.scrollTop=$dy$$*this.view.scale+$state$$.scrollTop)};
Graph.prototype.addExtFont=function($fontName$$,$fontUrl$$,$dontRemember_extFonts$$){if($fontName$$&&$fontUrl$$){var $fontId_notFound$$="extFont_"+$fontName$$;if(null==document.getElementById($fontId_notFound$$))if(0==$fontUrl$$.indexOf(Editor.GOOGLE_FONTS))mxClient.link("stylesheet",$fontUrl$$,null,$fontId_notFound$$);else{document.getElementsByTagName("head");var $i$jscomp$290_style$$=document.createElement("style");$i$jscomp$290_style$$.appendChild(document.createTextNode('@font-face {\n\tfont-family: "'+
$fontName$$+'";\n\tsrc: url("'+$fontUrl$$+'");\n}'));$i$jscomp$290_style$$.setAttribute("id",$fontId_notFound$$);document.getElementsByTagName("head")[0].appendChild($i$jscomp$290_style$$)}if(!$dontRemember_extFonts$$){null==this.extFonts&&(this.extFonts=[]);$dontRemember_extFonts$$=this.extFonts;$fontId_notFound$$=!0;for($i$jscomp$290_style$$=0;$i$jscomp$290_style$$<$dontRemember_extFonts$$.length;$i$jscomp$290_style$$++)if($dontRemember_extFonts$$[$i$jscomp$290_style$$].name==$fontName$$){$fontId_notFound$$=
!1;break}$fontId_notFound$$&&this.extFonts.push({name:$fontName$$,url:$fontUrl$$})}}};
EditorUi.prototype.updatePageRoot=function($page$$,$checked$jscomp$11_node$$){if(null==$page$$.root){$checked$jscomp$11_node$$=this.editor.extractGraphModel($page$$.node,null,$checked$jscomp$11_node$$);var $cause$jscomp$3_codec$$=Editor.extractParserError($checked$jscomp$11_node$$);if($cause$jscomp$3_codec$$)throw Error($cause$jscomp$3_codec$$);null!=$checked$jscomp$11_node$$?($page$$.graphModelNode=$checked$jscomp$11_node$$,$page$$.viewState=this.editor.graph.createViewState($checked$jscomp$11_node$$),
$cause$jscomp$3_codec$$=new mxCodec($checked$jscomp$11_node$$.ownerDocument),$page$$.root=$cause$jscomp$3_codec$$.decode($checked$jscomp$11_node$$).root):$page$$.root=this.editor.graph.model.createRoot()}else if(null==$page$$.viewState){if(null==$page$$.graphModelNode){$checked$jscomp$11_node$$=this.editor.extractGraphModel($page$$.node);if($cause$jscomp$3_codec$$=Editor.extractParserError($checked$jscomp$11_node$$))throw Error($cause$jscomp$3_codec$$);null!=$checked$jscomp$11_node$$&&($page$$.graphModelNode=
$checked$jscomp$11_node$$)}null!=$page$$.graphModelNode&&($page$$.viewState=this.editor.graph.createViewState($page$$.graphModelNode))}return $page$$};EditorUi.prototype.getDiagramSnapshot=function(){return{node:this.editor.getGraphXml(),page:this.currentPage}};
EditorUi.prototype.updateDiagramData=function($snapshot$$,$node$jscomp$72_patch$$){if(null==this.getPageIndex($snapshot$$.page))this.insertPage(null,null,$node$jscomp$72_patch$$);else{var $dec$$=new mxCodec($snapshot$$.node.ownerDocument),$oldModel$$=new mxGraphModel;$dec$$.decode($snapshot$$.node,$oldModel$$);$dec$$=new mxCodec($node$jscomp$72_patch$$.ownerDocument);var $newModel$$=new mxGraphModel;$dec$$.decode($node$jscomp$72_patch$$,$newModel$$);this.selectPage($snapshot$$.page);$node$jscomp$72_patch$$=
this.diffCells($oldModel$$.root,$newModel$$.root);this.patchPage($snapshot$$.page,$node$jscomp$72_patch$$,null,!0)}};EditorUi.prototype.replaceDiagramData=function($data$$){this.editor.graph.model.execute(new ReplaceDiagram(this,mxUtils.parseXml($data$$).documentElement))};
EditorUi.prototype.selectPage=function($page$$,$quiet$$,$viewState$$){try{if($page$$!=this.currentPage){var $graph$$=this.editor.graph;$graph$$.isEditing()&&$graph$$.stopEditing(!1);$quiet$$=null!=$quiet$$?$quiet$$:!1;$graph$$.isMouseDown=!1;$graph$$.reset();var $edit$$=$graph$$.model.createUndoableEdit();$edit$$.ignoreEdit=!0;var $change$$=new SelectPage(this,$page$$,$viewState$$);$change$$.execute();$edit$$.add($change$$);$edit$$.notify();$quiet$$||$graph$$.model.fireEvent(new mxEventObject(mxEvent.UNDO,
"edit",$edit$$))}}catch($e$$){this.handleError($e$$)}};EditorUi.prototype.selectNextPage=function($forward$$){var $next$jscomp$18_tmp$$=this.currentPage;null!=$next$jscomp$18_tmp$$&&null!=this.pages&&($next$jscomp$18_tmp$$=mxUtils.indexOf(this.pages,$next$jscomp$18_tmp$$),$forward$$?this.selectPage(this.pages[mxUtils.mod($next$jscomp$18_tmp$$+1,this.pages.length)]):$forward$$||this.selectPage(this.pages[mxUtils.mod($next$jscomp$18_tmp$$-1,this.pages.length)]))};
EditorUi.prototype.insertPage=function($page$$,$change$jscomp$9_index$$,$node$$){this.editor.graph.isEnabled()&&(this.editor.graph.isEditing()&&this.editor.graph.stopEditing(!1),$page$$=null!=$page$$?$page$$:this.createPage(null,this.createPageId(),$node$$),$change$jscomp$9_index$$=null!=$change$jscomp$9_index$$?$change$jscomp$9_index$$:this.pages.length,$change$jscomp$9_index$$=new ChangePage(this,$page$$,$page$$,$change$jscomp$9_index$$),this.editor.graph.model.execute($change$jscomp$9_index$$));
return $page$$};EditorUi.prototype.createPageId=function(){do var $id$$=Editor.guid();while(null!=this.getPageById($id$$));return $id$$};EditorUi.prototype.createPage=function($name$$,$id$jscomp$30_page$$,$node$$){$id$jscomp$30_page$$=new DiagramPage((null!=this.fileNode?this.fileNode.ownerDocument:document).createElement("diagram"),$id$jscomp$30_page$$);$id$jscomp$30_page$$.setName(null!=$name$$?$name$$:this.createPageName());this.initDiagramNode($id$jscomp$30_page$$,$node$$);return $id$jscomp$30_page$$};
EditorUi.prototype.createPageName=function(){for(var $existing$$={},$i$jscomp$291_nr$$=0;$i$jscomp$291_nr$$<this.pages.length;$i$jscomp$291_nr$$++){var $name$jscomp$126_tmp$$=this.pages[$i$jscomp$291_nr$$].getName();null!=$name$jscomp$126_tmp$$&&0<$name$jscomp$126_tmp$$.length&&($existing$$[$name$jscomp$126_tmp$$]=$name$jscomp$126_tmp$$)}$i$jscomp$291_nr$$=this.pages.length;do $name$jscomp$126_tmp$$=mxResources.get("pageWithNumber",[++$i$jscomp$291_nr$$]);while(null!=$existing$$[$name$jscomp$126_tmp$$]);
return $name$jscomp$126_tmp$$};
EditorUi.prototype.removePage=function($page$$){try{var $graph$$=this.editor.graph,$tmp$$=mxUtils.indexOf(this.pages,$page$$);if($graph$$.isEnabled()&&0<=$tmp$$){this.editor.graph.isEditing()&&this.editor.graph.stopEditing(!1);$graph$$.model.beginUpdate();try{var $next$$=this.currentPage;$next$$==$page$$&&1<this.pages.length?($tmp$$==this.pages.length-1?$tmp$$--:$tmp$$++,$next$$=this.pages[$tmp$$]):1>=this.pages.length&&($next$$=this.insertPage(),$graph$$.model.execute(new RenamePage(this,$next$$,
mxResources.get("pageWithNumber",[1]))));$graph$$.model.execute(new ChangePage(this,$page$$,$next$$))}finally{$graph$$.model.endUpdate()}}}catch($e$$){this.handleError($e$$)}return $page$$};
EditorUi.prototype.duplicatePage=function($page$$,$name$$){var $newPage$$=null;try{var $graph$$=this.editor.graph;if($graph$$.isEnabled()){$graph$$.isEditing()&&$graph$$.stopEditing();var $node$$=$page$$.node.cloneNode(!1);$node$$.removeAttribute("id");var $cloneMap$$={},$lookup$$=$graph$$.createCellLookup([$graph$$.model.root]);$newPage$$=new DiagramPage($node$$);$newPage$$.root=$graph$$.cloneCell($graph$$.model.root,null,$cloneMap$$);var $model$$=new mxGraphModel;$model$$.prefix=Editor.guid()+"-";
$model$$.setRoot($newPage$$.root);$graph$$.updateCustomLinks($graph$$.createCellMapping($cloneMap$$,$lookup$$),[$newPage$$.root]);$newPage$$.viewState=$page$$==this.currentPage?$graph$$.getViewState():$page$$.viewState;this.initDiagramNode($newPage$$);$newPage$$.viewState.scale=1;delete $newPage$$.viewState.scrollLeft;delete $newPage$$.viewState.scrollTop;delete $newPage$$.viewState.currentRoot;delete $newPage$$.viewState.defaultParent;$newPage$$.setName($name$$);$newPage$$=this.insertPage($newPage$$,
mxUtils.indexOf(this.pages,$page$$)+1)}}catch($e$$){this.handleError($e$$)}return $newPage$$};EditorUi.prototype.initDiagramNode=function($page$$,$node$$){null==$node$$&&($node$$=(new mxCodec(mxUtils.createXmlDocument())).encode(new mxGraphModel($page$$.root)));this.editor.graph.saveViewState($page$$.viewState,$node$$);mxUtils.setTextContent($page$$.node,Graph.compressNode($node$$))};
EditorUi.prototype.clonePages=function($pages$$){for(var $errors$$=[],$result$$=[],$i$$=0;$i$$<$pages$$.length;$i$$++)try{$result$$.push(this.clonePage($pages$$[$i$$]))}catch($e$$){$errors$$.push(mxResources.get("pageWithNumber",[$i$$+1])+": "+$e$$.message)}if(0<$errors$$.length)throw Error($errors$$.join("\n"));return $result$$};
EditorUi.prototype.clonePage=function($page$$){this.updatePageRoot($page$$);var $result$$=new DiagramPage($page$$.node.cloneNode(!0)),$viewState$$=$page$$==this.currentPage?this.editor.graph.getViewState():$page$$.viewState;$result$$.viewState=mxUtils.clone($viewState$$,EditorUi.transientViewStateProperties);$result$$.root=this.editor.graph.model.cloneCell($page$$.root,null,!0);return $result$$};
EditorUi.prototype.renamePage=function($page$$){if(this.editor.graph.isEnabled()){var $dlg$$=new FilenameDialog(this,$page$$.getName(),mxResources.get("rename"),mxUtils.bind(this,function($name$$){null!=$name$$&&0<$name$$.length&&this.editor.graph.model.execute(new RenamePage(this,$page$$,$name$$))}),mxResources.get("rename"));this.showDialog($dlg$$.container,300,80,!0,!0);$dlg$$.init()}return $page$$};
EditorUi.prototype.movePage=function($oldIndex$$,$newIndex$$){this.editor.graph.model.execute(new MovePage(this,$oldIndex$$,$newIndex$$))};EditorUi.prototype.createTabContainer=function(){var $div$$=document.createElement("div");$div$$.className="geTabContainer geTabItem";return $div$$};
EditorUi.prototype.updateTabContainer=function(){if(null!=this.tabContainer&&null!=this.pages){var $graph$$=this.editor.graph,$wrapper$$=document.createElement("div");$wrapper$$.className="geTabScroller";for(var $startIndex$$=null,$i$jscomp$293_sl$$=0;$i$jscomp$293_sl$$<this.pages.length;$i$jscomp$293_sl$$++)mxUtils.bind(this,function($index$$,$tab$$){$tab$$.className=this.pages[$index$$]==this.currentPage?"geTab gePageTab geActivePage":"geTab gePageTab geInactivePage";$tab$$.setAttribute("draggable",
"true");mxEvent.addListener($tab$$,"dragstart",mxUtils.bind(this,function($evt$$){$graph$$.isEnabled()?(mxClient.IS_FF&&$evt$$.dataTransfer.setData("Text","<diagram/>"),$startIndex$$=$index$$):mxEvent.consume($evt$$)}));mxEvent.addListener($tab$$,"dragend",mxUtils.bind(this,function($evt$$){$startIndex$$=null;$evt$$.stopPropagation();$evt$$.preventDefault()}));mxEvent.addListener($tab$$,"dragover",mxUtils.bind(this,function($evt$$){null!=$startIndex$$&&($evt$$.dataTransfer.dropEffect="move");$evt$$.stopPropagation();
$evt$$.preventDefault()}));mxEvent.addListener($tab$$,"drop",mxUtils.bind(this,function($evt$$){null!=$startIndex$$&&$index$$!=$startIndex$$&&this.movePage($startIndex$$,$index$$);$evt$$.stopPropagation();$evt$$.preventDefault()}));$wrapper$$.appendChild($tab$$)})($i$jscomp$293_sl$$,this.createTabForPage(this.pages[$i$jscomp$293_sl$$],$i$jscomp$293_sl$$+1));$i$jscomp$293_sl$$=null!=this.tabScroller?this.tabScroller.scrollLeft:0;this.tabContainer.innerText="";"simple"!=Editor.currentTheme&&(this.pageMenuTab=
this.createPageMenuTab(),this.tabContainer.appendChild(this.pageMenuTab));this.tabContainer.appendChild($wrapper$$);this.isPageInsertTabVisible()&&this.tabContainer.appendChild(this.createPageInsertTab());this.leftScrollTab=this.createLeftScrollTab();this.tabContainer.appendChild(this.leftScrollTab);this.rightScrollTab=this.createRightScrollTab();this.tabContainer.appendChild(this.rightScrollTab);this.tabScroller=$wrapper$$;this.tabScroller.scrollLeft=$i$jscomp$293_sl$$;this.checkTabScrollerOverflow();
mxEvent.addListener(this.tabScroller,"scroll",mxUtils.bind(this,function($evt$$){this.checkTabScrollerOverflow()}));window.setTimeout(mxUtils.bind(this,function(){mxUtils.setPrefixedStyle(this.leftScrollTab.style,"transition","all 0.2s linear");mxUtils.setPrefixedStyle(this.rightScrollTab.style,"transition","all 0.2s linear")}),0)}};
EditorUi.prototype.checkTabScrollerOverflow=function(){if(null!=this.tabScroller&&null!=this.tabContainer&&2<this.tabContainer.children.length){var $overflow$$=this.tabScroller.scrollWidth>this.tabScroller.offsetWidth;this.leftScrollTab.style.opacity=$overflow$$?0==this.tabScroller.scrollLeft?.2:1:0;this.rightScrollTab.style.opacity=$overflow$$?Math.ceil(this.tabScroller.scrollLeft)+this.tabScroller.offsetWidth>=this.tabScroller.scrollWidth?.2:1:0}};
EditorUi.prototype.isPageInsertTabVisible=function(){return 1==urlParams.embed||null!=this.getCurrentFile()&&this.getCurrentFile().isEditable()};EditorUi.prototype.createTab=function(){var $tab$$=document.createElement("div");$tab$$.className="geTab";return $tab$$};EditorUi.prototype.getShortPageName=function($page$$){var $short$$=null;null!=$page$$&&($short$$=$page$$.getName(),null!=$short$$&&36<$short$$.length&&($short$$=$short$$.substring(0,34)+"..."));return $short$$};
EditorUi.prototype.createControlTab=function($inner_title$$,$image$$,$fn$$){var $tab$$=this.createTab();$tab$$.className="geTab geControlTab";$tab$$.style.width="30px";null!=$inner_title$$&&$tab$$.setAttribute("title",$inner_title$$);$inner_title$$=document.createElement("div");$inner_title$$.className="geAdaptiveAsset";$inner_title$$.style.backgroundImage="url("+$image$$+")";$inner_title$$.style.backgroundRepeat="no-repeat";$inner_title$$.style.backgroundPosition="center";$inner_title$$.style.backgroundSize=
"24px";$inner_title$$.style.position="relative";$inner_title$$.style.opacity="0.5";$inner_title$$.style.width="100%";$inner_title$$.style.height="100%";$tab$$.appendChild($inner_title$$);mxEvent.addListener($tab$$,"click",$fn$$);return $tab$$};EditorUi.prototype.createPageInsertTab=function(){return this.createControlTab(mxResources.get("insertPage"),Editor.plusImage,mxUtils.bind(this,function($evt$$){this.insertPage();mxEvent.consume($evt$$)}))};
EditorUi.prototype.createLeftScrollTab=function(){return this.createControlTab(null,Editor.thinArrowLeftImage,mxUtils.bind(this,function($evt$$){var $dx$$=Math.max(60,this.tabScroller.clientWidth/2);null!=this.tabScroller.scrollBy?this.tabScroller.scrollBy({left:-$dx$$,top:0,behavior:"smooth"}):this.tabScroller.scrollLeft-=$dx$$;mxEvent.consume($evt$$)}))};
EditorUi.prototype.createRightScrollTab=function(){return this.createControlTab(null,Editor.thinArrowRightImage,mxUtils.bind(this,function($evt$$){var $dx$$=Math.max(60,this.tabScroller.clientWidth/2);null!=this.tabScroller.scrollBy?this.tabScroller.scrollBy({left:$dx$$,top:0,behavior:"smooth"}):this.tabScroller.scrollLeft+=$dx$$;mxEvent.consume($evt$$)}))};
EditorUi.prototype.createPageMenuTab=function(){return this.createControlTab(mxResources.get("pages"),Editor.verticalDotsImage,mxUtils.bind(this,function($evt$$){this.editor.graph.popupMenuHandler.hideMenu();var $menu$jscomp$0$$=new mxPopupMenu(mxUtils.bind(this,function($menu$$,$parent$$){this.menus.get("pages").funct($menu$$,$parent$$)}));$menu$jscomp$0$$.div.className+=" geMenubarMenu";$menu$jscomp$0$$.smartSeparators=!0;$menu$jscomp$0$$.showDisabled=!0;$menu$jscomp$0$$.autoExpand=!0;$menu$jscomp$0$$.hideMenu=
mxUtils.bind(this,function(){mxPopupMenu.prototype.hideMenu.apply($menu$jscomp$0$$,arguments);$menu$jscomp$0$$.destroy()});var $x$$=mxEvent.getClientX($evt$$),$y$$=mxEvent.getClientY($evt$$);$menu$jscomp$0$$.popup($x$$,$y$$,null,$evt$$);this.setCurrentMenu($menu$jscomp$0$$);mxEvent.consume($evt$$)}))};
EditorUi.prototype.createTabForPage=function($page$$,$label$jscomp$25_pageNumber$$){var $tab$$=this.createTab(),$name$$=$page$$.getName()||mxResources.get("untitled"),$id$$=$page$$.getId();$tab$$.setAttribute("title",$name$$+(null!=$id$$?" ("+$id$$+")":"")+" ["+$label$jscomp$25_pageNumber$$+"]");$label$jscomp$25_pageNumber$$=document.createElement("span");$label$jscomp$25_pageNumber$$.style.maxWidth="160px";$label$jscomp$25_pageNumber$$.style.textOverflow="ellipsis";$label$jscomp$25_pageNumber$$.style.overflow=
"hidden";mxUtils.write($label$jscomp$25_pageNumber$$,$name$$);$tab$$.appendChild($label$jscomp$25_pageNumber$$);this.addTabListeners($page$$,$tab$$);return $tab$$};
EditorUi.prototype.addTabListeners=function($page$$,$tab$$){mxEvent.disableContextMenu($tab$$);var $graph$$=this.editor.graph;mxEvent.addListener($tab$$,"dblclick",mxUtils.bind(this,function($evt$$){this.renamePage($page$$);mxEvent.consume($evt$$)}));var $elt$$=document.createElement("div");$elt$$.className="geTabMenuButton";$elt$$.style.backgroundImage="url("+mxWindow.prototype.minimizeImage+")";$elt$$.style.backgroundPosition="center center";$elt$$.style.backgroundRepeat="no-repeat";$elt$$.style.backgroundSize=
"10px";$tab$$.appendChild($elt$$);var $menuWasVisible$$=!1,$pageWasActive$$=!1,$onMouseDown$$=mxUtils.bind(this,function($evt$$){$menuWasVisible$$=null!=this.currentMenu;$pageWasActive$$=$page$$==this.currentPage;this.scrollToPage($page$$);$graph$$.isMouseDown||$pageWasActive$$||this.selectPage($page$$)}),$onMouseUp$$=mxUtils.bind(this,function($evt$$){if($graph$$.isEnabled()&&!$graph$$.isMouseDown&&($pageWasActive$$&&(mxEvent.isTouchEvent($evt$$)||mxEvent.getSource($evt$$)==$elt$$)||mxEvent.isPopupTrigger($evt$$))&&
($graph$$.popupMenuHandler.hideMenu(),this.hideCurrentMenu(),!mxEvent.isTouchEvent($evt$$)||!$menuWasVisible$$)){var $menu$$=new mxPopupMenu(this.createPageMenu($page$$));$menu$$.div.className+=" geMenubarMenu";$menu$$.smartSeparators=!0;$menu$$.showDisabled=!0;$menu$$.autoExpand=!0;$menu$$.hideMenu=mxUtils.bind(this,function(){mxPopupMenu.prototype.hideMenu.apply($menu$$,arguments);this.resetCurrentMenu();$menu$$.destroy()});var $x$$=mxEvent.getClientX($evt$$),$y$$=mxEvent.getClientY($evt$$);$menu$$.popup($x$$,
$y$$,null,$evt$$);this.setCurrentMenu($menu$$,$tab$$)}mxEvent.consume($evt$$)});mxEvent.addGestureListeners($elt$$,$onMouseDown$$,null,$onMouseUp$$);mxEvent.addGestureListeners($tab$$,$onMouseDown$$,null,$onMouseUp$$)};
EditorUi.prototype.getLinkForPage=function($page$$,$params$$,$lightbox$$){if(null!=$page$$&&!mxClient.IS_CHROMEAPP&&!EditorUi.isElectronApp){var $file$$=this.getCurrentFile();if(null!=$file$$&&$file$$.constructor!=LocalFile&&"draw.io"==this.getServiceName()){var $search$$=this.getSearch("create title mode url drive splash state clibs ui viewbox hide-pages sketch".split(" "));$search$$+=(0==$search$$.length?"?":"&")+"page-id="+$page$$.getId();null!=$params$$&&($search$$+="&"+$params$$.join("&"));return($lightbox$$&&
"1"!=urlParams.dev?EditorUi.lightboxHost:mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||!/.*\.draw\.io$/.test(window.location.hostname)?EditorUi.drawHost:"https://"+window.location.host)+"/"+$search$$+"#"+$file$$.getHash()}}return null};
EditorUi.prototype.createPageMenu=function($page$$,$label$$){return mxUtils.bind(this,function($menu$$,$parent$$){1!=urlParams.embed&&(null!=this.getLinkForPage($page$$)&&$menu$$.addItem(mxResources.get("link")+"...",null,mxUtils.bind(this,function(){this.showPageLinkDialog($page$$)})),mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||"draw.io"!=this.getServiceName()||$menu$$.addItem(mxResources.get("openInNewWindow"),null,mxUtils.bind(this,function(){this.editor.editAsNew(this.getFileData(!0,null,null,
null,!0,!0))}),$parent$$),$menu$$.addSeparator($parent$$));$menu$$.addItem(mxResources.get("duplicate"),null,mxUtils.bind(this,function(){this.duplicatePage($page$$,mxResources.get("copyOf",[$page$$.getName()]))}),$parent$$);$menu$$.addSeparator($parent$$);this.currentPage==$page$$&&1<this.pages.length&&this.menus.addSubmenu("movePage",$menu$$,$parent$$,mxResources.get("move"));$menu$$.addItem(mxResources.get("delete"),null,mxUtils.bind(this,function(){this.removePage($page$$)}),$parent$$);$menu$$.addItem(mxResources.get("rename")+
"...",null,mxUtils.bind(this,function(){this.renamePage($page$$,$label$$)}),$parent$$)})};
EditorUi.prototype.showPageLinkDialog=function($page$$){var $graph$$=this.editor.graph;this.showPublishLinkDialog(mxResources.get("url"),!0,null,null,mxUtils.bind(this,function($linkTarget$jscomp$9_params$$,$linkColor$jscomp$4_t$$,$allPages$jscomp$6_bounds$$,$dlg$jscomp$41_lightbox$$,$editLink$jscomp$6_s$$,$layers$$){$linkTarget$jscomp$9_params$$=this.createUrlParameters($linkTarget$jscomp$9_params$$,$linkColor$jscomp$4_t$$,$allPages$jscomp$6_bounds$$,$dlg$jscomp$41_lightbox$$,$editLink$jscomp$6_s$$,
$layers$$);$allPages$jscomp$6_bounds$$||$linkTarget$jscomp$9_params$$.push("hide-pages=1");$graph$$.isSelectionEmpty()||($allPages$jscomp$6_bounds$$=$graph$$.getBoundingBox($graph$$.getSelectionCells()),$linkColor$jscomp$4_t$$=$graph$$.view.translate,$editLink$jscomp$6_s$$=$graph$$.view.scale,$allPages$jscomp$6_bounds$$.width/=$editLink$jscomp$6_s$$,$allPages$jscomp$6_bounds$$.height/=$editLink$jscomp$6_s$$,$allPages$jscomp$6_bounds$$.x=$allPages$jscomp$6_bounds$$.x/$editLink$jscomp$6_s$$-$linkColor$jscomp$4_t$$.x,
$allPages$jscomp$6_bounds$$.y=$allPages$jscomp$6_bounds$$.y/$editLink$jscomp$6_s$$-$linkColor$jscomp$4_t$$.y,$linkTarget$jscomp$9_params$$.push("viewbox="+encodeURIComponent(JSON.stringify({x:Math.round($allPages$jscomp$6_bounds$$.x),y:Math.round($allPages$jscomp$6_bounds$$.y),width:Math.round($allPages$jscomp$6_bounds$$.width),height:Math.round($allPages$jscomp$6_bounds$$.height),border:100}))));$dlg$jscomp$41_lightbox$$=new EmbedDialog(this,this.getLinkForPage($page$$,$linkTarget$jscomp$9_params$$,
$dlg$jscomp$41_lightbox$$));this.showDialog($dlg$jscomp$41_lightbox$$.container,450,240,!0,!0);$dlg$jscomp$41_lightbox$$.init()}))};(function(){mxCodecRegistry.getCodec(ChangePageSetup).exclude.push("page")})();
(function(){var $codec$$=new mxObjectCodec(new MovePage,["ui"]);$codec$$.beforeDecode=function($dec$$,$node$$,$obj$$){$obj$$.ui=$dec$$.ui;return $node$$};$codec$$.afterDecode=function($dec$jscomp$11_tmp$$,$node$$,$obj$$){$dec$jscomp$11_tmp$$=$obj$$.oldIndex;$obj$$.oldIndex=$obj$$.newIndex;$obj$$.newIndex=$dec$jscomp$11_tmp$$;return $obj$$};mxCodecRegistry.register($codec$$)})();
(function(){var $codec$$=new mxObjectCodec(new RenamePage,["ui","page"]);$codec$$.beforeDecode=function($dec$$,$node$$,$obj$$){$obj$$.ui=$dec$$.ui;return $node$$};$codec$$.afterDecode=function($dec$jscomp$13_tmp$$,$node$$,$obj$$){$dec$jscomp$13_tmp$$=$obj$$.previous;$obj$$.previous=$obj$$.name;$obj$$.name=$dec$jscomp$13_tmp$$;return $obj$$};mxCodecRegistry.register($codec$$)})();
(function(){var $codec$$=new mxObjectCodec(new ChangePage,["ui","relatedPage","index","page","previousPage"]);$codec$$.afterEncode=function($enc$$,$obj$$,$node$$){$node$$.setAttribute("relatedPage",$obj$$.relatedPage.getId());null==$obj$$.index&&($node$$.setAttribute("name",$obj$$.relatedPage.getName()),null!=$obj$$.relatedPage.viewState&&$node$$.setAttribute("viewState",JSON.stringify($obj$$.relatedPage.viewState,function($key$$,$value$$){return 0>mxUtils.indexOf(EditorUi.transientViewStateProperties,
$key$$)?$value$$:void 0})),null!=$obj$$.relatedPage.root&&$enc$$.encodeCell($obj$$.relatedPage.root,$node$$));return $node$$};$codec$$.beforeDecode=function($dec$$,$node$$,$obj$jscomp$53_tmp2$$){$obj$jscomp$53_tmp2$$.ui=$dec$$.ui;$obj$jscomp$53_tmp2$$.relatedPage=$obj$jscomp$53_tmp2$$.ui.getPageById($node$$.getAttribute("relatedPage"));if(null==$obj$jscomp$53_tmp2$$.relatedPage){var $temp$jscomp$63_tmp$jscomp$64_vs$$=$node$$.ownerDocument.createElement("diagram");$temp$jscomp$63_tmp$jscomp$64_vs$$.setAttribute("id",
$node$$.getAttribute("relatedPage"));$temp$jscomp$63_tmp$jscomp$64_vs$$.setAttribute("name",$node$$.getAttribute("name"));$obj$jscomp$53_tmp2$$.relatedPage=new DiagramPage($temp$jscomp$63_tmp$jscomp$64_vs$$);$temp$jscomp$63_tmp$jscomp$64_vs$$=$node$$.getAttribute("viewState");null!=$temp$jscomp$63_tmp$jscomp$64_vs$$&&($obj$jscomp$53_tmp2$$.relatedPage.viewState=JSON.parse($temp$jscomp$63_tmp$jscomp$64_vs$$),$node$$.removeAttribute("viewState"));$node$$=$node$$.cloneNode(!0);$temp$jscomp$63_tmp$jscomp$64_vs$$=
$node$$.firstChild;if(null!=$temp$jscomp$63_tmp$jscomp$64_vs$$)for($obj$jscomp$53_tmp2$$.relatedPage.root=$dec$$.decodeCell($temp$jscomp$63_tmp$jscomp$64_vs$$,!1),$obj$jscomp$53_tmp2$$=$temp$jscomp$63_tmp$jscomp$64_vs$$.nextSibling,$temp$jscomp$63_tmp$jscomp$64_vs$$.parentNode.removeChild($temp$jscomp$63_tmp$jscomp$64_vs$$),$temp$jscomp$63_tmp$jscomp$64_vs$$=$obj$jscomp$53_tmp2$$;null!=$temp$jscomp$63_tmp$jscomp$64_vs$$;){$obj$jscomp$53_tmp2$$=$temp$jscomp$63_tmp$jscomp$64_vs$$.nextSibling;if($temp$jscomp$63_tmp$jscomp$64_vs$$.nodeType==
mxConstants.NODETYPE_ELEMENT){var $id$$=$temp$jscomp$63_tmp$jscomp$64_vs$$.getAttribute("id");null==$dec$$.lookup($id$$)&&$dec$$.decodeCell($temp$jscomp$63_tmp$jscomp$64_vs$$)}$temp$jscomp$63_tmp$jscomp$64_vs$$.parentNode.removeChild($temp$jscomp$63_tmp$jscomp$64_vs$$);$temp$jscomp$63_tmp$jscomp$64_vs$$=$obj$jscomp$53_tmp2$$}}return $node$$};$codec$$.afterDecode=function($dec$$,$node$$,$obj$$){$obj$$.index=$obj$$.previousIndex;return $obj$$};mxCodecRegistry.register($codec$$)})();(function(){var $graphFoldCells$$=Graph.prototype.foldCells;Graph.prototype.foldCells=function($collapse$$,$recurse$$,$cells$$,$checkFoldable$$,$evt$$){$recurse$$=null!=$recurse$$?$recurse$$:!1;null==$cells$$&&($cells$$=this.getFoldableCells(this.getSelectionCells(),$collapse$$));this.stopEditing();this.model.beginUpdate();try{for(var $newCells$$=$cells$$.slice(),$i$$=0;$i$$<$cells$$.length;$i$$++)"1"==mxUtils.getValue(this.getCurrentCellStyle($cells$$[$i$$]),"treeFolding","0")&&this.foldTreeCell($collapse$$,
$cells$$[$i$$]);$cells$$=$newCells$$;$cells$$=$graphFoldCells$$.apply(this,arguments)}finally{this.model.endUpdate()}return $cells$$};Graph.prototype.foldTreeCell=function($collapse$$,$cell$$){this.model.beginUpdate();try{var $tmp$$=[];this.traverse($cell$$,!0,mxUtils.bind(this,function($vertex$$,$edge$$){var $treeEdge$$=null!=$edge$$&&this.isTreeEdge($edge$$);$treeEdge$$&&$tmp$$.push($edge$$);$vertex$$==$cell$$||null!=$edge$$&&!$treeEdge$$||$tmp$$.push($vertex$$);return(null==$edge$$||$treeEdge$$)&&
($vertex$$==$cell$$||!this.model.isCollapsed($vertex$$))}));this.model.setCollapsed($cell$$,$collapse$$);for(var $i$$=0;$i$$<$tmp$$.length;$i$$++)this.model.setVisible($tmp$$[$i$$],!$collapse$$)}finally{this.model.endUpdate()}};Graph.prototype.isTreeEdge=function($cell$$){return!this.isEdgeIgnored($cell$$)};Graph.prototype.getTreeEdges=function($cell$jscomp$0$$,$parent$$,$incoming$$,$outgoing$$,$includeLoops$$,$recurse$$){return this.model.filterCells(this.getEdges($cell$jscomp$0$$,$parent$$,$incoming$$,
$outgoing$$,$includeLoops$$,$recurse$$),mxUtils.bind(this,function($cell$$){return this.isTreeEdge($cell$$)}))};Graph.prototype.getIncomingTreeEdges=function($cell$$,$parent$$){return this.getTreeEdges($cell$$,$parent$$,!0,!1,!1)};Graph.prototype.getOutgoingTreeEdges=function($cell$$,$parent$$){return this.getTreeEdges($cell$$,$parent$$,!1,!0,!1)};var $editorUiInit$$=EditorUi.prototype.init;EditorUi.prototype.init=function(){$editorUiInit$$.apply(this,arguments);this.editor.isChromelessView()&&!this.editor.editable||
this.addTrees()};EditorUi.prototype.addTrees=function(){function $isTreeVertex$$($cell$$){return $model$jscomp$0$$.isVertex($cell$$)&&$hasTreeParent$$($cell$$)}function $isTreeMoving$$($cell$$){var $result$$=!1;null!=$cell$$&&($result$$="1"==$graph$$.getCurrentCellStyle($cell$$).treeMoving);return $result$$}function $hasTreeParent$$($cell$jscomp$186_parent$$){var $pstate$jscomp$2_result$$=!1;null!=$cell$jscomp$186_parent$$&&($cell$jscomp$186_parent$$=$model$jscomp$0$$.getParent($cell$jscomp$186_parent$$),
$pstate$jscomp$2_result$$=$graph$$.view.getState($cell$jscomp$186_parent$$),$pstate$jscomp$2_result$$="tree"==(null!=$pstate$jscomp$2_result$$?$pstate$jscomp$2_result$$.style:$graph$$.getCellStyle($cell$jscomp$186_parent$$)).containerType);return $pstate$jscomp$2_result$$}function $hasLayoutParent$$($cell$jscomp$187_parent$$){var $pstate$jscomp$3_result$$=!1;null!=$cell$jscomp$187_parent$$&&($cell$jscomp$187_parent$$=$model$jscomp$0$$.getParent($cell$jscomp$187_parent$$),$pstate$jscomp$3_result$$=
$graph$$.view.getState($cell$jscomp$187_parent$$),$graph$$.view.getState($cell$jscomp$187_parent$$),$pstate$jscomp$3_result$$=null!=(null!=$pstate$jscomp$3_result$$?$pstate$jscomp$3_result$$.style:$graph$$.getCellStyle($cell$jscomp$187_parent$$)).childLayout);return $pstate$jscomp$3_result$$}function $getTreeDirection$$($cell$jscomp$194_state$$){$cell$jscomp$194_state$$=$graph$$.view.getState($cell$jscomp$194_state$$);if(null!=$cell$jscomp$194_state$$){var $abs_edgeState$jscomp$1_edges$jscomp$13_pt$$=
$graph$$.getIncomingTreeEdges($cell$jscomp$194_state$$.cell);if(0<$abs_edgeState$jscomp$1_edges$jscomp$13_pt$$.length&&($abs_edgeState$jscomp$1_edges$jscomp$13_pt$$=$graph$$.view.getState($abs_edgeState$jscomp$1_edges$jscomp$13_pt$$[0]),null!=$abs_edgeState$jscomp$1_edges$jscomp$13_pt$$&&($abs_edgeState$jscomp$1_edges$jscomp$13_pt$$=$abs_edgeState$jscomp$1_edges$jscomp$13_pt$$.absolutePoints,null!=$abs_edgeState$jscomp$1_edges$jscomp$13_pt$$&&0<$abs_edgeState$jscomp$1_edges$jscomp$13_pt$$.length&&
($abs_edgeState$jscomp$1_edges$jscomp$13_pt$$=$abs_edgeState$jscomp$1_edges$jscomp$13_pt$$[$abs_edgeState$jscomp$1_edges$jscomp$13_pt$$.length-1],null!=$abs_edgeState$jscomp$1_edges$jscomp$13_pt$$)))){if($abs_edgeState$jscomp$1_edges$jscomp$13_pt$$.y==$cell$jscomp$194_state$$.y&&Math.abs($abs_edgeState$jscomp$1_edges$jscomp$13_pt$$.x-$cell$jscomp$194_state$$.getCenterX())<$cell$jscomp$194_state$$.width/2)return mxConstants.DIRECTION_SOUTH;if($abs_edgeState$jscomp$1_edges$jscomp$13_pt$$.y==$cell$jscomp$194_state$$.y+
$cell$jscomp$194_state$$.height&&Math.abs($abs_edgeState$jscomp$1_edges$jscomp$13_pt$$.x-$cell$jscomp$194_state$$.getCenterX())<$cell$jscomp$194_state$$.width/2)return mxConstants.DIRECTION_NORTH;if($abs_edgeState$jscomp$1_edges$jscomp$13_pt$$.x>$cell$jscomp$194_state$$.getCenterX())return mxConstants.DIRECTION_WEST}}return mxConstants.DIRECTION_EAST}function $addSibling$$($cell$$,$after$$){$after$$=null!=$after$$?$after$$:!0;$graph$$.model.beginUpdate();try{var $parent$$=$graph$$.model.getParent($cell$$),
$dx$jscomp$76_edges$$=$graph$$.getIncomingTreeEdges($cell$$),$clones$$=$graph$$.cloneCells([$dx$jscomp$76_edges$$[0],$cell$$]);$graph$$.model.setTerminal($clones$$[0],$graph$$.model.getTerminal($dx$jscomp$76_edges$$[0],!0),!0);var $dir$$=$getTreeDirection$$($cell$$),$dy$jscomp$69_pgeo$$=$parent$$.geometry;$dir$$==mxConstants.DIRECTION_SOUTH||$dir$$==mxConstants.DIRECTION_NORTH?$clones$$[1].geometry.x+=$after$$?$cell$$.geometry.width+10:-$clones$$[1].geometry.width-10:$clones$$[1].geometry.y+=$after$$?
$cell$$.geometry.height+10:-$clones$$[1].geometry.height-10;$graph$$.view.currentRoot!=$parent$$&&($clones$$[1].geometry.x-=$dy$jscomp$69_pgeo$$.x,$clones$$[1].geometry.y-=$dy$jscomp$69_pgeo$$.y);var $state$$=$graph$$.view.getState($cell$$),$s$$=$graph$$.view.scale;if(null!=$state$$){var $bbox$$=mxRectangle.fromRectangle($state$$);$dir$$==mxConstants.DIRECTION_SOUTH||$dir$$==mxConstants.DIRECTION_NORTH?$bbox$$.x+=($after$$?$cell$$.geometry.width+10:-$clones$$[1].geometry.width-10)*$s$$:$bbox$$.y+=
($after$$?$cell$$.geometry.height+10:-$clones$$[1].geometry.height-10)*$s$$;var $sib$$=$graph$$.getOutgoingTreeEdges($graph$$.model.getTerminal($dx$jscomp$76_edges$$[0],!0));if(null!=$sib$$){for(var $hor$$=$dir$$==mxConstants.DIRECTION_SOUTH||$dir$$==mxConstants.DIRECTION_NORTH,$i$$=$dy$jscomp$69_pgeo$$=$dx$jscomp$76_edges$$=0;$i$$<$sib$$.length;$i$$++){var $temp$$=$graph$$.model.getTerminal($sib$$[$i$$],!1);if($dir$$==$getTreeDirection$$($temp$$)){var $sibling$$=$graph$$.view.getState($temp$$);$temp$$!=
$cell$$&&null!=$sibling$$&&($hor$$&&$after$$!=$sibling$$.getCenterX()<$state$$.getCenterX()||!$hor$$&&$after$$!=$sibling$$.getCenterY()<$state$$.getCenterY())&&mxUtils.intersects($bbox$$,$sibling$$)&&($dx$jscomp$76_edges$$=10+Math.max($dx$jscomp$76_edges$$,(Math.min($bbox$$.x+$bbox$$.width,$sibling$$.x+$sibling$$.width)-Math.max($bbox$$.x,$sibling$$.x))/$s$$),$dy$jscomp$69_pgeo$$=10+Math.max($dy$jscomp$69_pgeo$$,(Math.min($bbox$$.y+$bbox$$.height,$sibling$$.y+$sibling$$.height)-Math.max($bbox$$.y,
$sibling$$.y))/$s$$))}}$hor$$?$dy$jscomp$69_pgeo$$=0:$dx$jscomp$76_edges$$=0;for($i$$=0;$i$$<$sib$$.length;$i$$++)if($temp$$=$graph$$.model.getTerminal($sib$$[$i$$],!1),$dir$$==$getTreeDirection$$($temp$$)&&($sibling$$=$graph$$.view.getState($temp$$),$temp$$!=$cell$$&&null!=$sibling$$&&($hor$$&&$after$$!=$sibling$$.getCenterX()<$state$$.getCenterX()||!$hor$$&&$after$$!=$sibling$$.getCenterY()<$state$$.getCenterY()))){var $subtree$$=[];$graph$$.traverse($sibling$$.cell,!0,function($vertex$$,$edge$$){var $treeEdge$$=
null!=$edge$$&&$graph$$.isTreeEdge($edge$$);$treeEdge$$&&$subtree$$.push($edge$$);(null==$edge$$||$treeEdge$$)&&$subtree$$.push($vertex$$);return null==$edge$$||$treeEdge$$});$graph$$.moveCells($subtree$$,($after$$?1:-1)*$dx$jscomp$76_edges$$,($after$$?1:-1)*$dy$jscomp$69_pgeo$$)}}}return $graph$$.addCells($clones$$,$parent$$)}finally{$graph$$.model.endUpdate()}}function $addParent$$($cell$$){$graph$$.model.beginUpdate();try{var $dir$$=$getTreeDirection$$($cell$$),$edges$$=$graph$$.getIncomingTreeEdges($cell$$),
$clones$$=$graph$$.cloneCells([$edges$$[0],$cell$$]);$graph$$.model.setTerminal($edges$$[0],$clones$$[1],!1);$graph$$.model.setTerminal($clones$$[0],$clones$$[1],!0);$graph$$.model.setTerminal($clones$$[0],$cell$$,!1);var $parent$$=$graph$$.model.getParent($cell$$),$pgeo$$=$parent$$.geometry,$subtree$$=[];$graph$$.view.currentRoot!=$parent$$&&($clones$$[1].geometry.x-=$pgeo$$.x,$clones$$[1].geometry.y-=$pgeo$$.y);$graph$$.traverse($cell$$,!0,function($vertex$$,$edge$$){var $treeEdge$$=null!=$edge$$&&
$graph$$.isTreeEdge($edge$$);$treeEdge$$&&$subtree$$.push($edge$$);(null==$edge$$||$treeEdge$$)&&$subtree$$.push($vertex$$);return null==$edge$$||$treeEdge$$});var $dx$$=$cell$$.geometry.width+40,$dy$$=$cell$$.geometry.height+40;$dir$$==mxConstants.DIRECTION_SOUTH?$dx$$=0:$dir$$==mxConstants.DIRECTION_NORTH?($dx$$=0,$dy$$=-$dy$$):$dir$$==mxConstants.DIRECTION_WEST?($dx$$=-$dx$$,$dy$$=0):$dir$$==mxConstants.DIRECTION_EAST&&($dy$$=0);$graph$$.moveCells($subtree$$,$dx$$,$dy$$);return $graph$$.addCells($clones$$,
$parent$$)}finally{$graph$$.model.endUpdate()}}function $addChild$$($cell$$,$direction$jscomp$17_targets$$){$graph$$.model.beginUpdate();try{var $parent$$=$graph$$.model.getParent($cell$$),$edges$$=$graph$$.getIncomingTreeEdges($cell$$),$dir$$=$getTreeDirection$$($cell$$);0==$edges$$.length&&($edges$$=[$graph$$.createEdge($parent$$,null,"",null,null,$graph$$.createCurrentEdgeStyle())],$dir$$=$direction$jscomp$17_targets$$);var $clones$$=$graph$$.cloneCells([$edges$$[0],$cell$$]);$graph$$.model.setTerminal($clones$$[0],
$cell$$,!0);null==$graph$$.model.getTerminal($clones$$[0],!1)&&($graph$$.model.setTerminal($clones$$[0],$clones$$[1],!1),$graph$$.applyNewEdgeStyle($clones$$[1],[$clones$$[0]],$dir$$));$edges$$=$graph$$.getOutgoingTreeEdges($cell$$);var $pgeo$$=$parent$$.geometry;$direction$jscomp$17_targets$$=[];$graph$$.view.currentRoot==$parent$$&&($pgeo$$=new mxRectangle);for(var $i$$=0;$i$$<$edges$$.length;$i$$++){var $target$$=$graph$$.model.getTerminal($edges$$[$i$$],!1);null!=$target$$&&$direction$jscomp$17_targets$$.push($target$$)}var $bbox$$=
$graph$$.view.getBounds($direction$jscomp$17_targets$$),$tr$$=$graph$$.view.translate,$s$$=$graph$$.view.scale;$dir$$==mxConstants.DIRECTION_SOUTH?($clones$$[1].geometry.x=null==$bbox$$?$cell$$.geometry.x+($cell$$.geometry.width-$clones$$[1].geometry.width)/2:($bbox$$.x+$bbox$$.width)/$s$$-$tr$$.x-$pgeo$$.x+10,$clones$$[1].geometry.y+=$clones$$[1].geometry.height-$pgeo$$.y+40):$dir$$==mxConstants.DIRECTION_NORTH?($clones$$[1].geometry.x=null==$bbox$$?$cell$$.geometry.x+($cell$$.geometry.width-$clones$$[1].geometry.width)/
2:($bbox$$.x+$bbox$$.width)/$s$$-$tr$$.x+-$pgeo$$.x+10,$clones$$[1].geometry.y-=$clones$$[1].geometry.height+$pgeo$$.y+40):($clones$$[1].geometry.x=$dir$$==mxConstants.DIRECTION_WEST?$clones$$[1].geometry.x-($clones$$[1].geometry.width+$pgeo$$.x+40):$clones$$[1].geometry.x+($clones$$[1].geometry.width-$pgeo$$.x+40),$clones$$[1].geometry.y=null==$bbox$$?$cell$$.geometry.y+($cell$$.geometry.height-$clones$$[1].geometry.height)/2:($bbox$$.y+$bbox$$.height)/$s$$-$tr$$.y+-$pgeo$$.y+10);return $graph$$.addCells($clones$$,
$parent$$)}finally{$graph$$.model.endUpdate()}}function $getOrderedTargets$$($cell$jscomp$198_sib$$,$horizontal$$,$ref$jscomp$4_state$$){$cell$jscomp$198_sib$$=$graph$$.getOutgoingTreeEdges($cell$jscomp$198_sib$$);$ref$jscomp$4_state$$=$graph$$.view.getState($ref$jscomp$4_state$$);var $targets$$=[];if(null!=$ref$jscomp$4_state$$&&null!=$cell$jscomp$198_sib$$){for(var $i$$=0;$i$$<$cell$jscomp$198_sib$$.length;$i$$++){var $temp$$=$graph$$.view.getState($graph$$.model.getTerminal($cell$jscomp$198_sib$$[$i$$],
!1));null!=$temp$$&&(!$horizontal$$&&Math.min($temp$$.x+$temp$$.width,$ref$jscomp$4_state$$.x+$ref$jscomp$4_state$$.width)>=Math.max($temp$$.x,$ref$jscomp$4_state$$.x)||$horizontal$$&&Math.min($temp$$.y+$temp$$.height,$ref$jscomp$4_state$$.y+$ref$jscomp$4_state$$.height)>=Math.max($temp$$.y,$ref$jscomp$4_state$$.y))&&$targets$$.push($temp$$)}$targets$$.sort(function($a$$,$b$$){return $horizontal$$?$a$$.x+$a$$.width-$b$$.x-$b$$.width:$a$$.y+$a$$.height-$b$$.y-$b$$.height})}return $targets$$}function $selectCell$$($cell$jscomp$199_idx$jscomp$18_state$$,
$direction$jscomp$18_sib$$){var $dir$jscomp$16_edges$$=$getTreeDirection$$($cell$jscomp$199_idx$jscomp$18_state$$),$h2$jscomp$3_targets$$=$direction$jscomp$18_sib$$==mxConstants.DIRECTION_EAST||$direction$jscomp$18_sib$$==mxConstants.DIRECTION_WEST;($dir$jscomp$16_edges$$==mxConstants.DIRECTION_EAST||$dir$jscomp$16_edges$$==mxConstants.DIRECTION_WEST)==$h2$jscomp$3_targets$$&&$dir$jscomp$16_edges$$!=$direction$jscomp$18_sib$$?$ui$$.actions.get("selectParent").funct():$dir$jscomp$16_edges$$==$direction$jscomp$18_sib$$?
($direction$jscomp$18_sib$$=$graph$$.getOutgoingTreeEdges($cell$jscomp$199_idx$jscomp$18_state$$),null!=$direction$jscomp$18_sib$$&&0<$direction$jscomp$18_sib$$.length&&$graph$$.setSelectionCell($graph$$.model.getTerminal($direction$jscomp$18_sib$$[0],!1))):($dir$jscomp$16_edges$$=$graph$$.getIncomingTreeEdges($cell$jscomp$199_idx$jscomp$18_state$$),null!=$dir$jscomp$16_edges$$&&0<$dir$jscomp$16_edges$$.length&&($h2$jscomp$3_targets$$=$getOrderedTargets$$($graph$$.model.getTerminal($dir$jscomp$16_edges$$[0],
!0),$h2$jscomp$3_targets$$,$cell$jscomp$199_idx$jscomp$18_state$$),$cell$jscomp$199_idx$jscomp$18_state$$=$graph$$.view.getState($cell$jscomp$199_idx$jscomp$18_state$$),null!=$cell$jscomp$199_idx$jscomp$18_state$$&&($cell$jscomp$199_idx$jscomp$18_state$$=mxUtils.indexOf($h2$jscomp$3_targets$$,$cell$jscomp$199_idx$jscomp$18_state$$),0<=$cell$jscomp$199_idx$jscomp$18_state$$&&($cell$jscomp$199_idx$jscomp$18_state$$+=$direction$jscomp$18_sib$$==mxConstants.DIRECTION_NORTH||$direction$jscomp$18_sib$$==
mxConstants.DIRECTION_WEST?-1:1,0<=$cell$jscomp$199_idx$jscomp$18_state$$&&$cell$jscomp$199_idx$jscomp$18_state$$<=$h2$jscomp$3_targets$$.length-1&&$graph$$.setSelectionCell($h2$jscomp$3_targets$$[$cell$jscomp$199_idx$jscomp$18_state$$].cell)))))}var $ui$$=this,$graph$$=$ui$$.editor.graph,$model$jscomp$0$$=$graph$$.getModel(),$uiCreatePopupMenu$$=$ui$$.menus.createPopupMenu;$ui$$.menus.createPopupMenu=function($menu$$,$cell$$,$evt$$){$uiCreatePopupMenu$$.apply(this,arguments);if(1==$graph$$.getSelectionCount()){$cell$$=
$graph$$.getSelectionCell();var $sib$$=$graph$$.getOutgoingTreeEdges($cell$$);$menu$$.addSeparator();0<$sib$$.length&&($isTreeVertex$$($graph$$.getSelectionCell())&&this.addMenuItems($menu$$,["selectChildren"],null,$evt$$),this.addMenuItems($menu$$,["selectDescendants"],null,$evt$$));$isTreeVertex$$($graph$$.getSelectionCell())?($menu$$.addSeparator(),0<$graph$$.getIncomingTreeEdges($cell$$).length&&this.addMenuItems($menu$$,["selectSiblings","selectParent"],null,$evt$$)):0<$graph$$.model.getEdgeCount($cell$$)&&
this.addMenuItems($menu$$,["selectConnections"],null,$evt$$)}};$ui$$.actions.addAction("selectChildren",function($evt$jscomp$306_sib$$){if($graph$$.isEnabled()&&1==$graph$$.getSelectionCount()){var $cell$jscomp$189_tmp$$=$graph$$.getSelectionCell();$evt$jscomp$306_sib$$=mxEvent.isControlDown($evt$jscomp$306_sib$$)?null:$graph$$.getOutgoingTreeEdges($cell$jscomp$189_tmp$$);if(null!=$evt$jscomp$306_sib$$&&0<$evt$jscomp$306_sib$$.length){$cell$jscomp$189_tmp$$=[];for(var $i$$=0;$i$$<$evt$jscomp$306_sib$$.length;$i$$++)$cell$jscomp$189_tmp$$.push($graph$$.model.getTerminal($evt$jscomp$306_sib$$[$i$$],
!1));$graph$$.setSelectionCells($cell$jscomp$189_tmp$$)}else $graph$$.setSelectionCells($graph$$.model.getChildren($cell$jscomp$189_tmp$$))}},null,null,"Alt+Shift+C");$ui$$.actions.addAction("selectDescendants",function($evt$$){var $cell$$=$graph$$.getSelectionCell();if($graph$$.isEnabled()&&null!=$cell$$){var $tmp$$=[];mxEvent.isControlDown($evt$$)||$graph$$.traverse($cell$$,!0,function($vertex$$,$edge$$){var $treeEdge$$=null!=$edge$$&&$graph$$.isTreeEdge($edge$$);$treeEdge$$&&mxEvent.isControlDown($evt$$)&&
$tmp$$.push($edge$$);(null==$edge$$||$treeEdge$$)&&$tmp$$.push($vertex$$);return null==$edge$$||$treeEdge$$});if(0==$tmp$$.length||1==$tmp$$.length&&$tmp$$[0]==$cell$$)$tmp$$=$graph$$.model.getDescendants($cell$$);$graph$$.setSelectionCells($tmp$$)}},null,null,"Alt+Shift+X");$ui$$.actions.addAction("selectParent",function($edges$jscomp$8_evt$$){var $cell$$=$graph$$.getSelectionCell();$graph$$.isEnabled()&&null!=$cell$$&&($edges$jscomp$8_evt$$=mxEvent.isControlDown($edges$jscomp$8_evt$$)?null:$graph$$.getIncomingTreeEdges($cell$$),
null!=$edges$jscomp$8_evt$$&&0<$edges$jscomp$8_evt$$.length?$graph$$.setSelectionCell($graph$$.model.getTerminal($edges$jscomp$8_evt$$[0],!0)):$graph$$.selectParentCell())},null,null,"Alt+Shift+P");$ui$$.actions.addAction("selectSiblings",function($evt$jscomp$309_tmp$$){if($graph$$.isEnabled()&&1==$graph$$.getSelectionCount()){var $cell$$=$graph$$.getSelectionCell(),$edges$jscomp$9_sib$$=mxEvent.isControlDown($evt$jscomp$309_tmp$$)?null:$graph$$.getIncomingTreeEdges($cell$$);$evt$jscomp$309_tmp$$=
[];if(null!=$edges$jscomp$9_sib$$&&0<$edges$jscomp$9_sib$$.length&&($edges$jscomp$9_sib$$=$graph$$.getOutgoingTreeEdges($graph$$.model.getTerminal($edges$jscomp$9_sib$$[0],!0)),null!=$edges$jscomp$9_sib$$))for(var $i$$=0;$i$$<$edges$jscomp$9_sib$$.length;$i$$++)$evt$jscomp$309_tmp$$.push($graph$$.model.getTerminal($edges$jscomp$9_sib$$[$i$$],!1));0==$evt$jscomp$309_tmp$$.length&&($evt$jscomp$309_tmp$$=$graph$$.model.getChildren($graph$$.model.getParent($cell$$)));$graph$$.setSelectionCells($evt$jscomp$309_tmp$$)}},
null,null,"Alt+Shift+S");var $graphRemoveCells$$=$graph$$.removeCells;$graph$$.removeCells=function($cells$$,$includeEdges$$){$includeEdges$$=null!=$includeEdges$$?$includeEdges$$:!0;null==$cells$$&&($cells$$=this.getDeletableCells(this.getSelectionCells()));$includeEdges$$&&($cells$$=this.getDeletableCells(this.addAllEdges($cells$$)));for(var $tmp$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $edges$jscomp$10_target$$=$cells$$[$i$$];$model$jscomp$0$$.isEdge($edges$jscomp$10_target$$)&&$hasTreeParent$$($edges$jscomp$10_target$$)&&
($tmp$$.push($edges$jscomp$10_target$$),$edges$jscomp$10_target$$=$model$jscomp$0$$.getTerminal($edges$jscomp$10_target$$,!1));if($isTreeVertex$$($edges$jscomp$10_target$$)){var $subtree$$=[];$graph$$.traverse($edges$jscomp$10_target$$,!0,function($vertex$$,$edge$$){var $treeEdge$$=null!=$edge$$&&$graph$$.isTreeEdge($edge$$);$treeEdge$$&&$subtree$$.push($edge$$);(null==$edge$$||$treeEdge$$)&&$subtree$$.push($vertex$$);return null==$edge$$||$treeEdge$$});0<$subtree$$.length&&($tmp$$=$tmp$$.concat($subtree$$),
$edges$jscomp$10_target$$=$graph$$.getIncomingTreeEdges($cells$$[$i$$]),$cells$$=$cells$$.concat($edges$jscomp$10_target$$))}else null!=$edges$jscomp$10_target$$&&$tmp$$.push($cells$$[$i$$])}$cells$$=$tmp$$;return $graphRemoveCells$$.apply(this,arguments)};$ui$$.hoverIcons.getStateAt=function($state$$,$x$$,$y$$){return $isTreeVertex$$($state$$.cell)?null:this.graph.view.getState(this.graph.getCellAt($x$$,$y$$))};var $graphDuplicateCells$$=$graph$$.duplicateCells;$graph$$.duplicateCells=function($cells$$,
$append$$){$cells$$=null!=$cells$$?$cells$$:this.getSelectionCells();for(var $temp$$=$cells$$.slice(0),$i$$=0;$i$$<$temp$$.length;$i$$++){var $j$jscomp$34_state$$=$graph$$.view.getState($temp$$[$i$$]);if(null!=$j$jscomp$34_state$$&&$isTreeVertex$$($j$jscomp$34_state$$.cell)){var $edges$$=$graph$$.getIncomingTreeEdges($j$jscomp$34_state$$.cell);for($j$jscomp$34_state$$=0;$j$jscomp$34_state$$<$edges$$.length;$j$jscomp$34_state$$++)mxUtils.remove($edges$$[$j$jscomp$34_state$$],$cells$$)}}this.model.beginUpdate();
try{var $result$$=$graphDuplicateCells$$.call(this,$cells$$,$append$$);if($result$$.length==$cells$$.length)for($i$$=0;$i$$<$cells$$.length;$i$$++)if($isTreeVertex$$($cells$$[$i$$])){var $newEdges$$=$graph$$.getIncomingTreeEdges($result$$[$i$$]);$edges$$=$graph$$.getIncomingTreeEdges($cells$$[$i$$]);if(0==$newEdges$$.length&&0<$edges$$.length){var $clone$$=this.cloneCell($edges$$[0]);this.addEdge($clone$$,$graph$$.getDefaultParent(),this.model.getTerminal($edges$$[0],!0),$result$$[$i$$])}}}finally{this.model.endUpdate()}return $result$$};
var $graphMoveCells$$=$graph$$.moveCells;$graph$$.moveCells=function($cells$$,$dx$$,$dy$$,$clone$$,$target$$,$evt$$,$mapping$$){var $result$$=null;this.model.beginUpdate();try{var $newSource$$=$target$$,$style$jscomp$104_temp$$=this.getCurrentCellStyle($target$$);if(null!=$cells$$&&$isTreeVertex$$($target$$)&&"1"==mxUtils.getValue($style$jscomp$104_temp$$,"treeFolding","0")){for(var $i$$=0;$i$$<$cells$$.length;$i$$++)if($isTreeVertex$$($cells$$[$i$$])||$graph$$.model.isEdge($cells$$[$i$$])&&null==
$graph$$.model.getTerminal($cells$$[$i$$],!0)){$target$$=$graph$$.model.getParent($cells$$[$i$$]);break}if(null!=$newSource$$&&$target$$!=$newSource$$&&null!=this.view.getState($cells$$[0])){var $edges$$=$graph$$.getIncomingTreeEdges($cells$$[0]);if(0<$edges$$.length){var $state1$$=$graph$$.view.getState($graph$$.model.getTerminal($edges$$[0],!0));if(null!=$state1$$){var $state2$$=$graph$$.view.getState($newSource$$);null!=$state2$$&&($dx$$=($state2$$.getCenterX()-$state1$$.getCenterX())/$graph$$.view.scale,
$dy$$=($state2$$.getCenterY()-$state1$$.getCenterY())/$graph$$.view.scale)}}}}$result$$=$graphMoveCells$$.apply(this,arguments);if(null!=$result$$&&null!=$cells$$&&$result$$.length==$cells$$.length)for($i$$=0;$i$$<$result$$.length;$i$$++)if(this.model.isEdge($result$$[$i$$]))$isTreeVertex$$($newSource$$)&&0>mxUtils.indexOf($result$$,this.model.getTerminal($result$$[$i$$],!0))&&this.model.setTerminal($result$$[$i$$],$newSource$$,!0);else if($isTreeVertex$$($cells$$[$i$$])&&($edges$$=$graph$$.getIncomingTreeEdges($cells$$[$i$$]),
0<$edges$$.length))if(!$clone$$)$isTreeVertex$$($newSource$$)&&0>mxUtils.indexOf($cells$$,this.model.getTerminal($edges$$[0],!0))&&this.model.setTerminal($edges$$[0],$newSource$$,!0);else if(0==$graph$$.getIncomingTreeEdges($result$$[$i$$]).length){$style$jscomp$104_temp$$=$newSource$$;if(null==$style$jscomp$104_temp$$||$style$jscomp$104_temp$$==$graph$$.model.getParent($cells$$[$i$$]))$style$jscomp$104_temp$$=$graph$$.model.getTerminal($edges$$[0],!0);$clone$$=this.cloneCell($edges$$[0]);this.addEdge($clone$$,
$graph$$.getDefaultParent(),$style$jscomp$104_temp$$,$result$$[$i$$])}}finally{this.model.endUpdate()}return $result$$};if(null!=$ui$$.sidebar){var $sidebarDropAndConnect$$=$ui$$.sidebar.dropAndConnect;$ui$$.sidebar.dropAndConnect=function($source$$,$targets$$,$direction$$,$dropCellIndex$$){var $model$$=$graph$$.model,$result$$=null;$model$$.beginUpdate();try{if($result$$=$sidebarDropAndConnect$$.apply(this,arguments),$isTreeVertex$$($source$$))for(var $i$$=0;$i$$<$result$$.length;$i$$++)if($model$$.isEdge($result$$[$i$$])&&
null==$model$$.getTerminal($result$$[$i$$],!0)){$model$$.setTerminal($result$$[$i$$],$source$$,!0);var $geo$$=$graph$$.getCellGeometry($result$$[$i$$]);$geo$$.points=null;null!=$geo$$.getTerminalPoint(!0)&&$geo$$.setTerminalPoint(null,!0)}}finally{$model$$.endUpdate()}return $result$$}}var $altShiftActions$$={67:$ui$$.actions.get("selectChildren"),88:$ui$$.actions.get("selectDescendants"),80:$ui$$.actions.get("selectParent"),83:$ui$$.actions.get("selectSiblings")},$altActions$$={67:$ui$$.actions.get("copyStyle"),
86:$ui$$.actions.get("pasteStyle")},$editorUiOnKeyDown$$=$ui$$.onKeyDown;$ui$$.onKeyDown=function($evt$$){try{var $cell$$=$graph$$.getSelectionCell();if($graph$$.isEnabled()&&!$graph$$.isEditing()&&null!=$cell$$){var $action$jscomp$13_cells$$=mxEvent.isAltDown($evt$$)&&mxEvent.isShiftDown($evt$$)?$altShiftActions$$[$evt$$.keyCode]:mxEvent.isAltDown($evt$$)?$altActions$$[$evt$$.keyCode]:null;null!=$action$jscomp$13_cells$$?($action$jscomp$13_cells$$.funct($evt$$),mxEvent.consume($evt$$)):$isTreeVertex$$($cell$$)&&
($action$jscomp$13_cells$$=null,0<$graph$$.getIncomingTreeEdges($cell$$).length&&(9==$evt$$.which?$action$jscomp$13_cells$$=mxEvent.isShiftDown($evt$$)?$addParent$$($cell$$):$addChild$$($cell$$):13==$evt$$.which&&($action$jscomp$13_cells$$=$addSibling$$($cell$$,!mxEvent.isShiftDown($evt$$)))),null!=$action$jscomp$13_cells$$&&0<$action$jscomp$13_cells$$.length?(1==$action$jscomp$13_cells$$.length&&$graph$$.model.isEdge($action$jscomp$13_cells$$[0])?$graph$$.setSelectionCell($graph$$.model.getTerminal($action$jscomp$13_cells$$[0],
!1)):$graph$$.setSelectionCell($action$jscomp$13_cells$$[$action$jscomp$13_cells$$.length-1]),null!=$ui$$.hoverIcons&&$ui$$.hoverIcons.update($graph$$.view.getState($cell$$)),$graph$$.startEditingAtCell($cell$$),mxEvent.consume($evt$$)):37==$evt$$.keyCode?($selectCell$$($cell$$,mxConstants.DIRECTION_WEST),mxEvent.consume($evt$$)):38==$evt$$.keyCode?($selectCell$$($cell$$,mxConstants.DIRECTION_NORTH),mxEvent.consume($evt$$)):39==$evt$$.keyCode?($selectCell$$($cell$$,mxConstants.DIRECTION_EAST),mxEvent.consume($evt$$)):
40==$evt$$.keyCode&&($selectCell$$($cell$$,mxConstants.DIRECTION_SOUTH),mxEvent.consume($evt$$)))}}catch($e$$){$ui$$.handleError($e$$)}mxEvent.isConsumed($evt$$)||$editorUiOnKeyDown$$.apply(this,arguments)};var $graphConnectVertex$$=$graph$$.connectVertex;$graph$$.connectVertex=function($source$$,$direction$$,$length$$,$evt$$,$forceClone$$,$ignoreCellAt$$,$targetCell$$){var $edges$$=$graph$$.getIncomingTreeEdges($source$$);if($isTreeVertex$$($source$$)){var $dir$$=$getTreeDirection$$($source$$),$h1$$=
$dir$$==mxConstants.DIRECTION_EAST||$dir$$==mxConstants.DIRECTION_WEST,$h2$$=$direction$$==mxConstants.DIRECTION_EAST||$direction$$==mxConstants.DIRECTION_WEST;return $dir$$==$direction$$||0==$edges$$.length?$addChild$$($source$$,$direction$$):$h1$$==$h2$$?$addParent$$($source$$):$addSibling$$($source$$,$direction$$!=mxConstants.DIRECTION_NORTH&&$direction$$!=mxConstants.DIRECTION_WEST)}return $graphConnectVertex$$.apply(this,arguments)};$graph$$.getSubtree=function($initialCell$$){var $cells$$=[$initialCell$$];
!$isTreeMoving$$($initialCell$$)&&!$isTreeVertex$$($initialCell$$)||$hasLayoutParent$$($initialCell$$)||$graph$$.traverse($initialCell$$,!0,function($vertex$$,$edge$$){var $treeEdge$$=null!=$edge$$&&$graph$$.isTreeEdge($edge$$);$treeEdge$$&&0>mxUtils.indexOf($cells$$,$edge$$)&&$cells$$.push($edge$$);(null==$edge$$||$treeEdge$$)&&0>mxUtils.indexOf($cells$$,$vertex$$)&&$cells$$.push($vertex$$);return null==$edge$$||$treeEdge$$});return $cells$$};var $vertexHandlerInit$$=mxVertexHandler.prototype.init;
mxVertexHandler.prototype.init=function(){$vertexHandlerInit$$.apply(this,arguments);($isTreeMoving$$(this.state.cell)||$isTreeVertex$$(this.state.cell))&&!$hasLayoutParent$$(this.state.cell)&&0<this.graph.getOutgoingTreeEdges(this.state.cell).length&&(this.moveHandle=mxUtils.createImage(Editor.moveImage),this.moveHandle.setAttribute("title","Move Subtree"),this.moveHandle.style.position="absolute",this.moveHandle.style.cursor="pointer",this.moveHandle.style.width="24px",this.moveHandle.style.height=
"24px",this.graph.container.appendChild(this.moveHandle),mxEvent.addGestureListeners(this.moveHandle,mxUtils.bind(this,function($evt$$){this.graph.graphHandler.start(this.state.cell,mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$),this.graph.getSubtree(this.state.cell));this.graph.graphHandler.cellWasClicked=!0;this.graph.isMouseTrigger=mxEvent.isMouseEvent($evt$$);this.graph.isMouseDown=!0;$ui$$.hoverIcons.reset();mxEvent.consume($evt$$)})))};var $vertexHandlerRedrawHandles$$=mxVertexHandler.prototype.redrawHandles;
mxVertexHandler.prototype.redrawHandles=function(){$vertexHandlerRedrawHandles$$.apply(this,arguments);null!=this.moveHandle&&(this.moveHandle.style.left=this.state.x+this.state.width+(40>this.state.width?10:0)+2+"px",this.moveHandle.style.top=this.state.y+this.state.height+(40>this.state.height?10:0)+2+"px")};var $vertexHandlerSetHandlesVisible$$=mxVertexHandler.prototype.setHandlesVisible;mxVertexHandler.prototype.setHandlesVisible=function($visible$$){$vertexHandlerSetHandlesVisible$$.apply(this,
arguments);null!=this.moveHandle&&(this.moveHandle.style.display=$visible$$?"":"none")};var $vertexHandlerDestroy$$=mxVertexHandler.prototype.destroy;mxVertexHandler.prototype.destroy=function($sender$$,$me$$){$vertexHandlerDestroy$$.apply(this,arguments);null!=this.moveHandle&&(this.moveHandle.parentNode.removeChild(this.moveHandle),this.moveHandle=null)}};if("undefined"!==typeof Sidebar){var $sidebarCreateAdvancedShapes$$=Sidebar.prototype.createAdvancedShapes;Sidebar.prototype.createAdvancedShapes=
function(){var $result$$=$sidebarCreateAdvancedShapes$$.apply(this,arguments),$graph$$=this.graph,$sb$$=this;return $result$$.concat([this.addEntry("tree container",function(){var $cell$$=new mxCell("Tree Container",new mxGeometry(0,0,400,320),"swimlane;startSize=20;horizontal=1;containerType=tree;");$cell$$.vertex=!0;var $cell2$$=new mxCell("Parent",new mxGeometry(140,60,120,40),'whiteSpace=wrap;html=1;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"elbowEdgeStyle","startArrow":"none","endArrow":"none"};');
$cell2$$.vertex=!0;var $cell3$$=new mxCell("Child",new mxGeometry(140,140,120,40),'whiteSpace=wrap;html=1;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"elbowEdgeStyle","startArrow":"none","endArrow":"none"};');$cell3$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=elbowEdgeStyle;elbow=vertical;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startArrow=none;endArrow=none;rounded=0;curved=0;");$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell2$$.insertEdge($edge$$,
!0);$cell3$$.insertEdge($edge$$,!1);$cell$$.insert($edge$$);$cell$$.insert($cell2$$);$cell$$.insert($cell3$$);return $sb$$.createVertexTemplateFromCells([$cell$$],$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),this.addEntry("tree mindmap mindmaps central idea branch topic",function(){var $mindmap$$=new mxCell("Mindmap",new mxGeometry(0,0,420,126),"swimlane;startSize=20;horizontal=1;containerType=tree;");$mindmap$$.vertex=!0;var $cell$$=new mxCell("Central Idea",new mxGeometry(160,
60,100,40),'ellipse;whiteSpace=wrap;html=1;align=center;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"entityRelationEdgeStyle","startArrow":"none","endArrow":"none","segment":10,"curved":1,"sourcePerimeterSpacing":0,"targetPerimeterSpacing":0};');$cell$$.vertex=!0;var $cell2$$=new mxCell("Topic",new mxGeometry(320,40,80,20),'whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"entityRelationEdgeStyle","startArrow":"none","endArrow":"none","segment":10,"curved":1,"sourcePerimeterSpacing":0,"targetPerimeterSpacing":0};');
$cell2$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;");$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!0);$cell2$$.insertEdge($edge$$,!1);var $cell3$$=new mxCell("Branch",new mxGeometry(320,80,72,26),'whiteSpace=wrap;html=1;shape=partialRectangle;top=0;left=0;bottom=1;right=0;points=[[0,1],[1,1]];fillColor=none;align=center;verticalAlign=bottom;routingCenterY=0.5;snapToPoint=1;autosize=1;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"entityRelationEdgeStyle","startArrow":"none","endArrow":"none","segment":10,"curved":1,"sourcePerimeterSpacing":0,"targetPerimeterSpacing":0};');
$cell3$$.vertex=!0;var $edge2$$=new mxCell("",new mxGeometry(0,0,0,0),$edge$$.style);$edge2$$.geometry.relative=!0;$edge2$$.edge=!0;$cell$$.insertEdge($edge2$$,!0);$cell3$$.insertEdge($edge2$$,!1);var $cell4$$=new mxCell("Topic",new mxGeometry(20,40,80,20),'whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"entityRelationEdgeStyle","startArrow":"none","endArrow":"none","segment":10,"curved":1,"sourcePerimeterSpacing":0,"targetPerimeterSpacing":0};');
$cell4$$.vertex=!0;var $edge3$$=new mxCell("",new mxGeometry(0,0,0,0),$edge$$.style);$edge3$$.geometry.relative=!0;$edge3$$.edge=!0;$cell$$.insertEdge($edge3$$,!0);$cell4$$.insertEdge($edge3$$,!1);var $cell5$$=new mxCell("Branch",new mxGeometry(20,80,72,26),'whiteSpace=wrap;html=1;shape=partialRectangle;top=0;left=0;bottom=1;right=0;points=[[0,1],[1,1]];fillColor=none;align=center;verticalAlign=bottom;routingCenterY=0.5;snapToPoint=1;autosize=1;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"entityRelationEdgeStyle","startArrow":"none","endArrow":"none","segment":10,"curved":1,"sourcePerimeterSpacing":0,"targetPerimeterSpacing":0};');
$cell5$$.vertex=!0;var $edge4$$=new mxCell("",new mxGeometry(0,0,0,0),$edge$$.style);$edge4$$.geometry.relative=!0;$edge4$$.edge=!0;$cell$$.insertEdge($edge4$$,!0);$cell5$$.insertEdge($edge4$$,!1);$mindmap$$.insert($edge$$);$mindmap$$.insert($edge2$$);$mindmap$$.insert($edge3$$);$mindmap$$.insert($edge4$$);$mindmap$$.insert($cell$$);$mindmap$$.insert($cell2$$);$mindmap$$.insert($cell3$$);$mindmap$$.insert($cell4$$);$mindmap$$.insert($cell5$$);return $sb$$.createVertexTemplateFromCells([$mindmap$$],
$mindmap$$.geometry.width,$mindmap$$.geometry.height,$mindmap$$.value)}),this.addEntry("tree mindmap mindmaps central idea",function(){var $cell$$=new mxCell("Central Idea",new mxGeometry(0,0,100,40),'ellipse;whiteSpace=wrap;html=1;align=center;newEdgeStyle={"edgeStyle":"entityRelationEdgeStyle","startArrow":"none","endArrow":"none","segment":10,"curved":1,"sourcePerimeterSpacing":0,"targetPerimeterSpacing":0};treeFolding=1;treeMoving=1;');$cell$$.vertex=!0;return $sb$$.createVertexTemplateFromCells([$cell$$],
$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),this.addEntry("tree mindmap mindmaps branch",function(){var $cell$$=new mxCell("Branch",new mxGeometry(0,0,80,20),'whiteSpace=wrap;html=1;shape=partialRectangle;top=0;left=0;bottom=1;right=0;points=[[0,1],[1,1]];fillColor=none;align=center;verticalAlign=bottom;routingCenterY=0.5;snapToPoint=1;recursiveResize=0;autosize=1;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"entityRelationEdgeStyle","startArrow":"none","endArrow":"none","segment":10,"curved":1,"sourcePerimeterSpacing":0,"targetPerimeterSpacing":0};');
$cell$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;");$edge$$.geometry.setTerminalPoint(new mxPoint(-40,40),!0);$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!1);return $sb$$.createVertexTemplateFromCells([$cell$$,$edge$$],$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),this.addEntry("tree mindmap mindmaps sub topic",
function(){var $cell$$=new mxCell("Sub Topic",new mxGeometry(0,0,80,26),'whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"entityRelationEdgeStyle","startArrow":"none","endArrow":"none","segment":10,"curved":1,"sourcePerimeterSpacing":0,"targetPerimeterSpacing":0};');$cell$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;");
$edge$$.geometry.setTerminalPoint(new mxPoint(-40,40),!0);$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!1);return $sb$$.createVertexTemplateFromCells([$cell$$,$edge$$],$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),this.addEntry("tree orgchart organization division",function(){var $orgchart$$=new mxCell("Orgchart",new mxGeometry(0,0,280,220),'swimlane;startSize=20;horizontal=1;containerType=tree;newEdgeStyle={"edgeStyle":"elbowEdgeStyle","startArrow":"none","endArrow":"none"};');
$orgchart$$.vertex=!0;var $cell$$=new mxCell("Organization",new mxGeometry(80,40,120,60),'whiteSpace=wrap;html=1;align=center;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"elbowEdgeStyle","startArrow":"none","endArrow":"none"};');$graph$$.setAttributeForCell($cell$$,"treeRoot","1");$cell$$.vertex=!0;var $cell2$$=new mxCell("Division",new mxGeometry(20,140,100,60),'whiteSpace=wrap;html=1;align=center;verticalAlign=middle;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"elbowEdgeStyle","startArrow":"none","endArrow":"none"};');
$cell2$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=elbowEdgeStyle;elbow=vertical;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startArrow=none;endArrow=none;rounded=0;curved=0;");$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!0);$cell2$$.insertEdge($edge$$,!1);var $cell3$$=new mxCell("Division",new mxGeometry(160,140,100,60),'whiteSpace=wrap;html=1;align=center;verticalAlign=middle;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"elbowEdgeStyle","startArrow":"none","endArrow":"none"};');
$cell3$$.vertex=!0;var $edge2$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=elbowEdgeStyle;elbow=vertical;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startArrow=none;endArrow=none;rounded=0;curved=0;");$edge2$$.geometry.relative=!0;$edge2$$.edge=!0;$cell$$.insertEdge($edge2$$,!0);$cell3$$.insertEdge($edge2$$,!1);$orgchart$$.insert($edge$$);$orgchart$$.insert($edge2$$);$orgchart$$.insert($cell$$);$orgchart$$.insert($cell2$$);$orgchart$$.insert($cell3$$);return $sb$$.createVertexTemplateFromCells([$orgchart$$],
$orgchart$$.geometry.width,$orgchart$$.geometry.height,$orgchart$$.value)}),this.addEntry("tree root",function(){var $cell$$=new mxCell("Organization",new mxGeometry(0,0,120,60),'whiteSpace=wrap;html=1;align=center;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"elbowEdgeStyle","startArrow":"none","endArrow":"none"};');$graph$$.setAttributeForCell($cell$$,"treeRoot","1");$cell$$.vertex=!0;return $sb$$.createVertexTemplateFromCells([$cell$$],$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),
this.addEntry("tree division",function(){var $cell$$=new mxCell("Division",new mxGeometry(20,40,100,60),'whiteSpace=wrap;html=1;align=center;verticalAlign=middle;treeFolding=1;treeMoving=1;newEdgeStyle={"edgeStyle":"elbowEdgeStyle","startArrow":"none","endArrow":"none"};');$cell$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=elbowEdgeStyle;elbow=vertical;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startArrow=none;endArrow=none;rounded=0;curved=0;");$edge$$.geometry.setTerminalPoint(new mxPoint(0,
0),!0);$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!1);return $sb$$.createVertexTemplateFromCells([$cell$$,$edge$$],$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),this.addEntry("tree sub sections",function(){var $cell$$=new mxCell("Sub Section",new mxGeometry(0,0,100,60),"whiteSpace=wrap;html=1;align=center;verticalAlign=middle;treeFolding=1;treeMoving=1;");$cell$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startArrow=none;endArrow=none;rounded=0;targetPortConstraint=eastwest;sourcePortConstraint=northsouth;curved=0;rounded=0;");
$edge$$.geometry.setTerminalPoint(new mxPoint(110,-40),!0);$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!1);var $cell2$$=new mxCell("Sub Section",new mxGeometry(120,0,100,60),"whiteSpace=wrap;html=1;align=center;verticalAlign=middle;treeFolding=1;treeMoving=1;");$cell2$$.vertex=!0;var $edge2$$=new mxCell("",new mxGeometry(0,0,0,0),$edge$$.style);$edge2$$.geometry.setTerminalPoint(new mxPoint(110,-40),!0);$edge2$$.geometry.relative=!0;$edge2$$.edge=!0;$cell2$$.insertEdge($edge2$$,
!1);return $sb$$.createVertexTemplateFromCells([$edge$$,$edge2$$,$cell$$,$cell2$$],220,60,"Sub Sections")})])}}})();Editor.themes.push("min");EditorUi.windowed="0"!=urlParams.windows;
EditorUi.initMinimalTheme=function(){function $toggleFormat$$($ui$$,$visible$jscomp$16_x$$){if(EditorUi.windowed){var $graph$jscomp$140_h$jscomp$207_wrapper$$=$ui$$.editor.graph;$graph$jscomp$140_h$jscomp$207_wrapper$$.popupMenuHandler.hideMenu();null==$ui$$.formatWindow?($visible$jscomp$16_x$$=Math.max(10,$ui$$.diagramContainer.clientWidth-248),$graph$jscomp$140_h$jscomp$207_wrapper$$=Math.min(566,$graph$jscomp$140_h$jscomp$207_wrapper$$.container.clientHeight-10),$ui$$.formatWindow=new WrapperWindow($ui$$,
mxResources.get("format"),$visible$jscomp$16_x$$,60,240,$graph$jscomp$140_h$jscomp$207_wrapper$$,function($container$$){$ui$$.createFormat($container$$).init()}),$ui$$.formatWindow.window.addListener(mxEvent.SHOW,mxUtils.bind(this,function(){$ui$$.formatWindow.window.fit()})),$ui$$.formatWindow.window.minimumSize=new mxRectangle(0,0,240,80)):$ui$$.formatWindow.window.setVisible(null!=$visible$jscomp$16_x$$?$visible$jscomp$16_x$$:!$ui$$.formatWindow.window.isVisible())}else null==$ui$$.formatElt&&
($ui$$.formatElt=$ui$$.createSidebarContainer(),$ui$$.createFormat($ui$$.formatElt).init(),$ui$$.formatElt.style.border="none",$ui$$.formatElt.style.width="240px",$ui$$.formatElt.style.borderLeft="1px solid gray",$ui$$.formatElt.style.right="0px"),$graph$jscomp$140_h$jscomp$207_wrapper$$=$ui$$.diagramContainer.parentNode,null!=$ui$$.formatElt.parentNode?($ui$$.formatElt.parentNode.removeChild($ui$$.formatElt),$graph$jscomp$140_h$jscomp$207_wrapper$$.style.right="0px"):($graph$jscomp$140_h$jscomp$207_wrapper$$.parentNode.appendChild($ui$$.formatElt),
$graph$jscomp$140_h$jscomp$207_wrapper$$.style.right=$ui$$.formatElt.style.width)}function $createSidebar$$($ui$$,$container$$){function $addMenu$$($elt$jscomp$39_id$$,$label$$){var $menu$$=$ui$$.menus.get($elt$jscomp$39_id$$);$elt$jscomp$39_id$$=$menuObj$$.addMenu($label$$,mxUtils.bind(this,function(){$menu$$.funct.apply(this,arguments)}));$elt$jscomp$39_id$$.style.cssText="position:absolute;border-width:1px;cusor:pointer;border-style:none;height:24px;bottom:0px;text-align:center;padding:8px 6px 0 6px;border-top-style:solid;width:50%;height:32px;box-sizing:border-box;font-size:11px;";
$elt$jscomp$39_id$$.className="geTitle";$container$$.appendChild($elt$jscomp$39_id$$);return $elt$jscomp$39_id$$}var $menuObj$$=new Menubar($ui$$,$container$$);if(Editor.enableCustomLibraries&&("1"!=urlParams.embed||"1"==urlParams.libraries))if(null!=$ui$$.actions.get("newLibrary")){var $div$jscomp$46_elt$$=document.createElement("div");$div$jscomp$46_elt$$.style.cssText="position:absolute;border-width:1px;cusor:pointer;border-style:none;height:24px;bottom:0px;text-align:center;padding:8px 6px 0 6px;border-top-style:solid;width:50%;height:32px;box-sizing:border-box;font-size:11px;";
$div$jscomp$46_elt$$.className="geTitle";mxUtils.write($div$jscomp$46_elt$$,mxResources.get("newLibrary"));$container$$.appendChild($div$jscomp$46_elt$$);mxEvent.addListener($div$jscomp$46_elt$$,"click",this.actions.get("newLibrary").funct);$div$jscomp$46_elt$$=$div$jscomp$46_elt$$.cloneNode(!1);$div$jscomp$46_elt$$.style.left="50%";$div$jscomp$46_elt$$.style.borderLeftStyle="solid";mxUtils.write($div$jscomp$46_elt$$,mxResources.get("openLibrary"));$container$$.appendChild($div$jscomp$46_elt$$);mxEvent.addListener($div$jscomp$46_elt$$,
"click",this.actions.get("openLibrary").funct)}else $div$jscomp$46_elt$$=$addMenu$$("newLibrary",mxResources.get("newLibrary")),$div$jscomp$46_elt$$.style.fontSize="11px",$div$jscomp$46_elt$$.style.left="0",$div$jscomp$46_elt$$=$addMenu$$("openLibraryFrom",mxResources.get("openLibraryFrom")),$div$jscomp$46_elt$$.style.borderLeftStyle="solid",$div$jscomp$46_elt$$.style.fontSize="11px",$div$jscomp$46_elt$$.style.left="50%";$container$$.appendChild($ui$$.sidebar.container);$container$$.style.overflow=
"hidden"}function $toggleShapes$$($ui$$,$visible$jscomp$17_w$$){if(EditorUi.windowed){var $graph$jscomp$141_h$jscomp$208_wrapper$$=$ui$$.editor.graph;$graph$jscomp$141_h$jscomp$208_wrapper$$.popupMenuHandler.hideMenu();null==$ui$$.sidebarWindow?($visible$jscomp$17_w$$=Math.min($graph$jscomp$141_h$jscomp$208_wrapper$$.container.clientWidth-10,218),$graph$jscomp$141_h$jscomp$208_wrapper$$=Math.min($graph$jscomp$141_h$jscomp$208_wrapper$$.container.clientHeight-40,650),$ui$$.sidebarWindow=new WrapperWindow($ui$$,
mxResources.get("shapes"),10,56,$visible$jscomp$17_w$$-6,$graph$jscomp$141_h$jscomp$208_wrapper$$-6,function($container$$){$createSidebar$$($ui$$,$container$$)}),$ui$$.sidebarWindow.window.addListener(mxEvent.SHOW,mxUtils.bind(this,function(){$ui$$.sidebarWindow.window.fit()})),$ui$$.sidebarWindow.window.minimumSize=new mxRectangle(0,0,90,90),$ui$$.sidebarWindow.window.setVisible(!0),isLocalStorage&&$ui$$.getLocalData("sidebar",function($value$$){$ui$$.sidebar.showEntries($value$$,null,!0)}),$ui$$.restoreLibraries()):
$ui$$.sidebarWindow.window.setVisible(null!=$visible$jscomp$17_w$$?$visible$jscomp$17_w$$:!$ui$$.sidebarWindow.window.isVisible())}else null==$ui$$.sidebarElt&&($ui$$.sidebarElt=$ui$$.createSidebarContainer(),$createSidebar$$($ui$$,$ui$$.sidebarElt),$ui$$.sidebarElt.style.border="none",$ui$$.sidebarElt.style.width="210px",$ui$$.sidebarElt.style.borderRight="1px solid gray"),$graph$jscomp$141_h$jscomp$208_wrapper$$=$ui$$.diagramContainer.parentNode,null!=$ui$$.sidebarElt.parentNode?($ui$$.sidebarElt.parentNode.removeChild($ui$$.sidebarElt),
$graph$jscomp$141_h$jscomp$208_wrapper$$.style.left="0px"):($graph$jscomp$141_h$jscomp$208_wrapper$$.parentNode.appendChild($ui$$.sidebarElt),$graph$jscomp$141_h$jscomp$208_wrapper$$.style.left=$ui$$.sidebarElt.style.width)}if("1"==urlParams.lightbox||"0"==urlParams.chrome||"undefined"===typeof window.Format||"undefined"===typeof window.Menus)window.uiTheme=null;else{var $iw$jscomp$0$$=0;try{$iw$jscomp$0$$=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}catch($e$$){}Menus.prototype.autoPopup=
!1;Editor.checkmarkImage=Graph.createSvgImage(22,18,'<path transform="translate(4 0)" d="M7.181,15.007a1,1,0,0,1-.793-0.391L3.222,10.5A1,1,0,1,1,4.808,9.274L7.132,12.3l6.044-8.86A1,1,0,1,1,14.83,4.569l-6.823,10a1,1,0,0,1-.8.437H7.181Z" fill="#29b6f2"/>').src;mxConstraintHandler.prototype.pointImage=Graph.createSvgImage(5,5,'<path d="m 0 0 L 5 5 M 0 5 L 5 0" stroke-width="2" style="stroke-opacity:0.4" stroke="#ffffff"/><path d="m 0 0 L 5 5 M 0 5 L 5 0" stroke="#29b6f2"/>');mxOutline.prototype.sizerImage=
null;mxConstants.VERTEX_SELECTION_COLOR="#C0C0C0";mxConstants.EDGE_SELECTION_COLOR="#C0C0C0";mxConstants.CONNECT_HANDLE_FILLCOLOR="#cee7ff";mxConstants.DEFAULT_VALID_COLOR="#29b6f2";mxConstants.GUIDE_COLOR="#C0C0C0";mxConstants.OUTLINE_COLOR="#29b6f2";mxConstants.OUTLINE_HANDLE_FILLCOLOR="#29b6f2";mxConstants.OUTLINE_HANDLE_STROKECOLOR="#fff";Graph.prototype.svgShadowColor="#3D4574";Graph.prototype.svgShadowOpacity="0.4";Graph.prototype.svgShadowSize="0.6";Graph.prototype.svgShadowBlur="1.2";Format.inactiveTabBackgroundColor=
"#e4e4e4";mxGraphHandler.prototype.previewColor="#C0C0C0";mxRubberband.prototype.defaultOpacity=50;HoverIcons.prototype.inactiveOpacity=25;Format.prototype.showCloseButton=!1;EditorUi.prototype.closableScratchpad=!1;EditorUi.prototype.toolbarHeight=46;EditorUi.prototype.footerHeight=0;Graph.prototype.editAfterInsert=!mxClient.IS_IOS&&!mxClient.IS_ANDROID;Editor.styleElt=document.createElement("style");Editor.styleElt.type="text/css";Editor.styleElt.innerHTML=Editor.createMinimalCss();document.getElementsByTagName("head")[0].appendChild(Editor.styleElt);
Editor.prototype.isChromelessView=function(){return!1};Graph.prototype.isLightboxView=function(){return!1};var $editorUiRefresh$$=EditorUi.prototype.refresh;EditorUi.prototype.refresh=function($sizeDidChange$$){$editorUiRefresh$$.apply(this,arguments);null!=this.tabContainer&&(this.tabContainer.style.right="62px",this.diagramContainer.style.bottom=this.tabContainerHeight+"px")};var $editorUiUpdateActionStates$$=EditorUi.prototype.updateActionStates;EditorUi.prototype.updateActionStates=function(){$editorUiUpdateActionStates$$.apply(this,
arguments);this.menus.get("save").setEnabled(null!=this.getCurrentFile()||"1"==urlParams.embed)};var $menusAddShortcut$$=Menus.prototype.addShortcut;Menus.prototype.addShortcut=function($item$$,$action$$){null!=$action$$.shortcut&&900>$iw$jscomp$0$$&&!mxClient.IS_IOS?$item$$.firstChild.nextSibling.setAttribute("title",$action$$.shortcut):$menusAddShortcut$$.apply(this,arguments)};EditorUi.prototype.toggleFormatPanel=function($visible$$){null!=this.formatWindow?this.formatWindow.window.setVisible(null!=
$visible$$?$visible$$:!this.formatWindow.window.isVisible()):$toggleFormat$$(this)};EditorUi.prototype.isFormatPanelVisible=function(){return null!=this.formatWindow&&this.formatWindow.window.isVisible()||null==this.formatWindow&&0<this.formatWidth};DiagramFormatPanel.prototype.isMathOptionVisible=function(){return!0};var $editorUiDestroy$$=EditorUi.prototype.destroy;EditorUi.prototype.destroy=function(){this.destroyWindows();$editorUiDestroy$$.apply(this,arguments)};var $editorUiSetGraphEnabled$$=
EditorUi.prototype.setGraphEnabled;EditorUi.prototype.setGraphEnabled=function($enabled$$){$editorUiSetGraphEnabled$$.apply(this,arguments);if($enabled$$){var $iw$$=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;1E3<=$iw$$&&null!=this.sidebarWindow&&this.sidebarWindow.window.setVisible(!0);null!=this.formatWindow&&1E3<=$iw$$&&this.formatWindow.window.setVisible(!0)}else null!=this.sidebarWindow&&this.sidebarWindow.window.setVisible(!1),null!=this.formatWindow&&
this.formatWindow.window.setVisible(!1)};EditorUi.prototype.chromelessWindowResize=function(){};var $menusInit$$=Menus.prototype.init;Menus.prototype.init=function(){$menusInit$$.apply(this,arguments);var $ui$$=this.editorUi;EditorUi.enablePlantUml&&!$ui$$.isOffline()&&$ui$$.actions.put("plantUml",new Action(mxResources.get("plantUml")+"...",function(){var $dlg$$=new ParseDialog($ui$$,mxResources.get("plantUml")+"...","plantUml");$ui$$.showDialog($dlg$$.container,620,420,!0,!1);$dlg$$.init()}));$ui$$.actions.put("mermaid",
new Action(mxResources.get("mermaid")+"...",function(){var $dlg$$=new ParseDialog($ui$$,mxResources.get("mermaid")+"...","mermaid");$ui$$.showDialog($dlg$$.container,620,420,!0,!1);$dlg$$.init()}));var $methods$$="horizontalFlow verticalFlow - horizontalTree verticalTree radialTree - organic circle".split(" "),$addInsertItem$$=function($menu$$,$parent$$,$title$$,$method$$){$menu$$.addItem($title$$,null,mxUtils.bind(this,function(){var $dlg$$=new CreateGraphDialog($ui$$,$title$$,$method$$);$ui$$.showDialog($dlg$$.container,
620,420,!0,!1);$dlg$$.init()}),$parent$$)};this.put("insertLayout",new Menu(mxUtils.bind(this,function($menu$$,$parent$$){for(var $i$$=0;$i$$<$methods$$.length;$i$$++)"-"==$methods$$[$i$$]?$menu$$.addSeparator($parent$$):$addInsertItem$$($menu$$,$parent$$,mxResources.get($methods$$[$i$$])+"...",$methods$$[$i$$])})))};EditorUi.prototype.installFormatToolbar=function($container$$){var $graph$$=this.editor.graph,$div$$=document.createElement("div");$div$$.style.cssText="position:absolute;top:10px;z-index:1;border-radius:4px;box-shadow:0px 0px 3px 1px #d1d1d1;padding:6px;white-space:nowrap;background-color:#fff;transform:translate(-50%, 0);left:50%;";
$graph$$.getSelectionModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function($sender$$,$evt$$){0<$graph$$.getSelectionCount()?($container$$.appendChild($div$$),$div$$.innerHTML="Selected: "+$graph$$.getSelectionCount()):null!=$div$$.parentNode&&$div$$.parentNode.removeChild($div$$)}))};var $formatWindowInitialized$$=!1;EditorUi.prototype.initFormatWindow=function(){if(!$formatWindowInitialized$$&&null!=this.formatWindow){$formatWindowInitialized$$=!0;var $toggleMinimized$$=this.formatWindow.window.toggleMinimized,
$w$$=240;this.formatWindow.window.toggleMinimized=function(){$toggleMinimized$$.apply(this,arguments);this.minimized?($w$$=parseInt(this.div.style.width),this.div.style.width="140px",this.table.style.width="140px",this.div.style.left=parseInt(this.div.style.left)+$w$$-140+"px"):(this.div.style.width=$w$$+"px",this.table.style.width=this.div.style.width,this.div.style.left=Math.max(0,parseInt(this.div.style.left)-$w$$+140)+"px");this.fit()};mxEvent.addListener(this.formatWindow.window.title,"dblclick",
mxUtils.bind(this,function($evt$$){mxEvent.getSource($evt$$)==this.formatWindow.window.title&&this.formatWindow.window.toggleMinimized()}))}};var $editorUiInit$$=EditorUi.prototype.init;EditorUi.prototype.init=function(){function $addMenu$$($id$$,$small$$,$img$$){var $menu$$=$ui$$.menus.get($id$$),$elt$$=$menuObj$$.addMenu(mxResources.get($id$$),mxUtils.bind(this,function(){$menu$$.funct.apply(this,arguments)}),$before$$);$elt$$.className="geMenuItem";$elt$$.style.display="inline-block";$elt$$.style.boxSizing=
"border-box";$elt$$.style.top="6px";$elt$$.style.marginRight="6px";$elt$$.style.height="30px";$elt$$.style.paddingTop="6px";$elt$$.style.paddingBottom="6px";$elt$$.style.cursor="pointer";$elt$$.setAttribute("title",mxResources.get($id$$));$ui$$.menus.menuCreated($menu$$,$elt$$,"geMenuItem");null!=$img$$?($elt$$.style.backgroundImage="url("+$img$$+")",$elt$$.style.backgroundPosition="center center",$elt$$.style.backgroundRepeat="no-repeat",$elt$$.style.backgroundSize="24px 24px",$elt$$.style.width=
"34px",$elt$$.innerText=""):$small$$||($elt$$.style.backgroundImage="url("+mxWindow.prototype.normalizeImage+")",$elt$$.style.backgroundPosition="right 6px center",$elt$$.style.backgroundRepeat="no-repeat",$elt$$.style.paddingRight="22px");return $elt$$}function $addMenuItem$$($label$jscomp$28_updateState$$,$fn$$,$small$$,$tooltip$$,$action$$,$img$$){var $btn$$=document.createElement("a");$btn$$.className="geMenuItem";$btn$$.style.display="inline-block";$btn$$.style.boxSizing="border-box";$btn$$.style.height=
"30px";$btn$$.style.padding="6px";$btn$$.style.position="relative";$btn$$.style.verticalAlign="top";$btn$$.style.top="0px";null!=$ui$$.statusContainer?$menubar$$.insertBefore($btn$$,$ui$$.statusContainer):$menubar$$.appendChild($btn$$);null!=$img$$?($btn$$.style.backgroundImage="url("+$img$$+")",$btn$$.style.backgroundPosition="center center",$btn$$.style.backgroundRepeat="no-repeat",$btn$$.style.backgroundSize="24px 24px",$btn$$.style.width="34px"):mxUtils.write($btn$$,$label$jscomp$28_updateState$$);
mxEvent.addListener($btn$$,mxClient.IS_POINTER?"pointerdown":"mousedown",mxUtils.bind(this,function($evt$$){$evt$$.preventDefault()}));mxEvent.addListener($btn$$,"click",function($evt$$){"disabled"!=$btn$$.getAttribute("disabled")&&$fn$$($evt$$);mxEvent.consume($evt$$)});null==$small$$&&($btn$$.style.marginRight="4px");null!=$tooltip$$&&$btn$$.setAttribute("title",$tooltip$$);null!=$action$$&&($label$jscomp$28_updateState$$=function(){$action$$.isEnabled()?($btn$$.removeAttribute("disabled"),$btn$$.style.cursor=
"pointer"):($btn$$.setAttribute("disabled","disabled"),$btn$$.style.cursor="default")},$action$$.addListener("stateChanged",$label$jscomp$28_updateState$$),$graph$$.addListener("enabledChanged",$label$jscomp$28_updateState$$),$label$jscomp$28_updateState$$());return $btn$$}function $createGroup$$($btns$$,$op$$,$btnGroup_container$$){$btnGroup_container$$=document.createElement("div");$btnGroup_container$$.className="geMenuItem";$btnGroup_container$$.style.display="inline-block";$btnGroup_container$$.style.verticalAlign=
"top";$btnGroup_container$$.style.marginRight="6px";$btnGroup_container$$.style.padding="0 4px 0 4px";$btnGroup_container$$.style.height="30px";$btnGroup_container$$.style.position="relative";$btnGroup_container$$.style.top="0px";for(var $i$$=0;$i$$<$btns$$.length;$i$$++)null!=$btns$$[$i$$]&&($btns$$[$i$$].style.margin="0px",$btns$$[$i$$].style.boxShadow="none",$btnGroup_container$$.appendChild($btns$$[$i$$]));null!=$op$$&&mxUtils.setOpacity($btnGroup_container$$,$op$$);null!=$ui$$.statusContainer?
$menubar$$.insertBefore($btnGroup_container$$,$ui$$.statusContainer):$menubar$$.appendChild($btnGroup_container$$);return $btnGroup_container$$}function $refreshMenu$$(){for(var $node$jscomp$84_small$$=$menubar$$.firstChild;null!=$node$jscomp$84_small$$;){var $elt$jscomp$43_temp$$=$node$jscomp$84_small$$.nextSibling;"geMenuItem"!=$node$jscomp$84_small$$.className&&"geItem"!=$node$jscomp$84_small$$.className||$node$jscomp$84_small$$.parentNode.removeChild($node$jscomp$84_small$$);$node$jscomp$84_small$$=
$elt$jscomp$43_temp$$}$before$$=$menubar$$.firstChild;$iw$jscomp$0$$=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;$node$jscomp$84_small$$=1E3>$iw$jscomp$0$$;var $appElt$$=null;$node$jscomp$84_small$$||($appElt$$=$addMenu$$("diagram"));$elt$jscomp$43_temp$$=$node$jscomp$84_small$$?$addMenu$$("diagram",null,Editor.menuImage):null;null!=$elt$jscomp$43_temp$$&&($appElt$$=$elt$jscomp$43_temp$$);$createGroup$$([$appElt$$,$addMenuItem$$(mxResources.get("shapes"),$ui$$.actions.get("toggleShapes").funct,
null,mxResources.get("shapes"),$ui$$.actions.get("image"),$node$jscomp$84_small$$?Editor.shapesImage:null),$addMenuItem$$(mxResources.get("format"),$ui$$.actions.get("format").funct,null,mxResources.get("format")+" ("+$ui$$.actions.get("format").shortcut+")",$ui$$.actions.get("image"),$node$jscomp$84_small$$?Editor.formatImage:null)],$node$jscomp$84_small$$?60:null);$elt$jscomp$43_temp$$=$addMenu$$("insert",!0,$node$jscomp$84_small$$?$insertImage$$:null);$createGroup$$([$elt$jscomp$43_temp$$,$addMenuItem$$(mxResources.get("delete"),
$ui$$.actions.get("delete").funct,null,mxResources.get("delete"),$ui$$.actions.get("delete"),$node$jscomp$84_small$$?Editor.trashImage:null)],$node$jscomp$84_small$$?60:null);411<=$iw$jscomp$0$$&&($createGroup$$([$undoElt$$,$redoElt$$],60),520<=$iw$jscomp$0$$&&$createGroup$$([$fitElt$$,640<=$iw$jscomp$0$$?$addMenuItem$$("",$zoomInAction$$.funct,!0,mxResources.get("zoomIn")+" ("+Editor.ctrlKey+" +)",$zoomInAction$$,Editor.zoomInImage):null,640<=$iw$jscomp$0$$?$addMenuItem$$("",$zoomOutAction$$.funct,
!0,mxResources.get("zoomOut")+" ("+Editor.ctrlKey+" -)",$zoomOutAction$$,Editor.zoomOutImage):null],60))}$editorUiInit$$.apply(this,arguments);var $libs$$=Editor.enableCustomLibraries&&("1"!=urlParams.embed||"1"==urlParams.libraries),$div$jscomp$48_wrapper$$=document.createElement("div");$div$jscomp$48_wrapper$$.style.cssText="position:absolute;left:0px;right:0px;top:0px;overflow-y:auto;overflow-x:hidden;";$div$jscomp$48_wrapper$$.style.bottom=$libs$$?"32px":"0px";this.sidebar=this.createSidebar($div$jscomp$48_wrapper$$);
if(1E3<=$iw$jscomp$0$$||null!=urlParams.clibs||null!=urlParams.libs||null!=urlParams["search-shapes"])$toggleShapes$$(this,!0),null!=this.sidebar&&null!=urlParams["search-shapes"]&&null!=this.sidebar.searchShapes&&(this.sidebar.searchShapes(urlParams["search-shapes"]),this.sidebar.showEntries("search"));EditorUi.windowed&&1E3<=$iw$jscomp$0$$&&($toggleFormat$$(this,!0),this.formatWindow.window.setVisible(!0));var $ui$$=this,$graph$$=$ui$$.editor.graph;$ui$$.toolbar=this.createToolbar($ui$$.createDiv("geToolbar"));
$ui$$.defaultLibraryName=mxResources.get("untitledLibrary");var $menubar$$=document.createElement("div");$menubar$$.className="geMenubarContainer";var $before$$=null,$menuObj$$=new Menubar($ui$$,$menubar$$);$ui$$.statusContainer=$ui$$.createStatusContainer();$ui$$.statusContainer.style.position="relative";$ui$$.statusContainer.style.maxWidth="";$ui$$.statusContainer.style.color="gray";$ui$$.statusContainer.style.cursor="default";var $uiHideCurrentMenu$$=$ui$$.hideCurrentMenu;$ui$$.hideCurrentMenu=
function(){$uiHideCurrentMenu$$.apply(this,arguments);this.editor.graph.popupMenuHandler.hideMenu()};var $uiDescriptorChanged$$=$ui$$.descriptorChanged;$ui$$.descriptorChanged=function(){$uiDescriptorChanged$$.apply(this,arguments);var $file$$=$ui$$.getCurrentFile();if(null!=$file$$&&null!=$file$$.getTitle()){var $mode$$=$file$$.getMode();"google"==$mode$$?$mode$$="googleDrive":"github"==$mode$$?$mode$$="gitHub":"gitlab"==$mode$$?$mode$$="gitLab":"onedrive"==$mode$$&&($mode$$="oneDrive");$mode$$=
mxResources.get($mode$$);$menubar$$.setAttribute("title",$file$$.getTitle()+(null!=$mode$$?" ("+$mode$$+")":""))}else $menubar$$.removeAttribute("title")};$ui$$.setStatusText($ui$$.editor.getStatus());$menubar$$.appendChild($ui$$.statusContainer);$ui$$.buttonContainer=document.createElement("div");$ui$$.buttonContainer.style.cssText="display:flex;justify-content:flex-end;padding-right:10px;gap:6px;white-space:nowrap;background-color:inherit;align-items:center;min-width:0;margin-left:auto;";$menubar$$.appendChild($ui$$.buttonContainer);
$ui$$.menubarContainer=$ui$$.buttonContainer;$ui$$.tabContainer=document.createElement("div");$ui$$.tabContainer.className="geTabContainer geTabItem";$ui$$.tabContainer.style.cssText="position:absolute;left:0px;right:0px;bottom:0px;height:30px;white-space:nowrap;visibility:hidden;";$libs$$=$ui$$.diagramContainer.parentNode;$div$jscomp$48_wrapper$$=document.createElement("div");$div$jscomp$48_wrapper$$.style.cssText="position:absolute;top:0px;left:0px;right:0px;bottom:0px;overflow:hidden;";$ui$$.diagramContainer.style.top=
"47px";var $insertImage$$=Editor.addBoxImage;if(null!=$ui$$.hoverIcons){var $hoverIconsUpdate$$=$ui$$.hoverIcons.update;$ui$$.hoverIcons.update=function(){$graph$$.freehand.isDrawing()||$hoverIconsUpdate$$.apply(this,arguments)}}if(null!=$graph$$.freehand){var $freehandCreateStyle$$=$graph$$.freehand.createStyle;$graph$$.freehand.createStyle=function($stencil$$){return $freehandCreateStyle$$.apply(this,arguments)+"sketch=0;"}}$ui$$.editor.addListener("statusChanged",mxUtils.bind(this,function(){$ui$$.setStatusText($ui$$.editor.getStatus())}));
$ui$$.setStatusText($ui$$.editor.getStatus());var $viewZoomMenu$$=$ui$$.menus.get("viewZoom");if(null!=$viewZoomMenu$$){var $fitFunction$$=function($evt$$){if(mxEvent.isAltDown($evt$$))$ui$$.hideCurrentMenu(),$ui$$.actions.get("customZoom").funct(),mxEvent.consume($evt$$);else if("geMenuItem"==mxEvent.getSource($evt$$).className||mxEvent.isShiftDown($evt$$))$ui$$.hideCurrentMenu(),$ui$$.actions.get("smartFit").funct(),mxEvent.consume($evt$$)},$zoomInAction$$=$ui$$.actions.get("zoomIn"),$zoomOutAction$$=
$ui$$.actions.get("zoomOut"),$resetViewAction$$=$ui$$.actions.get("resetView"),$undoAction$$=$ui$$.actions.get("undo"),$redoAction$$=$ui$$.actions.get("redo"),$undoElt$$=$addMenuItem$$("",$undoAction$$.funct,null,mxResources.get("undo")+" ("+$undoAction$$.shortcut+")",$undoAction$$,Editor.undoImage),$redoElt$$=$addMenuItem$$("",$redoAction$$.funct,null,mxResources.get("redo")+" ("+$redoAction$$.shortcut+")",$redoAction$$,Editor.redoImage),$fitElt$$=$addMenuItem$$("",$fitFunction$$,!0,mxResources.get("fit")+
" ("+Editor.ctrlKey+"+H)",$resetViewAction$$,Editor.zoomFitImage);$menubar$$.style.cssText="position:absolute;left:0px;right:0px;top:0px;height:30px;padding:8px;text-align:left;white-space:nowrap;";this.tabContainer.style.right="70px";var $elt$jscomp$0$$=$menuObj$$.addMenu("100%",$viewZoomMenu$$.funct);$elt$jscomp$0$$.setAttribute("title",mxResources.get("zoom")+" (Alt+Mousewheel)");$elt$jscomp$0$$.className="geTabItem";$elt$jscomp$0$$.style.height=$ui$$.tabContainerHeight+"px";$elt$jscomp$0$$.style.position=
"absolute";$elt$jscomp$0$$.style.display="0"!=urlParams.pages?"flex":"none";$elt$jscomp$0$$.style.alignItems="center";$elt$jscomp$0$$.style.justifyContent="center";$elt$jscomp$0$$.style.paddingRight="11px";$elt$jscomp$0$$.style.whiteSpace="nowrap";$elt$jscomp$0$$.style.overflow="hidden";$elt$jscomp$0$$.style.fontSize="11px";$elt$jscomp$0$$.style.width="51px";$elt$jscomp$0$$.style.right="0px";$elt$jscomp$0$$.style.bottom="0px";$elt$jscomp$0$$.style.boxSizing="content-box";$elt$jscomp$0$$.style.backgroundImage=
"url("+mxWindow.prototype.minimizeImage+")";$elt$jscomp$0$$.style.backgroundPosition="right 6px top 15px";$elt$jscomp$0$$.style.backgroundRepeat="no-repeat";$elt$jscomp$0$$.style.backgroundSize="10px";$elt$jscomp$0$$.style.zIndex="1";$div$jscomp$48_wrapper$$.appendChild($elt$jscomp$0$$);(function($elt$$){mxEvent.addListener($elt$$,"click",$fitFunction$$);var $updateZoom$$=mxUtils.bind(this,function($sender$$,$evt$$,$f$$){$elt$$.innerText="";mxUtils.write($elt$$,Math.round(100*$ui$$.editor.graph.view.scale*
(null!=$f$$?$f$$:1))+"%")});$ui$$.editor.graph.view.addListener(mxEvent.EVENT_SCALE,$updateZoom$$);$ui$$.editor.addListener("resetGraphView",$updateZoom$$);$ui$$.editor.addListener("pageSelected",$updateZoom$$);$ui$$.editor.graph.addListener("zoomPreview",mxUtils.bind(this,function($sender$$,$evt$$){$updateZoom$$($sender$$,$evt$$,$evt$$.getProperty("factor"))}))})($elt$jscomp$0$$);var $uiSetGraphEnabled$$=$ui$$.setGraphEnabled;$ui$$.setGraphEnabled=function(){$uiSetGraphEnabled$$.apply(this,arguments);
null!=this.tabContainer&&($elt$jscomp$0$$.style.visibility=this.tabContainer.style.visibility,this.diagramContainer.style.bottom="0"!=urlParams.pages&&"hidden"!=this.tabContainer.style.visibility?this.tabContainerHeight+"px":"0px")}}$div$jscomp$48_wrapper$$.appendChild($menubar$$);$div$jscomp$48_wrapper$$.appendChild($ui$$.diagramContainer);$libs$$.appendChild($div$jscomp$48_wrapper$$);$ui$$.updateTabContainer();!EditorUi.windowed&&1E3<=$iw$jscomp$0$$&&$toggleFormat$$(this,!0);$div$jscomp$48_wrapper$$.appendChild($ui$$.tabContainer);
$refreshMenu$$();mxEvent.addListener(window,"resize",function(){$refreshMenu$$();null!=$ui$$.sidebarWindow&&$ui$$.sidebarWindow.window.fit();null!=$ui$$.formatWindow&&$ui$$.formatWindow.window.fit();null!=$ui$$.actions.outlineWindow&&$ui$$.actions.outlineWindow.window.fit();null!=$ui$$.actions.layersWindow&&$ui$$.actions.layersWindow.window.fit();null!=$ui$$.menus.chatWindow&&$ui$$.menus.chatWindow.window.fit();null!=$ui$$.menus.tagsWindow&&$ui$$.menus.tagsWindow.window.fit();null!=$ui$$.menus.findWindow&&
$ui$$.menus.findWindow.window.fit();null!=$ui$$.menus.findReplaceWindow&&$ui$$.menus.findReplaceWindow.window.fit()})}}};(function(){var $initialized$$=!1;"min"!=uiTheme||$initialized$$||mxClient.IS_CHROMEAPP||(EditorUi.initMinimalTheme(),$initialized$$=!0);var $uiInitTheme$$=EditorUi.initTheme;EditorUi.initTheme=function(){$uiInitTheme$$.apply(this,arguments);"min"!=uiTheme||$initialized$$||(this.initMinimalTheme(),$initialized$$=!0)}})();DrawioComment=function($file$$,$id$$,$content$$,$modifiedDate$$,$createdDate$$,$isResolved$$,$user$$){this.file=$file$$;this.id=$id$$;this.content=$content$$;this.modifiedDate=$modifiedDate$$;this.createdDate=$createdDate$$;this.isResolved=$isResolved$$;this.user=$user$$;this.replies=[]};DrawioComment.prototype.addReplyDirect=function($reply$$){null!=$reply$$&&this.replies.push($reply$$)};DrawioComment.prototype.addReply=function($reply$$,$success$$,$error$$,$doResolve$$,$doReopen$$){$success$$()};
DrawioComment.prototype.editComment=function($newContent$$,$success$$,$error$$){$success$$()};DrawioComment.prototype.deleteComment=function($success$$,$error$$){$success$$()};DrawioUser=function($id$$,$email$$,$displayName$$,$pictureUrl$$,$locale$$){this.id=$id$$;this.email=$email$$;this.displayName=$displayName$$;this.pictureUrl=$pictureUrl$$;this.locale=$locale$$};mxResources.parse('# *DO NOT DIRECTLY EDIT THIS FILE, IT IS AUTOMATICALLY GENERATED AND IT IS BASED ON:*\n# https://docs.google.com/spreadsheet/ccc?key=0AmQEO36liL4FdDJLWVNMaVV2UmRKSnpXU09MYkdGbEE\nabout=About\naboutDrawio=About draw.io\naccessDenied=Access Denied\naccounts=Accounts\naction=Action\nactualSize=Actual Size\nadd=Add\naddAccount=Add account\naddedFile=Added {1}\naddImages=Add Images\naddImageUrl=Add Image URL\naddLayer=Add Layer\naddProperty=Add Property\naddress=Address\naddToExistingDrawing=Add to Existing Drawing\naddToScratchpad=Add to Scratchpad\naddWaypoint=Add Waypoint\nadjustTo=Adjust to\nadvanced=Advanced\nsmartTemplate=Smart Template\nalign=Align\nalignment=Alignment\nallChangesLost=All changes will be lost!\nallPages=All Pages\nallProjects=All Projects\nallSpaces=All Spaces\nallTags=All Tags\nanchor=Anchor\nandroid=Android\nangle=Angle\narc=Arc\nareYouSure=Are you sure?\nensureDataSaved=Please ensure your data is saved before closing.\nallChangesSaved=All changes saved\nallChangesSavedInDrive=All changes saved in Drive\nallowPopups=Allow pop-ups to avoid this dialog.\nallowRelativeUrl=Allow relative URL\nalreadyConnected=Nodes already connected\nappearance=Appearance\napply=Apply\narchiMate21=ArchiMate 2.1\narrange=Arrange\narrow=Arrow\narrows=Arrows\naskMeAnything=Ask me anything\nasNew=As New\natlas=Atlas\nauthor=Author\nauthorizationRequired=Authorization required\nauthorizeThisAppIn=Authorize this app in {1}:\nauthorize=Authorize\nauthorizing=Authorizing\nautomatic=Automatic\nautosave=Autosave\nautosize=Autosize\nattachments=Attachments\naws=AWS\naws3d=AWS 3D\nazure=Azure\nback=Back\nbackground=Background\nbackgroundColor=Background Color\nbackgroundImage=Background Image\nbasic=Basic\nbeta=beta\nblankDrawing=Blank Drawing\nblankDiagram=Blank Diagram\nblock=Block\nblockquote=Blockquote\nblog=Blog\nbold=Bold\nbootstrap=Bootstrap\nborder=Border\nborderColor=Border Color\nborderWidth=Border Width\nbottom=Bottom\nbottomAlign=Bottom Align\nbottomLeft=Bottom Left\nbottomRight=Bottom Right\nbpmn=BPMN\nbringForward=Bring Forward\nbrowser=Browser\nbulletedList=Bulleted List\nbusiness=Business\nbusy=Operation in progress\ncabinets=Cabinets\ncancel=Cancel\ncenter=Center\ncannotLoad=Load attempts failed. Please try again later.\ncannotLogin=Log in attempts failed. Please try again later.\ncannotOpenFile=Cannot open file\nchange=Change\nchangeOrientation=Change Orientation\nchangeUser=Change user\nchangeStorage=Change storage\nchangesNotSaved=Changes have not been saved\nclassDiagram=Class Diagram\nuserJoined={1} has joined\nuserLeft={1} has left\nchatWindowTitle=Chat\nchooseAnOption=Choose an option\nchromeApp=Chrome App\ncollaborativeEditingNotice=Important Notice for Collaborative Editing\ncompare=Compare\ncompressed=Compressed\ncommitMessage=Commit Message\nconfigLinkWarn=This link configures draw.io. Only click OK if you trust whoever gave you it!\nconfigLinkConfirm=Click OK to configure and restart draw.io.\ncontainer=Container\ncsv=CSV\ndark=Dark\ndiagramLanguage=Diagram Language\ndiagramType=Diagram type\ndiagramXmlDesc=XML File\ndiagramHtmlDesc=HTML File\ndiagramPngDesc=Editable Bitmap Image\ndiagramSvgDesc=Editable Vector Image\ndidYouMeanToExportToPdf=Did you mean to export to PDF?\ndisabled=Disabled\ndraftFound=A draft for \'{1}\' has been found. Load it into the editor or discard it to continue.\ndraftRevisionMismatch=There is a different version of this diagram on a shared draft of this page. Please edit the diagram from the draft to ensure you are working with the latest version.\nselectDraft=Select a draft to continue editing:\ndragAndDropNotSupported=Drag and drop not supported for images. Would you like to import instead?\ndropboxCharsNotAllowed=The following characters are not allowed:  / : ? * " |\ncheck=Check\nchecksum=Checksum\ncircle=Circle\ncisco=Cisco\nclassic=Classic\nclearDefaultStyle=Clear Default Style\nclearWaypoints=Clear Waypoints\nclipart=Clipart\nclose=Close\nclosingFile=Closing file\nrealtimeCollaboration=Real-Time Collaboration\ncollaborate=Collaborate\ncollaborator=Collaborator\ncollaborators=Collaborators\ncollapse=Collapse\ncollapseExpand=Collapse/Expand\ncollapse-expand=Click to collapse/expand\nShift-click to move neighbors \nAlt-click to protect group size\ncollapsible=Collapsible\ncomic=Comic\ncomment=Comment\ncommentsNotes=Comments/Notes\ncompress=Compress\nconfiguration=Configuration\nconnect=Connect\nconnecting=Connecting\nconnectWithDrive=Connect with Google Drive\nconnection=Connection\nconnectionArrows=Connection Arrows\nconnectionPoints=Connection Points\nconstrainProportions=Constrain Proportions\ncontainsValidationErrors=Contains validation errors\ncopiedToClipboard=Copied to clipboard\ncopy=Copy\ncopyConnect=Copy on connect\ncopyCreated=A copy of the file was created.\ncopyData=Copy Data\ncopyOf=Copy of {1}\ncopyOfDrawing=Copy of Drawing\ncopySize=Copy Size\ncopyStyle=Copy Style\ncreate=Create\ncreateBlankDiagram=Create Blank Diagram\ncreateNewDiagram=Create New Diagram\ncreateRevision=Create Revision\ncreateShape=Create Shape\ncrop=Crop\ncurved=Curved\ncustom=Custom\ncurrent=Current\ncurrentPage=Current page\ncut=Cut\ndashed=Dashed\ndecideLater=Decide later\ndefault=Default\ndelete=Delete\ndeleteColumn=Delete Column\ndeleteLibrary401=Insufficient permissions to delete this library\ndeleteLibrary404=Selected library could not be found\ndeleteLibrary500=Error deleting library\ndeleteLibraryConfirm=You are about to permanently delete this library. Are you sure you want to do this?\ndeleteRow=Delete Row\ndescription=Description\ndescribeYourDiagram=Describe your diagram\ndevice=Device\ndiagram=Diagram\ndiagramContent=Diagram Content\ndiagramLocked=Diagram has been locked to prevent further data loss.\ndiagramLockedBySince=The diagram is locked by {1} since {2} ago\ndiagramName=Diagram Name\ndiagramIsPublic=Diagram is public\ndiagramIsNotPublic=Diagram is not public\ndiamond=Diamond\ndiamondThin=Diamond (thin)\ndidYouKnow=Did you know...\ndirection=Direction\ndiscard=Discard\ndiscardChangesAndReconnect=Discard Changes and Reconnect\ngoogleDriveMissingClickHere=Google Drive missing? Click here!\ndiscardChanges=Discard Changes\ndisconnected=Disconnected\ndistribute=Distribute\ndone=Done\ndoNotShowAgain=Do not show again\ndotted=Dotted\ndoubleClickOrientation=Doubleclick to change orientation\ndoubleClickTooltip=Doubleclick to insert text\ndoubleClickChangeProperty=Doubleclick to change property name\ndownload=Download\ndownloadDesktop=Get Desktop\ndownloadAs=Download as\nclickHereToSave=Click here to save.\ndpi=DPI\ndraftDiscarded=Draft discarded\ndraftSaved=Draft saved\ndragElementsHere=Drag elements here\ndragImagesHere=Drag images or URLs here\ndragUrlsHere=Drag URLs here\ndraw.io=draw.io\ndrawing=Drawing{1}\ndrawingEmpty=Drawing is empty\ndrawingTooLarge=Drawing is too large\ndrawioForWork=Draw.io for GSuite\ndropbox=Dropbox\nduplicate=Duplicate\nduplicateIt=Duplicate {1}\ndivider=Divider\ndx=Dx\ndy=Dy\neast=East\nedit=Edit\neditData=Edit Data\neditDiagram=Edit Diagram\neditGeometry=Edit Geometry\neditImage=Edit Image\neditImageUrl=Edit Image URL\neditLink=Edit Link\neditShape=Edit Shape\neditStyle=Edit Style\neditText=Edit Text\neditTooltip=Edit Tooltip\nglass=Glass\ngoogleImages=Google Images\nimageSearch=Image Search\neip=EIP\nembed=Embed\nembedFonts=Embed Fonts\nembedImages=Embed Images\nmainEmbedNotice=Paste this into the page\nelectrical=Electrical\nellipse=Ellipse\nembedNotice=Paste this once at the end of the page\nenterGroup=Enter Group\nenterName=Enter Name\nenterPropertyName=Enter Property Name\nenterValue=Enter Value\nentityRelation=Entity Relation\nentityRelationshipDiagram=Entity Relationship Diagram\nerror=Error\nerrorDeletingFile=Error deleting file\nerrorLoadingFile=Error loading file\nerrorRenamingFile=Error renaming file\nerrorRenamingFileNotFound=Error renaming file. File was not found.\nerrorRenamingFileForbidden=Error renaming file. Insufficient access rights.\nerrorSavingDraft=Error saving draft\nerrorSavingFile=Error saving file\nerrorSavingFileUnknown=Error authorizing with Google\'s servers. Please refresh the page to re-attempt.\nerrorSavingFileForbidden=Error saving file. Insufficient access rights.\nerrorSavingFileNameConflict=Could not save diagram. Current page already contains file named \'{1}\'.\nerrorSavingFileNotFound=Error saving file. File was not found.\nerrorSavingFileReadOnlyMode=Could not save diagram while read-only mode is active.\nerrorSavingFileSessionTimeout=Your session has ended. Please <a target=\'_blank\' href=\'{1}\'>{2}</a> and return to this tab to try to save again.\nerrorSendingFeedback=Error sending feedback.\nerrorUpdatingPreview=Error updating preview.\nexit=Exit\nexitGroup=Exit Group\nexpand=Expand\nexport=Export\nexporting=Exporting\nexportAs=Export as\nexportOptionsDisabled=Export options disabled\nexportOptionsDisabledDetails=The owner has disabled options to download, print or copy for commenters and viewers on this file.\nexternalChanges=External Changes\nextras=Extras\nfacebook=Facebook\nfailedToSaveTryReconnect=Failed to save, trying to reconnect\nfeatureRequest=Feature Request\nfeedback=Feedback\nfeedbackSent=Feedback successfully sent.\nfloorplans=Floorplans\nfile=File\nfileChangedOverwriteDialog=The file has been modified. Do you want to save the file and overwrite those changes?\nfileChangedSyncDialog=The file has been modified.\nfileChangedSync=The file has been modified. Click here to synchronize.\noverwrite=Overwrite\nsynchronize=Synchronize\nfilename=Filename\nfileExists=File already exists\nfileMovedToTrash=File was moved to trash\nfileNearlyFullSeeFaq=File nearly full, please see FAQ\nfileNotFound=File not found\nrepositoryNotFound=Repository not found\nfileNotFoundOrDenied=The file was not found. It does not exist or you do not have access.\nfileNotLoaded=File not loaded\nfileNotSaved=File not saved\nfileOpenLocation=How would you like to open these file(s)?\nfiletypeHtml=.html causes file to save as HTML with redirect to cloud URL\nfiletypePng=.png causes file to save as PNG with embedded data\nfiletypeSvg=.svg causes file to save as SVG with embedded data\nfileWillBeSavedInAppFolder={1} will be saved in the app folder.\nfill=Fill\nfillColor=Fill Color\nfilterCards=Filter Cards\nfind=Find\nfit=Fit\nfitContainer=Resize Container\nfitIntoContainer=Fit into Container\nfitPage=Fit Page\nfitPageWidth=Fit Page Width\nfitTo=Fit to\nfitToSheetsAcross=sheet(s) across\nfitToBy=by\nfitToSheetsDown=sheet(s) down\nfitTwoPages=Two Pages\nfitWindow=Fit Window\nflip=Flip\nflipH=Flip Horizontal\nflipV=Flip Vertical\nflowAnimation=Flow Animation\nflowchart=Flowchart\nfolder=Folder\nfont=Font\nfontColor=Font Color\nfontFamily=Font Family\nfontSize=Font Size\nforbidden=You are not authorized to access this file\nformat=Format\nformatPanel=Format Panel\nformatted=Formatted\nformattedText=Formatted Text\nformatPng=PNG\nformatGif=GIF\nformatJpg=JPEG\nformatPdf=PDF\nformatSql=SQL\nformatSvg=SVG\nformatHtmlEmbedded=HTML\nformatSvgEmbedded=SVG (with XML)\nformatVsdx=VSDX\nformatVssx=VSSX\nformatWebp=WebP\nformatXmlPlain=XML (Plain)\nformatXml=XML\nforum=Discussion/Help Forums\nfreehand=Freehand\nfromTemplate=From Template\nfromTemplateUrl=From Template URL\nfromText=From Text\nfromUrl=From URL\nfromThisPage=From this page\nfullscreen=Fullscreen\ngap=Gap\ngcp=GCP\ngeneral=General\ngetNotionChromeExtension=Get the Notion Chrome Extension\ngithub=GitHub\ngitlab=GitLab\ngliffy=Gliffy\nglobal=Global\ngoogleDocs=Google Docs\ngoogleDrive=Google Drive\ngoogleGadget=Google Gadget\ngoogleSharingNotAvailable=Sharing is only available via Google Drive. Please click Open below and share from the more actions menu:\ngoogleSlides=Google Slides\ngoogleSites=Google Sites\ngoogleSheets=Google Sheets\ngradient=Gradient\ngradientColor=Color\ngrid=Grid\ngridColor=Grid Color\ngridSize=Grid Size\ngroup=Group\nguides=Guides\nhateApp=I hate draw.io\nheading=Heading\nheight=Height\nhelp=Help\nhelpTranslate=Help us translate this application\nhide=Hide\nhideIt=Hide {1}\nhidden=Hidden\nhome=Home\nhorizontal=Horizontal\nhorizontalFlow=Horizontal Flow\nhorizontalTree=Horizontal Tree\nhowTranslate=How good is the translation in your language?\nhtml=HTML\nhtmlText=HTML Text\nid=ID\niframe=IFrame\nignore=Ignore\nimage=Image\nimageUrl=Image URL\nimages=Images\nimagePreviewError=This image couldn\'t be loaded for preview. Please check the URL.\nimageTooBig=Image too big\nimgur=Imgur\nimport=Import\nimportFrom=Import from\nimproveContrast=Improve Contrast\nincludeCopyOfMyDiagram=Include a copy of my diagram\nincreaseIndent=Increase Indent\ndecreaseIndent=Decrease Indent\ninsert=Insert\ninsertColumnBefore=Insert Column Left\ninsertColumnAfter=Insert Column Right\ninsertEllipse=Insert Ellipse\ninsertImage=Insert Image\ninsertHorizontalRule=Insert Horizontal Rule\ninsertLink=Insert Link\ninsertPage=Insert Page\ninsertRectangle=Insert Rectangle\ninsertRhombus=Insert Rhombus\ninsertRowBefore=Insert Row Above\ninsertRowAfter=Insert Row After\ninsertText=Insert Text\ninserting=Inserting\ninstallApp=Install App\ninvalidFilename=Diagram names must not contain the following characters:  / | : ; { } < > & + ? = "\ninvalidLicenseSeeThisPage=Your license is invalid, please see this <a target="_blank" href="https://www.drawio.com/doc/faq/license-drawio-confluence-jira-cloud">page</a>.\ninvalidInput=Invalid input\ninvalidName=Invalid name\ninvalidOrMissingFile=Invalid or missing file\ninvalidPublicUrl=Invalid public URL\nisometric=Isometric\nios=iOS\nitalic=Italic\nkennedy=Kennedy\nkeyboardShortcuts=Keyboard Shortcuts\nlabels=Labels\nlayers=Layers\nlandscape=Landscape\nlanguage=Language\nleanMapping=Lean Mapping\nlastChange=Last change {1} ago\nlessThanAMinute=less than a minute\nlicensingError=Licensing Error\nlicenseHasExpired=The license for {1} has expired on {2}. Click here.\nlicenseRequired=This feature requires draw.io to be licensed.\nlicenseWillExpire=The license for {1} will expire on {2}. Click here.\nlight=Light\nlineJumps=Line jumps\nlinkAccountRequired=If the diagram is not public a Google account is required to view the link.\nlinkText=Link Text\nlist=List\nminute=minute\nminutes=minutes\nhours=hours\ndays=days\nmonths=months\nyears=years\nrestartForChangeRequired=Changes will take effect after a restart of the application.\nlaneColor=Lanecolor\nlanguageCode=Language Code\nlastModified=Last modified\nlayout=Layout\nleft=Left\nleftAlign=Left Align\nleftToRight=Left to right\nlibraryTooltip=Drag and drop shapes here or click + to insert. Double click to edit.\nlightbox=Lightbox\nline=Line\nlineend=Line end\nlineheight=Line Height\nlinestart=Line start\nlinewidth=Linewidth\nlink=Link\nlinks=Links\nloading=Loading\nlockUnlock=Lock/Unlock\nloggedOut=Logged Out\nlogIn=log in\nloveIt=I love {1}\nlucidchart=Lucidchart\nmaps=Maps\nmathematicalTypesetting=Mathematical Typesetting\nmakeCopy=Make a Copy\nmanual=Manual\nmerge=Merge\nmermaid=Mermaid\nmicrosoftOffice=Microsoft Office\nmicrosoftExcel=Microsoft Excel\nmicrosoftPowerPoint=Microsoft PowerPoint\nmicrosoftWord=Microsoft Word\nmiddle=Middle\nminimal=Minimal\nmisc=Misc\nmockups=Mockups\nmodern=Modern\nmodificationDate=Modification date\nmodifiedBy=Modified by\nmore=More\nmoreResults=More Results\nmoreShapes=More Shapes\nmove=Move\nmoveToFolder=Move to Folder\nmoving=Moving\nmoveSelectionTo=Move selection to {1}\nmyDrive=My Drive\nmyFiles=My Files\nname=Name\nnavigation=Navigation\nnetwork=Network\nnetworking=Networking\nnew=New\nnewLibrary=New Library\nnextPage=Next Page\nno=No\nnoPickFolder=No, pick folder\nnoAttachments=No attachments found\nnoColor=No Color\nnoFiles=No Files\nnoFileSelected=No file selected\nnoLibraries=No libraries found\nnoMoreResults=No more results\nnone=None\nnoOtherViewers=No other viewers\nnoPlugins=No plugins\nnoPreview=No preview\nnoResponse=No response from server\nnoResultsFor=No results for \'{1}\'\nnoRevisions=No revisions\nnoSearchResults=No search results found\nnoPageContentOrNotSaved=No anchors found on this page or it hasn\'t been saved yet\nnormal=Normal\nnorth=North\nnotADiagramFile=Not a diagram file\nnotALibraryFile=Not a library file\nnotAvailable=Not available\nnotAUtf8File=Not a UTF-8 file\nnotConnected=Not connected\nnote=Note\nnotion=Notion\nnotSatisfiedWithImport=Not satisfied with the import?\nnotUsingService=Not using {1}?\nnumberedList=Numbered list\noffline=Offline\nok=OK\noneDrive=OneDrive\nonline=Online\nopacity=Opacity\nopen=Open\nopenArrow=Open Arrow\nopenExistingDiagram=Open Existing Diagram\nopenFile=Open File\nopenFrom=Open from\nopenLibrary=Open Library\nopenLibraryFrom=Open Library from\nopenLink=Open Link\nopenInNewWindow=Open in New Window\nopenInThisWindow=Open in This Window\nopenIt=Open {1}\nopenRecent=Open Recent\nopenSupported=Supported formats are files saved from this software (.xml), .vsdx and .gliffy\noptions=Options\norganic=Organic\norgChart=Org Chart\northogonal=Orthogonal\notherViewer=other viewer\notherViewers=other viewers\noutline=Outline\noval=Oval\npage=Page\npageContent=Page Content\npageNotFound=Page not found\npageWithNumber=Page-{1}\npages=Pages\npageTabs=Page Tabs\npageView=Page View\npageSetup=Page Setup\npageScale=Page Scale\npan=Pan\npanTooltip=Space+Drag to pan\npaperSize=Paper Size\npattern=Pattern\nparallels=Parallels\npaste=Paste\npasteData=Paste Data\npasteHere=Paste here\npasteSize=Paste Size\npasteStyle=Paste Style\nperimeter=Perimeter\npermissionAnyone=Anyone can edit\npermissionAuthor=Owner and admins can edit\npickFolder=Pick a folder\npickLibraryDialogTitle=Select Library\npublicDiagramUrl=Public URL of the diagram\nplaceholders=Placeholders\nplantUml=PlantUML\nplugins=Plugins\npluginUrl=Plugin URL\npluginWarning=The page has requested to load the following plugin(s):\n \n {1}\n \n Would you like to load these plugin(s) now?\n \n NOTE : Only allow plugins to run if you fully understand the security implications of doing so.\n\nplusTooltip=Click to connect and clone (ctrl+click to clone, shift+click to connect). Drag to connect (ctrl+drag to clone).\nportrait=Portrait\nposition=Position\nposterPrint=Poster Print\npreferences=Preferences\npreview=Preview\npreviousPage=Previous Page\npresentationMode=Presentation Mode\nprint=Print\nprintAllPages=Print All Pages\nprocEng=Proc. Eng.\nproject=Project\npriority=Priority\nprocessForHiringNewEmployee=Process for hiring a new employee\nproperties=Properties\npublish=Publish\nquickStart=Quick Start Video\nrack=Rack\nradial=Radial\nradialTree=Radial Tree\nreadOnly=Read-only\nreconnecting=Reconnecting\nrecentlyUpdated=Recently Updated\nrecentlyViewed=Recently Viewed\nrectangle=Rectangle\nredirectToNewApp=This file was created or modified in a newer version of this app. You will be redirected now.\nrealtimeTimeout=It looks like you\'ve made a few changes while offline. We\'re sorry, these changes cannot be saved.\nredo=Redo\nrefresh=Refresh\nregularExpression=Regular Expression\nrelative=Relative\nrelativeUrlNotAllowed=Relative URL not allowed\nrememberMe=Remember me\nrememberThisSetting=Remember this setting\nremoveFormat=Clear Formatting\nremoveFromGroup=Remove from Group\nremoveIt=Remove {1}\nremoveWaypoint=Remove Waypoint\nrename=Rename\nrenamed=Renamed\nrenameIt=Rename {1}\nrenaming=Renaming\nreplace=Replace\nreplaceIt={1} already exists. Do you want to replace it?\nreplaceExistingDrawing=Replace existing drawing\nrequired=required\nrequirementDiagram=Requirement Diagram\nreset=Reset\nresetView=Reset View\nresize=Resize\nresizeLargeImages=Do you want to resize large images to make the application run faster?\nretina=Retina\nresponsive=Responsive\nrestore=Restore\nrestoring=Restoring\nretryingIn=Retrying in {1} second(s)\nretryingLoad=Load failed. Retrying...\nretryingLogin=Login time out. Retrying...\nreverse=Reverse\nrevision=Revision\nrevisionHistory=Revision History\nrhombus=Rhombus\nright=Right\nrightAlign=Right Align\nrightToLeft=Right to left\nrotate=Rotate\nrotateTooltip=Click and drag to rotate, click to turn shape only by 90 degrees\nrotation=Rotation\nrounded=Rounded\nsave=Save\nsaveAndExit=Save & Exit\nsaveAs=Save As\nsaveAsXmlFile=Save as XML file?\nsaved=Saved\nsaveDiagramFirst=Please save the diagram first\nsaveDiagramsTo=Save diagrams to\nsaveLibrary403=Insufficient permissions to edit this library\nsaveLibrary500=There was an error while saving the library\nsaveLibraryReadOnly=Could not save library while read-only mode is active\nsaving=Saving\nscratchpad=Scratchpad\nscrollbars=Scrollbars\nsearch=Search\nsearchShapes=Search Shapes\nselectAll=Select All\nselectionOnly=Selection Only\nselectCard=Select Card\nselectEdges=Select Edges\nselectFile=Select File\nselectFolder=Select Folder\nselectFont=Select Font\nselectNone=Select None\nselectTemplate=Select Template\nselectVertices=Select Vertices\nsendBackward=Send Backward\nsendMessage=Send\nsendYourFeedback=Send your feedback\nsequenceDiagram=Sequence Diagram\nserviceUnavailableOrBlocked=Service unavailable or blocked\nsessionExpired=Your session has expired. Please refresh the browser window.\nsessionTimeoutOnSave=Your session has timed out and you have been disconnected from the Google Drive. Press OK to login and save.\nsetAsDefaultStyle=Set as Default Style\nsettings=Settings\nshadow=Shadow\nshape=Shape\nshapes=Shapes\nshare=Share\nshareCursor=Share Mouse Cursor\nshareLink=Link for shared editing\nsharingAvailable=Sharing available for Google Drive and OneDrive files.\nsaveItToGoogleDriveToCollaborate=You\'ll need to save "{1}" to Google Drive before you can collaborate.\nsaveToGoogleDrive=Save to Google Drive\nsharp=Sharp\nshow=Show\nshowRemoteCursors=Show Remote Mouse Cursors\nshowStartScreen=Show Start Screen\nsidebarTooltip=Click or drag and drop shapes. Shift+click to change selection. Alt+click to insert and connect.\nsigns=Signs\nsignOut=Sign out\nsimple=Simple\nsimpleArrow=Simple Arrow\nsimpleViewer=Simple Viewer\nsize=Size\nsketch=Sketch\nsmoothing=Smoothing\nsnapToGrid=Snap to Grid\nsolid=Solid\nsourceSpacing=Source Spacing\nsouth=South\nsoftware=Software\nspace=Space\nspacing=Spacing\nspecialLink=Special Link\nstateDiagram=State Diagram\nstandard=Standard\nstartDrawing=Start drawing\nstopDrawing=Stop drawing\nstarting=Starting\nstraight=Straight\nstrikethrough=Strikethrough\nstrokeColor=Line Color\nstyle=Style\nsubscript=Subscript\nsummary=Summary\nsuperscript=Superscript\nsupport=Support\nswap=Swap\nswimlaneDiagram=Swimlane Diagram\nsysml=SysML\ntags=Tags\ntable=Table\ntables=Tables\ntakeOver=Take Over\ntargetSpacing=Target Spacing\ntemplate=Template\ntemplates=Templates\ntext=Text\ntextAlignment=Text Alignment\ntextOpacity=Text Opacity\ntheme=Theme\ntimeout=Timeout\ntitle=Title\nto=to\ntoBack=To Back\ntoFront=To Front\ntooLargeUseDownload=Too large, use download instead.\ntoolbar=Toolbar\ntooltips=Tooltips\ntop=Top\ntopAlign=Top Align\ntopLeft=Top Left\ntopRight=Top Right\ntransparent=Transparent\ntransparentBackground=Transparent Background\ntrello=Trello\ntryAgain=Try again\ntryOpeningViaThisPage=Try opening via this page\nturn=Rotate shape only by 90\ntype=Type\ntwitter=Twitter\numl=UML\nunassigned=Unassigned\nunderline=Underline\nundo=Undo\nungroup=Ungroup\nunmerge=Unmerge\nunsavedChanges=Unsaved changes\nunsavedChangesClickHereToSave=Unsaved changes. Click here to save.\nuntitled=Untitled\nuntitledDiagram=Untitled Diagram\nuntitledLayer=Untitled Layer\nuntitledLibrary=Untitled Library\nunknownError=Unknown error\nupdateExistingDrawing=Update existing drawing\nupdateFile=Update {1}\nupdatingDocument=Updating Document. Please wait...\nupdatingPreview=Updating Preview. Please wait...\nupdatingSelection=Updating Selection. Please wait...\nupload=Upload\nurl=URL\nuseCurrentSettings=Use current settings\nuseOffline=Use Offline\nuseRootFolder=Use root folder?\nuserManual=User Manual\nvertical=Vertical\nverticalFlow=Vertical Flow\nverticalTree=Vertical Tree\nview=View\nviewerSettings=Viewer Settings\nviewUrl=Link to view: {1}\nvoiceAssistant=Voice Assistant (beta)\nwarning=Warning\nwaypoints=Waypoints\nwest=West\nwhere=Where\nwidth=Width\nwiki=Wiki\nwordWrap=Word Wrap\nwritingDirection=Writing Direction\nyes=Yes\nyourEmailAddress=Your email address\nzoom=Zoom\nzoomIn=Zoom In\nzoomOut=Zoom Out\nbasic=Basic\nbusinessprocess=Business Processes\ncharts=Charts\nengineering=Engineering\nflowcharts=Flowcharts\ngmdl=Material Design\nmindmaps=Mindmaps\nmockups=Mockups\nnetworkdiagrams=Network Diagrams\nnothingIsSelected=Nothing is selected\nother=Other\nsoftwaredesign=Software Design\nvenndiagrams=Venn Diagrams\nwebEmailOrOther=Web, email or any other internet address\nwebLink=Web Link\nwireframes=Wireframes\nproperty=Property\nvalue=Value\nshowMore=Show More\nshowLess=Show Less\nmyDiagrams=My Diagrams\nallDiagrams=All Diagrams\nrecentlyUsed=Recently used\nlistView=List view\ngridView=Grid view\nresultsFor=Results for \'{1}\'\noneDriveCharsNotAllowed=The following characters are not allowed: ~ " # % * : < > ? /  { | }\noneDriveInvalidDeviceName=The specified device name is invalid\nofficeNotLoggedOD=You are not logged in to OneDrive. Please open draw.io task pane and login first.\nofficeSelectSingleDiag=Please select a single draw.io diagram only without other contents.\nofficeSelectDiag=Please select a draw.io diagram.\nofficeCannotFindDiagram=Cannot find a draw.io diagram in the selection\nnoDiagrams=No diagrams found\nauthFailed=Authentication failed\nofficeFailedAuthMsg=Unable to successfully authenticate user or authorize application.\nconvertingDiagramFailed=Converting diagram failed\nofficeCopyImgErrMsg=Due to some limitations in the host application, the image could not be inserted. Please manually copy the image then paste it to the document.\ninsertingImageFailed=Inserting image failed\nofficeCopyImgInst=Instructions: Right-click the image below. Select "Copy image" from the context menu. Then, in the document, right-click and select "Paste" from the context menu.\nfolderEmpty=Folder is empty\nrecent=Recent\nsharedWithMe=Shared With Me\nsharepointSites=Sharepoint Sites\nerrorFetchingFolder=Error fetching folder items\nerrorAuthOD=Error authenticating to OneDrive\nofficeMainHeader=Adds draw.io diagrams to your document.\nofficeStepsHeader=This add-in performs the following steps:\nofficeStep1=Connects to Microsoft OneDrive, Google Drive or your device.\nofficeStep2=Select a draw.io diagram.\nofficeStep3=Insert the diagram into the document.\nofficeAuthPopupInfo=Please complete the authentication in the pop-up window.\nofficeSelDiag=Select draw.io Diagram:\nfiles=Files\nshared=Shared\nsharepoint=Sharepoint\nofficeManualUpdateInst=Instructions: Copy draw.io diagram from the document. Then, in the box below, right-click and select "Paste" from the context menu.\nofficeClickToEdit=Click icon to start editing:\npasteDiagram=Paste draw.io diagram here\nconnectOD=Connect to OneDrive\nselectChildren=Select Children\nselectSiblings=Select Siblings\nselectParent=Select Parent\nselectDescendants=Select Descendants\nlastSaved=Last saved {1} ago\nresolve=Resolve\nreopen=Re-open\nshowResolved=Show Resolved\nreply=Reply\nobjectNotFound=Object not found\nreOpened=Re-opened\nmarkedAsResolved=Marked as resolved\nnoCommentsFound=No comments found\ncomments=Comments\ntimeAgo={1} ago\nconfluenceCloud=Confluence Cloud\nlibraries=Libraries\nconfAnchor=Confluence Page Anchor\nconfTimeout=The connection has timed out\nconfSrvTakeTooLong=The server at {1} is taking too long to respond.\nconfCannotInsertNew=Cannot insert draw.io diagram to a new Confluence page\nconfSaveTry=Please save the page and try again.\nconfCannotGetID=Unable to determine page ID\nconfContactAdmin=Please contact your Confluence administrator.\nreadErr=Read Error\neditingErr=Editing Error\nconfExtEditNotPossible=This diagram cannot be edited externally. Please try editing it while editing the page\nconfEditedExt=Diagram/Page edited externally\ndiagNotFound=Diagram Not Found\nconfEditedExtRefresh=Diagram/Page is edited externally. Please refresh the page.\nconfCannotEditDraftDelOrExt=Cannot edit diagrams in a draft page, diagram is deleted from the page, or diagram is edited externally. Please check the page.\nretBack=Return back\nconfDiagNotPublished=The diagram does not belong to a published page\ncreatedByDraw=Created by draw.io\nfilenameShort=Filename too short\ninvalidChars=Invalid characters\nalreadyExst={1} already exists\ndraftReadErr=Draft Read Error\ndiagCantLoad=Diagram cannot be loaded\ndraftWriteErr=Draft Write Error\ndraftCantCreate=Draft could not be created\nconfDuplName=Duplicate diagram name detected. Please pick another name.\nconfSessionExpired=Looks like your session expired. Log in again to keep working.\nlogin=Login\ndrawPrev=draw.io preview\ndrawDiag=draw.io diagram\ninvalidCallFnNotFound=Invalid Call: {1} not found\ninvalidCallErrOccured=Invalid Call: An error occurred, {1}\nanonymous=Anonymous\nconfGotoPage=Go to containing page\nshowComments=Show Comments\nconfError=Error: {1}\ngliffyImport=Gliffy Import\ngliffyImportInst1=Click the "Start Import" button to import all Gliffy diagrams to draw.io.\ngliffyImportInst2=Please note that the import procedure will take some time and the browser window must remain open until the import is completed.\nstartImport=Start Import\ndrawConfig=draw.io Configuration\ncustomLib=Custom Libraries\ncustomTemp=Custom Templates\npageIdsExp=Page IDs Export\ndrawReindex=draw.io re-indexing (beta)\nworking=Working\ndrawConfigNotFoundInst=draw.io Configuration Space (DRAWIOCONFIG) does not exist. This space is needed to store draw.io configuration files and custom libraries/templates.\ncreateConfSp=Create Config Space\nunexpErrRefresh=Unexpected error, please refresh the page and try again.\nconfigJSONInst=Write draw.io JSON configuration in the editor below then click save. If you need help, please refer to\nthisPage=this page\ncurCustLib=Current Custom Libraries\nlibName=Library Name\naction=Action\ndrawConfID=draw.io Config ID\naddLibInst=Click the "Add Library" button to upload a new library.\naddLib=Add Library\ncustomTempInst1=Custom templates are draw.io diagrams saved in children pages of\ncustomTempInst2=For more details, please refer to\ntempsPage=Templates page\npageIdsExpInst1=Select export target, then click the "Start Export" button to export all pages IDs.\npageIdsExpInst2=Please note that the export procedure will take some time and the browser window must remain open until the export is completed.\nstartExp=Start Export\nrefreshDrawIndex=Refresh draw.io Diagrams Index\nreindexInst1=Click the "Start Indexing" button to refresh draw.io diagrams index.\nreindexInst2=Please note that the indexing procedure will take some time and the browser window must remain open until the indexing is completed.\nstartIndexing=Start Indexing\nconfAPageFoundFetch=Page "{1}" found. Fetching\nconfAAllDiagDone=All {1} diagrams processed. Process finished.\nconfAStartedProcessing=Started processing page "{1}"\nconfAAllDiagInPageDone=All {1} diagrams in page "{2}" processed successfully.\nconfAPartialDiagDone={1} out of {2} {3} diagrams in page "{4}" processed successfully.\nconfAUpdatePageFailed=Updating page "{1}" failed.\nconfANoDiagFoundInPage=No {1} diagrams found in page "{2}".\nconfAFetchPageFailed=Fetching the page failed.\nconfANoDiagFound=No {1} diagrams found. Process finished.\nconfASearchFailed=Searching for {1} diagrams failed. Please try again later.\nconfAGliffyDiagFound={2} diagram "{1}" found. Importing\nconfAGliffyDiagImported={2} diagram "{1}" imported successfully.\nconfASavingImpGliffyFailed=Saving imported {2} diagram "{1}" failed.\nconfAImportedFromByDraw=Imported from "{1}" by draw.io\nconfAImportGliffyFailed=Importing {2} diagram "{1}" failed.\nconfAFetchGliffyFailed=Fetching {2} diagram "{1}" failed.\nconfACheckBrokenDiagLnk=Checking for broken diagrams links.\nconfADelDiagLinkOf=Deleting diagram link of "{1}"\nconfADupLnk=(duplicate link)\nconfADelDiagLnkFailed=Deleting diagram link of "{1}" failed.\nconfAUnexpErrProcessPage=Unexpected error during processing the page with id: {1}\nconfADiagFoundIndex=Diagram "{1}" found. Indexing\nconfADiagIndexSucc=Diagram "{1}" indexed successfully.\nconfAIndexDiagFailed=Indexing diagram "{1}" failed.\nconfASkipDiagOtherPage=Skipped "{1}" as it belongs to another page!\nconfADiagUptoDate=Diagram "{1}" is up to date.\nconfACheckPagesWDraw=Checking pages having draw.io diagrams.\nconfAErrOccured=An error occurred!\nsavedSucc=Saved successfully\nconfASaveFailedErr=Saving Failed (Unexpected Error)\ncharacter=Character\nconfAConfPageDesc=This page contains draw.io configuration file (configuration.json) as attachment\nconfALibPageDesc=This page contains draw.io custom libraries as attachments\nconfATempPageDesc=This page contains draw.io custom templates as attachments\nworking=Working\nconfAConfSpaceDesc=This space is used to store draw.io configuration files and custom libraries/templates\nconfANoCustLib=No Custom Libraries\ndelFailed=Delete failed!\nshowID=Show ID\nconfAIncorrectLibFileType=Incorrect file type. Libraries should be XML files.\nuploading=Uploading\nconfALibExist=This library already exists\nconfAUploadSucc=Uploaded successfully\nconfAUploadFailErr=Upload Failed (Unexpected Error)\nhiResPreview=High Res Preview\nofficeNotLoggedGD=You are not logged in to Google Drive. Please open draw.io task pane and login first.\nofficePopupInfo=Please complete the process in the pop-up window.\npickODFile=Pick OneDrive File\ncreateODFile=Create OneDrive File\npickGDriveFile=Pick Google Drive File\ncreateGDriveFile=Create Google Drive File\npickDeviceFile=Pick Device File\nvsdNoConfig="vsdurl" is not configured\nruler=Ruler\nunits=Units\npoints=Points\ninches=Inches\nmillimeters=Millimeters\nconfEditDraftDelOrExt=This diagram is in a draft page, is deleted from the page, or is edited externally. It will be saved as a new attachment version and may not be reflected in the page.\nconfDiagEditedExt=Diagram is edited in another session. It will be saved as a new attachment version but the page will show other session\'s modifications.\nmacroNotFound=Macro Not Found\nconfAInvalidPageIdsFormat=Incorrect Page IDs file format\nconfACollectingCurPages=Collecting current pages\nconfABuildingPagesMap=Building pages mapping\nconfAProcessDrawDiag=Started processing imported draw.io diagrams\nconfAProcessDrawDiagDone=Finished processing imported draw.io diagrams\nconfAProcessImpPages=Started processing imported pages\nconfAErrPrcsDiagInPage=Error processing draw.io diagrams in page "{1}"\nconfAPrcsDiagInPage=Processing draw.io diagrams in page "{1}"\nconfAImpDiagram=Importing diagram "{1}"\nconfAImpDiagramFailed=Importing diagram "{1}" failed. Cannot find its new page ID. Maybe it points to a page that is not imported.\nconfAImpDiagramError=Error importing diagram "{1}". Cannot fetch or save the diagram. Cannot fix this diagram links.\nconfAUpdateDgrmCCFailed=Updating link to diagram "{1}" failed.\nconfImpDiagramSuccess=Updating diagram "{1}" done successfully.\nconfANoLnksInDrgm=No links to update in: {1}\nconfAUpdateLnkToPg=Updated link to page: "{1}" in diagram: "{2}"\nconfAUpdateLBLnkToPg=Updated lightbox link to page: "{1}" in diagram: "{2}"\nconfAUpdateLnkBase=Updated base URL from: "{1}" to: "{2}" in diagram: "{3}"\nconfAPageIdsImpDone=Page IDs Import finished\nconfAPrcsMacrosInPage=Processing draw.io macros in page "{1}"\nconfAErrFetchPage=Error fetching page "{1}"\nconfAFixingMacro=Fixing macro of diagram "{1}"\nconfAErrReadingExpFile=Error reading export file\nconfAPrcsDiagInPageDone=Processing draw.io diagrams in page "{1}" finished\nconfAFixingMacroSkipped=Fixing macro of diagram "{1}" failed. Cannot find its new page ID. Maybe it points to a page that is not imported.\npageIdsExpTrg=Export target\nconfALucidDiagImgImported={2} diagram "{1}" image extracted successfully\nconfASavingLucidDiagImgFailed=Extracting {2} diagram "{1}" image failed\nconfGetInfoFailed=Fetching file info from {1} failed.\nconfCheckCacheFailed=Cannot get cached file info.\nconfReadFileErr=Cannot read "{1}" file from {2}.\nconfSaveCacheFailed=Unexpected error. Cannot save cached file\norgChartType=Org Chart Type\nlinear=Linear\nhanger2=Hanger 2\nhanger4=Hanger 4\nfishbone1=Fishbone 1\nfishbone2=Fishbone 2\n1ColumnLeft=Single Column Left\n1ColumnRight=Single Column Right\nsmart=Smart\nparentChildSpacing=Parent Child Spacing\nsiblingSpacing=Sibling Spacing\nconfNoPermErr=Sorry, you don\'t have enough permissions to view this embedded diagram from page {1}\ncopyAsImage=Copy as Image\ncopyAsText=Copy as Text\nlucidImport=Lucidchart Import\nlucidImportInst1=Click the "Start Import" button to import all Lucidchart diagrams.\ninstallFirst=Please install {1} first\ndrawioChromeExt=draw.io Chrome Extension\nloginFirstThen=Please login to {1} first, then {2}\nerrFetchDocList=Error: Couldn\'t fetch documents list\nbuiltinPlugins=Built-in Plugins\nextPlugins=External Plugins\nbackupFound=Backup file found\nchromeOnly=This feature only works in Google Chrome\nmsgDeleted=This message has been deleted\nconfAErrFetchDrawList=Error fetching diagrams list. Some diagrams are skipped.\nconfAErrCheckDrawDiag=Cannot check diagram {1}\nconfAErrFetchPageList=Error fetching pages list\nconfADiagImportIncom={1} diagram "{2}" is imported partially and may have missing shapes\ninvalidSel=Invalid selection\ndiagNameEmptyErr=Diagram name cannot be empty\nopenDiagram=Open Diagram\nnewDiagram=New diagram\neditable=Editable\nconfAReimportStarted=Re-import {1} diagrams started...\nspaceFilter=Filter by spaces\ncurViewState=Current Viewer State\npageLayers=Page and Layers\ncustomize=Customize\nfirstPage=First Page (All Layers)\ncurEditorState=Current Editor State\nnoAnchorsFound=No anchors found\nattachment=Attachment\ncurDiagram=Current Diagram\nrecentDiags=Recent Diagrams\ncsvImport=CSV Import\nchooseFile=Choose a file...\nchoose=Choose\ngdriveFname=Google Drive filename\nwidthOfViewer=Width of the viewer (px)\nheightOfViewer=Height of the viewer (px)\nautoSetViewerSize=Automatically set the size of the viewer\nthumbnail=Thumbnail\nprevInDraw=Preview in draw.io\nonedriveFname=OneDrive filename\ndiagFname=Diagram filename\ndiagUrl=Diagram URL\nshowDiag=Show Diagram\ndiagPreview=Diagram Preview\ncsvFileUrl=CSV File URL\ngenerate=Generate\nselectDiag2Insert=Please select a diagram to insert it.\nerrShowingDiag=Unexpected error. Cannot show diagram\nnoRecentDiags=No recent diagrams found\nfetchingRecentFailed=Failed to fetch recent diagrams\nuseSrch2FindDiags=Use the search box to find draw.io diagrams\ncantReadChckPerms=Cannot read the specified diagram. Please check you have read permission on that file.\ncantFetchChckPerms=Cannot fetch diagram info. Please check you have read permission on that file.\nsearchFailed=Searching failed. Please try again later.\nplsTypeStr=Please type a search string.\nunsupportedFileChckUrl=Unsupported file. Please check the specified URL\ndiagNotFoundChckUrl=Diagram not found or cannot be accessed. Please check the specified URL\ncsvNotFoundChckUrl=CSV file not found or cannot be accessed. Please check the specified URL\ncantReadUpload=Cannot read the uploaded diagram\nselect=Select\nerrCantGetIdType=Unexpected Error: Cannot get content id or type.\nerrGAuthWinBlocked=Error: Google Authentication window blocked\nauthDrawAccess=Authorize draw.io to access {1}\nconnTimeout=The connection has timed out\nerrAuthSrvc=Error authenticating to {1}\nplsSelectFile=Please select a file\nmustBgtZ={1} must be greater than zero\ncantLoadPrev=Cannot load file preview.\nerrAccessFile=Error: Access Denied. You do not have permission to access "{1}".\nnoPrevAvail=No preview is available.\npersonalAccNotSup=Personal accounts are not supported.\nerrSavingTryLater=Error occurred during saving, please try again later.\nplsEnterFld=Please enter {1}\ninvalidDiagUrl=Invalid Diagram URL\nunsupportedVsdx=Unsupported vsdx file\nunsupportedImg=Unsupported image file\nunsupportedFormat=Unsupported file format\nplsSelectSingleFile=Please select a single file only\nattCorrupt=Attachment file "{1}" is corrupted\nloadAttFailed=Failed to load attachment "{1}"\nembedDrawDiag=Embed draw.io Diagram\naddDiagram=Add Diagram\nembedDiagram=Embed Diagram\neditOwningPg=Edit owning page\ndeepIndexing=Deep Indexing (Index diagrams that aren\'t used in any page also)\nconfADeepIndexStarted=Deep Indexing Started\nconfADeepIndexDone=Deep Indexing Done\nofficeNoDiagramsSelected=No diagrams found in the selection\nofficeNoDiagramsInDoc=No diagrams found in the document\nofficeNotSupported=This feature is not supported in this host application\nsomeImagesFailed={1} out of {2} failed due to the following errors\nimportingNoUsedDiagrams=Importing {1} Diagrams not used in pages\nimportingDrafts=Importing {1} Diagrams in drafts\nprocessingDrafts=Processing drafts\nupdatingDrafts=Updating drafts\nupdateDrafts=Update drafts\nnotifications=Notifications\ndrawioImp=draw.io Import\nconfALibsImp=Importing draw.io Libraries\nconfALibsImpFailed=Importing {1} library failed\ncontributors=Contributors\ndrawDiagrams=draw.io Diagrams\nerrFileNotFoundOrNoPer=Error: Access Denied. File not found or you do not have permission to access "{1}" on {2}.\nconfACheckPagesWEmbed=Checking pages having embedded draw.io diagrams.\nconfADelBrokenEmbedDiagLnk=Removing broken embedded diagram links\nreplaceWith=Replace with\nreplaceAll=Replace All\nconfASkipDiagModified=Skipped "{1}" as it was modified after initial import\nreplFind=Replace/Find\nmatchesRepl={1} matches replaced\ndraftErrDataLoss=An error occurred while reading the draft file. The diagram cannot be edited now to prevent any possible data loss. Please try again later or contact support.\nibm=IBM\nlinkToDiagramHint=Add a link to this diagram. The diagram can only be edited from the page that owns it.\nlinkToDiagram=Link to Diagram\nchangedBy=Changed By\nlastModifiedOn=Last modified on\nsearchResults=Search Results\nshowAllTemps=Show all templates\nnotionToken=Notion Token\nselectDB=Select Database\nnoDBs=No Databases\ndiagramEdited={1} diagram "{2}" edited\nconfDraftPermissionErr=Draft cannot be written. Do you have attachment write/read permission on this page?\nconfFileTooBigErr=File size is too large. Pease check "Attachment Maximum Size" of "Attachment Settings" in Confluence Configuration.\nowner=Owner\nrepository=Repository\nbranch=Branch\nmeters=Meters\nteamsNoEditingMsg=Editor functionality is only available in Desktop environment (in MS Teams App or a web browser)\ncontactOwner=Contact Owner\nviewerOnlyMsg=You cannot edit the diagrams in the mobile platform, please use the desktop client or a web browser.\nwebsite=Website\ncheck4Updates=Check for updates\nattWriteFailedRetry={1}: Attachment write failed, trying again in {2} seconds...\nconfPartialPageList=We couldn\'t fetch all pages due to an error in Confluence. Continuing using {1} pages only.\nspellCheck=Spell checker\nnoChange=No Change\nlblToSvg=Convert labels to SVG\ntxtSettings=Text Settings\nLinksLost=Links will be lost\narcSize=Arc Size\neditConnectionPoints=Edit Connection Points\nnotInOffline=Not supported while offline\nnotInDesktop=Not supported in Desktop App\nconfConfigSpaceArchived=draw.io Configuration space (DRAWIOCONFIG) is archived. Please restore it first.\nconfACleanOldVerStarted=Cleaning old diagram draft versions started\nconfACleanOldVerDone=Cleaning old diagram draft versions finished\nconfACleaningFile=Cleaning diagram draft "{1}" old versions\nconfAFileCleaned=Cleaning diagram draft "{1}" done\nconfAFileCleanFailed=Cleaning diagram draft "{1}" failed\nconfACleanOnly=Clean Diagram Drafts Only\nbrush=Brush\nopenDevTools=Open Developer Tools\nautoBkp=Automatic Backup\nconfAIgnoreCollectErr=Ignore collecting current pages errors\ndrafts=Drafts\ndraftSaveInt=Draft save interval [sec] (0 to disable)\npluginsDisabled=External plugins disabled.\nextExpNotConfigured=External image service is not configured\npathFilename=Path/Filename\nconfAHugeInstances=Very Large Instances\nconfAHugeInstancesDesc=If this instance includes 100,000+ pages, it is faster to request the current instance pages list from Atlassian. Please contact our support for more details.\nchoosePageIDsFile=Choose current page IDs csv file\nchooseDrawioPsgesFile=Choose pages with draw.io diagrams csv file\nprivate=Private\ndiagramTooLarge=The diagram is too large, please reduce its size and try again.\nselectAdminUsers=Select Admin Users\nxyzTeam={1} Team\naddTeamTitle=Adding a new draw.io Team\naddTeamInst1=To create a new draw.io Team, you need to create a new Atlassian group with "drawio-" prefix (e.g, a group named "drawio-marketing").\naddTeamInst2=Then, configure which team member can edit/add configuration, templates, and libraries from this page.\ndrawioTeams=draw.io Teams\nmembers=Members\nadminEditors=Admins/Editors\nallowAll=Allow all\nnoTeams=No teams found\nerrorLoadingTeams=Error Loading Teams\nnoTeamMembers=No team members found\nerrLoadTMembers=Error loading team members\nerrCreateTeamPage=Error creating team "{1}" page in "draw.io Configuration" space, please check you have the required permissions.\ngotoConfigPage=Please create the space from draw.io "Configuration" page.\nnoAdminsSelected=No admins/editors selected\nerrCreateConfigFile=Error creating "configuration.json" file, please check you have the required permissions.\nerrSetPageRestr=Error setting page restrictions\nnotAdmin4Team=You are not an admin for this team\nconfigUpdated=Configuration updated, restart the editor if you want to work with last configuration.\noutOfDateRevisionAlert=You are editing a historical revision of the diagram, please review the revision and open it to replace the latest version. Or close and overwrite/merge later.\nconfAErrFaqs=There are {1} error(s), the following instructions may help fixing most of the cases. (Please download the log for future references)\nconfA403ErrFaq=There are ({1}) 403 error(s). The current users must have add (write) permissions on all pages and attachments. Even admins sometimes are not allowed to write to some pages via page restrictions\nconfA404ErrFaq=There are ({1}) 404 error(s). The attachment/page is not found. This is due to improper migration or the diagram file (an attachment of the page) is deleted.\nconfA500ErrFaq=There are ({1}) 500 error(s). An internal server error in Confluence Cloud. Such errors are due to overloading the server and usually fixed by retrying the process.\nconfAOtherErrFaq=There are ({1}) other error(s). Please check the error description. If the description is not clear, please contact our support.\nconfAReplaceBaseUrl=Replace Base URL in diagram links when no page ID mapping is found\ndrawSvgPrev=draw.io SVG preview\ngoogleFonts=Google Fonts\ndiagDupl=Duplicate Diagram Detected\ndiagDuplMsg=This diagram is used in multiple places, which can result in unexpected results when edited. We\'ve created an independent copy. Please open the editor again.\ndiagDuplNoEditMsg=This diagram is used in multiple places. Please edit it within its own page.\nconfCloudMigConfirm=Warning: This process will edit many pages and diagrams, so it is recommended to stop the Synchrony service during the process. Do you want to proceed?\nconfCloudMigNotice=In the Cloud instance, please add linkAdjustments to draw.io configuration as follows {1}. Without this configuration, links in diagrams pointing to Confluence pages will not work.\nconfALogsPageDesc=This page contains logs of draw.io long running services as attachments\nconfEditOnlyInPageEditor=Can only be edited within Confluence page editor\n');Graph.prototype.defaultThemes["default-style2"]=mxUtils.parseXml('<mxStylesheet><add as="defaultVertex"><add as="shape" value="label"/><add as="perimeter" value="rectanglePerimeter"/><add as="fontSize" value="12"/><add as="fontFamily" value="Helvetica"/><add as="align" value="center"/><add as="verticalAlign" value="middle"/><add as="fillColor" value="default"/><add as="strokeColor" value="default"/><add as="fontColor" value="default"/></add><add as="defaultEdge"><add as="shape" value="connector"/><add as="labelBackgroundColor" value="default"/><add as="endArrow" value="classic"/><add as="fontSize" value="11"/><add as="fontFamily" value="Helvetica"/><add as="align" value="center"/><add as="verticalAlign" value="middle"/><add as="rounded" value="1"/><add as="strokeColor" value="default"/><add as="fontColor" value="default"/></add><add as="text"><add as="fillColor" value="none"/><add as="gradientColor" value="none"/><add as="strokeColor" value="none"/><add as="align" value="left"/><add as="verticalAlign" value="top"/></add><add as="edgeLabel" extend="text"><add as="labelBackgroundColor" value="default"/><add as="fontSize" value="11"/></add><add as="label"><add as="fontStyle" value="1"/><add as="align" value="left"/><add as="verticalAlign" value="middle"/><add as="spacing" value="2"/><add as="spacingLeft" value="52"/><add as="imageWidth" value="42"/><add as="imageHeight" value="42"/><add as="rounded" value="1"/></add><add as="icon" extend="label"><add as="align" value="center"/><add as="imageAlign" value="center"/><add as="verticalLabelPosition" value="bottom"/><add as="verticalAlign" value="top"/><add as="spacingTop" value="4"/><add as="labelBackgroundColor" value="default"/><add as="spacing" value="0"/><add as="spacingLeft" value="0"/><add as="spacingTop" value="6"/><add as="fontStyle" value="0"/><add as="imageWidth" value="48"/><add as="imageHeight" value="48"/></add><add as="swimlane"><add as="shape" value="swimlane"/><add as="fontSize" value="12"/><add as="fontStyle" value="1"/><add as="startSize" value="23"/></add><add as="group"><add as="verticalAlign" value="top"/><add as="fillColor" value="none"/><add as="strokeColor" value="none"/><add as="gradientColor" value="none"/><add as="pointerEvents" value="0"/></add><add as="ellipse"><add as="shape" value="ellipse"/><add as="perimeter" value="ellipsePerimeter"/></add><add as="rhombus"><add as="shape" value="rhombus"/><add as="perimeter" value="rhombusPerimeter"/></add><add as="triangle"><add as="shape" value="triangle"/><add as="perimeter" value="trianglePerimeter"/></add><add as="line"><add as="shape" value="line"/><add as="strokeWidth" value="4"/><add as="labelBackgroundColor" value="default"/><add as="verticalAlign" value="top"/><add as="spacingTop" value="8"/></add><add as="image"><add as="shape" value="image"/><add as="labelBackgroundColor" value="default"/><add as="verticalAlign" value="top"/><add as="verticalLabelPosition" value="bottom"/></add><add as="roundImage" extend="image"><add as="perimeter" value="ellipsePerimeter"/></add><add as="rhombusImage" extend="image"><add as="perimeter" value="rhombusPerimeter"/></add><add as="arrow"><add as="shape" value="arrow"/><add as="edgeStyle" value="none"/><add as="fillColor" value="default"/></add><add as="fancy"><add as="shadow" value="1"/><add as="glass" value="1"/></add><add as="gray" extend="fancy"><add as="gradientColor" value="#B3B3B3"/><add as="fillColor" value="#F5F5F5"/><add as="strokeColor" value="#666666"/></add><add as="blue" extend="fancy"><add as="gradientColor" value="#7EA6E0"/><add as="fillColor" value="#DAE8FC"/><add as="strokeColor" value="#6C8EBF"/></add><add as="green" extend="fancy"><add as="gradientColor" value="#97D077"/><add as="fillColor" value="#D5E8D4"/><add as="strokeColor" value="#82B366"/></add><add as="turquoise" extend="fancy"><add as="gradientColor" value="#67AB9F"/><add as="fillColor" value="#D5E8D4"/><add as="strokeColor" value="#6A9153"/></add><add as="yellow" extend="fancy"><add as="gradientColor" value="#FFD966"/><add as="fillColor" value="#FFF2CC"/><add as="strokeColor" value="#D6B656"/></add><add as="orange" extend="fancy"><add as="gradientColor" value="#FFA500"/><add as="fillColor" value="#FFCD28"/><add as="strokeColor" value="#D79B00"/></add><add as="red" extend="fancy"><add as="gradientColor" value="#EA6B66"/><add as="fillColor" value="#F8CECC"/><add as="strokeColor" value="#B85450"/></add><add as="pink" extend="fancy"><add as="gradientColor" value="#B5739D"/><add as="fillColor" value="#E6D0DE"/><add as="strokeColor" value="#996185"/></add><add as="purple" extend="fancy"><add as="gradientColor" value="#8C6C9C"/><add as="fillColor" value="#E1D5E7"/><add as="strokeColor" value="#9673A6"/></add><add as="plain-gray"><add as="gradientColor" value="#B3B3B3"/><add as="fillColor" value="#F5F5F5"/><add as="strokeColor" value="#666666"/></add><add as="plain-blue"><add as="gradientColor" value="#7EA6E0"/><add as="fillColor" value="#DAE8FC"/><add as="strokeColor" value="#6C8EBF"/></add><add as="plain-green"><add as="gradientColor" value="#97D077"/><add as="fillColor" value="#D5E8D4"/><add as="strokeColor" value="#82B366"/></add><add as="plain-turquoise"><add as="gradientColor" value="#67AB9F"/><add as="fillColor" value="#D5E8D4"/><add as="strokeColor" value="#6A9153"/></add><add as="plain-yellow"><add as="gradientColor" value="#FFD966"/><add as="fillColor" value="#FFF2CC"/><add as="strokeColor" value="#D6B656"/></add><add as="plain-orange"><add as="gradientColor" value="#FFA500"/><add as="fillColor" value="#FFCD28"/><add as="strokeColor" value="#D79B00"/></add><add as="plain-red"><add as="gradientColor" value="#EA6B66"/><add as="fillColor" value="#F8CECC"/><add as="strokeColor" value="#B85450"/></add><add as="plain-pink"><add as="gradientColor" value="#B5739D"/><add as="fillColor" value="#E6D0DE"/><add as="strokeColor" value="#996185"/></add><add as="plain-purple"><add as="gradientColor" value="#8C6C9C"/><add as="fillColor" value="#E1D5E7"/><add as="strokeColor" value="#9673A6"/></add></mxStylesheet>').documentElement;
Graph.prototype.defaultThemes.darkTheme=Graph.prototype.defaultThemes["default-style2"];Editor.currentTheme="";window.uiTheme="";GraphViewer=function($container$$,$xmlNode$$,$graphConfig$$){this.init($container$$,$xmlNode$$,$graphConfig$$)};mxUtils.extend(GraphViewer,mxEventSource);GraphViewer.prototype.editBlankUrl="1"==urlParams.dev?"https://test.draw.io/":"https://app.diagrams.net/";GraphViewer.prototype.imageBaseUrl=window.DRAWIO_BASE_URL+"/";GraphViewer.prototype.toolbarHeight="BackCompat"==document.compatMode?24:26;GraphViewer.prototype.lightboxChrome=!0;
GraphViewer.prototype.lightboxZIndex=999;GraphViewer.prototype.toolbarZIndex=999;GraphViewer.prototype.autoFit=!1;GraphViewer.prototype.autoCrop=!1;GraphViewer.prototype.autoOrigin=!0;GraphViewer.prototype.center=!1;GraphViewer.prototype.forceCenter=!1;GraphViewer.prototype.allowZoomIn=!1;GraphViewer.prototype.allowZoomOut=!0;GraphViewer.prototype.showTitleAsTooltip=!1;GraphViewer.prototype.checkVisibleState=!0;GraphViewer.prototype.minHeight=28;GraphViewer.prototype.minWidth=100;
GraphViewer.prototype.responsive=!1;GraphViewer.prototype.darkMode=!1;
GraphViewer.prototype.init=function($container$$,$xmlNode$$,$MutObs_graphConfig$$){this.graphConfig=null!=$MutObs_graphConfig$$?$MutObs_graphConfig$$:{};this.autoFit=null!=this.graphConfig["auto-fit"]?this.graphConfig["auto-fit"]:this.autoFit;this.autoCrop=null!=this.graphConfig["auto-crop"]?this.graphConfig["auto-crop"]:this.autoCrop;this.autoOrigin=null!=this.graphConfig["auto-origin"]?this.graphConfig["auto-origin"]:this.autoOrigin;this.allowZoomOut=null!=this.graphConfig["allow-zoom-out"]?this.graphConfig["allow-zoom-out"]:
this.allowZoomOut;this.allowZoomIn=null!=this.graphConfig["allow-zoom-in"]?this.graphConfig["allow-zoom-in"]:this.allowZoomIn;this.forceCenter=null!=this.graphConfig.forceCenter?this.graphConfig.forceCenter:this.forceCenter;this.center=null!=this.graphConfig.center?this.graphConfig.center:this.center||this.forceCenter;this.checkVisibleState=null!=this.graphConfig["check-visible-state"]?this.graphConfig["check-visible-state"]:this.checkVisibleState;this.darkMode=null!=this.graphConfig["dark-mode"]?
this.graphConfig["dark-mode"]:this.darkMode;this.toolbarItems=null!=this.graphConfig.toolbar?this.graphConfig.toolbar.split(" "):[];this.zoomEnabled=0<=mxUtils.indexOf(this.toolbarItems,"zoom");this.layersEnabled=0<=mxUtils.indexOf(this.toolbarItems,"layers");this.tagsEnabled=0<=mxUtils.indexOf(this.toolbarItems,"tags");this.lightboxEnabled=0<=mxUtils.indexOf(this.toolbarItems,"lightbox");this.lightboxClickEnabled=0!=this.graphConfig.lightbox;this.initialOverflow=document.body.style.overflow;this.initialWidth=
null!=$container$$?$container$$.style.width:null;this.widthIsEmpty=null!=this.initialWidth?""==this.initialWidth:!0;this.currentPage=parseInt(this.graphConfig.page)||0;this.responsive=(null!=this.graphConfig.responsive?this.graphConfig.responsive:this.responsive)&&!this.zoomEnabled&&!mxClient.NO_FO&&!mxClient.IS_SF;this.pageId=this.graphConfig.pageId;this.editor=null;var $self$$=this;"inline"==this.graphConfig["toolbar-position"]&&(this.minHeight+=this.toolbarHeight);if(null!=$xmlNode$$&&(this.xmlDocument=
$xmlNode$$.ownerDocument,this.xmlNode=$xmlNode$$,this.xml=mxUtils.getXml($xmlNode$$),null!=$container$$)){var $render$$=mxUtils.bind(this,function(){this.graph=new Graph($container$$);this.darkMode&&(Editor.enableCssDarkMode?$container$$.classList.add("geDarkMode"):EditorUi.setGraphDarkMode(this.graph,null,!0));this.graph.enableFlowAnimation=!0;this.graph.defaultPageBackgroundColor="transparent";this.graph.diagramBackgroundColor="transparent";this.graph.transparentBackground=!1;if(this.responsive&&
this.graph.dialect==mxConstants.DIALECT_SVG){var $root$$=this.graph.view.getDrawPane().ownerSVGElement;null!=this.graphConfig.border?$root$$.style.padding=this.graphConfig.border+"px":""==$container$$.style.padding&&($root$$.style.padding="8px");$root$$.style.boxSizing="border-box";$root$$.style.overflow="visible";this.graph.fit=function(){};this.graph.sizeDidChange=function(){var $bounds$$=this.view.graphBounds,$tr$$=this.view.translate;$root$$.setAttribute("viewBox",$bounds$$.x+$tr$$.x-this.panDx+
" "+($bounds$$.y+$tr$$.y-this.panDy)+" "+($bounds$$.width+1)+" "+($bounds$$.height+1));this.container.style.backgroundColor=$root$$.style.backgroundColor;this.fireEvent(new mxEventObject(mxEvent.SIZE,"bounds",$bounds$$))}}this.graphConfig.move&&(this.graph.isMoveCellsEvent=function($evt$$){return!0});this.lightboxClickEnabled&&($container$$.style.cursor="pointer");this.editor=new Editor(!0,null,null,this.graph);this.editor.editBlankUrl=this.editBlankUrl;this.graph.lightbox=!0;this.graph.centerZoom=
!1;this.graph.autoExtend=!1;this.graph.autoScroll=!1;this.graph.setEnabled(!1);1==this.graphConfig["toolbar-nohide"]&&(this.editor.defaultGraphOverflow="visible");var $i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$=this.editor.extractGraphModel(this.xmlNode,!0);if(null!=$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$&&$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$!=$xmlNode$$)try{this.xml=mxUtils.getXml($i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$),this.xmlNode=$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$,
this.xmlDocument=$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$.ownerDocument}catch($e$$){}this.graph.getImageFromBundles=function($key$$){return $self$$.getImageUrl($key$$)};mxClient.IS_SVG&&this.graph.addSvgShadow(this.graph.view.canvas.ownerSVGElement,null,!0);if("mxfile"==this.xmlNode.nodeName){var $diagrams$$=this.xmlNode.getElementsByTagName("diagram");if(0<$diagrams$$.length){if(null!=this.pageId)for($i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$=0;$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$<
$diagrams$$.length;$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$++)if(this.pageId==$diagrams$$[$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$].getAttribute("id")){this.currentPage=$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$;break}var $graphGetGlobalVariable$$=this.graph.getGlobalVariable;this.graph.getGlobalVariable=function($name$$){var $diagram$$=$diagrams$$[$self$$.currentPage];return"page"==$name$$?$diagram$$.getAttribute("name")||"Page-"+($self$$.currentPage+1):"pagenumber"==
$name$$?$self$$.currentPage+1:"pagecount"==$name$$?$diagrams$$.length:$graphGetGlobalVariable$$.apply(this,arguments)}}}this.diagrams=[];var $lastXmlNode$$=null;this.selectPage=function($number$$){this.handlingResize||(this.currentPage=mxUtils.mod($number$$,this.diagrams.length),this.updateGraphXml(Editor.parseDiagramNode(this.diagrams[this.currentPage])))};this.selectPageById=function($id$jscomp$37_index$$){$id$jscomp$37_index$$=this.getIndexById($id$jscomp$37_index$$);var $found$$=0<=$id$jscomp$37_index$$;
$found$$&&this.selectPage($id$jscomp$37_index$$);return $found$$};$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$=mxUtils.bind(this,function(){if(null==this.xmlNode||"mxfile"!=this.xmlNode.nodeName)this.diagrams=[];this.xmlNode!=$lastXmlNode$$&&(this.diagrams=this.xmlNode.getElementsByTagName("diagram"),$lastXmlNode$$=this.xmlNode)});var $graphSetBackgroundImage$$=this.graph.setBackgroundImage;this.graph.setBackgroundImage=function($img$$){if(null!=$img$$&&Graph.isPageLink($img$$.src)){var $src$$=
$img$$.src,$comma$jscomp$6_index$$=$src$$.indexOf(",");0<$comma$jscomp$6_index$$&&($comma$jscomp$6_index$$=$self$$.getIndexById($src$$.substring($comma$jscomp$6_index$$+1)),0<=$comma$jscomp$6_index$$&&($img$$=$self$$.getImageForGraphModel(Editor.parseDiagramNode($self$$.diagrams[$comma$jscomp$6_index$$])),$img$$.originalSrc=$src$$))}$graphSetBackgroundImage$$.apply(this,arguments)};var $graphGetGraphBounds$$=this.graph.getGraphBounds;this.graph.getGraphBounds=function($img$$){var $bounds$$=$graphGetGraphBounds$$.apply(this,
arguments);$img$$=this.backgroundImage;if(null!=$img$$){var $t$$=this.view.translate,$s$$=this.view.scale;$bounds$$=mxRectangle.fromRectangle($bounds$$);$bounds$$.add(new mxRectangle(($t$$.x+$img$$.x)*$s$$,($t$$.y+$img$$.y)*$s$$,$img$$.width*$s$$,$img$$.height*$s$$))}return $bounds$$};this.addListener("xmlNodeChanged",$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$);$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$();urlParams.page=$self$$.currentPage;$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$=
null;this.graph.getModel().beginUpdate();try{urlParams.nav=0!=this.graphConfig.nav?"1":"0",this.editor.setGraphXml(this.xmlNode),this.graph.view.scale=this.graphConfig.zoom||1,$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$=this.setLayersVisible(),this.responsive||(this.graph.border=null!=this.graphConfig.border?this.graphConfig.border:8)}finally{this.graph.getModel().endUpdate()}this.responsive||(this.graph.panningHandler.isForcePanningEvent=function($me$$){return!mxEvent.isPopupTrigger($me$$.getEvent())&&
"auto"==this.graph.container.style.overflow},this.graph.panningHandler.useLeftButtonForPanning=!0,this.graph.panningHandler.ignoreCell=!0,this.graph.panningHandler.usePopupTrigger=!1,this.graph.panningHandler.pinchEnabled=!1);this.graph.setPanning(!1);null!=this.graphConfig.toolbar?this.addToolbar():null!=this.graphConfig.title&&this.showTitleAsTooltip&&$container$$.setAttribute("title",this.graphConfig.titleTooltip||this.graphConfig.title);this.responsive||this.addSizeHandler();!this.showLayers(this.graph)||
this.forceCenter||this.layersEnabled&&!this.autoCrop||this.crop();this.addClickHandler(this.graph);this.graph.setTooltips(0!=this.graphConfig.tooltips);this.graph.initialViewState={translate:this.graph.view.translate.clone(),scale:this.graph.view.scale};null!=$i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$&&this.setLayersVisible($i$jscomp$307_temp$jscomp$69_update$jscomp$3_visible$$);this.graph.customLinkClicked=function($href$$,$associatedCell$$){try{if(Graph.isPageLink($href$$)){var $comma$$=
$href$$.indexOf(",");$self$$.selectPageById($href$$.substring($comma$$+1))||alert(mxResources.get("pageNotFound")||"Page not found")}else{var $bounds$$=this.getGraphBounds();this.handleCustomLink($href$$,$associatedCell$$);$bounds$$.equals(this.getGraphBounds())||$self$$.crop()}}catch($e$52$$){alert($e$52$$.message)}return!0};var $graphFoldTreeCell$$=this.graph.foldTreeCell;this.graph.foldTreeCell=mxUtils.bind(this,function(){this.treeCellFolded=!0;return $graphFoldTreeCell$$.apply(this.graph,arguments)});
this.fireEvent(new mxEventObject("render"))});$MutObs_graphConfig$$=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(this.checkVisibleState&&0==$container$$.offsetWidth&&null==this.getAncestorDetails($container$$)&&"undefined"!==typeof $MutObs_graphConfig$$){var $par$$=this.getObservableParent($container$$),$observer$$=new $MutObs_graphConfig$$(mxUtils.bind(this,function($mutation$$){0<$container$$.offsetWidth&&($observer$$.disconnect(),$render$$())}));$observer$$.observe($par$$,
{attributes:!0})}else $render$$()}};GraphViewer.prototype.getAncestorDetails=function($container$$){for(;null!=$container$$;){if("DETAILS"==$container$$.nodeName)return $container$$;$container$$=$container$$.parentNode}return null};
GraphViewer.prototype.getObservableParent=function($container$jscomp$29_node$$){for($container$jscomp$29_node$$=$container$jscomp$29_node$$.parentNode;$container$jscomp$29_node$$!=document.body&&null!=$container$jscomp$29_node$$.parentNode&&"none"!==mxUtils.getCurrentStyle($container$jscomp$29_node$$).display;)$container$jscomp$29_node$$=$container$jscomp$29_node$$.parentNode;return $container$jscomp$29_node$$};
GraphViewer.prototype.getImageUrl=function($url$$){null!=$url$$&&"http://"!=$url$$.substring(0,7)&&"https://"!=$url$$.substring(0,8)&&"data:image"!=$url$$.substring(0,10)&&("/"==$url$$.charAt(0)&&($url$$=$url$$.substring(1,$url$$.length)),$url$$=this.imageBaseUrl+$url$$);return $url$$};
GraphViewer.prototype.getImageForGraphModel=function($node$jscomp$86_root$jscomp$14_svgRoot$$){var $graph$$=Graph.createOffscreenGraph(this.graph.getStylesheet());$graph$$.getGlobalVariable=this.graph.getGlobalVariable;document.body.appendChild($graph$$.container);$node$jscomp$86_root$jscomp$14_svgRoot$$=(new mxCodec($node$jscomp$86_root$jscomp$14_svgRoot$$.ownerDocument)).decode($node$jscomp$86_root$jscomp$14_svgRoot$$).root;$graph$$.model.setRoot($node$jscomp$86_root$jscomp$14_svgRoot$$);$node$jscomp$86_root$jscomp$14_svgRoot$$=
$graph$$.getSvg();var $bounds$$=$graph$$.getGraphBounds();document.body.removeChild($graph$$.container);return new mxImage(Editor.createSvgDataUri(mxUtils.getXml($node$jscomp$86_root$jscomp$14_svgRoot$$)),$bounds$$.width,$bounds$$.height,$bounds$$.x,$bounds$$.y)};GraphViewer.prototype.getIndexById=function($id$$){if(null!=this.diagrams)for(var $i$$=0;$i$$<this.diagrams.length;$i$$++)if(this.diagrams[$i$$].getAttribute("id")==$id$$)return $i$$;return-1};
GraphViewer.prototype.setXmlNode=function($xmlNode$$){$xmlNode$$=this.editor.extractGraphModel($xmlNode$$,!0);this.xmlDocument=$xmlNode$$.ownerDocument;this.xml=mxUtils.getXml($xmlNode$$);this.xmlNode=$xmlNode$$;this.updateGraphXml($xmlNode$$);this.fireEvent(new mxEventObject("xmlNodeChanged"))};GraphViewer.prototype.setFileNode=function($xmlNode$$){null==this.xmlNode&&(this.xmlDocument=$xmlNode$$.ownerDocument,this.xml=mxUtils.getXml($xmlNode$$),this.xmlNode=$xmlNode$$);this.setGraphXml($xmlNode$$)};
GraphViewer.prototype.updateGraphXml=function($xmlNode$$){this.setGraphXml($xmlNode$$);this.fireEvent(new mxEventObject("graphChanged"))};
GraphViewer.prototype.setLayersVisible=function($visible$$){var $allVisible$$=!0;if(!this.autoOrigin){var $result$$=[],$model$$=this.graph.getModel();$model$$.beginUpdate();try{for(var $i$$=0;$i$$<$model$$.getChildCount($model$$.root);$i$$++){var $layer$$=$model$$.getChildAt($model$$.root,$i$$);$allVisible$$=$allVisible$$&&$model$$.isVisible($layer$$);$result$$.push($model$$.isVisible($layer$$));$model$$.setVisible($layer$$,null!=$visible$$?$visible$$[$i$$]:!0)}}finally{$model$$.endUpdate()}}return $allVisible$$?
null:$result$$};
GraphViewer.prototype.setGraphXml=function($xmlNode$$){if(null!=this.graph){this.graph.view.translate=new mxPoint;this.graph.view.scale=1;var $visible$$=null;this.graph.getModel().beginUpdate();try{this.graph.getModel().clear(),this.editor.setGraphXml($xmlNode$$),$visible$$=this.setLayersVisible(!0)}finally{this.graph.getModel().endUpdate()}this.responsive||(this.widthIsEmpty?(this.graph.container.style.width="",this.graph.container.style.height=""):this.graph.container.style.width=this.initialWidth,
this.positionGraph());this.graph.initialViewState={translate:this.graph.view.translate.clone(),scale:this.graph.view.scale};$visible$$&&this.setLayersVisible($visible$$)}};
GraphViewer.prototype.addSizeHandler=function(){var $container$$=this.graph.container,$bounds$$=this.graph.getGraphBounds(),$updatingOverflow$$=!1;$container$$.style.overflow=1!=this.graphConfig["toolbar-nohide"]?"hidden":"visible";var $doResize$$=mxUtils.bind(this,function(){if(!$updatingOverflow$$){$updatingOverflow$$=!0;var $r$jscomp$16_tmp$$=this.graph.getGraphBounds();$container$$.style.overflow=1!=this.graphConfig["toolbar-nohide"]?$r$jscomp$16_tmp$$.width+2*this.graph.border>$container$$.offsetWidth-
2?"auto":"hidden":"visible";if(null!=this.toolbar&&1!=this.graphConfig["toolbar-nohide"]){$r$jscomp$16_tmp$$=$container$$.getBoundingClientRect();var $b$jscomp$25_origin$$=mxUtils.getScrollOrigin(document.body);$b$jscomp$25_origin$$="relative"===document.body.style.position?document.body.getBoundingClientRect():{left:-$b$jscomp$25_origin$$.x,top:-$b$jscomp$25_origin$$.y};$r$jscomp$16_tmp$$={left:$r$jscomp$16_tmp$$.left-$b$jscomp$25_origin$$.left,top:$r$jscomp$16_tmp$$.top-$b$jscomp$25_origin$$.top,
bottom:$r$jscomp$16_tmp$$.bottom-$b$jscomp$25_origin$$.top,right:$r$jscomp$16_tmp$$.right-$b$jscomp$25_origin$$.left};this.toolbar.style.left=$r$jscomp$16_tmp$$.left+"px";"bottom"==this.graphConfig["toolbar-position"]?this.toolbar.style.top=$r$jscomp$16_tmp$$.bottom-1+"px":"inline"!=this.graphConfig["toolbar-position"]?(this.toolbar.style.width=Math.max(this.minToolbarWidth,$container$$.offsetWidth)+"px",this.toolbar.style.top=$r$jscomp$16_tmp$$.top+1+"px"):this.toolbar.style.top=$r$jscomp$16_tmp$$.top+
"px"}else null!=this.toolbar&&(this.toolbar.style.width=Math.max(this.minToolbarWidth,$container$$.offsetWidth)+"px");this.treeCellFolded&&(this.treeCellFolded=!1,this.positionGraph(this.graph.view.translate),this.graph.initialViewState.translate=this.graph.view.translate.clone());$updatingOverflow$$=!1}}),$lastOffsetWidth$$=null;this.handlingResize=!1;this.fitGraph=mxUtils.bind(this,function($maxScale$$){var $cachedOffsetWidth$$=$container$$.offsetWidth;$cachedOffsetWidth$$==$lastOffsetWidth$$||
this.handlingResize||(this.handlingResize=!0,"auto"==$container$$.style.overflow&&($container$$.style.overflow="hidden"),this.graph.maxFitScale=null!=$maxScale$$?$maxScale$$:this.graphConfig.zoom||(this.allowZoomIn?null:1),this.graph.fit(null,null,null,null,null,!0),(this.center||0==this.graphConfig.resize&&""!=$container$$.style.height)&&this.graph.center(),this.graph.maxFitScale=null,0==this.graphConfig.resize&&""!=$container$$.style.height||this.updateContainerHeight($container$$,Math.max(this.minHeight,
this.graph.getGraphBounds().height+2*this.graph.border+1)),this.graph.initialViewState={translate:this.graph.view.translate.clone(),scale:this.graph.view.scale},$lastOffsetWidth$$=$cachedOffsetWidth$$,window.setTimeout(mxUtils.bind(this,function(){this.handlingResize=!1}),0))});GraphViewer.useResizeSensor&&(9>=document.documentMode?(mxEvent.addListener(window,"resize",$doResize$$),this.graph.addListener("size",$doResize$$)):new ResizeSensor(this.graph.container,$doResize$$));if(this.graphConfig.resize||
(this.zoomEnabled||!this.autoFit)&&0!=this.graphConfig.resize)this.graph.minimumContainerSize=new mxRectangle(0,0,this.minWidth,this.minHeight),this.graph.resizeContainer=!0;else if(!this.widthIsEmpty||""!=$container$$.style.height&&this.autoFit||this.updateContainerWidth($container$$,$bounds$$.width+2*this.graph.border),0==this.graphConfig.resize&&""!=$container$$.style.height||this.updateContainerHeight($container$$,Math.max(this.minHeight,$bounds$$.height+2*this.graph.border+1)),!this.zoomEnabled&&
this.autoFit){var $scheduledResize$$=$lastOffsetWidth$$=null;$doResize$$=mxUtils.bind(this,function(){window.clearTimeout($scheduledResize$$);this.handlingResize||($scheduledResize$$=window.setTimeout(mxUtils.bind(this,this.fitGraph),100))});GraphViewer.useResizeSensor&&(9>=document.documentMode?mxEvent.addListener(window,"resize",$doResize$$):new ResizeSensor(this.graph.container,$doResize$$))}else 9>=document.documentMode||this.graph.addListener("size",$doResize$$);var $positionGraph$$=mxUtils.bind(this,
function($maxScale$jscomp$2_origin$$){var $prev$$=$container$$.style.minWidth;this.widthIsEmpty&&($container$$.style.minWidth="100%");var $maxHeight$$=null!=this.graphConfig["max-height"]?this.graphConfig["max-height"]:""!=$container$$.style.height&&this.autoFit?$container$$.offsetHeight:void 0;0<$container$$.offsetWidth&&null==$maxScale$jscomp$2_origin$$&&this.allowZoomOut&&(this.allowZoomIn||$bounds$$.width+2*this.graph.border>$container$$.offsetWidth||$bounds$$.height+2*this.graph.border>$maxHeight$$)?
($maxScale$jscomp$2_origin$$=null,null!=$maxHeight$$&&$bounds$$.height+2*this.graph.border>$maxHeight$$-2&&($maxScale$jscomp$2_origin$$=($maxHeight$$-2*this.graph.border-2)/$bounds$$.height),this.fitGraph($maxScale$jscomp$2_origin$$)):this.widthIsEmpty||null!=$maxScale$jscomp$2_origin$$||0!=this.graphConfig.resize||""==$container$$.style.height?($maxScale$jscomp$2_origin$$=null!=$maxScale$jscomp$2_origin$$?$maxScale$jscomp$2_origin$$:new mxPoint,this.graph.view.setTranslate(Math.floor(this.graph.border-
$bounds$$.x/this.graph.view.scale)+$maxScale$jscomp$2_origin$$.x,Math.floor(this.graph.border-$bounds$$.y/this.graph.view.scale)+$maxScale$jscomp$2_origin$$.y),$lastOffsetWidth$$=$container$$.offsetWidth):this.graph.center((!this.widthIsEmpty||$bounds$$.width<this.minWidth)&&1!=this.graphConfig.resize);$container$$.style.minWidth=$prev$$});8==document.documentMode?window.setTimeout($positionGraph$$,0):$positionGraph$$();this.positionGraph=function($origin$$){$bounds$$=this.graph.getGraphBounds();
$lastOffsetWidth$$=null;$positionGraph$$($origin$$)}};GraphViewer.prototype.crop=function(){var $graph$$=this.graph,$bounds$$=$graph$$.getGraphBounds(),$border$$=$graph$$.border,$s$$=$graph$$.view.scale;$graph$$.view.setTranslate(null!=$bounds$$.x?Math.floor($graph$$.view.translate.x-$bounds$$.x/$s$$+$border$$):$border$$,null!=$bounds$$.y?Math.floor($graph$$.view.translate.y-$bounds$$.y/$s$$+$border$$):$border$$)};
GraphViewer.prototype.updateContainerWidth=function($container$$,$width$$){$container$$.style.width=$width$$+"px"};GraphViewer.prototype.updateContainerHeight=function($container$$,$height$$){if(this.forceCenter||this.zoomEnabled||!this.autoFit||"BackCompat"==document.compatMode||8==document.documentMode)$container$$.style.height=$height$$+"px"};
GraphViewer.prototype.showLayers=function($graph$jscomp$146_model$$,$layersFound_source$jscomp$54_sourceGraph$$){var $idx$jscomp$19_layers$$=this.graphConfig.layers;$idx$jscomp$19_layers$$=null!=$idx$jscomp$19_layers$$&&0<$idx$jscomp$19_layers$$.length?$idx$jscomp$19_layers$$.split(" "):[];var $layerIds$$=this.graphConfig.layerIds,$hasLayerIds$$=null!=$layerIds$$&&0<$layerIds$$.length,$result$$=!1;if(0<$idx$jscomp$19_layers$$.length||$hasLayerIds$$||null!=$layersFound_source$jscomp$54_sourceGraph$$){$layersFound_source$jscomp$54_sourceGraph$$=
null!=$layersFound_source$jscomp$54_sourceGraph$$?$layersFound_source$jscomp$54_sourceGraph$$.getModel():null;$graph$jscomp$146_model$$=$graph$jscomp$146_model$$.getModel();$graph$jscomp$146_model$$.beginUpdate();try{var $childCount$$=$graph$jscomp$146_model$$.getChildCount($graph$jscomp$146_model$$.root);if(null==$layersFound_source$jscomp$54_sourceGraph$$){$layersFound_source$jscomp$54_sourceGraph$$=!1;$result$$={};if($hasLayerIds$$)for(var $i$$=0;$i$$<$layerIds$$.length;$i$$++){var $layer$$=$graph$jscomp$146_model$$.getCell($layerIds$$[$i$$]);
null!=$layer$$&&($layersFound_source$jscomp$54_sourceGraph$$=!0,$result$$[$layer$$.id]=!0)}else for($i$$=0;$i$$<$idx$jscomp$19_layers$$.length;$i$$++)$layer$$=$graph$jscomp$146_model$$.getChildAt($graph$jscomp$146_model$$.root,parseInt($idx$jscomp$19_layers$$[$i$$])),null!=$layer$$&&($layersFound_source$jscomp$54_sourceGraph$$=!0,$result$$[$layer$$.id]=!0);for($i$$=0;$layersFound_source$jscomp$54_sourceGraph$$&&$i$$<$childCount$$;$i$$++)$layer$$=$graph$jscomp$146_model$$.getChildAt($graph$jscomp$146_model$$.root,
$i$$),$graph$jscomp$146_model$$.setVisible($layer$$,$result$$[$layer$$.id]||!1)}else for($i$$=0;$i$$<$childCount$$;$i$$++)$graph$jscomp$146_model$$.setVisible($graph$jscomp$146_model$$.getChildAt($graph$jscomp$146_model$$.root,$i$$),$layersFound_source$jscomp$54_sourceGraph$$.isVisible($layersFound_source$jscomp$54_sourceGraph$$.getChildAt($layersFound_source$jscomp$54_sourceGraph$$.root,$i$$)))}finally{$graph$jscomp$146_model$$.endUpdate()}$result$$=!0}return $result$$};
GraphViewer.prototype.addToolbar=function(){var $container$$=this.graph.container;"bottom"==this.graphConfig["toolbar-position"]?$container$$.style.marginBottom=this.toolbarHeight+"px":"inline"!=this.graphConfig["toolbar-position"]&&($container$$.style.marginTop=this.toolbarHeight+"px");var $toolbar$$=$container$$.ownerDocument.createElement("div");$toolbar$$.style.display="flex";$toolbar$$.style.alignItems="center";$toolbar$$.style.position="absolute";$toolbar$$.style.overflow="hidden";$toolbar$$.style.boxSizing=
"border-box";$toolbar$$.style.whiteSpace="nowrap";$toolbar$$.style.textAlign="left";$toolbar$$.style.zIndex=this.toolbarZIndex;$toolbar$$.style.backgroundColor="#eee";$toolbar$$.style.height=this.toolbarHeight+"px";this.darkMode&&(Editor.enableCssDarkMode?$toolbar$$.classList.add("geDarkMode"):$toolbar$$.style.filter="invert(1)");this.toolbar=$toolbar$$;if("inline"==this.graphConfig["toolbar-position"]){mxUtils.setPrefixedStyle($toolbar$$.style,"transition","opacity 100ms ease-in-out");mxUtils.setOpacity($toolbar$$,
30);var $fadeThread$$=null,$fadeThread2$$=null,$fadeOut$$=mxUtils.bind(this,function($delay$$){null!=$fadeThread$$&&(window.clearTimeout($fadeThread$$),fadeThead=null);null!=$fadeThread2$$&&(window.clearTimeout($fadeThread2$$),fadeThead2=null);$fadeThread$$=window.setTimeout(mxUtils.bind(this,function(){mxUtils.setOpacity($toolbar$$,0);$fadeThread$$=null;$fadeThread2$$=window.setTimeout(mxUtils.bind(this,function(){$toolbar$$.style.display="none";$fadeThread2$$=null}),100)}),$delay$$||200)}),$fadeIn$$=
mxUtils.bind(this,function($opacity$$){null!=$fadeThread$$&&(window.clearTimeout($fadeThread$$),fadeThead=null);null!=$fadeThread2$$&&(window.clearTimeout($fadeThread2$$),fadeThead2=null);$toolbar$$.style.display="";mxUtils.setOpacity($toolbar$$,$opacity$$||30)});mxEvent.addListener(this.graph.container,mxClient.IS_POINTER?"pointermove":"mousemove",mxUtils.bind(this,function($evt$$){mxEvent.isTouchEvent($evt$$)||($fadeIn$$(30),$fadeOut$$())}));mxEvent.addListener($toolbar$$,mxClient.IS_POINTER?"pointermove":
"mousemove",function($evt$$){mxEvent.consume($evt$$)});mxEvent.addListener($toolbar$$,"mouseenter",mxUtils.bind(this,function($evt$$){$fadeIn$$(100)}));mxEvent.addListener($toolbar$$,"mousemove",mxUtils.bind(this,function($evt$$){$fadeIn$$(100);mxEvent.consume($evt$$)}));mxEvent.addListener($toolbar$$,"mouseleave",mxUtils.bind(this,function($evt$$){mxEvent.isTouchEvent($evt$$)||$fadeIn$$(30)}));var $graph$$=this.graph,$tol$$=$graph$$.getTolerance();$graph$$.addMouseListener({startX:0,startY:0,scrollLeft:0,
scrollTop:0,mouseDown:function($sender$$,$me$$){this.startX=$me$$.getGraphX();this.startY=$me$$.getGraphY();this.scrollLeft=$graph$$.container.scrollLeft;this.scrollTop=$graph$$.container.scrollTop},mouseMove:function($sender$$,$me$$){},mouseUp:function($sender$$,$me$$){mxEvent.isTouchEvent($me$$.getEvent())&&Math.abs(this.scrollLeft-$graph$$.container.scrollLeft)<$tol$$&&Math.abs(this.scrollTop-$graph$$.container.scrollTop)<$tol$$&&Math.abs(this.startX-$me$$.getGraphX())<$tol$$&&Math.abs(this.startY-
$me$$.getGraphY())<$tol$$&&(0<parseFloat($toolbar$$.style.opacity||0)?$fadeOut$$():$fadeIn$$(30))}})}for(var $filename$jscomp$31_tokens$$=this.toolbarItems,$buttonCount$$=0,$addButton$$=mxUtils.bind(this,function($a$jscomp$12_fn$$,$imgSrc$$,$tip$$,$enabled$$){$a$jscomp$12_fn$$=this.createToolbarButton($a$jscomp$12_fn$$,$imgSrc$$,$tip$$,$enabled$$);$toolbar$$.appendChild($a$jscomp$12_fn$$);$buttonCount$$++;return $a$jscomp$12_fn$$}),$model$$=this.graph.getModel(),$layersDialog$$=null,$tagsComponent$$=
null,$tagsDialog$$=null,$pageInfo$$=null,$i$$=0;$i$$<$filename$jscomp$31_tokens$$.length;$i$$++){var $def$jscomp$1_token$jscomp$7_update$$=$filename$jscomp$31_tokens$$[$i$$];if("pages"==$def$jscomp$1_token$jscomp$7_update$$){$pageInfo$$=$container$$.ownerDocument.createElement("div");$pageInfo$$.style.cssText="display:inline-flex;position:relative;align-items:center;padding:4px;font-family:Helvetica,Arial;font-size:12px;;cursor:default;color:#000;";mxUtils.setOpacity($pageInfo$$,70);var $prevButton$$=
$addButton$$(mxUtils.bind(this,function(){this.selectPage(this.currentPage-1)}),Editor.previousImage,mxResources.get("previousPage")||"Previous Page");$prevButton$$.style.borderRightStyle="none";$prevButton$$.style.paddingLeft="0px";$prevButton$$.style.paddingRight="0px";$toolbar$$.appendChild($pageInfo$$);var $nextButton$$=$addButton$$(mxUtils.bind(this,function(){this.selectPage(this.currentPage+1)}),Editor.nextImage,mxResources.get("nextPage")||"Next Page");$nextButton$$.style.paddingLeft="0px";
$nextButton$$.style.paddingRight="0px";$def$jscomp$1_token$jscomp$7_update$$=mxUtils.bind(this,function(){$pageInfo$$.innerText="";mxUtils.write($pageInfo$$,this.currentPage+1+" / "+this.diagrams.length);$pageInfo$$.style.display=1<this.diagrams.length?"inline-flex":"none";$prevButton$$.style.display=$pageInfo$$.style.display;$nextButton$$.style.display=$pageInfo$$.style.display});this.addListener("graphChanged",$def$jscomp$1_token$jscomp$7_update$$);$def$jscomp$1_token$jscomp$7_update$$()}else if("zoom"==
$def$jscomp$1_token$jscomp$7_update$$)this.zoomEnabled&&($addButton$$(mxUtils.bind(this,function(){this.graph.zoomOut()}),Editor.zoomOutImage,mxResources.get("zoomOut")||"Zoom Out"),$addButton$$(mxUtils.bind(this,function(){this.graph.zoomIn()}),Editor.zoomInImage,mxResources.get("zoomIn")||"Zoom In"),$addButton$$(mxUtils.bind(this,function(){this.graph.view.scaleAndTranslate(this.graph.initialViewState.scale,this.graph.initialViewState.translate.x,this.graph.initialViewState.translate.y)}),Editor.zoomFitImage,
mxResources.get("fit")||"Fit"));else if("layers"==$def$jscomp$1_token$jscomp$7_update$$){if(this.layersEnabled){var $layersButton$$=$addButton$$(mxUtils.bind(this,function($evt$jscomp$327_r$$){if(null!=$layersDialog$$)$layersDialog$$.parentNode.removeChild($layersDialog$$),$layersDialog$$=null;else{$layersDialog$$=this.graph.createLayersDialog(mxUtils.bind(this,function(){if(this.autoCrop)this.crop();else if(this.autoOrigin){var $bounds$$=this.graph.getGraphBounds(),$v$$=this.graph.view;0>$bounds$$.x||
0>$bounds$$.y?(this.crop(),this.graph.originalViewState=this.graph.initialViewState,this.graph.initialViewState={translate:$v$$.translate.clone(),scale:$v$$.scale}):null!=this.graph.originalViewState&&0<$bounds$$.x/$v$$.scale+this.graph.originalViewState.translate.x-$v$$.translate.x&&0<$bounds$$.y/$v$$.scale+this.graph.originalViewState.translate.y-$v$$.translate.y&&($v$$.setTranslate(this.graph.originalViewState.translate.x,this.graph.originalViewState.translate.y),this.graph.originalViewState=null,
this.graph.initialViewState={translate:$v$$.translate.clone(),scale:$v$$.scale})}}));mxEvent.addListener($layersDialog$$,"mouseleave",function(){$layersDialog$$.parentNode.removeChild($layersDialog$$);$layersDialog$$=null});$evt$jscomp$327_r$$=$layersButton$$.getBoundingClientRect();$layersDialog$$.style.width="140px";$layersDialog$$.style.padding="2px 0px 2px 0px";$layersDialog$$.style.border="1px solid #d0d0d0";$layersDialog$$.style.backgroundColor="#eee";$layersDialog$$.style.fontFamily=Editor.defaultHtmlFont;
$layersDialog$$.style.fontSize="11px";$layersDialog$$.style.overflowY="auto";$layersDialog$$.style.maxHeight=this.graph.container.clientHeight-this.toolbarHeight-10+"px";$layersDialog$$.style.zIndex=this.toolbarZIndex+1;$layersDialog$$.style.color="#000";mxUtils.setOpacity($layersDialog$$,85);var $origin$$=mxUtils.getDocumentScrollOrigin(document);$layersDialog$$.style.left=$origin$$.x+$evt$jscomp$327_r$$.left-1+"px";$layersDialog$$.style.top=$origin$$.y+$evt$jscomp$327_r$$.bottom-2+"px";this.darkMode&&
($layersDialog$$.style.filter="invert(93%) hue-rotate(180deg)");document.body.appendChild($layersDialog$$)}}),Editor.layersImage,mxResources.get("layers")||"Layers");$model$$.addListener(mxEvent.CHANGE,function(){$layersButton$$.style.display=1<$model$$.getChildCount($model$$.root)?"inline-flex":"none"});$layersButton$$.style.display=1<$model$$.getChildCount($model$$.root)?"inline-flex":"none"}}else if("tags"==$def$jscomp$1_token$jscomp$7_update$$){if(this.tagsEnabled){var $tagsButton$$=$addButton$$(mxUtils.bind(this,
function($evt$jscomp$328_r$$){null==$tagsComponent$$&&($tagsComponent$$=this.graph.createTagsDialog(mxUtils.bind(this,function(){return!0})),$tagsComponent$$.div.getElementsByTagName("div")[0].style.position="",$tagsComponent$$.div.style.maxHeight="160px",$tagsComponent$$.div.style.maxWidth="120px",$tagsComponent$$.div.style.padding="2px",$tagsComponent$$.div.style.overflow="auto",$tagsComponent$$.div.style.height="auto",$tagsComponent$$.div.style.position="fixed",$tagsComponent$$.div.style.fontFamily=
Editor.defaultHtmlFont,$tagsComponent$$.div.style.fontSize="11px",$tagsComponent$$.div.style.backgroundColor="#eee",$tagsComponent$$.div.style.color="#000",$tagsComponent$$.div.style.border="1px solid #d0d0d0",$tagsComponent$$.div.style.zIndex=this.toolbarZIndex+1,this.darkMode&&($tagsComponent$$.div.style.filter="invert(93%) hue-rotate(180deg)"),mxUtils.setOpacity($tagsComponent$$.div,85));if(null!=$tagsDialog$$)$tagsDialog$$.parentNode.removeChild($tagsDialog$$),$tagsDialog$$=null;else{$tagsDialog$$=
$tagsComponent$$.div;$tagsDialog$$.style.position="absolute";mxEvent.addListener($tagsDialog$$,"mouseleave",function(){null!=$tagsDialog$$&&($tagsDialog$$.parentNode.removeChild($tagsDialog$$),$tagsDialog$$=null)});$evt$jscomp$328_r$$=$tagsButton$$.getBoundingClientRect();var $origin$$=mxUtils.getDocumentScrollOrigin(document);$tagsDialog$$.style.left=$origin$$.x+$evt$jscomp$328_r$$.left-1+"px";$tagsDialog$$.style.top=$origin$$.y+$evt$jscomp$328_r$$.bottom-2+"px";document.body.appendChild($tagsDialog$$);
$tagsComponent$$.refresh()}}),Editor.tagsImage,mxResources.get("tags")||"Tags");$model$$.addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){$tagsButton$$.style.display=0<this.graph.getAllTags().length?"inline-flex":"none";null!=$tagsDialog$$&&0==this.graph.getAllTags().length&&($tagsDialog$$.parentNode.removeChild($tagsDialog$$),$tagsDialog$$=null)}));$tagsButton$$.style.display=0<this.graph.getAllTags().length?"inline-flex":"none"}}else"lightbox"==$def$jscomp$1_token$jscomp$7_update$$?this.lightboxEnabled&&
$addButton$$(mxUtils.bind(this,function(){try{this.showLightbox()}catch($e$$){alert($e$$.message)}}),Editor.fullscreenImage,mxResources.get("fullscreen")||"Fullscreen"):null!=this.graphConfig["toolbar-buttons"]&&($def$jscomp$1_token$jscomp$7_update$$=this.graphConfig["toolbar-buttons"][$def$jscomp$1_token$jscomp$7_update$$],null!=$def$jscomp$1_token$jscomp$7_update$$&&($def$jscomp$1_token$jscomp$7_update$$.elem=$addButton$$(null==$def$jscomp$1_token$jscomp$7_update$$.enabled||$def$jscomp$1_token$jscomp$7_update$$.enabled?
$def$jscomp$1_token$jscomp$7_update$$.handler:function(){},$def$jscomp$1_token$jscomp$7_update$$.image,$def$jscomp$1_token$jscomp$7_update$$.title,$def$jscomp$1_token$jscomp$7_update$$.enabled)))}null!=this.graph.minimumContainerSize&&(this.graph.minimumContainerSize.width=34*$buttonCount$$);null!=this.graphConfig.title&&($filename$jscomp$31_tokens$$=$container$$.ownerDocument.createElement("div"),$filename$jscomp$31_tokens$$.style.cssText="display:inline-flex;position:relative;align-items:center;padding:6px;font-family:Helvetica,Arial;font-size:12px;cursor:default;color:#000;",
$filename$jscomp$31_tokens$$.setAttribute("title",this.graphConfig.titleTooltip||this.graphConfig.title),mxUtils.write($filename$jscomp$31_tokens$$,this.graphConfig.title),mxUtils.setOpacity($filename$jscomp$31_tokens$$,70),$toolbar$$.appendChild($filename$jscomp$31_tokens$$),this.filename=$filename$jscomp$31_tokens$$);this.minToolbarWidth=34*$buttonCount$$;var $prevBorder$$=$container$$.style.border,$enter$$=mxUtils.bind(this,function(){$toolbar$$.style.width="inline"==this.graphConfig["toolbar-position"]?
"auto":Math.max(this.minToolbarWidth,$container$$.offsetWidth)+"px";$toolbar$$.style.border="1px solid #d0d0d0";if(1!=this.graphConfig["toolbar-nohide"]){var $r$$=$container$$.getBoundingClientRect(),$b$jscomp$26_origin$$=mxUtils.getScrollOrigin(document.body);$b$jscomp$26_origin$$="relative"===document.body.style.position?document.body.getBoundingClientRect():{left:-$b$jscomp$26_origin$$.x,top:-$b$jscomp$26_origin$$.y};$r$$={left:$r$$.left-$b$jscomp$26_origin$$.left,top:$r$$.top-$b$jscomp$26_origin$$.top,
bottom:$r$$.bottom-$b$jscomp$26_origin$$.top,right:$r$$.right-$b$jscomp$26_origin$$.left};$toolbar$$.style.left=$r$$.left+"px";"bottom"==this.graphConfig["toolbar-position"]?$toolbar$$.style.top=$r$$.bottom-1+"px":"inline"!=this.graphConfig["toolbar-position"]?($toolbar$$.style.marginTop=-this.toolbarHeight+"px",$toolbar$$.style.top=$r$$.top+1+"px"):$toolbar$$.style.top=$r$$.top+"px";"1px solid transparent"==$prevBorder$$&&($container$$.style.border="1px solid #d0d0d0");document.body.appendChild($toolbar$$);
var $hideToolbar$$=mxUtils.bind(this,function(){null!=$toolbar$$.parentNode&&$toolbar$$.parentNode.removeChild($toolbar$$);null!=$tagsDialog$$&&($tagsDialog$$.parentNode.removeChild($tagsDialog$$),$tagsDialog$$=null);null!=$layersDialog$$&&($layersDialog$$.parentNode.removeChild($layersDialog$$),$layersDialog$$=null);$container$$.style.border=$prevBorder$$});mxEvent.addListener(document,"mousemove",function($evt$jscomp$329_source$$){for($evt$jscomp$329_source$$=mxEvent.getSource($evt$jscomp$329_source$$);null!=
$evt$jscomp$329_source$$;){if($evt$jscomp$329_source$$==$container$$||$evt$jscomp$329_source$$==$toolbar$$||$evt$jscomp$329_source$$==$layersDialog$$||$evt$jscomp$329_source$$==$tagsDialog$$)return;$evt$jscomp$329_source$$=$evt$jscomp$329_source$$.parentNode}$hideToolbar$$()});mxEvent.addListener(document.body,"mouseleave",function($evt$$){$hideToolbar$$()})}else $toolbar$$.style.top=-this.toolbarHeight+"px",$toolbar$$.classList.remove("geDarkMode"),$container$$.appendChild($toolbar$$)});1!=this.graphConfig["toolbar-nohide"]?
mxEvent.addListener($container$$,"mouseenter",$enter$$):$enter$$();this.responsive&&"undefined"!==typeof ResizeObserver&&(new ResizeObserver(function(){null!=$toolbar$$.parentNode&&$enter$$()})).observe($container$$)};
GraphViewer.prototype.createToolbarButton=function($fn$jscomp$70_img$$,$imgSrc$$,$tip$$,$enabled$$){var $a$$=document.createElement("div");$a$$.style.borderRight="1px solid #d0d0d0";$a$$.style.display="inline-flex";$a$$.style.alignItems="center";$a$$.style.padding="6px";mxEvent.addListener($a$$,"click",$fn$jscomp$70_img$$);null!=$tip$$&&$a$$.setAttribute("title",$tip$$);$fn$jscomp$70_img$$=document.createElement("img");$fn$jscomp$70_img$$.setAttribute("border","0");$fn$jscomp$70_img$$.setAttribute("src",
$imgSrc$$);$fn$jscomp$70_img$$.style.width="18px";$fn$jscomp$70_img$$.className="geAdaptiveAsset";null==$enabled$$||$enabled$$?(mxEvent.addListener($a$$,"mouseenter",function(){$a$$.style.backgroundColor="#ddd"}),mxEvent.addListener($a$$,"mouseleave",function(){$a$$.style.backgroundColor="#eee"}),mxUtils.setOpacity($fn$jscomp$70_img$$,60),$a$$.style.cursor="pointer"):mxUtils.setOpacity($a$$,30);$a$$.appendChild($fn$jscomp$70_img$$);return $a$$};
GraphViewer.prototype.disableButton=function($token$$,$tooltip$$){var $def$$=this.graphConfig["toolbar-buttons"]?this.graphConfig["toolbar-buttons"][$token$$]:null;null!=$def$$&&(mxUtils.setOpacity($def$$.elem,30),mxEvent.removeListener($def$$.elem,"click",$def$$.handler),mxEvent.addListener($def$$.elem,"mouseenter",function(){$def$$.elem.style.backgroundColor="#eee"}),$tooltip$$&&$def$$.elem.setAttribute("title",$tooltip$$))};
GraphViewer.prototype.addClickHandler=function($graph$$,$ui$$){$graph$$.linkPolicy=this.graphConfig.target||$graph$$.linkPolicy;$graph$$.addClickHandler(this.graphConfig.highlight,mxUtils.bind(this,function($evt$$,$href$$,$associatedCell$$){if(null==$href$$)for(var $source$$=mxEvent.getSource($evt$$);$source$$!=$graph$$.container&&null!=$source$$&&null==$href$$;)"a"==$source$$.nodeName.toLowerCase()&&($href$$=$source$$.getAttribute("href")),$source$$=$source$$.parentNode;null!=$ui$$?null==$href$$||
$graph$$.isCustomLink($href$$)?mxEvent.consume($evt$$):$graph$$.isExternalProtocol($href$$)||$graph$$.isBlankLink($href$$)||window.setTimeout(function(){$ui$$.destroy()},0):null!=$href$$&&null==$ui$$&&$graph$$.isCustomLink($href$$)&&(mxEvent.isTouchEvent($evt$$)||!mxEvent.isPopupTrigger($evt$$))&&$graph$$.customLinkClicked($href$$,$associatedCell$$)&&(mxUtils.clearSelection(),mxEvent.consume($evt$$))}),mxUtils.bind(this,function($evt$$){if(null==$ui$$&&this.lightboxClickEnabled&&(!mxEvent.isTouchEvent($evt$$)||
0==this.toolbarItems.length))try{this.showLightbox()}catch($e$$){alert($e$$.message)}}))};
GraphViewer.prototype.showLightbox=function($editable$$,$closable$$,$param$jscomp$7_target$$){if("open"==this.graphConfig.lightbox||window.self!==window.top)if(null==this.lightboxWindow||this.lightboxWindow.closed){$editable$$=null!=$editable$$?$editable$$:null!=this.graphConfig.editable?this.graphConfig.editable:!0;$param$jscomp$7_target$$={client:1,target:null!=$param$jscomp$7_target$$?$param$jscomp$7_target$$:"blank"};$editable$$&&($param$jscomp$7_target$$.edit=this.graphConfig.edit||"_blank");
if(null!=$closable$$?$closable$$:1)$param$jscomp$7_target$$.close=1;this.layersEnabled&&($param$jscomp$7_target$$.layers=1);this.tagsEnabled&&($param$jscomp$7_target$$.tags={});null!=this.graphConfig&&0!=this.graphConfig.nav&&($param$jscomp$7_target$$.nav=1);null!=this.graphConfig&&null!=this.graphConfig.highlight&&($param$jscomp$7_target$$.highlight=this.graphConfig.highlight.substring(1));null!=this.currentPage&&0<this.currentPage&&($param$jscomp$7_target$$.page=this.currentPage);"undefined"!==
typeof window.postMessage&&(null==document.documentMode||10<=document.documentMode)?null==this.lightboxWindow&&mxEvent.addListener(window,"message",mxUtils.bind(this,function($evt$$){"ready"==$evt$$.data&&$evt$$.source==this.lightboxWindow&&this.lightboxWindow.postMessage(this.xml,"*")})):$param$jscomp$7_target$$.data=encodeURIComponent(this.xml);"1"==urlParams.dev&&($param$jscomp$7_target$$.dev="1");this.lightboxWindow=window.open(("1"!=urlParams.dev?EditorUi.lightboxHost:"https://test.draw.io")+
"/#P"+encodeURIComponent(JSON.stringify($param$jscomp$7_target$$)))}else this.lightboxWindow.focus();else this.showLocalLightbox()};
GraphViewer.prototype.showLocalLightbox=function($container$$){var $backdrop$$=document.createElement("div");$backdrop$$.style.cssText="position:fixed;top:0;left:0;bottom:0;right:0;";$backdrop$$.style.zIndex=this.lightboxZIndex;$backdrop$$.style.backgroundColor="#000000";mxUtils.setOpacity($backdrop$$,70);document.body.appendChild($backdrop$$);var $closeImg$$=document.createElement("img");$closeImg$$.setAttribute("border","0");$closeImg$$.setAttribute("src",Editor.closeBlackImage);$closeImg$$.style.cssText=
"position:fixed;top:32px;right:32px;";$closeImg$$.style.cursor="pointer";$closeImg$$.className="geAdaptiveAsset";mxEvent.addListener($closeImg$$,"click",function(){$ui$$.destroy()});urlParams.pages="1";urlParams.page=this.currentPage;urlParams["page-id"]=this.graphConfig.pageId;urlParams["layer-ids"]=null!=this.graphConfig.layerIds&&0<this.graphConfig.layerIds.length?this.graphConfig.layerIds.join(" "):null;urlParams.nav=0!=this.graphConfig.nav?"1":"0";urlParams.layers=this.layersEnabled?"1":"0";
this.tagsEnabled&&(urlParams.tags="{}");if(null!=$container$$)try{var $previousShadowId_toolbarConfig$$=JSON.parse(decodeURIComponent(urlParams["toolbar-config"]||"{}"));$previousShadowId_toolbarConfig$$.noCloseBtn=!0;urlParams["toolbar-config"]=encodeURIComponent(JSON.stringify($previousShadowId_toolbarConfig$$))}catch($e$$){}if(null==document.documentMode||10<=document.documentMode)Editor.prototype.editButtonLink=this.graphConfig.edit,Editor.prototype.editButtonFunc=this.graphConfig.editFunc;Editor.isDarkMode=
mxUtils.bind(this,function(){return this.darkMode});EditorUi.prototype.updateActionStates=function(){};EditorUi.prototype.addBeforeUnloadListener=function(){};EditorUi.prototype.addChromelessClickHandler=function(){};$previousShadowId_toolbarConfig$$=Graph.prototype.shadowId;Graph.prototype.shadowId="lightboxDropShadow";var $ui$$=new EditorUi(new Editor(!0),document.createElement("div"),!0);this.darkMode&&$ui$$.setDarkMode(!0);$ui$$.editor.editBlankUrl=this.editBlankUrl;$ui$$.editor.graph.shadowId=
"lightboxDropShadow";Graph.prototype.shadowId=$previousShadowId_toolbarConfig$$;$ui$$.refresh=function(){};var $keydownHandler$$=mxUtils.bind(this,function($evt$$){27==$evt$$.keyCode&&$ui$$.destroy()}),$overflow$$=this.initialOverflow,$destroy$$=$ui$$.destroy;$ui$$.destroy=function(){null==$container$$&&(mxEvent.removeListener(document.documentElement,"keydown",$keydownHandler$$),document.body.removeChild($backdrop$$),document.body.removeChild($closeImg$$),document.body.style.overflow=$overflow$$,
GraphViewer.resizeSensorEnabled=!0,$destroy$$.apply(this,arguments))};var $graph$$=$ui$$.editor.graph,$lightbox$$=$graph$$.container;$lightbox$$.style.overflow="hidden";this.lightboxChrome&&null==$container$$?($lightbox$$.style.border="1px solid #c0c0c0",$lightbox$$.style.margin="40px",mxEvent.addListener(document.documentElement,"keydown",$keydownHandler$$)):($backdrop$$.style.display="none",$closeImg$$.style.display="none");var $self$$=this;$graph$$.getImageFromBundles=function($key$$){return $self$$.getImageUrl($key$$)};
var $uiCreateTemporaryGraph$$=$ui$$.createTemporaryGraph;$ui$$.createTemporaryGraph=function(){var $newGraph$$=$uiCreateTemporaryGraph$$.apply(this,arguments);$newGraph$$.getImageFromBundles=function($key$$){return $self$$.getImageUrl($key$$)};return $newGraph$$};this.graphConfig.move&&($graph$$.isMoveCellsEvent=function($evt$$){return!0});mxUtils.setPrefixedStyle($lightbox$$.style,"border-radius","4px");$lightbox$$.style.position="fixed";GraphViewer.resizeSensorEnabled=!1;document.body.style.overflow=
"hidden";this.addClickHandler($graph$$,$ui$$);window.setTimeout(mxUtils.bind(this,function(){try{mxEvent.addListener($backdrop$$,"click",function(){$ui$$.destroy()}),$lightbox$$.style.outline="none",$lightbox$$.style.zIndex=this.lightboxZIndex,$closeImg$$.style.zIndex=this.lightboxZIndex,null!=$container$$?($container$$.innerHTML="",$container$$.appendChild($lightbox$$)):(document.body.appendChild($lightbox$$),document.body.appendChild($closeImg$$)),$ui$$.setFileData(this.xml),mxUtils.setPrefixedStyle($lightbox$$.style,
"transform","rotateY(0deg)"),$ui$$.chromelessToolbar.style.bottom="60px",$ui$$.chromelessToolbar.style.zIndex=this.lightboxZIndex,($container$$||document.body).appendChild($ui$$.chromelessToolbar),$ui$$.getEditBlankXml=mxUtils.bind(this,function(){return this.xml}),this.showLayers($graph$$,this.graph),$ui$$.lightboxFit(),$ui$$.chromelessResize()}catch($e$53$$){$ui$$.handleError($e$53$$,null,function(){$ui$$.destroy()})}}),0);return $ui$$};
Dialog.prototype.getDocumentSize=function(){return new mxRectangle(0,0,Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0))};
GraphViewer.prototype.updateTitle=function($title$$,$titleTooltip$$){$title$$=$title$$||"";this.showTitleAsTooltip&&null!=this.graph&&null!=this.graph.container&&this.graph.container.setAttribute("title",$titleTooltip$$||$title$$);null!=this.filename&&(this.filename.innerText="",mxUtils.write(this.filename,$title$$),this.filename.setAttribute("title",$titleTooltip$$||$title$$))};
GraphViewer.processElements=function($classname$$){mxUtils.forEach(GraphViewer.getElementsByClassName($classname$$||"mxgraph"),function($div$$){try{$div$$.innerText="",GraphViewer.createViewerForElement($div$$)}catch($e$$){$div$$.innerText=$e$$.message,null!=window.console&&console.error($e$$)}})};
GraphViewer.getElementsByClassName=function($classname$jscomp$2_result$$){if(document.getElementsByClassName){var $divs$$=document.getElementsByClassName($classname$jscomp$2_result$$);$classname$jscomp$2_result$$=[];for(var $i$$=0;$i$$<$divs$$.length;$i$$++)$classname$jscomp$2_result$$.push($divs$$[$i$$]);return $classname$jscomp$2_result$$}var $tmp$$=document.getElementsByTagName("*");$divs$$=[];for($i$$=0;$i$$<$tmp$$.length;$i$$++){var $cls_tokens$$=$tmp$$[$i$$].className;null!=$cls_tokens$$&&0<
$cls_tokens$$.length&&($cls_tokens$$=$cls_tokens$$.split(" "),0<=mxUtils.indexOf($cls_tokens$$,$classname$jscomp$2_result$$)&&$divs$$.push($tmp$$[$i$$]))}return $divs$$};
GraphViewer.createViewerForElement=function($element$$,$callback$$){var $data$$=$element$$.getAttribute("data-mxgraph");if(null!=$data$$){var $config$$=JSON.parse($data$$),$createViewer$$=function($viewer_xml$jscomp$53_xmlDoc$$){$viewer_xml$jscomp$53_xmlDoc$$=mxUtils.parseXml($viewer_xml$jscomp$53_xmlDoc$$);$viewer_xml$jscomp$53_xmlDoc$$=new GraphViewer($element$$,$viewer_xml$jscomp$53_xmlDoc$$.documentElement,$config$$);null!=$callback$$&&$callback$$($viewer_xml$jscomp$53_xmlDoc$$)};null!=$config$$.url?
GraphViewer.getUrl($config$$.url,function($xml$$){$createViewer$$($xml$$)}):$createViewer$$($config$$.xml)}};
GraphViewer.blockedAncestorFrames=function(){try{if(window.location.ancestorOrigins&&window.location.hostname&&window.location.ancestorOrigins.length&&0<window.location.ancestorOrigins.length){var $hostname$$=window.location.hostname;$hostname$$&&1<$hostname$$.length&&"/"==$hostname$$.charAt($hostname$$.length-1)&&($hostname$$=$hostname$$.substring(0,$hostname$$.length-1));for(var $message$$="",$i$$=0;$i$$<window.location.ancestorOrigins.length;$i$$++)if($message$$+=" -> "+window.location.ancestorOrigins[$i$$],
$message$$.endsWith(".appsplus.co")||$message$$.endsWith("confluence-cloud-excalidraw-ll3likebca-uc.a.run.app"))return!0;($hostname$$.endsWith("ac.draw.io")||$hostname$$.endsWith("aj.draw.io"))&&1==window.location.ancestorOrigins.length&&window.location.ancestorOrigins[0]&&window.location.ancestorOrigins[0].endsWith(".atlassian.net")}}catch($e$$){}return!1};
GraphViewer.initCss=function(){try{var $style$$=document.createElement("style");$style$$.type="text/css";$style$$.innerHTML=".geDarkMode {\nfilter: invert(93%) hue-rotate(180deg);\nbackground-color: transparent;}\n.geDarkMode image, .geDarkMode img:not(.geAdaptiveAsset) {\nfilter: invert(100%) hue-rotate(180deg) saturate(1.25);}\ndiv.mxTooltip {\n-webkit-box-shadow: 3px 3px 12px #C0C0C0;\n-moz-box-shadow: 3px 3px 12px #C0C0C0;\nbox-shadow: 3px 3px 12px #C0C0C0;\nbackground: #FFFFCC;\nborder-style: solid;\nborder-width: 1px;\nborder-color: black;\nfont-family: Arial;\nfont-size: 8pt;\nposition: absolute;\ncursor: default;\npadding: 4px;\ncolor: black;}\ntd.mxPopupMenuIcon div {\nwidth:16px;\nheight:16px;}\nhtml div.mxPopupMenu {\n-webkit-box-shadow:2px 2px 3px #d5d5d5;\n-moz-box-shadow:2px 2px 3px #d5d5d5;\nbox-shadow:2px 2px 3px #d5d5d5;\n_filter:progid:DXImageTransform.Microsoft.DropShadow(OffX=2, OffY=2, Color='#d0d0d0',Positive='true');\nbackground:white;\nposition:absolute;\nborder:3px solid #e7e7e7;\npadding:3px;}\nhtml table.mxPopupMenu {\nborder-collapse:collapse;\nmargin:0px;}\nhtml td.mxPopupMenuItem {\npadding:7px 30px 7px 30px;\nfont-family:Helvetica Neue,Helvetica,Arial Unicode MS,Arial;\nfont-size:10pt;}\nhtml td.mxPopupMenuIcon {\nbackground-color:white;\npadding:0px;}\ntd.mxPopupMenuIcon .geIcon {\npadding:2px;\npadding-bottom:4px;\nmargin:2px;\nborder:1px solid transparent;\nopacity:0.5;\n_width:26px;\n_height:26px;}\ntd.mxPopupMenuIcon .geIcon:hover {\nborder:1px solid gray;\nborder-radius:2px;\nopacity:1;}\nhtml tr.mxPopupMenuItemHover {\nbackground-color: #eeeeee;\ncolor: black;}\ntable.mxPopupMenu hr {\ncolor:#cccccc;\nbackground-color:#cccccc;\nborder:none;\nheight:1px;}\ntable.mxPopupMenu tr {\tfont-size:4pt;}\n.geDialog, .geDialog table { font-family:Helvetica Neue,Helvetica,Arial Unicode MS,Arial;\nfont-size:10pt;\nborder:none;\nmargin:0px;}\n.geDialog {\tposition:absolute;\tbackground:white;\toverflow:hidden;\tpadding:30px;\tborder:1px solid #acacac;\t-webkit-box-shadow:0px 0px 2px 2px #d5d5d5;\t-moz-box-shadow:0px 0px 2px 2px #d5d5d5;\tbox-shadow:0px 0px 2px 2px #d5d5d5;\t_filter:progid:DXImageTransform.Microsoft.DropShadow(OffX=2, OffY=2, Color='#d5d5d5', Positive='true');\tz-index: 2;}.geDialogClose {\tposition:absolute;\twidth:9px;\theight:9px;\topacity:0.5;\tcursor:pointer;\t_filter:alpha(opacity=50);}.geDialogClose:hover {\topacity:1;}.geDialogTitle {\tbox-sizing:border-box;\twhite-space:nowrap;\tbackground:rgb(229, 229, 229);\tborder-bottom:1px solid rgb(192, 192, 192);\tfont-size:15px;\tfont-weight:bold;\ttext-align:center;\tcolor:rgb(35, 86, 149);}.geDialogFooter {\tbackground:whiteSmoke;\twhite-space:nowrap;\ttext-align:right;\tbox-sizing:border-box;\tborder-top:1px solid #e5e5e5;\tcolor:darkGray;}\n.geBtn {\tbackground-color: #f5f5f5;\tborder-radius: 2px;\tborder: 1px solid #d8d8d8;\tcolor: #333;\tcursor: default;\tfont-size: 11px;\tfont-weight: bold;\theight: 29px;\tline-height: 27px;\tmargin: 0 0 0 8px;\tmin-width: 72px;\toutline: 0;\tpadding: 0 8px;\tcursor: pointer;}.geBtn:hover, .geBtn:focus {\t-webkit-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);\t-moz-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);\tbox-shadow: 0px 1px 1px rgba(0,0,0,0.1);\tborder: 1px solid #c6c6c6;\tbackground-color: #f8f8f8;\tbackground-image: linear-gradient(#f8f8f8 0px,#f1f1f1 100%);\tcolor: #111;}.geBtn:disabled {\topacity: .5;}.gePrimaryBtn {\tbackground-color: #4d90fe;\tbackground-image: linear-gradient(#4d90fe 0px,#4787ed 100%);\tborder: 1px solid #3079ed;\tcolor: #fff;}.gePrimaryBtn:hover, .gePrimaryBtn:focus {\tbackground-color: #357ae8;\tbackground-image: linear-gradient(#4d90fe 0px,#357ae8 100%);\tborder: 1px solid #2f5bb7;\tcolor: #fff;}.gePrimaryBtn:disabled {\topacity: .5;}";GraphViewer.blockedAncestorFrames()||
document.getElementsByTagName("head")[0].appendChild($style$$)}catch($e$$){}};GraphViewer.cachedUrls={};
GraphViewer.getUrl=function($url$$,$onload$$,$onerror$$){if(null!=GraphViewer.cachedUrls[$url$$])$onload$$(GraphViewer.cachedUrls[$url$$]);else{var $xhr$$=null!=navigator.userAgent&&0<navigator.userAgent.indexOf("MSIE 9")?new XDomainRequest:new XMLHttpRequest;$xhr$$.open("GET",$url$$);$xhr$$.onload=function(){$onload$$(null!=$xhr$$.getText?$xhr$$.getText():$xhr$$.responseText)};$xhr$$.onerror=$onerror$$;$xhr$$.send()}};GraphViewer.resizeSensorEnabled=!0;GraphViewer.useResizeObserver=!0;
GraphViewer.useResizeSensor=!0;
(function(){var $requestAnimationFrame$$=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function($fn$$){return window.setTimeout($fn$$,20)},$ResizeSensor$$=function($element$jscomp$0$$,$fn$$){function $EventQueue$$(){this.q=[];this.add=function($ev$$){this.q.push($ev$$)};var $i$$,$j$$;this.call=function(){$i$$=0;for($j$$=this.q.length;$i$$<$j$$;$i$$++)this.q[$i$$].call()}}function $getComputedStyle$$($element$$,$prop$$){return $element$$.currentStyle?$element$$.currentStyle[$prop$$]:
window.getComputedStyle?window.getComputedStyle($element$$,null).getPropertyValue($prop$$):$element$$.style[$prop$$]}function $attachResizeEvent$$($element$$,$onScroll_resized$$){if(!$element$$.resizedAttached)$element$$.resizedAttached=new $EventQueue$$,$element$$.resizedAttached.add($onScroll_resized$$);else if($element$$.resizedAttached){$element$$.resizedAttached.add($onScroll_resized$$);return}$element$$.resizeSensor=document.createElement("div");$element$$.resizeSensor.className="resize-sensor";
$element$$.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";$element$$.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
$element$$.appendChild($element$$.resizeSensor);"static"==$getComputedStyle$$($element$$,"position")&&($element$$.style.position="relative");var $expand$$=$element$$.resizeSensor.childNodes[0],$expandChild$$=$expand$$.childNodes[0],$shrink$$=$element$$.resizeSensor.childNodes[1],$reset$$=function(){$expandChild$$.style.width="100000px";$expandChild$$.style.height="100000px";$expand$$.scrollLeft=1E5;$expand$$.scrollTop=1E5;$shrink$$.scrollLeft=1E5;$shrink$$.scrollTop=1E5};$reset$$();var $dirty$$=!1,
$dirtyChecking$$=function(){$element$$.resizedAttached&&($dirty$$&&($element$$.resizedAttached.call(),$dirty$$=!1),$requestAnimationFrame$$($dirtyChecking$$))};$requestAnimationFrame$$($dirtyChecking$$);var $lastWidth$$,$lastHeight$$,$cachedWidth$$,$cachedHeight$$;$onScroll_resized$$=function(){if(($cachedWidth$$=$element$$.offsetWidth)!=$lastWidth$$||($cachedHeight$$=$element$$.offsetHeight)!=$lastHeight$$)$dirty$$=!0,$lastWidth$$=$cachedWidth$$,$lastHeight$$=$cachedHeight$$;$reset$$()};var $addEvent$$=
function($el$$,$name$$,$cb$$){$el$$.attachEvent?$el$$.attachEvent("on"+$name$$,$cb$$):$el$$.addEventListener($name$$,$cb$$)};$addEvent$$($expand$$,"scroll",$onScroll_resized$$);$addEvent$$($shrink$$,"scroll",$onScroll_resized$$)}var $callback$$=function(){GraphViewer.resizeSensorEnabled&&$fn$$()};if(GraphViewer.useResizeObserver&&"undefined"!==typeof ResizeObserver){var $callbackThread$$=null,$active$$=!1;(new ResizeObserver(function(){$active$$||(null!=$callbackThread$$&&window.clearTimeout($callbackThread$$),
$callbackThread$$=window.setTimeout(function(){$active$$=!0;$callback$$();$callbackThread$$=null;$active$$=!1},200))})).observe($element$jscomp$0$$)}else{var $elementType_i$$=Object.prototype.toString.call($element$jscomp$0$$),$isCollectionTyped$$="[object Array]"===$elementType_i$$||"[object NodeList]"===$elementType_i$$||"[object HTMLCollection]"===$elementType_i$$||"undefined"!==typeof jQuery&&$element$jscomp$0$$ instanceof jQuery||"undefined"!==typeof Elements&&$element$jscomp$0$$ instanceof Elements;
if($isCollectionTyped$$){$elementType_i$$=0;for(var $j$jscomp$0$$=$element$jscomp$0$$.length;$elementType_i$$<$j$jscomp$0$$;$elementType_i$$++)$attachResizeEvent$$($element$jscomp$0$$[$elementType_i$$],$callback$$)}else $attachResizeEvent$$($element$jscomp$0$$,$callback$$);this.detach=function(){if($isCollectionTyped$$)for(var $i$$=0,$j$$=$element$jscomp$0$$.length;$i$$<$j$$;$i$$++)$ResizeSensor$$.detach($element$jscomp$0$$[$i$$]);else $ResizeSensor$$.detach($element$jscomp$0$$)}}};$ResizeSensor$$.detach=
function($element$$){$element$$.resizeSensor&&($element$$.removeChild($element$$.resizeSensor),delete $element$$.resizeSensor,delete $element$$.resizedAttached)};window.ResizeSensor=$ResizeSensor$$})();
(function(){Editor.initMath();GraphViewer.initCss();if(null!=window.onDrawioViewerLoad)window.onDrawioViewerLoad();else GraphViewer.processElements()})();
